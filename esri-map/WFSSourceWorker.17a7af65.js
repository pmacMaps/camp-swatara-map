!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var n=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;n.register("6XQc0",(function(r,a){var i;i=r.exports,Object.defineProperty(i,"__esModule",{value:!0,configurable:!0}),t(r.exports,"default",(function(){return _}));var o=n("8TSCy"),u=n("2TvXO"),s=n("kyj08"),l=n("jHOLN"),c=n("7qybv"),h=n("10vEZ"),f=n("eY5Yp"),d=n("akQYU"),v=n("73BcH"),m=n("fP7bp"),p=n("f3b5K"),y=n("4shxe"),x=n("5JzQt"),g=n("gYOhP"),b=n("4nMX7"),_=function(){"use strict";function t(){o.classCallCheck(this,t);var n,r=this;this._queryEngine=null,this._customParameters=null,this._snapshotFeatures=(n=o.asyncToGenerator(e(u).mark((function t(n){var a,i,o,s,l,v,p,b,_,I,k,w,S,M,T,C,B,F;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r._queryEngine,i=a.objectIdField,e.next=4,(0,g.getFeature)(r._getFeatureUrl,r._featureType.typeName,r._getFeatureOutputFormat,{customParameters:r._customParameters,dateFields:r._queryEngine.fieldsIndex.dateFields.map((function(e){return e.name})),signal:n});case 4:return o=e.sent,e.next=7,(0,y.validateGeoJSON)(o);case 7:if((0,h.throwIfAborted)(n),s=(0,y.createOptimizedFeatures)(o,{geometryType:r._queryEngine.geometryType,hasZ:!1,objectIdField:i}),l=!0,v=!1,p=void 0,(0,f.equals)(r._queryEngine.spatialReference,f.WGS84)){e.next=27;break}for(e.prev=11,b=s[Symbol.iterator]();!(l=(_=b.next()).done);l=!0)I=_.value,(0,c.isSome)(I.geometry)&&(I.geometry=(0,d.convertFromGeometry)((0,m.project)((0,d.convertToGeometry)(I.geometry,r._queryEngine.geometryType,!1,!1),f.WGS84,r._queryEngine.spatialReference)));e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),v=!0,p=e.t0;case 19:e.prev=19,e.prev=20,l||null==b.return||b.return();case 22:if(e.prev=22,!v){e.next=25;break}throw p;case 25:return e.finish(22);case 26:return e.finish(19);case 27:for(k=1,w=!0,S=!1,M=void 0,e.prev=29,T=s[Symbol.iterator]();!(w=(C=T.next()).done);w=!0)B=C.value,F={},(0,x.mixAttributes)(r._fieldsIndex,F,B.attributes,!0),B.attributes=F,null==B.attributes[i]&&(B.objectId=B.attributes[i]=k++);e.next=37;break;case 33:e.prev=33,e.t1=e.catch(29),S=!0,M=e.t1;case 37:e.prev=37,e.prev=38,w||null==T.return||T.return();case 40:if(e.prev=40,!S){e.next=43;break}throw M;case 43:return e.finish(40);case 44:return e.finish(37);case 45:return e.abrupt("return",s);case 46:case"end":return e.stop()}}),t,null,[[11,15,19,27],[20,,22,26],[29,33,37,45],[38,,40,44]])}))),function(e){return n.apply(this,arguments)})}return o.createClass(t,[{key:"destroy",value:function(){var e;null==(e=this._queryEngine)||e.destroy(),this._queryEngine=null}},{key:"load",value:function(t,n){var r=this;return o.asyncToGenerator(e(u).mark((function a(){var i,o,s,l,f,d,m,y,x;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.getFeatureUrl,o=t.getFeatureOutputFormat,s=t.spatialReference,l=t.fields,f=t.geometryType,d=t.featureType,m=t.objectIdField,y=t.customParameters,r._featureType=d,r._customParameters=y,r._getFeatureUrl=i,r._getFeatureOutputFormat=o,r._fieldsIndex=new(0,b.default)(l),e.next=8,r._checkProjection(s);case 8:return(0,h.throwIfAborted)(n),r._queryEngine=new(0,p.default)({fields:l,geometryType:f,hasM:!1,hasZ:!1,objectIdField:m,spatialReference:s,timeInfo:null,featureStore:new(0,v.default)({geometryType:f,hasM:!1,hasZ:!1})}),e.next=12,r._snapshotFeatures((0,c.unwrap)(n.signal));case 12:return x=e.sent,e.abrupt("return",(r._queryEngine.featureStore.addMany(x),{extent:r._queryEngine.fullExtent}));case 14:case"end":return e.stop()}}),a)})))()}},{key:"applyEdits",value:function(){return o.asyncToGenerator(e(u).mark((function t(){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new(0,s.default)("wfs-source:editing-not-supported","applyEdits() is not supported on WFSLayer");case 1:case"end":return e.stop()}}),t)})))()}},{key:"queryFeatures",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return o.asyncToGenerator(e(u).mark((function a(){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._waitSnapshotComplete();case 2:return e.abrupt("return",(e.sent,r._queryEngine.executeQuery(t,n.signal)));case 3:case"end":return e.stop()}}),a)})))()}},{key:"queryFeatureCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return o.asyncToGenerator(e(u).mark((function a(){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._waitSnapshotComplete();case 2:return e.abrupt("return",(e.sent,r._queryEngine.executeQueryForCount(t,n.signal)));case 3:case"end":return e.stop()}}),a)})))()}},{key:"queryObjectIds",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return o.asyncToGenerator(e(u).mark((function a(){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._waitSnapshotComplete();case 2:return e.abrupt("return",(e.sent,r._queryEngine.executeQueryForIds(t,n.signal)));case 3:case"end":return e.stop()}}),a)})))()}},{key:"queryExtent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return o.asyncToGenerator(e(u).mark((function a(){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._waitSnapshotComplete();case 2:return e.abrupt("return",(e.sent,r._queryEngine.executeQueryForExtent(t,n.signal)));case 3:case"end":return e.stop()}}),a)})))()}},{key:"querySnapping",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return o.asyncToGenerator(e(u).mark((function a(){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._waitSnapshotComplete();case 2:return e.abrupt("return",(e.sent,r._queryEngine.executeQueryForSnapping(t,n.signal)));case 3:case"end":return e.stop()}}),a)})))()}},{key:"refresh",value:function(t){var n=this;return o.asyncToGenerator(e(u).mark((function r(){var a;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n._customParameters=t,null==(a=n._snapshotTask)||a.abort(),n._snapshotTask=(0,h.createTask)(n._snapshotFeatures),n._snapshotTask.promise.then((function(e){n._queryEngine.featureStore.clear(),e&&n._queryEngine.featureStore.addMany(e)}),(function(e){n._queryEngine.featureStore.clear(),(0,h.isAbortError)(e)||l.default.getLogger("esri.layers.WFSLayer").error(new(0,s.default)("wfs-layer:getfeature-error","An error occurred during the GetFeature request",{error:e}))})),e.next=7,n._waitSnapshotComplete();case 7:return e.abrupt("return",(e.sent,{extent:n._queryEngine.fullExtent}));case 8:case"end":return e.stop()}}),r)})))()}},{key:"_waitSnapshotComplete",value:function(){var t=this;return o.asyncToGenerator(e(u).mark((function n(){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._snapshotTask||t._snapshotTask.finished){e.next=9;break}return e.prev=1,e.next=4,t._snapshotTask.promise;case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.abrupt("return",t._waitSnapshotComplete());case 9:case"end":return e.stop()}}),n,null,[[1,6]])})))()}},{key:"_checkProjection",value:function(t){return o.asyncToGenerator(e(u).mark((function n(){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m.checkProjectionSupport)(f.WGS84,t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new(0,s.default)("unsupported-projection","Projection not supported",{spatialReference:t});case 8:case"end":return e.stop()}}),n,null,[[0,5]])})))()}}]),t}()})),n.register("73BcH",(function(e,r){t(e.exports,"default",(function(){return v}));var a=n("8TSCy"),i=n("kyj08"),o=n("amfHf"),u=n("jHOLN"),s=n("7qybv"),l=n("ayLat"),c=n("8TwEW"),h=n("akQYU"),f=n("1ZPLr"),d=n("1zB3R"),v=function(){"use strict";function e(t){a.classCallCheck(this,e),this.geometryInfo=t,this._boundsStore=new(0,f.BoundsStore),this._featuresById=new Map,this._markedIds=new Set,this.events=new(0,o.default),this.featureAdapter=d.optimizedFeatureQueryEngineAdapter}return a.createClass(e,[{key:"geometryType",get:function(){return this.geometryInfo.geometryType}},{key:"hasM",get:function(){return this.geometryInfo.hasM}},{key:"hasZ",get:function(){return this.geometryInfo.hasZ}},{key:"numFeatures",get:function(){return this._featuresById.size}},{key:"fullBounds",get:function(){var e=this;if(!this.numFeatures)return null;var t=(0,c.create)(c.NEGATIVE_INFINITY);return this._featuresById.forEach((function(n){var r=e._boundsStore.get(n.objectId);r&&(t[0]=Math.min(r[0],t[0]),t[1]=Math.min(r[1],t[1]),t[2]=Math.max(r[2],t[2]),t[3]=Math.max(r[3],t[3]))})),t}},{key:"storeStatistics",get:function(){var e=0;return this._featuresById.forEach((function(t){(0,s.isSome)(t.geometry)&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}},{key:"add",value:function(e){this._add(e),this._emitChanged()}},{key:"addMany",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;this._add(o)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}this._emitChanged()}},{key:"clear",value:function(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}},{key:"removeById",value:function(e){var t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}},{key:"removeManyById",value:function(e){this._boundsStore.invalidateIndex();var t=!0,n=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value,u=this._featuresById.get(o);u&&this._remove(u)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}this._emitChanged()}},{key:"forEachBounds",value:function(e,t,n){var r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value,c=this._boundsStore.get(s.objectId);c&&t((0,l.fromRect)(n,c))}}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}}},{key:"getFeature",value:function(e){return this._featuresById.get(e)}},{key:"has",value:function(e){return this._featuresById.has(e)}},{key:"forEach",value:function(e){this._featuresById.forEach((function(t){return e(t)}))}},{key:"forEachInBounds",value:function(e,t){var n=this;this._boundsStore.forEachInBounds(e,(function(e){t(n._featuresById.get(e))}))}},{key:"startMarkingUsedFeatures",value:function(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}},{key:"sweep",value:function(){var e=this,t=!1;this._featuresById.forEach((function(n,r){e._markedIds.has(r)||(t=!0,e._remove(n))})),this._markedIds.clear(),t&&this._emitChanged()}},{key:"_emitChanged",value:function(){this.events.emit("changed",void 0)}},{key:"_add",value:function(e){if(e){var t=e.objectId;if(null!=t){var n,r=this._featuresById.get(t);if(this._markedIds.add(t),r?(e.displayId=r.displayId,n=this._boundsStore.get(t),this._boundsStore.delete(t)):(0,s.isSome)(this.onFeatureAdd)&&this.onFeatureAdd(e),(0,s.isNone)(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)return this._boundsStore.set(t,null),void this._featuresById.set(t,e);n=(0,h.getBoundsOptimizedGeometry)((0,s.isSome)(n)?n:(0,c.create)(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),(0,s.isSome)(n)&&this._boundsStore.set(t,n),this._featuresById.set(t,e)}else u.default.getLogger("esri.layers.graphics.data.FeatureStore").error(new(0,i.default)("featurestore:invalid-feature","feature id is missing",{feature:e}))}}},{key:"_remove",value:function(e){return(0,s.isSome)(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e}}]),e}()})),n.register("1ZPLr",(function(e,r){t(e.exports,"BoundsStore",(function(){return s}));var a=n("8TSCy"),i=n("2VlWd"),o=n("bWAZj"),u={minX:0,minY:0,maxX:0,maxY:0};var s=function(){"use strict";function e(){var t=this;a.classCallCheck(this,e),this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new(0,o.PooledRBush)(9,(0,i.default)("esri-csp-restrictions")?function(e){return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}}:["[0]","[1]","[2]","[3]"]),this._loadIndex=function(){var e=t;if(t._indexInvalid){var n=new Array(t._idByBounds.size),r=0;t._idByBounds.forEach((function(e,t){n[r++]=t})),t._indexInvalid=!1,t._index.clear(),t._index.load(n)}else t._boundsToLoad.length&&(t._index.load(t._boundsToLoad.filter((function(t){return e._idByBounds.has(t)}))),t._boundsToLoad.length=0)}}return a.createClass(e,[{key:"clear",value:function(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}},{key:"delete",value:function(e){var t=this._boundsById.get(e);this._boundsById.delete(e),t&&(this._idByBounds.delete(t),this._indexInvalid||this._index.remove(t))}},{key:"forEachInBounds",value:function(e,t){var n,r,a,i=this;this._loadIndex(),n=this._index,r=e,a=function(e){return t(i._idByBounds.get(e))},u.minX=r[0],u.minY=r[1],u.maxX=r[2],u.maxY=r[3],n.search(u,a)}},{key:"get",value:function(e){return this._boundsById.get(e)}},{key:"has",value:function(e){return this._boundsById.has(e)}},{key:"invalidateIndex",value:function(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}},{key:"set",value:function(e,t){if(!this._indexInvalid){var n=this._boundsById.get(e);n&&(this._index.remove(n),this._idByBounds.delete(n))}this._boundsById.set(e,t),t&&(this._idByBounds.set(t,e),this._indexInvalid||(this._boundsToLoad.push(t),this._boundsToLoad.length>5e4&&this._loadIndex()))}}]),e}()})),n.register("bWAZj",(function(e,r){t(e.exports,"PooledRBush",(function(){return l}));var a=n("8TSCy"),i=n("lNwWH"),o=n("7qybv"),u=n("6v7Z0"),s=n("fcGl2"),l=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments.length>1?arguments[1]:void 0;a.classCallCheck(this,e),this.compareMinX=d,this.compareMinY=v,this._toBBox=function(e){return e},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&("function"==typeof n?this._toBBox=n:this._initFormat(n)),this.clear()}return a.createClass(e,[{key:"destroy",value:function(){this.clear(),_.prune(),I.prune(),k.prune(),w.prune()}},{key:"all",value:function(e){this._all(this.data,e)}},{key:"search",value:function(e,t){var n=this.data,r=this._toBBox;if(g(e,n))for(_.clear();n;){for(var a=0,i=n.children.length;a<i;a++){var o=n.children[a],u=n.leaf?r(o):o;g(e,u)&&(n.leaf?t(o):x(e,u)?this._all(o,t):_.push(o))}n=_.pop()}}},{key:"collides",value:function(e){var t=this.data,n=this._toBBox;if(!g(e,t))return!1;for(_.clear();t;){for(var r=0,a=t.children.length;r<a;r++){var i=t.children[r],o=t.leaf?n(i):i;if(g(e,o)){if(t.leaf||x(e,o))return!0;_.push(i)}}t=_.pop()}return!1}},{key:"load",value:function(e){if(!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(0,e.length),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var a=this.data;this.data=r,r=a}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this}},{key:"insert",value:function(e){return e&&this._insert(e,this.data.height-1),this}},{key:"clear",value:function(){return this.data=new M([]),this}},{key:"remove",value:function(e){if(!e)return this;var t,n=this.data,r=null,a=0,u=!1,s=this._toBBox(e);for(k.clear(),w.clear();n||k.length>0;){var l;if(n||(n=(0,o.assumeNonNull)(k.pop()),r=k.data[k.length-1],a=null!=(l=w.pop())?l:0,u=!0),n.leaf&&-1!==(t=(0,i.indexOf)(n.children,e,n.children.length,n.indexHint)))return n.children.splice(t,1),k.push(n),this._condense(k),this;u||n.leaf||!x(n,s)?r?(a++,n=r.children[a],u=!1):n=null:(k.push(n),w.push(a),a=0,r=n,n=n.children[0])}return this}},{key:"toJSON",value:function(){return this.data}},{key:"fromJSON",value:function(e){return this.data=e,this}},{key:"_all",value:function(e,t){var n=e;for(I.clear();n;){var r,a=!0,i=!1,o=void 0;if(!0===n.leaf)try{for(var u,s=n.children[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){t(u.value)}}catch(e){i=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}else I.pushArray(n.children);n=null!=(r=I.pop())?r:null}}},{key:"_build",value:function(e,t,n,r){var a=n-t+1,i=this._maxEntries;if(a<=i){var o=new M(e.slice(t,n+1));return c(o,this._toBBox),o}r||(r=Math.ceil(Math.log(a)/Math.log(i)),i=Math.ceil(a/Math.pow(i,r-1)));var u=new T([]);u.height=r;var s=Math.ceil(a/i),l=s*Math.ceil(Math.sqrt(i));b(e,t,n,l,this.compareMinX);for(var h=t;h<=n;h+=l){var f=Math.min(h+l-1,n);b(e,h,f,s,this.compareMinY);for(var d=h;d<=f;d+=s){var v=Math.min(d+s-1,f);u.children.push(this._build(e,d,v,r-1))}}return c(u,this._toBBox),u}},{key:"_chooseSubtree",value:function(e,t,n,r){for(;r.push(t),!0!==t.leaf&&r.length-1!==n;){for(var a=void 0,i=1/0,o=1/0,u=0,s=t.children.length;u<s;u++){var l=t.children[u],c=m(l),h=(f=e,d=l,(Math.max(d.maxX,f.maxX)-Math.min(d.minX,f.minX))*(Math.max(d.maxY,f.maxY)-Math.min(d.minY,f.minY))-c);h<o?(o=h,i=c<i?c:i,a=l):h===o&&c<i&&(i=c,a=l)}t=a||t.children[0]}var f,d;return t}},{key:"_insert",value:function(e,t,n){var r=this._toBBox,a=n?e:r(e);k.clear();var i=this._chooseSubtree(a,this.data,t,k);for(i.children.push(e),f(i,a);t>=0&&k.data[t].children.length>this._maxEntries;)this._split(k,t),t--;this._adjustParentBBoxes(a,k,t)}},{key:"_split",value:function(e,t){var n=e.data[t],r=n.children.length,a=this._minEntries;this._chooseSplitAxis(n,a,r);var i=this._chooseSplitIndex(n,a,r);if(i){var o=n.children.splice(i,n.children.length-i),u=n.leaf?new M(o):new T(o);u.height=n.height,c(n,this._toBBox),c(u,this._toBBox),t?e.data[t-1].children.push(u):this._splitRoot(n,u)}else console.log("  Error: assertion failed at PooledRBush._split: no valid split index")}},{key:"_splitRoot",value:function(e,t){this.data=new T([e,t]),this.data.height=e.height+1,c(this.data,this._toBBox)}},{key:"_chooseSplitIndex",value:function(e,t,n){var r,a,i;r=a=1/0;for(var o=t;o<=n-t;o++){var u=h(e,0,o,this._toBBox),s=h(e,o,n,this._toBBox),l=y(u,s),c=m(u)+m(s);l<r?(r=l,i=o,a=c<a?c:a):l===r&&c<a&&(a=c,i=o)}return i}},{key:"_chooseSplitAxis",value:function(e,t,n){var r=e.leaf?this.compareMinX:d,a=e.leaf?this.compareMinY:v;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,a)&&e.children.sort(r)}},{key:"_allDistMargin",value:function(e,t,n,r){e.children.sort(r);for(var a=this._toBBox,i=h(e,0,t,a),o=h(e,n-t,n,a),u=p(i)+p(o),s=t;s<n-t;s++){var l=e.children[s];f(i,e.leaf?a(l):l),u+=p(i)}for(var c=n-t-1;c>=t;c--){var d=e.children[c];f(o,e.leaf?a(d):d),u+=p(o)}return u}},{key:"_adjustParentBBoxes",value:function(e,t,n){for(var r=n;r>=0;r--)f(t.data[r],e)}},{key:"_condense",value:function(e){for(var t=e.length-1;t>=0;t--){var n=e.data[t];if(0===n.children.length)if(t>0){var r=e.data[t-1],a=r.children;a.splice((0,i.indexOf)(a,n,a.length,r.indexHint),1)}else this.clear();else c(n,this._toBBox)}}},{key:"_initFormat",value:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this._toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}]),e}();function c(e,t){h(e,0,e.children.length,t,e)}function h(e,t,n,r,a){a||(a=new M([])),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(var i,o=t;o<n;o++)i=e.children[o],f(a,e.leaf?r(i):i);return a}function f(e,t){e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY)}function d(e,t){return e.minX-t.minX}function v(e,t){return e.minY-t.minY}function m(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function p(e){return e.maxX-e.minX+(e.maxY-e.minY)}function y(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),a=Math.min(e.maxX,t.maxX),i=Math.min(e.maxY,t.maxY);return Math.max(0,a-n)*Math.max(0,i-r)}function x(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function g(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function b(e,t,n,r,a){for(var i=[t,n];i.length;){var u=(0,o.assumeNonNull)(i.pop()),l=(0,o.assumeNonNull)(i.pop());if(!(u-l<=r)){var c=l+Math.ceil((u-l)/r/2)*r;(0,s.q)(e,c,l,u,a),i.push(l,c,c,u)}}}var _=new(0,u.default),I=new(0,u.default),k=new(0,u.default),w=new(0,u.default)({deallocator:void 0}),S=function(e){"use strict";a.inherits(n,e);var t=a.createSuper(n);function n(){var e;return a.classCallCheck(this,n),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).height=1,e.indexHint=new(0,i.PositionHint),a.possibleConstructorReturn(e)}return n}((function e(){"use strict";a.classCallCheck(this,e),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0})),M=function(e){"use strict";a.inherits(n,e);var t=a.createSuper(n);function n(e){var r;return a.classCallCheck(this,n),(r=t.call(this)).children=e,r.leaf=!0,a.possibleConstructorReturn(r)}return n}(S),T=function(e){"use strict";a.inherits(n,e);var t=a.createSuper(n);function n(e){var r;return a.classCallCheck(this,n),(r=t.call(this)).children=e,r.leaf=!1,a.possibleConstructorReturn(r)}return n}(S)})),n.register("1zB3R",(function(e,r){t(e.exports,"optimizedFeatureQueryEngineAdapter",(function(){return s}));var a=n("7qybv"),i=n("8mTF7"),o=n("ft2bT"),u=n("awxBI"),s={getObjectId:function(e){return e.objectId},getAttributes:function(e){return e.attributes},getAttribute:function(e,t){return e.attributes[t]},cloneWithGeometry:function(e,t){return new(0,o.OptimizedFeature)(t,e.attributes,null,e.objectId)},getGeometry:function(e){return e.geometry},getCentroid:function(e,t){return(0,a.isNone)(e.centroid)&&(e.centroid=(0,i.getCentroidOptimizedGeometry)(new(0,u.default),e.geometry,t.hasZ,t.hasM)),e.centroid}}})),n.register("8mTF7",(function(e,r){t(e.exports,"getCentroidOptimizedGeometry",(function(){return o}));var a=n("7qybv");function i(e,t){return e?t?4:3:t?3:2}function o(e,t,n,r,o){if((0,a.isNone)(t)||!t.lengths.length)return null;var f="upperLeft"===(null==o?void 0:o.originPosition)?-1:1;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);var d=e.coords,v=[],m=n?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],p=t.lengths,y=t.coords,x=i(n,r),g=0,b=!0,_=!1,I=void 0;try{for(var k,w=p[Symbol.iterator]();!(b=(k=w.next()).done);b=!0){var S=k.value,M=u(m,y,g,S,n,r,f);M&&v.push(M),g+=S*x}}catch(e){_=!0,I=e}finally{try{b||null==w.return||w.return()}finally{if(_)throw I}}if(v.sort((function(e,t){var r=f*e[2]-f*t[2];return 0===r&&n&&(r=e[4]-t[4]),r})),v.length){var T=6*v[0][2];d[0]=v[0][0]/T,d[1]=v[0][1]/T,n&&(T=6*v[0][4],d[2]=0!==T?v[0][3]/T:0),(d[0]<m[0]||d[0]>m[1]||d[1]<m[2]||d[1]>m[3]||n&&(d[2]<m[4]||d[2]>m[5]))&&(d.length=0)}if(!d.length){var C=t.lengths[0]?function(e,t,n,r,a){for(var o=i(r,a),u=t,f=t+o,d=0,v=0,m=0,p=0,y=0,x=n-1;y<x;y++,u+=o,f+=o){var g=e[u],b=e[u+1],_=e[u+2],I=e[f],k=e[f+1],w=e[f+2],S=r?l(g,b,_,I,k,w):s(g,b,I,k);if(S)if(d+=S,r){var M=h(g,b,_,I,k,w);v+=S*M[0],m+=S*M[1],p+=S*M[2]}else{var T=c(g,b,I,k);v+=S*T[0],m+=S*T[1]}}return d>0?r?[v/d,m/d,p/d]:[v/d,m/d]:n>0?r?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}(y,0,p[0],n,r):null;if(!C)return null;d[0]=C[0],d[1]=C[1],n&&C.length>2&&(d[2]=C[2])}return e}function u(e,t,n,r,a,o){for(var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=i(a,o),l=n,c=n+s,h=0,f=0,d=0,v=0,m=0,p=0,y=r-1;p<y;p++,l+=s,c+=s){var x=t[l],g=t[l+1],b=t[l+2],_=t[c],I=t[c+1],k=t[c+2],w=x*I-_*g;v+=w,h+=(x+_)*w,f+=(g+I)*w,a&&(d+=(b+k)*(w=x*k-_*b),m+=w),x<e[0]&&(e[0]=x),x>e[1]&&(e[1]=x),g<e[2]&&(e[2]=g),g>e[3]&&(e[3]=g),a&&(b<e[4]&&(e[4]=b),b>e[5]&&(e[5]=b))}if(v*u>0&&(v*=-1),m*u>0&&(m*=-1),!v)return null;var S=[h,f,.5*v];return a&&(S[3]=d,S[4]=.5*m),S}function s(e,t,n,r){var a=n-e,i=r-t;return Math.sqrt(a*a+i*i)}function l(e,t,n,r,a,i){var o=r-e,u=a-t,s=i-n;return Math.sqrt(o*o+u*u+s*s)}function c(e,t,n,r){return[e+.5*(n-e),t+.5*(r-t)]}function h(e,t,n,r,a,i){return[e+.5*(r-e),t+.5*(a-t),n+.5*(i-n)]}})),n.register("fP7bp",(function(r,a){t(r.exports,"checkProjectionSupport",(function(){return p})),t(r.exports,"project",(function(){return b})),t(r.exports,"projectMany",(function(){return I}));var i=n("8TSCy"),o=n("2TvXO"),u=n("7qybv"),s=n("7RvA5"),l=n("jGyUI"),c=n("eY5Yp"),h=n("eF88h"),f=[0,0];function d(e,t){if(!t)return null;if("x"in t){var n,r={x:0,y:0};return n=i.slicedToArray(e(t.x,t.y,f),2),r.x=n[0],r.y=n[1],null!=t.z&&(r.z=t.z),null!=t.m&&(r.m=t.m),r}if("xmin"in t){var a,o,u={xmin:0,ymin:0,xmax:0,ymax:0};return a=i.slicedToArray(e(t.xmin,t.ymin,f),2),u.xmin=a[0],u.ymin=a[1],o=i.slicedToArray(e(t.xmax,t.ymax,f),2),u.xmax=o[0],u.ymax=o[1],t.hasZ&&(u.zmin=t.zmin,u.zmax=t.zmax,u.hasZ=!0),t.hasM&&(u.mmin=t.mmin,u.mmax=t.mmax,u.hasM=!0),u}return"rings"in t?{rings:v(t.rings,e),hasM:t.hasM,hasZ:t.hasZ}:"paths"in t?{paths:v(t.paths,e),hasM:t.hasM,hasZ:t.hasZ}:"points"in t?{points:m(t.points,e),hasM:t.hasM,hasZ:t.hasZ}:void 0}function v(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value;n.push(m(s,t))}}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}function m(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value,l=t(s[0],s[1],[0,0]);n.push(l),s.length>2&&l.push(s[2]),s.length>3&&l.push(s[3])}}catch(e){a=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}function p(e,t){return y.apply(this,arguments)}function y(){return(y=i.asyncToGenerator(e(o).mark((function t(n,r){var a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return a=Array.isArray(n)?n.map((function(e){return(0,u.isSome)(e.geometry)&&e.geometry.spatialReference})):[n],e.next=5,(0,s.initializeProjection)(a.map((function(e){return{source:e,dest:r}})));case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var x=d.bind(null,h.lngLatToXY),g=d.bind(null,h.xyToLngLat);function b(e,t,n){if(!e)return e;if(n||(n=t,t=e.spatialReference),!(0,c.isValid)(t)||!(0,c.isValid)(n)||(0,c.equals)(t,n))return e;if((0,h.canProject)(t,n)){var r=(0,c.isWebMercator)(n)?x(e):g(e);return r.spatialReference=n,r}return(0,s.projectMany)(l.jsonAdapter,[e],t,n,null)[0]}var _=new(function(){"use strict";function t(){i.classCallCheck(this,t),this._jobs=[],this._timer=null,this._process=this._process.bind(this)}return i.createClass(t,[{key:"push",value:function(t,n,r){var a=this;return i.asyncToGenerator(e(o).mark((function i(){var u;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.length&&n&&r&&!(0,c.equals)(n,r)){e.next=2;break}return e.abrupt("return",t);case 2:return u={geometries:t,inSpatialReference:n,outSpatialReference:r,resolve:null},e.abrupt("return",(a._jobs.push(u),new Promise((function(e){u.resolve=e,null===a._timer&&(a._timer=setTimeout(a._process,10))}))));case 4:case"end":return e.stop()}}),i)})))()}},{key:"_process",value:function(){this._timer=null;var e=this._jobs.shift();if(e){var t=e.geometries,n=e.inSpatialReference,r=e.outSpatialReference,a=e.resolve;(0,h.canProject)(n,r)?(0,c.isWebMercator)(r)?a(t.map(x)):a(t.map(g)):a((0,s.projectMany)(l.jsonAdapter,t,n,r,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}}}]),t}());function I(e,t,n){return _.push(e,t,n)}})),n.register("jGyUI",(function(e,r){t(e.exports,"jsonAdapter",(function(){return i}));var a=n("8TSCy"),i={convertToGEGeometry:function(e,t){return null==t?null:e.convertJSONToGeometry(t)},exportPoint:function(e,t,n){var r=new o(e.getPointX(t),e.getPointY(t),n),a=e.hasZ(t),i=e.hasM(t);return a&&(r.z=e.getPointZ(t)),i&&(r.m=e.getPointM(t)),r},exportPolygon:function(e,t,n){return new u(e.exportPaths(t),n,e.hasZ(t),e.hasM(t))},exportPolyline:function(e,t,n){return new s(e.exportPaths(t),n,e.hasZ(t),e.hasM(t))},exportMultipoint:function(e,t,n){return new l(e.exportPoints(t),n,e.hasZ(t),e.hasM(t))},exportExtent:function(e,t,n){var r=e.hasZ(t),a=e.hasM(t),i=new c(e.getXMin(t),e.getYMin(t),e.getXMax(t),e.getYMax(t),n);if(r){var o=e.getZExtent(t);i.zmin=o.vmin,i.zmax=o.vmax}if(a){var u=e.getMExtent(t);i.mmin=u.vmin,i.mmax=u.vmax}return i}};var o=function e(t,n,r){"use strict";a.classCallCheck(this,e),this.x=t,this.y=n,this.spatialReference=r,this.z=void 0,this.m=void 0};var u=function e(t,n,r,i){"use strict";a.classCallCheck(this,e),this.rings=t,this.spatialReference=n,this.hasZ=void 0,this.hasM=void 0,r&&(this.hasZ=r),i&&(this.hasM=i)};var s=function e(t,n,r,i){"use strict";a.classCallCheck(this,e),this.paths=t,this.spatialReference=n,this.hasZ=void 0,this.hasM=void 0,r&&(this.hasZ=r),i&&(this.hasM=i)};var l=function e(t,n,r,i){"use strict";a.classCallCheck(this,e),this.points=t,this.spatialReference=n,this.hasZ=void 0,this.hasM=void 0,r&&(this.hasZ=r),i&&(this.hasM=i)};var c=function e(t,n,r,i,o){"use strict";a.classCallCheck(this,e),this.xmin=t,this.ymin=n,this.xmax=r,this.ymax=i,this.spatialReference=o,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}})),n.register("5JzQt",(function(r,a){t(r.exports,"createFeatureEditErrorResult",(function(){return h})),t(r.exports,"createFeatureEditSuccessResult",(function(){return d})),t(r.exports,"mixAttributes",(function(){return p})),t(r.exports,"simplify",(function(){return x})),t(r.exports,"loadGeometryEngineForSimplify",(function(){return _}));var i=n("8TSCy"),o=n("2TvXO"),u=n("eY5Yp"),s=n("7vTUY"),l=function e(){"use strict";i.classCallCheck(this,e),this.code=null,this.description=null},c=function e(t){"use strict";i.classCallCheck(this,e),this.error=new l,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t};function h(e){return new c(e)}var f=function e(t){"use strict";i.classCallCheck(this,e),this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t};function d(e){return new f(e)}var v,m=new Set;function p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;for(var i in m.clear(),n){var o=e.get(i);if(o){var u=n[i],l=y(o,u);if(l!==u&&a&&a.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:o,originalValue:u,sanitizedValue:l}}),m.add(o.name),o&&(r||o.editable)){var c=(0,s.validateFieldValue)(o,l);if(c)return h((0,s.validationErrorToString)(c,o,l));t[o.name]=l}}}var f=!0,d=!1,v=void 0;try{for(var p,x=e.requiredFields[Symbol.iterator]();!(f=(p=x.next()).done);f=!0){var g=p.value;if(!m.has(g.name))return h('missing required field "'.concat(g.name,'"'))}}catch(e){d=!0,v=e}finally{try{f||null==x.return||x.return()}finally{if(d)throw v}}return null}function y(e,t){var n=t;return"string"==typeof t&&(0,s.isNumericField)(e)?n=parseFloat(t):null!=t&&(0,s.isStringField)(e)&&"string"!=typeof t&&(n=String(t)),(0,s.sanitizeNullFieldValue)(n)}function x(e,t){if(!e||!(0,u.isValid)(t))return e;if("rings"in e||"paths"in e){if(!v)throw new TypeError("geometry engine not loaded");return v.simplify(t,e)}return e}function g(){return b.apply(this,arguments)}function b(){return(b=i.asyncToGenerator(e(o).mark((function t(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=v,e.t0){e.next=6;break}return e.next=4,n("eOMto");case 4:v=e.sent,e.t0=v;case 6:return e.abrupt("return",e.t0);case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function _(e,t){return I.apply(this,arguments)}function I(){return(I=i.asyncToGenerator(e(o).mark((function t(n,r){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!(0,u.isValid)(n)||"esriGeometryPolygon"!==r&&"esriGeometryPolyline"!==r,e.t0){e.next=4;break}return e.next=4,g();case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}})),n.register("eOMto",(function(e,t){e.exports=Promise.all([n("4WKyX")(n("aNJCr").getBundleURL("cLFQp")+n("iE7OH").resolve("Km0rI")),n("4WKyX")(n("aNJCr").getBundleURL("cLFQp")+n("iE7OH").resolve("vg0wl"))]).then((function(){return n("1n9JK")}))})),n.register("hbg1x",(function(e,r){t(e.exports,"isNullCountSupported",(function(){return h})),t(e.exports,"calculateStringStatistics",(function(){return f})),t(e.exports,"calculatePercentile",(function(){return v})),t(e.exports,"calculateStatistics",(function(){return d})),t(e.exports,"getAttributeComparator",(function(){return m})),t(e.exports,"processSummaryStatisticsResult",(function(){return x})),t(e.exports,"calculateUniqueValuesCount",(function(){return g})),t(e.exports,"createUVResult",(function(){return b})),t(e.exports,"getNormalizedValue",(function(){return _})),t(e.exports,"calculateClassBreaks",(function(){return I})),t(e.exports,"resolveCBResult",(function(){return k})),t(e.exports,"calculateHistogram",(function(){return w}));var a=n("8TSCy"),i=n("59jTx"),o=n("hxmJW"),u="equal-interval",s=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,l=new Set(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]),c=["min","max","avg","stddev","count","sum","variance","nullcount","median"];function h(e){var t=null!=e.normalizationField||null!=e.normalizationType,n=null!=e.minValue||null!=e.maxValue,r=!!e.sqlExpression&&e.supportsSQLExpression;return!t&&!n&&!r}function f(e){var t=e.returnDistinct?a.toConsumableArray(new Set(e.values)):e.values,n=t.filter((function(e){return null!=e})).length,r={count:n};return e.supportsNullCount&&(r.nullcount=t.length-n),e.percentileParams&&(r.median=v(t,e.percentileParams)),r}function d(e){var t=e.values,n=e.useSampleStdDev,r=e.supportsNullCount,a=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=null,u=null,s=null,l=null,c=0,h=null==e.minValue?-1/0:e.minValue,f=null==e.maxValue?1/0:e.maxValue,d=!0,m=!1,p=void 0;try{for(var y,x=t[Symbol.iterator]();!(d=(y=x.next()).done);d=!0){var g=y.value;Number.isFinite(g)?g>=h&&g<=f&&(o+=g,a=Math.min(a,g),i=Math.max(i,g),c++):"string"==typeof g&&c++}}catch(e){m=!0,p=e}finally{try{d||null==x.return||x.return()}finally{if(m)throw p}}if(c&&null!=o){u=o/c;var b=0,_=!0,I=!1,k=void 0;try{for(var w,S=t[Symbol.iterator]();!(_=(w=S.next()).done);_=!0){var M=w.value;Number.isFinite(M)&&M>=h&&M<=f&&(b+=Math.pow(M-u,2))}}catch(e){I=!0,k=e}finally{try{_||null==S.return||S.return()}finally{if(I)throw k}}l=n?c>1?b/(c-1):0:c>0?b/c:0,s=Math.sqrt(l)}else a=null,i=null;var T={avg:u,count:c,max:i,min:a,stddev:s,sum:o,variance:l};return r&&(T.nullcount=t.length-c),e.percentileParams&&(T.median=v(t,e.percentileParams)),T}function v(e,t){var n=t.fieldType,r=t.value,i=t.orderBy,o=t.isDiscrete,u=m(n,"desc"===i);if(0===(e=a.toConsumableArray(e).filter((function(e){return null!=e})).sort((function(e,t){return u(e,t)}))).length)return null;if(r<=0)return e[0];if(r>=1)return e[e.length-1];var s=(e.length-1)*r,l=Math.floor(s),c=l+1,h=s%1,f=e[l],d=e[c];return c>=e.length||o||"string"==typeof f||"string"==typeof d?f:f*(1-h)+d*h}function m(e,t){var n=t?1:-1,r=t?function(e,t){return t-e}:function(e,t){return e-t},i=p(t);if(!e||!["esriFieldTypeDate","esriFieldTypeString","esriFieldTypeGUID","esriFieldTypeGlobalID"].concat(a.toConsumableArray(l)).includes(e))return function(e,t){return"number"==typeof e&&"number"==typeof t?r(e,t):"string"==typeof e&&"string"==typeof t?i(e,t):n};if("esriFieldTypeDate"===e)return function(e,t){var a=new Date(e).getTime(),i=new Date(t).getTime();return isNaN(a)||isNaN(i)?n:r(a,i)};if(l.has(e))return function(e,t){return r(e,t)};if("esriFieldTypeString"===e)return function(e,t){return i(e,t)};if("esriFieldTypeGUID"===e||"esriFieldTypeGlobalID"===e){var o=p(t);return function(e,t){return o(y(e),y(t))}}return t?function(e,t){return 1}:function(e,t){return-1}}function p(e){return e?function(e,t){var n,r;return(e=null==(n=e)?void 0:n.toUpperCase())>(t=null==(r=t)?void 0:r.toUpperCase())?-1:e<t?1:0}:function(e,t){var n,r;return(e=null==(n=e)?void 0:n.toUpperCase())<(t=null==(r=t)?void 0:r.toUpperCase())?-1:e>t?1:0}}function y(e){return e.substr(24,12)+e.substr(19,4)+e.substr(16,2)+e.substr(14,2)+e.substr(11,2)+e.substr(9,2)+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)+e.substr(0,2)}function x(e,t){var n;for(n in e)c.indexOf(n)>-1&&(Number.isFinite(e[n])||(e[n]=null));return t?(["avg","stddev","variance"].forEach((function(t){null!=e[t]&&(e[t]=Math.ceil(e[t]))})),e):e}function g(e){var t={},n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var u=i.value;(null==u||"string"==typeof u&&""===u.trim())&&(u=null),null==t[u]?t[u]={count:1,data:u}:t[u].count++}}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return{count:t}}function b(e,t,n){var r=e.count,a=[];for(var i in n&&t&&"coded-value"===t.type&&t.codedValues.forEach((function(e){var t=e.code;r.hasOwnProperty(t)||(r[t]={data:t,count:0})})),r){var o=r[i];a.push({value:o.data,count:o.count,label:o.label})}return{uniqueValueInfos:a}}function _(e,t,n,r){var a=null;switch(t){case"log":0!==e&&(a=Math.log(e)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(r)&&0!==r&&(a=e/r*100);break;case"field":Number.isFinite(n)&&0!==n&&(a=e/n);break;case"natural-log":e>0&&(a=Math.log(e));break;case"square-root":e>0&&(a=Math.pow(e,.5))}return a}function I(e,t){var n,r,a,s,l,c,h,f,d,v=(n={field:t.field,normalizationType:t.normalizationType,normalizationField:t.normalizationField,classificationMethod:t.classificationMethod,standardDeviationInterval:t.standardDeviationInterval,breakCount:t.numClasses||5},r=n.field,a=n.classificationMethod||u,s=n.normalizationType,l=n.normalizationField,(c=new(0,i.default)).classificationField=r,c.breakCount=n.breakCount,c.classificationMethod=a,c.standardDeviationInterval="standard-deviation"===a?n.standardDeviationInterval||1:void 0,c.normalizationType=s,c.normalizationField="field"===s?l:void 0,c);return h=e,f=t.minValue,d=t.maxValue,f=null==f?-1/0:f,d=null==d?1/0:d,e=h.filter((function(e){return Number.isFinite(e)&&e>=f&&e<=d})),(0,o.createGenerateRendererClassBreaks)({definition:v,values:e,normalizationTotal:t.normalizationTotal})}function k(e,t){var n=e.classBreaks,r=n.length,a=n[0].minValue,i=n[r-1].maxValue,o="standard-deviation"===t,u=s;return{minValue:a,maxValue:i,classBreakInfos:n=n.map((function(e){var t=e.label,n={minValue:e.minValue,maxValue:e.maxValue,label:t};if(o&&t){var r=t.match(u).map((function(e){return+e.trim()}));2===r.length?(n.minStdDev=r[0],n.maxStdDev=r[1],r[0]<0&&r[1]>0&&(n.hasAvg=!0)):1===r.length&&(t.includes("<")?(n.minStdDev=null,n.maxStdDev=r[0]):t.includes(">")&&(n.minStdDev=r[0],n.maxStdDev=null))}return n})),normalizationTotal:e.normalizationTotal}}function w(e,t){var n=function(e,t){var n=t.field,r=t.classificationMethod,a=t.standardDeviationInterval,i=t.normalizationType,o=t.normalizationField,u=t.normalizationTotal,s=t.minValue,l=t.maxValue,c=t.numBins||10,f=null,v=null,m=null;if(r&&"equal-interval"!==r||i){var p=I(e,{field:n,normalizationType:i,normalizationField:o,normalizationTotal:u,classificationMethod:r,standardDeviationInterval:a,minValue:s,maxValue:l,numClasses:c}).classBreaks;f=p[0].minValue,v=p[p.length-1].maxValue,m=p.map((function(e){return[e.minValue,e.maxValue]}))}else{if(null!=s&&null!=l)f=s,v=l;else{var y=d({values:e,minValue:s,maxValue:l,useSampleStdDev:!i,supportsNullCount:h({normalizationType:i,normalizationField:o,minValue:s,maxValue:l})});f=y.min,v=y.max}m=function(e,t,n){for(var r,a=(t-e)/n,i=[],o=e,u=1;u<=n;u++)r=o+a,r=Number(r.toFixed(16)),i.push([o,u===n?t:r]),o=r;return i}(f,v,c)}return{min:f,max:v,intervals:m}}(e,t),r=n.min,a=n.max,i=n.intervals,o=i.map((function(e,t){return{minValue:i[t][0],maxValue:i[t][1],count:0}})),u=!0,s=!1,l=void 0;try{for(var c,f=e[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var v=c.value;if(null!=v&&v>=r&&v<=a){var m=S(i,v);m>-1&&o[m].count++}}}catch(e){s=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(s)throw l}}return{bins:o,minValue:r,maxValue:a,normalizationTotal:t.normalizationTotal}}function S(e,t){for(var n=-1,r=e.length-1;r>=0;r--)if(t>=e[r][0]){n=r;break}return n}})),n.register("59jTx",(function(e,r){t(e.exports,"default",(function(){return d}));var a=n("8TSCy"),i=n("7eJjO"),o=n("79ASa"),u=n("iho5X");n("lNwWH"),n("2VlWd"),n("iJAIC");var s=n("fcwIv"),l=n("kt6hM"),c=new(0,o.JSONMap)({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),h=new(0,o.JSONMap)({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"}),f=function(e){"use strict";a.inherits(n,e);var t=a.createSuper(n);function n(){var e;return a.classCallCheck(this,n),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).breakCount=null,e.classificationField=null,e.classificationMethod=null,e.normalizationField=null,e.normalizationType=null,e.type="class-breaks-definition",a.possibleConstructorReturn(e)}return a.createClass(n,[{key:"standardDeviationInterval",set:function(e){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",e)}},{key:"definedInterval",set:function(e){"defined-interval"===this.classificationMethod&&this._set("definedInterval",e)}}]),n}(l.default);(0,i._)([(0,u.property)({json:{write:!0}})],f.prototype,"breakCount",void 0),(0,i._)([(0,u.property)({json:{write:!0}})],f.prototype,"classificationField",void 0),(0,i._)([(0,u.property)({type:String,json:{read:c.read,write:c.write}})],f.prototype,"classificationMethod",void 0),(0,i._)([(0,u.property)({json:{write:!0}})],f.prototype,"normalizationField",void 0),(0,i._)([(0,u.property)({json:{read:h.read,write:h.write}})],f.prototype,"normalizationType",void 0),(0,i._)([(0,u.property)({value:null,json:{write:!0}})],f.prototype,"standardDeviationInterval",null),(0,i._)([(0,u.property)({value:null,json:{write:!0}})],f.prototype,"definedInterval",null),(0,i._)([(0,u.property)()],f.prototype,"type",void 0);var d=f=(0,i._)([(0,s.subclass)("esri.rest.support.ClassBreaksDefinition")],f)})),n.register("kt6hM",(function(e,r){t(e.exports,"default",(function(){return v}));var a=n("8TSCy"),i=n("7eJjO"),o=n("79ASa"),u=n("1XAcN"),s=n("iho5X");n("lNwWH"),n("2VlWd"),n("iJAIC");var l=n("fcwIv"),c=n("1DHtQ"),h=n("j9ZJv"),f=new(0,o.JSONMap)({classBreaksDef:"class-breaks-definition",uniqueValueDef:"unique-value-definition"}),d=function(e){"use strict";a.inherits(n,e);var t=a.createSuper(n);function n(){var e;return a.classCallCheck(this,n),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).baseSymbol=null,e.colorRamp=null,e.type=null,a.possibleConstructorReturn(e)}return n}(u.JSONSupport);(0,i._)([(0,s.property)({type:h.default,json:{write:!0}})],d.prototype,"baseSymbol",void 0),(0,i._)([(0,s.property)({types:c.types,json:{read:{reader:c.fromJSON},write:!0}})],d.prototype,"colorRamp",void 0),(0,i._)([(0,s.property)({json:{read:f.read,write:f.write}})],d.prototype,"type",void 0);var v=d=(0,i._)([(0,l.subclass)("esri.rest.support.ClassificationDefinition")],d)})),n.register("hxmJW",(function(e,n){function r(e,t){return Number(e.toFixed(t))}function a(e){var t=e.normalizationTotal;return{classBreaks:i(e),normalizationTotal:t}}function i(e){var t=e.definition,n=t.classificationMethod,a=t.breakCount,i=t.normalizationType,c=t.definedInterval,h=[],f=e.values;if(0===f.length)return[];var d,v,m,p,y,x,g=(f=f.sort((function(e,t){return e-t})))[0],b=f[f.length-1];if("equal-interval"===n)if(f.length>=a){for(var _=(b-g)/a,I=g,k=1;k<a;k++){var w=r(g+k*_,6);h.push({minValue:I,maxValue:w,label:o(I,w,i)}),I=w}h.push({minValue:I,maxValue:b,label:o(I,b,i)})}else f.forEach((function(e){h.push({minValue:e,maxValue:e,label:o(e,e,i)})}));else if("natural-breaks"===n){for(var S=u(f),M=e.valueFrequency||S.valueFrequency,T=function(e,t,n){var r=e.length,a=[];n>r&&(n=r);for(var i=0;i<n;i++)a.push(Math.round(i*r/n-1));a.push(r-1);var o=s(a,e,t,n);return function(e,t,n,r,a,i){for(var o=0,u=0,s=0,c=0,h=!0,f=0;f<2&&h;f++){0===f&&(h=!1);for(var d=0;d<i-1;d++)for(;n[d+1]+1!==n[d+2];){n[d+1]=n[d+1]+1;var v=l(d,n,r,a);s=v.sbMean,o=v.sbSdcm;var m=l(d+1,n,r,a);if(c=m.sbMean,!(o+(u=m.sbSdcm)<t[d]+t[d+1])){n[d+1]=n[d+1]-1;break}t[d]=o,t[d+1]=u,e[d]=s,e[d+1]=c,h=!0}for(var p=i-1;p>0;p--)for(;n[p]!==n[p-1]+1;){n[p]=n[p]-1;var y=l(p-1,n,r,a);s=y.sbMean,o=y.sbSdcm;var x=l(p,n,r,a);if(c=x.sbMean,!(o+(u=x.sbSdcm)<t[p-1]+t[p])){n[p]=n[p]+1;break}t[p-1]=o,t[p]=u,e[p-1]=s,e[p]=c,h=!0}}return h}(o.mean,o.sdcm,a,e,t,n)&&(o=s(a,e,t,n)),a}(S.uniqueValues,M,a),C=g,B=1;B<a;B++)if(S.uniqueValues.length>B){var F=r(S.uniqueValues[T[B]],6);h.push({minValue:C,maxValue:F,label:o(C,F,i)}),C=F}h.push({minValue:C,maxValue:b,label:o(C,b,i)})}else if("quantile"===n)if(f.length>=a&&g!==b){for(var N=g,V=Math.ceil(f.length/a),E=0,z=1;z<a;z++){var q=V+E-1;q>f.length&&(q=f.length-1),q<0&&(q=0),h.push({minValue:N,maxValue:f[q],label:o(N,f[q],i)}),N=f[q],E+=V,V=Math.ceil((f.length-E)/(a-z))}h.push({minValue:N,maxValue:b,label:o(N,b,i)})}else for(var Y=-1,j=0;j<f.length;j++){var P=f[j];P!==Y&&(Y=P,h.push({minValue:Y,maxValue:P,label:o(Y,P,i)}),Y=P)}else if("standard-deviation"===n){var X=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t/e.length}(f),A=function(e,t){for(var n=0,r=0;r<e.length;r++){var a=e[r];n+=(a-t)*(a-t)}return n/=e.length,Math.sqrt(n)}(f,X);if(0===A)h.push({minValue:f[0],maxValue:f[0],label:o(f[0],f[0],i)});else{for(var G=(d=g,v=b,m=a,p=X,y=A,((x=Math.max(p-d,v-p)/y/m)>=1?1:x>=.5?.5:.25)*A),R=0,O=g,D=a;D>=1;D--){var Z=r(X-(D-.5)*G,6);h.push({minValue:O,maxValue:Z,label:o(O,Z,i)}),O=Z,R++}var L=r(X+.5*G,6);h.push({minValue:O,maxValue:L,label:o(O,L,i)}),O=L,R++;for(var J=1;J<=a;J++)L=R===2*a?b:r(X+(J+.5)*G,6),h.push({minValue:O,maxValue:L,label:o(O,L,i)}),O=L,R++}}else if("defined-interval"===n){if(!c)return h;for(var W=f[0],U=f[f.length-1],Q=Math.ceil((U-W)/c),H=W,K=1;K<Q;K++){var $=r(W+K*c,6);h.push({minValue:H,maxValue:$,label:o(H,$,i)}),H=$}h.push({minValue:H,maxValue:U,label:o(H,U,i)})}return h}function o(e,t,n){return e===t?n&&"percent-of-total"===n?e+"%":e.toString():n&&"percent-of-total"===n?e+"% - "+t+"%":e+" - "+t}function u(e){for(var t=[],n=[],r=Number.MIN_VALUE,a=1,i=-1,o=0;o<e.length;o++){var u=e[o];u===r?(a++,n[i]=a):null!==u&&(t.push(u),r=u,a=1,n.push(a),i++)}return{uniqueValues:t,valueFrequency:n}}function s(e,t,n,r){for(var a=[],i=[],o=[],u=0,s=[],c=[],h=0;h<r;h++){var f=l(h,e,t,n);s.push(f.sbMean),c.push(f.sbSdcm),u+=c[h]}for(var d,v=u,m=!0;m||u<v;){m=!1,a=[];for(var p=0;p<r;p++)a.push(e[p]);for(var y=0;y<r;y++)for(var x=e[y]+1;x<=e[y+1];x++)if(d=t[x],y>0&&x!==e[y+1]&&Math.abs(d-s[y])>Math.abs(d-s[y-1]))e[y]=x;else if(y<r-1&&e[y]!==x-1&&Math.abs(d-s[y])>Math.abs(d-s[y+1])){e[y+1]=x-1;break}v=u,u=0,i=[],o=[];for(var g=0;g<r;g++){i.push(s[g]),o.push(c[g]);var b=l(g,e,t,n);s[g]=b.sbMean,c[g]=b.sbSdcm,u+=c[g]}}if(u>v){for(var _=0;_<r;_++)e[_]=a[_],s[_]=i[_],c[_]=o[_];u=v}return{mean:s,sdcm:c}}function l(e,t,n,r){for(var a=0,i=0,o=t[e]+1;o<=t[e+1];o++){var u=r[o];a+=n[o]*u,i+=u}i<=0&&console.log("Exception in Natural Breaks calculation");for(var s=a/i,l=0,c=t[e]+1;c<=t[e+1];c++)l+=r[c]*Math.pow(n[c]-s,2);return{sbMean:s,sbSdcm:l}}t(e.exports,"createGenerateRendererClassBreaks",(function(){return a}))})),n.register("ibKgR",(function(e,r){t(e.exports,"toQuantizationTransform",(function(){return c})),t(e.exports,"quantizePoint",(function(){return g})),t(e.exports,"quantizeGeometry",(function(){return I})),t(e.exports,"unquantizeMultipoint",(function(){return k})),t(e.exports,"unquantizePoint",(function(){return w})),t(e.exports,"unquantizePolygon",(function(){return S})),t(e.exports,"unquantizePolyline",(function(){return M}));var a=n("8TSCy"),i=n("7qybv"),o=n("79LpT");var u=function(e,t,n){return[t,n]},s=function(e,t,n){return[t,n,e[2]]},l=function(e,t,n){return[t,n,e[2],e[3]]};function c(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance]:[1,1],translate:(0,i.isSome)(e.extent)?[e.extent.xmin,e.extent.ymax]:[0,0]}:null}function h(e,t){var n=e.scale,r=e.translate;return Math.round((t-r[0])/n[0])}function f(e,t){var n=e.scale,r=e.translate;return Math.round((r[1]-t)/n[1])}function d(e,t,n){for(var r,a,i,o,u=[],s=0;s<n.length;s++){var l=n[s];s>0?(i=h(e,l[0]),o=f(e,l[1]),i===r&&o===a||(u.push(t(l,i-r,o-a)),r=i,a=o)):(r=h(e,l[0]),a=f(e,l[1]),u.push(t(l,r,a)))}return u.length>0?u:null}function v(e,t){var n=e.scale,r=e.translate;return t*n[0]+r[0]}function m(e,t){var n=e.scale;return e.translate[1]-t*n[1]}function p(e,t,n){var r=new Array(n.length);if(!n.length)return r;var i=a.slicedToArray(e.scale,2),o=i[0],u=i[1],s=v(e,n[0][0]),l=m(e,n[0][1]);r[0]=t(n[0],s,l);for(var c=1;c<n.length;c++){var h=n[c];s+=h[0]*o,l-=h[1]*u,r[c]=t(h,s,l)}return r}function y(e,t,n){for(var r=new Array(n.length),a=0;a<n.length;a++)r[a]=p(e,t,n[a]);return r}function x(e,t,n,r,a){return t.points=(i=e,o=n.points,c=a,d(i,r?c?l:s:c?s:u,o)),t;var i,o,c}function g(e,t,n,r,a){return t.x=h(e,n.x),t.y=f(e,n.y),t!==n&&(r&&(t.z=n.z),a&&(t.m=n.m)),t}function b(e,t,n,r,a){var i=function(e,t,n,r){for(var a=[],i=n?r?l:s:r?s:u,o=0;o<t.length;o++){var c=d(e,i,t[o]);c&&c.length>=3&&a.push(c)}return a.length?a:null}(e,n.rings,r,a);return i?(t.rings=i,t):null}function _(e,t,n,r,a){var i=function(e,t,n,r){for(var a=[],i=n?r?l:s:r?s:u,o=0;o<t.length;o++){var c=d(e,i,t[o]);c&&c.length>=2&&a.push(c)}return a.length?a:null}(e,n.paths,r,a);return i?(t.paths=i,t):null}function I(e,t){return e&&t?(0,o.isPoint)(t)?g(e,{},t,!1,!1):(0,o.isPolyline)(t)?_(e,{},t,!1,!1):(0,o.isPolygon)(t)?b(e,{},t,!1,!1):(0,o.isMultipoint)(t)?x(e,{},t,!1,!1):(0,o.isExtent)(t)?(i=!1,u=!1,(r={}).xmin=h(n=e,(a=t).xmin),r.ymin=f(n,a.ymin),r.xmax=h(n,a.xmax),r.ymax=f(n,a.ymax),r!==a&&(i&&(r.zmin=a.zmin,r.zmax=a.zmax),u&&(r.mmin=a.mmin,r.mmax=a.mmax)),r):null:null;var n,r,a,i,u}function k(e,t,n,r,a){return(0,i.isSome)(n)&&(t.points=(o=e,c=n.points,h=a,p(o,r?h?l:s:h?s:u,c))),t;var o,c,h}function w(e,t,n,r,a){return(0,i.isNone)(n)||(t.x=v(e,n.x),t.y=m(e,n.y),t!==n&&(r&&(t.z=n.z),a&&(t.m=n.m))),t}function S(e,t,n,r,a){return(0,i.isSome)(n)&&(t.rings=(o=e,c=n.rings,h=a,y(o,r?h?l:s:h?s:u,c))),t;var o,c,h}function M(e,t,n,r,a){return(0,i.isSome)(n)&&(t.paths=(o=e,c=n.paths,h=a,y(o,r?h?l:s:h?s:u,c))),t;var o,c,h}})),n.register("54m8H",(function(r,a){t(r.exports,"iterateXML",(function(){return s})),t(r.exports,"visitXML",(function(){return u}));var i=n("2TvXO"),o=e(i).mark(s);function u(e,t){var n=!0,r=!1,a=void 0;try{for(var i,o=e.children[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;if(s.localName in t){var l=t[s.localName];if("function"==typeof l){var c=l(s);c&&u(s,c)}else u(s,l)}}}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}}function s(t,n){var r,a,u,l,c,h,f;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,a=!1,u=void 0,e.prev=1,l=t.children[Symbol.iterator]();case 3:if(r=(c=l.next()).done){e.next=16;break}if(!((h=c.value).localName in n)){e.next=13;break}if("function"!=typeof(f=n[h.localName])){e.next=12;break}return e.next=10,f(h);case 10:e.next=13;break;case 12:return e.delegateYield(s(h,f),"t0",13);case 13:r=!0,e.next=3;break;case 16:e.next=22;break;case 18:e.prev=18,e.t1=e.catch(1),a=!0,u=e.t1;case 22:e.prev=22,e.prev=23,r||null==l.return||l.return();case 25:if(e.prev=25,!a){e.next=28;break}throw u;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}}),o,null,[[1,18,22,30],[23,,25,29]])}}))}();
//# sourceMappingURL=WFSSourceWorker.17a7af65.js.map
