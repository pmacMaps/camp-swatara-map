{"mappings":"i6BAIA,IAAAA,EAAAC,EAAA,8MAA82BC,EAAEC,EAAAC,QAAEC,UAAU,2CAA2CC,EAAE,kCAAkCC,EAAG,GAAIC,OAAFF,EAAE,0BAA8BG,EAAEC,EAAEC,UAAJC,EAACC,MAAAC,KAAAC,oBAADH,WAAAA,EAAfZ,EAAAgB,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,EAAiBV,EAAEC,OAAEU,EAAKC,EAAiBC,EAAKC,EAAgNC,EAAHC,EAAmJC,EAAqCC,EAAyBC,EAA6BC,EAAiBC,EAAuDC,EAAmBC,EAAuVC,EAA8SC,EAAAC,EAAAC,EAAAC,EAAAC,EAAMC,EAAidC,EAAsCC,EAAgIC,EAA0HC,EAACC,EAAA9B,+EAA96DM,EAAAwB,EAAAC,OAAA,QAAA,IAAAD,EAAA,GAAIA,EAAA,GAAF,GAAGvB,EAAAuB,EAAAC,OAAA,QAAA,IAAAD,EAAA,GAAGA,EAAA,GAAD,EAAetB,EAAGb,EAATqC,MAAWvB,EAAEwB,EAAEzB,EAAE,QAAQ,yBAAyByB,EAAEzB,EAAE,+CAA+C,0BAA2B,EAAA0B,EAAAC,QAAE1B,GAAE,gBAAC,MAAM,IAAI,EAAA2B,EAAA/C,SAAE,uCAAuC,6CAAyC,EAAAgD,EAAAhD,SAAEoB,EAAE6B,KAAK,CAACC,OAAOjC,EAAEiC,OAAOC,MAAMvD,EAAAwD,aAAA,CAACC,MAAMnC,GAAKD,EAAEqC,iBAAgB,CAACC,MAAMtC,EAAEuC,SAAQC,QAAQ,CAACC,OAAO,wCAArGrC,EAA8HsC,EAAAC,KAAjItC,EAAGD,EAARwC,gBAA6I,EAAAC,EAAAC,iBAAEzC,cAASC,GAAE,EAAAuC,EAAAE,sBAAE1C,EAAE,CAAC2C,aAAa1D,EAAE0D,eAAezC,EAAEjB,EAAE2D,QAAQ3C,EAAE2C,QAAQ,GAAGzC,EAAE,MAAMlB,EAAE4D,KAAK5D,EAAE4D,KAAK5C,EAAE4C,KAAKzC,EAAEH,EAAE0C,aAAatC,EAAEpB,EAAE6D,eAAe7C,EAAE8C,mBAAmB,WAAezC,EAAErB,EAAE+D,SAAezC,EAAEL,EAAE+C,MAAM,SAAAC,UAAGA,EAAEC,OAAO9C,KAAS,oBAAMJ,EAAEmD,kBAAiB,iBAAC,MAAM,IAAI,EAAA3B,EAAA/C,SAAE,uCAAuC,0EAAkEwB,EAAEmD,QAAQ,CAACF,KAAK9C,EAAEiD,MAAMjD,EAAEkD,KAAK,mBAAmBC,UAAS,EAAGC,UAAS,4BAAUlD,EAAEgD,KAAK,mBAAmBhD,EAAEiD,UAAS,EAAGjD,EAAEkD,UAAS,UAAMpD,IAAIJ,EAAE8C,oBAAyBvC,EAAEN,EAAE+C,MAAM,SAAAS,UAAGA,EAAEP,OAAOlD,EAAE8C,wBAAwBvC,EAAE+C,KAAK,wBAAwBrD,IAAID,EAAE2C,QAAQ3C,EAAE0D,cAAcvC,OAAO,GAAG5C,EAAEoF,KAAK,CAACT,KAAK,wCAAwCU,QAAQ,4EAA4EC,QAAQ,CAACH,cAAc1D,EAAE0D,iBAAqBlD,GAAO,EAAPC,GAAO,EAAPC,OAAOoD,YAAPnD,EAAWV,EAAC8D,OAAAC,uBAAZxD,GAAAI,EAAAD,EAAOsD,QAAAC,KAAA,oBAAU,OAAXrD,EAAND,EAAOuD,OAAkBjB,OAAOrC,EAAEqC,KAAKrC,EAAEwC,OAAO,MAAMxC,EAAEwC,QAAQxC,EAAEwC,MAAMxC,EAAEqC,MAAM,qBAAqBrC,EAAEyC,MAAM,0BAA0BzC,EAAEyC,OAAOzC,EAAE0C,SAAS,MAAM1C,EAAE0C,YAAY1C,EAAE0C,SAAS1C,EAAE2C,SAAS,MAAM3C,EAAE2C,YAAY3C,EAAE2C,UAAW3C,EAAEqC,KAAI,iBAAC,MAAM,IAAI,EAAA1B,EAAA/C,SAAE,uCAAuC,wBAAwB,CAAC2F,MAAMvD,gBAAO,IAAKwD,EAAAC,UAAEC,WAAWC,QAAQ3D,EAAEyC,MAAK,iBAAC,MAAM,IAAI,EAAA9B,EAAA/C,SAAE,uCAAwC,2BAAiCI,OAAPgC,EAAEqC,KAAK,KAAG,CAACkB,MAAMvD,YAAvcL,GAAO,6EAAPC,GAAO,EAAPC,EAAO0B,EAAAqC,+BAAPjE,GAAO,MAAPG,EAAO+D,QAAP/D,EAAO+D,+BAAPjE,EAAO,uBAAPC,yEAA8cL,IAASS,EAAE,IAAI,EAAA6D,EAAAlG,SAAEwB,GAAMI,EAAEuE,kBAAsB7D,EAAED,EAAE+D,IAAIxE,EAAEuE,kBAAmBvE,EAAEuE,eAAe7D,EAAEmC,KAAKnC,EAAEuC,KAAK,qBAAqBjD,EAAEuE,eAAe,MAAQvE,EAAEyE,gBAAoB9D,EAAEF,EAAE+D,IAAIxE,EAAEyE,gBAAiBzE,EAAEyE,aAAa9D,EAAEkC,KAAKlC,EAAEsC,KAAK,qBAAqBjD,EAAEyE,aAAa,MAAQzE,EAAE0E,gBAAoB9D,EAAEH,EAAE+D,IAAIxE,EAAE0E,eAAgB1E,EAAE0E,aAAa9D,EAAEiC,MAAM7C,EAAE0E,aAAa,KAAKxG,EAAEoF,KAAK,CAACT,KAAK,kDAAkDU,QAAQ,0BAA0BC,QAAQ,CAACd,SAAS1C,OAAMA,EAAEuE,gBAAgBvE,EAAEyE,eAAevG,EAAEoF,KAAK,CAACT,KAAK,qCAAqCU,QAAQ,8CAA8CC,QAAQ,CAACd,SAAS1C,KAAKA,EAAE,yBAAY,CAAC2E,YAAY7E,GAAE,EAAA8E,EAAAC,mBAAE/E,GAAG,KAAKuC,aAAavC,EAAEwC,OAAO1C,EAAE2C,OAAO1C,EAAE2C,cAAczC,EAAE2C,SAAS1C,iFAAp3EpB,EAACC,MAAAC,KAAAC,oBAAq4E+F,EAAEC,UAAFC,EAACnG,MAAAC,KAAAC,oBAADiG,WAAAA,EAAfhH,EAAAgB,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,EAAiB2F,OAAEE,EAAkBC,EAAKC,EAAiNC,EAAmBC,EAASC,EAAc7F,EAAH8F,EAAC1E,EAAA9B,+EAAhRkG,EAAApE,EAAAC,OAAA,QAAA,IAAAD,EAAA,GAAIA,EAAA,GAAF,GAAgBqE,EAAGH,EAAThE,MAAWoE,EAAEnE,EAAEkE,EAAE,OAAO,qBAAqBlE,EAAEkE,EAAE,8CAA8C,sBAAuB,EAAAjE,EAAAC,QAAEiE,GAAE,gBAAC,MAAM,IAAI,EAAAhE,EAAA/C,SAAE,6CAA6C,yCAAwCgH,EAA+BH,EAAtCrD,OAA0ByD,EAAYJ,EAA7BvD,iBAA0B4D,EAAGL,EAAV3D,iBAA2B,EAAAF,EAAAhD,SAAE+G,EAAE9D,KAAK,CAACC,OAAOgE,EAAEzD,QAAQ,CAACC,OAAO,oBAAoBP,MAAMvD,EAAAwD,aAAA,GAAI6D,EAAC,CAAC1D,MAAMyD,oBAA/E3F,EAAmFsC,EAAAC,KAAtFuD,EAAG9F,EAARwC,uBAAmGsD,+CAAjXP,EAACnG,MAAAC,KAAAC,oBAAiYyG,EAAEC,UAAFC,EAAC7G,MAAAC,KAAAC,oBAAD2G,WAAAA,EAAf1H,EAAAgB,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,EAAiBqG,OAAEE,EAAkBC,EAAKC,EAA+NC,EAAmBC,EAASC,EAAcvG,EAAHwG,EAACpF,EAAA9B,+EAA9R4G,EAAA9E,EAAAC,OAAA,QAAA,IAAAD,EAAA,GAAIA,EAAA,GAAF,GAAgB+E,EAAGH,EAAT1E,MAAW8E,EAAE7E,EAAE4E,EAAE,cAAc,qBAAqB5E,EAAE4E,EAAE,qDAAqD,sBAAuB,EAAA3E,EAAAC,QAAE2E,GAAE,gBAAC,MAAM,IAAI,EAAA1E,EAAA/C,SAAE,6CAA6C,yCAAwC0H,EAA+BH,EAAtC/D,OAA0BmE,EAAYJ,EAA7BjE,iBAA0BsE,EAAGL,EAAVrE,iBAA2B,EAAAF,EAAAhD,SAAEyH,EAAExE,KAAK,CAACC,OAAO0E,EAAEnE,QAAQ,CAACC,OAAO,oBAAoBP,MAAMvD,EAAAwD,aAAA,GAAIuE,EAAC,CAACpE,MAAMmE,oBAA/ErG,EAAmFsC,EAAAC,KAAtFiE,EAAGxG,EAARwC,uBAAmGgE,+CAA/XP,EAAC7G,MAAAC,KAAAC,oBAA+YmH,EAAEC,UAAFC,EAACvH,MAAAC,KAAAC,oBAADqH,WAAAA,EAAfpI,EAAAgB,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,EAAiB+G,OAAEE,EAAmBC,EAAmBC,EAASC,EAAc/G,EAAHgH,EAAC5F,EAAA9B,mFAA3DsH,EAAAxF,EAAAC,OAAA,QAAA,IAAAD,EAAA,GAAIA,EAAA,GAAF,GAAiByF,EAA+BD,EAAtCzE,OAA0B2E,EAAYF,EAA7B3E,iBAA0B8E,EAAGH,EAAV/E,iBAA2B,EAAAF,EAAAhD,SAAE+H,EAAE,CAAC7E,OAAOkF,EAAE3E,QAAQ,CAACC,OAAO,oBAAoBP,MAAMvD,EAAAwD,aAAA,GAAI+E,EAAC,CAAC5E,MAAM2E,oBAA1E7G,EAA8EsC,EAAAC,KAAjFyE,EAAGhH,EAARwC,uBAA8FwE,8CAAvJL,EAACvH,MAAAC,KAAAC,oBAAuK2H,EAAEC,UAAFC,EAAC/H,MAAAC,KAAAC,oBAAD6H,WAAAA,EAAf5I,EAAAgB,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,EAAiBuH,OAAEN,EAAYQ,EAAiDC,EAA6KC,EAAmBC,EAASC,EAAcxH,EAAHyH,EAACrG,EAAA9B,+EAAlRsH,EAAAxF,EAAAC,OAAA,QAAA,IAAAD,EAAA,GAAIA,EAAA,GAAF,GAAUgG,EAAE,+CAA+CC,EAAE9F,EAAE2F,EAAE5F,MAAM,eAAe8F,KAAM,EAAA5F,EAAAC,QAAE4F,GAAE,0CAAQ5I,EAAEoF,KAAK,yCAAyC,8DAA8D,qBAAkByD,EAA+BV,EAAtCzE,OAA0BoF,EAAYX,EAA7B3E,iBAA0BuF,EAAGZ,EAAV/E,iBAA2B,EAAAF,EAAAhD,SAAE0I,EAAEzF,KAAK,CAACC,OAAO2F,EAAEpF,QAAQ,CAACC,OAAO+E,GAAGtF,MAAMvD,EAAAwD,aAAA,GAAIwF,EAAC,CAACrF,MAAMoF,oBAA9DtH,EAAkEsC,EAAAC,KAArEkF,EAAGzH,EAARwC,uBAAkFiF,+CAAlWN,EAAC/H,MAAAC,KAAAC,WAAmW,SAASoI,EAAEC,GAAG,IAAMC,EAAEC,OAAA,+FAAA,KAAwFC,KAAKH,GAAGf,EAAE,MAAMgB,OAAE,EAAOA,EAAEG,OAAO,IAAInB,EAAE,OAAO,KAAK,IAAgBoB,EAAUpB,EAApBqB,UAAiBC,EAAGtB,EAARuB,KAAU,OAAOH,EAAEI,eAAe,IAAI,MAAM,OAAOF,EAAEE,eAAe,IAAI,QAAQ,OAAOC,EAAA1J,QAAE2J,aAAaC,KAAK,IAAI,QAAQ,OAAO,KAAK,IAAI,QAAQ,IAAI,SAAS,OAAOF,EAAA1J,QAAE6J,MAAMD,KAAK,QAAQ,OAAO,KAAK,IAAI,OAAO,IAAI,OAAQ,IAAME,EAAEC,OAAOC,SAAST,EAAE,IAAI,OAAOQ,OAAOE,MAAMH,GAAG,KAAKA,EAAE,QAAQ,OAAO,eAAqBI,EAAEC,EAAEC,EAAEC,UAANC,EAAC7J,MAAAC,KAAAC,oBAAD2J,WAAAA,EAAf1K,EAAAgB,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,EAAiBmJ,EAAEC,EAAEC,OAASE,oFAAQC,EAAEL,EAAEC,EAAEC,iBAAdE,EAAC5G,EAAAC,wBAAuB,EAAA6G,EAAAC,qBAAEH,gDAAxC9J,MAAAC,KAAAC,oBAA0D6J,EAAEG,EAAEC,EAAEC,UAANC,EAACrK,MAAAC,KAAAC,oBAADmK,WAAAA,EAAflL,EAAAgB,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,EAAiB2J,EAAEC,EAAEC,WAA6CE,EAAeC,EAAkBC,EAACC,EAAyBC,EAAmBC,EAAoBC,EAAeC,EAAYC,EAAKC,EAAiNC,EAAMC,EAAQC,EAAaC,EAAQC,EAAuIC,EAAgBC,EAA6BC,EAAwBC,EAASC,EAAOC,EAAOC,EAA8C/K,EAAHgL,EAA8IC,EAAuBC,EAAuKC,EAAgBC,EAAOC,EAAOC,EAAgBC,EAAKC,GAAiBC,GAA0E/K,GAAAC,GAAAC,GAAAC,GAAAC,GAAM4K,GAA+BC,GAA2EC,GAAAC,GAAAC,GAAAC,GAAAC,GAAMC,GAAwCC,GAAsCC,0EAA9qC7C,EAAxJ8C,aAAYC,EAAAC,EAAExK,MAAsB4H,EAAC2C,EAAhBE,eAA8B5C,EAAqGL,EAAhHkD,WAA6B5C,EAAmFN,EAAnGmD,gBAAiB5C,EAAkFP,EAAjFoD,gBAAwB5C,EAACD,EAAR1H,OAA0B4H,EAACF,EAAlB5H,iBAAqC+H,EAAkBV,EAAnCqD,iBAAgC1C,EAAGX,EAAhBsD,aAAyB1C,EAAGP,EAATrI,MAAW6I,EAAE5I,EAAE2I,EAAE,QAAQ,yBAAyB3I,EAAE2I,EAAE,+CAA+C,0BAA2B,EAAA1I,EAAAC,QAAE0I,GAAE,gBAAC,MAAM,IAAI,EAAAzI,EAAA/C,SAAE,uCAAuC,+BAAoCyL,EAAsCb,EAA/CsD,SAAexC,EAAgCd,EAApCuD,IAAYxC,EAAwBf,EAA9BwD,MAAmBxC,EAAWhB,EAAtByD,WAAmBxC,EAAGjB,EAAT0D,OAAc1D,EAAE2D,UAAS,gBAAC,MAAM,IAAI,EAAAxL,EAAA/C,SAAE,qDAAqD,0DAAkD8L,EAAEpC,EAAA1J,QAAEwO,SAASnD,GAAGU,GAAE,EAAAlJ,EAAA4L,UAAE7D,EAAE8D,oBAAoB5C,GAAGE,EAAED,EAAE4C,QAAQ,KAAKC,EAAE7C,EAAET,GAAGW,EAAE4C,EAAEpD,EAAEH,GAAGY,EAAE4C,EAAElD,GAAGO,EAAE4C,EAAElD,GAAGO,EAAE,MAAMV,EAAEA,EAAE,MAAMC,QAAG,IAASA,EAAE,GAAGZ,aAAiB,EAAA/H,EAAAhD,SAAEwL,EAAEvI,KAAKrD,EAAAwD,aAAA,GAAIyH,EAAC,CAAC1H,MAAMvD,EAAAwD,aAAA,GAAIgI,EAAKa,EAAC,CAAC+C,IAAIhD,EAAEiD,SAAS/C,EAAE/I,MAAMgJ,EAAE9I,MAAM+I,EAAE8C,WAAWvD,EAAEpI,MAAM4H,IAAG1H,QAAQ,CAACC,OAAO,sCAA7GrC,EAAsIsC,EAAAC,KAAzIyI,EAAGhL,EAARwC,KAAmJyI,GAAE,EAAMD,EAAE1J,QAAa4J,EAAEF,EAAE1J,MAAM4B,MAAM,SAAA4K,SAAG,SAASA,EAAEC,OAAM9C,IAAIC,IAAGD,GAAGvC,OAAOsF,UAAUhD,EAAEiD,gBAAgBvF,OAAOsF,UAAUhD,EAAEkD,kBAAkBjD,EAAED,EAAEkD,eAAelD,EAAEiD,eAA4B9C,EAAiDvB,EAAxD/G,OAAuBuI,EAAiCxB,EAA/CuE,cAAqB9C,EAA0BzB,EAA/BwE,KAAY9C,EAAmB1B,EAAxB9G,KAAqByI,EAAG3B,EAAjB7G,cAAmByI,GAAE5B,EAAEhH,aAAa6I,IAAE,EAAAhJ,EAAA4L,yBAAErD,EAAE,CAACpI,aAAa4I,GAAE1I,KAAKwI,EAAEvI,cAAcwI,IAAQZ,IAAGD,EAAE4D,cAAa,iBAAC,IAAI5N,IAAO,EAAPC,IAAO,EAAPC,QAAOoD,YAAPnD,GAAW4K,GAACxH,OAAAC,cAAZxD,IAAAI,GAAAD,GAAOsD,QAAAC,MAAP1D,IAAO,EAADgL,GAAN5K,GAAOuD,OAAS,EAAA7C,EAAA+M,QAAE7C,GAAEmB,aAAiBlB,IAAE,EAAAvC,EAAAoF,mBAAE9C,GAAEmB,SAASrB,GAAEF,GAAE,IAAMqB,iBAAiBtE,EAAA1J,QAAE6J,MAAMkD,GAAEmB,UAAS,EAAAzD,EAAAqF,sBAAE,EAAAC,EAAAC,SAAEhD,GAAEjB,wDAAxG/J,IAAO,EAAPC,GAAO0B,EAAAqC,+BAAPjE,IAAO,MAAPG,GAAO+D,QAAP/D,GAAO+D,+BAAPjE,GAAO,uBAAPC,mEAA4G,IAAIgL,IAAO,EAAPC,IAAO,EAAPC,QAAO9H,YAAP+H,GAAWN,GAACxH,OAAAC,cAAZ0H,IAAAI,GAAAD,GAAO5H,QAAAC,MAAPwH,IAAO,GAADK,GAAND,GAAO3H,OAAQuK,SAAS3C,GAAE4C,WAAWtD,sDAArCM,IAAO,EAAPC,GAAOxJ,EAAApB,+BAAP0K,IAAO,MAAPG,GAAOnH,QAAPmH,GAAOnH,+BAAPiH,GAAO,uBAAPC,0EAA8CI,GAAEvB,IAAIA,GAAGD,EAAE4D,cAAc5D,EAAEoE,SAASC,EAAAvG,MAAE2D,GAAE,IAAI,EAAA6C,EAAArQ,4BAASwN,GAAE8C,sBAAsBhE,EAAEkB,GAAE+C,SAASzD,GAAEU,GAAEtJ,OAAOsI,EAAEgB,GAAEvJ,aAAa4I,GAAEW,GAAEgD,kBAAkB/D,EAAEe,GAAEiC,KAAK/C,EAAEc,GAAErJ,KAAKwI,EAAEa,GAAEnJ,kBAAkBuI,EAAEY,GAAEQ,iBAAiBT,GAAEC,6GAAz/C/M,MAAAC,KAAAC,WAAwiD,SAASiO,EAAE6B,EAAEC,GAAG,IAAIzI,EAAE0I,EAAEC,EAAsBC,EAAUJ,EAAxBd,cAA0B,IAAFc,EAAR7G,KAAgB,OAAO,KAAK,IAAMkH,EAAED,EAAE,OAAO5I,EAAE,OAAO0I,EAAE,OAAOC,EAAEF,EAAE,OAAOE,EAAEF,EAAE,SAASC,EAAED,EAAE,SAASzI,EAAEyI,EAAE,QAAQA,EAAED,EAAE7G,MAAM,OAAOkH,EAAG,GAAM1Q,OAAJF,GAAME,OAAF0Q,GAAI,KAAK,SAASC,EAAEC,GAAG,IAAG,EAAAnO,EAAAC,QAAEkO,GAAG,MAAM,GAAG,IAAWC,EAAwBD,EAA7BE,KAAYjJ,EAAiB+I,EAAtBG,KAAYC,EAAUJ,EAAfK,KAAYC,EAAGN,EAARO,KAAU,MAAO,GAAOnR,OAAL6Q,EAAE,KAAQ7Q,OAAL6H,EAAE,KAAQ7H,OAALgR,EAAE,KAAKhR,OAAFkR,GAAI,SAASxC,EAAE0C,GAAG,IAAG,EAAA3O,EAAAC,QAAE0O,GAAG,OAAO,KAAK,IAAYC,EAASD,EAAfpD,MAAYnG,EAAGuJ,EAAPE,IAAS,MAAO,GAA+BtR,QAA7B,EAAAyC,EAAA+M,QAAE6B,GAAGA,EAAEE,cAAc,KAAK,KAA6BvR,QAA1B,EAAAyC,EAAA+M,QAAE3H,GAAGA,EAAE0J,cAAc,MAAO,SAAS5C,EAAE6C,GAAG,OAAO,EAAA/O,EAAAC,QAAE8O,KAAKA,GAAG,QAAQA,EAAE,KAAKA,EAAE,SAAS/C,EAAEgD,EAAEC,GAAG,GAAhgBC,EAAsgBF,IAA5f,EAAAhP,EAAA+M,QAAEmC,IAAI,WAAWA,EAAElN,KAA4e,OAAO,KAA3hB,IAAWkN,EAA4iB9J,EAAG4J,EAApB7D,iBAAsB,IAAI/F,GAAGA,EAAE0G,QAAQ,MAAM,CAACqD,KAAKjB,EAAEc,IAAI,IAAMI,EAAErD,EAAE3G,EAAE6J,GAAG,OAAO,EAAAjP,EAAA+M,QAAEqC,GAAG,CAACD,KAAKjB,EAAEc,GAAG,WAAWI,GAAGhK,EAAE0H,cAAc,CAACqC,KAAKjB,GAAE,EAAAhB,EAAAC,SAAE6B,EAAEnI,EAAA1J,QAAE6J,SAAS,KAAK,SAASjH,EAAEsP,EAAEC,EAAEC,GAAG,OAAOF,EAAE3N,MAAM,SAAA8N,UAAGA,EAAEjD,MAAM+C,GAAGE,EAAExN,OAAOuN,MAAKF,EAAE3N,MAAM,SAAA+N,UAAGA,EAAElD,MAAM+C,IAAIG,EAAEzN","sources":["node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import i from\"../../core/Logger.js\";import{isNone as n,unwrapOr as r,isSome as a}from\"../../core/maybe.js\";import{WGS84 as s}from\"../../geometry/support/spatialReferenceUtils.js\";import{project as o}from\"../../geometry/support/webMercatorUtils.js\";import{convertToFeatureSet as l,convertToGeometry as c,convertFromGeometry as d}from\"../graphics/featureConversionUtils.js\";import u from\"../graphics/OptimizedFeatureSet.js\";import{validateGeoJSON as p,inferLayerProperties as m,createOptimizedFeatures as f}from\"../graphics/sources/geojson/geojson.js\";import{createDrawingInfo as g}from\"../graphics/sources/support/clientSideDefaults.js\";import y from\"../support/FieldsIndex.js\";import{kebabDict as w}from\"../support/fieldType.js\";import h from\"../../geometry/SpatialReference.js\";const b=i.getLogger(\"esri.layers.graphics.sources.ogcfeature\"),j=\"http://www.opengis.net/def/crs/\",F=`${j}OGC/1.3/CRS84`;async function I(i,r,a={},s=5){const{links:o}=i,l=G(o,\"items\",\"application/geo+json\")||G(o,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if(n(l))throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{data:c}=await e(l.href,{signal:a.signal,query:{limit:s,...a.customParameters,token:a.apiKey},headers:{accept:\"application/geo+json\"}});await p(c);const d=m(c,{geometryType:r.geometryType}),u=r.fields||d.fields||[],f=null!=r.hasZ?r.hasZ:d.hasZ,h=d.geometryType,j=r.objectIdField||d.objectIdFieldName||\"OBJECTID\";let F=r.timeInfo;const I=u.find((e=>e.name===j));if(!I){if(!d.objectIdFieldType)throw new t(\"ogc-feature-layer:missing-feature-id\",\"Collection geojson require a feature id as a unique identifier\");u.unshift({name:j,alias:j,type:\"esriFieldTypeOID\",editable:!1,nullable:!1})}else I.type=\"esriFieldTypeOID\",I.editable=!1,I.nullable=!1;if(j!==d.objectIdFieldName){const e=u.find((e=>e.name===d.objectIdFieldName));e&&(e.type=\"esriFieldTypeInteger\")}u===d.fields&&d.unknownFields.length>0&&b.warn({name:\"ogc-feature-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:d.unknownFields}});for(const e of u){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type&&(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable),!e.name)throw new t(\"ogc-feature-layer:invalid-field-name\",\"field name is missing\",{field:e});if(-1===w.jsonValues.indexOf(e.type))throw new t(\"ogc-feature-layer:invalid-field-type\",`invalid type for field \"${e.name}\"`,{field:e})}if(F){const e=new y(u);if(F.startTimeField){const t=e.get(F.startTimeField);t?(F.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):F.startTimeField=null}if(F.endTimeField){const t=e.get(F.endTimeField);t?(F.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):F.endTimeField=null}if(F.trackIdField){const t=e.get(F.trackIdField);t?F.trackIdField=t.name:(F.trackIdField=null,b.warn({name:\"ogc-feature-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:F}}))}F.startTimeField||F.endTimeField||(b.warn({name:\"ogc-feature-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:F}}),F=null)}return{drawingInfo:h?g(h):null,geometryType:h,fields:u,hasZ:!!f,objectIdField:j,timeInfo:F}}async function T(i,r={}){const{links:a}=i,s=G(a,\"data\",\"application/json\")||G(a,\"http://www.opengis.net/def/rel/ogc/1.0/data\",\"application/json\");if(n(s))throw new t(\"ogc-feature-layer:missing-collections-page\",\"Missing collections url\");const{apiKey:o,customParameters:l,signal:c}=r,{data:d}=await e(s.href,{signal:c,headers:{accept:\"application/json\"},query:{...l,token:o}});return d}async function k(i,r={}){const{links:a}=i,s=G(a,\"conformance\",\"application/json\")||G(a,\"http://www.opengis.net/def/rel/ogc/1.0/conformance\",\"application/json\");if(n(s))throw new t(\"ogc-feature-layer:missing-conformance-page\",\"Missing conformance url\");const{apiKey:o,customParameters:l,signal:c}=r,{data:d}=await e(s.href,{signal:c,headers:{accept:\"application/json\"},query:{...l,token:o}});return d}async function x(t,i={}){const{apiKey:n,customParameters:r,signal:a}=i,{data:s}=await e(t,{signal:a,headers:{accept:\"application/json\"},query:{...r,token:n}});return s}async function S(t,i={}){const r=\"application/vnd.oai.openapi+json;version=3.0\",a=G(t.links,\"service-desc\",r);if(n(a))return b.warn(\"ogc-feature-layer:missing-openapi-page\",\"The OGC API-Features server does not have an OpenAPI page.\"),null;const{apiKey:s,customParameters:o,signal:l}=i,{data:c}=await e(a.href,{signal:l,headers:{accept:r},query:{...o,token:s}});return c}function v(e){const t=/^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e),i=null==t?void 0:t.groups;if(!i)return null;const{authority:n,code:r}=i;switch(n.toLowerCase()){case\"ogc\":switch(r.toLowerCase()){case\"crs27\":return h.GCS_NAD_1927.wkid;case\"crs83\":return 4269;case\"crs84\":case\"crs84h\":return h.WGS84.wkid;default:return null}case\"esri\":case\"epsg\":{const e=Number.parseInt(r,10);return Number.isNaN(e)?null:e}default:return null}}async function N(e,t,i){const n=await q(e,t,i);return l(n)}async function q(i,l,p){const{capabilities:{query:{maxRecordCount:m}},collection:g,layerDefinition:y,queryParameters:{apiKey:w,customParameters:b},spatialReference:j,supportedCrs:F}=i,{links:I}=g,T=G(I,\"items\",\"application/geo+json\")||G(I,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if(n(T))throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{geometry:k,num:x,start:S,timeExtent:v,where:N}=l;if(l.objectIds)throw new t(\"ogc-feature-layer:query-by-objectids-not-supported\",\"Queries with objectids are not supported\");const q=h.fromJSON(j),M=r(l.outSpatialReference,q),C=M.isWGS84?null:O(M,F),P=D(k,F),W=R(v),Z=$(N),K=null!=x?x:null!=S&&void 0!==S?10:m,{data:L}=await e(T.href,{...p,query:{...b,...P,crs:C,datetime:W,query:Z,limit:K,startindex:S,token:w},headers:{accept:\"application/geo+json\"}});let A=!1;if(L.links){const e=L.links.find((e=>\"next\"===e.rel));A=!!e}!A&&Number.isInteger(L.numberMatched)&&Number.isInteger(L.numberReturned)&&(A=L.numberReturned<L.numberMatched);const{fields:E,globalIdField:J,hasM:U,hasZ:_,objectIdField:z}=y,B=y.geometryType,Q=f(L,{geometryType:B,hasZ:_,objectIdField:z});if(!C&&M.isWebMercator)for(const e of Q)if(a(e.geometry)){const t=c(e.geometry,B,_,!1);t.spatialReference=h.WGS84,e.geometry=d(o(t,M))}for(const e of Q)e.objectId=e.attributes[z];const V=C||!C&&M.isWebMercator?M.toJSON():s,H=new u;return H.exceededTransferLimit=A,H.features=Q,H.fields=E,H.geometryType=B,H.globalIdFieldName=J,H.hasM=U,H.hasZ=_,H.objectIdFieldName=z,H.spatialReference=V,H}function M(e){return a(e)&&\"extent\"===e.type}function O(e,t){var i,n,r;const{isWebMercator:a,wkid:s}=e;if(!s)return null;const o=a?null!=(i=null!=(n=null!=(r=t[3857])?r:t[102100])?n:t[102113])?i:t[900913]:t[e.wkid];return o?`${j}${o}`:null}function C(e){if(n(e))return\"\";const{xmin:t,ymin:i,xmax:r,ymax:a}=e;return`${t},${i},${r},${a}`}function R(e){if(n(e))return null;const{start:t,end:i}=e;return`${a(t)?t.toISOString():\"..\"}/${a(i)?i.toISOString():\"..\"}`}function $(e){return n(e)||!e||\"1=1\"===e?null:e}function D(e,t){if(!M(e))return null;const{spatialReference:i}=e;if(!i||i.isWGS84)return{bbox:C(e)};const n=O(i,t);return a(n)?{bbox:C(e),\"bbox-crs\":n}:i.isWebMercator?{bbox:C(o(e,h.WGS84))}:null}function G(e,t,i){return e.find((e=>e.rel===t&&e.type===i))||e.find((e=>e.rel===t&&!e.type))}export{F as crsDefault,j as crsPrefix,I as getCollectionDefinition,T as getServerCollections,k as getServerConformance,x as getServerLandingPage,S as getServerOpenApi,v as getSpatialReferenceWkid,N as queryFeatureSetJSON,q as queryOptimizedFeatureSet};\n"],"names":["$8TSCy","parcelRequire","$11e41f453837c1b2$var$b","$jHOLN","default","getLogger","$11e41f453837c1b2$export$a862d1e5549c235e","$11e41f453837c1b2$export$7198a7c70a18d365","concat","$11e41f453837c1b2$export$24213b55d80e55b6","i1","r1","$11e41f453837c1b2$var$_I","apply","this","arguments","asyncToGenerator","$parcel$interopDefault","$2TvXO","mark","_callee","a1","s1","o1","l1","ref","c1","d1","u1","f1","h1","j1","F1","I1","e3","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","e1","e2","t3","t1","t2","_args","length","links","$11e41f453837c1b2$var$G","$7qybv","isNone","$kyj08","$9pNSx","href","signal","query","objectSpread","limit","customParameters","token","apiKey","headers","accept","_ctx","sent","data","$4shxe","validateGeoJSON","inferLayerProperties","geometryType","fields","hasZ","objectIdField","objectIdFieldName","timeInfo","find","e4","name","objectIdFieldType","unshift","alias","type","editable","nullable","e5","unknownFields","warn","message","details","undefined","Symbol","iterator","next","done","value","field","$82Efb","kebabDict","jsonValues","indexOf","t0","return","$4nMX7","startTimeField","get","endTimeField","trackIdField","drawingInfo","$dxhdj","createDrawingInfo","$11e41f453837c1b2$export$5d523a7208f4f8da","i2","$11e41f453837c1b2$var$_T","r2","a2","s2","o2","l2","c2","d2","$11e41f453837c1b2$export$93d574baeb78ab9a","i3","$11e41f453837c1b2$var$_k","r3","a3","s3","o3","l3","c3","d3","$11e41f453837c1b2$export$62c636d9d8115d3e","t4","$11e41f453837c1b2$var$_x","_$i","n1","r4","a4","s4","$11e41f453837c1b2$export$44f29646145b37e0","t5","$11e41f453837c1b2$var$_S","r5","a5","s5","o4","l4","c4","$11e41f453837c1b2$export$ed78903d7b2b7524","e6","t6","RegExp","exec","groups","n2","authority","r6","code","toLowerCase","$j40xv","GCS_NAD_1927","wkid","WGS84","_$e","Number","parseInt","isNaN","$11e41f453837c1b2$export$ea2b37f60200e98f","e7","t7","i4","$11e41f453837c1b2$var$_N","n3","$11e41f453837c1b2$export$65e1559597a7a0ea","$akQYU","convertToFeatureSet","i5","l5","p1","$11e41f453837c1b2$var$_q","m1","g1","y1","_queryParameters","w1","b1","j2","F2","I2","T1","k1","x1","S1","v1","N1","q1","M1","C1","P","W","Z","K","L","A","e10","E","J","U","_","z","B","Q","e8","t8","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_iterator1","_step1","e9","V","H","capabilities","_query","_capabilities","maxRecordCount","collection","layerDefinition","queryParameters","spatialReference","supportedCrs","geometry","num","start","timeExtent","where","objectIds","fromJSON","unwrapOr","outSpatialReference","isWGS84","$11e41f453837c1b2$var$O","$11e41f453837c1b2$var$D","$11e41f453837c1b2$var$R","$11e41f453837c1b2$var$$","crs","datetime","startindex","e11","rel","isInteger","numberMatched","numberReturned","globalIdField","hasM","createOptimizedFeatures","isWebMercator","isSome","convertToGeometry","convertFromGeometry","$eF88h","project","objectId","attributes","toJSON","$eY5Yp","$awJRz","exceededTransferLimit","features","globalIdFieldName","e13","t9","n4","r7","a6","o5","$11e41f453837c1b2$var$C","e14","t10","xmin","ymin","r8","xmax","a7","ymax","e15","t11","end","toISOString","e16","e17","t12","e12","bbox","n5","e18","t13","i6","e19","e20"],"version":3,"file":"Pipeline.e1218031.js.map"}