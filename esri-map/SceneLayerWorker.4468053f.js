function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("11hek",(function(n,r){e(n.exports,"process",(function(){return c})),e(n.exports,"initialize",(function(){return M})),e(n.exports,"dracoDecompressPointCloudData",(function(){return u})),e(n.exports,"filterObbsForModifications",(function(){return l})),e(n.exports,"filterObbsForModificationsSync",(function(){return I})),e(n.exports,"setModifications",(function(){return d})),e(n.exports,"setModificationsSync",(function(){return h})),e(n.exports,"setLegacySchema",(function(){return y})),e(n.exports,"destroyContext",(function(){return m})),e(n.exports,"interpretObbModificationResults",(function(){return E})),e(n.exports,"test",(function(){return T}));var o=t("1CpCt"),i=t("2DP3b"),s=t("4CaSB"),f=t("lRavZ"),a=t("7hMMx");async function c(e){await M();const t=[e.geometryBuffer];return{result:g(e,t),transferList:t}}async function u(e){var t;await M();const n=[e.geometryBuffer],{geometryBuffer:r}=e,o=r.byteLength,s=b._malloc(o),f=new Uint8Array(b.HEAPU8.buffer,s,o);f.set(new Uint8Array(r));const a=b.dracoDecompressPointCloudData(s,f.byteLength);if(b._free(s),a.error.length>0)throw`i3s.wasm: ${a.error}`;const c=(null==(t=a.featureIds)?void 0:t.length)>0?(0,i.slice)(a.featureIds):null,u=(0,i.slice)(a.positions);return c&&n.push(c.buffer),n.push(u.buffer),{result:{positions:u,featureIds:c},transferList:n}}async function l(e){await M(),I(e);const t={buffer:e.buffer};return{result:t,transferList:[t.buffer]}}async function d(e){await M(),h(e)}async function y(e){await M(),b.setLegacySchema(e.context,e.jsonSchema)}function m(e){w(e)}let p,b;function h(e){const t=e.modifications,n=b._malloc(8*t.length),r=new Float64Array(b.HEAPU8.buffer,n,t.length);for(let e=0;e<t.length;++e)r[e]=t[e];b.setModifications(e.context,n,t.length,e.isGeodetic),b._free(n)}function g(e,t){if(!b)return null;const{context:n,localOrigin:r,globalTrafo:f,mbs:a,obb:c,elevationOffset:u,geometryBuffer:l,geometryDescriptor:d,indexToVertexProjector:y,vertexToRenderProjector:m}=e,p=b._malloc(l.byteLength),h=b._malloc(33*Float64Array.BYTES_PER_ELEMENT),g=new Uint8Array(b.HEAPU8.buffer,p,l.byteLength);g.set(new Uint8Array(l));const E=new Float64Array(b.HEAPU8.buffer,h,33);x(E,r);let I=E.byteOffset+3*E.BYTES_PER_ELEMENT,w=new Float64Array(E.buffer,I);x(w,f),I+=16*E.BYTES_PER_ELEMENT,w=new Float64Array(E.buffer,I),x(w,a),I+=4*E.BYTES_PER_ELEMENT,(0,o.isSome)(c)&&(w=new Float64Array(E.buffer,I),x(w,c.center),I+=3*E.BYTES_PER_ELEMENT,w=new Float64Array(E.buffer,I),x(w,c.halfSize),I+=3*E.BYTES_PER_ELEMENT,w=new Float64Array(E.buffer,I),x(w,c.quaternion));const M=d,T={isDraco:!1,isLegacy:!1,color:e.layouts.some((e=>e.some((e=>"color"===e.name)))),normal:e.needNormals&&e.layouts.some((e=>e.some((e=>"normalCompressed"===e.name)))),uv0:e.layouts.some((e=>e.some((e=>"uv0"===e.name)))),uvRegion:e.layouts.some((e=>e.some((e=>"uvRegion"===e.name)))),featureIndex:M.featureIndex},_=b.process(n,!!e.obb,p,g.byteLength,M,T,h,u,y,m,e.normalReferenceFrame);if(b._free(h),b._free(p),_.error.length>0)throw`i3s.wasm: ${_.error}`;if(_.discarded)return null;const U=_.componentOffsets.length>0?(0,i.slice)(_.componentOffsets):null,R=_.featureIds.length>0?(0,i.slice)(_.featureIds):null,A=(0,i.slice)(_.interleavedVertedData).buffer,L=_.indicesType===s.IndexType.Int16?(0,i.slice)(new Uint16Array(_.indices.buffer,_.indices.byteOffset,_.indices.byteLength/2)):(0,i.slice)(new Uint32Array(_.indices.buffer,_.indices.byteOffset,_.indices.byteLength/4)),N=(0,i.slice)(_.positions),v=_.positionIndicesType===s.IndexType.Int16?(0,i.slice)(new Uint16Array(_.positionIndices.buffer,_.positionIndices.byteOffset,_.positionIndices.byteLength/2)):(0,i.slice)(new Uint32Array(_.positionIndices.buffer,_.positionIndices.byteOffset,_.positionIndices.byteLength/4)),P={layout:e.layouts[0],interleavedVertexData:A,indices:L,hasColors:_.hasColors,hasModifications:_.hasModifications,positionData:{data:N,indices:v}};return R&&t.push(R.buffer),U&&t.push(U.buffer),t.push(A),t.push(L.buffer),t.push(N.buffer),t.push(v.buffer),{componentOffsets:U,featureIds:R,transformedGeometry:P,obb:_.obb}}function E(e){return 0===e?a.NodeIMModificationImpact.Unmodified:1===e?a.NodeIMModificationImpact.PotentiallyModified:2===e?a.NodeIMModificationImpact.Culled:a.NodeIMModificationImpact.Unknown}function I(e){const{context:t,buffer:n}=e,r=b._malloc(n.byteLength),o=n.byteLength/Float64Array.BYTES_PER_ELEMENT,i=new Float64Array(b.HEAPU8.buffer,r,o),s=new Float64Array(n);i.set(s),b.filterOBBs(t,r,o),s.set(i),b._free(r)}function w(e){b&&b.destroy(e)}function x(e,t){for(let n=0;n<t.length;++n)e[n]=t[n]}function M(){return b?Promise.resolve():(p||(p=(0,f.get)().then((e=>{b=e,p=null}))),p)}const T={transform:g,destroy:w}})),t.register("4CaSB",(function(t,n){var r,o,i,s;e(t.exports,"IndexType",(function(){return r})),(s=r||(r={}))[s.None=0]="None",s[s.Int16=1]="Int16",s[s.Int32=2]="Int32",(i=o||(o={}))[i.Replace=0]="Replace",i[i.Outside=1]="Outside",i[i.Inside=2]="Inside",i[i.Finished=3]="Finished"})),t.register("lRavZ",(function(n,r){e(n.exports,"get",(function(){return i}));var o=t("cQaZU");function i(){return f||(f=new Promise((e=>t("9lYxg").then((e=>e.i)).then((({default:t})=>{const n=t({locateFile:s,onRuntimeInitialized:()=>e(n)});delete n.then})))).catch((e=>Promise.reject(e)))),f}function s(e){return(0,o.getAssetUrl)(`esri/libs/i3s/${e}`)}let f})),t.register("9lYxg",(function(e,n){e.exports=import("./"+t("kyEFX").resolve("1wRnj")).then((()=>t("d6vGE")))})),t.register("7hMMx",(function(n,r){e(n.exports,"NodeIMModificationImpact",(function(){return i}));var o,i,s,f,a,c,u,l,d,y;t("64ROT");(u=o||(o={}))[u.Unmodified=0]="Unmodified",u[u.Culled=1]="Culled",u[u.NotChecked=2]="NotChecked",(c=i||(i={}))[c.Unmodified=0]="Unmodified",c[c.PotentiallyModified=1]="PotentiallyModified",c[c.Culled=2]="Culled",c[c.Unknown=3]="Unknown",c[c.NotChecked=4]="NotChecked";(y=s||(s={}))[y.Unknown=0]="Unknown",y[y.Uncached=1]="Uncached",y[y.Cached=2]="Cached",(d=f||(f={}))[d.None=0]="None",d[d.MaxScreenThreshold=1]="MaxScreenThreshold",d[d.ScreenSpaceRelative=2]="ScreenSpaceRelative",d[d.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",d[d.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera",(l=a||(a={}))[l.Hole=0]="Hole",l[l.Leaf=1]="Leaf"})),t.register("64ROT",(function(t,n){function r(){return[0,0,0,0]}function o(e,t,n,r){return[e,t,n,r]}function i(e){const t=[0,0,0,0],n=Math.min(4,e.length);for(let r=0;r<n;++r)t[r]=e[r];return t}function s(e,t){return new Float64Array(e,t,4)}function f(){return[0,0,0,0]}function a(){return o(1,1,1,1)}function c(){return o(1,0,0,0)}function u(){return o(0,1,0,0)}function l(){return o(0,0,1,0)}function d(){return o(0,0,0,1)}e(t.exports,"c",(function(){return r})),e(t.exports,"f",(function(){return o})),e(t.exports,"d",(function(){return i})),e(t.exports,"a",(function(){return s}));const y=[0,0,0,0],m=a(),p=c(),b=u(),h=l(),g=d();Object.freeze({__proto__:null,create:r,clone:function(e){return[e[0],e[1],e[2],e[3]]},fromValues:o,fromArray:i,createView:s,zeros:f,ones:a,unitX:c,unitY:u,unitZ:l,unitW:d,ZEROS:y,ONES:m,UNIT_X:p,UNIT_Y:b,UNIT_Z:h,UNIT_W:g})}));
//# sourceMappingURL=SceneLayerWorker.4468053f.js.map
