function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("dgMXU",(function(r,n){e(r.exports,"previewCIMSymbol",(function(){return m}));var a=t("jCR4P"),i=t("dxvsg"),o=t("cctKA"),s=t("3DOhA"),l=t("1dJvi");const c=new(0,i.CIMSymbolRasterizer)(null,!0),u=s.SymbolSizeDefaults.maxSize;async function m(e,t={}){const{size:r,maxSize:n,node:i,opacity:s}=t,m=t.cimOptions||t,{feature:h,fieldMap:f,geometryType:g,style:p}=m,y=(0,o.getCIMSymbolSize)(e),d="number"==typeof r?r:null,x=Math.min(null!=d?d:y,null!=n?n:(0,a.px2pt)(u));x!==y&&(e=e.clone(),(0,o.scaleCIMSymbolTo)(e,x,{preserveOutlineWidth:!0}));let C=3;e&&e.data&&e.data.symbol&&"CIMPointSymbol"!==e.data.symbol.type&&(C=1);const v=await c.rasterizeCIMSymbolAsync(e,h,f,g,{scaleFactor:C,style:p}),M=document.createElement("canvas");M.width=v.imageData.width,M.height=v.imageData.height,M.getContext("2d").putImageData(v.imageData,0,0);let P=M.width/C,b=M.height/C;if(null!=r&&(null==(null==t?void 0:t.scale)||(null==t?void 0:t.scale))){const e=P/b;P=e<=1?Math.ceil(x*e):x,b=e<=1?x:Math.ceil(x/e)}const w=new Image(P,b);w.src=M.toDataURL(),null!=s&&(w.style.opacity=`${s}`);let z=w;if(null!=t.effectView){const e={shape:{type:"image",x:0,y:0,width:P,height:b,src:w.src},fill:null,stroke:null,offset:[0,0]};z=(0,l.renderSymbol)([[e]],[P,b],{effectView:t.effectView})}return i&&i.appendChild(z),z}})),t.register("dxvsg",(function(r,n){e(r.exports,"CIMSymbolRasterizer",(function(){return M}));var a,i,o=t("hJt7u"),s=t("bYA0c"),l=t("lHg4e"),c=t("jCR4P"),u=t("29Fuv"),m=t("86d4E"),h=t("9LGQK"),f=t("3wo8n"),g=t("fVrYx"),p=t("gL81R"),y=t("2Yxj7"),d=t("cctKA"),x=t("1Ctpz");(i=a||(a={})).Legend="legend",i.Preview="preview";const C=(e,t,r)=>{if(e&&e.targetSize){let n;if(r){const t=Math.max(r.frame.xmax-r.frame.xmin,r.frame.ymax-r.frame.ymin);n=e.targetSize/(0,c.pt2px)(t)}else n=e.targetSize/t.referenceSize;return n}return e&&e.scaleFactor?e.scaleFactor:1},v={fill:{legend:{frame:{xmax:15,xmin:0,ymax:15,ymin:0},geometry:{rings:[[[0,15],[15,7.5],[15,0],[0,0],[0,15]]]},canvasPaths:{rings:[[[0,15],[0,0],[15,7.5],[15,15],[0,15]]]}},preview:{frame:{xmax:100,xmin:0,ymax:100,ymin:0},geometry:{rings:[[[0,100],[100,100],[100,0],[0,0],[0,100]]]},canvasPaths:{rings:[[[0,100],[0,0],[100,0],[100,100],[0,100]]]}}},stroke:{legend:{frame:{xmax:24,xmin:0,ymax:2,ymin:-2},geometry:{paths:[[[0,0],[12,0],[24,0]]]},canvasPaths:{paths:[[[0,2],[12,2],[24,2]]]}},preview:{frame:{xmax:100,xmin:0,ymax:2,ymin:-2},geometry:{paths:[[[0,0],[50,0],[100,0]]]},canvasPaths:{paths:[[[0,2],[50,2],[100,2]]]}}}};class M{async rasterizeCIMSymbolAsync(e,t,r,n,a,i,o,s){n=n||(t?null!=t.centroid?"esriGeometryPolygon":(0,m.getJsonType)(t.geometry):null)||function(e){if(!(e&&e.data&&e.data.symbol))return null;switch(e.data.symbol.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}(e);const l=await this.analyzeCIMSymbol(e,t?(c=t.attributes,(c?Object.keys(c):[]).map((e=>({name:e,alias:e,type:"string"==typeof c[e]?"esriFieldTypeString":"esriFieldTypeDouble"})))):null,r,n,s);var c;return this.rasterizeCIMSymbol(l,t,n,a,i,o)}async analyzeCIMSymbol(e,t,r,n,a){const i=[],o=t?{geometryType:n,spatialReference:this._spatialReference,fields:t}:null;let s;await(0,h.analyzeCIMSymbol)(e.data,o,this._cimResourceManager,i,this._avoidSDF),(0,l.throwIfAborted)(a);for(const e of i)"CIMPictureMarker"!==e.cim.type&&"CIMPictureFill"!==e.cim.type&&"CIMPictureStroke"!==e.cim.type||(s||(s=[]),s.push(this._fetchPictureMarkerResource(e,a))),r&&"text"===e.type&&"string"==typeof e.text&&e.text.indexOf("[")>-1&&(e.text=(0,y.createLabelOverrideFunction)(r,e.text,e.cim.textCase));return s&&await Promise.all(s),i}async _fetchPictureMarkerResource(e,t){const r=e.materialHash;if(!this._pictureMarkerCache.get(r)){const n=(await(0,s.default)(e.cim.url,{responseType:"image",signal:t&&t.signal})).data;this._pictureMarkerCache.set(r,n)}}rasterizeCIMSymbol(e,t,r,n,a,i){const o=[];for(const s of e){n&&"function"==typeof n.scaleFactor&&(n.scaleFactor=n.scaleFactor(t,a,i));const e=this._getRasterizedResource(s,t,r,n,a,i);if(!e)continue;let l=0,c=e.anchorX||0,u=e.anchorY||0,m=!1,h=0,f=0;if("esriGeometryPoint"===r){const e=C(n,s,null);if(h=(0,y.evaluateValueOrFunction)(s.offsetX,t,a,i)*e||0,f=(0,y.evaluateValueOrFunction)(s.offsetY,t,a,i)*e||0,"marker"===s.type)l=(0,y.evaluateValueOrFunction)(s.rotation,t,a,i)||0,m=!!s.rotateClockwise&&s.rotateClockwise;else if("text"===s.type){if(l=(0,y.evaluateValueOrFunction)(s.angle,t,a,i)||0,void 0!==s.horizontalAlignment)switch(s.horizontalAlignment){case"left":c=-.5;break;case"right":c=.5;break;default:c=0}if(void 0!==s.verticalAlignment)switch(s.verticalAlignment){case"top":u=.5;break;case"bottom":u=-.5;break;case"baseline":u=-.25;break;default:u=0}}}null!=e&&o.push({angle:l,rotateClockWise:m,anchorX:c,anchorY:u,offsetX:h,offsetY:f,rasterizedResource:e})}return this.getSymbolImage(o)}getSymbolImage(e){const t=document.createElement("canvas"),r=t.getContext("2d");let n=0,a=0,i=0,o=0;const s=[];for(let t=0;t<e.length;t++){const l=e[t],u=l.rasterizedResource;if(!u)continue;const m=u.size,h=l.offsetX,f=l.offsetY,g=l.anchorX,p=l.anchorY,y=l.rotateClockWise||!1;let d=l.angle,x=(0,c.pt2px)(h)-m[0]*(.5+g),C=(0,c.pt2px)(f)-m[1]*(.5+p),v=x+m[0],M=C+m[1];if(d){y&&(d=-d);const e=Math.sin(d*Math.PI/180),t=Math.cos(d*Math.PI/180),r=x*t-C*e,n=x*e+C*t,a=x*t-M*e,i=x*e+M*t,o=v*t-M*e,s=v*e+M*t,l=v*t-C*e,c=v*e+C*t;x=Math.min(r,a,o,l),C=Math.min(n,i,s,c),v=Math.max(r,a,o,l),M=Math.max(n,i,s,c)}n=x<n?x:n,a=C<a?C:a,i=v>i?v:i,o=M>o?M:o;const P=r.createImageData(u.size[0],u.size[1]);P.data.set(new Uint8ClampedArray(u.image.buffer));const b={offsetX:h,offsetY:f,rotateClockwise:y,angle:d,rasterizedImage:P,anchorX:g,anchorY:p};s.push(b)}t.width=i-n,t.height=o-a;const l=-n,u=o;for(let e=0;e<s.length;e++){const t=s[e],n=this._imageDataToCanvas(t.rasterizedImage),a=t.rasterizedImage.width,i=t.rasterizedImage.height,o=l-a*(.5+t.anchorX),m=u-i*(.5-t.anchorY);if(t.angle){const e=(360-t.angle)*Math.PI/180;r.save(),r.translate((0,c.pt2px)(t.offsetX),-(0,c.pt2px)(t.offsetY)),r.translate(l,u),r.rotate(e),r.translate(-l,-u),r.drawImage(n,o,m),r.restore()}else r.drawImage(n,o+(0,c.pt2px)(t.offsetX),m-(0,c.pt2px)(t.offsetY))}const m=new(0,x.Symbol3DAnchorPosition2D)({x:l/t.width-.5,y:u/t.height-.5});return{imageData:0!==t.width&&0!==t.height?r.getImageData(0,0,t.width,t.height):r.createImageData(1,1),anchorPosition:m}}_imageDataToCanvas(e){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const t=this._imageDataCanvas,r=t.getContext("2d");return t.width=e.width,t.height=e.height,r.putImageData(e,0,0),t}_imageTo32Array(e,t,r,n){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const a=this._imageDataCanvas,i=a.getContext("2d");if(a.width=t,a.height=r,i.drawImage(e,0,0,t,r),n){i.save();const a=new(0,o.default)(n);i.fillStyle=a.toHex(),i.globalCompositeOperation="multiply",i.fillRect(0,0,t,r),i.globalCompositeOperation="destination-atop",i.drawImage(e,0,0,t,r),i.restore()}return new Uint32Array(i.getImageData(0,0,t,r).data.buffer)}_getRasterizedResource(e,t,r,n,i,o){let s,l,c,m,h=null,f=null;if("esriGeometryPolyline"===r||"esriGeometryPolygon"===r){const m=n&&n.style?n.style:a.Legend,g="esriGeometryPolyline"===r?v.stroke[m]:v.fill[m];if("line"===e.type){if("CIMSolidStroke"!==e.cim.type){if("CIMPictureStroke"===e.cim.type){const r=(0,y.evaluateValueOrFunction)(e.width,t,i,o),n=(0,y.evaluateValueOrFunction)(e.color,t,i,o),{image:a,width:s,height:l}=this._getPictureResource(e,r,n);return this._rasterizePictureResource(e,a,s,l,g,r)}return null}({analyzedCIM:s,hash:c}=P(e,t,i,o)),l=this._embedCIMLayerInVectorMarker(s,g)}else if("marker"===e.type){if("CIMPictureMarker"===e.cim.type){const r=(0,y.evaluateValueOrFunction)(e.size,t,i,o),n=(0,y.evaluateValueOrFunction)(e.color,t,i,o),{image:a,width:s,height:l}=this._getPictureResource(e,r,n);return this._rasterizePictureResource(e,a,s,l,g,r)}if("CIMVectorMarker"!==e.cim.type)return null;e.cim.offsetX=(0,y.evaluateValueOrFunction)(e.offsetX,t,i,o),e.cim.offsetY=(0,y.evaluateValueOrFunction)(e.offsetY,t,i,o),e.cim.rotation=(0,y.evaluateValueOrFunction)(e.rotation,t,i,o),e.cim.markerPlacement=e.markerPlacement,({analyzedCIM:s}=P(e,t,i,o)),c=(0,u.numericHash)(JSON.stringify(s)).toString(),l=this._embedCIMLayerInVectorMarker(s,g),h=(0,y.evaluateValueOrFunction)(e.size,t,i,o),f=e.path}else{if("text"===e.type)return null;if("fill"===e.type){if("CIMHatchFill"===e.cim.type||"CIMVectorMarker"===e.cim.type||"CIMPictureMarker"===e.cim.type||"CIMPictureFill"===e.cim.type){const r=e.cim.size||e.cim.height;let n,a,l;if("CIMPictureMarker"===e.cim.type||"CIMPictureFill"===e.cim.type)({image:n,width:a,height:l}=this._getPictureResource(e,r,(0,y.evaluateValueOrFunction)(e.color,t,i,o)));else{({analyzedCIM:s,hash:c}=P(e,t,i,o));const u=this._rasterizer.rasterizeJSONResource({cim:s,type:e.type,url:e.url,mosaicHash:c,size:r,path:f},1,this._avoidSDF);n=u.image,a=u.size[0],l=u.size[1]}return this._rasterizePictureResource(e,n,a,l,g,null)}if("CIMSolidFill"!==e.cim.type)return null;({analyzedCIM:s,hash:c}=P(e,t,i,o)),l=this._embedCIMLayerInVectorMarker(s,g)}}}else{if("text"===e.type)return m=this._rasterizeTextResource(e,t,n,i,o),m;({analyzedCIM:s,hash:c}=P(e,t,i,o));const r=C(n,e,null);if("CIMPictureMarker"===e.cim.type){const n=(0,y.evaluateValueOrFunction)(e.size,t,i,o)*r,{image:a,width:s,height:l}=this._getPictureResource(e,n,(0,y.evaluateValueOrFunction)(e.color,t,i,o));return m={image:a,size:[s,l],sdf:!1,simplePattern:!1,anchorX:e.anchorPoint?e.anchorPoint.x:0,anchorY:e.anchorPoint?e.anchorPoint.y:0},m}(0,d.scaleCIMMarker)(s,r,{preserveOutlineWidth:!1}),l=s}c+=r,n&&(c+=JSON.stringify(n));const g=this._resourceCache;return g.has(c)?g.get(c):(m=this._rasterizer.rasterizeJSONResource({cim:l,type:e.type,url:e.url,mosaicHash:c,size:h,path:f},window.devicePixelRatio||1,this._avoidSDF),g.set(c,m),m)}_rasterizeTextResource(e,t,r,n,a){const i=C(r,e,null),o=(0,y.evaluateValueOrFunction)(e.text,t,n,a);if(!o||0===o.length)return null;const s=(0,y.evaluateValueOrFunction)(e.fontName,t,n,a),l=(0,y.evaluateValueOrFunction)(e.style,t,n,a),c=(0,y.evaluateValueOrFunction)(e.weight,t,n,a),u=(0,y.evaluateValueOrFunction)(e.decoration,t,n,a),m=(0,y.evaluateValueOrFunction)(e.size,t,n,a)*i,h=(0,y.evaluateValueOrFunction)(e.horizontalAlignment,t,n,a),f=(0,y.evaluateValueOrFunction)(e.verticalAlignment,t,n,a),g=(0,y.colorToArray)((0,y.evaluateValueOrFunction)(e.color,t,n,a)),p=(0,y.colorToArray)((0,y.evaluateValueOrFunction)(e.outlineColor,t,n,a)),d={color:g,size:m,horizontalAlignment:h,verticalAlignment:f,font:{family:s,style:l,weight:c,decoration:u},halo:{size:(0,y.evaluateValueOrFunction)(e.outlineSize,t,n,a)||0,color:p,style:l},pixelRatio:1,premultiplyColors:!this._avoidSDF};return this._textRasterizer.rasterizeText(o,d)}_rasterizePictureResource(e,t,r,n,a,i){const o=document.createElement("canvas"),s=o.getContext("2d");o.height=(0,c.pt2px)(Math.max(a.frame.ymax-a.frame.ymin,i)),o.width=(0,c.pt2px)(a.frame.xmax-a.frame.xmin);const l=s.createImageData(r,n);l.data.set(new Uint8ClampedArray(t.buffer));const u=this._imageDataToCanvas(l),h=s.createPattern(u,"repeat"),f=Math.cos((-e.cim.rotation||0)*Math.PI/180),g=Math.sin((-e.cim.rotation||0)*Math.PI/180);h.setTransform({m11:f,m12:g,m21:-g,m22:f,m41:(0,c.pt2px)(e.cim.offsetX)||0,m42:(0,c.pt2px)(e.cim.offsetY)||0});const p=a.canvasPaths;let y,d,x;(0,m.isPolygon)(p)?(y=p.rings,s.fillStyle=h,d=s.fill,x=["evenodd"]):(0,m.isPolyline)(p)&&(y=p.paths,s.strokeStyle=h,s.lineWidth=i,d=s.stroke,y[0][0][1]=o.height/2,y[0][1][1]=o.height/2),s.beginPath();for(const e of y){const t=e?e.length:0;if(t>1){let r=e[0];s.moveTo((0,c.pt2px)(r[0]),(0,c.pt2px)(r[1]));for(let n=1;n<t;++n)r=e[n],s.lineTo((0,c.pt2px)(r[0]),(0,c.pt2px)(r[1]));s.closePath()}}d.apply(s,x);const C=s.getImageData(0,0,o.width,o.height),v=new Uint8Array(C.data);return{size:[o.width,o.height],image:new Uint32Array(v.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}_getPictureResource(e,t,r){const n=this._pictureMarkerCache.get(e.materialHash);if(!n)return null;const a=n.height/n.width,i=t?a>1?(0,c.pt2px)(t):(0,c.pt2px)(t)/a:n.width,o=t?a>1?(0,c.pt2px)(t)*a:(0,c.pt2px)(t):n.height;return{image:this._imageTo32Array(n,i,o,r),width:i,height:o}}_embedCIMLayerInVectorMarker(e,t){const r=(0,m.isPolygon)(t.geometry)?"CIMPolygonSymbol":"CIMLineSymbol",n=t.frame;return{type:"CIMVectorMarker",frame:n,size:n.ymax-n.ymin,markerGraphics:[{type:"CIMMarkerGraphic",geometry:t.geometry,symbol:{type:r,symbolLayers:[e]}}]}}constructor(e,t){this._spatialReference=e,this._avoidSDF=t,this._resourceCache=new Map,this._pictureMarkerCache=new Map,this._textRasterizer=new(0,p.TextRasterizer),this._cimResourceManager=new(0,f.default),this._rasterizer=new(0,g.default)(this._cimResourceManager)}}function P(e,t,r,n){let a,i;return"function"==typeof e.materialHash?(a=(0,e.materialHash)(t,r,n),i=(0,h.analyzeCIMResource)(e.cim,e.materialOverrides)):(a=e.materialHash,i=e.cim),{analyzedCIM:i,hash:a}}})),t.register("fVrYx",(function(r,n){e(r.exports,"default",(function(){return l}));var a=t("1kN4D"),i=t("73uKL"),o=t("3Ft3r"),s=t("2Yxj7");class l{dispose(){this._rasterizationCanvas=null}rasterizeJSONResource(e,t,r){if(this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas")),"simple-fill"===e.type||"esriSFS"===e.type){const[r,n,i]=a.SymbolHelper.rasterizeSimpleFill(this._rasterizationCanvas,e.style,t);return{size:[n,i],image:new Uint32Array(r.buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0}}if("simple-line"===e.type||"esriSLS"===e.type||"line"===e.type&&e.dashTemplate){let t,r;if("simple-line"===e.type||"esriSLS"===e.type)switch(t=(0,a.slsDashToTemplateArray)(e.style,e.cap),e.cap){case"butt":r="Butt";break;case"square":r="Square";break;default:r="Round"}else t=e.dashTemplate,r=e.cim.capStyle;const[n,i,o]=a.SymbolHelper.rasterizeSimpleLine(t,r);return{size:[i,o],image:new Uint32Array(n.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}}let n,s,l;if("simple-marker"===e.type||"esriSMS"===e.type||"line-marker"===e.type?(n=a.CIMSymbolHelper.fromSimpleMarker(e),l=(0,o.getSDFInfo)(n)):e.cim&&"CIMHatchFill"===e.cim.type?(n=a.CIMSymbolHelper.fromCIMHatchFill(e.cim),s=new(0,i.default)(n.frame.xmin,-n.frame.ymax,n.frame.xmax-n.frame.xmin,n.frame.ymax-n.frame.ymin)):e.cim.markerPlacement&&"CIMMarkerPlacementInsidePolygon"===e.cim.markerPlacement.type?(n=a.CIMSymbolHelper.fromCIMInsidePolygon(e.cim),s=new(0,i.default)(n.frame.xmin,-n.frame.ymax,n.frame.xmax-n.frame.xmin,n.frame.ymax-n.frame.ymin)):(n=e.cim,l=(0,o.getSDFInfo)(n)),l&&!r){const[e,t,r]=(0,o.buildSDF)(l);return e?{size:[t,r],image:new Uint32Array(e.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}:null}const[c,u,m,h,f]=a.CIMSymbolHelper.rasterize(this._rasterizationCanvas,n,s,this._resourceManager,!r);return c?{size:[u,m],image:new Uint32Array(c.buffer),sdf:!1,simplePattern:!1,anchorX:h,anchorY:f}:null}rasterizeImageResource(e,t,r,n){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas")),this._rasterizationCanvas.width=e,this._rasterizationCanvas.height=t;const a=this._rasterizationCanvas.getContext("2d");r instanceof ImageData?a.putImageData(r,0,0):(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`),a.drawImage(r,0,0,e,t));const i=a.getImageData(0,0,e,t),o=new Uint8Array(i.data);if(n)for(const e of n)if(e&&e.oldColor&&4===e.oldColor.length&&e.newColor&&4===e.newColor.length){const[t,r,n,a]=e.oldColor,[i,s,l,c]=e.newColor;if(t===i&&r===s&&n===l&&a===c)continue;for(let e=0;e<o.length;e+=4)t===o[e]&&r===o[e+1]&&n===o[e+2]&&a===o[e+3]&&(o[e]=i,o[e+1]=s,o[e+2]=l,o[e+3]=c)}let l;for(let e=0;e<o.length;e+=4)l=o[e+3]/255,o[e]=o[e]*l,o[e+1]=o[e+1]*l,o[e+2]=o[e+2]*l;let c=o,u=e,m=t;const h=512;if(u>=h||m>=h){const r=u/m;r>1?(u=h,m=Math.round(h/r)):(m=h,u=Math.round(h*r)),c=new Uint8Array(4*u*m);const n=new Uint8ClampedArray(c.buffer);(0,s.resampleHermite)(o,e,t,n,u,m,!1)}return{size:[u,m],image:new Uint32Array(c.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}constructor(e){this._resourceManager=e}}})),t.register("1kNSi",(function(r,n){e(r.exports,"toQuantizationTransform",(function(){return c})),e(r.exports,"quantizePoint",(function(){return x})),e(r.exports,"quantizeGeometry",(function(){return M})),e(r.exports,"unquantizeMultipoint",(function(){return P})),e(r.exports,"unquantizePoint",(function(){return b})),e(r.exports,"unquantizePolygon",(function(){return w})),e(r.exports,"unquantizePolyline",(function(){return z}));var a=t("1CpCt"),i=t("86d4E");const o=(e,t,r)=>[t,r],s=(e,t,r)=>[t,r,e[2]],l=(e,t,r)=>[t,r,e[2],e[3]];function c(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance]:[1,1],translate:(0,a.isSome)(e.extent)?[e.extent.xmin,e.extent.ymax]:[0,0]}:null}function u({scale:e,translate:t},r){return Math.round((r-t[0])/e[0])}function m({scale:e,translate:t},r){return Math.round((t[1]-r)/e[1])}function h(e,t,r){const n=[];let a,i,o,s;for(let l=0;l<r.length;l++){const c=r[l];l>0?(o=u(e,c[0]),s=m(e,c[1]),o===a&&s===i||(n.push(t(c,o-a,s-i)),a=o,i=s)):(a=u(e,c[0]),i=m(e,c[1]),n.push(t(c,a,i)))}return n.length>0?n:null}function f({scale:e,translate:t},r){return r*e[0]+t[0]}function g({scale:e,translate:t},r){return t[1]-r*e[1]}function p(e,t,r){const n=new Array(r.length);if(!r.length)return n;const[a,i]=e.scale;let o=f(e,r[0][0]),s=g(e,r[0][1]);n[0]=t(r[0],o,s);for(let e=1;e<r.length;e++){const l=r[e];o+=l[0]*a,s-=l[1]*i,n[e]=t(l,o,s)}return n}function y(e,t,r){const n=new Array(r.length);for(let a=0;a<r.length;a++)n[a]=p(e,t,r[a]);return n}function d(e,t,r,n,a){return t.points=(i=e,c=r.points,u=a,h(i,n?u?l:s:u?s:o,c)),t;var i,c,u}function x(e,t,r,n,a){return t.x=u(e,r.x),t.y=m(e,r.y),t!==r&&(n&&(t.z=r.z),a&&(t.m=r.m)),t}function C(e,t,r,n,a){const i=function(e,t,r,n){const a=[],i=r?n?l:s:n?s:o;for(let r=0;r<t.length;r++){const n=h(e,i,t[r]);n&&n.length>=3&&a.push(n)}return a.length?a:null}(e,r.rings,n,a);return i?(t.rings=i,t):null}function v(e,t,r,n,a){const i=function(e,t,r,n){const a=[],i=r?n?l:s:n?s:o;for(let r=0;r<t.length;r++){const n=h(e,i,t[r]);n&&n.length>=2&&a.push(n)}return a.length?a:null}(e,r.paths,n,a);return i?(t.paths=i,t):null}function M(e,t){return e&&t?(0,i.isPoint)(t)?x(e,{},t,!1,!1):(0,i.isPolyline)(t)?v(e,{},t,!1,!1):(0,i.isPolygon)(t)?C(e,{},t,!1,!1):(0,i.isMultipoint)(t)?d(e,{},t,!1,!1):(0,i.isExtent)(t)?(o=!1,s=!1,(n={}).xmin=u(r=e,(a=t).xmin),n.ymin=m(r,a.ymin),n.xmax=u(r,a.xmax),n.ymax=m(r,a.ymax),n!==a&&(o&&(n.zmin=a.zmin,n.zmax=a.zmax),s&&(n.mmin=a.mmin,n.mmax=a.mmax)),n):null:null;var r,n,a,o,s}function P(e,t,r,n,i){return(0,a.isSome)(r)&&(t.points=(c=e,u=r.points,m=i,p(c,n?m?l:s:m?s:o,u))),t;var c,u,m}function b(e,t,r,n,i){return(0,a.isNone)(r)||(t.x=f(e,r.x),t.y=g(e,r.y),t!==r&&(n&&(t.z=r.z),i&&(t.m=r.m))),t}function w(e,t,r,n,i){return(0,a.isSome)(r)&&(t.rings=(c=e,u=r.rings,m=i,y(c,n?m?l:s:m?s:o,u))),t;var c,u,m}function z(e,t,r,n,i){return(0,a.isSome)(r)&&(t.paths=(c=e,u=r.paths,m=i,y(c,n?m?l:s:m?s:o,u))),t;var c,u,m}})),t.register("3mbeV",(function(t,r){e(t.exports,"u32to4Xu8",(function(){return a})),e(t.exports,"i1616to32",(function(){return i})),e(t.exports,"i8888to32",(function(){return o}));const n=new Float32Array(1);new Uint32Array(n.buffer);function a(e){return[255&e,(65280&e)>>>8,(16711680&e)>>>16,(4278190080&e)>>>24]}function i(e,t){return 65535&e|t<<16}function o(e,t,r,n){return 255&e|(255&t)<<8|(255&r)<<16|n<<24}})),t.register("bVIMy",(function(t,r){var n,a,i,o;function s(e){switch(e){case"left":return n.Left;case"right":return n.Right;case"center":case"justify":return n.Center}}function l(e){switch(e){case"top":return a.Top;case"middle":return a.Center;case"baseline":return a.Baseline;case"bottom":return a.Bottom}}function c(e){switch(e){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[n.Right,a.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[n.Center,a.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[n.Left,a.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[n.Right,a.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[n.Center,a.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[n.Left,a.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[n.Right,a.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[n.Center,a.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[n.Left,a.Top];default:return console.debug(`Found invalid placement type ${e}`),[n.Center,a.Center]}}function u(e){switch(e){case n.Right:return-1;case n.Center:return 0;case n.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${e}`),0}}function m(e){switch(e){case a.Top:return 1;case a.Center:return 0;case a.Bottom:case a.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function h(e){switch(e){case"left":return n.Left;case"right":return n.Right;case"center":case"justify":return n.Center}}function f(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}e(t.exports,"HAlign",(function(){return n})),e(t.exports,"VAlign",(function(){return a})),e(t.exports,"getXAnchorDirection",(function(){return s})),e(t.exports,"getYAnchorDirection",(function(){return l})),e(t.exports,"getAlignmentFromPlacement",(function(){return c})),e(t.exports,"getXDirection",(function(){return u})),e(t.exports,"getYDirection",(function(){return m})),e(t.exports,"getJustification",(function(){return h})),e(t.exports,"isMapAligned",(function(){return f})),(o=n||(n={}))[o.Left=-1]="Left",o[o.Center=0]="Center",o[o.Right=1]="Right",(i=a||(a={}))[i.Top=1]="Top",i[i.Center=0]="Center",i[i.Bottom=-1]="Bottom",i[i.Baseline=2]="Baseline"}));
//# sourceMappingURL=previewCIMSymbol.e4e91085.js.map
