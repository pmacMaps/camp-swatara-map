function e(e,t,i,r){Object.defineProperty(e,t,{get:i,set:r,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("fUvsg",(function(i,r){var n;n=i.exports,Object.defineProperty(n,"__esModule",{value:!0,configurable:!0}),e(i.exports,"default",(function(){return c}));var s=t("j6uz9");t("6TszD"),t("gHCNy"),t("aX9sh"),t("5HTPH"),t("bXKTN");var a=t("qA6zg"),o=t("k2Q7Y"),l=t("35vaU"),h=t("Aq9L6");let u=class extends((0,l.LayerView2DMixin)(h.default)){attach(){this._updateStageChildren(),this.handles.add(this.layerViews.on("after-changes",(()=>this._updateStageChildren())),"grouplayerview2d")}detach(){this.handles.remove("grouplayerview2d"),this.container.removeAllChildren()}update(e){}moveStart(){}viewChange(){}moveEnd(){}_updateStageChildren(){this.container.removeAllChildren(),this.layerViews.forEach(((e,t)=>this.container.addChildAt(e.container,t)))}constructor(){super(...arguments),this.container=new(0,o.GroupContainer)}};u=(0,s._)([(0,a.subclass)("esri.views.2d.layers.GroupLayerView2D")],u);const c=u})),t.register("k2Q7Y",(function(i,r){e(i.exports,"GroupContainer",(function(){return a}));var n=t("eqJSJ"),s=t("l3QXd");class a extends n.default{dispose(){}doRender(e){const t=this.createRenderParams(e),{context:i,painter:r,profiler:n}=t;this._prevFBO=i.getBoundFramebufferObject(),n.recordContainerStart(this.name);const a=this._getFbo(t),o=r.getRenderTarget();i.bindFramebuffer(a),r.setRenderTarget(a),i.setDepthWriteEnabled(!0),i.setColorMask(!0,!0,!0,!0),i.setClearColor(0,0,0,0),i.setClearDepth(1),i.clear(i.gl.COLOR_BUFFER_BIT|i.gl.DEPTH_BUFFER_BIT),i.setDepthWriteEnabled(!1);for(const t of this.children)t.beforeRender(e);for(const e of this.children)e.processRender(t);for(const t of this.children)t.afterRender(e);r.setRenderTarget(o),r.releaseFbo(a),i.bindFramebuffer(this._prevFBO),r.beforeRenderLayer(t,this._clippingInfos?255:0,this.computedOpacity),i.setStencilTestEnabled(!1),i.setStencilWriteMask(0),r.blitTexture(i,a.colorTexture,s.TextureSamplingMode.NEAREST),r.compositeLayer(t,this.computedOpacity),n.recordContainerEnd()}createRenderParams(e){return{...super.createRenderParams(e),blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:1}}_getFbo(e){const{context:t,painter:i}=e,{width:r,height:n}=t.getViewport();return i.acquireFbo(r,n)}constructor(){super(...arguments),this.requiresDedicatedFBO=!1}}})),t.register("Aq9L6",(function(i,r){e(i.exports,"default",(function(){return c}));var n=t("j6uz9"),s=t("26zvD"),a=t("4cIQk"),o=t("hTI69");t("aX9sh"),t("5HTPH"),t("gHCNy");var l=t("qA6zg"),h=t("YRjSC");let u=class extends h.default{initialize(){this.handles.add([this.layerViews.on("change",(e=>this._layerViewsChangeHandler(e))),this.layer.watch("visibilityMode",(()=>this._visibilityModeHandler()),!0),this.watch("visible",(()=>this._visibleHandler()),!0)],"grouplayerview"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]})}set layerViews(e){this._set("layerViews",(0,a.referenceSetter)(e,this._get("layerViews")))}get updatingProgress(){return 0===this.layerViews.length?1:this.layerViews.reduce(((e,t)=>e+t.updatingProgress),0)/this.layerViews.length}isUpdating(){return this.layerViews.some((e=>e.updating))}_hasLayerViewVisibleOverrides(){return this.layerViews.some((e=>e._isOverridden("visible")))}_findLayerViewForLayer(e){return e&&this.layerViews.find((t=>t.layer===e))}_firstVisibleOnLayerOrder(){const e=this.layer.layers.find((e=>{const t=this._findLayerViewForLayer(e);return t&&t.visible}));return e&&this._findLayerViewForLayer(e)}_enforceExclusiveVisibility(e){this._hasLayerViewVisibleOverrides()&&(e||!(e=this._firstVisibleOnLayerOrder())&&this.layerViews.length>0&&(e=this._findLayerViewForLayer(this.layer.layers.getItemAt(0))),this.layerViews.forEach((t=>{t.visible=t===e})))}_layerViewsChangeHandler(e){this.handles.remove("grouplayerview:visible"),this.handles.add(this.layerViews.map((e=>e.watch("visible",(t=>this._layerViewVisibleHandler(t,e)),!0))).toArray(),"grouplayerview:visible");const t=e.added[e.added.length-1];let i=null;t&&t.visible&&(i=t),this._enforceVisibility(i)}_enforceVisibility(e){if(this._hasLayerViewVisibleOverrides())switch(this.layer.visibilityMode){case"inherited":{const e=this.visible;this.layerViews.forEach((t=>{t.visible=e}));break}case"exclusive":this._enforceExclusiveVisibility(e)}}_visibilityModeHandler(){this._enforceVisibility()}_layerViewVisibleHandler(e,t){if(this._hasLayerViewVisibleOverrides())switch(this.layer.visibilityMode){case"inherited":e!==this.visible&&(t.visible=this.visible);break;case"exclusive":this._enforceExclusiveVisibility(e&&t)}}_visibleHandler(){var e;this._hasLayerViewVisibleOverrides()&&"inherited"===(null==(e=this.layer)?void 0:e.visibilityMode)&&this._enforceVisibility()}constructor(e){super(e),this.type="group",this.layerViews=new(0,s.default)}};(0,n._)([(0,o.property)({cast:a.castForReferenceSetter})],u.prototype,"layerViews",null),(0,n._)([(0,o.property)({readOnly:!0})],u.prototype,"updatingProgress",null),(0,n._)([(0,o.property)()],u.prototype,"view",void 0),u=(0,n._)([(0,l.subclass)("esri.views.layers.GroupLayerView")],u);const c=u})),t.register("3mbeV",(function(t,i){e(t.exports,"u32to4Xu8",(function(){return n})),e(t.exports,"i1616to32",(function(){return s})),e(t.exports,"i8888to32",(function(){return a}));const r=new Float32Array(1);new Uint32Array(r.buffer);function n(e){return[255&e,(65280&e)>>>8,(16711680&e)>>>16,(4278190080&e)>>>24]}function s(e,t){return 65535&e|t<<16}function a(e,t,i,r){return 255&e|(255&t)<<8|(255&i)<<16|r<<24}})),t.register("bVIMy",(function(t,i){var r,n,s,a;function o(e){switch(e){case"left":return r.Left;case"right":return r.Right;case"center":case"justify":return r.Center}}function l(e){switch(e){case"top":return n.Top;case"middle":return n.Center;case"baseline":return n.Baseline;case"bottom":return n.Bottom}}function h(e){switch(e){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[r.Right,n.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[r.Center,n.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[r.Left,n.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[r.Right,n.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[r.Center,n.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[r.Left,n.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[r.Right,n.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[r.Center,n.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[r.Left,n.Top];default:return console.debug(`Found invalid placement type ${e}`),[r.Center,n.Center]}}function u(e){switch(e){case r.Right:return-1;case r.Center:return 0;case r.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${e}`),0}}function c(e){switch(e){case n.Top:return 1;case n.Center:return 0;case n.Bottom:case n.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function d(e){switch(e){case"left":return r.Left;case"right":return r.Right;case"center":case"justify":return r.Center}}function v(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}e(t.exports,"HAlign",(function(){return r})),e(t.exports,"VAlign",(function(){return n})),e(t.exports,"getXAnchorDirection",(function(){return o})),e(t.exports,"getYAnchorDirection",(function(){return l})),e(t.exports,"getAlignmentFromPlacement",(function(){return h})),e(t.exports,"getXDirection",(function(){return u})),e(t.exports,"getYDirection",(function(){return c})),e(t.exports,"getJustification",(function(){return d})),e(t.exports,"isMapAligned",(function(){return v})),(a=r||(r={}))[a.Left=-1]="Left",a[a.Center=0]="Center",a[a.Right=1]="Right",(s=n||(n={}))[s.Top=1]="Top",s[s.Center=0]="Center",s[s.Bottom=-1]="Bottom",s[s.Baseline=2]="Baseline"})),t.register("eDdav",(function(i,r){e(i.exports,"createMaterialKey",(function(){return o})),e(i.exports,"FillMaterialKey",(function(){return v})),e(i.exports,"LineMaterialKey",(function(){return p})),e(i.exports,"MarkerMaterialKey",(function(){return f})),e(i.exports,"TextMaterialKey",(function(){return y})),e(i.exports,"LabelMaterialKey",(function(){return x})),e(i.exports,"MaterialKeyBase",(function(){return l}));var n=t("bPmsI"),s=t("bVIMy"),a=t("eyQUy");function o(e,t){switch(e){case a.WGLGeometryType.FILL:return v.from(t);case a.WGLGeometryType.LINE:return p.from(t);case a.WGLGeometryType.MARKER:return f.from(t);case a.WGLGeometryType.TEXT:return y.from(t);case a.WGLGeometryType.LABEL:return x.from(t);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${e}`)}}class l{static load(e){const t=this.shared;return t.data=e,t}set data(e){this._data=e}get data(){return this._data}get geometryType(){return this.bits(8,11)}set geometryType(e){this.setBits(e,8,11)}get mapAligned(){return!!this.bit(20)}set mapAligned(e){this.setBit(20,e)}get sdf(){return!!this.bit(11)}set sdf(e){this.setBit(11,e)}get pattern(){return!!this.bit(12)}set pattern(e){this.setBit(12,e)}get textureBinding(){return this.bits(0,8)}set textureBinding(e){this.setBits(e,0,8)}get geometryTypeString(){switch(this.geometryType){case a.WGLGeometryType.FILL:return"fill";case a.WGLGeometryType.MARKER:return"marker";case a.WGLGeometryType.LINE:return"line";case a.WGLGeometryType.TEXT:return"text";case a.WGLGeometryType.LABEL:return"label";default:throw new(0,n.default)(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(e,t){const i=1<<e;t?this._data|=i:this._data&=~i}bit(e){return(this._data&1<<e)>>e}setBits(e,t,i){for(let r=t,n=0;r<i;r++,n++)this.setBit(r,0!=(e&1<<n))}bits(e,t){let i=0;for(let r=e,n=0;r<t;r++,n++)i|=this.bit(r)<<n;return i}hasVV(){return!1}setVV(e,t){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}}getVariationHash(){return this._data&~(7&this.textureBinding)}constructor(e){this._data=0,this._data=e}}l.shared=new l(0);const h=e=>class extends e{get vvSizeMinMaxValue(){return 0!==this.bit(16)}set vvSizeMinMaxValue(e){this.setBit(16,e)}get vvSizeScaleStops(){return 0!==this.bit(17)}set vvSizeScaleStops(e){this.setBit(17,e)}get vvSizeFieldStops(){return 0!==this.bit(18)}set vvSizeFieldStops(e){this.setBit(18,e)}get vvSizeUnitValue(){return 0!==this.bit(19)}set vvSizeUnitValue(e){this.setBit(19,e)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(e,t){super.setVV(e,t);const i=function(e,t){const i=a.WGLVVFlag.SIZE_FIELD_STOPS|a.WGLVVFlag.SIZE_MINMAX_VALUE|a.WGLVVFlag.SIZE_SCALE_STOPS|a.WGLVVFlag.SIZE_UNIT_VALUE,r=(e&(a.WGLVVTarget.FIELD_TARGETS_OUTLINE|a.WGLVVTarget.MINMAX_TARGETS_OUTLINE|a.WGLVVTarget.SCALE_TARGETS_OUTLINE|a.WGLVVTarget.UNIT_TARGETS_OUTLINE))>>>4;return t.isOutline||t.isOutlinedFill?i&r:i&~r}(e,t)&e;this.vvSizeMinMaxValue=!!(i&a.WGLVVFlag.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(i&a.WGLVVFlag.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(i&a.WGLVVFlag.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(i&a.WGLVVFlag.SIZE_SCALE_STOPS)}},u=e=>class extends e{get vvRotation(){return 0!==this.bit(15)}set vvRotation(e){this.setBit(15,e)}hasVV(){return super.hasVV()||this.vvRotation}setVV(e,t){super.setVV(e,t),this.vvRotation=!t.isOutline&&!!(e&a.WGLVVFlag.ROTATION)}},c=e=>class extends e{get vvColor(){return 0!==this.bit(13)}set vvColor(e){this.setBit(13,e)}hasVV(){return super.hasVV()||this.vvColor}setVV(e,t){super.setVV(e,t),this.vvColor=!t.isOutline&&!!(e&a.WGLVVFlag.COLOR)}},d=e=>class extends e{get vvOpacity(){return 0!==this.bit(14)}set vvOpacity(e){this.setBit(14,e)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(e,t){super.setVV(e,t),this.vvOpacity=!t.isOutline&&!!(e&a.WGLVVFlag.OPACITY)}};class v extends(c(d(h(l)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.WGLGeometryType.FILL,t.dotDensity="dot-density"===e.stride.fill,t.simple="simple"===e.stride.fill,t.outlinedFill=e.isOutlinedFill,t.dotDensity||t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),dotDensity:this.dotDensity,outlinedFill:this.outlinedFill,simple:this.simple,vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}get dotDensity(){return!!this.bit(15)}set dotDensity(e){this.setBit(15,e)}get simple(){return!!this.bit(22)}set simple(e){this.setBit(22,e)}get outlinedFill(){return!!this.bit(21)}set outlinedFill(e){this.setBit(21,e)}}v.shared=new v(0);class f extends(c(d(u(h(l))))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.WGLGeometryType.MARKER,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}f.shared=new f(0);class p extends(c(d(h(l)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.WGLGeometryType.LINE,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}p.shared=new p(0);class y extends(c(d(u(h(l))))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.WGLGeometryType.TEXT,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}y.shared=new y(0);class x extends(h(l)){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.WGLGeometryType.LABEL,t.setVV(e.vvFlags,e),t.mapAligned=(0,s.isMapAligned)(e.placement),t.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}x.shared=new x(0)})),t.register("c4cvq",(function(t,i){e(t.exports,"radToByte",(function(){return o})),e(t.exports,"degToByte",(function(){return l})),e(t.exports,"log2",(function(){return h})),e(t.exports,"between",(function(){return u}));Number.POSITIVE_INFINITY;const r=Math.PI,n=128/r,s=1/Math.LN2;function a(e,t){return(e%=t)>=0?e:e+t}function o(e){return a(e*n,256)}function l(e){return a(.7111111111111111*e,256)}function h(e){return Math.log(e)*s}function u(e,t,i){return e>=t&&e<=i||e>=i&&e<=t}})),t.register("3Icya",(function(t,i){e(t.exports,"e",(function(){return a}));var r,n,s={exports:{}};r=s,void 0!==(n=function(){function e(e,n,s){s=s||2;var a,o,h,c,d,f,p,y=n&&n.length,x=y?n[0]*s:e.length,g=t(e,0,x,s,!0),V=[];if(!g||g.next===g.prev)return V;if(y&&(g=function(e,r,n,s){var a,o,h,c=[];for(a=0,o=r.length;a<o;a++)(h=t(e,r[a]*s,a<o-1?r[a+1]*s:e.length,s,!1))===h.next&&(h.steiner=!0),c.push(v(h));for(c.sort(l),a=0;a<c.length;a++)n=i(n=u(c[a],n),n.next);return n}(e,n,g,s)),e.length>80*s){a=h=e[0],o=c=e[1];for(var S=s;S<x;S+=s)(d=e[S])<a&&(a=d),(f=e[S+1])<o&&(o=f),d>h&&(h=d),f>c&&(c=f);p=0!==(p=Math.max(h-a,c-o))?1/p:0}return r(g,V,s,a,o,p),V}function t(e,t,i,r,n){var s,a;if(n===L(e,t,i,r)>0)for(s=t;s<i;s+=r)a=_(s,e[s],e[s+1],a);else for(s=i-r;s>=t;s-=r)a=_(s,e[s],e[s+1],a);if(a&&y(a,a.next)){var o=a.next;m(a),a=o}return a}function i(e,t){if(!e)return e;t||(t=e);var i,r=e;do{if(i=!1,r.steiner||!y(r,r.next)&&0!==p(r.prev,r,r.next))r=r.next;else{var n=r.prev;if(m(r),(r=t=n)===r.next)break;i=!0}}while(i||r!==t);return t}function r(e,t,l,h,u,c,v){if(e){!v&&c&&function(e,t,i,r){var n=e;do{null===n.z&&(n.z=d(n.x,n.y,t,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,function(e){var t,i,r,n,s,a,o,l,h=1;do{for(i=e,e=null,s=null,a=0;i;){for(a++,r=i,o=0,t=0;t<h&&(o++,r=r.nextZ);t++);for(l=h;o>0||l>0&&r;)0!==o&&(0===l||!r||i.z<=r.z)?(n=i,i=i.nextZ,o--):(n=r,r=r.nextZ,l--),s?s.nextZ=n:e=n,n.prevZ=s,s=n;i=r}s.nextZ=null,h*=2}while(a>1)}(n)}(e,h,u,c);for(var f,p,y=e;e.prev!==e.next;)if(f=e.prev,p=e.next,c?s(e,h,u,c):n(e))t.push(f.i/l),t.push(e.i/l),t.push(p.i/l),m(e),e=p.next,y=p.next;else if((e=p)===y){v?1===v?r(e=a(i(e),t,l),t,l,h,u,c,2):2===v&&o(e,t,l,h,u,c):r(i(e),t,l,h,u,c,1);break}}}function n(e){var t=e.prev,i=e,r=e.next;if(p(t,i,r)>=0)return!1;for(var n=e.next.next;n!==e.prev;){if(f(t.x,t.y,i.x,i.y,r.x,r.y,n.x,n.y)&&p(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function s(e,t,i,r){var n=e.prev,s=e,a=e.next;if(p(n,s,a)>=0)return!1;for(var o=n.x<s.x?n.x<a.x?n.x:a.x:s.x<a.x?s.x:a.x,l=n.y<s.y?n.y<a.y?n.y:a.y:s.y<a.y?s.y:a.y,h=n.x>s.x?n.x>a.x?n.x:a.x:s.x>a.x?s.x:a.x,u=n.y>s.y?n.y>a.y?n.y:a.y:s.y>a.y?s.y:a.y,c=d(o,l,t,i,r),v=d(h,u,t,i,r),y=e.prevZ,x=e.nextZ;y&&y.z>=c&&x&&x.z<=v;){if(y!==e.prev&&y!==e.next&&f(n.x,n.y,s.x,s.y,a.x,a.y,y.x,y.y)&&p(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,x!==e.prev&&x!==e.next&&f(n.x,n.y,s.x,s.y,a.x,a.y,x.x,x.y)&&p(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;y&&y.z>=c;){if(y!==e.prev&&y!==e.next&&f(n.x,n.y,s.x,s.y,a.x,a.y,y.x,y.y)&&p(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;x&&x.z<=v;){if(x!==e.prev&&x!==e.next&&f(n.x,n.y,s.x,s.y,a.x,a.y,x.x,x.y)&&p(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function a(e,t,r){var n=e;do{var s=n.prev,a=n.next.next;!y(s,a)&&x(s,n,n.next,a)&&S(s,a)&&S(a,s)&&(t.push(s.i/r),t.push(n.i/r),t.push(a.i/r),m(n),m(n.next),n=e=a),n=n.next}while(n!==e);return i(n)}function o(e,t,n,s,a,o){var l,h,u=e;do{for(var c=u.next.next;c!==u.prev;){if(u.i!==c.i&&(h=c,(l=u).next.i!==h.i&&l.prev.i!==h.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&x(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}(l,h)&&(S(l,h)&&S(h,l)&&function(e,t){var i=e,r=!1,n=(e.x+t.x)/2,s=(e.y+t.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==e);return r}(l,h)&&(p(l.prev,l,h.prev)||p(l,h.prev,h))||y(l,h)&&p(l.prev,l,l.next)>0&&p(h.prev,h,h.next)>0))){var d=b(u,c);return u=i(u,u.next),d=i(d,d.next),r(u,t,n,s,a,o),void r(d,t,n,s,a,o)}c=c.next}u=u.next}while(u!==e)}function l(e,t){return e.x-t.x}function h(e){if(e.next.prev===e)return e;let t=e;for(;;){const i=t.next;if(i.prev===t||i===t||i===e)break;t=i}return t}function u(e,t){var r=function(e,t){var i,r=t,n=e.x,s=e.y,a=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var o=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=n&&o>a){if(a=o,o===n){if(s===r.y)return r;if(s===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!i)return null;if(n===a)return i;var l,h=i,u=i.x,d=i.y,v=1/0;r=i;do{n>=r.x&&r.x>=u&&n!==r.x&&f(s<d?n:a,s,u,d,s<d?a:n,s,r.x,r.y)&&(l=Math.abs(s-r.y)/(n-r.x),S(r,e)&&(l<v||l===v&&(r.x>i.x||r.x===i.x&&c(i,r)))&&(i=r,v=l)),r=r.next}while(r!==h);return i}(e,t);if(!r)return t;var n=b(r,e),s=i(r,r.next);let a=h(n);return i(a,a.next),s=h(s),h(t===r?s:t)}function c(e,t){return p(e.prev,e,t.prev)<0&&p(t.next,e,e.next)<0}function d(e,t,i,r,n){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function v(e){var t=e,i=e;do{(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next}while(t!==e);return i}function f(e,t,i,r,n,s,a,o){return(n-a)*(t-o)-(e-a)*(s-o)>=0&&(e-a)*(r-o)-(i-a)*(t-o)>=0&&(i-a)*(s-o)-(n-a)*(r-o)>=0}function p(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function y(e,t){return e.x===t.x&&e.y===t.y}function x(e,t,i,r){var n=V(p(e,t,i)),s=V(p(e,t,r)),a=V(p(i,r,e)),o=V(p(i,r,t));return n!==s&&a!==o||!(0!==n||!g(e,i,t))||!(0!==s||!g(e,r,t))||!(0!==a||!g(i,e,r))||!(0!==o||!g(i,t,r))}function g(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function V(e){return e>0?1:e<0?-1:0}function S(e,t){return p(e.prev,e,e.next)<0?p(e,t,e.next)>=0&&p(e,e.prev,t)>=0:p(e,t,e.prev)<0||p(e,e.next,t)<0}function b(e,t){var i=new w(e.i,e.x,e.y),r=new w(t.i,t.x,t.y),n=e.next,s=t.prev;return e.next=t,t.prev=e,i.next=n,n.prev=i,r.next=i,i.prev=r,s.next=r,r.prev=s,r}function _(e,t,i,r){var n=new w(e,t,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function m(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function w(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function L(e,t,i,r){for(var n=0,s=t,a=i-r;s<i;s+=r)n+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return n}return e.deviation=function(e,t,i,r){var n=t&&t.length,s=n?t[0]*i:e.length,a=Math.abs(L(e,0,s,i));if(n)for(var o=0,l=t.length;o<l;o++){var h=t[o]*i,u=o<l-1?t[o+1]*i:e.length;a-=Math.abs(L(e,h,u,i))}var c=0;for(o=0;o<r.length;o+=3){var d=r[o]*i,v=r[o+1]*i,f=r[o+2]*i;c+=Math.abs((e[d]-e[f])*(e[v+1]-e[d+1])-(e[d]-e[v])*(e[f+1]-e[d+1]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},e.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},r=0,n=0;n<e.length;n++){for(var s=0;s<e[n].length;s++)for(var a=0;a<t;a++)i.vertices.push(e[n][s][a]);n>0&&(r+=e[n-1].length,i.holes.push(r))}return i},e}())&&(r.exports=n);const a=s.exports})),t.register("iqtPh",(function(t,i){e(t.exports,"DECLUTTER_TILES",(function(){return r})),e(t.exports,"COLLISION_GRID_CELL_SIZE",(function(){return n})),e(t.exports,"DECLUTTER_BUDGET",(function(){return s})),e(t.exports,"FADE_DURATION",(function(){return a}));const r=!0,n=32,s=1.5,a=200})),t.register("jrPhy",(function(i,r){e(i.exports,"Container",(function(){return o}));var n=t("jsolS"),s=t("coJUt"),a=t("5aS5k");class o extends a.DisplayObject{get blendMode(){return this._blendMode}set blendMode(e){this._blendMode=e,this.requestRender()}get clips(){return this._clips}set clips(e){this._clips=e,this.children.forEach((t=>t.clips=e))}get computedEffects(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effects)?e:null}get effect(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effect)?e:""}set effect(e){(this._effectView||e)&&(this._effectView||(this._effectView=new(0,s.EffectView)),this._effectView.effect=e,this.requestRender())}updateTransitionProperties(e,t){super.updateTransitionProperties(e,t),this._effectView&&(this._effectView.transitionStep(e,t),this._effectView.transitioning&&this.requestRender())}doRender(e){const t=this.createRenderParams(e);this.renderChildren(t)}addChild(e){return this.addChildAt(e,this.children.length)}addChildAt(e,t=this.children.length){if(!e)return e;if(this.contains(e))return e;this._needsSort=!0;const i=e.parent;return i&&i!==this&&i.removeChild(e),t>=this.children.length?this.children.push(e):this.children.splice(t,0,e),this._childrenSet.add(e),e.parent=this,e.stage=this.stage,this!==this.stage&&(e.clips=this.clips),this.requestRender(),e}contains(e){return this._childrenSet.has(e)}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const e of this.children)this!==this.stage&&(e.clips=null),e.stage=null,e.parent=null;this.children.length=0}removeChild(e){return this.contains(e)?this.removeChildAt(this.children.indexOf(e)):e}removeChildAt(e){if(e<0||e>=this.children.length)return null;this._needsSort=!0;const t=this.children.splice(e,1)[0];return this._childrenSet.delete(t),this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null,t}sortChildren(e){this._needsSort&&(this.children.sort(e),this._needsSort=!1)}_createTransforms(){return{dvs:(0,n.c)()}}onAttach(){super.onAttach();const e=this.stage;for(const t of this.children)t.stage=e}onDetach(){super.onDetach();for(const e of this.children)e.stage=null}renderChildren(e){for(const t of this.children)t.beforeRender(e);for(const t of this.children)t.processRender(e);for(const t of this.children)t.afterRender(e)}createRenderParams(e){return{...e,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:e.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition}}constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this.children=[],this._effectView=null}}})),t.register("5aS5k",(function(i,r){e(i.exports,"DisplayObject",(function(){return h}));var n=t("cS4u3"),s=t("5HTPH"),a=t("1CpCt"),o=t("lHg4e");const l=1/(0,s.default)("mapview-transitions-duration");class h extends n.default{get clips(){return this._clips}set clips(e){this._clips=e,this.requestRender()}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(e){this._opacity!==e&&(this._opacity=Math.min(1,Math.max(e,0)),this.requestRender())}get stage(){return this._stage}set stage(e){if(this._stage===e)return;const t=this._stage;this._stage=e,e?this._stage.untrashDisplayObject(this)||(this.onAttach(),this.emit("attach")):t.trashDisplayObject(this)}get transforms(){return this._getTransforms()}_getTransforms(){return(0,a.isNone)(this._transforms)&&(this._transforms=this._createTransforms()),this._transforms}get visible(){return this._visible}set visible(e){this._visible!==e&&(this._visible=e,this.requestRender())}fadeIn(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=(0,o.createResolver)(),this.requestRender()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=(0,o.createResolver)(),this.requestRender()),this._fadeOutResolver.promise}beforeRender(e){this.updateTransitionProperties(e.deltaTime,e.state.scale)}afterRender(e){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}remove(){var e;null==(e=this.parent)||e.removeChild(this)}setTransform(e){}processRender(e){this.stage&&this.computedVisible&&this.doRender(e)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.onDetach(),this.emit("detach")}updateTransitionProperties(e,t){if(this.fadeTransitionEnabled){const t=this._fadeOutResolver||!this.visible?0:this.opacity,i=this.computedOpacity;if(i===t)this.computedVisible=this.visible;else{const r=e*l;this.computedOpacity=i>t?Math.max(t,i-r):Math.min(t,i+r),this.computedVisible=this.computedOpacity>0;const n=t===this.computedOpacity;this.inFadeTransition=!n,n||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}onAttach(){}onDetach(){}doRender(e){}ready(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())}constructor(){super(...arguments),this._fadeOutResolver=null,this._fadeInResolver=null,this._clips=null,this.computedVisible=!0,this.computedOpacity=1,this.fadeTransitionEnabled=!1,this.inFadeTransition=!1,this._isReady=!1,this._opacity=1,this._stage=null,this._visible=!0}}}));
//# sourceMappingURL=GroupLayerView2D.e374f8ba.js.map
