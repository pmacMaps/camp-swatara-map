!function(){function n(n,e,r,t){Object.defineProperty(n,e,{get:r,set:t,enumerable:!0,configurable:!0})}var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;e.register("hdg7E",(function(r,t){n(r.exports,"registerFunctions",(function(){return P}));var o=e("dLARP"),i=e("dcpcS"),a=e("e8oaX"),u=e("aUA9M"),c=e("gINRd"),s=e("Pe3X5"),l=e("absvu"),f=e("eaHvJ"),d=e("d1Fqh"),E=e("fTq43"),x=e("95Tg0"),w=e("79LpT"),p=e("jdIQq"),y=e("3UOnP"),m=e("iwIpP"),h=e("dNBzr"),g=e("5vzSQ"),A=e("ajJOT");function v(n){return 0===o.version.indexOf("4.")?E.default.fromExtent(n):new(0,E.default)({spatialReference:n.spatialReference,rings:[[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]]]})}function C(n,e,r){if((0,a.C)(n,2,2,e,r),n[0]instanceof s.default&&n[1]instanceof s.default);else if(n[0]instanceof s.default&&null===n[1]);else if(n[1]instanceof s.default&&null===n[0]);else if(null!==n[0]||null!==n[1])throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r)}async function L(n,e){if("polygon"!==n.type&&"polyline"!==n.type&&"extent"!==n.type)return 0;let r=1;(n.spatialReference.vcsWkid||n.spatialReference.latestVcsWkid)&&(r=(0,u.getMetersPerVerticalUnitForSR)(n.spatialReference)/(0,g.getMetersPerUnitForSR)(n.spatialReference));let t=0;if("polyline"===n.type)for(const e of n.paths)for(let n=1;n<e.length;n++)t+=(0,u.segmentLength3d)(e[n],e[n-1],r);else if("polygon"===n.type)for(const e of n.rings){for(let n=1;n<e.length;n++)t+=(0,u.segmentLength3d)(e[n],e[n-1],r);(e[0][0]!==e[e.length-1][0]||e[0][1]!==e[e.length-1][1]||void 0!==e[0][2]&&e[0][2]!==e[e.length-1][2])&&(t+=(0,u.segmentLength3d)(e[0],e[e.length-1],r))}else"extent"===n.type&&(t+=2*(0,u.segmentLength3d)([n.xmin,n.ymin,0],[n.xmax,n.ymin,0],r),t+=2*(0,u.segmentLength3d)([n.xmin,n.ymin,0],[n.xmin,n.ymax,0],r),t*=2,t+=4*Math.abs((0,a.D)(n.zmax,0)*r-(0,a.D)(n.zmin,0)*r));const o=new(0,x.default)({hasZ:!1,hasM:!1,spatialReference:n.spatialReference,paths:[[0,0],[0,t]]});return(0,l.planarLength)(o,e)}function P(n){"async"===n.mode&&(n.functions.disjoint=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>(C(o=(0,a.L)(o),e,r),null===o[0]||null===o[1]||(0,l.disjoint)(o[0],o[1]))))},n.functions.intersects=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>(C(o=(0,a.L)(o),e,r),null!==o[0]&&null!==o[1]&&(0,l.intersects)(o[0],o[1]))))},n.functions.touches=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>(C(o=(0,a.L)(o),e,r),null!==o[0]&&null!==o[1]&&(0,l.touches)(o[0],o[1]))))},n.functions.crosses=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>(C(o=(0,a.L)(o),e,r),null!==o[0]&&null!==o[1]&&(0,l.crosses)(o[0],o[1]))))},n.functions.within=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>(C(o=(0,a.L)(o),e,r),null!==o[0]&&null!==o[1]&&(0,l.within)(o[0],o[1]))))},n.functions.contains=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>(C(o=(0,a.L)(o),e,r),null!==o[0]&&null!==o[1]&&(0,l.contains)(o[0],o[1]))))},n.functions.overlaps=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>(C(o=(0,a.L)(o),e,r),null!==o[0]&&null!==o[1]&&(0,l.overlaps)(o[0],o[1]))))},n.functions.equals=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>((0,a.C)(o,2,2,e,r),o[0]===o[1]||(o[0]instanceof s.default&&o[1]instanceof s.default?(0,l.equals)(o[0],o[1]):!(!(0,a.k)(o[0])||!(0,a.k)(o[1]))&&o[0].equals(o[1])))))},n.functions.relate=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{if(o=(0,a.L)(o),(0,a.C)(o,3,3,e,r),o[0]instanceof s.default&&o[1]instanceof s.default)return(0,l.relate)(o[0],o[1],(0,a.j)(o[2]));if(o[0]instanceof s.default&&null===o[1])return!1;if(o[1]instanceof s.default&&null===o[0])return!1;if(null===o[0]&&null===o[1])return!1;throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r)}))},n.functions.intersection=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>(C(o=(0,a.L)(o),e,r),null===o[0]||null===o[1]?null:(0,l.intersect)(o[0],o[1]))))},n.functions.union=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{const u=[];if(0===(o=(0,a.L)(o)).length)throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.WrongNumberOfParameters,r);if(1===o.length)if((0,a.m)(o[0])){const n=(0,a.L)(o[0]);for(let t=0;t<n.length;t++)if(null!==n[t]){if(!(n[t]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);u.push(n[t])}}else{if(!(0,a.o)(o[0])){if(o[0]instanceof s.default)return(0,a.y)((0,i.cloneGeometry)(o[0]),e.spatialReference);if(null===o[0])return null;throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r)}{const n=(0,a.L)(o[0].toArray());for(let t=0;t<n.length;t++)if(null!==n[t]){if(!(n[t]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);u.push(n[t])}}}else for(let n=0;n<o.length;n++)if(null!==o[n]){if(!(o[n]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);u.push(o[n])}return 0===u.length?null:(0,l.union)(u)}))},n.functions.difference=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>(C(o=(0,a.L)(o),e,r),null!==o[0]&&null===o[1]?(0,i.cloneGeometry)(o[0]):null===o[0]?null:(0,l.difference)(o[0],o[1]))))},n.functions.symmetricdifference=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>(C(o=(0,a.L)(o),e,r),null===o[0]&&null===o[1]?null:null===o[0]?(0,i.cloneGeometry)(o[1]):null===o[1]?(0,i.cloneGeometry)(o[0]):(0,l.symmetricDifference)(o[0],o[1]))))},n.functions.clip=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{if(o=(0,a.L)(o),(0,a.C)(o,2,2,e,r),!(o[1]instanceof c.default)&&null!==o[1])throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);if(null===o[0])return null;if(!(o[0]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return null===o[1]?null:(0,l.clip)(o[0],o[1])}))},n.functions.cut=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{if(o=(0,a.L)(o),(0,a.C)(o,2,2,e,r),!(o[1]instanceof x.default)&&null!==o[1])throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);if(null===o[0])return[];if(!(o[0]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return null===o[1]?[(0,i.cloneGeometry)(o[0])]:(0,l.cut)(o[0],o[1])}))},n.functions.area=function(e,r){return n.standardFunctionAsync(e,r,(async(n,t,o)=>{if((0,a.C)(o,1,2,e,r),null===(o=(0,a.L)(o))[0])return 0;if((0,a.r)(o[0])){const n=await o[0].sumArea((0,i.convertSquareUnitsToCode)((0,a.D)(o[1],-1)),!1,e.abortSignal);if(e.abortSignal.aborted)throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.Cancelled,r);return n}if((0,a.m)(o[0])||(0,a.o)(o[0])){const n=(0,a.N)(o[0],e.spatialReference);return null===n?0:(0,l.planarArea)(n,(0,i.convertSquareUnitsToCode)((0,a.D)(o[1],-1)))}if(!(o[0]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return(0,l.planarArea)(o[0],(0,i.convertSquareUnitsToCode)((0,a.D)(o[1],-1)))}))},n.functions.areageodetic=function(e,r){return n.standardFunctionAsync(e,r,(async(n,t,o)=>{if((0,a.C)(o,1,2,e,r),null===(o=(0,a.L)(o))[0])return 0;if((0,a.r)(o[0])){const n=await o[0].sumArea((0,i.convertSquareUnitsToCode)((0,a.D)(o[1],-1)),!0,e.abortSignal);if(e.abortSignal.aborted)throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.Cancelled,r);return n}if((0,a.m)(o[0])||(0,a.o)(o[0])){const n=(0,a.N)(o[0],e.spatialReference);return null===n?0:(0,l.geodesicArea)(n,(0,i.convertSquareUnitsToCode)((0,a.D)(o[1],-1)))}if(!(o[0]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return(0,l.geodesicArea)(o[0],(0,i.convertSquareUnitsToCode)((0,a.D)(o[1],-1)))}))},n.functions.length=function(e,r){return n.standardFunctionAsync(e,r,(async(n,t,o)=>{if((0,a.C)(o,1,2,e,r),null===(o=(0,a.L)(o))[0])return 0;if((0,a.r)(o[0])){const n=await o[0].sumLength((0,i.convertLinearUnitsToCode)((0,a.D)(o[1],-1)),!1,e.abortSignal);if(e.abortSignal.aborted)throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.Cancelled,r);return n}if((0,a.m)(o[0])||(0,a.o)(o[0])){const n=(0,a.M)(o[0],e.spatialReference);return null===n?0:(0,l.planarLength)(n,(0,i.convertLinearUnitsToCode)((0,a.D)(o[1],-1)))}if(!(o[0]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return(0,l.planarLength)(o[0],(0,i.convertLinearUnitsToCode)((0,a.D)(o[1],-1)))}))},n.functions.length3d=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{if((0,a.C)(o,1,2,e,r),null===(o=(0,a.L)(o))[0])return 0;if((0,a.m)(o[0])||(0,a.o)(o[0])){const n=(0,a.M)(o[0],e.spatialReference);return null===n?0:!0===n.hasZ?L(n,(0,i.convertLinearUnitsToCode)((0,a.D)(o[1],-1))):(0,l.planarLength)(n,(0,i.convertLinearUnitsToCode)((0,a.D)(o[1],-1)))}if(!(o[0]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return!0===o[0].hasZ?L(o[0],(0,i.convertLinearUnitsToCode)((0,a.D)(o[1],-1))):(0,l.planarLength)(o[0],(0,i.convertLinearUnitsToCode)((0,a.D)(o[1],-1)))}))},n.functions.lengthgeodetic=function(e,r){return n.standardFunctionAsync(e,r,(async(n,t,o)=>{if((0,a.C)(o,1,2,e,r),null===(o=(0,a.L)(o))[0])return 0;if((0,a.r)(o[0])){const n=await o[0].sumLength((0,i.convertLinearUnitsToCode)((0,a.D)(o[1],-1)),!0,e.abortSignal);if(e.abortSignal.aborted)throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.Cancelled,r);return n}if((0,a.m)(o[0])||(0,a.o)(o[0])){const n=(0,a.M)(o[0],e.spatialReference);return null===n?0:(0,l.geodesicLength)(n,(0,i.convertLinearUnitsToCode)((0,a.D)(o[1],-1)))}if(!(o[0]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return(0,l.geodesicLength)(o[0],(0,i.convertLinearUnitsToCode)((0,a.D)(o[1],-1)))}))},n.functions.distance=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{o=(0,a.L)(o),(0,a.C)(o,2,3,e,r);let u=o[0];((0,a.m)(o[0])||(0,a.o)(o[0]))&&(u=(0,a.O)(o[0],e.spatialReference));let c=o[1];if(((0,a.m)(o[1])||(0,a.o)(o[1]))&&(c=(0,a.O)(o[1],e.spatialReference)),!(u instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);if(!(c instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return(0,l.distance)(u,c,(0,i.convertLinearUnitsToCode)((0,a.D)(o[2],-1)))}))},n.functions.distancegeodetic=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{o=(0,a.L)(o),(0,a.C)(o,2,3,e,r);const u=o[0],c=o[1];if(!(u instanceof d.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);if(!(c instanceof d.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);const s=new(0,x.default)({paths:[],spatialReference:u.spatialReference});return s.addPath([u,c]),(0,l.geodesicLength)(s,(0,i.convertLinearUnitsToCode)((0,a.D)(o[2],-1)))}))},n.functions.densify=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{if(o=(0,a.L)(o),(0,a.C)(o,2,3,e,r),null===o[0])return null;if(!(o[0]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);const u=(0,a.g)(o[1]);if(isNaN(u))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);if(u<=0)throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return o[0]instanceof E.default||o[0]instanceof x.default?(0,l.densify)(o[0],u,(0,i.convertLinearUnitsToCode)((0,a.D)(o[2],-1))):o[0]instanceof c.default?(0,l.densify)(v(o[0]),u,(0,i.convertLinearUnitsToCode)((0,a.D)(o[2],-1))):o[0]}))},n.functions.densifygeodetic=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{if(o=(0,a.L)(o),(0,a.C)(o,2,3,e,r),null===o[0])return null;if(!(o[0]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);const u=(0,a.g)(o[1]);if(isNaN(u))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);if(u<=0)throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return o[0]instanceof E.default||o[0]instanceof x.default?(0,l.geodesicDensify)(o[0],u,(0,i.convertLinearUnitsToCode)((0,a.D)(o[2],-1))):o[0]instanceof c.default?(0,l.geodesicDensify)(v(o[0]),u,(0,i.convertLinearUnitsToCode)((0,a.D)(o[2],-1))):o[0]}))},n.functions.generalize=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{if(o=(0,a.L)(o),(0,a.C)(o,2,4,e,r),null===o[0])return null;if(!(o[0]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);const u=(0,a.g)(o[1]);if(isNaN(u))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return(0,l.generalize)(o[0],u,(0,a.h)((0,a.D)(o[2],!0)),(0,i.convertLinearUnitsToCode)((0,a.D)(o[3],-1)))}))},n.functions.buffer=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{if(o=(0,a.L)(o),(0,a.C)(o,2,3,e,r),null===o[0])return null;if(!(o[0]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);const u=(0,a.g)(o[1]);if(isNaN(u))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return 0===u?(0,i.cloneGeometry)(o[0]):(0,l.buffer)(o[0],u,(0,i.convertLinearUnitsToCode)((0,a.D)(o[2],-1)))}))},n.functions.buffergeodetic=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{if(o=(0,a.L)(o),(0,a.C)(o,2,3,e,r),null===o[0])return null;if(!(o[0]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);const u=(0,a.g)(o[1]);if(isNaN(u))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return 0===u?(0,i.cloneGeometry)(o[0]):(0,l.geodesicBuffer)(o[0],u,(0,i.convertLinearUnitsToCode)((0,a.D)(o[2],-1)))}))},n.functions.offset=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{if(o=(0,a.L)(o),(0,a.C)(o,2,6,e,r),null===o[0])return null;if(!(o[0]instanceof E.default||o[0]instanceof x.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);const u=(0,a.g)(o[1]);if(isNaN(u))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);const c=(0,a.g)((0,a.D)(o[4],10));if(isNaN(c))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);const s=(0,a.g)((0,a.D)(o[5],0));if(isNaN(s))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return(0,l.offset)(o[0],u,(0,i.convertLinearUnitsToCode)((0,a.D)(o[2],-1)),(0,a.j)((0,a.D)(o[3],"round")).toLowerCase(),c,s)}))},n.functions.rotate=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{o=(0,a.L)(o),(0,a.C)(o,2,3,e,r);let i=o[0];if(null===i)return null;if(!(i instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);i instanceof c.default&&(i=E.default.fromExtent(i));const u=(0,a.g)(o[1]);if(isNaN(u))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);const f=(0,a.D)(o[2],null);if(null===f)return(0,l.rotate)(i,u);if(f instanceof d.default)return(0,l.rotate)(i,u,f);throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r)}))},n.functions.centroid=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{if(o=(0,a.L)(o),(0,a.C)(o,1,1,e,r),null===o[0])return null;let l=o[0];if(((0,a.m)(o[0])||(0,a.o)(o[0]))&&(l=(0,a.O)(o[0],e.spatialReference)),null===l)return null;if(!(l instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return l instanceof d.default?(0,a.y)((0,i.cloneGeometry)(o[0]),e.spatialReference):l instanceof E.default?l.centroid:l instanceof x.default?(0,u.centroidPolyline)(l):l instanceof f.default?(0,u.centroidMultiPoint)(l):l instanceof c.default?l.center:null}))},n.functions.multiparttosinglepart=function(e,r){return n.standardFunctionAsync(e,r,(async(n,t,o)=>{o=(0,a.L)(o),(0,a.C)(o,1,1,e,r);const u=[];if(null===o[0])return null;if(!(o[0]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);if(o[0]instanceof d.default)return[(0,a.y)((0,i.cloneGeometry)(o[0]),e.spatialReference)];if(o[0]instanceof c.default)return[(0,a.y)((0,i.cloneGeometry)(o[0]),e.spatialReference)];const y=await(0,l.simplify)(o[0]);if(y instanceof E.default){const n=[],e=[];for(let r=0;r<y.rings.length;r++)if(y.isClockwise(y.rings[r])){const e=(0,w.fromJSON)({rings:[y.rings[r]],hasZ:!0===y.hasZ,hazM:!0===y.hasM,spatialReference:y.spatialReference.toJSON()});n.push(e)}else e.push({ring:y.rings[r],pt:y.getPoint(r,0)});for(let r=0;r<e.length;r++)for(let t=0;t<n.length;t++)if(n[t].contains(e[r].pt)){n[t].addRing(e[r].ring);break}return n}if(y instanceof x.default){const n=[];for(let e=0;e<y.paths.length;e++){const r=(0,w.fromJSON)({paths:[y.paths[e]],hasZ:!0===y.hasZ,hazM:!0===y.hasM,spatialReference:y.spatialReference.toJSON()});n.push(r)}return n}if(o[0]instanceof f.default){const n=(0,a.y)((0,i.cloneGeometry)(o[0]),e.spatialReference);for(let e=0;e<n.points.length;e++)u.push(n.getPoint(e));return u}return null}))},n.functions.issimple=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{if(o=(0,a.L)(o),(0,a.C)(o,1,1,e,r),null===o[0])return!0;if(!(o[0]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return(0,l.isSimple)(o[0])}))},n.functions.simplify=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{if(o=(0,a.L)(o),(0,a.C)(o,1,1,e,r),null===o[0])return null;if(!(o[0]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return(0,l.simplify)(o[0])}))},n.functions.convexhull=function(e,r){return n.standardFunctionAsync(e,r,((n,t,o)=>{if(o=(0,a.L)(o),(0,a.C)(o,1,1,e,r),null===o[0])return null;if(!(o[0]instanceof s.default))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);return(0,l.convexHull)(o[0])}))},n.functions.getuser=function(e,r){return n.standardFunctionAsync(e,r,(async(n,t,o)=>{(0,a.C)(o,0,2,e,r);let i=(0,a.D)(o[1],""),u=!0===i;if(i=!0===i||!1===i?"":(0,a.j)(i),0===o.length||o[0]instanceof m.default){let n=null;n=e.services&&e.services.portal?e.services.portal:A.default.getDefault(),o.length>0&&(n=(0,h.getPortal)(o[0],n));const r=await(0,h.lookupUser)(n,i,u);if(r){const n=JSON.parse(JSON.stringify(r));for(const e of["lastLogin","created","modified"])void 0!==n[e]&&null!==n[e]&&(n[e]=new Date(n[e]));return y.default.convertObjectToArcadeDictionary(n,(0,a.G)(e))}return null}let c=null;if((0,a.r)(o[0])&&(c=o[0]),c){if(u=!1,i)return null;await c.load();const n=await c.getOwningSystemUrl();if(!n){if(!i){const n=await c.getIdentityUser();return n?y.default.convertObjectToArcadeDictionary({username:n},(0,a.G)(e)):null}return null}let r=null;r=e.services&&e.services.portal?e.services.portal:A.default.getDefault(),r=(0,h.getPortal)(new(0,m.default)(n),r);const t=await(0,h.lookupUser)(r,i,u);if(t){const n=JSON.parse(JSON.stringify(t));for(const e of["lastLogin","created","modified"])void 0!==n[e]&&null!==n[e]&&(n[e]=new Date(n[e]));return y.default.convertObjectToArcadeDictionary(n,(0,a.G)(e))}return null}throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r)}))}),n.functions.nearestcoordinate=function(e,r){return n.standardFunctionAsync(e,r,(async(n,t,o)=>{if(o=(0,a.L)(o),(0,a.C)(o,2,2,e,r),!(o[0]instanceof s.default||null===o[0]))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);if(!(o[1]instanceof d.default||null===o[1]))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);if(null===o[0]||null===o[1])return null;const i=await(0,l.nearestCoordinate)(o[0],o[1]);return null===i?null:y.default.convertObjectToArcadeDictionary({coordinate:i.coordinate,distance:i.distance},(0,a.G)(e),!1,!0)}))},n.functions.nearestvertex=function(e,r){return n.standardFunctionAsync(e,r,(async(n,t,o)=>{if(o=(0,a.L)(o),(0,a.C)(o,2,2,e,r),!(o[0]instanceof s.default||null===o[0]))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);if(!(o[1]instanceof d.default||null===o[1]))throw new(0,p.ArcadeExecutionError)(e,p.ExecutionErrorCodes.InvalidParameter,r);if(null===o[0]||null===o[1])return null;const i=await(0,l.nearestVertex)(o[0],o[1]);return null===i?null:y.default.convertObjectToArcadeDictionary({coordinate:i.coordinate,distance:i.distance},(0,a.G)(e),!1,!0)}))}}})),e.register("absvu",(function(r,t){n(r.exports,"clip",(function(){return E})),n(r.exports,"cut",(function(){return x})),n(r.exports,"contains",(function(){return w})),n(r.exports,"crosses",(function(){return p})),n(r.exports,"distance",(function(){return y})),n(r.exports,"equals",(function(){return m})),n(r.exports,"intersects",(function(){return h})),n(r.exports,"touches",(function(){return g})),n(r.exports,"within",(function(){return A})),n(r.exports,"disjoint",(function(){return v})),n(r.exports,"overlaps",(function(){return C})),n(r.exports,"relate",(function(){return L})),n(r.exports,"isSimple",(function(){return P})),n(r.exports,"simplify",(function(){return I})),n(r.exports,"convexHull",(function(){return D})),n(r.exports,"difference",(function(){return F})),n(r.exports,"symmetricDifference",(function(){return N})),n(r.exports,"intersect",(function(){return T})),n(r.exports,"union",(function(){return S})),n(r.exports,"offset",(function(){return U})),n(r.exports,"buffer",(function(){return R})),n(r.exports,"geodesicBuffer",(function(){return b})),n(r.exports,"nearestCoordinate",(function(){return O})),n(r.exports,"nearestVertex",(function(){return j})),n(r.exports,"rotate",(function(){return q})),n(r.exports,"generalize",(function(){return G})),n(r.exports,"densify",(function(){return M})),n(r.exports,"geodesicDensify",(function(){return k})),n(r.exports,"planarArea",(function(){return z})),n(r.exports,"planarLength",(function(){return Z})),n(r.exports,"geodesicArea",(function(){return B})),n(r.exports,"geodesicLength",(function(){return V})),e("2ILM8");var o=e("gdXB3"),i=e("d1Fqh"),a=e("79LpT");function u(n){var e;return Array.isArray(n)?null===(e=n[0])||void 0===e?void 0:e.spatialReference:null==n?void 0:n.spatialReference}function c(n){return n?Array.isArray(n)?n.map(c):n.toJSON?n.toJSON():n:n}function s(n){return Array.isArray(n)?n.map((n=>(0,a.fromJSON)(n))):(0,a.fromJSON)(n)}let l;async function f(){return l||(l=(0,o.open)("geometryEngineWorker",{strategy:"distributed"})),l}async function d(n,e){return(await f()).invoke("executeGEOperation",{operation:n,parameters:c(e)})}async function E(n,e){return s(await d("clip",[u(n),n,e]))}async function x(n,e){return s(await d("cut",[u(n),n,e]))}function w(n,e){return d("contains",[u(n),n,e])}function p(n,e){return d("crosses",[u(n),n,e])}function y(n,e,r){return d("distance",[u(n),n,e,r])}function m(n,e){return d("equals",[u(n),n,e])}function h(n,e){return d("intersects",[u(n),n,e])}function g(n,e){return d("touches",[u(n),n,e])}function A(n,e){return d("within",[u(n),n,e])}function v(n,e){return d("disjoint",[u(n),n,e])}function C(n,e){return d("overlaps",[u(n),n,e])}function L(n,e,r){return d("relate",[u(n),n,e,r])}function P(n){return d("isSimple",[u(n),n])}async function I(n){return s(await d("simplify",[u(n),n]))}async function D(n,e=!1){return s(await d("convexHull",[u(n),n,e]))}async function F(n,e){return s(await d("difference",[u(n),n,e]))}async function N(n,e){return s(await d("symmetricDifference",[u(n),n,e]))}async function T(n,e){return s(await d("intersect",[u(n),n,e]))}async function S(n,e=null){const r=function(n,e){let r;return Array.isArray(n)?r=n:(r=[],r.push(n),null!=e&&r.push(e)),r}(n,e);return s(await d("union",[u(r),r]))}async function U(n,e,r,t,o,i){return s(await d("offset",[u(n),n,e,r,t,o,i]))}async function R(n,e,r,t=!1){const o=[u(n),n,e,r,t];return s(await d("buffer",o))}async function b(n,e,r,t,o,i){const a=[u(n),n,e,r,t,o,i];return s(await d("geodesicBuffer",a))}async function O(n,e,r=!0){const t=await d("nearestCoordinate",[u(n),n,e,r]);return{...t,coordinate:i.default.fromJSON(t.coordinate)}}async function j(n,e){const r=await d("nearestVertex",[u(n),n,e]);return{...r,coordinate:i.default.fromJSON(r.coordinate)}}function J(n){var e;return"xmin"in n?n.center:"x"in n?n:null===(e=n.extent)||void 0===e?void 0:e.center}async function q(n,e,r){if(null==n)throw new H;const t=n.spatialReference;if(null==(r=null!=r?r:J(n)))throw new H;const o=n.constructor.fromJSON(await d("rotate",[t,n,e,r]));return o.spatialReference=t,o}async function G(n,e,r,t){return s(await d("generalize",[u(n),n,e,r,t]))}async function M(n,e,r){return s(await d("densify",[u(n),n,e,r]))}async function k(n,e,r,t=0){return s(await d("geodesicDensify",[u(n),n,e,r,t]))}function z(n,e){return d("planarArea",[u(n),n,e])}function Z(n,e){return d("planarLength",[u(n),n,e])}function B(n,e,r){return d("geodesicArea",[u(n),n,e,r])}function V(n,e,r){return d("geodesicLength",[u(n),n,e,r])}class H extends Error{constructor(){super("Illegal Argument Exception")}}})),e.register("dNBzr",(function(r,t){n(r.exports,"getPortal",(function(){return u})),n(r.exports,"lookupUser",(function(){return c}));var o=e("dLARP"),i=e("9pNSx"),a=e("ajJOT");function u(n,e){return null===n?e:new(0,a.default)({url:n.field("url")})}async function c(n,e,r){if(!(null===o.id||void 0===o.id?void 0:o.id.findCredential(n.restUrl)))return null;if("loaded"===n.loadStatus&&""===e&&n.user&&n.user.sourceJSON&&!1===r)return n.user.sourceJSON;if(""===e){const e=await(0,i.default)(n.restUrl+"/community/self",{responseType:"json",query:{f:"json",...!1===r?{}:{returnUserLicenseTypeExtensions:!0}}});if(e.data){const n=e.data;if(n&&n.username)return n}return null}const t=await(0,i.default)(n.restUrl+"/community/users/"+e,{responseType:"json",query:{f:"json"}});if(t.data){const n=t.data;return n.error?null:n}return null}}))}();
//# sourceMappingURL=geomasync.8129341f.js.map
