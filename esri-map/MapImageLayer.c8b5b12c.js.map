{"mappings":"ydAIA,IAAAA,EAAAC,EAAA,0eAA0+DC,EAAE,SAAAC,oEAAoE,IAAA,IAAAC,EAAAC,UAAAC,OAAGC,EAAH,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAGF,EAAHE,GAAAJ,UAAAI,0CAAMC,EAAAC,EAAAC,KAAAC,MAAAF,EAAA,cAAMX,EAAAc,kBAAGP,MAAQQ,wBAAuB,EAAGL,EAAKM,IAAI,GAAGN,EAAKO,WAAW,KAAKP,EAAKQ,YAAY,QAAQR,EAAKS,eAAe,KAAKT,EAAKU,cAAc,KAAKV,EAAKW,mBAAkB,EAAGX,EAAKY,YAAY,KAAKZ,EAAKa,eAAc,EAAGb,EAAKc,qBAAqB,wBAAwBd,EAAKe,WAAW,KAAKf,EAAKgB,UAAU,KAAKhB,EAAKiB,KAAK,YAAYjB,EAAKkB,IAAI,6DAAKC,IAAA,0BAAA,SAAkBC,EAAEC,GAAG,MAAM,iBAAiBD,EAAE9B,EAAAgC,aAAA,CAACJ,IAAIE,GAAKC,GAAGD,KAAED,IAAA,aAAA,SAAKI,cAASC,GAAE,EAAAC,EAAAC,QAAEH,GAAGA,EAAEI,OAAO,KAAK,OAAOC,KAAKC,oBAAoBD,KAAKE,eAAe,CAACC,eAAe,CAAC,gBAAgBR,GAAGS,MAAMC,EAAAC,mBAAGC,MAAM,kBAAInC,EAAKoC,cAAcZ,OAAMa,QAAQC,QAAQV,SAAMT,IAAA,wBAAA,SAAgBoB,EAAEC,GAAG,IAAMC,EAAED,EAAEE,0BAA0B,OAAOD,GAAGA,EAAEE,QAAQ,UAAS,EAAG,QAAQ,WAAQxB,IAAA,uBAAA,SAAeyB,EAAEC,EAAEC,EAAEC,GAAG,GAAInB,KAAKoB,QAASJ,EAAlB,CAA2B,IAAMK,EAAEL,EAAEM,QAAQC,UAAUC,SAAS,SAAAC,OAAYxD,EAACwD,EAAXrC,iBAAenB,GAAGA,EAAEyD,UAAUH,aAAYG,UAAcC,GAAE,EAAG,GAAG3B,KAAK4B,cAAc5B,KAAK4B,aAAaC,WAAWC,mBAAmB9B,KAAK4B,aAAaG,UAAUC,sBAAsB,CAAC,IAAMC,GAAE,EAAAC,EAAAC,UAAEhB,EAAEiB,QAAQ,GAAGH,IAAIC,EAAAG,SAAEC,YAAY,CAAC,IAAMC,EAAEvC,KAAKwC,yBAAyB,WAAWpD,UAAUuC,GAAE,EAAAc,EAAAC,8BAAErB,EAAEkB,EAAEL,EAAAG,SAAEM,cAAc,GAAGV,EAAEC,EAAAG,SAAEC,YAAY,CAAC,IAAMM,EAAE5C,KAAKwC,yBAAyB,eAAeb,GAAE,EAAAc,EAAAC,8BAAErB,EAAEuB,EAAExD,WAAU,EAAA8C,EAAAC,UAAES,EAAER,UAAU,IAAMS,EAAE,GAAGC,EAAEpF,EAAAgC,aAAA,CAACqD,uBAAuBpB,GAAKR,GAAO6B,EAAErB,EAAEN,EAAE4B,SAAS,SAAAC,GAAI,IAAMC,EAAED,EAAEE,MAAM,GAAGN,GAAGD,EAAEQ,KAAKF,GAAGH,EAAEA,GAAG,SAASE,EAAEI,SAAS,cAAcT,EAAEU,MAAM,SAAAC,UAAGC,OAAOC,KAAKF,GAAGxF,OAAO,OAAMiD,EAAE0C,OAAOd,GAAGG,IAAI/B,EAAE2C,cAAcvC,EAAEwC,QAAQ,SAAAC,UAAGA,EAAEC,WAAUC,KAAK,SAAAC,UAAGA,EAAEC,WAAM3E,IAAA,oCAAA,SAA4B4E,EAAEC,EAAEC,EAAEC,GAAG,IAAMjD,EAAEiD,GAAGA,EAAEC,YAAY,EAAEJ,GAAGnE,KAAKwE,SAAS,KAAKL,EAAEA,EAAEM,QAAQC,wBAAwB,IAAMC,EAAE,IAAI,EAAAC,EAAAC,uBAAE,CAACC,MAAM9E,KAAK+E,OAAO,MAAMT,OAAE,EAAOA,EAAES,OAAOC,OAAM,EAAAC,EAAAC,UAAE,CAACC,OAAOhB,EAAEiB,MAAMhB,IAAI/C,IAAIgE,EAAEV,EAAEW,SAASX,EAAEY,UAAU,IAAMzC,GAAGwB,IAAIA,EAAEkB,UAAUxF,KAAKwE,QAAQ,KAAK,GAAG,CAACgB,UAAUlB,EAAEkB,UAAUC,EAAEtB,GAAGA,EAAEuB,iBAAiBC,EAAEF,EAAEG,MAAMC,KAAKC,UAAUL,EAAEH,UAAUD,EAAE3G,KAAK2C,EAAE,IAAM0E,EAAE,GAAG,GAAG,MAAMzB,GAAGA,EAAE0B,WAAW,CAAC,IAAqBC,EAAA3B,EAAE0B,WAAWV,SAAtBrH,EAASgI,EAAfC,MAAY/C,EAAG8C,EAAPE,IAA6BJ,EAAEK,KAAKnI,GAAGkF,GAAGlF,IAAIkF,EAAE,GAAGlF,EAAG,GAAsBoI,OAApB,MAAMpI,EAAE,OAAOA,EAAE,KAAoBoI,OAAjB,MAAMlD,EAAE,OAAOA,QAASnD,KAAKsG,WAAWtG,KAAKsG,SAASC,cAAcR,EAAEK,KAAK,aAAa,OAAM1I,EAAAgC,aAAA,CAAC8G,KAAKrC,GAAGA,EAAEsC,KAAK,IAAItC,EAAEuC,KAAK,IAAIvC,EAAEwC,KAAK,IAAIxC,EAAEyC,KAAKC,OAAOlB,EAAEmB,QAAQnB,EAAEoB,KAAK3C,EAAE,IAAIC,GAAKgB,EAAKvC,EAAKiD,MAASxG,IAAA,mBAAN,SAAiByH,EAAEC,EAAEC,EAAEC,qBAAvBzJ,EAAA0J,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,QAA8BC,EAAQ3E,EAAqO4E,uEAArO5E,EAAE,CAAC6E,aAAa,QAAQ5H,OAAO,OAAO0H,EAAE,MAAMN,OAAE,EAAOA,EAAEpH,QAAQ0H,EAAE,KAAKG,MAAMlK,EAAAgC,aAAA,GAAItB,EAAKyJ,UAAUD,MAASxJ,EAAK0J,4BAA4Bd,EAAEC,EAAEC,EAAEC,GAAE,CAACY,EAAE,SAAW3J,EAAK4J,kBAAqB5J,EAAK6J,iBAAgB,CAACC,MAAM9J,EAAK+J,UAAST,EAAEtJ,EAAKyJ,UAAUO,KAAK,UAAa,MAAMtF,EAAE8E,MAAMS,eAAgBjK,EAAKwD,aAAaG,UAAUC,sBAAqB,yCAAQvB,QAAQ6H,OAAO,IAAI,EAAAC,EAAAC,SAAE,2CAA4C,WAAmBnC,OAATjI,EAAKkB,IAAI,gIAA8H,CAACsI,MAAM9E,EAAE8E,2CAAgB,EAAAa,EAAAD,SAAEd,EAAE5E,GAAGvC,MAAM,SAAAmI,UAAGA,EAAEC,QAAOvI,OAAO,SAAAwI,GAAI,IAAG,EAAAvI,EAAAwI,cAAED,GAAG,MAAMA,EAAE,MAAM,IAAI,EAAAL,EAAAC,SAAE,kCAAmC,yBAA0BnC,OAAFqB,GAAI,CAACoB,MAAMF,kDAAtvBlL,MAAmwB6B,IAAA,+BAAN,eAA6BtB,EAAAF,UAAAC,OAAA,QAAA,IAAAD,UAAA,GAAIA,UAAA,GAAF,iBAA/BL,EAAA0J,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,QAAyCuB,EAA+F9C,EAAH5E,EAA+B2H,EAAaC,EAAanG,EAAKoG,2EAA1JH,EAAErL,EAAAgC,aAAA,GAAIzB,EAAC,CAAC2J,MAAMlK,EAAAgC,aAAA,CAACyJ,eAAc,EAAGpB,EAAE,QAAU3J,EAAK6J,iBAAgB,CAACC,MAAM9J,EAAK+J,qBAAwB,EAAAM,EAAAD,SAAEpK,EAAKkB,IAAIyJ,iBAAjB9C,EAAmBmD,EAAAC,KAAtBhI,EAAG4E,EAAR0C,KAAoCK,EAA6B3H,EAApC8D,OAAoB8D,EAAgB5H,EAA3BiI,WAAwBxG,EAAGzB,EAAd2E,WAAgBkD,EAAEF,GAAGC,oBAAQ,CAACK,WAAWJ,GAAGK,EAAAf,QAAEgB,SAASN,GAAGlD,WAAWlD,GAAG2G,EAAAjB,QAAEgB,SAAS,CAACtD,MAAMpD,EAAE,GAAGqD,IAAIrD,EAAE,kDAAxRpF,MAA8R6B,IAAA,gBAAA,sBAAU,OAAO,EAAAmK,EAAAC,SAAE3J,MAAM,SAAA4J,GAAIA,EAAExL,EAAKyL,oBAAiBtK,IAAA,wCAAA,SAAgCuK,GAAG,OAAO,EAAAC,EAAAC,iCAAEhK,KAAK8J,MAASvK,IAAA,sBAAN,SAAoB0K,qBAApBvM,EAAA0J,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,QAA2IvB,EAATiE,wEAAxG9L,EAAKe,WAAU,8CAAaf,EAAK+L,KAAK/L,EAAKe,WAAW,CAACiD,OAAO,UAAU9C,IAAIlB,EAAKyJ,qCAAsC,EAAAY,EAAAD,SAAEpK,EAAKyJ,UAAUO,KAAK,CAACR,MAAMlK,EAAAgC,aAAA,CAACqI,EAAE,QAAU3J,EAAKyJ,UAAUD,MAASxJ,EAAK6J,iBAAgB,CAACC,MAAM9J,EAAK+J,SAAQpI,OAAOkK,WAAxHhE,EAA2HmD,EAAAC,KAApIa,EAASjE,EAAd0C,KAAc1C,EAAPmE,MAAuIhM,EAAKkB,IAAIlB,EAAKkB,IAAI+K,QAAO,UAAW,WAAWjM,EAAKe,WAAW+K,EAAE9L,EAAK+L,KAAKD,EAAE,CAAC9H,OAAO,UAAU9C,IAAIlB,EAAKyJ,sDAAnXnK,SAApzG,EAAc,EAAA4M,EAAAC,aAAE,EAAAC,EAAAC,gBAAE,EAAAC,EAAAC,kBAAE,EAAAC,EAAAC,iBAAE,EAAAC,EAAAC,mBAAE,EAAAC,EAAAC,gBAAE,EAAAC,EAAAC,mBAAE,EAAAC,EAAAC,cAAE,EAAAC,EAAAC,uBAAE,EAAAC,EAAAC,mBAAE,EAAAC,EAAAC,cAAE,EAAAC,EAAAC,wBAAE,EAAAC,EAAAC,kBAAEC,EAAAxD,uBAA6oH,EAAAyD,EAAAC,GAAE,EAAC,EAAAC,EAAAC,UAAE,CAAC/M,KAAKgN,WAAWzO,EAAE0O,UAAU,8BAAyB,IAAQ,EAAAL,EAAAC,GAAE,EAAC,EAAAC,EAAAC,aAAKxO,EAAE0O,UAAU,WAAM,IAAQ,EAAAL,EAAAC,GAAE,EAAC,EAAAC,EAAAC,aAAKxO,EAAE0O,UAAU,kBAAa,IAAQ,EAAAL,EAAAC,GAAE,EAAC,EAAAC,EAAAC,aAAKxO,EAAE0O,UAAU,mBAAc,IAAQ,EAAAL,EAAAC,GAAE,EAAC,EAAAK,EAAAC,QAAE,cAAc,CAAC,+BAA+B5O,EAAE0O,UAAU,kBAAkB,OAAM,EAAAL,EAAAC,GAAE,EAAC,EAAAC,EAAAC,UAAE,CAACK,KAAK,CAACC,QAAQ,CAACC,QAAQ,CAACxC,KAAK,CAACyC,OAAO,wBAAwBhP,EAAE0O,UAAU,sBAAiB,IAAQ,EAAAL,EAAAC,GAAE,EAAC,EAAAC,EAAAC,UAAE,CAACK,KAAK,CAACC,QAAQ,CAACC,QAAQ,CAACxC,KAAK,CAACyC,OAAO,uBAAuBhP,EAAE0O,UAAU,qBAAgB,IAAQ,EAAAL,EAAAC,GAAE,EAAC,EAAAC,EAAAC,aAAKxO,EAAE0O,UAAU,yBAAoB,IAAQ,EAAAL,EAAAC,GAAE,EAAC,EAAAC,EAAAC,UAAE,CAAC/M,KAAKgN,QAAQI,KAAK,CAACtC,MAAK,EAAG/G,MAAM,CAACyJ,SAAQ,EAAGC,eAAe,iBAAK,CAACD,SAAQ,SAAUjP,EAAE0O,UAAU,mBAAc,IAAQ,EAAAL,EAAAC,GAAE,EAAC,EAAAC,EAAAC,UAAE,CAACK,KAAK,CAACtC,MAAK,EAAG/G,OAAM,MAAOxF,EAAE0O,UAAU,qBAAgB,IAAQ,EAAAL,EAAAC,GAAE,EAAC,EAAAC,EAAAC,UAAE,CAAC/M,KAAK,CAAC,4BAA4BzB,EAAE0O,UAAU,4BAAuB,IAAQ,EAAAL,EAAAC,GAAE,EAAC,EAAAC,EAAAC,UAAE,CAACK,KAAK,CAACtC,MAAK,EAAG/G,OAAM,MAAOxF,EAAE0O,UAAU,oBAAe,IAAQ,EAAAL,EAAAC,GAAE,EAAC,EAAAC,EAAAC,aAAKxO,EAAE0O,UAAU,kBAAa,IAAQ,EAAAL,EAAAC,GAAE,EAAC,EAAAC,EAAAC,UAAE,CAACK,KAAK,CAACrJ,MAAM,CAAC2J,cAAa,OAAQnP,EAAE0O,UAAU,iBAAY,IAAQ,EAAAL,EAAAC,GAAE,EAAC,EAAAc,EAAAC,QAAE,YAAY,CAACtJ,OAAO,CAACtE,KAAK,CAAC6N,EAAA1E,UAAI5E,cAAc,CAACvE,KAAK,CAAC8N,EAAAC,aAAOxP,EAAE0O,UAAU,iBAAiB,OAAM,EAAAL,EAAAC,GAAE,EAAC,EAAAC,EAAAC,UAAE,CAAC/M,KAAK,CAAC,OAAO,OAAO,oBAAoBzB,EAAE0O,UAAU,gBAAW,IAAQ,EAAAL,EAAAC,GAAE,EAAC,EAAAC,EAAAC,UAAE,CAACK,KAAK,CAACtC,MAAK,GAAIkD,UAAS,EAAGC,MAAM,eAAe1P,EAAE0O,UAAU,YAAO,IAAQ,EAAAL,EAAAC,GAAE,EAAC,EAAAC,EAAAC,UAAEmB,EAAAjO,MAAI1B,EAAE0O,UAAU,WAAM,GAAgD,IAAMkB,EAA9C5P,GAAE,EAAAqO,EAAAC,GAAE,EAAC,EAAAuB,EAAAC,UAAE,8BAA8B9P","sources":["node_modules/@arcgis/core/layers/MapImageLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../request.js\";import t from\"../TimeExtent.js\";import o from\"../core/Error.js\";import{HandleOwnerMixin as i}from\"../core/HandleOwner.js\";import{loadAll as s}from\"../core/loadAll.js\";import{isSome as a}from\"../core/maybe.js\";import{MultiOriginJSONMixin as p}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as n,isAbortError as m}from\"../core/promiseUtils.js\";import{property as l}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{Integer as c}from\"../core/accessorSupport/ensureType.js\";import{reader as u}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as y}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as d}from\"../core/accessorSupport/decorators/writer.js\";import{nameToId as h,OriginId as f}from\"../core/accessorSupport/PropertyOrigin.js\";import g from\"../geometry/Extent.js\";import{getScale as v}from\"../geometry/support/scaleUtils.js\";import j from\"./Layer.js\";import{APIKeyMixin as x}from\"./mixins/APIKeyMixin.js\";import{ArcGISMapService as b}from\"./mixins/ArcGISMapService.js\";import{ArcGISService as S}from\"./mixins/ArcGISService.js\";import{BlendLayer as O}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as w}from\"./mixins/CustomParametersMixin.js\";import{OperationalLayer as I}from\"./mixins/OperationalLayer.js\";import{PortalLayer as E}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as L}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as P}from\"./mixins/ScaleRangeLayer.js\";import{SublayersOwner as M}from\"./mixins/SublayersOwner.js\";import{TemporalLayer as T}from\"./mixins/TemporalLayer.js\";import{url as U}from\"./support/commonProperties.js\";import{ExportImageParameters as R}from\"./support/ExportImageParameters.js\";import N from\"./support/Sublayer.js\";import{shouldWriteSublayerStructure as A}from\"./support/sublayerUtils.js\";import{serviceSupportsSpatialReference as J}from\"./support/versionUtils.js\";let q=class extends(O(T(P(M(b(S(I(E(p(L(x(w(i(j)))))))))))))){constructor(...e){super(...e),this.datesInUnknownTimezone=!1,this.dpi=96,this.gdbVersion=null,this.imageFormat=\"png24\",this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.isReference=null,this.labelsVisible=!1,this.operationalLayerType=\"ArcGISMapServiceLayer\",this.sourceJSON=null,this.sublayers=null,this.type=\"map-image\",this.url=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){const r=a(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Map Service\"]},e).catch(n).then((()=>this._fetchService(r)))),Promise.resolve(this)}readImageFormat(e,r){const t=r.supportedImageFormatTypes;return t&&t.indexOf(\"PNG32\")>-1?\"png32\":\"png24\"}writeSublayers(e,r,t,o){if(!this.loaded||!e)return;const i=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray();let s=!1;if(this.capabilities&&this.capabilities.operations.supportsExportMap&&this.capabilities.exportMap.supportsDynamicLayers){const e=h(o.origin);if(e===f.PORTAL_ITEM){const e=this.createSublayersForOrigin(\"service\").sublayers;s=A(i,e,f.SERVICE)}else if(e>f.PORTAL_ITEM){const e=this.createSublayersForOrigin(\"portal-item\");s=A(i,e.sublayers,h(e.origin))}}const a=[],p={writeSublayerStructure:s,...o};let n=s;i.forEach((e=>{const r=e.write({},p);a.push(r),n=n||\"user\"===e.originOf(\"visible\")}));a.some((e=>Object.keys(e).length>1))&&(r.layers=a),n&&(r.visibleLayers=i.filter((e=>e.visible)).map((e=>e.id)))}createExportImageParameters(e,r,t,o){const i=o&&o.pixelRatio||1;e&&this.version>=10&&(e=e.clone().shiftCentralMeridian());const s=new R({layer:this,floors:null==o?void 0:o.floors,scale:v({extent:e,width:r})*i}),a=s.toJSON();s.destroy();const p=!o||!o.rotation||this.version<10.3?{}:{rotation:-o.rotation},n=e&&e.spatialReference,m=n.wkid||JSON.stringify(n.toJSON());a.dpi*=i;const l={};if(null!=o&&o.timeExtent){const{start:e,end:r}=o.timeExtent.toJSON();l.time=e&&r&&e===r?\"\"+e:`${null==e?\"null\":e},${null==r?\"null\":r}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(l.time=\"null,null\");return{bbox:e&&e.xmin+\",\"+e.ymin+\",\"+e.xmax+\",\"+e.ymax,bboxSR:m,imageSR:m,size:r+\",\"+t,...a,...p,...l}}async fetchImage(e,t,i,s){var a;const p={responseType:\"image\",signal:null!=(a=null==s?void 0:s.signal)?a:null,query:{...this.parsedUrl.query,...this.createExportImageParameters(e,t,i,s),f:\"image\",...this.refreshParameters,...this.customParameters,token:this.apiKey}},n=this.parsedUrl.path+\"/export\";if(null!=p.query.dynamicLayers&&!this.capabilities.exportMap.supportsDynamicLayers)return Promise.reject(new o(\"mapimagelayer:dynamiclayer-not-supported\",`service ${this.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,{query:p.query}));return r(n,p).then((e=>e.data)).catch((e=>{if(m(e))throw e;throw new o(\"mapimagelayer:image-fetch-error\",`Unable to load image: ${n}`,{error:e})}))}async fetchRecomputedExtents(e={}){const o={...e,query:{returnUpdates:!0,f:\"json\",...this.customParameters,token:this.apiKey}},{data:i}=await r(this.url,o),{extent:s,fullExtent:a,timeExtent:p}=i,n=s||a;return{fullExtent:n&&g.fromJSON(n),timeExtent:p&&t.fromJSON({start:p[0],end:p[1]})}}loadAll(){return s(this,(e=>{e(this.allSublayers)}))}serviceSupportsSpatialReference(e){return J(this,e)}async _fetchService(e){if(this.sourceJSON)return void this.read(this.sourceJSON,{origin:\"service\",url:this.parsedUrl});const{data:t,ssl:o}=await r(this.parsedUrl.path,{query:{f:\"json\",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},signal:e});o&&(this.url=this.url.replace(/^http:/i,\"https:\")),this.sourceJSON=t,this.read(t,{origin:\"service\",url:this.parsedUrl})}};e([l({type:Boolean})],q.prototype,\"datesInUnknownTimezone\",void 0),e([l()],q.prototype,\"dpi\",void 0),e([l()],q.prototype,\"gdbVersion\",void 0),e([l()],q.prototype,\"imageFormat\",void 0),e([u(\"imageFormat\",[\"supportedImageFormatTypes\"])],q.prototype,\"readImageFormat\",null),e([l({json:{origins:{service:{read:{source:\"maxImageHeight\"}}}}})],q.prototype,\"imageMaxHeight\",void 0),e([l({json:{origins:{service:{read:{source:\"maxImageWidth\"}}}}})],q.prototype,\"imageMaxWidth\",void 0),e([l()],q.prototype,\"imageTransparency\",void 0),e([l({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],q.prototype,\"isReference\",void 0),e([l({json:{read:!1,write:!1}})],q.prototype,\"labelsVisible\",void 0),e([l({type:[\"ArcGISMapServiceLayer\"]})],q.prototype,\"operationalLayerType\",void 0),e([l({json:{read:!1,write:!1}})],q.prototype,\"popupEnabled\",void 0),e([l()],q.prototype,\"sourceJSON\",void 0),e([l({json:{write:{ignoreOrigin:!0}}})],q.prototype,\"sublayers\",void 0),e([d(\"sublayers\",{layers:{type:[N]},visibleLayers:{type:[c]}})],q.prototype,\"writeSublayers\",null),e([l({type:[\"show\",\"hide\",\"hide-children\"]})],q.prototype,\"listMode\",void 0),e([l({json:{read:!1},readOnly:!0,value:\"map-image\"})],q.prototype,\"type\",void 0),e([l(U)],q.prototype,\"url\",void 0),q=e([y(\"esri.layers.MapImageLayer\")],q);const F=q;export{F as default};\n"],"names":["$8TSCy","parcelRequire","$1e90148430be9f9c$var$q","_superClass","_len","arguments","length","_$e","Array","_key","_this","_super","call","apply","toConsumableArray","datesInUnknownTimezone","dpi","gdbVersion","imageFormat","imageMaxHeight","imageMaxWidth","imageTransparency","isReference","labelsVisible","operationalLayerType","sourceJSON","sublayers","type","url","key","e1","r1","objectSpread","e2","r2","$7qybv","isSome","signal","this","addResolvingPromise","loadFromPortal","supportedTypes","catch","$10vEZ","throwIfAbortError","then","_fetchService","Promise","resolve","e","r3","t1","supportedImageFormatTypes","indexOf","e3","r4","t","o1","loaded","_$i","slice","reverse","flatten","param","toArray","s1","capabilities","operations","supportsExportMap","exportMap","supportsDynamicLayers","_$e3","$Ej9Ns","nameToId","origin","OriginId","PORTAL_ITEM","_$e1","createSublayersForOrigin","$dL9AF","shouldWriteSublayerStructure","SERVICE","_$e2","a1","_$p","writeSublayerStructure","n1","forEach","e4","_$r","write","push","originOf","some","e5","Object","keys","layers","visibleLayers","filter","e6","visible","map","e7","id","e8","r5","t2","o2","pixelRatio","version","clone","shiftCentralMeridian","s2","$7vAR5","ExportImageParameters","layer","floors","scale","$k0Vu4","getScale","extent","width","a2","toJSON","destroy","rotation","n2","spatialReference","m1","wkid","JSON","stringify","_$l","timeExtent","ref","start","end","time","concat","timeInfo","hasLiveData","bbox","xmin","ymin","xmax","ymax","bboxSR","imageSR","size","e9","t3","i1","s3","asyncToGenerator","$parcel$interopDefault","$2TvXO","mark","_callee","a3","n3","responseType","query","parsedUrl","createExportImageParameters","f","refreshParameters","customParameters","token","apiKey","path","dynamicLayers","reject","$kyj08","default","$9pNSx","e10","data","e11","isAbortError","error","o3","s4","a4","n4","returnUpdates","_ctx","sent","fullExtent","$gINRd","fromJSON","$9DeZf","$9MlGz","loadAll","e12","allSublayers","e13","$iaMRW","serviceSupportsSpatialReference","e14","t4","read","ssl","replace","$gIXJ2","BlendLayer","$2t08e","TemporalLayer","$3GzOb","ScaleRangeLayer","$bMJ3b","SublayersOwner","$ds6X2","ArcGISMapService","$aLy89","ArcGISService","$5N5S1","OperationalLayer","$9bAYR","PortalLayer","$8NioF","MultiOriginJSONMixin","$13Qxf","RefreshableLayer","$jy0BF","APIKeyMixin","$cv2jJ","CustomParametersMixin","$6dXDO","HandleOwnerMixin","$4LDxK","$7eJjO","_","$iho5X","property","Boolean","prototype","$eB8sj","reader","json","origins","service","source","enabled","overridePolicy","ignoreOrigin","$kced1","writer","$5qsk3","$iJAIC","Integer","readOnly","value","$gRgX5","$1e90148430be9f9c$export$2e2bcd8739ae039","$fcwIv","subclass"],"version":3,"file":"MapImageLayer.c8b5b12c.js.map"}