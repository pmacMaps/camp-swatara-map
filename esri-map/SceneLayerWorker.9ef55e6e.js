function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("11hek",(function(n,r){e(n.exports,"process",(function(){return f})),e(n.exports,"initialize",(function(){return P})),e(n.exports,"dracoDecompressPointCloudData",(function(){return a})),e(n.exports,"filterObbsForModifications",(function(){return l})),e(n.exports,"filterObbsForModificationsSync",(function(){return x})),e(n.exports,"setModifications",(function(){return d})),e(n.exports,"setModificationsSync",(function(){return y})),e(n.exports,"setLegacySchema",(function(){return h})),e(n.exports,"destroyContext",(function(){return m})),e(n.exports,"interpretObbModificationResults",(function(){return _})),e(n.exports,"test",(function(){return S}));var i=t("1CpCt"),o=t("2DP3b"),s=t("4CaSB"),c=t("lRavZ"),u=t("7hMMx");async function f(e){await P();const t=[e.geometryBuffer];return{result:b(e,t),transferList:t}}async function a(e){await P();const t=[e.geometryBuffer],{geometryBuffer:n}=e,r=n.byteLength,i=g._malloc(r),s=new Uint8Array(g.HEAPU8.buffer,i,r);s.set(new Uint8Array(n));const c=g.dracoDecompressPointCloudData(i,s.byteLength);if(g._free(i),c.error.length>0)throw`i3s.wasm: ${c.error}`;const u=c.featureIds?.length>0?(0,o.slice)(c.featureIds):null,f=(0,o.slice)(c.positions);return u&&t.push(u.buffer),t.push(f.buffer),{result:{positions:f,featureIds:u},transferList:t}}async function l(e){await P(),x(e);const t={buffer:e.buffer};return{result:t,transferList:[t.buffer]}}async function d(e){await P(),y(e)}async function h(e){await P(),g.setLegacySchema(e.context,e.jsonSchema)}function m(e){M(e)}let p,g;function y(e){const t=e.modifications,n=g._malloc(8*t.length),r=new Float64Array(g.HEAPU8.buffer,n,t.length);for(let e=0;e<t.length;++e)r[e]=t[e];g.setModifications(e.context,n,t.length,e.isGeodetic),g._free(n)}function b(e,t){if(!g)return null;const{context:n,localOrigin:r,globalTrafo:c,mbs:u,obb:f,elevationOffset:a,geometryBuffer:l,geometryDescriptor:d,indexToVertexProjector:h,vertexToRenderProjector:m}=e,p=g._malloc(l.byteLength),y=g._malloc(33*Float64Array.BYTES_PER_ELEMENT),b=new Uint8Array(g.HEAPU8.buffer,p,l.byteLength);b.set(new Uint8Array(l));const _=new Float64Array(g.HEAPU8.buffer,y,33);w(_,r);let x=_.byteOffset+3*_.BYTES_PER_ELEMENT,M=new Float64Array(_.buffer,x);w(M,c),x+=16*_.BYTES_PER_ELEMENT,M=new Float64Array(_.buffer,x),w(M,u),x+=4*_.BYTES_PER_ELEMENT,(0,i.isSome)(f)&&(M=new Float64Array(_.buffer,x),w(M,f.center),x+=3*_.BYTES_PER_ELEMENT,M=new Float64Array(_.buffer,x),w(M,f.halfSize),x+=3*_.BYTES_PER_ELEMENT,M=new Float64Array(_.buffer,x),w(M,f.quaternion));const P=d,S={isDraco:!1,isLegacy:!1,color:e.layouts.some((e=>e.some((e=>"color"===e.name)))),normal:e.needNormals&&e.layouts.some((e=>e.some((e=>"normalCompressed"===e.name)))),uv0:e.layouts.some((e=>e.some((e=>"uv0"===e.name)))),uvRegion:e.layouts.some((e=>e.some((e=>"uvRegion"===e.name)))),featureIndex:P.featureIndex},E=g.process(n,!!e.obb,p,b.byteLength,P,S,y,a,h,m,e.normalReferenceFrame);if(g._free(y),g._free(p),E.error.length>0)throw`i3s.wasm: ${E.error}`;if(E.discarded)return null;const T=E.componentOffsets.length>0?(0,o.slice)(E.componentOffsets):null,v=E.featureIds.length>0?(0,o.slice)(E.featureIds):null,I=(0,o.slice)(E.interleavedVertedData).buffer,A=E.indicesType===s.IndexType.Int16?(0,o.slice)(new Uint16Array(E.indices.buffer,E.indices.byteOffset,E.indices.byteLength/2)):(0,o.slice)(new Uint32Array(E.indices.buffer,E.indices.byteOffset,E.indices.byteLength/4)),O=(0,o.slice)(E.positions),R=E.positionIndicesType===s.IndexType.Int16?(0,o.slice)(new Uint16Array(E.positionIndices.buffer,E.positionIndices.byteOffset,E.positionIndices.byteLength/2)):(0,o.slice)(new Uint32Array(E.positionIndices.buffer,E.positionIndices.byteOffset,E.positionIndices.byteLength/4)),C={layout:e.layouts[0],interleavedVertexData:I,indices:A,hasColors:E.hasColors,hasModifications:E.hasModifications,positionData:{data:O,indices:R}};return v&&t.push(v.buffer),T&&t.push(T.buffer),t.push(I),t.push(A.buffer),t.push(O.buffer),t.push(R.buffer),{componentOffsets:T,featureIds:v,transformedGeometry:C,obb:E.obb}}function _(e){return 0===e?u.NodeIMModificationImpact.Unmodified:1===e?u.NodeIMModificationImpact.PotentiallyModified:2===e?u.NodeIMModificationImpact.Culled:u.NodeIMModificationImpact.Unknown}function x(e){const{context:t,buffer:n}=e,r=g._malloc(n.byteLength),i=n.byteLength/Float64Array.BYTES_PER_ELEMENT,o=new Float64Array(g.HEAPU8.buffer,r,i),s=new Float64Array(n);o.set(s),g.filterOBBs(t,r,i),s.set(o),g._free(r)}function M(e){g&&g.destroy(e)}function w(e,t){for(let n=0;n<t.length;++n)e[n]=t[n]}function P(){return g?Promise.resolve():(p||(p=(0,c.get)().then((e=>{g=e,p=null}))),p)}const S={transform:b,destroy:M}})),t.register("4CaSB",(function(t,n){var r,i,o;e(t.exports,"IndexType",(function(){return r})),(o=r||(r={}))[o.None=0]="None",o[o.Int16=1]="Int16",o[o.Int32=2]="Int32",function(e){e[e.Replace=0]="Replace",e[e.Outside=1]="Outside",e[e.Inside=2]="Inside",e[e.Finished=3]="Finished"}(i||(i={}))})),t.register("lRavZ",(function(n,r){e(n.exports,"get",(function(){return o}));var i=t("cQaZU");function o(){return c||(c=new Promise((e=>t("9lYxg").then((e=>e.i)).then((({default:t})=>{const n=t({locateFile:s,onRuntimeInitialized:()=>e(n)});delete n.then})))).catch((e=>{throw e}))),c}function s(e){return(0,i.getAssetUrl)(`esri/libs/i3s/${e}`)}let c})),t.register("9lYxg",(function(e,n){e.exports=import("./"+t("kyEFX").resolve("1wRnj")).then((()=>t("d6vGE")))})),t.register("7hMMx",(function(n,r){e(n.exports,"NodeIMModificationImpact",(function(){return o}));var i,o,s,c,u,f;t("ie8rn");(f=i||(i={}))[f.Unmodified=0]="Unmodified",f[f.Culled=1]="Culled",f[f.NotChecked=2]="NotChecked",function(e){e[e.Unmodified=0]="Unmodified",e[e.PotentiallyModified=1]="PotentiallyModified",e[e.Culled=2]="Culled",e[e.Unknown=3]="Unknown",e[e.NotChecked=4]="NotChecked"}(o||(o={}));!function(e){e[e.Unknown=0]="Unknown",e[e.Uncached=1]="Uncached",e[e.Cached=2]="Cached"}(s||(s={})),function(e){e[e.None=0]="None",e[e.MaxScreenThreshold=1]="MaxScreenThreshold",e[e.ScreenSpaceRelative=2]="ScreenSpaceRelative",e[e.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",e[e.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"}(c||(c={})),function(e){e[e.Hole=0]="Hole",e[e.Leaf=1]="Leaf"}(u||(u={}))})),t.register("ie8rn",(function(n,r){e(n.exports,"c",(function(){return y})),e(n.exports,"b",(function(){return b})),e(n.exports,"d",(function(){return _})),e(n.exports,"g",(function(){return x})),e(n.exports,"f",(function(){return M})),e(n.exports,"i",(function(){return S})),e(n.exports,"m",(function(){return R})),t("5HTPH");var i=t("6TszD"),o=t("8TN87"),s=t("1CpCt"),c=t("9gD5C"),u=t("8lcnQ"),f=t("iHxaG"),a=t("7X4gL"),l=t("64ROT"),d=t("fWo6R"),h=t("5YOu3"),m=t("3pr9a"),p=t("hjHdJ");const g=i.default.getLogger("esri.geometry.support.sphere");function y(){return(0,l.c)()}function b(e,t=y()){return(0,a.c)(t,e)}function _(e){return e[3]}function x(e){return e}function M(e,t,n,r){return(0,l.f)(e,t,n,r)}function w(e,t,n){if((0,s.isNone)(t))return!1;const{origin:r,direction:i}=t,o=P;o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2];const c=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],u=2*(i[0]*o[0]+i[1]*o[1]+i[2]*o[2]),f=u*u-4*c*(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]-e[3]*e[3]);if(f<0)return!1;const a=Math.sqrt(f);let l=(-u-a)/(2*c);const d=(-u+a)/(2*c);return(l<0||d<l&&d>0)&&(l=d),!(l<0||(n&&(n[0]=r[0]+i[0]*l,n[1]=r[1]+i[1]*l,n[2]=r[2]+i[2]*l),0))}const P=(0,f.c)();function S(e,t){return w(e,t,null)}function E(e,t,n){const r=p.sv3d.get(),i=p.sm4d.get();(0,u.f)(r,t.origin,t.direction);const o=_(e);(0,u.f)(n,r,t.origin),(0,u.g)(n,n,1/(0,u.l)(n)*o);const s=v(e,t.origin),f=(0,m.angle)(t.origin,n);return(0,c.d)(i,f+s,r),(0,u.m)(n,n,i),n}function T(e,t,n){const r=(0,u.b)(p.sv3d.get(),t,e),i=(0,u.g)(p.sv3d.get(),r,e[3]/(0,u.l)(r));return(0,u.a)(n,i,e)}function v(e,t){const n=(0,u.b)(p.sv3d.get(),t,e),r=(0,u.l)(n),i=_(e),s=i+Math.abs(i-r);return(0,o.acosClamped)(i/s)}const I=(0,f.c)();function A(e,t,n,r){const i=(0,u.b)(I,t,e);switch(n){case d.Axis.X:{const e=(0,o.cartesianToSpherical)(i,I)[2];return(0,u.s)(r,-Math.sin(e),Math.cos(e),0)}case d.Axis.Y:{const e=(0,o.cartesianToSpherical)(i,I),t=e[1],n=e[2],s=Math.sin(t);return(0,u.s)(r,-s*Math.cos(n),-s*Math.sin(n),Math.cos(t))}case d.Axis.Z:return(0,u.n)(r,i);default:return}}function O(e,t){const n=(0,u.b)(C,t,e);return(0,u.l)(n)-e[3]}function R(e,t){const n=(0,u.d)(e,t),r=_(e);return n<=r*r}const C=(0,f.c)(),U=y();Object.freeze(Object.defineProperty({__proto__:null,create:y,copy:b,fromCenterAndRadius:function(e,t){return(0,l.f)(e[0],e[1],e[2],t)},wrap:function(e){return e},clear:function(e){e[0]=e[1]=e[2]=e[3]=0},fromRadius:function(e,t){return e[0]=e[1]=e[2]=0,e[3]=t,e},getRadius:_,getCenter:x,fromValues:M,elevate:function(e,t,n){return e!==n&&(0,u.c)(n,e),n[3]=e[3]+t,n},setExtent:function(e,t,n){return g.error("sphere.setExtent is not yet supported"),e===n?n:b(e,n)},intersectRay:w,intersectsRay:S,intersectRayClosestSilhouette:function(e,t,n){if(w(e,t,n))return n;const r=E(e,t,p.sv3d.get());return(0,u.a)(n,t.origin,(0,u.g)(p.sv3d.get(),t.direction,(0,u.i)(t.origin,r)/(0,u.l)(t.direction))),n},closestPointOnSilhouette:E,closestPoint:function(e,t,n){return w(e,t,n)?n:((0,h.closestPoint)(t,e,n),T(e,n,n))},projectPoint:T,distanceToSilhouette:function(e,t){const n=(0,u.b)(p.sv3d.get(),t,e),r=(0,u.p)(n),i=e[3]*e[3];return Math.sqrt(Math.abs(r-i))},angleToSilhouette:v,axisAt:A,altitudeAt:O,setAltitudeAt:function(e,t,n,r){const i=O(e,t),o=A(e,t,d.Axis.Z,C),s=(0,u.g)(C,o,n-i);return(0,u.a)(r,t,s)},containsPoint:R,tmpSphere:U},Symbol.toStringTag,{value:"Module"}))})),t.register("fWo6R",(function(t,n){var r,i;e(t.exports,"Axis",(function(){return r})),(i=r||(r={}))[i.X=0]="X",i[i.Y=1]="Y",i[i.Z=2]="Z"})),t.register("5YOu3",(function(n,r){e(n.exports,"create",(function(){return c})),e(n.exports,"wrap",(function(){return u})),e(n.exports,"copy",(function(){return f})),e(n.exports,"fromValues",(function(){return a})),e(n.exports,"closestPoint",(function(){return l}));t("aX9sh");var i=t("a9my6"),o=t("8lcnQ"),s=t("iHxaG");t("hjHdJ");function c(e){return e?{origin:(0,s.a)(e.origin),direction:(0,s.a)(e.direction)}:{origin:(0,s.c)(),direction:(0,s.c)()}}function u(e,t){const n=d.get();return n.origin=e,n.direction=t,n}function f(e,t=c()){return a(e.origin,e.direction,t)}function a(e,t,n=c()){return(0,o.c)(n.origin,e),(0,o.c)(n.direction,t),n}function l(e,t,n){const r=(0,o.e)(e.direction,(0,o.b)(n,t,e.origin));return(0,o.a)(n,e.origin,(0,o.g)(n,e.direction,r)),n}const d=new(0,i.ObjectStack)((function(){return{origin:null,direction:null}}))})),t.register("a9my6",(function(n,r){e(n.exports,"ObjectStack",(function(){return o}));var i=t("jzWcQ");class o{get(){return 0===this._itemsPtr&&(0,i.nextTick)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const e=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*s);this._items.length=Math.min(e,this._items.length),this._itemsPtr=0}_grow(){for(let e=0;e<Math.max(8,Math.min(this._items.length,s));e++)this._items.push(this.allocator())}constructor(e){this.allocator=e,this._items=[],this._itemsPtr=0,this._grow()}}const s=1024})),t.register("hjHdJ",(function(n,r){e(n.exports,"sv3d",(function(){return o})),e(n.exports,"sv4d",(function(){return s})),e(n.exports,"sm4d",(function(){return c}));var i=t("2zNcU");i.VectorStack.createVec2f64();const o=i.VectorStack.createVec3f64(),s=i.VectorStack.createVec4f64(),c=(i.VectorStack.createMat3f64(),i.VectorStack.createMat4f64());i.VectorStack.createQuatf64()})),t.register("2zNcU",(function(n,r){e(n.exports,"VectorStack",(function(){return d}));var i=t("gMUc8"),o=t("jzWcQ"),s=t("4vUOo"),c=t("2ouJi"),u=t("6MY4j"),f=t("lOOi9"),a=t("iHxaG"),l=t("64ROT");class d{get(){0===this._itemsPtr&&(0,o.nextTick)((()=>this._reset()));const e=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=e;){const e=new ArrayBuffer(this._itemsPerBuffer*this.itemByteSize);for(let t=0;t<this._itemsPerBuffer;++t)this._items.push(this.itemCreate(e,t*this.itemByteSize));this._buffers.push(e)}return this._items[this._itemsPtr++]}_reset(){const e=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>e;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}static createVec2f64(e=h){return new d(16,f.c,e)}static createVec3f64(e=h){return new d(24,a.b,e)}static createVec4f64(e=h){return new d(32,l.a,e)}static createMat3f64(e=h){return new d(72,s.a,e)}static createMat4f64(e=h){return new d(128,c.a,e)}static createQuatf64(e=h){return new d(32,u.c,e)}get test(){return{size:this._buffers.length*this._itemsPerBuffer*this.itemByteSize}}constructor(e,t,n){this.itemByteSize=e,this.itemCreate=t,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil(n/this.itemByteSize)}}const h=4*i.ByteSizeUnit.KILOBYTES})),t.register("4vUOo",(function(t,n){function r(){return[1,0,0,0,1,0,0,0,1]}function i(e,t){return new Float64Array(e,t,9)}e(t.exports,"c",(function(){return r})),e(t.exports,"a",(function(){return i}));Object.freeze(Object.defineProperty({__proto__:null,create:r,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},fromValues:function(e,t,n,r,i,o,s,c,u){return[e,t,n,r,i,o,s,c,u]},createView:i},Symbol.toStringTag,{value:"Module"}))})),t.register("2ouJi",(function(t,n){function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function o(e,t){return new Float64Array(e,t,16)}e(t.exports,"c",(function(){return r})),e(t.exports,"b",(function(){return i})),e(t.exports,"a",(function(){return o})),e(t.exports,"I",(function(){return s}));const s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,create:r,clone:i,fromValues:function(e,t,n,r,i,o,s,c,u,f,a,l,d,h,m,p){return[e,t,n,r,i,o,s,c,u,f,a,l,d,h,m,p]},createView:o,IDENTITY:s},Symbol.toStringTag,{value:"Module"}))})),t.register("6MY4j",(function(t,n){function r(){return[0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3]]}function o(e,t){return new Float64Array(e,t,4)}e(t.exports,"a",(function(){return r})),e(t.exports,"b",(function(){return i})),e(t.exports,"c",(function(){return o})),e(t.exports,"I",(function(){return s}));const s=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,create:r,clone:i,fromValues:function(e,t,n,r){return[e,t,n,r]},createView:o,IDENTITY:s},Symbol.toStringTag,{value:"Module"}))})),t.register("3pr9a",(function(n,r){e(n.exports,"projectPointSignedLength",(function(){return c})),e(n.exports,"angle",(function(){return u}));var i=t("8TN87"),o=t("8lcnQ"),s=t("iHxaG");function c(e,t){return(0,o.e)(e,t)/(0,o.l)(e)}function u(e,t){const n=(0,o.e)(e,t)/((0,o.l)(e)*(0,o.l)(t));return-(0,i.acosClamped)(n)}(0,s.c)(),(0,s.c)()}));
//# sourceMappingURL=SceneLayerWorker.9ef55e6e.js.map
