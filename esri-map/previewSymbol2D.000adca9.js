!function(){function e(e,t,l,n){Object.defineProperty(e,t,{get:l,set:n,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("grXPo",(function(l,n){e(l.exports,"previewSymbol2D",(function(){return x}));var a=t("jgs9n"),o=t("kyj08"),i=t("iXlXu"),s=t("dNlty"),u=t("cBxZc"),r=t("bFgGH"),c=t("imoJM");const d="picture-fill",m=u.SymbolSizeDefaults.size,p=u.SymbolSizeDefaults.maxSize,h=u.SymbolSizeDefaults.maxOutlineSize,f=u.SymbolSizeDefaults.lineWidth,v=225,y=document.createElement("canvas");function g(e){const t=null==e?void 0:e.size;return{width:null!=t&&"object"==typeof t&&"width"in t?(0,i.pt2px)(t.width):null,height:null!=t&&"object"==typeof t&&"height"in t?(0,i.pt2px)(t.height):null}}function b(e,t){return e>t?"dark":"light"}function w(e,t){const l="number"==typeof(null==t?void 0:t.size)?null==t?void 0:t.size:null,n=null!=l?(0,i.pt2px)(l):null,o=null!=(null==t?void 0:t.maxSize)?(0,i.pt2px)(t.maxSize):null,r=null!=(null==t?void 0:t.rotation)?t.rotation:"angle"in e?e.angle:null,w=(0,s.getFill)(e);let x=(0,s.getStroke)(e);"dark"!==function(e,t=225){const l=(0,s.getFill)(e),n=(0,s.getStroke)(e),o=!l||"type"in l?null:new(0,a.default)(l),i=(null==n?void 0:n.color)?new(0,a.default)(null==n?void 0:n.color):null,u=o?b((0,c.getColorLuminance)(o),t):null,r=i?b((0,c.getColorLuminance)(i),t):null;return r?u?u===r?u:t>=v?"light":"dark":r:u}(e,245)||(null==t?void 0:t.ignoreWhiteSymbols)||(x={width:.75,...x,color:"#bdc3c7"});const M={shape:null,fill:w,stroke:x,offset:[0,0]};(null==x?void 0:x.width)&&(x.width=Math.min(x.width,h));const k=(null==x?void 0:x.width)||0;let z=null!=(null==t?void 0:t.size)&&(null==(null==t?void 0:t.scale)||(null==t?void 0:t.scale)),L=0,S=0,C=!1;switch(e.type){case"simple-marker":{const t=e.style,l=Math.min(null!=n?n:(0,i.pt2px)(e.size),o||p);switch(L=l,S=l,t){case"circle":M.shape={type:"circle",cx:0,cy:0,r:.5*l},z||(L+=k,S+=k);break;case"cross":M.shape={type:"path",path:[{command:"M",values:[0,.5*S]},{command:"L",values:[L,.5*S]},{command:"M",values:[.5*L,0]},{command:"L",values:[.5*L,S]}]};break;case"diamond":M.shape={type:"path",path:[{command:"M",values:[0,.5*S]},{command:"L",values:[.5*L,0]},{command:"L",values:[L,.5*S]},{command:"L",values:[.5*L,S]},{command:"Z",values:[]}]},z||(L+=k,S+=k);break;case"square":M.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[L,0]},{command:"L",values:[L,S]},{command:"L",values:[0,S]},{command:"Z",values:[]}]},z||(L+=k,S+=k),r&&(C=!0);break;case"triangle":M.shape={type:"path",path:[{command:"M",values:[.5*L,0]},{command:"L",values:[L,S]},{command:"L",values:[0,S]},{command:"Z",values:[]}]},z||(L+=k,S+=k),r&&(C=!0);break;case"x":M.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[L,S]},{command:"M",values:[L,0]},{command:"L",values:[0,S]}]},r&&(C=!0);break;case"path":M.shape={type:"path",path:e.path||""},z||(L+=k,S+=k),r&&(C=!0),z=!0}break}case"simple-line":{var j;const{width:e,height:l}=g(t),a=null!=l?l:Math.min(null!=n?n:k,o||h),i=null!=e?e:f;x.width=a,L=i,S=a;const s=(null==M||null===(j=M.stroke)||void 0===j?void 0:j.cap)||"butt",u="round"===s;z=!0,M.stroke.cap="butt"===s?"square":s,M.shape={type:"path",path:[{command:"M",values:[u?a/2:0,S/2]},{command:"L",values:[u?L-a/2:L,S/2]}]};break}case d:case"simple-fill":{const e="object"==typeof(null==t?void 0:t.symbolConfig)&&(null==t?void 0:t.symbolConfig.isSquareFill),{width:l,height:a}=g(t);L=e&&null!=l?l:null!=n?n:m,S=e&&null!=a?a:L,z||(L+=k,S+=k),z=!0,M.shape=e?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[L,0]},{command:"L",values:[L,S]},{command:"L",values:[0,S]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:u.shapes.fill[0];break}case"picture-marker":{let t=(0,i.pt2px)(e.width),l=(0,i.pt2px)(e.height);const a=null!=n?n:Math.max(t,l),s=t/l;t=s<=1?Math.ceil(a*s):a,l=s<=1?a:Math.ceil(a/s),L=Math.min(t,o||p),S=Math.min(l,o||p),M.shape={type:"image",x:-Math.round(L/2),y:-Math.round(S/2),width:L,height:S,src:e.url||""},r&&(C=!0);break}case"text":{const t=e,l=t.text||"Aa",a=t.font,s=Math.min(null!=n?n:(0,i.pt2px)(a.size),o||p),u=function(e,t){const l=y.getContext("2d"),n=[];return t&&(t.weight&&n.push(t.weight),t.size&&n.push(t.size+"px"),t.family&&n.push(t.family)),l.font=n.join(" "),l.measureText(e).width}(l,{weight:a.weight,size:s,family:a.family}),r=/[\uE600-\uE6FF]/.test(l);L=r?s:u,S=s;let c=.25*function(e){if(0===e.length)return 0;if(e.length>2){const t=(0,i.px2pt)(1),l=parseFloat(e);switch(e.slice(-2)){case"px":return l;case"pt":return l*t;case"in":return 72*l*t;case"pc":return 12*l*t;case"mm":return 2.8346456692913384*l*t;case"cm":return 28.346456692913385*l*t}}return parseFloat(e)}((a?s:0).toString());r&&(c+=5),M.shape={type:"text",text:l,x:t.xoffset||0,y:t.yoffset||c,align:"middle",alignBaseline:t.verticalAlignment,decoration:a&&a.decoration,rotated:t.rotated,kerning:t.kerning},M.font=a&&{size:s,style:a.style,decoration:a.decoration,weight:a.weight,family:a.family};break}}return{shapeDescriptor:M,size:[L,S],renderOptions:{node:null==t?void 0:t.node,scale:z,opacity:null==t?void 0:t.opacity,rotation:r,useRotationSize:C,effectView:null==t?void 0:t.effectView}}}async function x(e,t){const{shapeDescriptor:l,size:n,renderOptions:a}=w(e,t);if(!l.shape)throw new(0,o.default)("symbolPreview: renderPreviewHTML2D","symbol not supported.");await async function(e,t){const l=t.fill,n=e.color;if("pattern"===(null==l?void 0:l.type)&&n&&e.type!==d){const e=await(0,s.getPatternUrlWithColor)(l.src,n.toCss(!0));l.src=e,t.fill=l}}(e,l);const i=[[l]];if("object"==typeof(null==t?void 0:t.symbolConfig)&&(null==t?void 0:t.symbolConfig.applyColorModulation)){const e=.6*n[0];i.unshift([{...l,offset:[-e,0],fill:(0,u.adjustColorBrightness)(l.fill,-.3)}]),i.push([{...l,offset:[e,0],fill:(0,u.adjustColorBrightness)(l.fill,.3)}]),n[0]+=2*e,a.scale=!1}return(0,r.renderSymbol)(i,n,a)}})),t.register("imoJM",(function(l,n){e(l.exports,"getColorLuminance",(function(){return i}));var a=t("jgs9n");t("7qybv");function o(e){let{r:t,g:l,b:n,a:o}=e;return o<1&&(t=Math.round(o*t+255*(1-o)),l=Math.round(o*l+255*(1-o)),n=Math.round(o*n+255*(1-o))),new(0,a.default)({r:t,g:l,b:n})}function i(e){const{r:t,g:l,b:n}=o(e);return.2126*t+.7152*l+.0722*n}}))}();
//# sourceMappingURL=previewSymbol2D.000adca9.js.map
