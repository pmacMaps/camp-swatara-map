!function(){function e(e,t,n,l){Object.defineProperty(e,t,{get:n,set:l,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("grXPo",(function(n,l){e(n.exports,"previewSymbol2D",(function(){return z}));var o,i=t("jgs9n"),a=t("kyj08"),s=t("1x7m6"),r=t("iXlXu"),u=t("dNlty"),c=t("cBxZc"),d=t("bFgGH"),h=t("3wxMb"),f=t("imoJM");const p="picture-fill",m=c.SymbolSizeDefaults.size,g=c.SymbolSizeDefaults.maxSize,v=c.SymbolSizeDefaults.maxOutlineSize,y=c.SymbolSizeDefaults.lineWidth,w=225,b=document.createElement("canvas");function x(e,t){const n=b.getContext("2d"),l=[];return t&&(t.weight&&l.push(t.weight),t.size&&l.push(t.size+"px"),t.family&&l.push(t.family)),n.font=l.join(" "),n.measureText(e).width}function k(e){const t=null==e?void 0:e.size;return{width:null!=t&&"object"==typeof t&&"width"in t?(0,r.pt2px)(t.width):null,height:null!=t&&"object"==typeof t&&"height"in t?(0,r.pt2px)(t.height):null}}function L(e,t){return e>t?"dark":"light"}function M(e,t){const n="number"==typeof(null==t?void 0:t.size)?null==t?void 0:t.size:null,l=null!=n?(0,r.pt2px)(n):null,o=null!=(null==t?void 0:t.maxSize)?(0,r.pt2px)(t.maxSize):null,a=null!=(null==t?void 0:t.rotation)?t.rotation:"angle"in e?e.angle:null,s=(0,u.getFill)(e);let d=(0,u.getStroke)(e);"dark"!==function(e,t=225){const n=(0,u.getFill)(e),l=(0,u.getStroke)(e),o=!n||"type"in n?null:new(0,i.default)(n),a=(null==l?void 0:l.color)?new(0,i.default)(null==l?void 0:l.color):null,s=o?L((0,f.getColorLuminance)(o),t):null,r=a?L((0,f.getColorLuminance)(a),t):null;return r?s?s===r?s:t>=w?"light":"dark":r:s}(e,245)||(null==t?void 0:t.ignoreWhiteSymbols)||(d={width:.75,...d,color:"#bdc3c7"});const h={shape:null,fill:s,stroke:d,offset:[0,0]};(null==d?void 0:d.width)&&(d.width=Math.min(d.width,v));const b=(null==d?void 0:d.width)||0;let M=null!=(null==t?void 0:t.size)&&(null==(null==t?void 0:t.scale)||(null==t?void 0:t.scale)),z=0,C=0,S=!1;switch(e.type){case"simple-marker":{const n=e.style,{width:i,height:s}=k(t),u=i===s&&null!=i?i:null!=l?l:Math.min((0,r.pt2px)(e.size),o||g);switch(z=u,C=u,n){case"circle":h.shape={type:"circle",cx:0,cy:0,r:.5*u},M||(z+=b,C+=b);break;case"cross":h.shape={type:"path",path:[{command:"M",values:[0,.5*C]},{command:"L",values:[z,.5*C]},{command:"M",values:[.5*z,0]},{command:"L",values:[.5*z,C]}]};break;case"diamond":h.shape={type:"path",path:[{command:"M",values:[0,.5*C]},{command:"L",values:[.5*z,0]},{command:"L",values:[z,.5*C]},{command:"L",values:[.5*z,C]},{command:"Z",values:[]}]},M||(z+=b,C+=b);break;case"square":h.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[z,0]},{command:"L",values:[z,C]},{command:"L",values:[0,C]},{command:"Z",values:[]}]},M||(z+=b,C+=b),a&&(S=!0);break;case"triangle":h.shape={type:"path",path:[{command:"M",values:[.5*z,0]},{command:"L",values:[z,C]},{command:"L",values:[0,C]},{command:"Z",values:[]}]},M||(z+=b,C+=b),a&&(S=!0);break;case"x":h.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[z,C]},{command:"M",values:[z,0]},{command:"L",values:[0,C]}]},a&&(S=!0);break;case"path":h.shape={type:"path",path:e.path||""},M||(z+=b,C+=b),a&&(S=!0),M=!0}break}case"simple-line":{var F;const{width:e,height:n}=k(t),o=null!=n?n:null!=l?l:b,i=null!=e?e:y;d&&(d.width=o),z=i,C=o;const a=(null==h||null===(F=h.stroke)||void 0===F?void 0:F.cap)||"butt",s="round"===a;M=!0,h.stroke&&(h.stroke.cap="butt"===a?"square":a),h.shape={type:"path",path:[{command:"M",values:[s?o/2:0,C/2]},{command:"L",values:[s?z-o/2:z,C/2]}]};break}case p:case"simple-fill":{var D;const e="object"==typeof(null==t?void 0:t.symbolConfig)&&!!(null==t||null===(D=t.symbolConfig)||void 0===D?void 0:D.isSquareFill),{width:n,height:o}=k(t);z=!e&&n!==o||null==n?null!=l?l:m:n,C=!e&&n!==o||null==o?z:o,M||(z+=b,C+=b),M=!0,h.shape=e?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[z,0]},{command:"L",values:[z,C]},{command:"L",values:[0,C]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:c.shapes.fill[0];break}case"picture-marker":{const n=Math.min((0,r.pt2px)(e.width),o||g),i=Math.min((0,r.pt2px)(e.height),o||g),{width:s,height:u}=k(t),c=s===u&&null!=s?s:null!=l?l:Math.max(n,i),d=n/i;z=d<=1?Math.ceil(c*d):c,C=d<=1?c:Math.ceil(c/d),h.shape={type:"image",x:-Math.round(z/2),y:-Math.round(C/2),width:z,height:C,src:e.url||""},a&&(S=!0);break}case"text":{const n=e,i=(null==t?void 0:t.overrideText)||n.text||"Aa",a=n.font,{width:s,height:u}=k(t),c=null!=u?u:null!=l?l:Math.min((0,r.pt2px)(a.size),o||g),d=x(i,{weight:a.weight,size:c,family:a.family}),f=/[\uE600-\uE6FF]/.test(i);z=null!=s?s:f?c:d,C=c;let p=.25*function(e){if(0===e.length)return 0;if(e.length>2){const t=(0,r.px2pt)(1),n=parseFloat(e);switch(e.slice(-2)){case"px":return n;case"pt":return n*t;case"in":return 72*n*t;case"pc":return 12*n*t;case"mm":return 2.8346456692913384*n*t;case"cm":return 28.346456692913385*n*t}}return parseFloat(e)}((a?c:0).toString());f&&(p+=5),h.shape={type:"text",text:i,x:n.xoffset||0,y:n.yoffset||p,align:"middle",alignBaseline:n.verticalAlignment,decoration:a&&a.decoration,rotated:n.rotated,kerning:n.kerning},h.font=a&&{size:c,style:a.style,decoration:a.decoration,weight:a.weight,family:a.family};break}}return{shapeDescriptor:h,size:[z,C],renderOptions:{node:null==t?void 0:t.node,scale:M,opacity:null==t?void 0:t.opacity,rotation:a,useRotationSize:S,effectView:null==t?void 0:t.effectView,ariaLabel:null==t?void 0:t.ariaLabel}}}async function z(e,t){var n;const{shapeDescriptor:l,size:i,renderOptions:f}=M(e,t);if(!l.shape)throw new(0,a.default)("symbolPreview: renderPreviewHTML2D","symbol not supported.");await async function(e,t){const n=t.fill,l=e.color;if("pattern"===(null==n?void 0:n.type)&&l&&e.type!==p){const e=await(0,u.getPatternUrlWithColor)(n.src,l.toCss(!0));n.src=e,t.fill=n}}(e,l),await async function(e,t,n,l){var o,i,a;if(!("font"in e)||!e.font||"text"!==t.shape.type)return;try{await(0,s.loadFont)(e.font)}catch{}const{width:r}=k(l),u=/[\uE600-\uE6FF]/.test(t.shape.text);null!=r||u||(n[0]=x(t.shape.text,{weight:null===(o=t.font)||void 0===o?void 0:o.weight,size:null===(i=t.font)||void 0===i?void 0:i.size,family:null===(a=t.font)||void 0===a?void 0:a.family}))}(e,l,i,t);const m=[[l]];if("object"==typeof(null==t?void 0:t.symbolConfig)&&(null==t||null===(n=t.symbolConfig)||void 0===n?void 0:n.applyColorModulation)){const e=.6*i[0];m.unshift([{...l,offset:[-e,0],fill:(0,c.adjustColorBrightness)(l.fill,-.3)}]),m.push([{...l,offset:[e,0],fill:(0,c.adjustColorBrightness)(l.fill,.3)}]),i[0]+=2*e,f.scale=!1}return"text"===e.type&&function(e,t,n,l,i){var a;if(null!=e.haloColor&&null!=e.haloSize){var s;null!==(s=(o=i).masking)&&void 0!==s||(o.masking=n.map((()=>[])));const a=(0,r.pt2px)(e.haloSize);l[0]+=a,l[1]+=a,n.unshift([{...t,fill:null,stroke:{color:e.haloColor,width:2*a,join:"round",cap:"round"}}]),i.masking.unshift([{shape:{type:"rect",x:0,y:0,width:l[0]+2*h.BACKGROUND_PADDING,height:l[1]+2*h.BACKGROUND_PADDING},fill:[255,255,255],stroke:null},{...t,fill:[0,0,0,0],stroke:null}])}null==e.backgroundColor&&null==e.borderLineColor||(l[0]+=2*h.BACKGROUND_PADDING,l[1]+=2*h.BACKGROUND_PADDING,n.unshift([{shape:{type:"rect",x:0,y:0,width:l[0],height:l[1]},fill:e.backgroundColor,stroke:{color:e.borderLineColor,width:(0,r.pt2px)(e.borderLineSize)}}]),null===(a=i.masking)||void 0===a||a.unshift([]))}(e,l,m,i,f),(0,d.renderSymbol)(m,i,f)}})),t.register("1x7m6",(function(n,l){e(n.exports,"DEFAULT_FONT_FAMILY",(function(){return i})),e(n.exports,"loadFont",(function(){return u})),e(n.exports,"getFullyQualifiedFontName",(function(){return d})),e(n.exports,"getFontFamily",(function(){return c}));var o=t("cu9iz");const i="arial-unicode-ms",a=new Map,s=new Set;class r{constructor(e,t){this.fontFace=e,this.promise=t}}async function u(e){const t=d(e),n=a.get(t);if(n)return n.promise;const l=new FontFace(e.family,`url('${o.default.fontsUrl}/woff2/${t}.woff2') format('woff2')`,{style:e.style,weight:e.weight}),i=document.fonts;if(i.has(l)&&"loading"===l.status)return l.loaded;const u=l.load().then((()=>(i.add(l),l)));return a.set(t,new r(l,u)),s.add(l),u}function c(e){if(!e)return i;const t=e.toLowerCase().split(" ").join("-");switch(t){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return t}}function d(e){const t=function(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}(e)+function(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}(e);return c(e.family)+(t.length>0?t:"-regular")}})),t.register("imoJM",(function(n,l){e(n.exports,"getColorLuminance",(function(){return a}));var o=t("jgs9n");t("5xAFh"),t("iLaO9");function i(e){let{r:t,g:n,b:l,a:i}=e;return i<1&&(t=Math.round(i*t+255*(1-i)),n=Math.round(i*n+255*(1-i)),l=Math.round(i*l+255*(1-i))),new(0,o.default)({r:t,g:n,b:l})}function a(e,t){const{r:n,g:l,b:o}=(null==t?void 0:t.ignoreAlpha)?e:i(e);return.2126*n+.7152*l+.0722*o}}))}();
//# sourceMappingURL=previewSymbol2D.95c13c22.js.map
