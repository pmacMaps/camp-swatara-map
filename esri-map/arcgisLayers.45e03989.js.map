{"mappings":"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","sources":["node_modules/@arcgis/core/layers/support/arcgisLayers.js","node_modules/@parcel/runtime-js/lib/runtime-eb342d08bbc4ff0d.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import r from\"../../core/Error.js\";import{isNone as a,isSome as t}from\"../../core/maybe.js\";import{getFilename as l,urlToObject as n}from\"../../core/urlUtils.js\";import{parse as s,parseNonStandardSublayerUrl as o}from\"./arcgisLayerUrl.js\";import{layerLookupMap as u}from\"./lazyLayerLoader.js\";async function i(e){var r;const a=null==(r=e.properties)?void 0:r.customParameters,t=await d(e.url,a),l={...e.properties,url:e.url};if(!t.sublayerIds)return null!=t.layerOrTableId&&(l.layerId=t.layerOrTableId,l.sourceJSON=t.sourceJSON),new t.Constructor(l);const n=new(0,(await import(\"../GroupLayer.js\")).default)({title:t.parsedUrl.title});return c(n,t,l),n}function y(e,r){return e?e.find((e=>e.id===r)):null}function c(e,r,a){function l(e,l){const n={...a,layerId:e,sublayerTitleMode:\"service-name\"};return t(l)&&(n.sourceJSON=l),new r.Constructor(n)}r.sublayerIds.forEach((a=>{const t=l(a,y(r.sublayerInfos,a));e.add(t)})),r.tableIds.forEach((a=>{const t=l(a,y(r.tableInfos,a));e.tables.add(t)}))}async function d(e,t){let l=s(e);if(a(l)&&(l=await f(e,t)),a(l))throw new r(\"arcgis-layers:url-mismatch\",\"The url '${url}' is not a valid arcgis resource\",{url:e});const{serverType:n,sublayer:o}=l;let u;const i={FeatureServer:\"FeatureLayer\",StreamServer:\"StreamLayer\",VectorTileServer:\"VectorTileLayer\"};switch(n){case\"MapServer\":u=null!=o?\"FeatureLayer\":S(e,t).then((e=>e?\"TileLayer\":\"MapImageLayer\"));break;case\"ImageServer\":u=w(e,t).then((e=>{const r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?!r||\"LERC\"!==r.toUpperCase()||e.cacheType&&\"elevation\"!==e.cacheType.toLowerCase()?\"ImageryTileLayer\":\"ElevationLayer\":\"ImageryLayer\"}));break;case\"SceneServer\":u=w(l.url.path,t).then((e=>{if(e){if(\"Voxel\"===(null==e?void 0:e.layerType))return\"VoxelLayer\";if(null!=e&&e.layers&&Array.isArray(e.layers)&&e.layers.length>0){var r;const a={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"},t=null==(r=e.layers[0])?void 0:r.layerType;if(null!=a[t])return a[t]}}return\"SceneLayer\"}));break;default:u=i[n]}const y={FeatureLayer:!0,SceneLayer:!0},c=\"FeatureServer\"===n,d={parsedUrl:l,Constructor:null,layerOrTableId:c?o:null,sublayerIds:null,tableIds:null},p=await u;if(y[p]&&null==o){const r=await v(e,n,t);c&&(d.sublayerInfos=r.layerInfos,d.tableInfos=r.tableInfos);if(1!==r.layerIds.length+r.tableIds.length)d.sublayerIds=r.layerIds,d.tableIds=r.tableIds;else if(c){var I,b;d.layerOrTableId=null!=(I=r.layerIds[0])?I:r.tableIds[0],d.sourceJSON=null!=(b=r.layerInfos[0])?b:r.tableInfos[0]}}return d.Constructor=await m(p),d}async function f(e,r){var a;const s=await w(e,r);let u=null,i=null;const y=s.type;if(\"Feature Layer\"===y||\"Table\"===y?(u=\"FeatureServer\",i=s.id):\"indexedVector\"===y?u=\"VectorTileServer\":s.hasOwnProperty(\"mapName\")?u=\"MapServer\":s.hasOwnProperty(\"bandCount\")&&s.hasOwnProperty(\"pixelSizeX\")?u=\"ImageServer\":s.hasOwnProperty(\"maxRecordCount\")&&s.hasOwnProperty(\"allowGeometryUpdates\")?u=\"FeatureServer\":s.hasOwnProperty(\"streamUrls\")?u=\"StreamServer\":p(s)?(u=\"SceneServer\",i=s.id):s.hasOwnProperty(\"layers\")&&p(null==(a=s.layers)?void 0:a[0])&&(u=\"SceneServer\"),!u)return null;const c=null!=i?o(e):null;return{title:t(c)&&s.name||l(e),serverType:u,sublayer:i,url:{path:t(c)?c.serviceUrl:n(e).path}}}function p(e){return(null==e?void 0:e.hasOwnProperty(\"store\"))&&e.hasOwnProperty(\"id\")&&\"number\"==typeof e.id}async function v(e,r,a){var t,l;let n,s=!1;if(\"FeatureServer\"===r){const r=await b(e,a);s=!!r.layersJSON,n=r.layersJSON||r.serviceJSON}else n=await w(e,a);const o=null==(t=n)?void 0:t.layers,u=null==(l=n)?void 0:l.tables;return{layerIds:(null==o?void 0:o.map((e=>e.id)).reverse())||[],tableIds:(null==u?void 0:u.map((e=>e.id)).reverse())||[],layerInfos:s?o:[],tableInfos:s?u:[]}}function I(e){return!e.type||\"Feature Layer\"===e.type}async function b(e,r){var a,t;let l=await w(e,r);l=l||{},l.layers=(null==(a=l.layers)?void 0:a.filter(I))||[];const n={serviceJSON:l};if(l.currentVersion<10.5)return n;const s=await w(e+\"/layers\",r);return n.layersJSON={layers:(null==s||null==(t=s.layers)?void 0:t.filter(I))||[],tables:(null==s?void 0:s.tables)||[]},n}async function m(e){return(0,u[e])()}async function S(e,r){return(await w(e,r)).tileInfo}async function w(r,a){return(await e(r,{responseType:\"json\",query:{f:\"json\",...a}})).data}export{i as fromUrl};\n","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-url').getBundleURL('kcJXD') + require('./helpers/bundle-manifest').resolve(\"3PyzW\"))).then(() => parcelRequire('eBpzH'));"],"names":["$8TSCy","parcelRequire","$166cb31ef79b231b$export$8344cc6f9c959d9b","e1","$166cb31ef79b231b$var$_i","apply","this","arguments","asyncToGenerator","$parcel$interopDefault","$2TvXO","mark","_callee","r1","a1","t1","l1","n1","properties","customParameters","$166cb31ef79b231b$var$d","url","_ctx","sent","objectSpread","sublayerIds","layerOrTableId","layerId","sourceJSON","Constructor","default","title","parsedUrl","t0","$166cb31ef79b231b$var$c","$166cb31ef79b231b$var$y","e2","r2","find","e3","id","e4","r3","a2","l2","e5","l3","n2","sublayerTitleMode","$7qybv","isSome","forEach","a3","t2","sublayerInfos","add","tableIds","a4","t3","tableInfos","tables","e6","t4","$166cb31ef79b231b$var$_d","l4","n3","o1","u1","i1","y1","c1","d1","p1","r4","I1","b1","$lmu5w","parse","isNone","$166cb31ef79b231b$var$f","$kyj08","serverType","sublayer","FeatureServer","StreamServer","VectorTileServer","$166cb31ef79b231b$var$S","then","e7","$166cb31ef79b231b$var$w","e8","_$r","tileInfo","format","toUpperCase","cacheType","toLowerCase","path","e9","layerType","layers","Array","isArray","length","_$a","Point","IntegratedMesh","PointCloud","Building","_$t","FeatureLayer","SceneLayer","$166cb31ef79b231b$var$v","layerInfos","layerIds","$166cb31ef79b231b$var$m","e10","r5","$166cb31ef79b231b$var$_f","a5","s1","u2","i2","y2","c2","type","hasOwnProperty","$166cb31ef79b231b$var$p","parseNonStandardSublayerUrl","name","$kYueh","getFilename","serviceUrl","urlToObject","e11","e12","r7","a6","$166cb31ef79b231b$var$_v","t5","l5","n4","s2","r6","o2","u3","$166cb31ef79b231b$var$b","layersJSON","serviceJSON","map","e13","reverse","e14","$166cb31ef79b231b$var$I","e15","e16","r8","$166cb31ef79b231b$var$_b","a7","t6","l6","n5","s3","filter","currentVersion","e17","$166cb31ef79b231b$var$_m","$ge5sz","layerLookupMap","e18","r9","$166cb31ef79b231b$var$_S","r10","a8","$166cb31ef79b231b$var$_w","$9pNSx","responseType","query","f","data","module","exports","getBundleURL","resolve"],"version":3,"file":"arcgisLayers.45e03989.js.map"}