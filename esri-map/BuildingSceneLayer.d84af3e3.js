!function(){function e(e,t,r,o){Object.defineProperty(e,t,{get:r,set:o,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("jtrKP",(function(r,o){var i;i=r.exports,Object.defineProperty(i,"__esModule",{value:!0,configurable:!0}),e(r.exports,"default",(function(){return J}));var n=t("7eJjO"),s=t("d2yMj"),a=t("7FmYA"),l=t("kyj08"),p=t("flPLJ"),u=t("9MlGz"),d=t("jHOLN"),y=t("8NioF"),c=t("10vEZ"),f=t("kYueh"),h=t("iho5X");t("iJAIC");var g,v=t("eB8sj"),b=t("fcwIv"),S=t("j40xv"),m=t("4LDxK"),I=t("8CxZC"),_=t("1uuY7"),O=t("jy0BF"),x=t("aLy89"),T=t("5N5S1"),N=t("9bAYR"),w=t("3GzOb"),A=t("fqCyP"),F=t("11R8k"),M=t("jU4vh"),E=t("gRgX5"),L=t("aKPZL");const j=s.default.ofType(F.default),R=(0,p.clone)(_.default.sublayersProperty),P=null===(g=R.json)||void 0===g?void 0:g.origins;P&&(P["web-scene"]={type:[I.default],write:{enabled:!0,overridePolicy:()=>({enabled:!1})}},P["portal-item"]={type:[I.default],write:{enabled:!0,overridePolicy:()=>({enabled:!1})}});let C=class extends((0,A.SceneService)((0,x.ArcGISService)((0,T.OperationalLayer)((0,N.PortalLayer)((0,w.ScaleRangeLayer)((0,y.MultiOriginJSONMixin)((0,O.APIKeyMixin)(m.default)))))))){normalizeCtorArgs(e){return"string"==typeof e?{url:e}:null!=e?e:{}}destroy(){this.allSublayers.destroy()}readSublayers(e,t,r){const o=_.default.readSublayers(e,t,r);return _.default.forEachSublayer(o,(e=>e.layer=this)),this._sublayerOverrides&&(this.applySublayerOverrides(o,this._sublayerOverrides),this._sublayerOverrides=null),o}applySublayerOverrides(e,{overrides:t,context:r}){_.default.forEachSublayer(e,(e=>e.read(t.get(e.id),r)))}readSublayerOverrides(e,t){var r;const o=new Map;for(const i of e)null!=i&&"object"==typeof i&&"number"==typeof i.id?o.set(i.id,i):null===(r=t.messages)||void 0===r||r.push(new(0,l.default)("building-scene-layer:invalid-sublayer-override","Invalid value for sublayer override. Not an object or no id specified.",{value:i}));return{overrides:o,context:t}}writeSublayerOverrides(e,t,r){const o=[];_.default.forEachSublayer(this.sublayers,(e=>{const t=e.write({},r);Object.keys(t).length>1&&o.push(t)})),o.length>0&&(t.sublayers=o)}writeUnappliedOverrides(e,t){t.sublayers=[],e.overrides.forEach((e=>{t.sublayers.push((0,p.clone)(e))}))}write(e,t){return e=super.write(e,t),!t||"web-scene"!==t.origin&&"portal-item"!==t.origin||(this.sublayers?this.writeSublayerOverrides(this.sublayers,e,t):this._sublayerOverrides&&this.writeUnappliedOverrides(this._sublayerOverrides,e)),e}read(e,t){if(super.read(e,t),t&&("web-scene"===t.origin||"portal-item"===t.origin)&&null!=e&&Array.isArray(e.sublayers)){const r=this.readSublayerOverrides(e.sublayers,t);this.sublayers?this.applySublayerOverrides(this.sublayers,r):this._sublayerOverrides=r}}readSummaryStatistics(e,t){if("string"==typeof t.statisticsHRef){var r;const e=(0,f.join)(null===(r=this.parsedUrl)||void 0===r?void 0:r.path,t.statisticsHRef);return new(0,M.default)({url:e})}return null}set elevationInfo(e){this._set("elevationInfo",e),this._validateElevationInfo()}load(e){const t=null!=e?e.signal:null,r=this.loadFromPortal({supportedTypes:["Scene Service"]},e).catch(c.throwIfAbortError).then((()=>this._fetchService(t))).then((()=>this._fetchAssociatedFeatureService(t)));return this.addResolvingPromise(r),Promise.resolve(this)}loadAll(){return(0,u.loadAll)(this,(e=>{_.default.forEachSublayer(this.sublayers,(t=>{"building-group"!==t.type&&e(t)})),this.summaryStatistics&&e(this.summaryStatistics)}))}async saveAs(e,t){return this._debouncedSaveOperations(A.SaveOperationType.SAVE_AS,{...t,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:"building-scene"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:"building-scene"};return this._debouncedSaveOperations(A.SaveOperationType.SAVE,e)}validateLayer(e){if(!e.layerType||"Building"!==e.layerType)throw new(0,l.default)("buildingscenelayer:layer-type-not-supported","BuildingSceneLayer does not support this layer type",{layerType:e.layerType})}_getTypeKeywords(){return["Building"]}_validateElevationInfo(){const e=this.elevationInfo;e&&("absolute-height"!==e.mode&&d.default.getLogger(this).warn(".elevationInfo=","Building scene layers only support absolute-height elevation mode"),e.featureExpressionInfo&&"0"!==e.featureExpressionInfo.expression&&d.default.getLogger(this).warn(".elevationInfo=","Building scene layers do not support featureExpressionInfo"))}async _fetchAssociatedFeatureService(e){const t=new(0,L.FetchAssociatedFeatureLayer)(this.parsedUrl,this.portalItem,this.apiKey,e);try{this.associatedFeatureServiceItem=await t.fetchPortalItem()}catch(e){d.default.getLogger(this).warn("Associated feature service item could not be loaded",e)}}constructor(e){super(e),this.operationalLayerType="BuildingSceneLayer",this.allSublayers=new(0,a.default)({getCollections:()=>[this.sublayers],getChildrenFunction:e=>"building-group"===e.type?e.sublayers:null}),this.sublayers=null,this._sublayerOverrides=null,this.filters=new j,this.activeFilterId=null,this.summaryStatistics=null,this.outFields=null,this.legendEnabled=!0,this.type="building-scene"}};(0,n._)([(0,h.property)({type:["BuildingSceneLayer"]})],C.prototype,"operationalLayerType",void 0),(0,n._)([(0,h.property)({readOnly:!0})],C.prototype,"allSublayers",void 0),(0,n._)([(0,h.property)(R)],C.prototype,"sublayers",void 0),(0,n._)([(0,v.reader)("service","sublayers")],C.prototype,"readSublayers",null),(0,n._)([(0,h.property)({type:j,nonNullable:!0,json:{write:!0}})],C.prototype,"filters",void 0),(0,n._)([(0,h.property)({type:String,json:{write:!0}})],C.prototype,"activeFilterId",void 0),(0,n._)([(0,h.property)({readOnly:!0,type:M.default})],C.prototype,"summaryStatistics",void 0),(0,n._)([(0,v.reader)("summaryStatistics",["statisticsHRef"])],C.prototype,"readSummaryStatistics",null),(0,n._)([(0,h.property)({type:[String],json:{read:!1}})],C.prototype,"outFields",void 0),(0,n._)([(0,h.property)(E.sceneLayerFullExtent)],C.prototype,"fullExtent",void 0),(0,n._)([(0,h.property)(E.legendEnabled)],C.prototype,"legendEnabled",void 0),(0,n._)([(0,h.property)({type:["show","hide","hide-children"]})],C.prototype,"listMode",void 0),(0,n._)([(0,h.property)((0,E.readOnlyService)(S.default))],C.prototype,"spatialReference",void 0),(0,n._)([(0,h.property)(E.elevationInfo)],C.prototype,"elevationInfo",null),(0,n._)([(0,h.property)({json:{read:!1},readOnly:!0})],C.prototype,"type",void 0),(0,n._)([(0,h.property)()],C.prototype,"associatedFeatureServiceItem",void 0),C=(0,n._)([(0,b.subclass)("esri.layers.BuildingSceneLayer")],C);const J=C})),t.register("8CxZC",(function(r,o){e(r.exports,"default",(function(){return B}));var i=t("7eJjO"),n=t("bsvXr"),s=t("3MVX3");t("35mRC"),t("fqK5H"),t("hHJvn"),t("aOUND"),t("g4anJ"),t("7Kl6r"),t("fPYaT"),t("aRUMT"),t("lubf9");var a=t("9ulmN"),l=t("9pNSx"),p=t("kyj08"),u=t("79ASa"),d=t("bQCqB"),y=t("jHOLN"),c=t("hmHbS"),f=t("iho5X");t("iJAIC"),t("lNwWH"),t("2VlWd");var h=t("bSafx"),g=t("eB8sj"),v=t("fcwIv"),b=t("gINRd"),S=t("j40xv"),m=t("g15Jq"),I=t("isoEb"),_=t("lXwvk"),O=t("gRgX5"),x=t("ko0sb"),T=t("4nMX7"),N=t("7vTUY"),w=t("4VOEu"),A=t("d8x5p"),F=t("cRlei"),M=t("37qRo"),E=t("h5vCg"),L=t("gegXR"),j=t("dB39e");const R="esri.layers.buildingSublayers.BuildingComponentSublayer",P=y.default.getLogger(R),C=(0,x.defineFieldProperties)();let J=class extends(d.default.LoadableMixin((0,c.EsriPromiseMixin)(I.default))){get parsedUrl(){var e,t;return this.layer?{path:`${null===(e=this.layer.parsedUrl)||void 0===e?void 0:e.path}/sublayers/${this.id}`,query:null===(t=this.layer.parsedUrl)||void 0===t?void 0:t.query}:{path:""}}get fieldsIndex(){return new(0,T.default)(this.fields)}readAssociatedLayer(e,t){const r=this.layer.associatedFeatureServiceItem,o=t.associatedLayerID;return null!=r&&"number"==typeof o?new(0,m.default)({portalItem:r,layerId:o}):null}get objectIdField(){if(null!=this.fields)for(const e of this.fields)if("oid"===e.type)return e.name;return null}get displayField(){return null!=this.associatedLayer?this.associatedLayer.displayField:void 0}get apiKey(){return this.layer.apiKey}get fullExtent(){return this.layer.fullExtent}get spatialReference(){return this.layer.spatialReference}get version(){return this.layer.version}get elevationInfo(){return this.layer.elevationInfo}get minScale(){return this.layer.minScale}get maxScale(){return this.layer.maxScale}get effectiveScaleRange(){return this.layer.effectiveScaleRange}get defaultPopupTemplate(){return this.createPopupTemplate()}load(e){const t=null!=e?e.signal:null,r=this._fetchService(t).then((()=>{this.indexInfo=(0,w.fetchIndexInfo)(this.parsedUrl.path,this.rootNode,this.nodePages,this.apiKey,P,t)}));return this.addResolvingPromise(r),Promise.resolve(this)}createPopupTemplate(e){return(0,M.createPopupTemplate)(this,e)}async _fetchService(e){const t=(await(0,l.default)(this.parsedUrl.path,{query:{f:"json",token:this.apiKey},responseType:"json",signal:e})).data;this.read(t,{origin:"service",url:this.parsedUrl})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,t){var r,o,i;const n=null===(r=this.getFeatureType(null==t?void 0:t.feature))||void 0===r||null===(o=r.domains)||void 0===o?void 0:o[e];var s;return n&&"inherited"!==n.type?n:null!==(s=null===(i=this.getField(e))||void 0===i?void 0:i.domain)&&void 0!==s?s:null}getFeatureType(e){return e&&null!=this.associatedLayer?this.associatedLayer.getFeatureType(e):null}get types(){var e;return null!=this.associatedLayer&&null!==(e=this.associatedLayer.types)&&void 0!==e?e:[]}get typeIdField(){return null!=this.associatedLayer?this.associatedLayer.typeIdField:null}get geometryType(){return"3d-object"===this.layerType?"mesh":"point"}get profile(){return"3d-object"===this.layerType?"mesh-pyramids":"points"}get capabilities(){const e=null!=this.associatedLayer&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:_.zeroCapabilities,{query:t,data:{supportsZ:r,supportsM:o,isVersioned:i}}=e;return{query:t,data:{supportsZ:r,supportsM:o,isVersioned:i}}}createQuery(){const e=new(0,F.default);return"mesh"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||"1=1",e.sqlFormat="standard",e}queryExtent(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryExtent(e||this.createQuery(),t)))}queryFeatureCount(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryFeatureCount(e||this.createQuery(),t)))}queryFeatures(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryFeatures(e||this.createQuery(),t))).then((e=>{if(null==e?void 0:e.features)for(const t of e.features)t.layer=this.layer,t.sourceLayer=this;return e}))}queryObjectIds(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryObjectIds(e||this.createQuery(),t)))}async queryCachedAttributes(e,t){const r=(0,N.unpackFieldNames)(this.fieldsIndex,await(0,j.getRequiredFields)(this,(0,j.getFetchPopupTemplate)(this)));return(0,L.queryAttributesFromCachedAttributesId)(this.parsedUrl.path,this.attributeStorageInfo,e,t,r)}async queryCachedFeature(e,t){const r=await this.queryCachedAttributes(e,[t]);if(!r||0===r.length)throw new(0,p.default)("scenelayer:feature-not-in-cached-data","Feature not found in cached data");const o=new(0,n.default);return o.attributes=r[0],o.layer=this,o.sourceLayer=this,o}getFieldUsageInfo(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:null!=this.associatedLayer}}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return null!=e&&e.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),null==this.associatedLayer)throw new(0,p.default)("buildingscenelayer:query-not-available","BuildingSceneLayer component layer queries are not available without an associated feature layer",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new(0,p.default)("buildingscenelayer:query-not-available","BuildingSceneLayer associated feature layer could not be loaded",{layer:this,error:e})}return this.associatedLayer}constructor(e){super(e),this.type="building-component",this.nodePages=null,this.materialDefinitions=[],this.textureSetDefinitions=[],this.geometryDefinitions=[],this.indexInfo=null,this.serviceUpdateTimeStamp=null,this.store=null,this.attributeStorageInfo=[],this.fields=[],this.associatedLayer=null,this.outFields=null,this.listMode="show",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType="3d-object"}};(0,i._)([(0,f.property)({readOnly:!0})],J.prototype,"parsedUrl",null),(0,i._)([(0,f.property)({type:A.I3SNodePageDefinition,readOnly:!0})],J.prototype,"nodePages",void 0),(0,i._)([(0,f.property)({type:[A.I3SMaterialDefinition],readOnly:!0})],J.prototype,"materialDefinitions",void 0),(0,i._)([(0,f.property)({type:[A.I3STextureSetDefinition],readOnly:!0})],J.prototype,"textureSetDefinitions",void 0),(0,i._)([(0,f.property)({type:[A.I3SGeometryDefinition],readOnly:!0})],J.prototype,"geometryDefinitions",void 0),(0,i._)([(0,f.property)({readOnly:!0})],J.prototype,"serviceUpdateTimeStamp",void 0),(0,i._)([(0,f.property)({readOnly:!0})],J.prototype,"store",void 0),(0,i._)([(0,f.property)({type:String,readOnly:!0,json:{read:{source:"store.rootNode"}}})],J.prototype,"rootNode",void 0),(0,i._)([(0,f.property)({readOnly:!0})],J.prototype,"attributeStorageInfo",void 0),(0,i._)([(0,f.property)(C.fields)],J.prototype,"fields",void 0),(0,i._)([(0,f.property)({readOnly:!0})],J.prototype,"fieldsIndex",null),(0,i._)([(0,f.property)({readOnly:!0,type:m.default})],J.prototype,"associatedLayer",void 0),(0,i._)([(0,g.reader)("service","associatedLayer",["associatedLayerID"])],J.prototype,"readAssociatedLayer",null),(0,i._)([(0,f.property)(C.outFields)],J.prototype,"outFields",void 0),(0,i._)([(0,f.property)({type:String,readOnly:!0})],J.prototype,"objectIdField",null),(0,i._)([(0,f.property)({readOnly:!0,type:String,json:{read:!1}})],J.prototype,"displayField",null),(0,i._)([(0,f.property)({readOnly:!0,type:String})],J.prototype,"apiKey",null),(0,i._)([(0,f.property)({readOnly:!0,type:b.default})],J.prototype,"fullExtent",null),(0,i._)([(0,f.property)({readOnly:!0,type:S.default})],J.prototype,"spatialReference",null),(0,i._)([(0,f.property)({readOnly:!0})],J.prototype,"version",null),(0,i._)([(0,f.property)({readOnly:!0,type:E.default})],J.prototype,"elevationInfo",null),(0,i._)([(0,f.property)({readOnly:!0,type:Number})],J.prototype,"minScale",null),(0,i._)([(0,f.property)({readOnly:!0,type:Number})],J.prototype,"maxScale",null),(0,i._)([(0,f.property)({readOnly:!0,type:Number})],J.prototype,"effectiveScaleRange",null),(0,i._)([(0,f.property)({type:["hide","show"],json:{write:!0}})],J.prototype,"listMode",void 0),(0,i._)([(0,f.property)({types:a.webSceneRendererTypes,json:{origins:{service:{read:{source:"drawingInfo.renderer"}}},name:"layerDefinition.drawingInfo.renderer",write:!0},value:null})],J.prototype,"renderer",void 0),(0,i._)([(0,f.property)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],J.prototype,"definitionExpression",void 0),(0,i._)([(0,f.property)(O.popupEnabled)],J.prototype,"popupEnabled",void 0),(0,i._)([(0,f.property)({type:s.default,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],J.prototype,"popupTemplate",void 0),(0,i._)([(0,f.property)({readOnly:!0,type:String,json:{origins:{service:{read:{source:"store.normalReferenceFrame"}}},read:!1}})],J.prototype,"normalReferenceFrame",void 0),(0,i._)([(0,f.property)({readOnly:!0,json:{read:!1}})],J.prototype,"defaultPopupTemplate",null),(0,i._)([(0,f.property)()],J.prototype,"types",null),(0,i._)([(0,f.property)()],J.prototype,"typeIdField",null),(0,i._)([(0,f.property)({json:{write:!1}}),(0,h.enumeration)(new(0,u.JSONMap)({"3DObject":"3d-object",Point:"point"}))],J.prototype,"layerType",void 0),(0,i._)([(0,f.property)()],J.prototype,"geometryType",null),(0,i._)([(0,f.property)()],J.prototype,"profile",null),(0,i._)([(0,f.property)({readOnly:!0,json:{read:!1}})],J.prototype,"capabilities",null),J=(0,i._)([(0,v.subclass)(R)],J);const B=J})),t.register("isoEb",(function(r,o){e(r.exports,"default",(function(){return c}));var i=t("7eJjO"),n=t("52Bzb"),s=t("8NioF"),a=t("iho5X"),l=t("iJAIC");t("lNwWH"),t("2VlWd");var p=t("eB8sj"),u=t("fcwIv"),d=t("gRgX5");let y=class extends((0,n.IdentifiableMixin)(s.MultiOriginJSONSupport)){readTitle(e,t){return"string"==typeof t.alias?t.alias:"string"==typeof t.name?t.name:""}readIdOnlyOnce(e){return-1!==this.id?this.id:"number"==typeof e?e:-1}constructor(e){super(e),this.title="",this.id=-1,this.modelName=null,this.isEmpty=null,this.legendEnabled=!0,this.visible=!0,this.opacity=1}};(0,i._)([(0,a.property)({type:String,json:{origins:{"web-scene":{write:!0},"portal-item":{write:!0}}}})],y.prototype,"title",void 0),(0,i._)([(0,p.reader)("service","title",["alias","name"])],y.prototype,"readTitle",null),(0,i._)([(0,a.property)()],y.prototype,"layer",void 0),(0,i._)([(0,a.property)({type:l.Integer,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],y.prototype,"id",void 0),(0,i._)([(0,p.reader)("service","id")],y.prototype,"readIdOnlyOnce",null),(0,i._)([(0,a.property)((0,d.readOnlyService)(String))],y.prototype,"modelName",void 0),(0,i._)([(0,a.property)((0,d.readOnlyService)(Boolean))],y.prototype,"isEmpty",void 0),(0,i._)([(0,a.property)({type:Boolean,nonNullable:!0})],y.prototype,"legendEnabled",void 0),(0,i._)([(0,a.property)({type:Boolean,json:{name:"visibility",write:!0}})],y.prototype,"visible",void 0),(0,i._)([(0,a.property)({type:Number,json:{write:!0}})],y.prototype,"opacity",void 0),y=(0,i._)([(0,u.subclass)("esri.layers.buildingSublayers.BuildingSublayer")],y);const c=y})),t.register("d8x5p",(function(r,o){e(r.exports,"I3SNodePageDefinition",(function(){return p})),e(r.exports,"I3SMaterialDefinition",(function(){return y})),e(r.exports,"I3STextureSetDefinition",(function(){return f})),e(r.exports,"I3SGeometryDefinition",(function(){return b}));var i=t("7eJjO"),n=t("1XAcN"),s=t("iho5X");t("iJAIC"),t("lNwWH"),t("2VlWd");var a=t("bSafx"),l=t("fcwIv");let p=class extends n.JSONSupport{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,i._)([(0,s.property)({type:Number})],p.prototype,"nodesPerPage",void 0),(0,i._)([(0,s.property)({type:Number})],p.prototype,"rootIndex",void 0),(0,i._)([(0,s.property)({type:String})],p.prototype,"lodSelectionMetricType",void 0),p=(0,i._)([(0,l.subclass)("esri.layer.support.I3SNodePageDefinition")],p);let u=class extends n.JSONSupport{constructor(){super(...arguments),this.factor=1}};(0,i._)([(0,s.property)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],u.prototype,"id",void 0),(0,i._)([(0,s.property)({type:Number})],u.prototype,"factor",void 0),u=(0,i._)([(0,l.subclass)("esri.layer.support.I3SMaterialTexture")],u);let d=class extends n.JSONSupport{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,i._)([(0,s.property)({type:[Number]})],d.prototype,"baseColorFactor",void 0),(0,i._)([(0,s.property)({type:u})],d.prototype,"baseColorTexture",void 0),(0,i._)([(0,s.property)({type:u})],d.prototype,"metallicRoughnessTexture",void 0),(0,i._)([(0,s.property)({type:Number})],d.prototype,"metallicFactor",void 0),(0,i._)([(0,s.property)({type:Number})],d.prototype,"roughnessFactor",void 0),d=(0,i._)([(0,l.subclass)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],d);let y=class extends n.JSONSupport{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,i._)([(0,a.enumeration)({opaque:"opaque",mask:"mask",blend:"blend"})],y.prototype,"alphaMode",void 0),(0,i._)([(0,s.property)({type:Number})],y.prototype,"alphaCutoff",void 0),(0,i._)([(0,s.property)({type:Boolean})],y.prototype,"doubleSided",void 0),(0,i._)([(0,a.enumeration)({none:"none",back:"back",front:"front"})],y.prototype,"cullFace",void 0),(0,i._)([(0,s.property)({type:u})],y.prototype,"normalTexture",void 0),(0,i._)([(0,s.property)({type:u})],y.prototype,"occlusionTexture",void 0),(0,i._)([(0,s.property)({type:u})],y.prototype,"emissiveTexture",void 0),(0,i._)([(0,s.property)({type:[Number]})],y.prototype,"emissiveFactor",void 0),(0,i._)([(0,s.property)({type:d})],y.prototype,"pbrMetallicRoughness",void 0),y=(0,i._)([(0,l.subclass)("esri.layer.support.I3SMaterialDefinition")],y);let c=class extends n.JSONSupport{};(0,i._)([(0,s.property)({type:String,json:{read:{source:["name","index"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],c.prototype,"name",void 0),(0,i._)([(0,a.enumeration)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],c.prototype,"format",void 0),c=(0,i._)([(0,l.subclass)("esri.layer.support.I3STextureFormat")],c);let f=class extends n.JSONSupport{constructor(){super(...arguments),this.atlas=!1}};(0,i._)([(0,s.property)({type:[c]})],f.prototype,"formats",void 0),(0,i._)([(0,s.property)({type:Boolean})],f.prototype,"atlas",void 0),f=(0,i._)([(0,l.subclass)("esri.layer.support.I3STextureSetDefinition")],f);let h=class extends n.JSONSupport{};(0,i._)([(0,a.enumeration)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],h.prototype,"type",void 0),(0,i._)([(0,s.property)({type:Number})],h.prototype,"component",void 0),h=(0,i._)([(0,l.subclass)("esri.layer.support.I3SGeometryAttribute")],h);let g=class extends n.JSONSupport{};(0,i._)([(0,a.enumeration)({draco:"draco"})],g.prototype,"encoding",void 0),(0,i._)([(0,s.property)({type:[String]})],g.prototype,"attributes",void 0),g=(0,i._)([(0,l.subclass)("esri.layer.support.I3SGeometryCompressedAttributes")],g);let v=class extends n.JSONSupport{constructor(){super(...arguments),this.offset=0}};(0,i._)([(0,s.property)({type:Number})],v.prototype,"offset",void 0),(0,i._)([(0,s.property)({type:h})],v.prototype,"position",void 0),(0,i._)([(0,s.property)({type:h})],v.prototype,"normal",void 0),(0,i._)([(0,s.property)({type:h})],v.prototype,"uv0",void 0),(0,i._)([(0,s.property)({type:h})],v.prototype,"color",void 0),(0,i._)([(0,s.property)({type:h})],v.prototype,"uvRegion",void 0),(0,i._)([(0,s.property)({type:h})],v.prototype,"featureId",void 0),(0,i._)([(0,s.property)({type:h})],v.prototype,"faceRange",void 0),(0,i._)([(0,s.property)({type:g})],v.prototype,"compressedAttributes",void 0),v=(0,i._)([(0,l.subclass)("esri.layer.support.I3SGeometryBuffer")],v);let b=class extends n.JSONSupport{};(0,i._)([(0,a.enumeration)({triangle:"triangle"})],b.prototype,"topology",void 0),(0,i._)([(0,s.property)()],b.prototype,"geometryBuffers",void 0),b=(0,i._)([(0,l.subclass)("esri.layer.support.I3SGeometryDefinition")],b)})),t.register("dB39e",(function(r,o){e(r.exports,"getRequiredFields",(function(){return n})),e(r.exports,"getFetchPopupTemplate",(function(){return s}));var i=t("7vTUY");async function n(e,t=e.popupTemplate){var r,o;if(null==t)return[];const n=await t.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:s}=t,{objectIdField:a,typeIdField:l,globalIdField:p,relationships:u}=e;if(n.includes("*"))return["*"];const d=s?await(0,i.getFeatureEditFields)(e):[],y=(0,i.fixFields)(e.fieldsIndex,[...n,...d]);return l&&y.push(l),y&&a&&(null===(r=e.fieldsIndex)||void 0===r?void 0:r.has(a))&&!y.includes(a)&&y.push(a),y&&p&&(null===(o=e.fieldsIndex)||void 0===o?void 0:o.has(p))&&!y.includes(p)&&y.push(p),u&&u.forEach((t=>{var r;const{keyField:o}=t;y&&o&&(null===(r=e.fieldsIndex)||void 0===r?void 0:r.has(o))&&!y.includes(o)&&y.push(o)})),y}function s(e,t){return e.popupTemplate?e.popupTemplate:null!=t&&t.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}})),t.register("1uuY7",(function(r,o){e(r.exports,"default",(function(){return v}));var i=t("7eJjO"),n=t("d2yMj"),s=t("9MlGz"),a=t("lfedQ"),l=t("iho5X");t("iJAIC"),t("lNwWH"),t("2VlWd");var p,u=t("fcwIv"),d=t("8CxZC"),y=t("isoEb");const c={type:n.default,readOnly:!0,json:{origins:{service:{read:{source:"sublayers",reader:f}}},read:!1}};function f(e,t,r){if(e&&Array.isArray(e))return new(0,n.default)(e.map((e=>{const t=function(e){return"group"===e.layerType?h:d.default}(e);if(t){const o=new t;return o.read(e,r),o}return r&&r.messages&&e&&r.messages.push(new(0,a.default)("building-scene-layer:unsupported-sublayer-type","Building scene sublayer of type '"+(e.type||"unknown")+"' are not supported",{definition:e,context:r})),null})))}let h=p=class extends y.default{loadAll(){return(0,s.loadAllChildren)(this,(e=>p.forEachSublayer(this.sublayers,(t=>{"building-group"!==t.type&&e(t)}))))}constructor(e){super(e),this.type="building-group",this.listMode="show",this.sublayers=null}};var g;(0,i._)([(0,l.property)({type:["hide","show","hide-children"],json:{write:!0}})],h.prototype,"listMode",void 0),(0,i._)([(0,l.property)(c)],h.prototype,"sublayers",void 0),h=p=(0,i._)([(0,u.subclass)("esri.layers.buildingSublayers.BuildingGroupSublayer")],h),(g=h||(h={})).sublayersProperty=c,g.readSublayers=f,g.forEachSublayer=function e(t,r){t.forEach((t=>{r(t),"building-group"===t.type&&e(t.sublayers,r)}))};const v=h})),t.register("11R8k",(function(r,o){e(r.exports,"default",(function(){return v}));var i=t("7eJjO"),n=t("d2yMj"),s=t("1XAcN"),a=t("flPLJ"),l=t("9Rl0r"),p=t("iho5X");t("iJAIC");var u,d=t("fcwIv"),y=t("gitdg"),c=t("aemGW"),f=t("72IWJ");const h=n.default.ofType(f.default);let g=u=class extends s.JSONSupport{clone(){return new u({description:this.description,filterBlocks:(0,a.clone)(this.filterBlocks),id:this.id,name:this.name,filterAuthoringInfo:(0,a.clone)(this.filterAuthoringInfo)})}constructor(){super(...arguments),this.description=null,this.filterBlocks=null,this.id=(0,l.generateUUID)(),this.name=null}};(0,i._)([(0,p.property)({type:String,json:{write:!0}})],g.prototype,"description",void 0),(0,i._)([(0,p.property)({type:h,json:{write:{enabled:!0,isRequired:!0}}})],g.prototype,"filterBlocks",void 0),(0,i._)([(0,p.property)({types:{key:"type",base:y.default,typeMap:{checkbox:c.default}},json:{read:e=>"checkbox"===(e&&e.type)?c.default.fromJSON(e):null,write:!0}})],g.prototype,"filterAuthoringInfo",void 0),(0,i._)([(0,p.property)({type:String,constructOnly:!0,json:{write:{enabled:!0,isRequired:!0}}})],g.prototype,"id",void 0),(0,i._)([(0,p.property)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],g.prototype,"name",void 0),g=u=(0,i._)([(0,d.subclass)("esri.layers.support.BuildingFilter")],g);const v=g})),t.register("gitdg",(function(r,o){e(r.exports,"default",(function(){return p}));var i=t("7eJjO"),n=t("1XAcN"),s=t("iho5X");t("iJAIC"),t("lNwWH"),t("2VlWd");var a=t("fcwIv");let l=class extends n.JSONSupport{constructor(){super(...arguments),this.type=null}};(0,i._)([(0,s.property)({type:String,readOnly:!0,json:{write:!0}})],l.prototype,"type",void 0),l=(0,i._)([(0,a.subclass)("esri.layers.support.BuildingFilterAuthoringInfo")],l);const p=l})),t.register("aemGW",(function(r,o){e(r.exports,"default",(function(){return f}));var i=t("7eJjO"),n=t("d2yMj"),s=t("flPLJ"),a=t("iho5X");t("iJAIC");var l,p=t("fcwIv"),u=t("gitdg"),d=t("dKE4i");const y=n.default.ofType(d.default);let c=l=class extends u.default{clone(){return new l({filterBlocks:(0,s.clone)(this.filterBlocks)})}constructor(){super(...arguments),this.type="checkbox"}};(0,i._)([(0,a.property)({type:["checkbox"]})],c.prototype,"type",void 0),(0,i._)([(0,a.property)({type:y,json:{write:!0}})],c.prototype,"filterBlocks",void 0),c=l=(0,i._)([(0,p.subclass)("esri.layers.support.BuildingFilterAuthoringInfoCheckbox")],c);const f=c})),t.register("dKE4i",(function(r,o){e(r.exports,"default",(function(){return f}));var i=t("7eJjO"),n=t("d2yMj"),s=t("1XAcN"),a=t("flPLJ"),l=t("iho5X");t("iJAIC");var p,u=t("fcwIv"),d=t("kTFBV");const y=n.default.ofType(d.default);let c=p=class extends s.JSONSupport{clone(){return new p({filterTypes:(0,a.clone)(this.filterTypes)})}};(0,i._)([(0,l.property)({type:y,json:{write:!0}})],c.prototype,"filterTypes",void 0),c=p=(0,i._)([(0,u.subclass)("esri.layers.support.BuildingFilterAuthoringInfoBlock")],c);const f=c})),t.register("kTFBV",(function(r,o){e(r.exports,"default",(function(){return d}));var i=t("7eJjO"),n=t("1XAcN"),s=t("flPLJ"),a=t("iho5X");t("iJAIC");var l,p=t("fcwIv");let u=l=class extends n.JSONSupport{clone(){return new l({filterType:this.filterType,filterValues:(0,s.clone)(this.filterValues)})}constructor(){super(...arguments),this.filterType=null,this.filterValues=null}};(0,i._)([(0,a.property)({type:String,json:{write:!0}})],u.prototype,"filterType",void 0),(0,i._)([(0,a.property)({type:[String],json:{write:!0}})],u.prototype,"filterValues",void 0),u=l=(0,i._)([(0,p.subclass)("esri.layers.support.BuildingFilterAuthoringInfoType")],u);const d=u})),t.register("72IWJ",(function(r,o){e(r.exports,"default",(function(){return g}));var i=t("7eJjO"),n=t("1XAcN"),s=t("flPLJ"),a=t("iho5X");t("iJAIC");var l,p=t("fcwIv"),u=t("3oFw3"),d=t("CIcoM"),y=t("6ljt9"),c=t("kl4OG");const f={nonNullable:!0,types:{key:"type",base:u.default,typeMap:{solid:d.default,"wire-frame":y.default,"x-ray":c.default}},json:{read:e=>{switch(e&&e.type){case"solid":return d.default.fromJSON(e);case"wireFrame":return y.default.fromJSON(e);case"x-ray":return c.default.fromJSON(e);default:return}},write:{enabled:!0,isRequired:!0}}};let h=l=class extends n.JSONSupport{clone(){return new l({filterExpression:this.filterExpression,filterMode:(0,s.clone)(this.filterMode),title:this.title})}constructor(){super(...arguments),this.filterExpression=null,this.filterMode=new(0,d.default),this.title=""}};(0,i._)([(0,a.property)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],h.prototype,"filterExpression",void 0),(0,i._)([(0,a.property)(f)],h.prototype,"filterMode",void 0),(0,i._)([(0,a.property)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],h.prototype,"title",void 0),h=l=(0,i._)([(0,p.subclass)("esri.layers.support.BuildingFilterBlock")],h);const g=h})),t.register("3oFw3",(function(r,o){e(r.exports,"default",(function(){return p}));var i=t("7eJjO"),n=t("1XAcN"),s=t("iho5X");t("iJAIC"),t("lNwWH"),t("2VlWd");var a=t("fcwIv");let l=class extends n.JSONSupport{};(0,i._)([(0,s.property)({readOnly:!0,json:{read:!1}})],l.prototype,"type",void 0),l=(0,i._)([(0,a.subclass)("esri.layers.support.BuildingFilterMode")],l);const p=l})),t.register("CIcoM",(function(r,o){e(r.exports,"default",(function(){return u}));var i=t("7eJjO"),n=t("iho5X");t("iJAIC"),t("lNwWH"),t("2VlWd");var s,a=t("fcwIv"),l=t("3oFw3");let p=s=class extends l.default{clone(){return new s}constructor(){super(...arguments),this.type="solid"}};(0,i._)([(0,n.property)({type:["solid"],readOnly:!0,json:{write:!0}})],p.prototype,"type",void 0),p=s=(0,i._)([(0,a.subclass)("esri.layers.support.BuildingFilterModeSolid")],p);const u=p})),t.register("6ljt9",(function(r,o){e(r.exports,"default",(function(){return c}));var i=t("7eJjO"),n=t("flPLJ"),s=t("iho5X");t("iJAIC");var a,l=t("bSafx"),p=t("fcwIv"),u=t("3oFw3"),d=t("lTkua");let y=a=class extends u.default{clone(){return new a({edges:(0,n.clone)(this.edges)})}constructor(){super(...arguments),this.type="wire-frame",this.edges=null}};(0,i._)([(0,l.enumeration)({wireFrame:"wire-frame"})],y.prototype,"type",void 0),(0,i._)([(0,s.property)(d.symbol3dEdgesProperty)],y.prototype,"edges",void 0),y=a=(0,i._)([(0,p.subclass)("esri.layers.support.BuildingFilterModeWireFrame")],y);const c=y})),t.register("kl4OG",(function(r,o){e(r.exports,"default",(function(){return u}));var i=t("7eJjO"),n=t("iho5X");t("iJAIC"),t("lNwWH"),t("2VlWd");var s,a=t("fcwIv"),l=t("3oFw3");let p=s=class extends l.default{clone(){return new s}constructor(){super(...arguments),this.type="x-ray"}};(0,i._)([(0,n.property)({type:["x-ray"],readOnly:!0,json:{write:!0}})],p.prototype,"type",void 0),p=s=(0,i._)([(0,a.subclass)("esri.layers.support.BuildingFilterModeXRay")],p);const u=p})),t.register("jU4vh",(function(r,o){e(r.exports,"default",(function(){return f}));var i=t("7eJjO"),n=t("9pNSx"),s=t("1XAcN"),a=t("bQCqB"),l=t("jHOLN"),p=t("hmHbS"),u=t("iho5X");t("iJAIC"),t("lNwWH"),t("2VlWd");var d=t("fcwIv");let y=class extends s.JSONSupport{constructor(){super(...arguments),this.fieldName=null,this.modelName=null,this.label=null,this.min=null,this.max=null,this.mostFrequentValues=null,this.subLayerIds=null}};(0,i._)([(0,u.property)({type:String})],y.prototype,"fieldName",void 0),(0,i._)([(0,u.property)({type:String})],y.prototype,"modelName",void 0),(0,i._)([(0,u.property)({type:String})],y.prototype,"label",void 0),(0,i._)([(0,u.property)({type:Number})],y.prototype,"min",void 0),(0,i._)([(0,u.property)({type:Number})],y.prototype,"max",void 0),(0,i._)([(0,u.property)({json:{read:e=>Array.isArray(e)&&(e.every((e=>"string"==typeof e))||e.every((e=>"number"==typeof e)))?e.slice():null}})],y.prototype,"mostFrequentValues",void 0),(0,i._)([(0,u.property)({type:[Number]})],y.prototype,"subLayerIds",void 0),y=(0,i._)([(0,d.subclass)("esri.layers.support.BuildingFieldStatistics")],y);let c=class extends(a.default.LoadableMixin((0,p.EsriPromiseMixin)(s.JSONSupport))){get fields(){return this.loaded||"loading"===this.loadStatus?this._get("fields"):(l.default.getLogger(this).error("building summary statistics are not loaded"),null)}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this._fetchService(t)),Promise.resolve(this)}async _fetchService(e){const t=(await(0,n.default)(this.url,{query:{f:"json"},responseType:"json",signal:e})).data;this.read(t,{origin:"service"})}constructor(){super(...arguments),this.url=null}};(0,i._)([(0,u.property)({constructOnly:!0,type:String})],c.prototype,"url",void 0),(0,i._)([(0,u.property)({readOnly:!0,type:[y],json:{read:{source:"summary"}}})],c.prototype,"fields",null),c=(0,i._)([(0,d.subclass)("esri.layers.support.BuildingSummaryStatistics")],c);const f=c})),t.register("7S12W",(function(t,r){var o,i;e(t.exports,"VertexAttribute",(function(){return o})),(i=o||(o={})).POSITION="position",i.NORMAL="normal",i.NORMALCOMPRESSED="normalCompressed",i.UV0="uv0",i.AUXPOS1="auxpos1",i.AUXPOS2="auxpos2",i.COLOR="color",i.SYMBOLCOLOR="symbolColor",i.SIZE="size",i.TANGENT="tangent",i.OFFSET="offset",i.SUBDIVISIONFACTOR="subdivisionFactor",i.COLORFEATUREATTRIBUTE="colorFeatureAttribute",i.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",i.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",i.DISTANCETOSTART="distanceToStart",i.UVMAPSPACE="uvMapSpace",i.BOUNDINGRECT="boundingRect",i.UVREGION="uvRegion",i.PROFILERIGHT="profileRight",i.PROFILEUP="profileUp",i.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",i.FEATUREVALUE="featureValue",i.MODELORIGINHI="modelOriginHi",i.MODELORIGINLO="modelOriginLo",i.MODEL="model",i.MODELNORMAL="modelNormal",i.INSTANCECOLOR="instanceColor",i.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",i.LOCALTRANSFORM="localTransform",i.GLOBALTRANSFORM="globalTransform",i.BOUNDINGSPHERE="boundingSphere",i.MODELORIGIN="modelOrigin",i.MODELSCALEFACTORS="modelScaleFactors",i.FEATUREATTRIBUTE="featureAttribute",i.STATE="state",i.LODLEVEL="lodLevel",i.POSITION0="position0",i.POSITION1="position1",i.NORMALA="normalA",i.NORMALB="normalB",i.COMPONENTINDEX="componentIndex",i.VARIANTOFFSET="variantOffset",i.VARIANTSTROKE="variantStroke",i.VARIANTEXTENSION="variantExtension",i.U8PADDING="u8padding",i.U16PADDING="u16padding",i.SIDENESS="sideness",i.START="start",i.END="end",i.UP="up",i.EXTRUDE="extrude",i.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor",i.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"})),t.register("gnwu9",(function(t,r){function o(){return[1,0,0,0,1,0,0,0,1]}function i(e,t,r,o,i,n,s,a,l){return[e,t,r,o,i,n,s,a,l]}function n(e,t){return new Float64Array(e,t,9)}e(t.exports,"c",(function(){return o})),e(t.exports,"f",(function(){return i})),e(t.exports,"a",(function(){return n}));Object.freeze(Object.defineProperty({__proto__:null,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},create:o,createView:n,fromValues:i},Symbol.toStringTag,{value:"Module"}))})),t.register("89KCq",(function(t,r){function o(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function n(e,t){return new Float64Array(e,t,16)}e(t.exports,"c",(function(){return o})),e(t.exports,"b",(function(){return i})),e(t.exports,"a",(function(){return n})),e(t.exports,"I",(function(){return s}));const s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:o,createView:n,fromValues:function(e,t,r,o,i,n,s,a,l,p,u,d,y,c,f,h){return[e,t,r,o,i,n,s,a,l,p,u,d,y,c,f,h]}},Symbol.toStringTag,{value:"Module"}))})),t.register("ighN7",(function(r,o){e(r.exports,"getSphericalPCPF",(function(){return u}));var i=t("97SWO"),n=t("j40xv"),s=t("eY5Yp");const a=new(0,n.default)(i.SphericalECEFSpatialReferenceLike),l=new(0,n.default)(i.SphericalPCPFMarsLike),p=new(0,n.default)(i.SphericalPCPFMoonLike);new(0,n.default)(i.WGS84ECEFSpatialReferenceLike);function u(e){return e&&((0,s.isMars)(e)||(0,s.equals)(e,l))?l:e&&((0,s.isMoon)(e)||(0,s.equals)(e,p))?p:a}})),t.register("koyqq",(function(r,o){e(r.exports,"s",(function(){return u})),e(r.exports,"g",(function(){return d})),e(r.exports,"m",(function(){return y})),e(r.exports,"c",(function(){return f})),e(r.exports,"k",(function(){return g})),e(r.exports,"a",(function(){return v})),e(r.exports,"j",(function(){return F}));var i=t("gnwu9"),n=t("ksUrQ"),s=t("5YMIf"),a=t("1CBkz"),l=t("e4Xv2"),p=t("hRPEZ");function u(e,t,r){r*=.5;const o=Math.sin(r);return e[0]=o*t[0],e[1]=o*t[1],e[2]=o*t[2],e[3]=Math.cos(r),e}function d(e,t){const r=2*Math.acos(t[3]),o=Math.sin(r/2);return o>(0,a.g)()?(e[0]=t[0]/o,e[1]=t[1]/o,e[2]=t[2]/o):(e[0]=1,e[1]=0,e[2]=0),r}function y(e,t,r){const o=t[0],i=t[1],n=t[2],s=t[3],a=r[0],l=r[1],p=r[2],u=r[3];return e[0]=o*u+s*a+i*p-n*l,e[1]=i*u+s*l+n*a-o*p,e[2]=n*u+s*p+o*l-i*a,e[3]=s*u-o*a-i*l-n*p,e}function c(e,t,r,o){const i=t[0],n=t[1],s=t[2],l=t[3];let p,u,d,y,c,f=r[0],h=r[1],g=r[2],v=r[3];return u=i*f+n*h+s*g+l*v,u<0&&(u=-u,f=-f,h=-h,g=-g,v=-v),1-u>(0,a.g)()?(p=Math.acos(u),d=Math.sin(p),y=Math.sin((1-o)*p)/d,c=Math.sin(o*p)/d):(y=1-o,c=o),e[0]=y*i+c*f,e[1]=y*n+c*h,e[2]=y*s+c*g,e[3]=y*l+c*v,e}function f(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function h(e,t){const r=t[0]+t[4]+t[8];let o;if(r>0)o=Math.sqrt(r+1),e[3]=.5*o,o=.5/o,e[0]=(t[5]-t[7])*o,e[1]=(t[6]-t[2])*o,e[2]=(t[1]-t[3])*o;else{let r=0;t[4]>t[0]&&(r=1),t[8]>t[3*r+r]&&(r=2);const i=(r+1)%3,n=(r+2)%3;o=Math.sqrt(t[3*r+r]-t[3*i+i]-t[3*n+n]+1),e[r]=.5*o,o=.5/o,e[3]=(t[3*i+n]-t[3*n+i])*o,e[i]=(t[3*i+r]+t[3*r+i])*o,e[n]=(t[3*n+r]+t[3*r+n])*o}return e}function g(e,t,r,o){const i=.5*Math.PI/180;t*=i,r*=i,o*=i;const n=Math.sin(t),s=Math.cos(t),a=Math.sin(r),l=Math.cos(r),p=Math.sin(o),u=Math.cos(o);return e[0]=n*l*u-s*a*p,e[1]=s*a*u+n*l*p,e[2]=s*l*p-n*a*u,e[3]=s*l*u+n*a*p,e}const v=p.c,b=p.s,S=p.a,m=y,I=p.b,_=p.d,O=p.l,x=p.e,T=x,N=p.f,w=N,A=p.n,F=p.g,M=p.h;const E=(0,s.c)(),L=(0,s.f)(1,0,0),j=(0,s.f)(0,1,0);const R=(0,n.a)(),P=(0,n.a)();const C=(0,i.c)();Object.freeze(Object.defineProperty({__proto__:null,add:S,calculateW:function(e,t){const r=t[0],o=t[1],i=t[2];return e[0]=r,e[1]=o,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-o*o-i*i)),e},conjugate:f,copy:v,dot:_,equals:M,exactEquals:F,fromEuler:g,fromMat3:h,getAxisAngle:d,identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},invert:function(e,t){const r=t[0],o=t[1],i=t[2],n=t[3],s=r*r+o*o+i*i+n*n,a=s?1/s:0;return e[0]=-r*a,e[1]=-o*a,e[2]=-i*a,e[3]=n*a,e},len:T,length:x,lerp:O,mul:m,multiply:y,normalize:A,random:function(e){const t=a.R,r=t(),o=t(),i=t(),n=Math.sqrt(1-r),s=Math.sqrt(r);return e[0]=n*Math.sin(2*Math.PI*o),e[1]=n*Math.cos(2*Math.PI*o),e[2]=s*Math.sin(2*Math.PI*i),e[3]=s*Math.cos(2*Math.PI*i),e},rotateX:function(e,t,r){r*=.5;const o=t[0],i=t[1],n=t[2],s=t[3],a=Math.sin(r),l=Math.cos(r);return e[0]=o*l+s*a,e[1]=i*l+n*a,e[2]=n*l-i*a,e[3]=s*l-o*a,e},rotateY:function(e,t,r){r*=.5;const o=t[0],i=t[1],n=t[2],s=t[3],a=Math.sin(r),l=Math.cos(r);return e[0]=o*l-n*a,e[1]=i*l+s*a,e[2]=n*l+o*a,e[3]=s*l-i*a,e},rotateZ:function(e,t,r){r*=.5;const o=t[0],i=t[1],n=t[2],s=t[3],a=Math.sin(r),l=Math.cos(r);return e[0]=o*l+i*a,e[1]=i*l-o*a,e[2]=n*l+s*a,e[3]=s*l-n*a,e},rotationTo:function(e,t,r){const o=(0,l.e)(t,r);return o<-.999999?((0,l.f)(E,L,t),(0,l.u)(E)<1e-6&&(0,l.f)(E,j,t),(0,l.n)(E,E),u(e,E,Math.PI),e):o>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):((0,l.f)(E,t,r),e[0]=E[0],e[1]=E[1],e[2]=E[2],e[3]=1+o,A(e,e))},scale:I,set:b,setAxes:function(e,t,r,o){const i=C;return i[0]=r[0],i[3]=r[1],i[6]=r[2],i[1]=o[0],i[4]=o[1],i[7]=o[2],i[2]=-t[0],i[5]=-t[1],i[8]=-t[2],A(e,h(e,i))},setAxisAngle:u,slerp:c,sqlerp:function(e,t,r,o,i,n){return c(R,t,i,n),c(P,r,o,n),c(e,R,P,2*n*(1-n)),e},sqrLen:w,squaredLength:N,str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}},Symbol.toStringTag,{value:"Module"}))})),t.register("ksUrQ",(function(t,r){function o(){return[0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3]]}function n(e,t){return new Float64Array(e,t,4)}e(t.exports,"a",(function(){return o})),e(t.exports,"b",(function(){return i})),e(t.exports,"c",(function(){return n})),e(t.exports,"I",(function(){return s}));const s=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:o,createView:n,fromValues:function(e,t,r,o){return[e,t,r,o]}},Symbol.toStringTag,{value:"Module"}))})),t.register("amEsL",(function(r,o){e(r.exports,"updateOrigins",(function(){return n}));var i=t("arTQ0");function n(e){e&&e.writtenProperties&&e.writtenProperties.forEach((({target:e,propName:t,newOrigin:r})=>{(0,i.isMultiOriginJSONMixin)(e)&&r&&e.originOf(t)!==r&&e.updateOrigin(t,r)}))}})),t.register("arTQ0",(function(t,r){function o(e){return e&&"getAtOrigin"in e&&"originOf"in e}e(t.exports,"isMultiOriginJSONMixin",(function(){return o}))})),t.register("8tU7Q",(function(t,r){function o(){return new Float32Array(3)}function i(e){const t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function n(e,t,r){const o=new Float32Array(3);return o[0]=e,o[1]=t,o[2]=r,o}function s(e,t){return new Float32Array(e,t,3)}function a(){return o()}function l(){return n(1,1,1)}function p(){return n(1,0,0)}function u(){return n(0,1,0)}function d(){return n(0,0,1)}e(t.exports,"c",(function(){return o})),e(t.exports,"b",(function(){return i})),e(t.exports,"f",(function(){return n})),e(t.exports,"a",(function(){return s}));const y=a(),c=l(),f=p(),h=u(),g=d();Object.freeze(Object.defineProperty({__proto__:null,ONES:c,UNIT_X:f,UNIT_Y:h,UNIT_Z:g,ZEROS:y,clone:i,create:o,createView:s,fromValues:n,ones:l,unitX:p,unitY:u,unitZ:d,zeros:a},Symbol.toStringTag,{value:"Module"}))})),t.register("kVWqM",(function(r,o){e(r.exports,"create",(function(){return s})),e(r.exports,"copy",(function(){return a})),e(r.exports,"fromPoints",(function(){return p})),e(r.exports,"normal",(function(){return c})),e(r.exports,"signedDistance",(function(){return y})),e(r.exports,"clip",(function(){return u})),e(r.exports,"clipInfinite",(function(){return d}));t("iVfa0");var i=t("e4Xv2"),n=t("5YMIf");t("8hg3f"),t("ckIlK"),t("4Tl7p"),t("9EGCe");function s(e=f){return[e[0],e[1],e[2],e[3]]}function a(e,t){return l(t[0],t[1],t[2],t[3],e)}function l(e,t,r,o,i=s()){return i[0]=e,i[1]=t,i[2]=r,i[3]=o,i}function p(e,t,r,o=s()){const i=r[0]-t[0],n=r[1]-t[1],a=r[2]-t[2],l=e[0]-t[0],p=e[1]-t[1],u=e[2]-t[2],d=n*u-a*p,y=a*l-i*u,c=i*p-n*l,f=d*d+y*y+c*c,h=Math.abs(f-1)>1e-5&&f>1e-12?1/Math.sqrt(f):1;return o[0]=d*h,o[1]=y*h,o[2]=c*h,o[3]=-(o[0]*e[0]+o[1]*e[1]+o[2]*e[2]),o}(0,n.c)(),(0,n.c)(),(0,n.c)(),(0,n.c)(),(0,n.c)();function u(e,t){const r=(0,i.e)(e,t.ray.direction),o=-y(e,t.ray.origin);if(o<0&&r>=0)return!1;if(r>-1e-6&&r<1e-6)return o>0;if((o<0||r<0)&&!(o<0&&r<0))return!0;const n=o/r;return r>0?n<t.c1&&(t.c1=n):n>t.c0&&(t.c0=n),t.c0<=t.c1}function d(e,t){const r=(0,i.e)(e,t.ray.direction),o=-y(e,t.ray.origin);if(r>-1e-6&&r<1e-6)return o>0;const n=o/r;return r>0?n<t.c1&&(t.c1=n):n>t.c0&&(t.c0=n),t.c0<=t.c1}function y(e,t){return(0,i.e)(e,t)+e[3]}function c(e){return e}const f=[0,0,1,0];var h,g;(g=h||(h={}))[g.NONE=0]="NONE",g[g.CLAMP=1]="CLAMP",g[g.INFINITE_MIN=4]="INFINITE_MIN",g[g.INFINITE_MAX=8]="INFINITE_MAX";h.INFINITE_MIN,h.INFINITE_MAX,h.INFINITE_MAX})),t.register("9EGCe",(function(r,o){e(r.exports,"tangentFrame",(function(){return s}));t("iVfa0");var i=t("e4Xv2"),n=t("5YMIf");function s(e,t,r){Math.abs(e[0])>Math.abs(e[1])?(0,i.s)(t,0,1,0):(0,i.s)(t,1,0,0),(0,i.f)(r,e,t),(0,i.n)(t,t),(0,i.f)(t,r,e),(0,i.n)(r,r)}(0,n.c)(),(0,n.c)(),(0,n.c)(),(0,n.c)(),(0,n.c)()})),t.register("bmQpB",(function(r,o){e(r.exports,"ColorMixModeEnum",(function(){return i})),e(r.exports,"parseColorMixMode",(function(){return s}));var i,n;t("iVfa0");function s(e){switch(e){case"multiply":default:return i.Multiply;case"ignore":return i.Ignore;case"replace":return i.Replace;case"tint":return i.Tint}}(n=i||(i={}))[n.Multiply=1]="Multiply",n[n.Ignore=2]="Ignore",n[n.Replace=3]="Replace",n[n.Tint=4]="Tint"})),t.register("aqb44",(function(t,r){e(t.exports,"Attribute",(function(){return o}));class o{constructor(e,t,r=!1,o=t){this.data=e,this.size=t,this.exclusive=r,this.stride=o}}}))}();
//# sourceMappingURL=BuildingSceneLayer.d84af3e3.js.map
