function e(e,t,r,o){Object.defineProperty(e,t,{get:r,set:o,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("ymhNq",(function(r,o){var i;i=r.exports,Object.defineProperty(i,"__esModule",{value:!0,configurable:!0}),e(r.exports,"default",(function(){return C}));var n=t("j6uz9"),s=t("26zvD"),a=t("b4dCZ"),l=t("bPmsI"),p=t("itGIg"),u=t("lq7ZL"),y=t("6TszD"),d=t("2IJVS"),c=t("lHg4e"),f=t("7dRCe"),h=t("hTI69");t("gHCNy");var g=t("bzBbJ"),b=t("qA6zg"),v=t("jaaCV"),m=t("iGP99"),S=t("cbFJJ"),I=t("h1acx"),_=t("bJ9E7"),T=t("lPKJW"),x=t("ctxhN"),O=t("54ioU"),N=t("5lb2Y"),A=t("dhaGX"),F=t("a5XGJ"),E=t("877fk"),M=t("lixLM"),w=t("ftVq3");const L=s.default.ofType(F.default),j=(0,p.clone)(I.default.sublayersProperty),P=j.json?.origins;P&&(P["web-scene"]={type:[S.default],write:{enabled:!0,overridePolicy:()=>({enabled:!1})}},P["portal-item"]={type:[S.default],write:{enabled:!0,overridePolicy:()=>({enabled:!1})}});let R=class extends((0,A.SceneService)((0,T.ArcGISService)((0,x.OperationalLayer)((0,O.PortalLayer)((0,N.ScaleRangeLayer)((0,d.MultiOriginJSONMixin)((0,_.APIKeyMixin)(m.default)))))))){normalizeCtorArgs(e){return"string"==typeof e?{url:e}:e??{}}destroy(){this.allSublayers.destroy()}readSublayers(e,t,r){const o=I.default.readSublayers(e,t,r);return I.default.forEachSublayer(o,(e=>e.layer=this)),this._sublayerOverrides&&(this.applySublayerOverrides(o,this._sublayerOverrides),this._sublayerOverrides=null),o}applySublayerOverrides(e,{overrides:t,context:r}){I.default.forEachSublayer(e,(e=>e.read(t.get(e.id),r)))}readSublayerOverrides(e,t){const r=new Map;for(const o of e)null!=o&&"object"==typeof o&&"number"==typeof o.id?r.set(o.id,o):t.messages?.push(new(0,l.default)("building-scene-layer:invalid-sublayer-override","Invalid value for sublayer override. Not an object or no id specified.",{value:o}));return{overrides:r,context:t}}writeSublayerOverrides(e,t,r){const o=[];I.default.forEachSublayer(this.sublayers,(e=>{const t=e.write({},r);Object.keys(t).length>1&&o.push(t)})),o.length>0&&(t.sublayers=o)}writeUnappliedOverrides(e,t){t.sublayers=[],e.overrides.forEach((e=>{t.sublayers.push((0,p.clone)(e))}))}write(e,t){return e=super.write(e,t),!t||"web-scene"!==t.origin&&"portal-item"!==t.origin||(this.sublayers?this.writeSublayerOverrides(this.sublayers,e,t):this._sublayerOverrides&&this.writeUnappliedOverrides(this._sublayerOverrides,e)),e}read(e,t){if(super.read(e,t),t&&("web-scene"===t.origin||"portal-item"===t.origin)&&null!=e&&Array.isArray(e.sublayers)){const r=this.readSublayerOverrides(e.sublayers,t);this.sublayers?this.applySublayerOverrides(this.sublayers,r):this._sublayerOverrides=r}}readSummaryStatistics(e,t){if("string"==typeof t.statisticsHRef){const e=(0,f.join)(this.parsedUrl?.path,t.statisticsHRef);return new(0,E.default)({url:e})}return null}set elevationInfo(e){this._set("elevationInfo",e),this._validateElevationInfo()}load(e){const t=null!=e?e.signal:null,r=this.loadFromPortal({supportedTypes:["Scene Service"]},e).catch(c.throwIfAbortError).then((()=>this._fetchService(t))).then((()=>this._fetchAssociatedFeatureService(t)));return this.addResolvingPromise(r),Promise.resolve(this)}loadAll(){return(0,u.loadAll)(this,(e=>{I.default.forEachSublayer(this.sublayers,(t=>{"building-group"!==t.type&&e(t)})),this.summaryStatistics&&e(this.summaryStatistics)}))}async saveAs(e,t){return this._debouncedSaveOperations(A.SaveOperationType.SAVE_AS,{...t,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:"building-scene"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:"building-scene"};return this._debouncedSaveOperations(A.SaveOperationType.SAVE,e)}validateLayer(e){if(!e.layerType||"Building"!==e.layerType)throw new(0,l.default)("buildingscenelayer:layer-type-not-supported","BuildingSceneLayer does not support this layer type",{layerType:e.layerType})}_getTypeKeywords(){return["Building"]}_validateElevationInfo(){const e=this.elevationInfo;e&&("absolute-height"!==e.mode&&y.default.getLogger(this).warn(".elevationInfo=","Building scene layers only support absolute-height elevation mode"),e.featureExpressionInfo&&"0"!==e.featureExpressionInfo.expression&&y.default.getLogger(this).warn(".elevationInfo=","Building scene layers do not support featureExpressionInfo"))}async _fetchAssociatedFeatureService(e){const t=new(0,w.FetchAssociatedFeatureLayer)(this.parsedUrl,this.portalItem,this.apiKey,e);try{this.associatedFeatureServiceItem=await t.fetchPortalItem()}catch(e){y.default.getLogger(this).warn("Associated feature service item could not be loaded",e)}}constructor(e){super(e),this.operationalLayerType="BuildingSceneLayer",this.allSublayers=new(0,a.default)({getCollections:()=>[this.sublayers],getChildrenFunction:e=>"building-group"===e.type?e.sublayers:null}),this.sublayers=null,this._sublayerOverrides=null,this.filters=new L,this.activeFilterId=null,this.summaryStatistics=null,this.outFields=null,this.legendEnabled=!0,this.type="building-scene"}};(0,n._)([(0,h.property)({type:["BuildingSceneLayer"]})],R.prototype,"operationalLayerType",void 0),(0,n._)([(0,h.property)({readOnly:!0})],R.prototype,"allSublayers",void 0),(0,n._)([(0,h.property)(j)],R.prototype,"sublayers",void 0),(0,n._)([(0,g.reader)("service","sublayers")],R.prototype,"readSublayers",null),(0,n._)([(0,h.property)({type:L,nonNullable:!0,json:{write:!0}})],R.prototype,"filters",void 0),(0,n._)([(0,h.property)({type:String,json:{write:!0}})],R.prototype,"activeFilterId",void 0),(0,n._)([(0,h.property)({readOnly:!0,type:E.default})],R.prototype,"summaryStatistics",void 0),(0,n._)([(0,g.reader)("summaryStatistics",["statisticsHRef"])],R.prototype,"readSummaryStatistics",null),(0,n._)([(0,h.property)({type:[String],json:{read:!1}})],R.prototype,"outFields",void 0),(0,n._)([(0,h.property)(M.sceneLayerFullExtent)],R.prototype,"fullExtent",void 0),(0,n._)([(0,h.property)(M.legendEnabled)],R.prototype,"legendEnabled",void 0),(0,n._)([(0,h.property)({type:["show","hide","hide-children"]})],R.prototype,"listMode",void 0),(0,n._)([(0,h.property)((0,M.readOnlyService)(v.default))],R.prototype,"spatialReference",void 0),(0,n._)([(0,h.property)(M.elevationInfo)],R.prototype,"elevationInfo",null),(0,n._)([(0,h.property)({json:{read:!1},readOnly:!0})],R.prototype,"type",void 0),(0,n._)([(0,h.property)()],R.prototype,"associatedFeatureServiceItem",void 0),R=(0,n._)([(0,b.subclass)("esri.layers.BuildingSceneLayer")],R);const C=R})),t.register("cbFJJ",(function(r,o){e(r.exports,"default",(function(){return B}));var i=t("j6uz9"),n=t("EvxpF"),s=t("5kFOn");t("5xsPA"),t("lz74e"),t("1l8Di"),t("hmJOf"),t("eGUsM"),t("eh5y5"),t("3nyrc"),t("azUs6"),t("3yGBU");var a=t("8E3XH"),l=t("bYA0c"),p=t("bPmsI"),u=t("4jlRt"),y=t("lEAUW"),d=t("6TszD"),c=t("fteFo"),f=t("hTI69");t("gHCNy"),t("aX9sh"),t("5HTPH");var h=t("8gk9b"),g=t("bzBbJ"),b=t("qA6zg"),v=t("2WnyR"),m=t("jaaCV"),S=t("iaM5n"),I=t("1jTA1"),_=t("ecsG9"),T=t("lixLM"),x=t("1sTo6"),O=t("38xmB"),N=t("15IfA"),A=t("k7nFm"),F=t("2EwjT"),E=t("gC5jC"),M=t("gKyS5"),w=t("gDefd"),L=t("73qx8"),j=t("6hadY");const P="esri.layers.buildingSublayers.BuildingComponentSublayer",R=d.default.getLogger(P),C=(0,x.defineFieldProperties)();let q=class extends(y.default.LoadableMixin((0,c.EsriPromiseMixin)(I.default))){get parsedUrl(){return this.layer?{path:`${this.layer.parsedUrl?.path}/sublayers/${this.id}`,query:this.layer.parsedUrl?.query}:{path:""}}get fieldsIndex(){return new(0,O.default)(this.fields)}readAssociatedLayer(e,t){const r=this.layer.associatedFeatureServiceItem,o=t.associatedLayerID;return null!=r&&"number"==typeof o?new(0,S.default)({portalItem:r,layerId:o}):null}get objectIdField(){if(null!=this.fields)for(const e of this.fields)if("oid"===e.type)return e.name;return null}get displayField(){return null!=this.associatedLayer?this.associatedLayer.displayField:void 0}get apiKey(){return this.layer.apiKey}get fullExtent(){return this.layer.fullExtent}get spatialReference(){return this.layer.spatialReference}get version(){return this.layer.version}get elevationInfo(){return this.layer.elevationInfo}get minScale(){return this.layer.minScale}get maxScale(){return this.layer.maxScale}get effectiveScaleRange(){return this.layer.effectiveScaleRange}get defaultPopupTemplate(){return this.createPopupTemplate()}load(e){const t=null!=e?e.signal:null,r=this._fetchService(t).then((()=>{this.indexInfo=(0,A.fetchIndexInfo)(this.parsedUrl.path,this.rootNode,this.nodePages,this.apiKey,R,t)}));return this.addResolvingPromise(r),Promise.resolve(this)}createPopupTemplate(e){return(0,M.createPopupTemplate)(this,e)}async _fetchService(e){const t=(await(0,l.default)(this.parsedUrl.path,{query:{f:"json",token:this.apiKey},responseType:"json",signal:e})).data;this.read(t,{origin:"service",url:this.parsedUrl})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,t){const r=this.getFeatureType(t?.feature)?.domains?.[e];return r&&"inherited"!==r.type?r:this.getField(e)?.domain??null}getFeatureType(e){return e&&null!=this.associatedLayer?this.associatedLayer.getFeatureType(e):null}get types(){return null!=this.associatedLayer?this.associatedLayer.types??[]:[]}get typeIdField(){return null!=this.associatedLayer?this.associatedLayer.typeIdField:null}get geometryType(){return"3d-object"===this.layerType?"mesh":"point"}get profile(){return"3d-object"===this.layerType?"mesh-pyramids":"points"}get capabilities(){const e=null!=this.associatedLayer&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:_.zeroCapabilities,{query:t,data:{supportsZ:r,supportsM:o,isVersioned:i}}=e;return{query:t,data:{supportsZ:r,supportsM:o,isVersioned:i}}}createQuery(){const e=new(0,E.default);return"mesh"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||"1=1",e.sqlFormat="standard",e}queryExtent(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryExtent(e||this.createQuery(),t)))}queryFeatureCount(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryFeatureCount(e||this.createQuery(),t)))}queryFeatures(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryFeatures(e||this.createQuery(),t))).then((e=>{if(e?.features)for(const t of e.features)t.layer=this.layer,t.sourceLayer=this;return e}))}queryObjectIds(e,t){return this._getAssociatedLayerForQuery().then((r=>r.queryObjectIds(e||this.createQuery(),t)))}async queryCachedAttributes(e,t){const r=(0,N.unpackFieldNames)(this.fieldsIndex,await(0,j.getRequiredFields)(this,(0,j.getFetchPopupTemplate)(this)));return(0,L.queryAttributesFromCachedAttributesId)(this.parsedUrl.path,this.attributeStorageInfo,e,t,r)}async queryCachedFeature(e,t){const r=await this.queryCachedAttributes(e,[t]);if(!r||0===r.length)throw new(0,p.default)("scenelayer:feature-not-in-cached-data","Feature not found in cached data");const o=new(0,n.default);return o.attributes=r[0],o.layer=this,o.sourceLayer=this,o}getFieldUsageInfo(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:null!=this.associatedLayer}}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return null!=e&&e.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),null==this.associatedLayer)throw new(0,p.default)("buildingscenelayer:query-not-available","BuildingSceneLayer component layer queries are not available without an associated feature layer",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new(0,p.default)("buildingscenelayer:query-not-available","BuildingSceneLayer associated feature layer could not be loaded",{layer:this,error:e})}return this.associatedLayer}constructor(e){super(e),this.type="building-component",this.nodePages=null,this.materialDefinitions=[],this.textureSetDefinitions=[],this.geometryDefinitions=[],this.indexInfo=null,this.serviceUpdateTimeStamp=null,this.store=null,this.attributeStorageInfo=[],this.fields=[],this.associatedLayer=null,this.outFields=null,this.listMode="show",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType="3d-object"}};(0,i._)([(0,f.property)({readOnly:!0})],q.prototype,"parsedUrl",null),(0,i._)([(0,f.property)({type:F.I3SNodePageDefinition,readOnly:!0})],q.prototype,"nodePages",void 0),(0,i._)([(0,f.property)({type:[F.I3SMaterialDefinition],readOnly:!0})],q.prototype,"materialDefinitions",void 0),(0,i._)([(0,f.property)({type:[F.I3STextureSetDefinition],readOnly:!0})],q.prototype,"textureSetDefinitions",void 0),(0,i._)([(0,f.property)({type:[F.I3SGeometryDefinition],readOnly:!0})],q.prototype,"geometryDefinitions",void 0),(0,i._)([(0,f.property)({readOnly:!0})],q.prototype,"serviceUpdateTimeStamp",void 0),(0,i._)([(0,f.property)({readOnly:!0})],q.prototype,"store",void 0),(0,i._)([(0,f.property)({type:String,readOnly:!0,json:{read:{source:"store.rootNode"}}})],q.prototype,"rootNode",void 0),(0,i._)([(0,f.property)({readOnly:!0})],q.prototype,"attributeStorageInfo",void 0),(0,i._)([(0,f.property)(C.fields)],q.prototype,"fields",void 0),(0,i._)([(0,f.property)({readOnly:!0})],q.prototype,"fieldsIndex",null),(0,i._)([(0,f.property)({readOnly:!0,type:S.default})],q.prototype,"associatedLayer",void 0),(0,i._)([(0,g.reader)("service","associatedLayer",["associatedLayerID"])],q.prototype,"readAssociatedLayer",null),(0,i._)([(0,f.property)(C.outFields)],q.prototype,"outFields",void 0),(0,i._)([(0,f.property)({type:String,readOnly:!0})],q.prototype,"objectIdField",null),(0,i._)([(0,f.property)({readOnly:!0,type:String,json:{read:!1}})],q.prototype,"displayField",null),(0,i._)([(0,f.property)({readOnly:!0,type:String})],q.prototype,"apiKey",null),(0,i._)([(0,f.property)({readOnly:!0,type:v.default})],q.prototype,"fullExtent",null),(0,i._)([(0,f.property)({readOnly:!0,type:m.default})],q.prototype,"spatialReference",null),(0,i._)([(0,f.property)({readOnly:!0})],q.prototype,"version",null),(0,i._)([(0,f.property)({readOnly:!0,type:w.default})],q.prototype,"elevationInfo",null),(0,i._)([(0,f.property)({readOnly:!0,type:Number})],q.prototype,"minScale",null),(0,i._)([(0,f.property)({readOnly:!0,type:Number})],q.prototype,"maxScale",null),(0,i._)([(0,f.property)({readOnly:!0,type:Number})],q.prototype,"effectiveScaleRange",null),(0,i._)([(0,f.property)({type:["hide","show"],json:{write:!0}})],q.prototype,"listMode",void 0),(0,i._)([(0,f.property)({types:a.webSceneRendererTypes,json:{origins:{service:{read:{source:"drawingInfo.renderer"}}},name:"layerDefinition.drawingInfo.renderer",write:!0},value:null})],q.prototype,"renderer",void 0),(0,i._)([(0,f.property)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],q.prototype,"definitionExpression",void 0),(0,i._)([(0,f.property)(T.popupEnabled)],q.prototype,"popupEnabled",void 0),(0,i._)([(0,f.property)({type:s.default,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],q.prototype,"popupTemplate",void 0),(0,i._)([(0,f.property)({readOnly:!0,type:String,json:{origins:{service:{read:{source:"store.normalReferenceFrame"}}},read:!1}})],q.prototype,"normalReferenceFrame",void 0),(0,i._)([(0,f.property)({readOnly:!0,json:{read:!1}})],q.prototype,"defaultPopupTemplate",null),(0,i._)([(0,f.property)()],q.prototype,"types",null),(0,i._)([(0,f.property)()],q.prototype,"typeIdField",null),(0,i._)([(0,f.property)({json:{write:!1}}),(0,h.enumeration)(new(0,u.JSONMap)({"3DObject":"3d-object",Point:"point"}))],q.prototype,"layerType",void 0),(0,i._)([(0,f.property)()],q.prototype,"geometryType",null),(0,i._)([(0,f.property)()],q.prototype,"profile",null),(0,i._)([(0,f.property)({readOnly:!0,json:{read:!1}})],q.prototype,"capabilities",null),q=(0,i._)([(0,b.subclass)(P)],q);const B=q})),t.register("1jTA1",(function(r,o){e(r.exports,"default",(function(){return c}));var i=t("j6uz9"),n=t("2tTSh"),s=t("2IJVS"),a=t("hTI69"),l=t("gHCNy");t("aX9sh"),t("5HTPH");var p=t("bzBbJ"),u=t("qA6zg"),y=t("lixLM");let d=class extends((0,n.IdentifiableMixin)(s.MultiOriginJSONSupport)){readTitle(e,t){return"string"==typeof t.alias?t.alias:"string"==typeof t.name?t.name:""}readIdOnlyOnce(e){return-1!==this.id?this.id:"number"==typeof e?e:-1}constructor(e){super(e),this.title="",this.id=-1,this.modelName=null,this.isEmpty=null,this.legendEnabled=!0,this.visible=!0,this.opacity=1}};(0,i._)([(0,a.property)({type:String,json:{origins:{"web-scene":{write:!0},"portal-item":{write:!0}}}})],d.prototype,"title",void 0),(0,i._)([(0,p.reader)("service","title",["alias","name"])],d.prototype,"readTitle",null),(0,i._)([(0,a.property)()],d.prototype,"layer",void 0),(0,i._)([(0,a.property)({type:l.Integer,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],d.prototype,"id",void 0),(0,i._)([(0,p.reader)("service","id")],d.prototype,"readIdOnlyOnce",null),(0,i._)([(0,a.property)((0,y.readOnlyService)(String))],d.prototype,"modelName",void 0),(0,i._)([(0,a.property)((0,y.readOnlyService)(Boolean))],d.prototype,"isEmpty",void 0),(0,i._)([(0,a.property)({type:Boolean,nonNullable:!0})],d.prototype,"legendEnabled",void 0),(0,i._)([(0,a.property)({type:Boolean,json:{name:"visibility",write:!0}})],d.prototype,"visible",void 0),(0,i._)([(0,a.property)({type:Number,json:{write:!0}})],d.prototype,"opacity",void 0),d=(0,i._)([(0,u.subclass)("esri.layers.buildingSublayers.BuildingSublayer")],d);const c=d})),t.register("2EwjT",(function(r,o){e(r.exports,"I3SNodePageDefinition",(function(){return p})),e(r.exports,"I3SMaterialDefinition",(function(){return d})),e(r.exports,"I3STextureSetDefinition",(function(){return f})),e(r.exports,"I3SGeometryDefinition",(function(){return v}));var i=t("j6uz9"),n=t("hO0an"),s=t("hTI69");t("gHCNy"),t("aX9sh"),t("5HTPH");var a=t("8gk9b"),l=t("qA6zg");let p=class extends n.JSONSupport{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,i._)([(0,s.property)({type:Number})],p.prototype,"nodesPerPage",void 0),(0,i._)([(0,s.property)({type:Number})],p.prototype,"rootIndex",void 0),(0,i._)([(0,s.property)({type:String})],p.prototype,"lodSelectionMetricType",void 0),p=(0,i._)([(0,l.subclass)("esri.layer.support.I3SNodePageDefinition")],p);let u=class extends n.JSONSupport{constructor(){super(...arguments),this.factor=1}};(0,i._)([(0,s.property)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],u.prototype,"id",void 0),(0,i._)([(0,s.property)({type:Number})],u.prototype,"factor",void 0),u=(0,i._)([(0,l.subclass)("esri.layer.support.I3SMaterialTexture")],u);let y=class extends n.JSONSupport{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,i._)([(0,s.property)({type:[Number]})],y.prototype,"baseColorFactor",void 0),(0,i._)([(0,s.property)({type:u})],y.prototype,"baseColorTexture",void 0),(0,i._)([(0,s.property)({type:u})],y.prototype,"metallicRoughnessTexture",void 0),(0,i._)([(0,s.property)({type:Number})],y.prototype,"metallicFactor",void 0),(0,i._)([(0,s.property)({type:Number})],y.prototype,"roughnessFactor",void 0),y=(0,i._)([(0,l.subclass)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],y);let d=class extends n.JSONSupport{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,i._)([(0,a.enumeration)({opaque:"opaque",mask:"mask",blend:"blend"})],d.prototype,"alphaMode",void 0),(0,i._)([(0,s.property)({type:Number})],d.prototype,"alphaCutoff",void 0),(0,i._)([(0,s.property)({type:Boolean})],d.prototype,"doubleSided",void 0),(0,i._)([(0,a.enumeration)({none:"none",back:"back",front:"front"})],d.prototype,"cullFace",void 0),(0,i._)([(0,s.property)({type:u})],d.prototype,"normalTexture",void 0),(0,i._)([(0,s.property)({type:u})],d.prototype,"occlusionTexture",void 0),(0,i._)([(0,s.property)({type:u})],d.prototype,"emissiveTexture",void 0),(0,i._)([(0,s.property)({type:[Number]})],d.prototype,"emissiveFactor",void 0),(0,i._)([(0,s.property)({type:y})],d.prototype,"pbrMetallicRoughness",void 0),d=(0,i._)([(0,l.subclass)("esri.layer.support.I3SMaterialDefinition")],d);let c=class extends n.JSONSupport{};(0,i._)([(0,s.property)({type:String,json:{read:{source:["name","index"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],c.prototype,"name",void 0),(0,i._)([(0,a.enumeration)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],c.prototype,"format",void 0),c=(0,i._)([(0,l.subclass)("esri.layer.support.I3STextureFormat")],c);let f=class extends n.JSONSupport{constructor(){super(...arguments),this.atlas=!1}};(0,i._)([(0,s.property)({type:[c]})],f.prototype,"formats",void 0),(0,i._)([(0,s.property)({type:Boolean})],f.prototype,"atlas",void 0),f=(0,i._)([(0,l.subclass)("esri.layer.support.I3STextureSetDefinition")],f);let h=class extends n.JSONSupport{};(0,i._)([(0,a.enumeration)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],h.prototype,"type",void 0),(0,i._)([(0,s.property)({type:Number})],h.prototype,"component",void 0),h=(0,i._)([(0,l.subclass)("esri.layer.support.I3SGeometryAttribute")],h);let g=class extends n.JSONSupport{};(0,i._)([(0,a.enumeration)({draco:"draco"})],g.prototype,"encoding",void 0),(0,i._)([(0,s.property)({type:[String]})],g.prototype,"attributes",void 0),g=(0,i._)([(0,l.subclass)("esri.layer.support.I3SGeometryCompressedAttributes")],g);let b=class extends n.JSONSupport{constructor(){super(...arguments),this.offset=0}};(0,i._)([(0,s.property)({type:Number})],b.prototype,"offset",void 0),(0,i._)([(0,s.property)({type:h})],b.prototype,"position",void 0),(0,i._)([(0,s.property)({type:h})],b.prototype,"normal",void 0),(0,i._)([(0,s.property)({type:h})],b.prototype,"uv0",void 0),(0,i._)([(0,s.property)({type:h})],b.prototype,"color",void 0),(0,i._)([(0,s.property)({type:h})],b.prototype,"uvRegion",void 0),(0,i._)([(0,s.property)({type:h})],b.prototype,"featureId",void 0),(0,i._)([(0,s.property)({type:h})],b.prototype,"faceRange",void 0),(0,i._)([(0,s.property)({type:g})],b.prototype,"compressedAttributes",void 0),b=(0,i._)([(0,l.subclass)("esri.layer.support.I3SGeometryBuffer")],b);let v=class extends n.JSONSupport{};(0,i._)([(0,a.enumeration)({triangle:"triangle"})],v.prototype,"topology",void 0),(0,i._)([(0,s.property)()],v.prototype,"geometryBuffers",void 0),v=(0,i._)([(0,l.subclass)("esri.layer.support.I3SGeometryDefinition")],v)})),t.register("6hadY",(function(r,o){e(r.exports,"getRequiredFields",(function(){return n})),e(r.exports,"getFetchPopupTemplate",(function(){return s}));var i=t("15IfA");async function n(e,t=e.popupTemplate){if(null==t)return[];const r=await t.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:o}=t,{objectIdField:n,typeIdField:s,globalIdField:a,relationships:l}=e;if(r.includes("*"))return["*"];const p=o?await(0,i.getFeatureEditFields)(e):[],u=(0,i.fixFields)(e.fieldsIndex,[...r,...p]);return s&&u.push(s),u&&n&&e.fieldsIndex?.has(n)&&!u.includes(n)&&u.push(n),u&&a&&e.fieldsIndex?.has(a)&&!u.includes(a)&&u.push(a),l&&l.forEach((t=>{const{keyField:r}=t;u&&r&&e.fieldsIndex?.has(r)&&!u.includes(r)&&u.push(r)})),u}function s(e,t){return e.popupTemplate?e.popupTemplate:null!=t&&t.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}})),t.register("h1acx",(function(r,o){e(r.exports,"default",(function(){return b}));var i=t("j6uz9"),n=t("26zvD"),s=t("lq7ZL"),a=t("aIxtj"),l=t("hTI69");t("gHCNy"),t("aX9sh"),t("5HTPH");var p,u=t("qA6zg"),y=t("cbFJJ"),d=t("1jTA1");const c={type:n.default,readOnly:!0,json:{origins:{service:{read:{source:"sublayers",reader:f}}},read:!1}};function f(e,t,r){if(e&&Array.isArray(e))return new(0,n.default)(e.map((e=>{const t=function(e){return"group"===e.layerType?h:y.default}(e);if(t){const o=new t;return o.read(e,r),o}return r&&r.messages&&e&&r.messages.push(new(0,a.default)("building-scene-layer:unsupported-sublayer-type","Building scene sublayer of type '"+(e.type||"unknown")+"' are not supported",{definition:e,context:r})),null})))}let h=p=class extends d.default{loadAll(){return(0,s.loadAllChildren)(this,(e=>p.forEachSublayer(this.sublayers,(t=>{"building-group"!==t.type&&e(t)}))))}constructor(e){super(e),this.type="building-group",this.listMode="show",this.sublayers=null}};var g;(0,i._)([(0,l.property)({type:["hide","show","hide-children"],json:{write:!0}})],h.prototype,"listMode",void 0),(0,i._)([(0,l.property)(c)],h.prototype,"sublayers",void 0),h=p=(0,i._)([(0,u.subclass)("esri.layers.buildingSublayers.BuildingGroupSublayer")],h),(g=h||(h={})).sublayersProperty=c,g.readSublayers=f,g.forEachSublayer=function e(t,r){t.forEach((t=>{r(t),"building-group"===t.type&&e(t.sublayers,r)}))};const b=h})),t.register("a5XGJ",(function(r,o){e(r.exports,"default",(function(){return b}));var i=t("j6uz9"),n=t("26zvD"),s=t("hO0an"),a=t("itGIg"),l=t("e63kH"),p=t("hTI69");t("gHCNy");var u,y=t("qA6zg"),d=t("dkbkg"),c=t("lbsPI"),f=t("cYmEM");const h=n.default.ofType(f.default);let g=u=class extends s.JSONSupport{clone(){return new u({description:this.description,filterBlocks:(0,a.clone)(this.filterBlocks),id:this.id,name:this.name,filterAuthoringInfo:(0,a.clone)(this.filterAuthoringInfo)})}constructor(){super(...arguments),this.description=null,this.filterBlocks=null,this.id=(0,l.generateUUID)(),this.name=null}};(0,i._)([(0,p.property)({type:String,json:{write:!0}})],g.prototype,"description",void 0),(0,i._)([(0,p.property)({type:h,json:{write:{enabled:!0,isRequired:!0}}})],g.prototype,"filterBlocks",void 0),(0,i._)([(0,p.property)({types:{key:"type",base:d.default,typeMap:{checkbox:c.default}},json:{read:e=>"checkbox"===(e&&e.type)?c.default.fromJSON(e):null,write:!0}})],g.prototype,"filterAuthoringInfo",void 0),(0,i._)([(0,p.property)({type:String,constructOnly:!0,json:{write:{enabled:!0,isRequired:!0}}})],g.prototype,"id",void 0),(0,i._)([(0,p.property)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],g.prototype,"name",void 0),g=u=(0,i._)([(0,y.subclass)("esri.layers.support.BuildingFilter")],g);const b=g})),t.register("dkbkg",(function(r,o){e(r.exports,"default",(function(){return p}));var i=t("j6uz9"),n=t("hO0an"),s=t("hTI69");t("gHCNy"),t("aX9sh"),t("5HTPH");var a=t("qA6zg");let l=class extends n.JSONSupport{constructor(){super(...arguments),this.type=null}};(0,i._)([(0,s.property)({type:String,readOnly:!0,json:{write:!0}})],l.prototype,"type",void 0),l=(0,i._)([(0,a.subclass)("esri.layers.support.BuildingFilterAuthoringInfo")],l);const p=l})),t.register("lbsPI",(function(r,o){e(r.exports,"default",(function(){return f}));var i=t("j6uz9"),n=t("26zvD"),s=t("itGIg"),a=t("hTI69");t("gHCNy");var l,p=t("qA6zg"),u=t("dkbkg"),y=t("gB6Zr");const d=n.default.ofType(y.default);let c=l=class extends u.default{clone(){return new l({filterBlocks:(0,s.clone)(this.filterBlocks)})}constructor(){super(...arguments),this.type="checkbox"}};(0,i._)([(0,a.property)({type:["checkbox"]})],c.prototype,"type",void 0),(0,i._)([(0,a.property)({type:d,json:{write:!0}})],c.prototype,"filterBlocks",void 0),c=l=(0,i._)([(0,p.subclass)("esri.layers.support.BuildingFilterAuthoringInfoCheckbox")],c);const f=c})),t.register("gB6Zr",(function(r,o){e(r.exports,"default",(function(){return f}));var i=t("j6uz9"),n=t("26zvD"),s=t("hO0an"),a=t("itGIg"),l=t("hTI69");t("gHCNy");var p,u=t("qA6zg"),y=t("jxt4L");const d=n.default.ofType(y.default);let c=p=class extends s.JSONSupport{clone(){return new p({filterTypes:(0,a.clone)(this.filterTypes)})}};(0,i._)([(0,l.property)({type:d,json:{write:!0}})],c.prototype,"filterTypes",void 0),c=p=(0,i._)([(0,u.subclass)("esri.layers.support.BuildingFilterAuthoringInfoBlock")],c);const f=c})),t.register("jxt4L",(function(r,o){e(r.exports,"default",(function(){return y}));var i=t("j6uz9"),n=t("hO0an"),s=t("itGIg"),a=t("hTI69");t("gHCNy");var l,p=t("qA6zg");let u=l=class extends n.JSONSupport{clone(){return new l({filterType:this.filterType,filterValues:(0,s.clone)(this.filterValues)})}constructor(){super(...arguments),this.filterType=null,this.filterValues=null}};(0,i._)([(0,a.property)({type:String,json:{write:!0}})],u.prototype,"filterType",void 0),(0,i._)([(0,a.property)({type:[String],json:{write:!0}})],u.prototype,"filterValues",void 0),u=l=(0,i._)([(0,p.subclass)("esri.layers.support.BuildingFilterAuthoringInfoType")],u);const y=u})),t.register("cYmEM",(function(r,o){e(r.exports,"default",(function(){return g}));var i=t("j6uz9"),n=t("hO0an"),s=t("itGIg"),a=t("hTI69");t("gHCNy");var l,p=t("qA6zg"),u=t("arQ2p"),y=t("3IG48"),d=t("5rLFS"),c=t("lJtqJ");const f={nonNullable:!0,types:{key:"type",base:u.default,typeMap:{solid:y.default,"wire-frame":d.default,"x-ray":c.default}},json:{read:e=>{switch(e&&e.type){case"solid":return y.default.fromJSON(e);case"wireFrame":return d.default.fromJSON(e);case"x-ray":return c.default.fromJSON(e);default:return}},write:{enabled:!0,isRequired:!0}}};let h=l=class extends n.JSONSupport{clone(){return new l({filterExpression:this.filterExpression,filterMode:(0,s.clone)(this.filterMode),title:this.title})}constructor(){super(...arguments),this.filterExpression=null,this.filterMode=new(0,y.default),this.title=""}};(0,i._)([(0,a.property)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],h.prototype,"filterExpression",void 0),(0,i._)([(0,a.property)(f)],h.prototype,"filterMode",void 0),(0,i._)([(0,a.property)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],h.prototype,"title",void 0),h=l=(0,i._)([(0,p.subclass)("esri.layers.support.BuildingFilterBlock")],h);const g=h})),t.register("arQ2p",(function(r,o){e(r.exports,"default",(function(){return p}));var i=t("j6uz9"),n=t("hO0an"),s=t("hTI69");t("gHCNy"),t("aX9sh"),t("5HTPH");var a=t("qA6zg");let l=class extends n.JSONSupport{};(0,i._)([(0,s.property)({readOnly:!0,json:{read:!1}})],l.prototype,"type",void 0),l=(0,i._)([(0,a.subclass)("esri.layers.support.BuildingFilterMode")],l);const p=l})),t.register("3IG48",(function(r,o){e(r.exports,"default",(function(){return u}));var i=t("j6uz9"),n=t("hTI69");t("gHCNy"),t("aX9sh"),t("5HTPH");var s,a=t("qA6zg"),l=t("arQ2p");let p=s=class extends l.default{clone(){return new s}constructor(){super(...arguments),this.type="solid"}};(0,i._)([(0,n.property)({type:["solid"],readOnly:!0,json:{write:!0}})],p.prototype,"type",void 0),p=s=(0,i._)([(0,a.subclass)("esri.layers.support.BuildingFilterModeSolid")],p);const u=p})),t.register("5rLFS",(function(r,o){e(r.exports,"default",(function(){return c}));var i=t("j6uz9"),n=t("itGIg"),s=t("hTI69");t("gHCNy");var a,l=t("8gk9b"),p=t("qA6zg"),u=t("arQ2p"),y=t("eak7j");let d=a=class extends u.default{clone(){return new a({edges:(0,n.clone)(this.edges)})}constructor(){super(...arguments),this.type="wire-frame",this.edges=null}};(0,i._)([(0,l.enumeration)({wireFrame:"wire-frame"})],d.prototype,"type",void 0),(0,i._)([(0,s.property)(y.symbol3dEdgesProperty)],d.prototype,"edges",void 0),d=a=(0,i._)([(0,p.subclass)("esri.layers.support.BuildingFilterModeWireFrame")],d);const c=d})),t.register("lJtqJ",(function(r,o){e(r.exports,"default",(function(){return u}));var i=t("j6uz9"),n=t("hTI69");t("gHCNy"),t("aX9sh"),t("5HTPH");var s,a=t("qA6zg"),l=t("arQ2p");let p=s=class extends l.default{clone(){return new s}constructor(){super(...arguments),this.type="x-ray"}};(0,i._)([(0,n.property)({type:["x-ray"],readOnly:!0,json:{write:!0}})],p.prototype,"type",void 0),p=s=(0,i._)([(0,a.subclass)("esri.layers.support.BuildingFilterModeXRay")],p);const u=p})),t.register("877fk",(function(r,o){e(r.exports,"default",(function(){return f}));var i=t("j6uz9"),n=t("bYA0c"),s=t("hO0an"),a=t("lEAUW"),l=t("6TszD"),p=t("fteFo"),u=t("hTI69");t("gHCNy"),t("aX9sh"),t("5HTPH");var y=t("qA6zg");let d=class extends s.JSONSupport{constructor(){super(...arguments),this.fieldName=null,this.modelName=null,this.label=null,this.min=null,this.max=null,this.mostFrequentValues=null,this.subLayerIds=null}};(0,i._)([(0,u.property)({type:String})],d.prototype,"fieldName",void 0),(0,i._)([(0,u.property)({type:String})],d.prototype,"modelName",void 0),(0,i._)([(0,u.property)({type:String})],d.prototype,"label",void 0),(0,i._)([(0,u.property)({type:Number})],d.prototype,"min",void 0),(0,i._)([(0,u.property)({type:Number})],d.prototype,"max",void 0),(0,i._)([(0,u.property)({json:{read:e=>Array.isArray(e)&&(e.every((e=>"string"==typeof e))||e.every((e=>"number"==typeof e)))?e.slice():null}})],d.prototype,"mostFrequentValues",void 0),(0,i._)([(0,u.property)({type:[Number]})],d.prototype,"subLayerIds",void 0),d=(0,i._)([(0,y.subclass)("esri.layers.support.BuildingFieldStatistics")],d);let c=class extends(a.default.LoadableMixin((0,p.EsriPromiseMixin)(s.JSONSupport))){get fields(){return this.loaded||"loading"===this.loadStatus?this._get("fields"):(l.default.getLogger(this).error("building summary statistics are not loaded"),null)}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this._fetchService(t)),Promise.resolve(this)}async _fetchService(e){const t=(await(0,n.default)(this.url,{query:{f:"json"},responseType:"json",signal:e})).data;this.read(t,{origin:"service"})}constructor(){super(...arguments),this.url=null}};(0,i._)([(0,u.property)({constructOnly:!0,type:String})],c.prototype,"url",void 0),(0,i._)([(0,u.property)({readOnly:!0,type:[d],json:{read:{source:"summary"}}})],c.prototype,"fields",null),c=(0,i._)([(0,y.subclass)("esri.layers.support.BuildingSummaryStatistics")],c);const f=c})),t.register("44Q9I",(function(t,r){var o,i;e(t.exports,"VertexAttribute",(function(){return o})),(i=o||(o={})).POSITION="position",i.NORMAL="normal",i.NORMALCOMPRESSED="normalCompressed",i.UV0="uv0",i.AUXPOS1="auxpos1",i.AUXPOS2="auxpos2",i.COLOR="color",i.SYMBOLCOLOR="symbolColor",i.SIZE="size",i.TANGENT="tangent",i.OFFSET="offset",i.SUBDIVISIONFACTOR="subdivisionFactor",i.COLORFEATUREATTRIBUTE="colorFeatureAttribute",i.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",i.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",i.DISTANCETOSTART="distanceToStart",i.UVMAPSPACE="uvMapSpace",i.BOUNDINGRECT="boundingRect",i.UVREGION="uvRegion",i.PROFILERIGHT="profileRight",i.PROFILEUP="profileUp",i.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",i.FEATUREVALUE="featureValue",i.MODELORIGINHI="modelOriginHi",i.MODELORIGINLO="modelOriginLo",i.MODEL="model",i.MODELNORMAL="modelNormal",i.INSTANCECOLOR="instanceColor",i.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",i.LOCALTRANSFORM="localTransform",i.GLOBALTRANSFORM="globalTransform",i.BOUNDINGSPHERE="boundingSphere",i.MODELORIGIN="modelOrigin",i.MODELSCALEFACTORS="modelScaleFactors",i.FEATUREATTRIBUTE="featureAttribute",i.STATE="state",i.LODLEVEL="lodLevel",i.POSITION0="position0",i.POSITION1="position1",i.NORMALA="normalA",i.NORMALB="normalB",i.COMPONENTINDEX="componentIndex",i.VARIANTOFFSET="variantOffset",i.VARIANTSTROKE="variantStroke",i.VARIANTEXTENSION="variantExtension",i.U8PADDING="u8padding",i.U16PADDING="u16padding",i.SIDENESS="sideness",i.START="start",i.END="end",i.UP="up",i.EXTRUDE="extrude",i.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor",i.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"})),t.register("4vUOo",(function(t,r){function o(){return[1,0,0,0,1,0,0,0,1]}function i(e,t,r,o,i,n,s,a,l){return[e,t,r,o,i,n,s,a,l]}function n(e,t){return new Float64Array(e,t,9)}e(t.exports,"c",(function(){return o})),e(t.exports,"f",(function(){return i})),e(t.exports,"a",(function(){return n}));Object.freeze(Object.defineProperty({__proto__:null,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},create:o,createView:n,fromValues:i},Symbol.toStringTag,{value:"Module"}))})),t.register("2ouJi",(function(t,r){function o(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function n(e,t){return new Float64Array(e,t,16)}e(t.exports,"c",(function(){return o})),e(t.exports,"b",(function(){return i})),e(t.exports,"a",(function(){return n})),e(t.exports,"I",(function(){return s}));const s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:o,createView:n,fromValues:function(e,t,r,o,i,n,s,a,l,p,u,y,d,c,f,h){return[e,t,r,o,i,n,s,a,l,p,u,y,d,c,f,h]}},Symbol.toStringTag,{value:"Module"}))})),t.register("nVnNX",(function(r,o){e(r.exports,"getSphericalPCPF",(function(){return u}));var i=t("4ij3s"),n=t("jaaCV"),s=t("fau59");const a=new(0,n.default)(i.SphericalECEFSpatialReferenceLike),l=new(0,n.default)(i.SphericalPCPFMarsLike),p=new(0,n.default)(i.SphericalPCPFMoonLike);new(0,n.default)(i.WGS84ECEFSpatialReferenceLike);function u(e){return e&&((0,s.isMars)(e)||(0,s.equals)(e,l))?l:e&&((0,s.isMoon)(e)||(0,s.equals)(e,p))?p:a}})),t.register("gDeEN",(function(r,o){e(r.exports,"s",(function(){return u})),e(r.exports,"g",(function(){return y})),e(r.exports,"m",(function(){return d})),e(r.exports,"c",(function(){return f})),e(r.exports,"k",(function(){return g})),e(r.exports,"a",(function(){return b})),e(r.exports,"j",(function(){return E}));var i=t("4vUOo"),n=t("6MY4j"),s=t("iHxaG"),a=t("6LBkm"),l=t("8lcnQ"),p=t("7X4gL");function u(e,t,r){r*=.5;const o=Math.sin(r);return e[0]=o*t[0],e[1]=o*t[1],e[2]=o*t[2],e[3]=Math.cos(r),e}function y(e,t){const r=2*Math.acos(t[3]),o=Math.sin(r/2);return o>(0,a.g)()?(e[0]=t[0]/o,e[1]=t[1]/o,e[2]=t[2]/o):(e[0]=1,e[1]=0,e[2]=0),r}function d(e,t,r){const o=t[0],i=t[1],n=t[2],s=t[3],a=r[0],l=r[1],p=r[2],u=r[3];return e[0]=o*u+s*a+i*p-n*l,e[1]=i*u+s*l+n*a-o*p,e[2]=n*u+s*p+o*l-i*a,e[3]=s*u-o*a-i*l-n*p,e}function c(e,t,r,o){const i=t[0],n=t[1],s=t[2],l=t[3];let p,u,y,d,c,f=r[0],h=r[1],g=r[2],b=r[3];return u=i*f+n*h+s*g+l*b,u<0&&(u=-u,f=-f,h=-h,g=-g,b=-b),1-u>(0,a.g)()?(p=Math.acos(u),y=Math.sin(p),d=Math.sin((1-o)*p)/y,c=Math.sin(o*p)/y):(d=1-o,c=o),e[0]=d*i+c*f,e[1]=d*n+c*h,e[2]=d*s+c*g,e[3]=d*l+c*b,e}function f(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function h(e,t){const r=t[0]+t[4]+t[8];let o;if(r>0)o=Math.sqrt(r+1),e[3]=.5*o,o=.5/o,e[0]=(t[5]-t[7])*o,e[1]=(t[6]-t[2])*o,e[2]=(t[1]-t[3])*o;else{let r=0;t[4]>t[0]&&(r=1),t[8]>t[3*r+r]&&(r=2);const i=(r+1)%3,n=(r+2)%3;o=Math.sqrt(t[3*r+r]-t[3*i+i]-t[3*n+n]+1),e[r]=.5*o,o=.5/o,e[3]=(t[3*i+n]-t[3*n+i])*o,e[i]=(t[3*i+r]+t[3*r+i])*o,e[n]=(t[3*n+r]+t[3*r+n])*o}return e}function g(e,t,r,o){const i=.5*Math.PI/180;t*=i,r*=i,o*=i;const n=Math.sin(t),s=Math.cos(t),a=Math.sin(r),l=Math.cos(r),p=Math.sin(o),u=Math.cos(o);return e[0]=n*l*u-s*a*p,e[1]=s*a*u+n*l*p,e[2]=s*l*p-n*a*u,e[3]=s*l*u+n*a*p,e}const b=p.c,v=p.s,m=p.a,S=d,I=p.b,_=p.d,T=p.l,x=p.e,O=x,N=p.f,A=N,F=p.n,E=p.g,M=p.h;const w=(0,s.c)(),L=(0,s.f)(1,0,0),j=(0,s.f)(0,1,0);const P=(0,n.a)(),R=(0,n.a)();const C=(0,i.c)();Object.freeze(Object.defineProperty({__proto__:null,add:m,calculateW:function(e,t){const r=t[0],o=t[1],i=t[2];return e[0]=r,e[1]=o,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-o*o-i*i)),e},conjugate:f,copy:b,dot:_,equals:M,exactEquals:E,fromEuler:g,fromMat3:h,getAxisAngle:y,identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},invert:function(e,t){const r=t[0],o=t[1],i=t[2],n=t[3],s=r*r+o*o+i*i+n*n,a=s?1/s:0;return e[0]=-r*a,e[1]=-o*a,e[2]=-i*a,e[3]=n*a,e},len:O,length:x,lerp:T,mul:S,multiply:d,normalize:F,random:function(e){const t=a.R,r=t(),o=t(),i=t(),n=Math.sqrt(1-r),s=Math.sqrt(r);return e[0]=n*Math.sin(2*Math.PI*o),e[1]=n*Math.cos(2*Math.PI*o),e[2]=s*Math.sin(2*Math.PI*i),e[3]=s*Math.cos(2*Math.PI*i),e},rotateX:function(e,t,r){r*=.5;const o=t[0],i=t[1],n=t[2],s=t[3],a=Math.sin(r),l=Math.cos(r);return e[0]=o*l+s*a,e[1]=i*l+n*a,e[2]=n*l-i*a,e[3]=s*l-o*a,e},rotateY:function(e,t,r){r*=.5;const o=t[0],i=t[1],n=t[2],s=t[3],a=Math.sin(r),l=Math.cos(r);return e[0]=o*l-n*a,e[1]=i*l+s*a,e[2]=n*l+o*a,e[3]=s*l-i*a,e},rotateZ:function(e,t,r){r*=.5;const o=t[0],i=t[1],n=t[2],s=t[3],a=Math.sin(r),l=Math.cos(r);return e[0]=o*l+i*a,e[1]=i*l-o*a,e[2]=n*l+s*a,e[3]=s*l-n*a,e},rotationTo:function(e,t,r){const o=(0,l.e)(t,r);return o<-.999999?((0,l.f)(w,L,t),(0,l.u)(w)<1e-6&&(0,l.f)(w,j,t),(0,l.n)(w,w),u(e,w,Math.PI),e):o>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):((0,l.f)(w,t,r),e[0]=w[0],e[1]=w[1],e[2]=w[2],e[3]=1+o,F(e,e))},scale:I,set:v,setAxes:function(e,t,r,o){const i=C;return i[0]=r[0],i[3]=r[1],i[6]=r[2],i[1]=o[0],i[4]=o[1],i[7]=o[2],i[2]=-t[0],i[5]=-t[1],i[8]=-t[2],F(e,h(e,i))},setAxisAngle:u,slerp:c,sqlerp:function(e,t,r,o,i,n){return c(P,t,i,n),c(R,r,o,n),c(e,P,R,2*n*(1-n)),e},sqrLen:A,squaredLength:N,str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}},Symbol.toStringTag,{value:"Module"}))})),t.register("6MY4j",(function(t,r){function o(){return[0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3]]}function n(e,t){return new Float64Array(e,t,4)}e(t.exports,"a",(function(){return o})),e(t.exports,"b",(function(){return i})),e(t.exports,"c",(function(){return n})),e(t.exports,"I",(function(){return s}));const s=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:o,createView:n,fromValues:function(e,t,r,o){return[e,t,r,o]}},Symbol.toStringTag,{value:"Module"}))})),t.register("iYitI",(function(r,o){e(r.exports,"updateOrigins",(function(){return n}));var i=t("fMNx8");function n(e){e&&e.writtenProperties&&e.writtenProperties.forEach((({target:e,propName:t,newOrigin:r})=>{(0,i.isMultiOriginJSONMixin)(e)&&r&&e.originOf(t)!==r&&e.updateOrigin(t,r)}))}})),t.register("fMNx8",(function(t,r){function o(e){return e&&"getAtOrigin"in e&&"originOf"in e}e(t.exports,"isMultiOriginJSONMixin",(function(){return o}))})),t.register("bQCak",(function(t,r){function o(){return new Float32Array(3)}function i(e){const t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function n(e,t,r){const o=new Float32Array(3);return o[0]=e,o[1]=t,o[2]=r,o}function s(e,t){return new Float32Array(e,t,3)}function a(){return o()}function l(){return n(1,1,1)}function p(){return n(1,0,0)}function u(){return n(0,1,0)}function y(){return n(0,0,1)}e(t.exports,"c",(function(){return o})),e(t.exports,"b",(function(){return i})),e(t.exports,"f",(function(){return n})),e(t.exports,"a",(function(){return s}));const d=a(),c=l(),f=p(),h=u(),g=y();Object.freeze(Object.defineProperty({__proto__:null,ONES:c,UNIT_X:f,UNIT_Y:h,UNIT_Z:g,ZEROS:d,clone:i,create:o,createView:s,fromValues:n,ones:l,unitX:p,unitY:u,unitZ:y,zeros:a},Symbol.toStringTag,{value:"Module"}))})),t.register("eqOsa",(function(r,o){e(r.exports,"create",(function(){return s})),e(r.exports,"copy",(function(){return a})),e(r.exports,"fromPoints",(function(){return p})),e(r.exports,"normal",(function(){return c})),e(r.exports,"signedDistance",(function(){return d})),e(r.exports,"clip",(function(){return u})),e(r.exports,"clipInfinite",(function(){return y}));t("8TN87");var i=t("8lcnQ"),n=t("iHxaG");t("ie8rn"),t("3pr9a"),t("hjHdJ"),t("4DBqT");function s(e=f){return[e[0],e[1],e[2],e[3]]}function a(e,t){return l(t[0],t[1],t[2],t[3],e)}function l(e,t,r,o,i=s()){return i[0]=e,i[1]=t,i[2]=r,i[3]=o,i}function p(e,t,r,o=s()){const i=r[0]-t[0],n=r[1]-t[1],a=r[2]-t[2],l=e[0]-t[0],p=e[1]-t[1],u=e[2]-t[2],y=n*u-a*p,d=a*l-i*u,c=i*p-n*l,f=y*y+d*d+c*c,h=Math.abs(f-1)>1e-5&&f>1e-12?1/Math.sqrt(f):1;return o[0]=y*h,o[1]=d*h,o[2]=c*h,o[3]=-(o[0]*e[0]+o[1]*e[1]+o[2]*e[2]),o}(0,n.c)(),(0,n.c)(),(0,n.c)(),(0,n.c)(),(0,n.c)();function u(e,t){const r=(0,i.e)(e,t.ray.direction),o=-d(e,t.ray.origin);if(o<0&&r>=0)return!1;if(r>-1e-6&&r<1e-6)return o>0;if((o<0||r<0)&&!(o<0&&r<0))return!0;const n=o/r;return r>0?n<t.c1&&(t.c1=n):n>t.c0&&(t.c0=n),t.c0<=t.c1}function y(e,t){const r=(0,i.e)(e,t.ray.direction),o=-d(e,t.ray.origin);if(r>-1e-6&&r<1e-6)return o>0;const n=o/r;return r>0?n<t.c1&&(t.c1=n):n>t.c0&&(t.c0=n),t.c0<=t.c1}function d(e,t){return(0,i.e)(e,t)+e[3]}function c(e){return e}const f=[0,0,1,0];var h,g;(g=h||(h={}))[g.NONE=0]="NONE",g[g.CLAMP=1]="CLAMP",g[g.INFINITE_MIN=4]="INFINITE_MIN",g[g.INFINITE_MAX=8]="INFINITE_MAX";h.INFINITE_MIN,h.INFINITE_MAX,h.INFINITE_MAX})),t.register("4DBqT",(function(r,o){e(r.exports,"tangentFrame",(function(){return s}));t("8TN87");var i=t("8lcnQ"),n=t("iHxaG");function s(e,t,r){Math.abs(e[0])>Math.abs(e[1])?(0,i.s)(t,0,1,0):(0,i.s)(t,1,0,0),(0,i.f)(r,e,t),(0,i.n)(t,t),(0,i.f)(t,r,e),(0,i.n)(r,r)}(0,n.c)(),(0,n.c)(),(0,n.c)(),(0,n.c)(),(0,n.c)()})),t.register("dQ2Qe",(function(r,o){e(r.exports,"ColorMixModeEnum",(function(){return i})),e(r.exports,"parseColorMixMode",(function(){return s}));var i,n;t("8TN87");function s(e){switch(e){case"multiply":default:return i.Multiply;case"ignore":return i.Ignore;case"replace":return i.Replace;case"tint":return i.Tint}}(n=i||(i={}))[n.Multiply=1]="Multiply",n[n.Ignore=2]="Ignore",n[n.Replace=3]="Replace",n[n.Tint=4]="Tint"})),t.register("2a7Au",(function(t,r){e(t.exports,"Attribute",(function(){return o}));class o{constructor(e,t,r=!1,o=t){this.data=e,this.size=t,this.exclusive=r,this.stride=o}}}));
//# sourceMappingURL=BuildingSceneLayer.4cff9529.js.map
