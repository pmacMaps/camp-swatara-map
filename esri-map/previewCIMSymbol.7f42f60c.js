function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("dgMXU",(function(n,r){e(n.exports,"previewCIMSymbol",(function(){return m}));var a=t("jCR4P"),i=t("1kN4D"),o=t("dxvsg"),s=t("2Yxj7"),l=t("3DOhA"),c=t("1dJvi");const u=new(0,o.CIMSymbolRasterizer)(null,!0),h=(0,a.px2pt)(l.SymbolSizeDefaults.size),f=(0,a.px2pt)(l.SymbolSizeDefaults.maxSize),g=(0,a.px2pt)(l.SymbolSizeDefaults.lineWidth);async function m(e,t={}){const{node:n,opacity:r,symbolConfig:l}=t,m=null!=l&&"object"==typeof l&&"isSquareFill"in l&&l.isSquareFill,d=t.cimOptions||t,p=d.geometryType||(0,s.mapCIMSymbolToGeometryType)(e?.data?.symbol),y=function(e){const t=e?.size;return"number"==typeof t?{width:t,height:t}:{width:null!=t&&"object"==typeof t&&"width"in t?t.width:null,height:null!=t&&"object"==typeof t&&"height"in t?t.height:null}}(t),{feature:w,fieldMap:b}=d;if(null==y.width||null==y.height){const t=await i.OverrideHelper.resolveSymbolOverrides(e.data,w,null,b,p);if(!t)return null;(e=e.clone()).data={type:"CIMSymbolReference",symbol:t},e.data.primitiveOverrides=void 0;const n=[];i.CIMSymbolHelper.fetchResources(t,u.resourceManager,n),i.CIMSymbolHelper.fetchFonts(t,u.resourceManager,n),n.length>0&&await Promise.all(n);const r=i.CIMSymbolHelper.getEnvelope(t,null,u.resourceManager),a=r?.width,o=r?.height;y.width="esriGeometryPolygon"===p?h:"esriGeometryPolyline"===p?g:null!=a&&isFinite(a)?Math.min(a,f):h,y.height="esriGeometryPolygon"===p?h:null!=o&&isFinite(o)?Math.max(Math.min(o,f),1):h}const x=await u.rasterizeCIMSymbolAsync(e,w,y,m||"esriGeometryPolygon"!==p?o.GeometryStyle.Preview:o.GeometryStyle.Legend,b,p);if(!x)return null;const{width:v,height:C}=x,M=document.createElement("canvas");M.width=v,M.height=C,M.getContext("2d").putImageData(x,0,0);const S=(0,a.pt2px)(y.width),P=(0,a.pt2px)(y.height),F=new Image(S,P);F.src=M.toDataURL(),F.ariaLabel=t.ariaLabel??null,F.alt=t.ariaLabel??"",null!=r&&(F.style.opacity=`${r}`);let T=F;if(null!=t.effectView){const e={shape:{type:"image",x:0,y:0,width:S,height:P,src:F.src},fill:null,stroke:null,offset:[0,0]};T=(0,c.renderSymbol)([[e]],[S,P],{effectView:t.effectView,ariaLabel:t.ariaLabel})}return n&&T&&n.appendChild(T),T}})),t.register("dxvsg",(function(n,r){e(n.exports,"GeometryStyle",(function(){return a})),e(n.exports,"CIMSymbolRasterizer",(function(){return v}));var a,i,o=t("hJt7u"),s=t("bYA0c"),l=t("1CpCt"),c=t("lHg4e"),u=t("jCR4P"),h=t("9LGQK"),f=t("3wo8n"),g=t("khzw4"),m=t("1kN4D"),d=t("fVrYx"),p=t("gL81R"),y=t("2Yxj7"),w=t("cctKA"),b=t("1Ctpz");(i=a||(a={})).Legend="legend",i.Preview="preview";const x=e=>e&&e.scaleFactor?e.scaleFactor:1;class v{get resourceManager(){return this._cimResourceManager}async rasterizeCIMSymbolAsync(e,t,n,r,a,i,o,s){if(!e)return null;const{data:l}=e;if(!l||"CIMSymbolReference"!==l.type||!l.symbol)return null;const{symbol:c}=l;i||(i=(0,y.mapCIMSymbolToGeometryType)(c));const u=await m.OverrideHelper.resolveSymbolOverrides(l,t,this._spatialReference,a,i,o,s);this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const h=this._imageDataCanvas,f=this._cimResourceManager,d=[];m.CIMSymbolHelper.fetchResources(u,f,d),m.CIMSymbolHelper.fetchFonts(u,f,d),d.length>0&&await Promise.all(d);const{width:p,height:w}=n,b=function(e,t,n,r){const a=1,i=-t/2+a,o=t/2-a,s=n/2-a,l=-n/2+a;switch(e){case"esriGeometryPoint":return{x:0,y:0};case"esriGeometryPolyline":return{paths:[[[i,0],[0,0],[o,0]]]};default:return"legend"===r?{rings:[[[i,s],[o,0],[o,l],[i,l],[i,s]]]}:{rings:[[[i,s],[o,s],[o,l],[i,l],[i,s]]]}}}(i,p,w,r),x=m.CIMSymbolHelper.getEnvelope(u,b,f);if(!x)return null;const v=1.3333333333333333*(window.devicePixelRatio||1);let C=1,M=0,S=0;switch(c.type){case"CIMPointSymbol":case"CIMTextSymbol":{let e=1;x.width>p&&(e=p/x.width);let t=1;x.height>w&&(t=w/x.height),"preview"===r&&(x.width<p&&(e=p/x.width),x.height<w&&(t=w/x.height)),C=Math.min(e,t),M=x.x+x.width/2,S=x.y+x.height/2}break;case"CIMLineSymbol":{let e=1;x.height>w&&(e=w/x.height),C=e,S=x.y+x.height/2;const t=x.x*C+p/2,n=(x.x+x.width)*C+p/2;if(t<0){const{paths:e}=b;e[0][0][0]-=t}if(n>p){const{paths:e}=b;e[0][2][0]-=n-p}}break;case"CIMPolygonSymbol":{M=x.x+x.width/2,S=x.y+x.height/2;const e=x.x*C+p/2,t=(x.x+x.width)*C+p/2,n=x.y*C+w/2,r=(x.y+x.height)*C+w/2,{rings:a}=b;e<0&&(a[0][0][0]-=e,a[0][3][0]-=e,a[0][4][0]-=e),n<0&&(a[0][0][1]+=n,a[0][1][1]+=n,a[0][4][1]+=n),t>p&&(a[0][1][0]-=t-p,a[0][2][0]-=t-p),r>w&&(a[0][2][1]+=r-w,a[0][3][1]+=r-w)}}h.width=p*v,h.height=w*v;h.width+=2,h.height+=2;const P=h.getContext("2d"),F=g.Transformation.createIdentity();return F.translate(-M,-S),F.scale(C*v,-C*v),F.translate(p*v/2+1,w*v/2+1),P.clearRect(0,0,h.width,h.height),new(0,g.CanvasDrawHelper)(P,f,F,!0).drawSymbol(u,b),P.getImageData(0,0,h.width,h.height)}async analyzeCIMSymbol3D(e,t,n,r,a){const i=[],o=t?{geometryType:r,spatialReference:this._spatialReference,fields:t}:null,s=[];m.CIMSymbolHelper.fetchFonts(e.data.symbol,this._cimResourceManager,s),await Promise.all(s);const l=new(0,h.CIMAnalyzer)(this._cimResourceManager,o);let u;await l.analyzeSymbolReference(e.data,this._avoidSDF,i),(0,c.throwIfAborted)(a);for(const e of i)"CIMPictureMarker"!==e.cim.type&&"CIMPictureFill"!==e.cim.type&&"CIMPictureStroke"!==e.cim.type||(u||(u=[]),u.push(this._fetchPictureMarkerResource(e,a))),n&&"text"===e.type&&"string"==typeof e.text&&e.text.includes("[")&&(e.text=(0,y.createLabelOverrideFunction)(n,e.text,e.cim.textCase));return u&&await Promise.all(u),i}rasterizeCIMSymbol3D(e,t,n,r,a,i){const o=[];for(const s of e){r&&"function"==typeof r.scaleFactor&&(r.scaleFactor=r.scaleFactor(t,a,i));const e=this._getRasterizedResource(s,t,n,r,a,i);if(!e)continue;let l=0,c=e.anchorX||0,u=e.anchorY||0,h=!1,f=0,g=0;if("esriGeometryPoint"===n){const e=x(r);if(f=(0,y.evaluateValueOrFunction)(s.offsetX,t,a,i)*e||0,g=(0,y.evaluateValueOrFunction)(s.offsetY,t,a,i)*e||0,"marker"===s.type)l=(0,y.evaluateValueOrFunction)(s.rotation,t,a,i)||0,h=s.rotateClockwise??!1;else if("text"===s.type){if(l=(0,y.evaluateValueOrFunction)(s.angle,t,a,i)||0,void 0!==s.horizontalAlignment)switch(s.horizontalAlignment){case"left":c=-.5;break;case"right":c=.5;break;default:c=0}if(void 0!==s.verticalAlignment)switch(s.verticalAlignment){case"top":u=.5;break;case"bottom":u=-.5;break;case"baseline":u=-.25;break;default:u=0}}}null!=e&&o.push({angle:l,rotateClockWise:h,anchorX:c,anchorY:u,offsetX:f,offsetY:g,rasterizedResource:e})}return this.getSymbolImage(o)}getSymbolImage(e){const t=document.createElement("canvas"),n=(0,l.unwrapOrThrow)(t.getContext("2d"));let r=0,a=0,i=0,o=0;const s=[];for(let t=0;t<e.length;t++){const l=e[t],c=l.rasterizedResource;if(!c)continue;const h=c.size,f=l.offsetX,g=l.offsetY,m=l.anchorX,d=l.anchorY,p=l.rotateClockWise||!1;let y=l.angle,w=(0,u.pt2px)(f)-h[0]*(.5+m),b=(0,u.pt2px)(g)-h[1]*(.5+d),x=w+h[0],v=b+h[1];if(y){p&&(y=-y);const e=Math.sin(y*Math.PI/180),t=Math.cos(y*Math.PI/180),n=w*t-b*e,r=w*e+b*t,a=w*t-v*e,i=w*e+v*t,o=x*t-v*e,s=x*e+v*t,l=x*t-b*e,c=x*e+b*t;w=Math.min(n,a,o,l),b=Math.min(r,i,s,c),x=Math.max(n,a,o,l),v=Math.max(r,i,s,c)}r=w<r?w:r,a=b<a?b:a,i=x>i?x:i,o=v>o?v:o;const C=n.createImageData(c.size[0],c.size[1]);C.data.set(new Uint8ClampedArray(c.image.buffer));const M={offsetX:f,offsetY:g,rotateClockwise:p,angle:y,rasterizedImage:C,anchorX:m,anchorY:d};s.push(M)}t.width=i-r,t.height=o-a;const c=-r,h=o;for(let e=0;e<s.length;e++){const t=s[e],r=this._imageDataToCanvas(t.rasterizedImage),a=t.rasterizedImage.width,i=t.rasterizedImage.height,o=c-a*(.5+t.anchorX),l=h-i*(.5-t.anchorY);if(t.angle){const e=(360-t.angle)*Math.PI/180;n.save(),n.translate((0,u.pt2px)(t.offsetX),-(0,u.pt2px)(t.offsetY)),n.translate(c,h),n.rotate(e),n.translate(-c,-h),n.drawImage(r,o,l),n.restore()}else n.drawImage(r,o+(0,u.pt2px)(t.offsetX),l-(0,u.pt2px)(t.offsetY))}const f=new(0,b.Symbol3DAnchorPosition2D)({x:c/t.width-.5,y:h/t.height-.5});return{imageData:0!==t.width&&0!==t.height?n.getImageData(0,0,t.width,t.height):n.createImageData(1,1),anchorPosition:f}}async _fetchPictureMarkerResource(e,t){const n=e.materialHash;if(!this._pictureMarkerCache.get(n)){const r=(await(0,s.default)(e.cim.url,{responseType:"image",signal:t&&t.signal})).data;this._pictureMarkerCache.set(n,r)}}_imageDataToCanvas(e){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const t=this._imageDataCanvas,n=(0,l.unwrapOrThrow)(t.getContext("2d"));return t.width=e.width,t.height=e.height,n.putImageData(e,0,0),t}_imageTo32Array(e,t,n,r){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const a=this._imageDataCanvas,i=(0,l.unwrapOrThrow)(a.getContext("2d"));if(a.width=t,a.height=n,i.drawImage(e,0,0,t,n),r){i.save();const a=new(0,o.default)(r);i.fillStyle=a.toHex(),i.globalCompositeOperation="multiply",i.fillRect(0,0,t,n),i.globalCompositeOperation="destination-atop",i.drawImage(e,0,0,t,n),i.restore()}return new Uint32Array(i.getImageData(0,0,t,n).data.buffer)}_getRasterizedResource(e,t,n,r,a,i){let o,s,c;if("text"===e.type)return this._rasterizeTextResource(e,t,r,a,i);({analyzedCIM:o,hash:s}=function(e,t,n,r){let a,i;"function"==typeof e.materialHash?(a=(0,e.materialHash)(t,n,r),i=(0,h.analyzeCIMResource)(e.cim,e.materialOverrides)):(a=e.materialHash,i=e.cim);return{analyzedCIM:i,hash:a}}(e,t,a,i));const u=x(r);if("CIMPictureMarker"===e.cim.type){const n=(0,y.evaluateValueOrFunction)(e.size,t,a,i)*u,{image:r,width:o,height:s}=(0,l.unwrapOrThrow)(this._getPictureResource(e,n,(0,y.evaluateValueOrFunction)(e.color,t,a,i)));return c={image:r,size:[o,s],sdf:!1,simplePattern:!1,anchorX:e.anchorPoint?e.anchorPoint.x:0,anchorY:e.anchorPoint?e.anchorPoint.y:0},c}(0,w.scaleCIMMarker)(o,u,{preserveOutlineWidth:!1});const f=o;s+=n,r&&(s+=JSON.stringify(r));const g=this._resourceCache;return g.has(s)?g.get(s):(c=this._rasterizer.rasterizeJSONResource({cim:f,type:e.type,url:e.url,mosaicHash:s,size:null,path:null},window.devicePixelRatio||1,this._avoidSDF),g.set(s,c),c)}_rasterizeTextResource(e,t,n,r,a){const i=x(n),o=(0,y.evaluateValueOrFunction)(e.text,t,r,a);if(!o||0===o.length)return null;const s=e.cim,l=(0,y.evaluateValueOrFunction)(s?.fontFamilyName||e.fontName,t,r,a),c=(0,y.evaluateValueOrFunction)(s?.font?.style||e.style,t,r,a),u=(0,y.evaluateValueOrFunction)(s?.font?.weight||e.weight,t,r,a),h=(0,y.evaluateValueOrFunction)(s?.font?.decoration||e.decoration,t,r,a),f=(0,y.evaluateValueOrFunction)(e.size,t,r,a)*i,g=(0,y.evaluateValueOrFunction)(e.horizontalAlignment,t,r,a),m=(0,y.evaluateValueOrFunction)(e.verticalAlignment,t,r,a),d=(0,y.colorToArray)((0,y.evaluateValueOrFunction)(e.color,t,r,a)),p=(0,y.colorToArray)((0,y.evaluateValueOrFunction)(e.outlineColor,t,r,a)),w=(0,y.evaluateValueOrFunction)(e.outlineSize,t,r,a),b=null!=e.backgroundColor?(0,y.colorToArray)(e.backgroundColor):null,v=null!=e.borderLineColor?(0,y.colorToArray)(e.borderLineColor):null,C=null!=e.borderLineWidth?e.borderLineWidth:null,M={color:d,size:f,horizontalAlignment:g,verticalAlignment:m,font:{family:l,style:c,weight:u,decoration:h},halo:{size:w||0,color:p,style:c},backgroundColor:b,borderLine:null!=v&&null!=C?{color:v,size:C}:null,pixelRatio:1,premultiplyColors:!this._avoidSDF};return this._textRasterizer.rasterizeText(o,M)}_getPictureResource(e,t,n){const r=this._pictureMarkerCache.get(e.materialHash);if(!r)return null;const a=r.height/r.width,i=t?a>1?(0,u.pt2px)(t):(0,u.pt2px)(t)/a:r.width,o=t?a>1?(0,u.pt2px)(t)*a:(0,u.pt2px)(t):r.height;return{image:this._imageTo32Array(r,i,o,n),width:i,height:o}}constructor(e,t){this._spatialReference=e,this._avoidSDF=t,this._resourceCache=new Map,this._imageDataCanvas=null,this._pictureMarkerCache=new Map,this._textRasterizer=new(0,p.default),this._cimResourceManager=new(0,f.default),this._rasterizer=new(0,d.default)(this._cimResourceManager)}}})),t.register("3wo8n",(function(n,r){e(n.exports,"default",(function(){return h}));var a=t("bYA0c"),i=t("bPmsI"),o=t("elBeQ"),s=t("lHg4e"),l=t("80PPu"),c=t("j3xRV"),u=t("hizZ9");class h{destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(e){return this._resourceMap.get(e)??null}async fetchResource(e,t){const n=this._resourceMap.get(e);if(n)return{width:n.width,height:n.height};let r=this._inFlightResourceMap.get(e);return r?r.then((e=>({width:e.width,height:e.height}))):(r=async function(e,t){const{arrayBuffer:n,mediaType:r}=await async function(e,t){let n;const r=";base64,";if(e.includes(r)){const t=e.indexOf(r),a=e.indexOf(r)+r.length,i=e.substring(a);n={arrayBuffer:(0,l.base64ToArrayBuffer)(i),mediaType:e.substring(0,t).replace("data:","")}}else try{const r=await(0,a.default)(e,{responseType:"array-buffer",...t});n={arrayBuffer:r.data,mediaType:r.getHeader("Content-Type")}}catch(t){if(!(0,s.isAbortError)(t))throw new(0,i.default)("mapview-invalid-resource",`Could not fetch requested resource at ${e}`)}return n}(e,t),o="image/png"===r;return"image/gif"===r&&(0,u.isAnimatedGIF)(n)?(0,u.parseGif)(n):o&&(0,c.isAnimatedPNG)(n)?(0,c.parseApng)(n,t):async function(e,t){const n=window.URL.createObjectURL(e);try{const{data:e}=await(0,a.default)(n,{...t,responseType:"image"});return e}catch(e){if(!(0,s.isAbortError)(e))throw new(0,i.default)("mapview-invalid-resource",`Could not fetch requested resource at ${n}`);throw e}finally{window.URL.revokeObjectURL(n)}}(new Blob([n],{type:r}),t)}(e,t),this._inFlightResourceMap.set(e,r),r.then((t=>(this._inFlightResourceMap.delete(e),this._resourceMap.set(e,t),{width:t.width,height:t.height})),(()=>({width:0,height:0}))))}deleteResource(e){this._inFlightResourceMap.delete(e),this._resourceMap.delete(e)}loadFont(e){return(0,o.loadFont)(e)}constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}}})),t.register("elBeQ",(function(n,r){e(n.exports,"DEFAULT_FONT_FAMILY",(function(){return i})),e(n.exports,"loadFont",(function(){return c})),e(n.exports,"getFullyQualifiedFontName",(function(){return h})),e(n.exports,"getFontFamily",(function(){return u}));var a=t("9XPDd");const i="arial-unicode-ms",o=new Map,s=new Set;class l{constructor(e,t){this.fontFace=e,this.promise=t}}async function c(e){const t=h(e),n=o.get(t);if(n)return n.promise;const r=new FontFace(e.family,`url('${a.default.fontsUrl}/woff2/${t}.woff2') format('woff2')`,{style:e.style,weight:e.weight}),i=document.fonts;if(i.has(r)&&"loading"===r.status)return r.loaded;const c=r.load().then((()=>(i.add(r),r)));return o.set(t,new l(r,c)),s.add(r),c}function u(e){if(!e)return i;const t=e.toLowerCase().split(" ").join("-");switch(t){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return t}}function h(e){const t=function(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}(e)+function(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}(e);return u(e.family)+(t.length>0?t:"-regular")}})),t.register("j3xRV",(function(n,r){e(n.exports,"parseApng",(function(){return s})),e(n.exports,"isAnimatedPNG",(function(){return c}));var a=t("6o2l3"),i=t("lHg4e"),o=t("bK3iM");async function s(e,t){const n=(0,a.p)(e);if(n instanceof Error)throw n;await n.createImages(),(0,i.throwIfAborted)(t);const{frames:r,width:s,height:l}=n,c=document.createElement("canvas");c.width=s,c.height=l;const u=c.getContext("2d",{willReadFrequently:!0}),h=[],f=[];for(const e of r){f.push((0,o.Milliseconds)(e.delay||100));const t=e.imageElement;0===e.blendOp?u.globalCompositeOperation="copy":u.globalCompositeOperation="source-over";const n=2===e.disposeOp?u.getImageData(e.left,e.top,e.width,e.height):void 0;u.drawImage(t,e.left,e.top);const r=u.getImageData(0,0,s,l);h.push(r),0===e.disposeOp||(1===e.disposeOp?u.clearRect(e.left,e.top,e.width,e.height):2===e.disposeOp&&u.putImageData(n,e.left,e.top))}return{frameDurations:f,getFrame:e=>h[e],width:s,height:l}}const l=[137,80,78,71,13,10,26,10];function c(e){if(!function(e){const t=new Uint8Array(e);return!l.some(((e,n)=>e!==t[n]))}(e))return!1;const t=new DataView(e),n=new Uint8Array(e);let r,a=8;do{const e=t.getUint32(a);if(r=String.fromCharCode.apply(String,Array.prototype.slice.call(n.subarray(a+4,a+8))),"acTL"===r)return!0;a+=12+e}while("IEND"!==r&&a<n.length);return!1}})),t.register("hizZ9",(function(n,r){e(n.exports,"parseGif",(function(){return s})),e(n.exports,"isAnimatedGIF",(function(){return c}));var a=t("bK3iM"),i=t("6AWPx"),o=t("dpX2R");async function s(e,t){const n=(0,o.p)(e),r=(0,o.d)(n,!0),{width:s,height:l}=n.lsd,c=document.createElement("canvas");c.width=s,c.height=l;const u=c.getContext("2d",{willReadFrequently:!0}),h=[],f=[];for(const e of r){f.push((0,a.Milliseconds)(e.delay||100));const t=new ImageData(e.patch,e.dims.width,e.dims.height),n=(0,i.imageTypeToCanvas)(t),r=3===e.disposalType?u.getImageData(e.dims.left,e.dims.top,e.dims.width,e.dims.height):void 0;u.drawImage(n,e.dims.left,e.dims.top);const o=u.getImageData(0,0,s,l);h.push(o),1===e.disposalType||(2===e.disposalType?u.clearRect(e.dims.left,e.dims.top,e.dims.width,e.dims.height):3===e.disposalType&&u.putImageData(r,e.dims.left,e.dims.top))}return{frameDurations:f,getFrame:e=>h[e],width:s,height:l}}const l=[71,73,70];function c(e){if(!function(e){const t=new Uint8Array(e);return!l.some(((e,n)=>e!==t[n]))}(e))return!1;const t=new DataView(e),n=t.getUint8(10);let r=13+(128&n?3*2**(1+(7&n)):0),a=0,i=!1;for(;!i;){switch(t.getUint8(r++)){case 33:if(!o())return!1;break;case 44:s();break;case 59:i=!0;break;default:return!1}if(a>1)return!0}function o(){switch(t.getUint8(r++)){case 249:r++,r+=4,c();break;case 1:a++,r++,r+=12,c();break;case 254:c();break;case 255:r++,r+=8,r+=3,c();break;default:return!1}return!0}function s(){a++,r+=8;const e=t.getUint8(r++);r+=128&e?3*2**(1+(7&e)):0,r++,c()}function c(){let e;for(;e=t.getUint8(r++);)r+=e}return!1}})),t.register("6AWPx",(function(n,r){e(n.exports,"imageToDataURI",(function(){return o})),e(n.exports,"imageTypeToCanvas",(function(){return l})),e(n.exports,"imageToArrayBuffer",(function(){return s})),e(n.exports,"encodeBase64DataUri",(function(){return c})),e(n.exports,"isArrayBufferPNG",(function(){return u})),t("5HTPH");var a=t("bPmsI"),i=t("7dRCe");function o(e){const t=l(e);return null!=t?t.toDataURL():""}async function s(e){const t=l(e);if(null==t)throw new(0,a.default)("imageToArrayBuffer","Unsupported image type");const n=await async function(e){if(!(e instanceof HTMLImageElement))return"image/png";const t=e.src;if((0,i.isDataProtocol)(t)){const e=(0,i.dataComponents)(t);return"image/jpeg"===e?.mediaType?e.mediaType:"image/png"}return/\.png$/i.test(t)?"image/png":/\.(jpg|jpeg)$/i.test(t)?"image/jpeg":"image/png"}(e),r=await new Promise((e=>t.toBlob(e,n)));if(!r)throw new(0,a.default)("imageToArrayBuffer","Failed to encode image");return{data:await r.arrayBuffer(),type:n}}function l(e){if(e instanceof HTMLCanvasElement)return e;if(e instanceof HTMLVideoElement)return null;const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");return e instanceof HTMLImageElement?n.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&n.putImageData(e,0,0),t}function c(e){const t=[],n=new Uint8Array(e);for(let e=0;e<n.length;e++)t.push(String.fromCharCode(n[e]));return"data:application/octet-stream;base64,"+btoa(t.join(""))}function u(e){if(e.byteLength<8)return!1;const t=new Uint8Array(e);return 137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7]}})),t.register("1kNSi",(function(n,r){e(n.exports,"toQuantizationTransform",(function(){return l})),e(n.exports,"quantizePoint",(function(){return y})),e(n.exports,"quantizeGeometry",(function(){return x})),e(n.exports,"unquantizeMultipoint",(function(){return v})),e(n.exports,"unquantizePoint",(function(){return C})),e(n.exports,"unquantizePolygon",(function(){return M})),e(n.exports,"unquantizePolyline",(function(){return S}));var a=t("86d4E");const i=(e,t,n)=>[t,n],o=(e,t,n)=>[t,n,e[2]],s=(e,t,n)=>[t,n,e[2],e[3]];function l(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance]:[1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax]:[0,0]}:null}function c({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function u({scale:e,translate:t},n){return Math.round((t[1]-n)/e[1])}function h(e,t,n){const r=[];let a,i,o,s;for(let l=0;l<n.length;l++){const h=n[l];l>0?(o=c(e,h[0]),s=u(e,h[1]),o===a&&s===i||(r.push(t(h,o-a,s-i)),a=o,i=s)):(a=c(e,h[0]),i=u(e,h[1]),r.push(t(h,a,i)))}return r.length>0?r:null}function f({scale:e,translate:t},n){return n*e[0]+t[0]}function g({scale:e,translate:t},n){return t[1]-n*e[1]}function m(e,t,n){const r=new Array(n.length);if(!n.length)return r;const[a,i]=e.scale;let o=f(e,n[0][0]),s=g(e,n[0][1]);r[0]=t(n[0],o,s);for(let e=1;e<n.length;e++){const l=n[e];o+=l[0]*a,s-=l[1]*i,r[e]=t(l,o,s)}return r}function d(e,t,n){const r=new Array(n.length);for(let a=0;a<n.length;a++)r[a]=m(e,t,n[a]);return r}function p(e,t,n,r,a){return t.points=function(e,t,n,r){return h(e,n?r?s:o:r?o:i,t)}(e,n.points,r,a)??[],t}function y(e,t,n,r,a){return t.x=c(e,n.x),t.y=u(e,n.y),t!==n&&(r&&(t.z=n.z),a&&(t.m=n.m)),t}function w(e,t,n,r,a){const l=function(e,t,n,r){const a=[],l=n?r?s:o:r?o:i;for(let n=0;n<t.length;n++){const r=h(e,l,t[n]);r&&r.length>=3&&a.push(r)}return a.length?a:null}(e,n.rings,r,a);return l?(t.rings=l,t):null}function b(e,t,n,r,a){const l=function(e,t,n,r){const a=[],l=n?r?s:o:r?o:i;for(let n=0;n<t.length;n++){const r=h(e,l,t[n]);r&&r.length>=2&&a.push(r)}return a.length?a:null}(e,n.paths,r,a);return l?(t.paths=l,t):null}function x(e,t){return e&&t?(0,a.isPoint)(t)?y(e,{},t,!1,!1):(0,a.isPolyline)(t)?b(e,{},t,!1,!1):(0,a.isPolygon)(t)?w(e,{},t,!1,!1):(0,a.isMultipoint)(t)?p(e,{},t,!1,!1):(0,a.isExtent)(t)?(o=!1,s=!1,(r={}).xmin=c(n=e,(i=t).xmin),r.ymin=u(n,i.ymin),r.xmax=c(n,i.xmax),r.ymax=u(n,i.ymax),r!==i&&(o&&(r.zmin=i.zmin,r.zmax=i.zmax),s&&(r.mmin=i.mmin,r.mmax=i.mmax)),r):null:null;var n,r,i,o,s}function v(e,t,n,r,a){return null!=n&&(t.points=function(e,t,n,r){return m(e,n?r?s:o:r?o:i,t)}(e,n.points,r,a)),t}function C(e,t,n,r,a){return null==n||(t.x=f(e,n.x),t.y=g(e,n.y),t!==n&&(r&&(t.z=n.z),a&&(t.m=n.m))),t}function M(e,t,n,r,a){return null!=n&&(t.rings=function(e,t,n,r){return d(e,n?r?s:o:r?o:i,t)}(e,n.rings,r,a)),t}function S(e,t,n,r,a){return null!=n&&(t.paths=function(e,t,n,r){return d(e,n?r?s:o:r?o:i,t)}(e,n.paths,r,a)),t}})),t.register("bVIMy",(function(t,n){var r,a,i;function o(e){switch(e){case"left":return r.Left;case"right":return r.Right;case"center":return r.Center}}function s(e){switch(e){case"top":return a.Top;case"middle":return a.Center;case"baseline":return a.Baseline;case"bottom":return a.Bottom}}function l(e){switch(e){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[r.Right,a.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[r.Center,a.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[r.Left,a.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[r.Right,a.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[r.Center,a.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[r.Left,a.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[r.Right,a.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[r.Center,a.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[r.Left,a.Top];default:return console.debug(`Found invalid placement type ${e}`),[r.Center,a.Center]}}function c(e){switch(e){case r.Right:return-1;case r.Center:return 0;case r.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${e}`),0}}function u(e){switch(e){case a.Top:return 1;case a.Center:return 0;case a.Bottom:case a.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function h(e){switch(e){case"left":return r.Left;case"right":return r.Right;case"center":return r.Center}}function f(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}e(t.exports,"HAlign",(function(){return r})),e(t.exports,"VAlign",(function(){return a})),e(t.exports,"getXAnchorDirection",(function(){return o})),e(t.exports,"getYAnchorDirection",(function(){return s})),e(t.exports,"getAlignmentFromPlacement",(function(){return l})),e(t.exports,"getXDirection",(function(){return c})),e(t.exports,"getYDirection",(function(){return u})),e(t.exports,"getJustification",(function(){return h})),e(t.exports,"isMapAligned",(function(){return f})),(i=r||(r={}))[i.Left=-1]="Left",i[i.Center=0]="Center",i[i.Right=1]="Right",function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(a||(a={}))})),t.register("3mbeV",(function(t,n){e(t.exports,"u32to4Xu8",(function(){return a})),e(t.exports,"i1616to32",(function(){return i})),e(t.exports,"i8888to32",(function(){return o}));const r=new Float32Array(1);new Uint32Array(r.buffer);function a(e){return[255&e,(65280&e)>>>8,(16711680&e)>>>16,(4278190080&e)>>>24]}function i(e,t){return 65535&e|t<<16}function o(e,t,n,r){return 255&e|(255&t)<<8|(255&n)<<16|r<<24}})),t.register("VBsDH",(function(t,n){e(t.exports,"default",(function(){return r}));class r{get isEmpty(){return this.width<=0||this.height<=0}union(e){this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.width=Math.max(this.width,e.width),this.height=Math.max(this.height,e.height)}constructor(e=0,t=0,n=0,r=0){this.x=e,this.y=t,this.width=n,this.height=r}}})),t.register("9WeyL",(function(n,r){e(n.exports,"packFloatRGBA",(function(){return i})),e(n.exports,"unpackFloatRGBA",(function(){return o}));var a=t("8TN87");function i(e,t,n=0){const r=(0,a.clamp)(e,0,c);for(let e=0;e<4;e++)t[n+e]=Math.floor(256*((i=r*s[e])-Math.floor(i)));var i}function o(e,t=0){let n=0;for(let r=0;r<4;r++)n+=e[t+r]*l[r];return n}const s=[1,256,65536,16777216],l=[1/256,1/65536,1/16777216,1/4294967296],c=o(new Uint8ClampedArray([255,255,255,255]))})),t.register("iHmxI",(function(n,r){e(n.exports,"rasterizeSimpleFill",(function(){return o})),e(n.exports,"rasterizeDash",(function(){return s}));var a=t("9WeyL"),i=t("8TN87");function o(e,t,n){const r=(0,i.nextPowerOfTwo)(Math.ceil(n)),a=(e=>"vertical"===e||"horizontal"===e||"cross"===e||"esriSFSCross"===e||"esriSFSVertical"===e||"esriSFSHorizontal"===e)(t)?8*r:16*r,o=2*r;e.width=a,e.height=a;const s=e.getContext("2d");s.strokeStyle="#FFFFFF",s.lineWidth=r,s.beginPath(),"vertical"!==t&&"cross"!==t&&"esriSFSCross"!==t&&"esriSFSVertical"!==t||(s.moveTo(a/2,-o),s.lineTo(a/2,a+o)),"horizontal"!==t&&"cross"!==t&&"esriSFSCross"!==t&&"esriSFSHorizontal"!==t||(s.moveTo(-o,a/2),s.lineTo(a+o,a/2)),"forward-diagonal"!==t&&"diagonal-cross"!==t&&"esriSFSDiagonalCross"!==t&&"esriSFSForwardDiagonal"!==t||(s.moveTo(-o,-o),s.lineTo(a+o,a+o),s.moveTo(a-o,-o),s.lineTo(a+o,o),s.moveTo(-o,a-o),s.lineTo(o,a+o)),"backward-diagonal"!==t&&"diagonal-cross"!==t&&"esriSFSBackwardDiagonal"!==t&&"esriSFSDiagonalCross"!==t||(s.moveTo(a+o,-o),s.lineTo(-o,a+o),s.moveTo(o,-o),s.lineTo(-o,o),s.moveTo(a+o,a-o),s.lineTo(a-o,a+o)),s.stroke();const l=s.getImageData(0,0,e.width,e.height),c=new Uint8Array(l.data);let u;for(let e=0;e<c.length;e+=4)u=c[e+3]/255,c[e]=c[e]*u,c[e+1]=c[e+1]*u,c[e+2]=c[e+2]*u;return[c,e.width,e.height]}function s(e,t){const n="Butt"===t,r="Square"===t,i=!n&&!r;e.length%2==1&&(e=[...e,...e]);const o=15.5;let s=0;for(const t of e)s+=t;const l=Math.round(s*o),c=new Float32Array(31*l),u=7.75;let h=0,f=0,g=.5,m=!0;for(const t of e){for(h=f,f+=t*o;g<=f;){let e=.5;for(;e<31;){const t=(e-.5)*l+g-.5,a=i?(e-o)*(e-o):Math.abs(e-o);c[t]=m?n?Math.max(Math.max(h+u-g,a),Math.max(g-f+u,a)):a:i?Math.min((g-h)*(g-h)+a,(g-f)*(g-f)+a):r?Math.min(Math.max(g-h,a),Math.max(f-g,a)):Math.min(Math.max(g-h+u,a),Math.max(f+u-g,a)),e++}g++}m=!m}const d=c.length,p=new Uint8Array(4*d);for(let e=0;e<d;++e){const t=(i?Math.sqrt(c[e]):c[e])/o;(0,a.packFloatRGBA)(t,p,4*e)}return[p,l,31]}}));
//# sourceMappingURL=previewCIMSymbol.7f42f60c.js.map
