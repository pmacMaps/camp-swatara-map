{"mappings":"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","sources":["node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import a from\"../../../Graphic.js\";import{neverReached as r}from\"../../../core/compilerUtils.js\";import i from\"../../../core/Logger.js\";import{isSome as n,isNone as t}from\"../../../core/maybe.js\";import{meterIn as s}from\"../../support/lengthUtils.js\";import{isSizeVariable as o,isValidNumber as l,TransformationType as c,InputValueType as u}from\"./sizeVariableUtils.js\";const f=i.getLogger(\"esri.renderers.visualVariables.support.visualVariableUtils\"),p=new a,d=Math.PI,v=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i;function b(a,r,i){const t=\"visualVariables\"in a&&a.visualVariables?a.visualVariables.find((e=>\"color\"===e.type)):a;if(!t)return;if(\"esri.renderers.visualVariables.ColorVariable\"!==t.declaredClass)return void f.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable\");const s=\"number\"==typeof r,o=s?null:r,l=o&&o.attributes;let c=s?r:null;const u=t.field,{ipData:p,hasExpression:d}=t.cache;let v=t.cache.compiledFunc;if(!u&&!d){const e=t.stops;return e&&e[0]&&e[0].color}if(\"number\"!=typeof c)if(d){if(!n(i)||!n(i.arcade))return void f.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,r=a.getViewInfo(e),s=a.createExecContext(o,r);if(!v){const e=a.createSyntaxTree(t.valueExpression);v=a.createFunction(e),t.cache.compiledFunc=v}c=a.executeFunction(v,s)}else l&&(c=l[u]);const b=t.normalizationField,h=l?parseFloat(l[b]):void 0;if(null!=c&&(!b||s||!isNaN(h)&&0!==h)){isNaN(h)||s||(c/=h);const a=R(c,p);if(a){const r=a[0],s=a[1],o=r===s?t.stops[r].color:e.blendColors(t.stops[r].color,t.stops[s].color,a[2],n(i)?i.color:void 0);return new e(o)}}}function h(e,a,r){const i=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"opacity\"===e.type)):e;if(!i)return;if(\"esri.renderers.visualVariables.OpacityVariable\"!==i.declaredClass)return void f.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable\");const n=\"number\"==typeof a,s=n?null:a,o=s&&s.attributes;let l=n?a:null;const c=i.field,{ipData:u,hasExpression:p}=i.cache;let d=i.cache.compiledFunc;if(!c&&!p){const e=i.stops;return e&&e[0]&&e[0].opacity}if(\"number\"!=typeof l)if(p){if(t(r)||t(r.arcade))return void f.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},a=r.arcade.arcadeUtils,n=a.getViewInfo(e),o=a.createExecContext(s,n);if(!d){const e=a.createSyntaxTree(i.valueExpression);d=a.createFunction(e),i.cache.compiledFunc=d}l=a.executeFunction(d,o)}else o&&(l=o[c]);const v=i.normalizationField,b=o?parseFloat(o[v]):void 0;if(null!=l&&(!v||n||!isNaN(b)&&0!==b)){isNaN(b)||n||(l/=b);const e=R(l,u);if(e){const a=e[0],r=e[1];if(a===r)return i.stops[a].opacity;{const n=i.stops[a].opacity;return n+(i.stops[r].opacity-n)*e[2]}}}}function m(e,a,r){const i=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"rotation\"===e.type)):e;if(!i)return;if(\"esri.renderers.visualVariables.RotationVariable\"!==i.declaredClass)return void f.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable\");const n=i.axis||\"heading\",s=\"heading\"===n&&\"arithmetic\"===i.rotationType?90:0,o=\"heading\"===n&&\"arithmetic\"===i.rotationType?-1:1,l=\"number\"==typeof a?null:a,c=l&&l.attributes,u=i.field,{hasExpression:p}=i.cache;let d=i.cache.compiledFunc,v=0;if(!u&&!p)return v;if(p){if(t(r)||t(r.arcade))return void f.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},a=r.arcade.arcadeUtils,n=a.getViewInfo(e),s=a.createExecContext(l,n);if(!d){const e=a.createSyntaxTree(i.valueExpression);d=a.createFunction(e),i.cache.compiledFunc=d}v=a.executeFunction(d,s)}else c&&(v=c[u]||0);return v=\"number\"!=typeof v||isNaN(v)?null:s+o*v,v}function V(e,a,r){const i=\"number\"==typeof a,s=i?null:a,o=s&&s.attributes;let c=i?a:null;const{isScaleDriven:p}=e.cache;let d=e.cache.compiledFunc;if(p){const a=n(r)?r.scale:void 0,i=n(r)?r.view:void 0;c=null==a||\"3d\"===i?x(e):a}else if(!i)switch(e.inputValueType){case u.Expression:{if(t(r)||t(r.arcade))return void f.error(\"Use of arcade expressions requires an arcade context\");const a={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},i=r.arcade.arcadeUtils,n=i.getViewInfo(a),o=i.createExecContext(s,n);if(!d){const a=i.createSyntaxTree(e.valueExpression);d=i.createFunction(a),e.cache.compiledFunc=d}c=i.executeFunction(d,o);break}case u.Field:o&&(c=o[e.field]);break;case u.Unknown:c=null}if(!l(c))return null;if(i||!e.normalizationField)return c;const v=o?parseFloat(o[e.normalizationField]):null;return l(v)&&0!==v?c/v:null}function x(e){let a=null,r=null;const i=e.stops;return i?(a=i[0].value,r=i[i.length-1].value):(a=e.minDataValue||0,r=e.maxDataValue||0),(a+r)/2}function y(e,a,r){const i=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"size\"===e.type)):e;if(!i)return;if(\"esri.renderers.visualVariables.SizeVariable\"!==i.declaredClass)return void f.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable\");const n=M(V(i,a,r),i,a,r,i.cache.ipData);return null==n||isNaN(n)?0:n}function w(e,a,r){return null==e?null:o(e)?y(e,a,r):l(e)?e:null}function g(e,a,r){return l(r)&&e>r?r:l(a)&&e<a?a:e}function z(e,a,r,i){return e+(w(a.minSize,r,i)||a.minDataValue)}function F(e,a,r){const i=e.stops;let n=i&&i.length&&i[0].size;return null==n&&(n=e.minSize),w(n,a,r)}function S(e,a,r,i){const t=(e-a.minDataValue)/(a.maxDataValue-a.minDataValue),s=w(a.minSize,r,i),o=w(a.maxSize,r,i),l=n(i)?i.shape:void 0;if(e<=a.minDataValue)return s;if(e>=a.maxDataValue)return o;if(\"area\"===a.scaleBy&&l){const e=\"circle\"===l,a=e?d*(s/2)**2:s*s,r=a+t*((e?d*(o/2)**2:o*o)-a);return e?2*Math.sqrt(r/d):Math.sqrt(r)}return s+t*(o-s)}function E(e,a,r,i){const t=n(i)?i.shape:void 0,s=e/a.minDataValue,o=w(a.minSize,r,i),l=w(a.maxSize,r,i);let c=null;return c=\"circle\"===t?2*Math.sqrt(s*(o/2)**2):\"square\"===t||\"diamond\"===t||\"image\"===t?Math.sqrt(s*o**2):s*o,g(c,o,l)}function U(e,a,r,i,n){const[t,s,o]=R(e,n);if(t===s)return w(a.stops[t].size,r,i);{const e=w(a.stops[t].size,r,i);return e+(w(a.stops[s].size,r,i)-e)*o}}function C(e,a,r,i){const t=(n(i)&&i.resolution?i.resolution:1)*s[a.valueUnit],o=w(a.minSize,r,i),l=w(a.maxSize,r,i),{valueRepresentation:c}=a;let u=null;return u=\"area\"===c?2*Math.sqrt(e/d)/t:\"radius\"===c||\"distance\"===c?2*e/t:e/t,g(u,o,l)}function D(e){return e}function M(e,a,r,i,n){switch(a.transformationType){case c.Additive:return z(e,a,r,i);case c.Constant:return F(a,r,i);case c.ClampedLinear:return S(e,a,r,i);case c.Proportional:return E(e,a,r,i);case c.Stops:return U(e,a,r,i,n);case c.RealWorldSize:return C(e,a,r,i);case c.Identity:return D(e);case c.Unknown:return null}}function k(e,a,r){const{isScaleDriven:i}=e.cache;if(!(i&&\"3d\"===r||a))return null;const n={scale:a,view:r};let t=w(e.minSize,p,n),s=w(e.maxSize,p,n);if(null!=t||null!=s){if(t>s){const e=s;s=t,t=e}return{minSize:t,maxSize:s}}}function N(e,a,r){if(!e.visualVariables)return;const i=[],n=[],t=[],s=[],o=[];for(const l of e.visualVariables)switch(l.type){case\"color\":n.push(l);break;case\"opacity\":t.push(l);break;case\"rotation\":o.push(l);break;case\"size\":s.push(l)}return n.forEach((e=>{const n=b(e,a,r);i.push({variable:e,value:n})})),t.forEach((e=>{const n=h(e,a,r);i.push({variable:e,value:n})})),o.forEach((e=>{const n=m(e,a,r);i.push({variable:e,value:n})})),s.forEach((e=>{const n=y(e,a,r);i.push({variable:e,value:n})})),i.filter((e=>null!=e.value))}function R(e,a){if(!a)return;let r=0,i=a.length-1;return a.some(((a,n)=>e<a?(i=n,!0):(r=n,!1))),[r,i,(e-a[r])/(a[i]-a[r])]}function T(e,a,i){const n=[\"proportional\",\"proportional\",\"proportional\"];for(const t of e){const e=t.useSymbolValue?\"symbol-value\":y(t,a,i);switch(t.axis){case\"width\":n[0]=e;break;case\"depth\":n[1]=e;break;case\"height\":n[2]=e;break;case\"width-and-depth\":n[0]=e,n[1]=e;break;case\"all\":case void 0:case null:n[0]=e,n[1]=e,n[2]=e;break;default:r(t.axis)}}return n}export{T as getAllSizes,b as getColor,h as getOpacity,m as getRotationAngle,y as getSize,M as getSizeForValue,w as getSizeFromNumberOrVariable,k as getSizeRangeAtScale,N as getVisualVariableValues,v as viewScaleRE};\n"],"names":["$8TSCy","parcelRequire","$b8233870da7e8a44$var$f","$jHOLN","default","getLogger","$b8233870da7e8a44$var$p","$bsvXr","$b8233870da7e8a44$var$d","Math","PI","$b8233870da7e8a44$export$348c348f11333765","$b8233870da7e8a44$export$5551a2d24ff40153","a1","r1","i1","t1","visualVariables","find","e1","type","declaredClass","s3","o2","l1","attributes","c1","u1","field","_cache","cache","p1","ipData","d1","hasExpression","v1","compiledFunc","_$e","stops","color","$7qybv","isSome","arcade","error","_$e1","viewingMode","scale","spatialReference","_$a","arcadeUtils","_$r","getViewInfo","s1","createExecContext","_$e2","createSyntaxTree","valueExpression","createFunction","executeFunction","b1","normalizationField","h1","parseFloat","isNaN","_$a1","$b8233870da7e8a44$var$R","_$r1","s2","o1","$jgs9n","blendColors","warn","$b8233870da7e8a44$export$c85e0347fceb69ba","e2","a2","r2","_$i","e3","n3","s4","o4","l2","c2","u2","p2","d2","opacity","isNone","_$e3","n1","o3","_$e4","v2","b2","_$e5","_$a2","n2","$b8233870da7e8a44$export$22b70cbbb2a2942b","e4","a3","r3","e5","n5","axis","s6","rotationType","o5","l3","c3","u3","p3","d3","v3","n4","s5","_$e6","$b8233870da7e8a44$export$31b21d0167753bb4","e8","a5","r6","e9","n6","$b8233870da7e8a44$export$5964722a6071e808","e6","a4","r4","s7","o7","c4","p4","isScaleDriven","d4","_$i1","view","e7","r5","value","length","minDataValue","maxDataValue","$b8233870da7e8a44$var$x","inputValueType","$1OaQa","InputValueType","Expression","_$a3","_$i2","_$n","o6","_$a4","Field","Unknown","isValidNumber","v4","$b8233870da7e8a44$var$V","$b8233870da7e8a44$export$29b3e044e6068e0f","e10","a6","r7","isSizeVariable","$b8233870da7e8a44$var$g","e11","a7","r8","e19","a14","r15","i7","n9","transformationType","TransformationType","Additive","r9","i2","a8","minSize","Constant","a9","r10","e13","n7","size","ClampedLinear","e14","a10","r11","i3","t2","s8","o8","maxSize","l4","shape","scaleBy","pow","sqrt","$b8233870da7e8a44$var$S","Proportional","e15","a11","r12","i4","t3","s9","o9","l5","Stops","e16","a12","r13","i5","n8","ref","slicedToArray","t4","s10","o10","$b8233870da7e8a44$var$U","RealWorldSize","e17","a13","r14","i6","t5","resolution","$2JxK9","meterIn","valueUnit","o11","l6","c6","valueRepresentation","Identity","$b8233870da7e8a44$export$6ab198baef8e9203","e20","a15","r16","n10","t6","s11","$b8233870da7e8a44$export$d0f18e4eba74e4b0","e21","a16","r17","n11","t7","s12","o12","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","l7","push","err","return","forEach","e22","n12","variable","e23","n13","e24","n14","e25","n15","filter","e26","e27","a17","r18","some","a18","n16","$b8233870da7e8a44$export$d2db82958107ad8a","e28","a19","i8","n17","t8","useSymbolValue","$dMFG2","neverReached"],"version":3,"file":"visualVariableUtils.072c505a.js.map"}