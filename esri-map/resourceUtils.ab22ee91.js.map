{"mappings":"izBAIA,IAAAA,EAAAC,EAAA,mFAAwNC,EAAEC,UAAFC,EAACC,MAAAC,KAAAC,oBAADH,WAAAA,EAAfJ,EAAAQ,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,EAAiBT,OAAEU,EAAKC,EAAyBC,EAAkCC,EAAAC,EAAQC,EAAAC,EAAeC,EAAAC,EAAkBC,EAAeC,EAAsFC,EAACC,EAAAlB,mFAA/MM,EAAAY,EAAAC,OAAA,QAAA,IAAAD,EAAA,GAAIA,EAAA,GAAF,GAAGX,EAACW,EAAAC,OAAA,EAAAD,EAAA,QAAA,WAAQtB,EAAEwB,KAAKb,iBAASC,GAAE,EAAAa,EAAAC,MAAE1B,EAAE2B,QAAQ,aAAoBd,EAAsDH,EAA5DkB,MAAMd,OAAG,IAAHD,EAAE,EAAFA,EAAQE,EAA8CL,EAAlDmB,IAAIb,OAAI,IAAJD,EAAE,GAAFA,EAAeE,EAA+BP,EAAzCoB,UAAUZ,OAAO,IAAPD,EAAE,MAAFA,EAAkBE,EAAaT,EAAvBqB,UAAyBX,EAAE,CAACY,MAAM,CAACJ,MAAMd,EAAEe,IAAIb,EAAEc,UAAUZ,EAAEa,eAAxC,IAAXZ,EAAE,UAAFA,EAA+Dc,MAAMjC,EAAEkC,QAAQC,QAAO,EAAAC,EAAAC,KAAE1B,EAAE,qBAAmBX,EAAEsC,OAAOC,SAAS3B,EAAEQ,kBAA5BC,EAACmB,EAAAC,uBAAoC,CAACC,MAAMrB,EAAEqB,MAAMC,UAAUtB,EAAEsB,UAAUC,UAAUvB,EAAEuB,UAAUC,KAAK,SAAAC,OAAUC,EAACD,EAATE,QAAeC,EAACH,EAANI,KAAgBC,EAACL,EAAVM,eAAe,CAACJ,QAAQ,IAAIK,KAAKN,GAAGG,KAAKD,EAAEG,SAASpD,EAAEsD,iBAAiBH,qDAAjZlD,EAACC,MAAAC,KAAAC,oBAAuamD,EAAEC,EAAEC,EAAEC,EAAEC,UAARC,EAAC1D,MAAAC,KAAAC,oBAADwD,WAAAA,EAAf/D,EAAAQ,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,EAAiB+C,EAAEC,EAAEC,EAAEC,OAAqHE,EAAqCC,EAAoEC,EAALC,EAAEC,EAAaC,EAAaC,uEAA9OX,EAAEY,UAAS,gBAAC,MAAM,IAAI,EAAAC,EAAAC,SAAG,wBAAyBC,OAAFd,EAAE,iBAAe,qDAA6CI,EAAEL,EAAEgB,oBAAiBX,EAAErC,KAAKmC,iBAASG,GAAE,EAAArC,EAAAC,MAAEmC,EAAEY,YAAY,QAAQhB,EAAE,eAAe,mBAAyBM,EAASlE,EAAA6E,cAATC,EAAEnB,EAAEoB,MAAK,GAAdZ,EAAKD,EAAS,GAAZE,EAAGF,EAAS,aAASc,EAAEnB,kBAAVQ,EAAC1B,EAAAC,KAAY0B,EAAE,IAAIW,SAAgBd,GAAG,MAAMA,GAAGG,EAAEY,OAAO,kBAAkBf,GAAGG,EAAEY,OAAO,WAAWd,GAAGE,EAAEY,OAAO,OAAOb,EAAED,GAAGE,EAAEY,OAAO,IAAI,SAAQ,EAAA3C,EAAA4C,QAAErB,IAAIA,EAAEsB,QAAQd,EAAEY,OAAO,SAASpB,EAAEsB,kBAAcpB,EAAEvB,OAAOC,SAASuB,EAAE,CAACoB,OAAO,OAAOC,KAAKhB,EAAEhC,QAAO,EAAAC,EAAAC,KAAEsB,EAAE,8CAAlNnB,EAAAC,KAA8Ne,iDAAhftD,MAAAC,KAAAC,oBAAigBgF,EAAEC,EAAEC,EAAEC,UAANC,EAACtF,MAAAC,KAAAC,oBAADoF,WAAAA,EAAf3F,EAAAQ,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,EAAiB4E,EAAEC,EAAEC,OAAwIE,uEAAjIH,EAAElB,UAAS,gBAAC,MAAM,IAAI,EAAAC,EAAAC,SAAE,4CAA4C,8DAA6Ce,EAAE7D,KAAK+D,iBAASE,GAAE,EAAAhE,EAAAC,MAAE2D,EAAEZ,YAAY,4BAAyBY,EAAE/C,OAAOC,SAASkD,EAAE,CAACP,OAAO,OAAOlD,MAAM,CAACoB,SAASkC,EAAEV,MAAMzC,QAAO,EAAAC,EAAAC,KAAEkD,EAAE,mBAAYD,EAAEd,WAAW,iDAAvRtE,MAAAC,KAAAC,oBAA2SsF,EAAEC,EAAEC,UAAJC,EAAC3F,MAAAC,KAAAC,oBAADyF,WAAAA,EAAfhG,EAAAQ,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,EAAiBkF,EAAEC,OAAyBE,oFAAhBH,EAAEnE,KAAKoE,iBAASE,GAAE,EAAArE,EAAAC,MAAEiE,EAAElB,YAAY,qCAA0BkB,EAAErD,OAAOC,SAASuD,EAAE,CAACZ,OAAO,OAAOlD,MAAM,CAAC+D,WAAU,GAAI5D,QAAO,EAAAC,EAAAC,KAAEuD,EAAE,yDAA3I1F,MAAAC,KAAAC,WAAuJ,SAASuE,EAAEqB,GAAG,IAAMC,EAAED,EAAEE,YAAY,KAAK,OAAM,IAAKD,EAAE,CAAC,IAAID,GAAG,CAACA,EAAEG,MAAM,EAAEF,GAAGD,EAAEG,MAAMF,EAAE,IAAI,SAASG,EAAEC,GAAG,IAAoDC,EAASC,EAAlDxC,EAAIlE,EAAA6E,eAAqC4B,EAAvCD,EAAgDE,GAAE,EAAA9E,EAAA+E,kBAAEF,IAAU,EAAAlE,EAAAqE,QAAEF,GAAG,CAACD,EAAE,IAAI,CAACA,EAAEH,MAAM,EAAEG,EAAE/E,OAAOgF,EAAEhF,OAAO,GAAI,IAAKgD,OAAFgC,KAA5G,GAATG,EAAK3C,EAAI,GAAP4C,EAAG5C,EAAI,GAAO6C,EAAI/G,EAAA6E,cAAJC,EAAE+B,GAAE,GAAC,MAAM,CAAXE,EAAI,GAAJA,EAAI,GAAYD,YAAyG9B,EAAEgC,UAAFC,EAAC5G,MAAAC,KAAAC,oBAAD0G,WAAAA,EAAfjH,EAAAQ,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,EAAiBoG,0EAAMA,aAAaE,MAAI,yCAAQF,2BAAe,EAAAG,EAAA1C,SAAEuC,EAAEI,IAAI,CAACC,aAAa,yCAA7B1E,EAAAC,KAAuC0E,kDAA/EjH,MAAAC,KAAAC,WAAoF,SAASgH,EAAEC,EAAEC,GAAG,IAAID,EAAEjD,UAAU,OAAO,KAAK,IAAYL,EAASlE,EAAA6E,cAAT0B,EAAEiB,EAAEzC,MAAK,GAAf2C,EAAMxD,EAAS,GAAZyD,EAAGzD,EAAS,GAAC,OAAOsD,EAAE7C,WAAWlB,kBAAiB,EAAA7B,EAAAC,MAAE6F,EAAED,EAAEE,IAAI,SAASC,EAAEC,EAAEC,GAAG,IAAID,EAAEtD,UAAU,OAAO,KAAK,IAAYL,EAASlE,EAAA6E,cAAT0B,EAAEsB,EAAE9C,MAAK,GAAfgD,EAAM7D,EAAS,GAAZ8D,EAAG9D,EAAS,GAAC,OAAO2D,EAAElD,WAAWlB,kBAAiB,EAAA7B,EAAAC,MAAEkG,EAAED,EAAEE","sources":["node_modules/@arcgis/core/portal/support/resourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{get as r,isSome as a,isNone as o}from\"../../core/maybe.js\";import{join as s,getPathExtension as n}from\"../../core/urlUtils.js\";async function c(e,t={},a){await e.load(a);const o=s(e.itemUrl,\"resources\"),{start:n=1,num:c=10,sortOrder:u=\"asc\",sortField:i=\"created\"}=t,l={query:{start:n,num:c,sortOrder:u,sortField:i,token:e.apiKey},signal:r(a,\"signal\")},p=await e.portal._request(o,l);return{total:p.total,nextStart:p.nextStart,resources:p.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function u(e,o,n,c){if(!e.hasPath())throw new t(`portal-item-resource-${o}:invalid-path`,\"Resource does not have a valid path\");const u=e.portalItem;await u.load(c);const i=s(u.userItemUrl,\"add\"===o?\"addResources\":\"updateResources\"),[l,d]=p(e.path),m=await h(n),f=new FormData;return l&&\".\"!==l&&f.append(\"resourcesPrefix\",l),f.append(\"fileName\",d),f.append(\"file\",m,d),f.append(\"f\",\"json\"),a(c)&&c.access&&f.append(\"access\",c.access),await u.portal._request(i,{method:\"post\",body:f,signal:r(c,\"signal\")}),e}async function i(e,a,o){if(!a.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const n=s(e.userItemUrl,\"removeResources\");await e.portal._request(n,{method:\"post\",query:{resource:a.path},signal:r(o,\"signal\")}),a.portalItem=null}async function l(e,t){await e.load(t);const a=s(e.userItemUrl,\"removeResources\");return e.portal._request(a,{method:\"post\",query:{deleteAll:!0},signal:r(t,\"signal\")})}function p(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function d(e){const[t,r]=m(e),[a,o]=p(t);return[a,o,r]}function m(e){const t=n(e);return o(t)?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function h(t){if(t instanceof Blob)return t;return(await e(t.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[r,,a]=d(e.path);return e.portalItem.resourceFromPath(s(r,t+a))}function w(e,t){if(!e.hasPath())return null;const[r,,a]=d(e.path);return e.portalItem.resourceFromPath(s(r,t+a))}export{u as addOrUpdateResource,h as contentToBlob,c as fetchResources,f as getSiblingOfSameType,w as getSiblingOfSameTypeI,l as removeAllResources,i as removeResource,d as splitPrefixFileNameAndExtension};\n"],"names":["$8TSCy","parcelRequire","$03aadd1fe0b199cf$export$5339cb72317205a3","e1","$03aadd1fe0b199cf$var$_c","apply","this","arguments","asyncToGenerator","$parcel$interopDefault","$2TvXO","mark","_callee","t1","a1","o1","tmp","n1","tmp1","c1","tmp2","u1","tmp3","l1","p1","_args","length","load","$kYueh","join","itemUrl","start","num","sortOrder","sortField","query","token","apiKey","signal","$7qybv","get","portal","_request","_ctx","sent","total","nextStart","resources","map","param","t2","created","_$r","size","a2","resource","Date","resourceFromPath","$03aadd1fe0b199cf$export$553000e136fea8b9","e2","o2","n2","c2","$03aadd1fe0b199cf$var$_u","u2","i2","ref","l2","d1","m1","f1","hasPath","$kyj08","default","concat","portalItem","userItemUrl","slicedToArray","$03aadd1fe0b199cf$var$p","path","$03aadd1fe0b199cf$export$4d4eb7d90ed4fb81","FormData","append","isSome","access","method","body","$03aadd1fe0b199cf$export$c823747c8d5b8150","e3","a3","o3","$03aadd1fe0b199cf$var$_i","n3","$03aadd1fe0b199cf$export$6699f5554bf4b9b3","e4","t3","$03aadd1fe0b199cf$var$_l","a4","deleteAll","e5","t4","lastIndexOf","slice","$03aadd1fe0b199cf$export$410d94f4c3e23371","e6","e7","t6","getPathExtension","isNone","t5","r1","ref1","t7","$03aadd1fe0b199cf$var$_h","Blob","$9pNSx","url","responseType","data","$03aadd1fe0b199cf$export$5cda6aa5df577036","e8","t8","r2","a6","$03aadd1fe0b199cf$export$aacc8c5ded2c12c1","e9","t9","r3","a7"],"version":3,"file":"resourceUtils.ab22ee91.js.map"}