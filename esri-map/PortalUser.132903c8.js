!function(){var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("kthBz",(function(e,r){var o,n,l,u,i;o=e.exports,Object.defineProperty(o,"__esModule",{value:!0,configurable:!0}),n=e.exports,l="default",u=function(){return _},Object.defineProperty(n,l,{get:u,set:i,enumerable:!0,configurable:!0});var a=t("8TSCy"),p=t("7eJjO"),s=t("kyj08"),d=t("1XAcN"),f=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var c,y=t("fcwIv"),v=t("yMZ2t"),h=t("fQy4Q"),m=c=function(e){"use strict";a.inherits(o,e);var r=a.createSuper(o);function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var l;return a.classCallCheck(this,o),(l=r.call.apply(r,[this].concat(a.toConsumableArray(e)))).access=null,l.created=null,l.culture=null,l.description=null,l.email=null,l.fullName=null,l.modified=null,l.orgId=null,l.portal=null,l.preferredView=null,l.privileges=null,l.region=null,l.role=null,l.roleId=null,l.sourceJSON=null,l.units=null,l.username=null,l.userType=null,a.possibleConstructorReturn(l)}return a.createClass(o,[{key:"thumbnailUrl",get:function(){var t=this.url,e=this.thumbnail;return t&&e?this.portal._normalizeUrl("".concat(t,"/info/").concat(e,"?f=json")):null}},{key:"userContentUrl",get:function(){var t=this.get("portal.restUrl");return t?"".concat(t,"/content/users/").concat(this.username):null}},{key:"url",get:function(){var t=this.get("portal.restUrl");return t?"".concat(t,"/community/users/").concat(this.username):null}},{key:"addItem",value:function(t){var e=this,r=t&&t.item,o=t&&t.data,n=t&&t.folder,l={method:"post"};r&&(l.query=r.createPostQuery(),null!=o&&("string"==typeof o?l.query.text=o:"object"==typeof o&&(l.query.text=JSON.stringify(o))));var u=this.userContentUrl;return n&&(u+="/"+("string"==typeof n?n:n.id)),this.portal._request(u+"/addItem",l).then((function(t){return r.id=t.id,r.portal=e.portal,r.loaded?r.reload():r.load()}))}},{key:"deleteItem",value:function(t){var e=this.userContentUrl;return t.ownerFolder&&(e+="/"+t.ownerFolder),this.portal._request(e+"/items/".concat(t.id,"/delete"),{method:"post"}).then((function(){t.id=null,t.portal=null}))}},{key:"deleteItems",value:function(t){var e=this.userContentUrl+"/deleteItems",r=t.map((function(t){return t.id}));if(r.length){var o={method:"post",query:{items:r.join(",")}};return this.portal._request(e,o).then((function(){t.forEach((function(t){t.id=null,t.portal=null}))}))}return Promise.resolve(void 0)}},{key:"fetchFolders",value:function(){var t=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then((function(e){var r=t;return e&&e.folders?e.folders.map((function(t){var e=v.default.fromJSON(t);return e.portal=r.portal,e})):[]}))}},{key:"fetchGroups",value:function(){var t=this;return this.portal._request(this.url).then((function(e){var r=t;return e&&e.groups?e.groups.map((function(t){var e=h.default.fromJSON(t);return e.portal=r.portal,e})):[]}))}},{key:"fetchItems",value:function(e){var r=this;e||(e={});var o,n=this.userContentUrl;return e.folder&&(n+="/"+e.folder.id),t("83fvv").then((function(t){var l=t.default;o=l;var u={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return r.portal._request(n,{query:u})})).then((function(t){var e,n=r;return t&&t.items?(e=t.items.map((function(t){var e=o.fromJSON(t);return e.portal=n.portal,e})),Promise.all(e.map((function(t){return t.load()}))).catch((function(t){return t})).then((function(){return{items:e,nextStart:t.nextStart,total:t.total}}))):{items:[],nextStart:-1,total:0}}))}},{key:"fetchTags",value:function(){return this.portal._request(this.url+"/tags").then((function(t){return t.tags}))}},{key:"getThumbnailUrl",value:function(t){var e=this.thumbnailUrl;return e&&t&&(e+="&w=".concat(t)),e}},{key:"queryFavorites",value:function(t){return this.favGroupId?(this._favGroup||(this._favGroup=new(0,h.default)({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new(0,s.default)("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}},{key:"toJSON",value:function(){throw new(0,s.default)("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}}],[{key:"fromJSON",value:function(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");var e=new c;return e.sourceJSON=t,e.read(t),e}}]),o}(d.JSONSupport);(0,p._)([(0,f.property)()],m.prototype,"access",void 0),(0,p._)([(0,f.property)({type:Date})],m.prototype,"created",void 0),(0,p._)([(0,f.property)()],m.prototype,"culture",void 0),(0,p._)([(0,f.property)()],m.prototype,"description",void 0),(0,p._)([(0,f.property)()],m.prototype,"email",void 0),(0,p._)([(0,f.property)()],m.prototype,"favGroupId",void 0),(0,p._)([(0,f.property)()],m.prototype,"fullName",void 0),(0,p._)([(0,f.property)({type:Date})],m.prototype,"modified",void 0),(0,p._)([(0,f.property)()],m.prototype,"orgId",void 0),(0,p._)([(0,f.property)()],m.prototype,"portal",void 0),(0,p._)([(0,f.property)()],m.prototype,"preferredView",void 0),(0,p._)([(0,f.property)()],m.prototype,"privileges",void 0),(0,p._)([(0,f.property)()],m.prototype,"region",void 0),(0,p._)([(0,f.property)()],m.prototype,"role",void 0),(0,p._)([(0,f.property)()],m.prototype,"roleId",void 0),(0,p._)([(0,f.property)()],m.prototype,"sourceJSON",void 0),(0,p._)([(0,f.property)()],m.prototype,"thumbnail",void 0),(0,p._)([(0,f.property)({readOnly:!0})],m.prototype,"thumbnailUrl",null),(0,p._)([(0,f.property)()],m.prototype,"units",void 0),(0,p._)([(0,f.property)({readOnly:!0})],m.prototype,"userContentUrl",null),(0,p._)([(0,f.property)({readOnly:!0})],m.prototype,"url",null),(0,p._)([(0,f.property)()],m.prototype,"username",void 0),(0,p._)([(0,f.property)()],m.prototype,"userType",void 0);var _=m=c=(0,p._)([(0,y.subclass)("esri.portal.PortalUser")],m)})),t.register("83fvv",(function(e,r){e.exports=t("4WKyX")(t("aNJCr").getBundleURL("fJnUX")+t("iE7OH").resolve("38nlG")).then((function(){return t("iYaGG")}))}))}();
//# sourceMappingURL=PortalUser.132903c8.js.map
