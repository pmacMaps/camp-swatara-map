!function(){function e(e,t,r,i){Object.defineProperty(e,t,{get:r,set:i,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("129jc",(function(r,i){var n;n=r.exports,Object.defineProperty(n,"__esModule",{value:!0,configurable:!0}),e(r.exports,"default",(function(){return F}));var o=t("8TSCy"),a=t("7eJjO"),s=t("d2yMj"),l=t("kyj08"),u=t("qhgF7"),c=t("jHOLN"),p=t("7qybv"),d=t("8NioF"),y=t("10vEZ"),v=t("lKPaD"),h=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var f,_,g=t("eB8sj"),S=t("fcwIv"),b=t("e4Xv2"),m=t("5YMIf"),x=t("4LDxK"),w=t("ihxnz"),A=t("jy0BF"),T=t("aLy89"),R=t("5N5S1"),C=t("9bAYR"),E=t("3GzOb"),I=t("fqCyP"),L=t("lmu5w"),N=t("gRgX5"),V=t("7xSIc"),k=t("dFAMB"),M=t("l0s2h"),j=t("eY8By"),P=t("8xtqK"),O=t("kGM5K"),W=t("jKeAr"),D=c.default.getLogger(" esri.layers.VoxelLayer");(_=f||(f={}))[_.API=1]="API",_[_.VerboseAPI=2]="VerboseAPI",_[_.Error=3]="Error";var q=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var i;return o.classCallCheck(this,r),(i=t.call(this,e)).serviceRoot="",i.popupEnabled=!0,i.operationalLayerType="Voxel",i.legendEnabled=!0,i.title=null,i.sections=new(0,s.default),i.style=null,i.opacity=1,i.variables=new(0,s.default),i.volumes=new(0,s.default),i.index=null,i.minScale=0,i.maxScale=0,i.type="voxel",i._dbgFlags=new Set,i._handles=new(0,u.default),i.version={major:Number.NaN,minor:Number.NaN,versionString:""},o.possibleConstructorReturn(i)}return o.createClass(r,[{key:"url",set:function(e){this._set("url",(0,L.sanitizeUrl)(e,D))}},{key:"destroy",value:function(){this._handles=(0,p.destroyMaybe)(this._handles)}},{key:"_dbg",value:function(e,t){this._dbgFlags.has(e)&&(e===f.Error?D.error(t):D.warn(t))}},{key:"load",value:function(e){var t=this,r=(0,p.isSome)(e)?e.signal:null,i=this.loadFromPortal({supportedTypes:["Scene Service"]},e).catch(y.throwIfAbortError).then((function(){return t._fetchService(r)})).then((function(){return t.serviceRoot=t.url}));return this.addResolvingPromise(i),Promise.resolve(this)}},{key:"getConfiguration",value:function(){var e=this;this._handles.add([(0,v.watch)((function(){return e._getRenderMode()}),(function(t){return e._pushRenderModeToWasm(t)})),(0,v.watch)((function(){return e._getCurrentVariableId()}),(function(t){return e._pushCurrentVariableIdToWasm(t)})),(0,v.watch)((function(){return e._getDynamicSections()}),(function(t){return e._pushDynamicSectionsToWasm(t)})),(0,v.watch)((function(){return e._getSlices()}),(function(t){return e._pushSlicesToWasm(t)})),(0,v.watch)((function(){return e._getSections()}),(function(t){return e._pushSectionsToWasm(t)}))]);var t={layerType:this.operationalLayerType,version:this.version.versionString,name:this.title,spatialReference:this.spatialReference,fullExtent:this.fullExtent,volumes:this.volumes.toJSON(),variables:this.variables.toJSON(),index:this.index.toJSON(),sections:this.sections.toJSON(),style:this.style};return t.index&&this.index.isValid()?JSON.stringify(t):""}},{key:"readVersion",value:function(e,t){return o.get(o.getPrototypeOf(r.prototype),"parseVersionString",this).call(this,e)}},{key:"_getSections",value:function(){var e=[],t=!0,r=!1,i=void 0;try{for(var n,o=this.sections[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var a=n.value;e.push(new(0,k.default)({enabled:a.enabled,href:a.href,id:a.id,label:a.label,normal:a.normal,point:a.point,sizeInPixel:a.sizeInPixel,slices:a.slices,timeId:a.timeId,variableId:a.variableId}))}}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}return e}},{key:"_pushSectionsToWasm",value:function(e){this._dbg(f.VerboseAPI,"VoxelLayer._pushSectionsToWasm() called"),w.default.getInstance().setLayerStaticSections(this,e)||this._dbg(f.Error,"VoxelLayer._pushSectionsToWasm() failed!")}},{key:"_isPlaneValid",value:function(e,t,r){if(!e.point)return!1;if(!Array.isArray(e.point)||3!==e.point.length)return!1;if(!e.normal)return!1;if(!Array.isArray(e.normal)||3!==e.normal.length)return!1;for(var i=0;i<3;++i){var n=e.point[i];if(n<0||n>=r[t[i]].size)return!1}var o=(0,m.f)(e.normal[0],e.normal[1],e.normal[2]);(0,b.n)(o,o);return!(Math.abs(o[0])+Math.abs(o[1])+Math.abs(o[2])<1e-6||(e.normal[0]=o[0],e.normal[1]=o[1],e.normal[2]=o[2],0))}},{key:"getVariableStyle",value:function(e){var t;if(t=(0,p.isSome)(e)?e:this._getCurrentVariableId(),!(null==this?void 0:this.style.variableStyles)||-1===t)return null;var r=this.style.variableStyles.findIndex((function(e){return e.variableId===t}));return r<0?null:this.style.variableStyles.getItemAt(r)}},{key:"getVariable",value:function(e){var t;if(t=(0,p.isSome)(e)?e:this._getCurrentVariableId(),!this.variables||-1===t)return null;var r=this.variables.findIndex((function(e){return e.id===t}));return r<0?null:this.variables.getItemAt(r)}},{key:"getVolume",value:function(e){var t=this.getVariable(e);return(0,p.isSome)(t)?this.volumes.find((function(e){return e.id===t.volumeId})):null}},{key:"validateLayer",value:function(e){if(e.layerType&&e.layerType!==this.operationalLayerType)throw new(0,l.default)("voxel-layer:layer-type-not-supported","VoxelLayer does not support this layer type",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor)||this.version.major<3)throw new(0,l.default)("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"3.x"});if(this.version.major>3)throw new(0,l.default)("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"3.x"})}},{key:"_getVolumeStyle",value:function(e){var t=this.getVariable(e);return(0,p.isSome)(t)?this.style.volumeStyles.find((function(e){return e.volumeId===t.volumeId})):null}},{key:"_getSlices",value:function(){var e=[],t=this.getVolume(null);if(!(0,p.isSome)(t)||!t.isVolumeValid())return e;var r=this._getVolumeStyle(null);if(!(0,p.isSome)(r))return e;var i=!0,n=!1,o=void 0;try{for(var a,s=r.slices[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;this._isPlaneValid(l,[0,1,t.getZDimension()],t.dimensions)?e.push(new(0,M.default)({enabled:l.enabled,label:l.label,point:l.point,normal:l.normal})):e.push(new(0,M.default)({enabled:!1,label:"invalid",point:l.point,normal:l.normal}))}}catch(e){n=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(n)throw o}}return e}},{key:"_pushSlicesToWasm",value:function(e){this._dbg(f.VerboseAPI,"VoxelLayer._pushSlicesToWasm() called!"),w.default.getInstance().setLayerSlices(this,e)||this._dbg(f.Error,"VoxelLayer._pushSlicesToWasm() failed!")}},{key:"_getDynamicSections",value:function(){var e=[],t=this.getVolume(null);if(!(0,p.isSome)(t)||!t.isVolumeValid())return e;var r=this._getVolumeStyle(null);if(!(0,p.isSome)(r))return e;var i=!0,n=!1,o=void 0;try{for(var a,s=r.dynamicSections[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;this._isPlaneValid(l,[0,1,t.getZDimension()],t.dimensions)?e.push(new(0,V.default)({enabled:l.enabled,label:l.label,point:l.point,normal:l.normal})):e.push(new(0,V.default)({enabled:!1,label:"invalid",point:l.point,normal:l.normal}))}}catch(e){n=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(n)throw o}}return e}},{key:"_pushDynamicSectionsToWasm",value:function(e){this._dbg(f.VerboseAPI,"VoxelLayer._pushDynamicSectionsToWasm() called!"),w.default.getInstance().setLayerDynamicSections(this,e)||this._dbg(f.Error,"VoxelLayer._updateDynamicSections() failed!")}},{key:"_getCurrentVariableId",value:function(){return this.style?this.style.currentVariableId:-1}},{key:"_pushCurrentVariableIdToWasm",value:function(e){this._dbg(f.VerboseAPI,"VoxelLayer._pushCurrentVariableIdToWasm() called!"),w.default.getInstance().setLayerCurrentVariable(this,e)||this._dbg(f.Error,"VoxelLayer._pushCurrentVariableIdToWasm() failed!")}},{key:"_getRenderMode",value:function(){return this.style?this.style.renderMode:"volume"}},{key:"_pushRenderModeToWasm",value:function(e){this._dbg(f.VerboseAPI,"VoxelLayer._pushRenderModeToWasm() called!"),w.default.getInstance().setLayerRenderMode(this,e)||this._dbg(f.Error,"VoxelLayer.setLayerRenderMode() failed!")}}]),r}((0,I.SceneService)((0,T.ArcGISService)((0,R.OperationalLayer)((0,C.PortalLayer)((0,E.ScaleRangeLayer)((0,d.MultiOriginJSONMixin)((0,A.APIKeyMixin)(x.default))))))));(0,a._)([(0,h.property)(N.popupEnabled)],q.prototype,"popupEnabled",void 0),(0,a._)([(0,h.property)({type:["Voxel"]})],q.prototype,"operationalLayerType",void 0),(0,a._)([(0,h.property)(N.legendEnabled)],q.prototype,"legendEnabled",void 0),(0,a._)([(0,h.property)({json:{write:!0}})],q.prototype,"title",void 0),(0,a._)([(0,h.property)(N.url)],q.prototype,"url",null),(0,a._)([(0,h.property)({type:s.default.ofType(k.default),json:{write:!0,origins:{"web-scene":{name:"layerDefinition.sections",write:!0},service:{write:!1}}}})],q.prototype,"sections",void 0),(0,a._)([(0,h.property)({type:j.default,json:{write:!0,origins:{"web-scene":{name:"layerDefinition.style",write:!0},service:{write:!1}}}})],q.prototype,"style",void 0),(0,a._)([(0,h.property)({type:["show","hide"]})],q.prototype,"listMode",void 0),(0,a._)([(0,h.property)({type:Number,range:{min:0,max:1},nonNullable:!0,json:{read:!1,write:!1,origins:{"web-scene":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],q.prototype,"opacity",void 0),(0,a._)([(0,h.property)({type:s.default.ofType(P.default)})],q.prototype,"variables",void 0),(0,a._)([(0,h.property)({type:s.default.ofType(O.default)})],q.prototype,"volumes",void 0),(0,a._)([(0,h.property)({type:W.default})],q.prototype,"index",void 0),(0,a._)([(0,h.property)({type:Number,json:{name:"layerDefinition.minScale",read:!1,write:!1,origins:{service:{read:!1,write:!1}}}})],q.prototype,"minScale",void 0),(0,a._)([(0,h.property)({type:Number,json:{name:"layerDefinition.maxScale",read:!1,write:!1,origins:{service:{read:!1,write:!1}}}})],q.prototype,"maxScale",void 0),(0,a._)([(0,h.property)({json:{read:!1},readOnly:!0})],q.prototype,"type",void 0),(0,a._)([(0,h.property)({readOnly:!0,json:{name:"serviceVersion"}})],q.prototype,"version",void 0),(0,a._)([(0,g.reader)("service","version")],q.prototype,"readVersion",null);var F=q=(0,a._)([(0,S.subclass)("esri.layers.VoxelLayer")],q)})),t.register("ihxnz",(function(r,i){e(r.exports,"default",(function(){return a}));var n=t("8TSCy"),o=t("4mgLQ"),a=function(){"use strict";function e(){n.classCallCheck(this,e),this.view2WASM=new Map}return n.createClass(e,[{key:"getVoxelWasmPerSceneView",value:function(e){return this.view2WASM.has(e)?this.view2WASM.get(e):null}},{key:"isUpdating",value:function(e,t){return!!this.view2WASM.has(e)&&this.view2WASM.get(e).isUpdating(t)}},{key:"addLayer",value:function(e,t){return this.view2WASM.has(e)||this.view2WASM.set(e,new(0,o.default)(e)),this.view2WASM.get(e).addVoxelLayer(t)}},{key:"removeLayer",value:function(e,t){this.view2WASM.has(e)&&this.view2WASM.get(e).removeVoxelLayer(t)<1&&this.view2WASM.delete(e)}},{key:"setLayerEnabled",value:function(e,t,r){this.view2WASM.has(e)&&this.view2WASM.get(e).setEnabled(t,r)}},{key:"setLayerSlices",value:function(e,t){var r=!1;return this.view2WASM.forEach((function(i,n){n.allLayerViews.filter((function(e){return"voxel-3d"===e.type})).forEach((function(n){n.layer===e&&(r=i.setSlices(n,t))}))})),r}},{key:"setLayerDynamicSections",value:function(e,t){var r=!1;return this.view2WASM.forEach((function(i,n){n.allLayerViews.filter((function(e){return"voxel-3d"===e.type})).forEach((function(n){n.layer===e&&(r=i.setDynamicSections(n,t))}))})),r}},{key:"setLayerCurrentVariable",value:function(e,t){var r=!1;return this.view2WASM.forEach((function(i,n){n.allLayerViews.filter((function(e){return"voxel-3d"===e.type})).forEach((function(n){n.layer===e&&(r=i.setCurrentVariable(n,t))}))})),r}},{key:"setLayerRenderMode",value:function(e,t){var r=!1;return this.view2WASM.forEach((function(i,n){n.allLayerViews.filter((function(e){return"voxel-3d"===e.type})).forEach((function(n){n.layer===e&&(r=i.setRenderMode(n,t))}))})),r}},{key:"setLayerStaticSections",value:function(e,t){var r=!1;return this.view2WASM.forEach((function(i,n){n.allLayerViews.filter((function(e){return"voxel-3d"===e.type})).forEach((function(n){n.layer===e&&(r=i.setStaticSections(n,t))}))})),r}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}()})),t.register("4mgLQ",(function(r,i){e(r.exports,"default",(function(){return b}));var n,o,a=t("8TSCy"),s=t("9pNSx"),l=t("2VlWd"),u=t("jHOLN"),c=t("7qybv"),p=t("10vEZ"),d=t("lKPaD"),y=t("g8kAT"),v=t("gN5Wg"),h=t("8pJsJ"),f=t("7vfk8"),_=t("fnzEM"),g=t("8JzMA"),S=u.default.getLogger("esri.layers.VoxelWasmPerScene");(o=n||(n={}))[o.Lifetime=1]="Lifetime",o[o.RequestResponse=2]="RequestResponse",o[o.Rendering=3]="Rendering",o[o.Error=4]="Error";var b=function(){"use strict";function e(t){a.classCallCheck(this,e),this._halfIntTexturesAvailable=!1,this._havePreparedWithAllLayers=!1,this._renderPluginContext=null,this._vxl=null,this._pluginIsActive=!1,this._moreToLoad=!1,this._viewportWidth=-1,this._viewportHeight=-1,this._newLayers=[],this._layers=new Map,this._renderPass=h.RenderPass.MATERIAL,this._renderSlot=f.RenderSlot.VOXEL,this._rctx=null,this._renderTargetToRestore=null,this._lastFrameWasStationary=!1,this._wasmMemBlockSizes=[512,1024,2048,4096,8192,16384,32768,65536],this._wasmMemBlocks=new Map,this._dbgFlags=new Set,this._view=t,this._initialize()}return a.createClass(e,[{key:"canRender",get:function(){return!!this._vxl&&"local"===this._view.viewingMode}},{key:"_dbg",value:function(e,t){this._dbgFlags.has(e)&&(e===n.Error?S.error(t):S.warn(t))}},{key:"_removeRenderPlugin",value:function(){this._pluginIsActive&&this._view._stage&&(this._dbg(n.Lifetime,"--removeRenderPlugin--"),this._view._stage.removeRenderPlugin(this)),this._pluginIsActive=!1}},{key:"_initialize",value:function(){var e=this;this._dbg(n.Lifetime,"--initialize--");var t=!0,r=!1,i=void 0;try{for(var o,a=this._wasmMemBlockSizes[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;this._wasmMemBlocks.set(s,0)}}catch(e){r=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}this._readyWatchHandle=(0,d.watch)((function(){return e._view.ready}),(function(t){t&&"local"===e._view.viewingMode?(e._dbg(n.Lifetime,"view ready status changed to ready on a local view, calling addRenderPlugin"),e._view._stage.addRenderPlugin([e._renderSlot],e),e._pluginIsActive=!0):(e._dbg(n.Lifetime,"view ready status changed, not ready or not a local view!"),e._removeRenderPlugin())}),{initial:!0}),this._qualityWatchHandle=(0,d.watch)((function(){var t;return null==(t=e._view)?void 0:t.qualityProfile}),(function(t){e._dbg(n.Rendering,"qualityProfile changed to "+t),e._vxl&&e._vxl.set_quality(e._toWasmQuality(t))}),{initial:!0}),this._timeExtentWatchHandle=(0,d.watch)((function(){var t;return null==(t=e._view)?void 0:t.timeExtent}),(function(){if(e._vxl){var t,r=e._getTimeArgs(null==(t=e._view)?void 0:t.timeExtent);e._dbg(n.Rendering,"sceneView timeExtent changed to useTime="+r.useTime+" st="+r.startTime+" et="+r.endTime),e._vxl.set_scene_time_extent(r.startTime,r.endTime,r.useTime),e._renderPluginContext.requestRender()}}),{initial:!0}),this._stationaryWatchHandle=(0,d.watch)((function(){var t;return null==(t=e._view)?void 0:t.stationary}),(function(t){e._vxl&&t&&!e._lastFrameWasStationary&&e._renderPluginContext.requestRender()}))}},{key:"initializeRenderContext",value:function(e){this._dbg(n.Lifetime,"--initializeRenderContext--");var t=e.renderContext.rctx;t.type===_.ContextType.WEBGL2?(this._renderPluginContext=e,this._rctx=e.renderContext.rctx,this._halfIntTexturesAvailable=!!this._rctx.capabilities.textureNorm16,this._initializeWasm(t.gl)):this._dbg(n.Error,"WebGL 1 context only!")}},{key:"uninitializeRenderContext",value:function(){this._renderPluginContext=null,this._rctx=null,this._dbg(n.Lifetime,"--uninitializeRenderContext--")}},{key:"_restoreFramebuffer",value:function(){if(this._renderTargetToRestore){var e=this._renderTargetToRestore.fbo;if(this._rctx){this._rctx.bindFramebuffer(e,!0);var t=this._renderTargetToRestore.viewport;this._rctx.setViewport(t.x,t.y,t.width,t.height)}else this._dbg(n.Error,"no context in restoreFramebuffer!")}}},{key:"_bindPreviousDepthToSlot",value:function(e,t){var r=!!this._rctx,i=!!this._renderTargetToRestore;if(!r||!i)return 0;var o=this._renderTargetToRestore.fbo.depthStencilTexture;return o?(0===t?this._rctx.bindTexture(null,e,!0):this._rctx.bindTexture(o,e,!0),1):(this._dbg(n.Error,"no depth/stencil texture exists!"),0)}},{key:"_modifyResourceCount",value:function(e,t,r){if(this._rctx){var i=e;1===r?this._rctx.instanceCounter.increment(i,t):this._rctx.instanceCounter.decrement(i,t)}else this._dbg(n.Error,"modifyAllocation callback has no rendering context!")}},{key:"_setBlendState",value:function(e,t,r,i){this._rctx?(this._rctx.setBlendingEnabled(1===e),this._rctx.setBlendFunction(t,r),this._rctx.setBlendEquation(i)):this._dbg(n.Error,"setBlendState callback has no rendering context!")}},{key:"_setFrontFace",value:function(e){this._rctx?this._rctx.setFrontFace(e):this._dbg(n.Error,"setFrontFace callback has no rendering context!")}},{key:"_setDepthStencilStateFunction",value:function(e,t,r){this._rctx?(this._rctx.setDepthFunction(r),this._rctx.setDepthTestEnabled(1===e),this._rctx.setDepthWriteEnabled(1===t),this._rctx.setStencilTestEnabled(!1),this._rctx.setStencilFunction(g.CompareFunction.ALWAYS,0,255),this._rctx.setStencilOpSeparate(g.Face.FRONT,g.StencilOperation.KEEP,g.StencilOperation.INCR,g.StencilOperation.KEEP),this._rctx.setStencilOpSeparate(g.Face.BACK,g.StencilOperation.KEEP,g.StencilOperation.DECR,g.StencilOperation.KEEP)):this._dbg(n.Error,"setDepthStencilStateFunction callback has no rendering context!")}},{key:"_setRasterizerState",value:function(e){if(this._rctx)switch(e){case y.WasmCullMode.None:this._rctx.setFaceCullingEnabled(!1);break;case y.WasmCullMode.Back:this._rctx.setCullFace(g.Face.BACK),this._rctx.setFaceCullingEnabled(!0);break;case y.WasmCullMode.Front:this._rctx.setCullFace(g.Face.FRONT),this._rctx.setFaceCullingEnabled(!0)}else this._dbg(n.Error,"setRasterizerState callback has no rendering context!")}},{key:"_setViewport",value:function(e,t,r,i){this._rctx?this._rctx.setViewport(e,t,r,i):this._dbg(n.Error,"setViewport callback has no rendering context!")}},{key:"_updateMemoryUsage",value:function(){var e=this;this._layers.forEach((function(t,r){if(t.needMemoryUsageUpdate){var i=e._vxl.estimate_memory_usage(r);i>=0&&(t.needMemoryUsageUpdate=!1,t.layerView.setUsedMemory(i))}}))}},{key:"_syncRequestsResponses",value:function(){var e=this;this._layers.forEach((function(t,r){var i=function(r){var i=e;t.outstandingRequestCount+=1,1===t.outstandingRequestCount&&t.layerView.updatingFlagChanged();var o=_[r],a={responseType:"array-buffer",signal:g};e._dbg(n.RequestResponse,"making requestID:"+r+" url:"+o.url),(0,s.default)(o.url,a).then((function(e){t.outstandingRequestCount-=1,0===t.outstandingRequestCount&&t.layerView.updatingFlagChanged(),i._dbg(n.RequestResponse,"have response for requestID:"+r);var a=0;if(e.data.byteLength>0){a=i._vxl._malloc(e.data.byteLength);for(var s=new Uint8Array(i._vxl.HEAPU8.buffer,a,e.data.byteLength),u=new Uint8Array(e.data),c=0;c<e.data.byteLength;++c)s[c]=u[c]}l.set(+r,{responseType:o.responseType,ptr:a,size:e.data.byteLength,success:!0,requestType:o.requestType})})).catch((function(e){t.outstandingRequestCount-=1,0===t.outstandingRequestCount&&t.layerView.updatingFlagChanged(),(0,p.isAbortError)(e)||(i._dbg(n.Error,"requestID:".concat(r," failed, error=").concat(e.toString())),l.set(+r,{responseType:o.responseType,ptr:0,size:0,success:!1,requestType:o.requestType}))}))},o=e,a=[];t.responses.forEach((function(e,i){a.push(i),o._dbg(n.RequestResponse,"responding for requestID:"+i+" size:"+e.size),o._vxl.respond(r,i,e),e.requestType!==y.VoxelRequestType.TreeIndex&&e.requestType!==y.VoxelRequestType.Section||(t.needMemoryUsageUpdate=!0)}));var l=t.responses,u=!0,c=!1,d=void 0;try{for(var v,h=a[Symbol.iterator]();!(u=(v=h.next()).done);u=!0){var f=v.value;l.delete(f)}}catch(e){c=!0,d=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw d}}var _=e._vxl.get_new_requests(r),g=t.abortController.signal;for(var S in _)i(S)}))}},{key:"updateWasmCamera",value:function(e){this._vxl.set_projection_matrix.apply(this._vxl,e.projectionMatrix),this._vxl.set_view_matrix.apply(this._vxl,e.viewMatrix),this._vxl.set_near_far(e.near,e.far)}},{key:"isUpdating",value:function(e){return!(this._vxl||!this._vxlPromise)||!!this._layers.has(e)&&this._layers.get(e).outstandingRequestCount>0}},{key:"setEnabled",value:function(e,t){var r=this;this._layers.forEach((function(i,n){i.layerView===e&&(r._vxl.set_enabled(n,t),r._renderPluginContext.requestRender())}))}},{key:"setSlices",value:function(e,t){var r={mask:y.UpdateFlags.Slices,slices:{planes:t,currentEditPlane:-1}};return this._doMaskedUIUpdate(e,r,!0)}},{key:"setDynamicSections",value:function(e,t){var r={mask:y.UpdateFlags.DynamicSections,dynamicSections:{planes:t,currentEditPlane:-1}};return this._doMaskedUIUpdate(e,r,!0)}},{key:"setStaticSections",value:function(e,t){var r={mask:y.UpdateFlags.StaticSections,staticSections:t};return this._doMaskedUIUpdate(e,r,!0)}},{key:"setCurrentVariable",value:function(e,t){var r={mask:y.UpdateFlags.CurrentVariable,currentVariable:t};return this._doMaskedUIUpdate(e,r,!0)}},{key:"setRenderMode",value:function(e,t){var r={mask:y.UpdateFlags.RenderMode,renderMode:t};return this._doMaskedUIUpdate(e,r,!0)}},{key:"_doMaskedUIUpdate",value:function(e,t,r){var i=this;if(!this._vxl)return!1;var n=!1;return this._layers.forEach((function(r,o){if(r.layerView===e){var a={str:JSON.stringify(t),byteCount:0,ptr:0,isReusable:!1};i._allocateBlock(a)&&(n=1===i._vxl.handle_masked_ui_update(o,a.ptr,a.byteCount),a.isReusable||i._vxl._free(a.ptr))}})),n&&r&&this._renderPluginContext.requestRender(),n}},{key:"addVoxelLayer",value:function(e){if(!this._vxl){var t={layerView:e,resolveCallback:null,rejectCallback:null},r=new Promise((function(e,r){t.resolveCallback=e,t.rejectCallback=r}));return this._newLayers.push(t),r}var i=this._addVoxelLayer(e);return i<0?Promise.reject(-1):Promise.resolve(i)}},{key:"removeVoxelLayer",value:function(e){var t=this;if(!this._vxl){var r=this._newLayers.findIndex((function(t){return e===t.layerView}));r>=0&&(this._newLayers[r].resolveCallback(-1),this._newLayers.splice(r,1));var i=this._newLayers.length;return 0===i&&(this._dbg(n.Lifetime," no voxel layers left after removing a layer, removing RenderPlugin and destroying"),this.destroy()),i}var o=-1;this._layers.forEach((function(r,i){r.layerView===e&&(o=i,r.abortController.abort(),t._vxl.remove_layer(o))})),o>=0&&this._layers.delete(o);var a=this._layers.size;return 0===a&&(this._dbg(n.Lifetime," no voxel layers left after removing a layer, removing RenderPlugin and destroying"),this.destroy()),a}},{key:"_getBlockSize",value:function(e){var t=!0,r=!1,i=void 0;try{for(var n,o=this._wasmMemBlockSizes[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var a=n.value;if(e<a)return a}}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}return-1}},{key:"_allocateBlock",value:function(e){e.byteCount=this._vxl.lengthBytesUTF8(e.str)+1;var t=this._getBlockSize(e.byteCount);return t<0?(e.isReusable=!1,e.ptr=this._vxl._malloc(e.byteCount)):(e.isReusable=!0,e.ptr=this._wasmMemBlocks.get(t),0===e.ptr&&(e.ptr=this._vxl._malloc(t),this._wasmMemBlocks.set(t,e.ptr))),0!==e.ptr&&(this._vxl.stringToUTF8(e.str,e.ptr,e.byteCount),!0)}},{key:"_getTimeArgs",value:function(e){var t=-Number.MAX_VALUE,r=Number.MAX_VALUE,i=!1;return(0,c.isSome)(e)&&(e.isAllTime?i=!0:((0,c.isSome)(e.start)&&(i=!0,t=e.start.getTime()/1e3),(0,c.isSome)(e.end)&&(i=!0,r=e.end.getTime()/1e3))),{startTime:t,endTime:r,useTime:i}}},{key:"_addVoxelLayer",value:function(e){var t,r,i=e.layer,n=i.getConfiguration();if(n.length<1)return-1;var o={str:n,byteCount:0,ptr:0,isReusable:!1};if(!this._allocateBlock(o))return-1;var a=this._getTimeArgs(null==(t=this._view)?void 0:t.timeExtent),s=this._view.spatialReference.isWGS84&&i.spatialReference.isWGS84?111319.49079327357:1;if(r=this._vxl.add_layer(i.serviceRoot,o.ptr,o.byteCount,s,s,a.startTime,a.endTime,a.useTime,this._toWasmQuality(this._view.qualityProfile)),o.isReusable||this._vxl._free(o.ptr),r>=0){var u=new AbortController;if(this._layers.set(r,{layerView:e,responses:new Map,outstandingRequestCount:0,abortController:u,needMemoryUsageUpdate:!1}),!this._halfIntTexturesAvailable||(0,l.default)("mac")){var c=[],p="",d=!0,y=!1,v=void 0;try{for(var h,f=e.layer.variables[Symbol.iterator]();!(d=(h=f.next()).done);d=!0){var _=h.value;"Int16"!==_.renderingFormat.type&&"UInt16"!==_.renderingFormat.type||(c.push(_.name),_.id===e.layer.style.currentVariableId&&(p=_.name))}}catch(e){y=!0,v=e}finally{try{d||null==f.return||f.return()}finally{if(y)throw v}}""!==p&&S.error("#addVoxelLayer_error()",e.layer,"The voxel layer '".concat(e.layer.title,"' cannot render the current variable '").concat(p,"' in this browser")),c.length>0&&S.warn("#addVoxelLayer_warning()",e.layer,"The voxel layer '".concat(e.layer.title,"' cannot render the variables '").concat(c.toString(),"' in this browser"))}return(0,l.default)("esri-mobile")&&S.warnOnce("Mobile support differs across devices. Voxel layer might not display as expected."),r}return-1}},{key:"prepareRender",value:function(e){if(this._vxl){var t=e.viewForward,r=e.eye;this._vxl.update_camera_pos_and_direction(r[0],r[1],r[2],t[0],t[1],t[2]);var i=this._vxl.cull();this._dbg(n.RequestResponse,"missingResourceCount="+i),this._moreToLoad=i>0,this._havePreparedWithAllLayers=0===this._newLayers.length,this._updateMemoryUsage()}}},{key:"render",value:function(e){if(this._vxl&&e.pass===this._renderPass&&e.slot===this._renderSlot){var t=!0,r=!1,i=void 0;try{for(var o,a=this._newLayers[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value,l=this._addVoxelLayer(s.layerView);-1===l?s.rejectCallback(-1):s.resolveCallback(l)}}catch(e){r=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}if(this._newLayers=[],0!==this._layers.size){this._renderTargetToRestore={fbo:this._rctx.getBoundFramebufferObject(),viewport:this._rctx.getViewport()},this._syncRequestsResponses(),this._lastFrameWasStationary=this._view.stationary,this._rctx.setPolygonOffsetFillEnabled(!1),this._rctx.setScissorTestEnabled(!1),this._rctx.setColorMask(!0,!0,!0,!0),this._vxl.begin_color_frame(!this._view.stationary||this._moreToLoad,e.scenelightingData.lightingMainDirection[0],e.scenelightingData.lightingMainDirection[1],e.scenelightingData.lightingMainDirection[2]);var u=this._renderTargetToRestore.viewport;u.width===this._viewportWidth&&u.height===this._viewportHeight||(this._viewportWidth=u.width,this._viewportHeight=u.height,this._vxl.set_viewport(u.width,u.height),this._layers.forEach((function(e){e.needMemoryUsageUpdate=!0}))),0===u.x&&0===u.y||this._dbg(n.Error,"Unsupported viewport parameters detected!"),this.updateWasmCamera(e.camera),this._vxl.draw(),this._renderTargetToRestore.fbo=null,e.rctx.externalTextureUnitUpdate(this._vxl.get_texture_units_bound_in_frame(),this._vxl.get_active_texture_unit()),e.rctx.externalVertexArrayObjectUpdate(),e.rctx.externalVertexBufferUpdate(),this._rctx.externalProgramUpdate(),(this._moreToLoad||!this._havePreparedWithAllLayers&&this._layers.size>0)&&this._renderPluginContext.requestRender()}else this._dbg(n.Error,"No voxel layers but RenderPlugin instance is being asked to render!")}}},{key:"destroy",value:function(){var e=this;this._dbg(n.Lifetime,"--destroy--"),this._removeRenderPlugin(),this._readyWatchHandle=(0,c.removeMaybe)(this._readyWatchHandle),this._qualityWatchHandle=(0,c.removeMaybe)(this._qualityWatchHandle),this._timeExtentWatchHandle=(0,c.removeMaybe)(this._timeExtentWatchHandle),this._stationaryWatchHandle=(0,c.removeMaybe)(this._stationaryWatchHandle),this._vxl&&(this._layers.forEach((function(e){e.abortController.abort()})),this._wasmMemBlocks.forEach((function(t){0!==t&&e._vxl._free(t)})),this._vxl.uninitialize_voxel_wasm(),this._vxl=null)}},{key:"_initializeWasm",value:function(e){var t=this;return this._vxl?Promise.resolve():(this._vxlPromise||(this._vxlPromise=(0,v.loadVoxelWASM)(e).then((function(e){var r;if(t._vxl=e,t._vxlPromise=null,t._newLayers.length<=0)return t._dbg(n.Lifetime," no voxel layers left after WASM downloaded, removing RenderPlugin and destroying"),void t.destroy();var i=t._getTimeArgs(null==(r=t._view)?void 0:r.timeExtent),o=t._vxl.addFunction(t._restoreFramebuffer.bind(t),"v"),a=t._vxl.addFunction(t._setBlendState.bind(t),"viiii"),s=t._vxl.addFunction(t._setFrontFace.bind(t),"vi"),u=t._vxl.addFunction(t._setRasterizerState.bind(t),"vi"),c=t._vxl.addFunction(t._setDepthStencilStateFunction.bind(t),"viii"),p=t._vxl.addFunction(t._setViewport.bind(t),"viiii"),d=t._vxl.addFunction(t._bindPreviousDepthToSlot.bind(t),"iii"),y=t._vxl.addFunction(t._modifyResourceCount.bind(t),"viii"),v=t._halfIntTexturesAvailable&&!(0,l.default)("mac");t._vxl.initialize_voxel_wasm(o,a,s,u,c,p,d,y,i.startTime,i.endTime,i.useTime,v),t._renderPluginContext&&t._renderPluginContext.requestRender()})).catch((function(){var e=!0,r=!1,i=void 0;try{for(var o,a=t._newLayers[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){o.value.rejectCallback(-2)}}catch(e){r=!0,i=e}finally{try{e||null==a.return||a.return()}finally{if(r)throw i}}t._dbg(n.Error," WASM failed to download, removing RenderPlugin and destroying"),t.destroy()}))),this._vxlPromise)}},{key:"pickDepth",value:function(e,t,r){if(!this._vxl||!this._rctx||0===this._layers.size)return null;var i=r.viewport[3]-t;if(e<0||e>r.viewport[2]||t<0||t>r.viewport[3])return this._dbg(n.Error,"pickDepth: outOfRange, screenXY=[".concat(e,", ").concat(i,"], vp=[").concat(r.viewport.toString(),"]")),null;this._renderTargetToRestore={fbo:this._rctx.getBoundFramebufferObject(),viewport:this._rctx.getViewport()};var o=r.viewForward,a=r.eye;this._vxl.update_camera_pos_and_direction(a[0],a[1],a[2],o[0],o[1],o[2]),this.updateWasmCamera(r),this._vxl.begin_frame();var s=this._vxl.pick_depth(e,i);return this._renderTargetToRestore.fbo=null,this._rctx.externalTextureUnitUpdate(this._vxl.get_texture_units_bound_in_frame(),this._vxl.get_active_texture_unit()),this._rctx.externalVertexArrayObjectUpdate(),this._rctx.externalVertexBufferUpdate(),this._rctx.externalProgramUpdate(),s.success?s.distanceToCamera:null}},{key:"_toWasmQuality",value:function(e){switch(e){case"low":return 0;case"medium":return 1;case"high":return 2}}}]),e}()})),t.register("g8kAT",(function(t,r){var i,n,o,a,s,l,u,c,p,d;e(t.exports,"VoxelRequestType",(function(){return n})),e(t.exports,"WasmCullMode",(function(){return o})),e(t.exports,"UpdateFlags",(function(){return s})),(d=i||(i={}))[d.Binary=0]="Binary",d[d.JSON=1]="JSON",(p=n||(n={}))[p.TreeIndex=0]="TreeIndex",p[p.TreeStats=1]="TreeStats",p[p.TreeData=2]="TreeData",p[p.BrickBundles=3]="BrickBundles",p[p.Section=4]="Section",p[p.VariableStats=5]="VariableStats",(c=o||(o={}))[c.None=1]="None",c[c.Front=2]="Front",c[c.Back=3]="Back",(u=a||(a={}))[u.Low=0]="Low",u[u.Medium=1]="Medium",u[u.High=2]="High",(l=s||(s={}))[l.None=0]="None",l[l.StaticSections=1]="StaticSections",l[l.Slices=2]="Slices",l[l.DynamicSections=4]="DynamicSections",l[l.GhostShell=8]="GhostShell",l[l.Isosurface=16]="Isosurface",l[l.Quality=32]="Quality",l[l.SunLocation=64]="SunLocation",l[l.StaticSectionSelection=128]="StaticSectionSelection",l[l.ExaggerationAndOffset=256]="ExaggerationAndOffset",l[l.CurrentTime=512]="CurrentTime",l[l.CurrentVariable=1024]="CurrentVariable",l[l.DeleteIsosurface=2048]="DeleteIsosurface",l[l.ContainerVisibility=4096]="ContainerVisibility",l[l.RenderMode=8192]="RenderMode",l[l.Optimization=16384]="Optimization"})),t.register("gN5Wg",(function(r,i){e(r.exports,"loadVoxelWASM",(function(){return o}));var n=t("i9j5X");function o(e){return new Promise((function(r){return t("gmDzV").then((function(e){return e.v})).then((function(t){var i=(0,t.default)({locateFile:a,preinitializedWebGLContext:e,onRuntimeInitialized:function(){return r(i)}})}))})).catch((function(e){return Promise.reject(e)}))}function a(e){return(0,n.getAssetUrl)("esri/libs/vxl/".concat(e))}})),t.register("gmDzV",(function(e,r){e.exports=t("4WKyX")(t("aNJCr").getBundleURL("jqBZs")+t("iE7OH").resolve("8rr3j")).then((function(){return t("gGPXM")}))})),t.register("8pJsJ",(function(t,r){var i,n;e(t.exports,"RenderPass",(function(){return i})),(n=i||(i={}))[n.MATERIAL=0]="MATERIAL",n[n.MATERIAL_ALPHA=1]="MATERIAL_ALPHA",n[n.MATERIAL_DEPTH=2]="MATERIAL_DEPTH",n[n.MATERIAL_NORMAL=3]="MATERIAL_NORMAL",n[n.MATERIAL_DEPTH_SHADOWMAP_ALL=4]="MATERIAL_DEPTH_SHADOWMAP_ALL",n[n.MATERIAL_HIGHLIGHT=5]="MATERIAL_HIGHLIGHT",n[n.MATERIAL_DEPTH_SHADOWMAP_DEFAULT=6]="MATERIAL_DEPTH_SHADOWMAP_DEFAULT",n[n.MATERIAL_DEPTH_SHADOWMAP_HIGHLIGHT=7]="MATERIAL_DEPTH_SHADOWMAP_HIGHLIGHT",n[n.MAX_PASS=8]="MAX_PASS"})),t.register("7vfk8",(function(t,r){var i,n;e(t.exports,"RenderSlot",(function(){return i})),(n=i||(i={}))[n.INTEGRATED_MESH=0]="INTEGRATED_MESH",n[n.OPAQUE_TERRAIN=1]="OPAQUE_TERRAIN",n[n.OPAQUE_MATERIAL=2]="OPAQUE_MATERIAL",n[n.OPAQUE_PLUGIN=3]="OPAQUE_PLUGIN",n[n.TRANSPARENT_MATERIAL=4]="TRANSPARENT_MATERIAL",n[n.TRANSPARENT_PLUGIN=5]="TRANSPARENT_PLUGIN",n[n.TRANSPARENT_TERRAIN=6]="TRANSPARENT_TERRAIN",n[n.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL=7]="TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL",n[n.OCCLUDED_TERRAIN=8]="OCCLUDED_TERRAIN",n[n.OCCLUDER_MATERIAL=9]="OCCLUDER_MATERIAL",n[n.TRANSPARENT_OCCLUDER_MATERIAL=10]="TRANSPARENT_OCCLUDER_MATERIAL",n[n.OCCLUSION_PIXELS=11]="OCCLUSION_PIXELS",n[n.POSTPROCESSING_ENVIRONMENT_OPAQUE=12]="POSTPROCESSING_ENVIRONMENT_OPAQUE",n[n.POSTPROCESSING_ENVIRONMENT_TRANSPARENT=13]="POSTPROCESSING_ENVIRONMENT_TRANSPARENT",n[n.LASERLINES=14]="LASERLINES",n[n.LASERLINES_CONTRAST_CONTROL=15]="LASERLINES_CONTRAST_CONTROL",n[n.HUD_MATERIAL=16]="HUD_MATERIAL",n[n.LABEL_MATERIAL=17]="LABEL_MATERIAL",n[n.LINE_CALLOUTS=18]="LINE_CALLOUTS",n[n.LINE_CALLOUTS_HUD_DEPTH=19]="LINE_CALLOUTS_HUD_DEPTH",n[n.DRAPED_MATERIAL=20]="DRAPED_MATERIAL",n[n.DRAPED_WATER=21]="DRAPED_WATER",n[n.VOXEL=22]="VOXEL",n[n.MAX_SLOTS=23]="MAX_SLOTS"})),t.register("7xSIc",(function(r,i){e(r.exports,"default",(function(){return c}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),s=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var l=t("fcwIv"),u=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(){var e;return n.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).enabled=!0,e.label="",e.normal=null,e.point=null,n.possibleConstructorReturn(e)}return r}(a.JSONSupport);(0,o._)([(0,s.property)({type:Boolean,json:{default:!0,write:!0}})],u.prototype,"enabled",void 0),(0,o._)([(0,s.property)({type:String,json:{write:!0}})],u.prototype,"label",void 0),(0,o._)([(0,s.property)({type:[Number],json:{write:!0}})],u.prototype,"normal",void 0),(0,o._)([(0,s.property)({type:[Number],json:{write:!0}})],u.prototype,"point",void 0);var c=u=(0,o._)([(0,l.subclass)("esri.layers.support.VoxelDynamicSection")],u)})),t.register("dFAMB",(function(r,i){e(r.exports,"default",(function(){return v}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),s=t("iho5X");t("lNwWH"),t("2VlWd");var l=t("iJAIC"),u=t("eB8sj"),c=t("fcwIv"),p=t("l0s2h"),d=t("9ELaA"),y=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(){var e;return n.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).enabled=!0,e.href=null,e.id=null,e.label="",e.normal=null,e.point=null,e.sizeInPixel=null,e.slices=null,e.timeId=0,e.variableId=null,n.possibleConstructorReturn(e)}return n.createClass(r,[{key:"readHref",value:function(e,t,r){return(0,d.f)(e,r)}}]),r}(a.JSONSupport);(0,o._)([(0,s.property)({type:Boolean,json:{default:!0,write:!0}})],y.prototype,"enabled",void 0),(0,o._)([(0,s.property)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],y.prototype,"href",void 0),(0,o._)([(0,u.reader)(["service","web-scene"],"href")],y.prototype,"readHref",null),(0,o._)([(0,s.property)({type:l.Integer,json:{write:{enabled:!0,isRequired:!0}}})],y.prototype,"id",void 0),(0,o._)([(0,s.property)({type:String,json:{write:!0}})],y.prototype,"label",void 0),(0,o._)([(0,s.property)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],y.prototype,"normal",void 0),(0,o._)([(0,s.property)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],y.prototype,"point",void 0),(0,o._)([(0,s.property)({type:[l.Integer],json:{write:{enabled:!0,isRequired:!0}}})],y.prototype,"sizeInPixel",void 0),(0,o._)([(0,s.property)({type:[p.default],json:{write:!0}})],y.prototype,"slices",void 0),(0,o._)([(0,s.property)({type:l.Integer,json:{default:0,write:!0}})],y.prototype,"timeId",void 0),(0,o._)([(0,s.property)({type:l.Integer,json:{write:{enabled:!0,isRequired:!0}}})],y.prototype,"variableId",void 0);var v=y=(0,o._)([(0,c.subclass)("esri.layers.support.VoxelSection")],y)})),t.register("l0s2h",(function(r,i){e(r.exports,"default",(function(){return c}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),s=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var l=t("fcwIv"),u=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(){var e;return n.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).enabled=!0,e.label="",e.normal=null,e.point=null,n.possibleConstructorReturn(e)}return r}(a.JSONSupport);(0,o._)([(0,s.property)({type:Boolean,json:{write:!0}})],u.prototype,"enabled",void 0),(0,o._)([(0,s.property)({type:String,json:{write:!0}})],u.prototype,"label",void 0),(0,o._)([(0,s.property)({type:[Number],json:{write:!0}})],u.prototype,"normal",void 0),(0,o._)([(0,s.property)({type:[Number],json:{write:!0}})],u.prototype,"point",void 0);var c=u=(0,o._)([(0,l.subclass)("esri.layers.support.VoxelSlice")],u)})),t.register("eY8By",(function(r,i){e(r.exports,"default",(function(){return f}));var n=t("8TSCy"),o=t("7eJjO"),a=t("d2yMj"),s=t("30Aps"),l=t("1XAcN"),u=t("iho5X");t("lNwWH"),t("2VlWd");var c=t("iJAIC"),p=t("fcwIv"),d=t("5xMPt"),y=t("7tBKH"),v=t("lso0y"),h=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(e){var i;return n.classCallCheck(this,r),(i=t.call(this,e)).currentVariableId=0,i.renderMode="volume",i.enableSlices=!0,i.enableSections=!0,i.enableDynamicSections=!0,i.enableIsosurfaces=!0,i.shading=new(0,d.default),i.volumeStyles=new(0,a.default),i.variableStyles=new(0,a.default),n.possibleConstructorReturn(i)}return n.createClass(r,[{key:"volumeStyles",set:function(e){this._set("volumeStyles",(0,s.referenceSetter)(e,this._get("volumeStyles"),a.default.ofType(v.default)))}},{key:"variableStyles",set:function(e){this._set("variableStyles",(0,s.referenceSetter)(e,this._get("variableStyles"),a.default.ofType(y.default)))}}]),r}(l.JSONSupport);(0,o._)([(0,u.property)({type:a.default.ofType(v.default),json:{write:!0}})],h.prototype,"volumeStyles",null),(0,o._)([(0,u.property)({type:c.Integer,json:{write:{enabled:!0,isRequired:!0}}})],h.prototype,"currentVariableId",void 0),(0,o._)([(0,u.property)({type:["volume","surfaces"],json:{write:!0}})],h.prototype,"renderMode",void 0),(0,o._)([(0,u.property)({type:a.default.ofType(y.default),json:{write:!0}})],h.prototype,"variableStyles",null),(0,o._)([(0,u.property)({type:Boolean,json:{write:!0}})],h.prototype,"enableSlices",void 0),(0,o._)([(0,u.property)({type:Boolean,json:{write:!0}})],h.prototype,"enableSections",void 0),(0,o._)([(0,u.property)({type:Boolean,json:{write:!0}})],h.prototype,"enableDynamicSections",void 0),(0,o._)([(0,u.property)({type:Boolean,json:{write:!0}})],h.prototype,"enableIsosurfaces",void 0),(0,o._)([(0,u.property)({type:d.default,json:{write:!0}})],h.prototype,"shading",void 0);var f=h=(0,o._)([(0,p.subclass)("esri.layers.support.VoxelStyle")],h)})),t.register("5xMPt",(function(r,i){e(r.exports,"default",(function(){return c}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),s=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var l=t("fcwIv"),u=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(){var e;return n.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).diffuseFactor=.5,e.specularFactor=.5,n.possibleConstructorReturn(e)}return r}(a.JSONSupport);(0,o._)([(0,s.property)({type:Number,range:{min:0,max:1},json:{default:.5,write:!0}})],u.prototype,"diffuseFactor",void 0),(0,o._)([(0,s.property)({type:Number,range:{min:0,max:1},json:{default:.5,write:!0}})],u.prototype,"specularFactor",void 0);var c=u=(0,o._)([(0,l.subclass)("esri.layers.support.VoxelSimpleShading")],u)})),t.register("7tBKH",(function(r,i){e(r.exports,"default",(function(){return f}));var n=t("8TSCy"),o=t("7eJjO"),a=t("d2yMj"),s=t("30Aps"),l=t("1XAcN"),u=t("iho5X");t("lNwWH"),t("2VlWd");var c=t("iJAIC"),p=t("fcwIv"),d=t("kIo5W"),y=t("2nuoO"),v=t("fyT5S"),h=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(e){var i;return n.classCallCheck(this,r),(i=t.call(this,e)).variableId=0,i.label=null,i.transferFunction=null,i.uniqueValues=new(0,a.default),i.isosurfaces=new(0,a.default),n.possibleConstructorReturn(i)}return n.createClass(r,[{key:"uniqueValues",set:function(e){this._set("uniqueValues",(0,s.referenceSetter)(e,this._get("uniqueValues"),a.default.ofType(v.default)))}},{key:"isosurfaces",set:function(e){this._set("isosurfaces",(0,s.referenceSetter)(e,this._get("isosurfaces"),a.default.ofType(d.default)))}}]),r}(l.JSONSupport);(0,o._)([(0,u.property)({type:c.Integer,json:{write:{enabled:!0,isRequired:!0}}})],h.prototype,"variableId",void 0),(0,o._)([(0,u.property)({type:String,json:{write:!0}})],h.prototype,"label",void 0),(0,o._)([(0,u.property)({type:y.default,json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!this.uniqueValues||this.uniqueValues.length<1}}}}})],h.prototype,"transferFunction",void 0),(0,o._)([(0,u.property)({type:a.default.ofType(v.default),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.uniqueValues&&this.uniqueValues.length>0}}}}})],h.prototype,"uniqueValues",null),(0,o._)([(0,u.property)({type:a.default.ofType(d.default),json:{write:{enabled:!0,overridePolicy:function(){var e=!this.uniqueValues||this.uniqueValues.length<1,t=!!this.isosurfaces&&this.isosurfaces.length>0;return{enabled:e&&t}}}}})],h.prototype,"isosurfaces",null);var f=h=(0,o._)([(0,p.subclass)("esri.layers.support.VoxelVariableStyle")],h)})),t.register("kIo5W",(function(r,i){e(r.exports,"default",(function(){return d}));var n=t("8TSCy"),o=t("7eJjO"),a=t("jgs9n"),s=t("1XAcN"),l=t("iho5X");t("lNwWH"),t("2VlWd");var u=t("iJAIC"),c=t("fcwIv"),p=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(){var e;return n.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).color=null,e.value=null,e.enabled=!0,e.label=null,n.possibleConstructorReturn(e)}return r}(s.JSONSupport);(0,o._)([(0,l.property)({type:a.default,json:{type:[u.Integer],write:{enabled:!0,isRequired:!0}}})],p.prototype,"color",void 0),(0,o._)([(0,l.property)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],p.prototype,"value",void 0),(0,o._)([(0,l.property)({type:Boolean,json:{default:!0,write:!0}})],p.prototype,"enabled",void 0),(0,o._)([(0,l.property)({type:String,json:{write:!0}})],p.prototype,"label",void 0);var d=p=(0,o._)([(0,c.subclass)("esri.layers.support.VoxelIsosurface")],p)})),t.register("2nuoO",(function(r,i){e(r.exports,"default",(function(){return h}));var n=t("8TSCy"),o=t("7eJjO"),a=t("d2yMj"),s=t("30Aps"),l=t("1XAcN"),u=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var c=t("fcwIv"),p=t("gWptp"),d=t("heakX"),y=t("bE92Y"),v=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(e){var i;return n.classCallCheck(this,r),(i=t.call(this,e)).interpolation=null,i.stretchRange=null,i.rangeFilter=null,i.colorStops=new(0,a.default),i.alphaStops=new(0,a.default),n.possibleConstructorReturn(i)}return n.createClass(r,[{key:"colorStops",set:function(e){this._set("colorStops",(0,s.referenceSetter)(e,this._get("colorStops"),a.default.ofType(d.default)))}},{key:"alphaStops",set:function(e){this._set("alphaStops",(0,s.referenceSetter)(e,this._get("alphaStops"),a.default.ofType(p.default)))}}]),r}(l.JSONSupport);(0,o._)([(0,u.property)({type:["linear","nearest"],json:{write:!0}})],v.prototype,"interpolation",void 0),(0,o._)([(0,u.property)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],v.prototype,"stretchRange",void 0),(0,o._)([(0,u.property)({type:a.default.ofType(d.default),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.colorStops&&this.colorStops.length>0}}}}})],v.prototype,"colorStops",null),(0,o._)([(0,u.property)({type:a.default.ofType(p.default),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.alphaStops&&this.alphaStops.length>0}}}}})],v.prototype,"alphaStops",null),(0,o._)([(0,u.property)({type:y.default,json:{write:!0}})],v.prototype,"rangeFilter",void 0);var h=v=(0,o._)([(0,c.subclass)("esri.layers.support.VoxelTransferFunctionStyle")],v)})),t.register("gWptp",(function(r,i){e(r.exports,"default",(function(){return c}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),s=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var l=t("fcwIv"),u=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(){var e;return n.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).alpha=0,e.position=0,n.possibleConstructorReturn(e)}return r}(a.JSONSupport);(0,o._)([(0,s.property)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],u.prototype,"alpha",void 0),(0,o._)([(0,s.property)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],u.prototype,"position",void 0);var c=u=(0,o._)([(0,l.subclass)("esri.layers.support.VoxelAlphaStop")],u)})),t.register("heakX",(function(r,i){e(r.exports,"default",(function(){return d}));var n=t("8TSCy"),o=t("7eJjO"),a=t("jgs9n"),s=t("1XAcN"),l=t("iho5X");t("lNwWH"),t("2VlWd");var u=t("iJAIC"),c=t("fcwIv"),p=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(){var e;return n.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).color=null,e.position=0,n.possibleConstructorReturn(e)}return r}(s.JSONSupport);(0,o._)([(0,l.property)({type:a.default,json:{type:[u.Integer],write:{enabled:!0,isRequired:!0}}})],p.prototype,"color",void 0),(0,o._)([(0,l.property)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],p.prototype,"position",void 0);var d=p=(0,o._)([(0,c.subclass)("esri.layers.support.VoxelColorStop")],p)})),t.register("bE92Y",(function(r,i){e(r.exports,"default",(function(){return c}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),s=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var l=t("fcwIv"),u=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(){var e;return n.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).enabled=!1,e.range=null,n.possibleConstructorReturn(e)}return r}(a.JSONSupport);(0,o._)([(0,s.property)({type:Boolean,json:{default:!1,write:!0}})],u.prototype,"enabled",void 0),(0,o._)([(0,s.property)({type:[Number],json:{write:!0}})],u.prototype,"range",void 0);var c=u=(0,o._)([(0,l.subclass)("esri.layers.support.VoxelRangeFilter")],u)})),t.register("fyT5S",(function(r,i){e(r.exports,"default",(function(){return d}));var n=t("8TSCy"),o=t("7eJjO"),a=t("jgs9n"),s=t("1XAcN"),l=t("iho5X");t("lNwWH"),t("2VlWd");var u=t("iJAIC"),c=t("fcwIv"),p=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(){var e;return n.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).color=null,e.value=0,e.enabled=!0,e.label=null,n.possibleConstructorReturn(e)}return r}(s.JSONSupport);(0,o._)([(0,l.property)({type:a.default,json:{type:[u.Integer],write:{enabled:!0,isRequired:!0}}})],p.prototype,"color",void 0),(0,o._)([(0,l.property)({type:u.Integer,json:{write:{enabled:!0,isRequired:!0}}})],p.prototype,"value",void 0),(0,o._)([(0,l.property)({type:Boolean,json:{default:!0,write:!0}})],p.prototype,"enabled",void 0),(0,o._)([(0,l.property)({type:String,json:{write:!0}})],p.prototype,"label",void 0);var d=p=(0,o._)([(0,c.subclass)("esri.layers.support.VoxelUniqueValue")],p)})),t.register("lso0y",(function(r,i){e(r.exports,"default",(function(){return h}));var n=t("8TSCy"),o=t("7eJjO"),a=t("d2yMj"),s=t("30Aps"),l=t("1XAcN"),u=t("iho5X");t("lNwWH"),t("2VlWd");var c=t("iJAIC"),p=t("fcwIv"),d=t("7xSIc"),y=t("l0s2h"),v=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(e){var i;return n.classCallCheck(this,r),(i=t.call(this,e)).volumeId=0,i.verticalExaggeration=1,i.exaggerationMode="scale-height",i.verticalOffset=0,i.slices=new(0,a.default),i.dynamicSections=new(0,a.default),n.possibleConstructorReturn(i)}return n.createClass(r,[{key:"slices",set:function(e){this._set("slices",(0,s.referenceSetter)(e,this._get("slices"),a.default.ofType(y.default)))}},{key:"dynamicSections",set:function(e){this._set("dynamicSections",(0,s.referenceSetter)(e,this._get("dynamicSections"),a.default.ofType(d.default)))}}]),r}(l.JSONSupport);(0,o._)([(0,u.property)({type:c.Integer,json:{write:{enabled:!0,isRequired:!0}}})],v.prototype,"volumeId",void 0),(0,o._)([(0,u.property)({type:Number,json:{default:1,write:!0}})],v.prototype,"verticalExaggeration",void 0),(0,o._)([(0,u.property)({type:["scale-position","scale-height"],json:{default:"scale-height",write:!0}})],v.prototype,"exaggerationMode",void 0),(0,o._)([(0,u.property)({type:Number,json:{default:0,write:!0}})],v.prototype,"verticalOffset",void 0),(0,o._)([(0,u.property)({type:a.default.ofType(y.default),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.slices&&this.slices.length>0}}}}})],v.prototype,"slices",null),(0,o._)([(0,u.property)({type:a.default.ofType(d.default),json:{write:{enabled:!0,overridePolicy:function(){return{enabled:!!this.dynamicSections&&this.dynamicSections.length>0}}}}})],v.prototype,"dynamicSections",null);var h=v=(0,o._)([(0,p.subclass)("esri.layers.support.VoxelVolumeStyle")],v)})),t.register("8xtqK",(function(r,i){e(r.exports,"default",(function(){return p}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),s=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var l=t("fcwIv"),u=t("cbWQS"),c=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(){var e;return n.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).id=null,e.description="",e.name=null,e.originalFormat=null,e.renderingFormat=null,e.unit="",e.volumeId=0,e.type=null,n.possibleConstructorReturn(e)}return r}(a.JSONSupport);(0,o._)([(0,s.property)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],c.prototype,"id",void 0),(0,o._)([(0,s.property)({type:String,json:{write:!0}})],c.prototype,"description",void 0),(0,o._)([(0,s.property)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],c.prototype,"name",void 0),(0,o._)([(0,s.property)({type:u.default,json:{write:!0}})],c.prototype,"originalFormat",void 0),(0,o._)([(0,s.property)({type:u.default,json:{write:{enabled:!0,isRequired:!0}}})],c.prototype,"renderingFormat",void 0),(0,o._)([(0,s.property)({type:String,json:{write:!0}})],c.prototype,"unit",void 0),(0,o._)([(0,s.property)({type:Number,json:{write:!0}})],c.prototype,"volumeId",void 0),(0,o._)([(0,s.property)({type:["stc-hot-spot-results","stc-cluster-outlier-results","stc-estimated-bin","generic-nearest-interpolated"],json:{write:!0}})],c.prototype,"type",void 0);var p=c=(0,o._)([(0,l.subclass)("esri.layers.support.VoxelVariable")],c)})),t.register("cbWQS",(function(r,i){e(r.exports,"default",(function(){return c}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),s=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var l=t("fcwIv"),u=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(){var e;return n.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).continuity=null,e.hasNoData=!1,e.noData=0,e.offset=0,e.scale=1,e.type=null,n.possibleConstructorReturn(e)}return r}(a.JSONSupport);(0,o._)([(0,s.property)({type:["discrete","continuous"],json:{write:!0}})],u.prototype,"continuity",void 0),(0,o._)([(0,s.property)({type:Boolean,json:{write:!0}})],u.prototype,"hasNoData",void 0),(0,o._)([(0,s.property)({type:Number,json:{write:!0}})],u.prototype,"noData",void 0),(0,o._)([(0,s.property)({type:Number,json:{write:!0}})],u.prototype,"offset",void 0),(0,o._)([(0,s.property)({type:Number,json:{write:!0}})],u.prototype,"scale",void 0),(0,o._)([(0,s.property)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],u.prototype,"type",void 0);var c=u=(0,o._)([(0,l.subclass)("esri.layers.support.VoxelFormat")],u)})),t.register("kGM5K",(function(r,i){e(r.exports,"default",(function(){return p}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),s=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var l=t("fcwIv"),u=t("lE4Lv"),c=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(){var e;return n.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).id=0,e.dimensions=null,n.possibleConstructorReturn(e)}return n.createClass(r,[{key:"getZDimension",value:function(){if(!this.dimensions)return-1;if(!Array.isArray(this.dimensions))return-1;if(4!==this.dimensions.length)return-1;for(var e=2;e<4;++e)if(this.dimensions[e].size>0)return e;return-1}},{key:"isVolumeValid",value:function(){return!!this.dimensions&&!!Array.isArray(this.dimensions)&&4===this.dimensions.length&&!(this.dimensions[0].size<1||this.dimensions[1].size<1)&&-1!==this.getZDimension()}}]),r}(a.JSONSupport);(0,o._)([(0,s.property)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],c.prototype,"id",void 0),(0,o._)([(0,s.property)({type:[u.default],json:{write:{enabled:!0,isRequired:!0}}})],c.prototype,"dimensions",void 0);var p=c=(0,o._)([(0,l.subclass)("esri.layers.support.VoxelVolume")],c)})),t.register("lE4Lv",(function(r,i){e(r.exports,"default",(function(){return d}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),s=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var l=t("fcwIv"),u=t("chrn3"),c=t("gjr9M"),p=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(){var e;return n.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).irregularSpacing=null,e.isPositiveUp=null,e.isWrappedDateLine=null,e.label=null,e.name=null,e.quantity=null,e.regularSpacing=null,e.size=0,e.unit=null,n.possibleConstructorReturn(e)}return r}(a.JSONSupport);(0,o._)([(0,s.property)({type:u.default,json:{write:!0}})],p.prototype,"irregularSpacing",void 0),(0,o._)([(0,s.property)({type:Boolean,json:{write:!0}})],p.prototype,"isPositiveUp",void 0),(0,o._)([(0,s.property)({type:Boolean,json:{write:!0}})],p.prototype,"isWrappedDateLine",void 0),(0,o._)([(0,s.property)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,o._)([(0,s.property)({type:String,json:{write:!0}})],p.prototype,"name",void 0),(0,o._)([(0,s.property)({type:String,json:{write:!0}})],p.prototype,"quantity",void 0),(0,o._)([(0,s.property)({type:c.default,json:{write:!0}})],p.prototype,"regularSpacing",void 0),(0,o._)([(0,s.property)({type:Number,json:{write:!0}})],p.prototype,"size",void 0),(0,o._)([(0,s.property)({type:String,json:{write:!0}})],p.prototype,"unit",void 0);var d=p=(0,o._)([(0,l.subclass)("esri.layers.support.VoxelDimension")],p)})),t.register("chrn3",(function(r,i){e(r.exports,"default",(function(){return c}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),s=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var l=t("fcwIv"),u=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(){var e;return n.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).values=null,n.possibleConstructorReturn(e)}return r}(a.JSONSupport);(0,o._)([(0,s.property)({type:[Number],json:{write:!0}})],u.prototype,"values",void 0);var c=u=(0,o._)([(0,l.subclass)("esri.layers.support.VoxelIrregularSpacing")],u)})),t.register("gjr9M",(function(r,i){e(r.exports,"default",(function(){return c}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),s=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var l=t("fcwIv"),u=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(){var e;return n.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).scale=1,e.offset=0,n.possibleConstructorReturn(e)}return r}(a.JSONSupport);(0,o._)([(0,s.property)({type:Number,json:{write:!0}})],u.prototype,"scale",void 0),(0,o._)([(0,s.property)({type:Number,json:{write:!0}})],u.prototype,"offset",void 0);var c=u=(0,o._)([(0,l.subclass)("esri.layers.support.VoxelRegularSpacing")],u)})),t.register("jKeAr",(function(r,i){e(r.exports,"default",(function(){return p}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),s=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var l,u=t("fcwIv"),c=l=function(e){"use strict";n.inherits(r,e);var t=n.createSuper(r);function r(){var e;return n.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).apronWidth=1,e.brickSize=[32,32,32],e.maxLodLevel=0,e.nodeSize=[4,4,4],n.possibleConstructorReturn(e)}return n.createClass(r,[{key:"isValid",value:function(){var e=new l;return e.apronWidth===this.apronWidth&&e.maxLodLevel===this.maxLodLevel&&!!this.brickSize&&!!this.nodeSize&&!(!Array.isArray(this.brickSize)||!Array.isArray(this.nodeSize))&&3===this.brickSize.length&&3===this.nodeSize.length&&32===this.brickSize[0]&&32===this.brickSize[1]&&32===this.brickSize[2]&&4===this.nodeSize[0]&&4===this.nodeSize[1]&&4===this.nodeSize[2]}}]),r}(a.JSONSupport);(0,o._)([(0,s.property)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],c.prototype,"apronWidth",void 0),(0,o._)([(0,s.property)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],c.prototype,"brickSize",void 0),(0,o._)([(0,s.property)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],c.prototype,"maxLodLevel",void 0),(0,o._)([(0,s.property)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],c.prototype,"nodeSize",void 0);var p=c=l=(0,o._)([(0,u.subclass)("esri.layers.support.VoxelVolumeIndex")],c)})),t.register("amEsL",(function(r,i){e(r.exports,"updateOrigins",(function(){return o}));var n=t("arTQ0");function o(e){e&&e.writtenProperties&&e.writtenProperties.forEach((function(e){var t=e.target;e.newOrigin&&e.oldOrigin!==e.newOrigin&&(0,n.isMultiOriginJSONMixin)(t)&&t.updateOrigin(e.propName,e.newOrigin)}))}})),t.register("arTQ0",(function(t,r){function i(e){return e&&"getAtOrigin"in e&&"originOf"in e}e(t.exports,"isMultiOriginJSONMixin",(function(){return i}))}))}();
//# sourceMappingURL=VoxelLayer.ffb7397e.js.map
