!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,r,i){Object.defineProperty(e,t,{get:r,set:i,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;r.register("jwCSn",(function(i,o){var a;a=i.exports,Object.defineProperty(a,"__esModule",{value:!0,configurable:!0}),t(i.exports,"default",(function(){return fe}));var l=r("8TSCy"),n=r("2TvXO"),s=r("7eJjO"),u=r("cu9iz");r("2ILM8");var p=r("bsvXr"),d=r("3MVX3");r("35mRC"),r("fqK5H"),r("hHJvn"),r("aOUND"),r("7Kl6r"),r("fPYaT"),r("aRUMT");var y=r("lubf9"),m=r("d2yMj"),c=r("kyj08"),f=r("6dXDO"),b=r("jHOLN"),v=r("7qybv"),h=r("8NioF"),T=r("8EPEw"),S=r("lKPaD"),g=r("5vzSQ"),w=r("kYueh"),N=r("iho5X");r("lNwWH"),r("2VlWd"),r("iJAIC");var O=r("eB8sj"),C=r("fcwIv"),_=r("kced1"),I=r("amEsL"),A=r("gINRd"),J=r("7RvA5"),D=r("eY5Yp"),x=r("4LDxK"),j=r("gIXJ2"),B=r("5N5S1"),F=r("9bAYR"),M=r("3GzOb"),E=r("lmu5w"),P=r("1FHv1"),L=r("ajJOT"),k=r("iYaGG"),R=r("7aNbi"),W=r("gToNb"),U=r("9NfRW"),V=r("2UNnS"),q=r("emSvR"),G=r("5CiHJ"),X=r("jzkjj"),z=r("aqAOT"),H=r("cdZvo"),Q=r("61GzN"),K=r("h5ax2"),Z=r("goEAx"),Y=r("j40xv"),$=r("eaHvJ");function ee(e){return e.length?e:null}function te(e){return"layers"in e}function re(e,t,r){var i,o,a,l,n,s,u,p,d,y,m,f=t.impedance,b=t.networkDataset,h=t.supportedTravelModes,T=t.defaultTravelMode,S=b.networkAttributes.filter((function(e){return"esriNAUTCost"===e.usageType})),g=h.find((function(e){return e.id===T})),w=null!=(i=r.travelMode)?i:g;if((0,v.isNone)(w))me.warn("route-layer:missing-travel-mode","The routing service must have a default travel mode or one must be specified in the route parameter.");else{var N=w.timeAttributeName,O=w.distanceAttributeName,C=S.find((function(e){return e.name===N})),_=S.find((function(e){return e.name===O})),I=null!=(o=null!=(a=null==(l=r.travelMode)?void 0:l.impedanceAttributeName)?a:r.impedanceAttribute)?o:f,A=q.directionsTimeUnitJsonMap.fromJSON(null==C?void 0:C.units),J=q.directionsLengthUnitJsonMap.fromJSON(null==_?void 0:_.units);if(!A||!J)throw new(0,c.default)("routelayer:unknown-impedance-units","the units of either the distance or time impedance are unknown");var D=null!=(n=r.directionsLanguage)?n:t.directionsLanguage,x=null!=(s=null!=(u=r.accumulateAttributes)?u:t.accumulateAttributeNames)?s:[],j=new Set(S.filter((function(e){var t=e.name;return t===N||t===O||t===I||x.includes(t)})).map((function(e){return e.name}))),B=function(e){for(var t in e)j.has(t)||delete e[t]},F=!0,M=!1,E=void 0;try{for(var P,L=e.pointBarriers[Symbol.iterator]();!(F=(P=L.next()).done);F=!0){var k,R=P.value;(0,v.isSome)(R.costs)&&(R.addedCost=null!=(k=R.costs[I])?k:0,B(R.costs))}}catch(e){M=!0,E=e}finally{try{F||null==L.return||L.return()}finally{if(M)throw E}}var W=!0,U=!1,V=void 0;try{for(var G,X=e.polygonBarriers[Symbol.iterator]();!(W=(G=X.next()).done);W=!0){var z,H=G.value;(0,v.isSome)(H.costs)&&(H.scaleFactor=null!=(z=H.costs[I])?z:1,B(H.costs))}}catch(e){U=!0,V=e}finally{try{W||null==X.return||X.return()}finally{if(U)throw V}}var Q=!0,Z=!1,Y=void 0;try{for(var $,ee=e.polylineBarriers[Symbol.iterator]();!(Q=($=ee.next()).done);Q=!0){var te,re=$.value;(0,v.isSome)(re.costs)&&(re.scaleFactor=null!=(te=re.costs[I])?te:1,B(re.costs))}}catch(e){Z=!0,Y=e}finally{try{Q||null==ee.return||ee.return()}finally{if(Z)throw Y}}var ie=e.routeInfo,oe=r.findBestSequence,ne=r.preserveFirstStop,se=r.preserveLastStop,ue=r.startTimeIsUTC,pe=r.timeWindowsAreUTC;ie.analysisSettings=new(0,K.default)({accumulateAttributes:x,directionsLanguage:D,findBestSequence:oe,preserveFirstStop:ne,preserveLastStop:se,startTimeIsUTC:ue,timeWindowsAreUTC:pe,travelMode:w}),ie.totalDuration=ae(null!=(p=ie.totalCosts[N])?p:0,A),ie.totalDistance=le(null!=(d=ie.totalCosts[O])?d:0,J),ie.totalLateDuration=ae(null!=(y=ie.totalViolations[N])?y:0,A),ie.totalWaitDuration=ae(null!=(m=ie.totalWait[N])?m:0,A),(0,v.isSome)(ie.totalCosts)&&B(ie.totalCosts),(0,v.isSome)(ie.totalViolations)&&B(ie.totalViolations),(0,v.isSome)(ie.totalWait)&&B(ie.totalWait);var de=!0,ye=!1,ce=void 0;try{for(var fe,be=e.stops[Symbol.iterator]();!(de=(fe=be.next()).done);de=!0){var ve,he,Te,Se,ge,we,Ne=fe.value;(0,v.isSome)(Ne.serviceCosts)&&(Ne.serviceDuration=ae(null!=(ve=Ne.serviceCosts[N])?ve:0,A),Ne.serviceDistance=le(null!=(he=Ne.serviceCosts[O])?he:0,J),B(Ne.serviceCosts)),(0,v.isSome)(Ne.cumulativeCosts)&&(Ne.cumulativeDuration=ae(null!=(Te=Ne.cumulativeCosts[N])?Te:0,A),Ne.cumulativeDistance=le(null!=(Se=Ne.cumulativeCosts[O])?Se:0,J),B(Ne.cumulativeCosts)),(0,v.isSome)(Ne.violations)&&(Ne.lateDuration=ae(null!=(ge=Ne.violations[N])?ge:0,A),B(Ne.violations)),(0,v.isSome)(Ne.wait)&&(Ne.waitDuration=ae(null!=(we=Ne.wait[N])?we:0,A),B(Ne.wait))}}catch(e){ye=!0,ce=e}finally{try{de||null==be.return||be.return()}finally{if(ye)throw ce}}}}function ie(e){return oe.apply(this,arguments)}function oe(){return(oe=l.asyncToGenerator(e(n).mark((function t(r){var i;return e(n).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Y.default.WGS84,e.next=3,(0,J.initializeProjection)(r.spatialReference,i);case 3:return e.abrupt("return",(e.sent,(0,J.project)(r,i)));case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function ae(e,t){switch(t){case"seconds":return e/60;case"hours":return 60*e;case"days":return 60*e*24;default:return e}}function le(e,t){return"decimal-degrees"===t||"points"===t||"unknown"===t?e:(0,g.convertUnit)(e,t,"meters")}var ne=m.default.ofType(U.default),se=m.default.ofType(V.default),ue=m.default.ofType(G.default),pe=m.default.ofType(X.default),de=m.default.ofType(z.default),ye=m.default.ofType(Z.default),me=b.default.getLogger("esri.layers.RouteLayer"),ce=function(t){"use strict";l.inherits(i,t);var r=l.createSuper(i);function i(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var a;return l.classCallCheck(this,i),(a=r.call.apply(r,[this].concat(l.toConsumableArray(t))))._featureCollection=null,a._type="Feature Collection",a.defaultSymbols=new(0,P.default),a.directionLines=null,a.directionPoints=null,a.featureCollectionType="route",a.legendEnabled=!1,a.maxScale=0,a.minScale=0,a.pointBarriers=new ue,a.polygonBarriers=new pe,a.polylineBarriers=new de,a.routeInfo=null,a.spatialReference=Y.default.WGS84,a.stops=new ye,a.type="route",a.handles.add((0,S.watch)((function(){return a.stops.toArray()}),(function(){(0,v.isNone)(a.routeInfo)&&a._setStopSymbol(a.stops)}),{sync:!0})),l.possibleConstructorReturn(a)}return l.createClass(i,[{key:"writeFeatureCollectionWebmap",value:function(e,t,r,i){var o=[this._writePolygonBarriers(),this._writePolylineBarriers(),this._writePointBarriers(),this._writeRouteInfo(),this._writeDirectionLines(),this._writeDirectionPoints(),this._writeStops()].filter((function(e){return!!e})),a=o.map((function(e,t){return t})),l="web-map"===i.origin?"featureCollection.layers":"layers";(0,T.setDeepValue)(l,o,t),t.opacity=this.opacity,t.visibility=this.visible,t.visibleLayers=a}},{key:"readDirectionLines",value:function(e,t){return this._getNetworkFeatures(t,"DirectionLines",(function(e){return U.default.fromPortalJSON(e)}))}},{key:"readDirectionPoints",value:function(e,t){return this._getNetworkFeatures(t,"DirectionPoints",(function(e){return V.default.fromPortalJSON(e)}))}},{key:"fullExtent",get:function(){if((0,v.isSome)(this.routeInfo)&&(0,v.isSome)(this.routeInfo.geometry))return this.routeInfo.geometry.extent;if(this.stops.length>1){var e=this.stops[0].spatialReference,t=new(0,$.default)({spatialReference:e}),r=this.stops.toArray().map((function(e){return e.geometry})),i=!0,o=!1,a=void 0;try{for(var l,n=r[Symbol.iterator]();!(i=(l=n.next()).done);i=!0){var s=l.value;(0,v.isSome)(s)&&t.addPoint(s)}}catch(e){o=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw a}}return t.extent}return new(0,A.default)({xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:Y.default.WGS84})}},{key:"readMaxScale",value:function(e,t){var r,i=(te(t)?t.layers:t.featureCollection.layers).find((function(e){return(0,v.isSome)(e.layerDefinition.maxScale)}));return null!=(r=null==i?void 0:i.layerDefinition.maxScale)?r:0}},{key:"readMinScale",value:function(e,t){var r,i=(te(t)?t.layers:t.featureCollection.layers).find((function(e){return(0,v.isSome)(e.layerDefinition.minScale)}));return null!=(r=null==i?void 0:i.layerDefinition.minScale)?r:0}},{key:"readPointBarriers",value:function(e,t){return this._getNetworkFeatures(t,"Barriers",(function(e){return G.default.fromPortalJSON(e)}))}},{key:"readPolygonBarriers",value:function(e,t){return this._getNetworkFeatures(t,"PolygonBarriers",(function(e){return X.default.fromPortalJSON(e)}))}},{key:"readPolylineBarriers",value:function(e,t){return this._getNetworkFeatures(t,"PolylineBarriers",(function(e){return z.default.fromPortalJSON(e)}))}},{key:"readRouteInfo",value:function(e,t){var r=this._getNetworkFeatures(t,"RouteInfo",(function(e){return H.default.fromPortalJSON(e)}));return r.length>0?r.getItemAt(0):null}},{key:"readSpatialReference",value:function(e,t){var r,i,o=te(t)?t.layers:t.featureCollection.layers;if(!o.length)return Y.default.WGS84;var a=o[0].layerDefinition,l=null!=(r=null!=(i=a.spatialReference)?i:a.extent.spatialReference)?r:D.WGS84;return Y.default.fromJSON(l)}},{key:"readStops",value:function(e,t){var r=this;return this._getNetworkFeatures(t,"Stops",(function(e){return Z.default.fromPortalJSON(e)}),(function(e){return r._setStopSymbol(e)}))}},{key:"title",get:function(){return(0,v.isSome)(this.routeInfo)&&(0,v.isSome)(this.routeInfo.name)?this.routeInfo.name:"Route"},set:function(e){e?this._override("title",e):this._clearOverride("title")}},{key:"url",get:function(){return u.default.routeServiceUrl},set:function(e){null!=e?this._set("url",(0,E.sanitizeUrl)(e,me)):this._set("url",u.default.routeServiceUrl)}},{key:"load",value:function(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},e)),Promise.resolve(this)}},{key:"removeAll",value:function(){(0,v.isSome)(this.directionLines)&&(this.directionLines.removeAll(),this._set("directionLines",null)),(0,v.isSome)(this.directionPoints)&&(this.directionPoints.removeAll(),this._set("directionPoints",null)),(0,v.isSome)(this.routeInfo)&&this._set("routeInfo",null),this.pointBarriers.removeAll(),this.polygonBarriers.removeAll(),this.polylineBarriers.removeAll(),this.stops.removeAll()}},{key:"save",value:function(){var t=this;return l.asyncToGenerator(e(n).mark((function r(){var i,o,a,l,s,u;return e(n).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:if(i=t.fullExtent,o=t.portalItem){e.next=5;break}throw new(0,c.default)("routelayer:portal-item-not-set","save() requires to the layer to have a portal item");case 5:if(o.id){e.next=7;break}throw new(0,c.default)("routelayer:portal-item-not-saved","Please use saveAs() first to save the routelayer");case 7:if("Feature Collection"===o.type){e.next=9;break}throw new(0,c.default)("routelayer:portal-item-wrong-type",'Portal item needs to have type "Feature Collection"');case 9:if(!(0,v.isNone)(t.routeInfo)){e.next=11;break}throw new(0,c.default)("routelayer:route-unsolved","save() requires a solved route");case 11:return a=o.portal,e.next=14,a._signIn();case 14:if(e.t0=a.user,e.t0){e.next=18;break}return e.next=18,o.reload();case 18:if(e.sent,e.t0||e.sent,a.user.username===o.owner){e.next=20;break}throw new(0,c.default)("routelayer:not-portal-item-owner","You can only overwrite your portal items");case 20:return l=o.itemUrl,s={messages:[],origin:"portal-item",portal:a,url:l&&(0,w.urlToObject)(l),writtenProperties:[]},u=t.write(null,s),e.next=23,ie(i);case 23:return o.extent=e.sent,o.title=t.title,e.next=27,o.update({data:u});case 27:return e.abrupt("return",(e.sent,o));case 28:case"end":return e.stop()}}),r)})))()}},{key:"saveAs",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this;return l.asyncToGenerator(e(n).mark((function o(){var a,l,s,u,p;return e(n).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.load();case 2:if(e.sent,!(0,v.isNone)(i.routeInfo)){e.next=4;break}throw new(0,c.default)("routelayer:route-unsolved","saveAs() requires a solved route");case 4:if(a=k.default.from(t).clone(),e.t0=null!=a.extent,e.t0){e.next=10;break}return e.next=9,ie(i.fullExtent);case 9:a.extent=e.sent;case 10:return a.id=null,null!=a.portal||(a.portal=L.default.getDefault()),null!=a.title||(a.title=i.title),a.type="Feature Collection",a.typeKeywords=["Data","Feature Collection","Multilayer","Route Layer"],l=a.portal,s={messages:[],origin:"portal-item",portal:l,url:null,writtenProperties:[]},e.next=18,l._signIn();case 18:return u=null==r?void 0:r.folder,p=i.write(null,s),e.next=21,l.user.addItem({item:a,folder:u,data:p});case 21:return i.portalItem=a,(0,I.updateOrigins)(s),s.portalItem=a,e.abrupt("return",(e.sent,a));case 25:case"end":return e.stop()}}),o)})))()}},{key:"solve",value:function(t,r){var i=this;return l.asyncToGenerator(e(n).mark((function o(){var a,l,s,u,p,d,y,f,b,h,T,S,g,w,N,O,C,_,I,A,J,D;return e(n).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y=null!=(a=null==t?void 0:t.stops)?a:i.stops,f=null!=(l=null==t?void 0:t.pointBarriers)?l:ee(i.pointBarriers),b=null!=(s=null==t?void 0:t.polylineBarriers)?s:ee(i.polylineBarriers),h=null!=(u=null==t?void 0:t.polygonBarriers)?u:ee(i.polygonBarriers),!(0,v.isNone)(y)){e.next=4;break}throw new(0,c.default)("routelayer:undefined-stops","the route layer must have stops defined in the route parameters.");case 4:if(!(("esri.rest.support.FeatureSet"===y.declaredClass||(o=y,"esri.rest.support.NetworkFeatureSet"===o.declaredClass))&&y.features.length<2||m.default.isCollection(y)&&y.length<2)){e.next=6;break}throw new(0,c.default)("routelayer:insufficent-stops","the route layer must have two or more stops to solve a route.");case 6:return e.next=8,(0,R.fetchServiceDescription)(i.url,null==t?void 0:t.apiKey,r);case 8:for(A in T=e.sent,S=T.defaultTravelMode,g=T.supportedTravelModes,w=g.find((function(e){return e.id===S})),N=null!=(p=null==t?void 0:t.travelMode)?p:w,O=null!=(d=null==t?void 0:t.accumulateAttributes)?d:[],(0,v.isSome)(N)&&O.push(N.distanceAttributeName),C={startTime:new Date},_={accumulateAttributes:O,directionsOutputType:"featuresets",ignoreInvalidLocations:!0,pointBarriers:f,polylineBarriers:b,polygonBarriers:h,preserveFirstStop:!0,preserveLastStop:!0,returnBarriers:!!f,returnDirections:!0,returnPolygonBarriers:!!h,returnPolylineBarriers:!!b,returnRoutes:!0,returnStops:!0,stops:y},I=t?Q.default.from(t):new(0,Q.default),C)null==I[A]&&(I[A]=C[A]);return I.set(_),e.next=20,(0,W.solve)(i.url,I,r);case 20:return J=e.sent,D=i._toRouteLayerSolution(J),e.abrupt("return",(i._isOverridden("title")||(i.title=(0,v.unwrapOrValue)(D.routeInfo.name,"Route")),re(D,T,I),D));case 23:case"end":return e.stop()}var o}),o)})))()}},{key:"update",value:function(e){var t=e.stops,r=e.directionLines,i=e.directionPoints,o=e.pointBarriers,a=e.polylineBarriers,l=e.polygonBarriers,n=e.routeInfo;this.set({stops:t,pointBarriers:o,polylineBarriers:a,polygonBarriers:l}),this._set("directionLines",r),this._set("directionPoints",i),this._set("routeInfo",n)}},{key:"_getLayerDefinition",value:function(){return{capabilities:"Query,Update,Editing",extent:this.fullExtent.toJSON(),hasM:!1,hasZ:!1,maxScale:this.maxScale,minScale:this.minScale,objectIdField:"__OBJECTID",spatialReference:this.spatialReference.toJSON(),type:"Feature Layer",typeIdField:""}}},{key:"_getNetworkFeatures",value:function(e,t,r,i){var o=this,a=(te(e)?e.layers:e.featureCollection.layers).find((function(e){return e.layerDefinition.name===t}));if((0,v.isNone)(a))return new(0,m.default);var l=a.layerDefinition,n=a.popupInfo,s=a.featureSet,u=l.drawingInfo.renderer,c=s.features,f=u&&(0,y.read)(u),b=c.map((function(e){var i,a=r(e),l=e.attributes,s=new(0,p.default)({attributes:l});return null!=a.symbol||(a.symbol=null!=(i=null==f?void 0:f.getSymbol(s))?i:o._getNetworkSymbol(t)),null!=a.popupTemplate||(a.popupTemplate=n&&d.default.fromJSON(n)),a}));return i&&b.some((function(e){return!e.symbol}))&&i(b),new(0,m.default)(b)}},{key:"_getNetworkSymbol",value:function(e){switch(e){case"Barriers":return this.defaultSymbols.pointBarriers;case"DirectionPoints":return this.defaultSymbols.directionPoints;case"DirectionLines":return this.defaultSymbols.directionLines;case"PolylineBarriers":return this.defaultSymbols.polylineBarriers;case"PolygonBarriers":return this.defaultSymbols.polygonBarriers;case"RouteInfo":return this.defaultSymbols.routeInfo;case"Stops":return null}}},{key:"_setStopSymbol",value:function(e){var t,r,i=this;if(e&&0!==e.length)if((0,v.isNone)(this.routeInfo)||1===e.length)e.forEach((function(t,r){switch(r){case 0:t.symbol=i.defaultSymbols.firstStop;break;case e.length-1:t.symbol=i.defaultSymbols.lastStop;break;default:t.symbol=i.defaultSymbols.middleStop}}));else{var o=e.map((function(e){return e.sequence})).filter((function(e){return(0,v.isSome)(e)})),a=(t=Math).min.apply(t,l.toConsumableArray(o)),n=(r=Math).max.apply(r,l.toConsumableArray(o)),s=!0,u=!1,p=void 0;try{for(var d,y=e[Symbol.iterator]();!(s=(d=y.next()).done);s=!0){var m=d.value;m.sequence!==a?m.sequence!==n?"ok"===m.status||"not-located-on-closest"===m.status?"waypoint"!==m.locationType?"break"!==m.locationType?m.symbol=this.defaultSymbols.middleStop:m.symbol=this.defaultSymbols.breakStop:m.symbol=this.defaultSymbols.waypointStop:m.symbol=this.defaultSymbols.invalidStop:m.symbol=this.defaultSymbols.lastStop:m.symbol=this.defaultSymbols.firstStop}}catch(e){u=!0,p=e}finally{try{s||null==y.return||y.return()}finally{if(u)throw p}}}}},{key:"_toRouteLayerSolution",value:function(e){var t,r,i,o,a,l=this,n=e.routeResults[0].stops.map((function(e){return Z.default.fromJSON(e.toJSON())}));this._setStopSymbol(n);var s=new ye(n),u=new pe(null==(t=e.polygonBarriers)?void 0:t.map((function(e){var t=X.default.fromJSON(e.toJSON());return t.symbol=l.defaultSymbols.polygonBarriers,t}))),p=new de(null==(r=e.polylineBarriers)?void 0:r.map((function(e){var t=z.default.fromJSON(e.toJSON());return t.symbol=l.defaultSymbols.polylineBarriers,t}))),d=new ue(null==(i=e.pointBarriers)?void 0:i.map((function(e){var t=G.default.fromJSON(e.toJSON());return t.symbol=l.defaultSymbols.pointBarriers,t}))),y=H.default.fromJSON(e.routeResults[0].route.toJSON());y.symbol=this.defaultSymbols.routeInfo;var m=new se(null==(o=e.routeResults[0].directionPoints)?void 0:o.features.map((function(e){var t=V.default.fromJSON(e.toJSON());return t.symbol=l.defaultSymbols.directionPoints,t})));return{directionLines:new ne(null==(a=e.routeResults[0].directionLines)?void 0:a.features.map((function(e){var t=U.default.fromJSON(e.toJSON());return t.symbol=l.defaultSymbols.directionLines,t}))),directionPoints:m,pointBarriers:d,polygonBarriers:u,polylineBarriers:p,routeInfo:y,stops:s}}},{key:"_writeDirectionLines",value:function(){return(0,v.isNone)(this.directionLines)||!this.directionLines.length?null:{featureSet:{features:this.directionLines.toArray().map((function(e){return e.toPortalJSON()})),geometryType:"esriGeometryPolyline"},layerDefinition:l.objectSpread({},this._getLayerDefinition(),{drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.directionLines.toJSON()}},fields:U.default.fields,geometryType:"esriGeometryPolyline",name:"DirectionLines",title:"Direction Lines"}),popupInfo:U.default.popupInfo}}},{key:"_writeDirectionPoints",value:function(){return(0,v.isNone)(this.directionPoints)||!this.directionPoints.length?null:{featureSet:{features:this.directionPoints.toArray().map((function(e){return e.toPortalJSON()})),geometryType:"esriGeometryPoint"},layerDefinition:l.objectSpread({},this._getLayerDefinition(),{drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.directionPoints.toJSON()}},fields:V.default.fields,geometryType:"esriGeometryPoint",name:"DirectionPoints",title:"Direction Points"}),popupInfo:V.default.popupInfo}}},{key:"_writePointBarriers",value:function(){return(0,v.isNone)(this.pointBarriers)||!this.pointBarriers.length?null:{featureSet:{features:this.pointBarriers.toArray().map((function(e){return e.toPortalJSON()})),geometryType:"esriGeometryPoint"},layerDefinition:l.objectSpread({},this._getLayerDefinition(),{drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.pointBarriers.toJSON()}},fields:G.default.fields,geometryType:"esriGeometryPoint",name:"Barrier",title:"Point Barrier"}),popupInfo:G.default.popupInfo}}},{key:"_writePolygonBarriers",value:function(){return(0,v.isNone)(this.polygonBarriers)||!this.polygonBarriers.length?null:{featureSet:{features:this.polygonBarriers.toArray().map((function(e){return e.toPortalJSON()})),geometryType:"esriGeometryPolygon"},layerDefinition:l.objectSpread({},this._getLayerDefinition(),{drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.polygonBarriers.toJSON()}},fields:X.default.fields,geometryType:"esriGeometryPolygon",name:"PolygonBarriers",title:"Polygon Barriers"}),popupInfo:X.default.popupInfo}}},{key:"_writePolylineBarriers",value:function(){return(0,v.isNone)(this.polylineBarriers)||!this.polylineBarriers.length?null:{featureSet:{features:this.polylineBarriers.toArray().map((function(e){return e.toPortalJSON()})),geometryType:"esriGeometryPolyline"},layerDefinition:l.objectSpread({},this._getLayerDefinition(),{drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.polylineBarriers.toJSON()}},fields:z.default.fields,geometryType:"esriGeometryPolyline",name:"PolylineBarriers",title:"Line Barriers"}),popupInfo:z.default.popupInfo}}},{key:"_writeRouteInfo",value:function(){return(0,v.isNone)(this.routeInfo)?null:{featureSet:{features:[this.routeInfo.toPortalJSON()],geometryType:"esriGeometryPolyline"},layerDefinition:l.objectSpread({},this._getLayerDefinition(),{drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.routeInfo.toJSON()}},fields:H.default.fields,geometryType:"esriGeometryPolyline",name:"RouteInfo",title:"Route Details"}),popupInfo:H.default.popupInfo}}},{key:"_writeStops",value:function(){return(0,v.isNone)(this.stops)||!this.stops.length?null:{featureSet:{features:this.stops.toArray().map((function(e){return e.toPortalJSON()})),geometryType:"esriGeometryPoint"},layerDefinition:l.objectSpread({},this._getLayerDefinition(),{drawingInfo:{renderer:{type:"uniqueValue",field1:"Sequence",defaultSymbol:this.defaultSymbols.middleStop.toJSON(),uniqueValueInfos:[{value:"1",symbol:this.defaultSymbols.firstStop.toJSON(),label:"First Stop"},{value:"".concat(this.stops.length),symbol:this.defaultSymbols.lastStop.toJSON(),label:"Last Stop"}]}},fields:Z.default.fields,geometryType:"esriGeometryPoint",name:"Stops",title:"Stops"}),popupInfo:Z.default.popupInfo}}}]),i}((0,j.BlendLayer)((0,M.ScaleRangeLayer)((0,B.OperationalLayer)((0,F.PortalLayer)((0,h.MultiOriginJSONMixin)((0,f.HandleOwnerMixin)(x.default)))))));(0,s._)([(0,N.property)({readOnly:!0,json:{read:!1,origins:{"portal-item":{write:{allowNull:!0,ignoreOrigin:!0}},"web-map":{write:{overridePolicy:function(){return{allowNull:!0,ignoreOrigin:null==this.portalItem}}}}}}})],ce.prototype,"_featureCollection",void 0),(0,s._)([(0,_.writer)(["web-map","portal-item"],"_featureCollection")],ce.prototype,"writeFeatureCollectionWebmap",null),(0,s._)([(0,N.property)({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{target:"type",overridePolicy:function(){return{ignoreOrigin:null!=this.portalItem}}}}}}})],ce.prototype,"_type",void 0),(0,s._)([(0,N.property)({nonNullable:!0,type:P.default})],ce.prototype,"defaultSymbols",void 0),(0,s._)([(0,N.property)({readOnly:!0})],ce.prototype,"directionLines",void 0),(0,s._)([(0,O.reader)(["web-map","portal-item"],"directionLines",["layers","featureCollection.layers"])],ce.prototype,"readDirectionLines",null),(0,s._)([(0,N.property)({readOnly:!0})],ce.prototype,"directionPoints",void 0),(0,s._)([(0,O.reader)(["web-map","portal-item"],"directionPoints",["layers","featureCollection.layers"])],ce.prototype,"readDirectionPoints",null),(0,s._)([(0,N.property)({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{ignoreOrigin:!0}}}}})],ce.prototype,"featureCollectionType",void 0),(0,s._)([(0,N.property)({readOnly:!0})],ce.prototype,"fullExtent",null),(0,s._)([(0,N.property)({json:{origins:{"web-map":{name:"featureCollection.showLegend"}},write:!0}})],ce.prototype,"legendEnabled",void 0),(0,s._)([(0,N.property)({type:["show","hide"]})],ce.prototype,"listMode",void 0),(0,s._)([(0,N.property)({type:Number,nonNullable:!0,json:{write:!1}})],ce.prototype,"maxScale",void 0),(0,s._)([(0,O.reader)(["web-map","portal-item"],"maxScale",["layers","featureCollection.layers"])],ce.prototype,"readMaxScale",null),(0,s._)([(0,N.property)({type:Number,nonNullable:!0,json:{write:!1}})],ce.prototype,"minScale",void 0),(0,s._)([(0,O.reader)(["web-map","portal-item"],"minScale",["layers","featureCollection.layers"])],ce.prototype,"readMinScale",null),(0,s._)([(0,N.property)({type:["ArcGISFeatureLayer"],value:"ArcGISFeatureLayer"})],ce.prototype,"operationalLayerType",void 0),(0,s._)([(0,N.property)({nonNullable:!0,type:m.default.ofType(G.default)})],ce.prototype,"pointBarriers",void 0),(0,s._)([(0,O.reader)(["web-map","portal-item"],"pointBarriers",["layers","featureCollection.layers"])],ce.prototype,"readPointBarriers",null),(0,s._)([(0,N.property)({nonNullable:!0,type:m.default.ofType(X.default)})],ce.prototype,"polygonBarriers",void 0),(0,s._)([(0,O.reader)(["web-map","portal-item"],"polygonBarriers",["layers","featureCollection.layers"])],ce.prototype,"readPolygonBarriers",null),(0,s._)([(0,N.property)({nonNullable:!0,type:m.default.ofType(z.default)})],ce.prototype,"polylineBarriers",void 0),(0,s._)([(0,O.reader)(["web-map","portal-item"],"polylineBarriers",["layers","featureCollection.layers"])],ce.prototype,"readPolylineBarriers",null),(0,s._)([(0,N.property)({readOnly:!0})],ce.prototype,"routeInfo",void 0),(0,s._)([(0,O.reader)(["web-map","portal-item"],"routeInfo",["layers","featureCollection.layers"])],ce.prototype,"readRouteInfo",null),(0,s._)([(0,N.property)({type:Y.default})],ce.prototype,"spatialReference",void 0),(0,s._)([(0,O.reader)(["web-map","portal-item"],"spatialReference",["layers","featureCollection.layers"])],ce.prototype,"readSpatialReference",null),(0,s._)([(0,N.property)({nonNullable:!0,type:m.default.ofType(Z.default)})],ce.prototype,"stops",void 0),(0,s._)([(0,O.reader)(["web-map","portal-item"],"stops",["layers","featureCollection.layers"])],ce.prototype,"readStops",null),(0,s._)([(0,N.property)()],ce.prototype,"title",null),(0,s._)([(0,N.property)({readOnly:!0,json:{read:!1}})],ce.prototype,"type",void 0),(0,s._)([(0,N.property)()],ce.prototype,"url",null);var fe=ce=(0,s._)([(0,C.subclass)("esri.layers.RouteLayer")],ce)})),r.register("amEsL",(function(e,i){t(e.exports,"updateOrigins",(function(){return a}));var o=r("arTQ0");function a(e){e&&e.writtenProperties&&e.writtenProperties.forEach((function(e){var t=e.target;e.newOrigin&&e.oldOrigin!==e.newOrigin&&(0,o.isMultiOriginJSONMixin)(t)&&t.updateOrigin(e.propName,e.newOrigin)}))}})),r.register("arTQ0",(function(e,r){function i(e){return e&&"getAtOrigin"in e&&"originOf"in e}t(e.exports,"isMultiOriginJSONMixin",(function(){return i}))})),r.register("1FHv1",(function(e,i){t(e.exports,"default",(function(){return c}));var o=r("8TSCy"),a=r("7eJjO"),l=r("cM5QQ"),n=r("1XAcN"),s=r("iho5X");r("lNwWH"),r("2VlWd"),r("iJAIC");var u=r("fcwIv"),p=r("e6bLq"),d=r("ioNzP"),y=r("SVQ32"),m=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(){var e;return o.classCallCheck(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).directionLines=new(0,p.default)({color:[0,122,194],width:6}),e.directionPoints=new(0,d.default)({color:[255,255,255],size:6,outline:{color:[0,122,194],width:2}}),e.pointBarriers=new(0,d.default)({style:"x",size:10,outline:{color:[255,0,0],width:3}}),e.polygonBarriers=new(0,y.default)({color:[255,170,0,.6],outline:{width:7.5,color:[255,0,0,.6]}}),e.polylineBarriers=new(0,p.default)({width:7.5,color:[255,85,0,.7]}),e.routeInfo=new(0,p.default)({width:8,color:[20,89,127]}),e.firstStop=new(0,d.default)({color:[0,255,0],size:20,outline:{color:[255,255,255],width:4}}),e.middleStop=new(0,d.default)({color:[51,51,51],size:12,outline:{color:[0,122,194],width:3}}),e.lastStop=new(0,d.default)({color:[255,0,0],size:20,outline:{color:[255,255,255],width:4}}),e.invalidStop=new(0,d.default)({color:[255,0,0],size:12,outline:{color:[255,255,255],width:3}}),e.waypointStop=new(0,d.default)({color:[255,255,255],size:12,outline:{color:[0,122,194],width:3}}),e.breakStop=new(0,d.default)({color:[255,255,255],size:12,outline:{color:[0,122,194],width:3}}),o.possibleConstructorReturn(e)}return r}(n.JSONSupport);(0,a._)([(0,s.property)({nonNullable:!0,types:l.symbolTypes})],m.prototype,"directionLines",void 0),(0,a._)([(0,s.property)({nonNullable:!0,types:l.symbolTypes})],m.prototype,"directionPoints",void 0),(0,a._)([(0,s.property)({nonNullable:!0,types:l.symbolTypes})],m.prototype,"pointBarriers",void 0),(0,a._)([(0,s.property)({nonNullable:!0,types:l.symbolTypes})],m.prototype,"polygonBarriers",void 0),(0,a._)([(0,s.property)({nonNullable:!0,types:l.symbolTypes})],m.prototype,"polylineBarriers",void 0),(0,a._)([(0,s.property)({nonNullable:!0,types:l.symbolTypes})],m.prototype,"routeInfo",void 0),(0,a._)([(0,s.property)({nonNullable:!0,types:l.symbolTypes})],m.prototype,"firstStop",void 0),(0,a._)([(0,s.property)({nonNullable:!0,types:l.symbolTypes})],m.prototype,"middleStop",void 0),(0,a._)([(0,s.property)({nonNullable:!0,types:l.symbolTypes})],m.prototype,"lastStop",void 0),(0,a._)([(0,s.property)({nonNullable:!0,types:l.symbolTypes})],m.prototype,"invalidStop",void 0),(0,a._)([(0,s.property)({nonNullable:!0,types:l.symbolTypes})],m.prototype,"waypointStop",void 0),(0,a._)([(0,s.property)({nonNullable:!0,types:l.symbolTypes})],m.prototype,"breakStop",void 0);var c=m=(0,a._)([(0,u.subclass)("esri.layers.support.DefaultSymbols")],m)})),r.register("gToNb",(function(i,o){t(i.exports,"solve",(function(){return b}));var a=r("8TSCy"),l=r("2TvXO"),n=r("9pNSx"),s=r("7qybv"),u=r("eTzot"),p=r("5On35"),d=r("7aNbi"),y=r("dsJ7q"),m=r("1q4Rz"),c=(0,u.createQueryParamsHelper)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},outSpatialReference:{name:"outSR",getter:function(e){return e.outSpatialReference.wkid}},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},stops:!0,travelMode:!0});function f(e){return"esri.rest.support.FeatureSet"===(null==e?void 0:e.declaredClass)}function b(e,t,r){return v.apply(this,arguments)}function v(){return(v=a.asyncToGenerator(e(l).mark((function t(r,i,o){var s,u,m,b,v,T,S,g,w,N,O,C,_,I,A;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=[],u=[],m={},b={},v=(0,y.parseUrl)(r),T=v.path,f(i.stops)&&(0,d.collectGeometries)(i.stops.features,u,"stops.features",m),f(i.pointBarriers)&&(0,d.collectGeometries)(i.pointBarriers.features,u,"pointBarriers.features",m),f(i.polylineBarriers)&&(0,d.collectGeometries)(i.polylineBarriers.features,u,"polylineBarriers.features",m),f(i.polygonBarriers)&&(0,d.collectGeometries)(i.polygonBarriers.features,u,"polygonBarriers.features",m),e.next=4,(0,p.normalizeCentralMeridian)(u);case 4:for(g in S=e.sent,m)w=m[g],s.push(g),b[g]=S.slice(w[0],w[1]);if(!(0,d.isInputGeometryZAware)(b,s)){e.next=17;break}return N=null,e.prev=8,e.next=11,(0,d.fetchServiceDescription)(T,i.apiKey,o);case 11:N=e.sent,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(8);case 16:N&&!N.hasZ&&(0,d.dropZValuesOffInputGeometry)(b,s);case 17:var t=function(e){b[e].forEach((function(t,r){i.get(e)[r].geometry=t}))};for(O in b)t(O);return C=a.objectSpread({},o,{query:a.objectSpread({},v.query,c.toQueryParams(i),{f:"json"})}),_=T.endsWith("/solve")?T:"".concat(T,"/solve"),e.next=22,(0,n.default)(_,C);case 22:return I=e.sent,A=I.data,e.abrupt("return",h(A));case 25:case"end":return e.stop()}}),t,null,[[8,14]])})))).apply(this,arguments)}function h(e){var t,r,i,o,a,l=new Map,n=e.directionLines,u=e.directionPoints,p=e.directions,d=e.routes,y=e.stops,c=e.barriers,f=e.polygonBarriers,b=e.polylineBarriers,v=e.messages,h=null!=(t=null!=(r=null!=(i=null!=(o=null==d?void 0:d.spatialReference)?o:null==y?void 0:y.spatialReference)?i:null==c?void 0:c.spatialReference)?r:null==f?void 0:f.spatialReference)?t:null==b?void 0:b.spatialReference;null==d||d.features.forEach((function(e){var t=e.attributes.Name,r=e.attributes.ObjectID;l.has(t)?(l.get(t).route=e,l.get(t).routeId=r):l.set(t,{route:e,routeId:r,routeName:t}),(0,s.isSome)(e.geometry)&&(e.geometry.spatialReference=h)})),null==p||p.forEach((function(e){var t=e.routeName;l.has(t)?l.get(t).directions=e:l.set(t,{routeName:t,directions:e})})),null==y||y.features.forEach((function(e){var t,r=null!=(t=e.attributes.RouteName)?t:null;l.has(r)?l.get(r).stops?l.get(r).stops.push(e):l.get(r).stops=[e]:l.set(r,{stops:[e],routeName:r}),(0,s.isSome)(e.geometry)&&(e.geometry.spatialReference=h)}));var T=null==(a=null==y?void 0:y.features.every((function(e){return null==e.attributes.RouteName})))||a;if((null==y?void 0:y.features.length)>0&&T){var S=Array.from(l.keys())[0];l.get(S).stops=l.get(null).stops,l.delete(null)}null==n||n.features.forEach((function(e){var t,r=e.attributes.RouteID,i=null==(t=Array.from(l.values()).find((function(e){return e.routeId===r})))?void 0:t.routeName;if(i)if(l.has(i))if(l.get(i).directionLines)l.get(i).directionLines.features.push(e);else{var o=n.fieldAliases,a=n.geometryType,s=n.spatialReference;l.get(i).directionLines={features:[e],fieldAliases:o,geometryType:a,spatialReference:s}}else{var u=n.fieldAliases,p=n.geometryType,d=n.spatialReference;l.set(i,{routeName:i,directionLines:{features:[e],fieldAliases:u,geometryType:p,spatialReference:d}})}})),null==u||u.features.forEach((function(e){var t,r=e.attributes.RouteID,i=null==(t=Array.from(l.values()).find((function(e){return e.routeId===r})))?void 0:t.routeName;if(i)if(l.has(i))if(l.get(i).directionPoints)l.get(i).directionPoints.features.push(e);else{var o=u.fieldAliases,a=u.geometryType,n=u.spatialReference;l.get(i).directionPoints={features:[e],fieldAliases:o,geometryType:a,spatialReference:n}}else{var s=u.fieldAliases,p=u.geometryType,d=u.spatialReference;l.set(i,{routeName:i,directionPoints:{features:[e],fieldAliases:s,geometryType:p,spatialReference:d}})}}));var g=Array.from(l.values());return m.default.fromJSON({routeResults:g,barriers:c,polygonBarriers:f,polylineBarriers:b,messages:v})}})),r.register("1q4Rz",(function(e,i){t(e.exports,"default",(function(){return b}));var o=r("8TSCy"),a=r("7eJjO"),l=r("bsvXr"),n=r("1XAcN"),s=r("iho5X");r("lNwWH"),r("2VlWd"),r("iJAIC");var u=r("eB8sj"),p=r("fcwIv"),d=r("f4h86"),y=r("2sP7x"),m=r("iJXKP");function c(e){return e&&d.default.fromJSON(e).features.map((function(e){return e}))}var f=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var i;return o.classCallCheck(this,r),(i=t.call(this,e)).messages=null,i.pointBarriers=null,i.polylineBarriers=null,i.polygonBarriers=null,i.routeResults=null,o.possibleConstructorReturn(i)}return o.createClass(r,[{key:"readPointBarriers",value:function(e,t){return c(t.barriers)}},{key:"readPolylineBarriers",value:function(e){return c(e)}},{key:"readPolygonBarriers",value:function(e){return c(e)}}]),r}(n.JSONSupport);(0,a._)([(0,s.property)({type:[y.default]})],f.prototype,"messages",void 0),(0,a._)([(0,s.property)({type:[l.default]})],f.prototype,"pointBarriers",void 0),(0,a._)([(0,u.reader)("pointBarriers",["barriers"])],f.prototype,"readPointBarriers",null),(0,a._)([(0,s.property)({type:[l.default]})],f.prototype,"polylineBarriers",void 0),(0,a._)([(0,u.reader)("polylineBarriers")],f.prototype,"readPolylineBarriers",null),(0,a._)([(0,s.property)({type:[l.default]})],f.prototype,"polygonBarriers",void 0),(0,a._)([(0,u.reader)("polygonBarriers")],f.prototype,"readPolygonBarriers",null),(0,a._)([(0,s.property)({type:[m.default]})],f.prototype,"routeResults",void 0);var b=f=(0,a._)([(0,p.subclass)("esri.rest.support.RouteSolveResult")],f)})),r.register("iJXKP",(function(e,i){t(e.exports,"default",(function(){return m}));var o=r("8TSCy"),a=r("7eJjO"),l=r("bsvXr"),n=r("1XAcN"),s=r("iho5X");r("lNwWH"),r("2VlWd"),r("iJAIC");var u=r("fcwIv"),p=r("gGEoS"),d=r("f4h86"),y=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var i;return o.classCallCheck(this,r),(i=t.call(this,e)).directionLines=null,i.directionPoints=null,i.directions=null,i.route=null,i.routeName=null,i.stops=null,o.possibleConstructorReturn(i)}return r}(n.JSONSupport);(0,a._)([(0,s.property)({type:d.default,json:{write:!0}})],y.prototype,"directionLines",void 0),(0,a._)([(0,s.property)({type:d.default,json:{write:!0}})],y.prototype,"directionPoints",void 0),(0,a._)([(0,s.property)({type:p.default,json:{write:!0}})],y.prototype,"directions",void 0),(0,a._)([(0,s.property)({type:l.default,json:{write:!0}})],y.prototype,"route",void 0),(0,a._)([(0,s.property)({type:String,json:{write:!0}})],y.prototype,"routeName",void 0),(0,a._)([(0,s.property)({type:[l.default],json:{write:!0}})],y.prototype,"stops",void 0);var m=y=(0,a._)([(0,u.subclass)("esri.rest.support.RouteResult")],y)})),r.register("gGEoS",(function(e,i){t(e.exports,"default",(function(){return v}));var o=r("8TSCy"),a=r("7eJjO");r("2ILM8");var l=r("7qybv"),n=r("iho5X");r("lNwWH"),r("2VlWd"),r("iJAIC");var s=r("eB8sj"),u=r("fcwIv"),p=r("lmDbA"),d=r("f4h86"),y=r("gINRd"),m=r("j40xv"),c=r("95Tg0"),f=r("d1Fqh"),b=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var i;return o.classCallCheck(this,r),(i=t.call(this,e)).extent=null,i.features=null,i.geometryType="polyline",i.routeId=null,i.routeName=null,i.totalDriveTime=null,i.totalLength=null,i.totalTime=null,o.possibleConstructorReturn(i)}return o.createClass(r,[{key:"readFeatures",value:function(e,t){var r,i=this;if(!e)return[];var a=null!=(r=t.summary.envelope.spatialReference)?r:t.spatialReference,l=a&&m.default.fromJSON(a);return e.map((function(e){var t,r,a=i._decompressGeometry(e.compressedGeometry),n=new(0,c.default)(o.objectSpread({},a,{spatialReference:l})),s=null!=(t=null==(r=e.events)?void 0:r.map((function(e){var t=e.arriveTimeUTC,r=e.ETA,i=e.point,o=i.x,a=i.y,n=i.z,s=e.strings;return new(0,p.default)({geometry:new(0,f.default)({x:o,y:a,z:n,hasZ:void 0!==n,spatialReference:l}),attributes:{ETA:r,arriveTimeUTC:t},strings:s})})))?t:[];return new(0,p.default)({attributes:e.attributes,events:s,geometry:n,strings:e.strings})}))}},{key:"mergedGeometry",get:function(){if(!this.features)return null;var e=this.features.map((function(e){var t=e.geometry;return(0,l.unwrap)(t)})),t=this.get("extent.spatialReference");return this._mergePolylinesToSinglePath(e,t)}},{key:"strings",get:function(){return this.features.map((function(e){return e.strings}))}},{key:"_decompressGeometry",value:function(e){var t,r,i,o,a,l,n,s,u=0,p=0,d=0,y=0,m=[],c=0,f=0,b=0;if((a=e.match(/((\+|\-)[^\+\-\|]+|\|)/g))||(a=[]),0===parseInt(a[c],32)){c=2;var v=parseInt(a[c],32);c++,l=parseInt(a[c],32),c++,1&v&&(f=a.indexOf("|")+1,n=parseInt(a[f],32),f++),2&v&&(b=a.indexOf("|",f)+1,s=parseInt(a[b],32),b++)}else l=parseInt(a[c],32),c++;for(;c<a.length&&"|"!==a[c];){t=parseInt(a[c],32)+u,c++,u=t,r=parseInt(a[c],32)+p,c++,p=r;var h=[t/l,r/l];f&&(o=parseInt(a[f],32)+d,f++,d=o,h.push(o/n)),b&&(i=parseInt(a[b],32)+y,b++,y=i,h.push(i/s)),m.push(h)}return{paths:[m],hasZ:f>0,hasM:b>0}}},{key:"_mergePolylinesToSinglePath",value:function(e,t){var r;if(0===e.length)return new(0,c.default)({spatialReference:t});var i=[],a=!0,l=!1,n=void 0,s=!0,u=!1,p=void 0;try{for(var d,y=e[Symbol.iterator]();!(s=(d=y.next()).done);s=!0){var m=d.value;try{for(var f,b=m.paths[Symbol.iterator]();!(a=(f=b.next()).done);a=!0){var v=f.value;(r=i).push.apply(r,o.toConsumableArray(v))}}catch(e){l=!0,n=e}finally{try{a||null==b.return||b.return()}finally{if(l)throw n}}}}catch(e){u=!0,p=e}finally{try{s||null==y.return||y.return()}finally{if(u)throw p}}var h=[];i.forEach((function(e,t){0!==t&&e[0]===i[t-1][0]&&e[1]===i[t-1][1]||h.push(e)}));var T=e[0],S=T.hasM,g=T.hasZ;return new(0,c.default)({hasM:S,hasZ:g,paths:[h],spatialReference:t})}}]),r}(d.default);(0,a._)([(0,n.property)({type:y.default,json:{read:{source:"summary.envelope"}}})],b.prototype,"extent",void 0),(0,a._)([(0,n.property)()],b.prototype,"features",void 0),(0,a._)([(0,s.reader)("features")],b.prototype,"readFeatures",null),(0,a._)([(0,n.property)()],b.prototype,"geometryType",void 0),(0,a._)([(0,n.property)({readOnly:!0})],b.prototype,"mergedGeometry",null),(0,a._)([(0,n.property)()],b.prototype,"routeId",void 0),(0,a._)([(0,n.property)()],b.prototype,"routeName",void 0),(0,a._)([(0,n.property)({value:null,readOnly:!0})],b.prototype,"strings",null),(0,a._)([(0,n.property)({json:{read:{source:"summary.totalDriveTime"}}})],b.prototype,"totalDriveTime",void 0),(0,a._)([(0,n.property)({json:{read:{source:"summary.totalLength"}}})],b.prototype,"totalLength",void 0),(0,a._)([(0,n.property)({json:{read:{source:"summary.totalTime"}}})],b.prototype,"totalTime",void 0);var v=b=(0,a._)([(0,u.subclass)("esri.rest.support.DirectionsFeatureSet")],b)})),r.register("lmDbA",(function(e,i){t(e.exports,"default",(function(){return p}));var o=r("8TSCy"),a=r("7eJjO"),l=r("bsvXr"),n=r("iho5X");r("lNwWH"),r("2VlWd"),r("iJAIC");var s=r("fcwIv"),u=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(){return o.classCallCheck(this,r),t.apply(this,arguments)}return r}(l.default);(0,a._)([(0,n.property)()],u.prototype,"events",void 0),(0,a._)([(0,n.property)()],u.prototype,"strings",void 0);var p=u=(0,a._)([(0,s.subclass)("esri.rest.support.DirectionsFeature")],u)})),r.register("9NfRW",(function(e,i){t(e.exports,"default",(function(){return v}));var o=r("8TSCy"),a=r("7eJjO"),l=r("3MVX3"),n=r("cM5QQ"),s=r("1XAcN"),u=r("7qybv"),p=r("iho5X");r("lNwWH"),r("2VlWd"),r("iJAIC");var d,y=r("fcwIv"),m=r("95Tg0"),c=r("emSvR"),f=r("3Lb13"),b=d=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var i;return o.classCallCheck(this,r),(i=t.call(this,e)).directionLineType=null,i.directionPointId=null,i.distance=null,i.duration=null,i.fromLevel=null,i.geometry=null,i.objectId=null,i.popupTemplate=null,i.symbol=null,i.toLevel=null,o.possibleConstructorReturn(i)}return o.createClass(r,[{key:"toPortalJSON",value:function(){var e={geometry:(0,u.isSome)(this.geometry)?this.geometry.toJSON():null,attributes:{__OBJECTID:(0,u.unwrap)(this.objectId),DirectionLineType:(0,u.isSome)(this.directionLineType)?c.directionLineTypeJsonMap.toJSON(this.directionLineType):null,DirectionPointID:(0,u.unwrap)(this.directionPointId),Meters:(0,u.unwrap)(this.distance),Minutes:(0,u.unwrap)(this.duration)},symbol:(0,u.isSome)(this.symbol)?this.symbol.toJSON():null,popupInfo:(0,u.isSome)(this.popupTemplate)?this.popupTemplate.toJSON():null};return(0,u.isSome)(this.fromLevel)&&(e.attributes.FromLevel=this.fromLevel),(0,u.isSome)(this.toLevel)&&(e.attributes.ToLevel=this.toLevel),e}}],[{key:"fromPortalJSON",value:function(e){var t,r;return new d({directionLineType:c.directionLineTypeJsonMap.fromJSON(e.attributes.DirectionLineType),directionPointId:e.attributes.DirectionPointID,distance:e.attributes.Meters,duration:e.attributes.Minutes,fromLevel:null!=(t=e.attributes.FromLevel)?t:null,geometry:m.default.fromJSON(e.geometry),objectId:e.attributes.__OBJECTID,popupTemplate:(0,u.isSome)(e.popupInfo)?l.default.fromJSON(e.popupInfo):null,symbol:(0,u.isSome)(e.symbol)?(0,f.fromJSON)(e.symbol):null,toLevel:null!=(r=e.attributes.ToLevel)?r:null})}}]),r}(s.JSONSupport);b.fields=[{name:"__OBJECTID",alias:"OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1,domain:null},{name:"DirectionLineType",alias:"Line Type",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriDirectionsLineType",codedValues:[{name:"Unknown",code:0},{name:"Segment",code:1},{name:"Maneuver Segment",code:2},{name:"Restriction violation",code:3},{name:"Scale cost barrier crossing",code:4},{name:"Heavy Traffic",code:5},{name:"Slow Traffic",code:6},{name:"Moderate Traffic",code:7}]}},{name:"DirectionPointID",alias:"Direction Point ID",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!1},{name:"FromLevel",alias:"Start from 3D Level",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!1},{name:"Meters",alias:"Length in Meters",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0},{name:"Minutes",alias:"Duration in Minutes",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0},{name:"ToLevel",alias:"End at 3D Level",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!1}],b.popupInfo={title:"Direction Lines",fieldInfos:[{fieldName:"DirectionLineType",label:"Line Type",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"Meters",label:"Length in Meters",isEditable:!1,tooltip:"",visible:!0,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"Minutes",label:"Duration in Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"DirectionPointID",label:"Direction Point ID",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"FromLevel",label:"Start from 3D Level",isEditable:!1,tooltip:"",visible:!1,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"ToLevel",label:"End at 3D Level",isEditable:!1,tooltip:"",visible:!1,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"}],description:null,showAttachments:!1,mediaInfos:[]},(0,a._)([(0,p.property)({type:c.directionLineTypeJsonMap.apiValues,json:{read:{source:"attributes.DirectionLineType",reader:c.directionLineTypeJsonMap.read}}})],b.prototype,"directionLineType",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.DirectionPointID"}}})],b.prototype,"directionPointId",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.Meters"}}})],b.prototype,"distance",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.Minutes"}}})],b.prototype,"duration",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.FromLevel"}}})],b.prototype,"fromLevel",void 0),(0,a._)([(0,p.property)({type:m.default})],b.prototype,"geometry",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.ObjectID"}}})],b.prototype,"objectId",void 0),(0,a._)([(0,p.property)({type:l.default,json:{read:!1}})],b.prototype,"popupTemplate",void 0),(0,a._)([(0,p.property)({types:n.symbolTypes,json:{read:!1}})],b.prototype,"symbol",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.ToLevel"}}})],b.prototype,"toLevel",void 0);var v=b=d=(0,a._)([(0,y.subclass)("esri.rest.support.DirectionLine")],b)})),r.register("2UNnS",(function(e,i){t(e.exports,"default",(function(){return h}));var o=r("8TSCy"),a=r("7eJjO"),l=r("3MVX3"),n=r("cM5QQ"),s=r("1XAcN"),u=r("7qybv"),p=r("iho5X");r("lNwWH"),r("2VlWd"),r("iJAIC");var d,y=r("eB8sj"),m=r("fcwIv"),c=r("d1Fqh"),f=r("emSvR"),b=r("3Lb13"),v=d=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var i;return o.classCallCheck(this,r),(i=t.call(this,e)).alternateName=null,i.arrivalTime=null,i.arrivalTimeOffset=null,i.azimuth=null,i.branchName=null,i.directionPointType=null,i.displayText=null,i.exitName=null,i.geometry=null,i.intersectingName=null,i.level=null,i.name=null,i.objectId=null,i.popupTemplate=null,i.sequence=null,i.shortVoiceInstruction=null,i.stopId=null,i.symbol=null,i.towardName=null,i.voiceInstruction=null,o.possibleConstructorReturn(i)}return o.createClass(r,[{key:"readArrivalTime",value:function(e,t){return(0,u.isSome)(t.attributes.ArrivalTime)?new Date(t.attributes.ArrivalTime):null}},{key:"toPortalJSON",value:function(){var e={geometry:(0,u.isSome)(this.geometry)?this.geometry.toJSON():null,attributes:{__OBJECTID:(0,u.unwrap)(this.objectId),DirectionPointType:(0,u.isSome)(this.directionPointType)?f.directionPointTypeJsonMap.toJSON(this.directionPointType):null,Sequence:(0,u.unwrap)(this.sequence),StopID:this.stopId},symbol:(0,u.isSome)(this.symbol)?this.symbol.toJSON():null,popupInfo:(0,u.isSome)(this.popupTemplate)?this.popupTemplate.toJSON():null};return(0,u.isSome)(this.alternateName)&&(e.attributes.AlternateName=this.alternateName),(0,u.isSome)(this.arrivalTime)&&(e.attributes.ArrivalTime=this.arrivalTime.getTime()),(0,u.isSome)(this.arrivalTimeOffset)&&(e.attributes.ArrivalUTCOffset=this.arrivalTimeOffset),(0,u.isSome)(this.azimuth)&&(e.attributes.Azimuth=this.azimuth),(0,u.isSome)(this.branchName)&&(e.attributes.BranchName=this.branchName),(0,u.isSome)(this.displayText)&&(e.attributes.DisplayText=this.displayText),(0,u.isSome)(this.exitName)&&(e.attributes.ExitName=this.exitName),(0,u.isSome)(this.intersectingName)&&(e.attributes.IntersectingName=this.intersectingName),(0,u.isSome)(this.level)&&(e.attributes.Level=this.level),(0,u.isSome)(this.name)&&(e.attributes.Name=this.name),(0,u.isSome)(this.shortVoiceInstruction)&&(e.attributes.ShortVoiceInstruction=this.shortVoiceInstruction),(0,u.isSome)(this.towardName)&&(e.attributes.TowardName=this.towardName),(0,u.isSome)(this.voiceInstruction)&&(e.attributes.VoiceInstruction=this.voiceInstruction),e}}],[{key:"fromPortalJSON",value:function(e){var t,r,i,o,a,n,s,p,y,m,v,h,T;return new d({alternateName:null!=(t=e.attributes.AlternateName)?t:null,arrivalTime:(0,u.isSome)(e.attributes.ArrivalTime)?new Date(e.attributes.ArrivalTime):null,arrivalTimeOffset:null!=(r=e.attributes.ArrivalUTCOffset)?r:null,azimuth:null!=(i=e.attributes.Azimuth)?i:null,branchName:null!=(o=e.attributes.BranchName)?o:null,directionPointType:f.directionPointTypeJsonMap.fromJSON(e.attributes.DirectionPointType),displayText:null!=(a=e.attributes.DisplayText)?a:null,exitName:null!=(n=e.attributes.ExitName)?n:null,geometry:c.default.fromJSON(e.geometry),intersectingName:null!=(s=e.attributes.IntersectingName)?s:null,level:null!=(p=e.attributes.Level)?p:null,name:null!=(y=e.attributes.Name)?y:null,objectId:e.attributes.__OBJECTID,popupTemplate:(0,u.isSome)(e.popupInfo)?l.default.fromJSON(e.popupInfo):null,sequence:e.attributes.Sequence,shortVoiceInstruction:null!=(m=e.attributes.ShortVoiceInstruction)?m:null,stopId:null!=(v=e.attributes.StopID)?v:null,symbol:(0,u.isSome)(e.symbol)?(0,b.fromJSON)(e.symbol):null,towardName:null!=(h=e.attributes.TowardName)?h:null,voiceInstruction:null!=(T=e.attributes.VoiceInstruction)?T:null})}}]),r}(s.JSONSupport);v.fields=[{name:"__OBJECTID",alias:"OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1,domain:null},{name:"AlternateName",alias:"Alternative Feature Name",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null},{name:"ArrivalTime",alias:"Maneuver Starts at",type:"esriFieldTypeDate",length:36,editable:!0,nullable:!0,visible:!0},{name:"ArrivalUTCOffset",alias:"Offset from UTC in Minutes",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"Azimuth",alias:"Azimuth",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0},{name:"BranchName",alias:"Signpost Branch Name",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null},{name:"DirectionPointType",alias:"Directions Item Type",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriDirectionPointType",codedValues:[{name:"Unknown",code:0},{name:"",code:1},{name:"Arrive at stop",code:50},{name:"Depart at stop",code:51},{name:"Go straight",code:52},{name:"Take ferry",code:100},{name:"Take off ferry",code:101},{name:"Keep center at fork",code:102},{name:"Take roundabout",code:103},{name:"Make U-Turn",code:104},{name:"Pass the door",code:150},{name:"Take stairs",code:151},{name:"",code:152},{name:"Take escalator",code:153},{name:"Take pedestrian ramp",code:154},{name:"Keep left at fork",code:200},{name:"Ramp left",code:201},{name:"Take left-handed roundabout",code:202},{name:"Make left-handed U-Turn",code:203},{name:"Bear left",code:204},{name:"Turn left",code:205},{name:"Make sharp left",code:206},{name:"Turn left, followed by turn left",code:207},{name:"Turn left, followed by turn right",code:208},{name:"Keep right at fork",code:300},{name:"Ramp right",code:301},{name:"Take right-handed roundabout",code:302},{name:"Make right-handed U-Turn",code:303},{name:"Bear right",code:304},{name:"Turn right",code:305},{name:"Make sharp right",code:306},{name:"Turn right, followed by turn left",code:307},{name:"Turn right, followed by turn right",code:308},{name:"Indicates up direction of elevator",code:400},{name:"Indicates up direction of escalator",code:401},{name:"Take up-stairs",code:402},{name:"Indicates down direction of elevator",code:500},{name:"Indicates down direction of escalator",code:501},{name:"Take down-stairs",code:502},{name:"General event",code:1e3},{name:"Landmark",code:1001},{name:"Time zone change",code:1002},{name:"Heavy traffic segment",code:1003},{name:"Scale cost barrier crossing",code:1004},{name:"Administrative Border crossing",code:1005},{name:"Restriction violation",code:1006}]}},{name:"DisplayText",alias:"Text to Display",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null},{name:"ExitName",alias:"Highway Exit Name",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null},{name:"IntersectingName",alias:"Intersecting Feature Name",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null},{name:"Level",alias:"3D Logical Level",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"Name",alias:"Primary Feature Name",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null},{name:"Sequence",alias:"Sequence",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"ShortVoiceInstruction",alias:"Voice Instruction",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null},{name:"StopID",alias:"Stop ID",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"TowardName",alias:"Signpost Toward Name",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null},{name:"VoiceInstruction",alias:"Voice Full Instruction",type:"esriFieldTypeString",length:2048,editable:!0,nullable:!0,visible:!0,domain:null}],v.popupInfo={title:"{DisplayText}",fieldInfos:[{fieldName:"DirectionPointType",label:"Directions Item Type",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"DisplayText",label:"Text to Display",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"Sequence",label:"Sequence",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"StopID",label:"Stop ID",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"ArrivalTime",label:"Maneuver Starts at",isEditable:!0,tooltip:"",visible:!0,format:{dateFormat:"shortDateShortTime24"},stringFieldOption:"textbox"},{fieldName:"ArrivalUTCOffset",label:"Offset from UTC in Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"Azimuth",label:"Azimuth",isEditable:!1,tooltip:"",visible:!1,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"Name",label:"Primary Feature Name",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"AlternateName",label:"Alternative Feature Name",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"ExitName",label:"Highway Exit Name",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"IntersectingName",label:"Intersecting Feature Name",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"BranchName",label:"Signpost Branch Name",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"TowardName",label:"Signpost Toward Name",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"ShortVoiceInstruction",label:"Voice Instruction",isEditable:!1,tooltip:"",visible:!1,stringFieldOption:"textbox"},{fieldName:"VoiceInstruction",label:"Voice Full Instruction",isEditable:!1,tooltip:"",visible:!1,stringFieldOption:"textbox"}],description:null,showAttachments:!1,mediaInfos:[]},(0,a._)([(0,p.property)({json:{read:!1}})],v.prototype,"alternateName",void 0),(0,a._)([(0,p.property)()],v.prototype,"arrivalTime",void 0),(0,a._)([(0,y.reader)("arrivalTime",["attributes.ArrivalTime"])],v.prototype,"readArrivalTime",null),(0,a._)([(0,p.property)({json:{read:{source:"attributes.ArrivalUTCOffset"}}})],v.prototype,"arrivalTimeOffset",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.Azimuth"}}})],v.prototype,"azimuth",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.BranchName"}}})],v.prototype,"branchName",void 0),(0,a._)([(0,p.property)({type:f.directionPointTypeJsonMap.apiValues,json:{read:{source:"attributes.DirectionPointType",reader:f.directionPointTypeJsonMap.read}}})],v.prototype,"directionPointType",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.DisplayText"}}})],v.prototype,"displayText",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.ExitName"}}})],v.prototype,"exitName",void 0),(0,a._)([(0,p.property)({type:c.default})],v.prototype,"geometry",void 0),(0,a._)([(0,p.property)({json:{read:!1}})],v.prototype,"intersectingName",void 0),(0,a._)([(0,p.property)({json:{read:!1}})],v.prototype,"level",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.Name"}}})],v.prototype,"name",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.ObjectID"}}})],v.prototype,"objectId",void 0),(0,a._)([(0,p.property)({type:l.default,json:{read:!1}})],v.prototype,"popupTemplate",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.Sequence"}}})],v.prototype,"sequence",void 0),(0,a._)([(0,p.property)({json:{read:!1}})],v.prototype,"shortVoiceInstruction",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.StopID"}}})],v.prototype,"stopId",void 0),(0,a._)([(0,p.property)({types:n.symbolTypes,json:{read:!1}})],v.prototype,"symbol",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.TowardName"}}})],v.prototype,"towardName",void 0),(0,a._)([(0,p.property)({json:{read:!1}})],v.prototype,"voiceInstruction",void 0);var h=v=d=(0,a._)([(0,m.subclass)("esri.rest.support.DirectionPoint")],v)})),r.register("5CiHJ",(function(e,i){t(e.exports,"default",(function(){return g}));var o=r("8TSCy"),a=r("7eJjO"),l=r("3MVX3"),n=r("cM5QQ"),s=r("1XAcN"),u=r("flPLJ"),p=r("7qybv"),d=r("iho5X");r("iJAIC");var y,m=r("eB8sj"),c=r("fcwIv"),f=r("kced1"),b=r("d1Fqh"),v=r("jgTBw"),h=r("emSvR"),T=r("3Lb13"),S=y=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var i;return o.classCallCheck(this,r),(i=t.call(this,e)).addedCost=null,i.barrierType=null,i.costs=null,i.curbApproach=null,i.fullEdge=null,i.geometry=null,i.name=null,i.objectId=null,i.popupTemplate=null,i.sideOfEdge=null,i.sourceId=null,i.sourceOid=null,i.status=null,i.symbol=null,o.possibleConstructorReturn(i)}return o.createClass(r,[{key:"readCosts",value:function(e,t){return(0,v.getPrefixedProperties)(t.attributes,"Attr_")}},{key:"writeCosts",value:function(e,t){if(!(0,p.isNone)(e))for(var r in t.attributes||(t.attributes={}),e)t.attributes["Attr_".concat(r)]=e[r]}},{key:"clone",value:function(){return new y((0,u.clone)({addedCost:this.addedCost,barrierType:this.barrierType,costs:this.costs,curbApproach:this.curbApproach,fullEdge:this.fullEdge,geometry:this.geometry,name:this.name,objectId:this.objectId,popupTemplate:this.popupTemplate,sideOfEdge:this.sideOfEdge,sourceId:this.sourceId,sourceOid:this.sourceOid,status:this.status,symbol:this.symbol}))}},{key:"toPortalJSON",value:function(){return{geometry:(0,p.isSome)(this.geometry)?this.geometry.toJSON():null,attributes:{__OBJECTID:(0,p.unwrap)(this.objectId),AddedCost:this.addedCost,BarrierType:(0,p.isSome)(this.barrierType)?h.barrierTypeJsonMap.toJSON(this.barrierType):null,Costs:(0,p.isSome)(this.costs)?JSON.stringify(this.costs):null,CurbApproach:(0,p.isSome)(this.curbApproach)?h.curbApproachJsonMap.toJSON(this.curbApproach):null,FullEdge:(0,p.isSome)(this.fullEdge)?h.fullEdgeJsonMap.toJSON(this.fullEdge):null,Name:this.name,Status:(0,p.isSome)(this.status)?h.statusJsonMap.toJSON(this.status):null},symbol:(0,p.isSome)(this.symbol)?this.symbol.toJSON():null,popupInfo:(0,p.isSome)(this.popupTemplate)?this.popupTemplate.toJSON():null}}}],[{key:"fromPortalJSON",value:function(e){var t,r;return new y({addedCost:null!=(t=e.attributes.AddedCost)?t:null,barrierType:(0,p.isSome)(e.attributes.BarrierType)?h.barrierTypeJsonMap.fromJSON(e.attributes.BarrierType):null,costs:(0,p.isSome)(e.attributes.Costs)?JSON.parse(e.attributes.Costs):null,curbApproach:(0,p.isSome)(e.attributes.CurbApproach)?h.curbApproachJsonMap.fromJSON(e.attributes.CurbApproach):null,fullEdge:(0,p.isSome)(e.attributes.FullEdge)?h.fullEdgeJsonMap.fromJSON(e.attributes.FullEdge):null,geometry:b.default.fromJSON(e.geometry),name:null!=(r=e.attributes.Name)?r:null,objectId:e.attributes.__OBJECTID,popupTemplate:(0,p.isSome)(e.popupInfo)?l.default.fromJSON(e.popupInfo):null,status:(0,p.isSome)(e.attributes.Status)?h.statusJsonMap.fromJSON(e.attributes.Status):null,symbol:(0,p.isSome)(e.symbol)?(0,T.fromJSON)(e.symbol):null})}}]),r}(s.JSONSupport);S.fields=[{name:"__OBJECTID",alias:"OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1,domain:null},{name:"AddedCost",alias:"Added Cost",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0,domain:null},{name:"BarrierType",alias:"Barrier Type",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNABarrierType",codedValues:[{name:"Restriction",code:0},{name:"Scaled Cost",code:1},{name:"Added Cost",code:2}]}},{name:"Costs",alias:"Costs",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"CurbApproach",alias:"Curb Approach",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!1,domain:{type:"codedValue",name:"esriNACurbApproachType",codedValues:[{name:"Either side",code:0},{name:"From the right",code:1},{name:"From the left",code:2},{name:"Depart in the same direction",code:3}]}},{name:"FullEdge",alias:"Full Edge",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNAIntYesNo",codedValues:[{name:"No",code:0},{name:"Yes",code:1}]}},{name:"Name",alias:"Name",type:"esriFieldTypeString",length:255,editable:!0,nullable:!0,visible:!0},{name:"Status",alias:"Status",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNAObjectStatus",codedValues:[{name:"OK",code:0},{name:"Not Located on Network",code:1},{name:"Network Unbuilt",code:2},{name:"Prohibited Street",code:3},{name:"Invalid Field Values",code:4},{name:"Cannot Reach",code:5},{name:"Time Window Violation",code:6}]}}],S.popupInfo={title:"Point Barriers",fieldInfos:[{fieldName:"Name",label:"Name",isEditable:!0,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"BarrierType",label:"Barrier Type",isEditable:!0,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"AddedCost",label:"Added Cost",isEditable:!0,tooltip:"",visible:!0,format:{places:3,digitSeparator:!0},stringFieldOption:"textbox"}],description:null,showAttachments:!1,mediaInfos:[]},(0,a._)([(0,d.property)({json:{read:!1}})],S.prototype,"addedCost",void 0),(0,a._)([(0,d.property)({type:h.barrierTypeJsonMap.apiValues,json:{name:"attributes.BarrierType",read:{reader:h.barrierTypeJsonMap.read},write:{writer:h.barrierTypeJsonMap.write}}})],S.prototype,"barrierType",void 0),(0,a._)([(0,d.property)()],S.prototype,"costs",void 0),(0,a._)([(0,m.reader)("costs",["attributes"])],S.prototype,"readCosts",null),(0,a._)([(0,f.writer)("costs")],S.prototype,"writeCosts",null),(0,a._)([(0,d.property)({type:h.curbApproachJsonMap.apiValues,json:{read:{source:"attributes.CurbApproach",reader:h.curbApproachJsonMap.read}}})],S.prototype,"curbApproach",void 0),(0,a._)([(0,d.property)({type:h.fullEdgeJsonMap.apiValues,json:{name:"attributes.FullEdge",read:{reader:h.fullEdgeJsonMap.read},write:{writer:h.fullEdgeJsonMap.write}}})],S.prototype,"fullEdge",void 0),(0,a._)([(0,d.property)({type:b.default,json:{write:!0}})],S.prototype,"geometry",void 0),(0,a._)([(0,d.property)({json:{name:"attributes.Name",write:!0}})],S.prototype,"name",void 0),(0,a._)([(0,d.property)({json:{name:"attributes.ObjectID",write:!0}})],S.prototype,"objectId",void 0),(0,a._)([(0,d.property)({type:l.default,json:{read:!1}})],S.prototype,"popupTemplate",void 0),(0,a._)([(0,d.property)({type:h.sideOfEdgeJsonMap.apiValues,json:{read:{source:"attributes.SideOfEdge",reader:h.sideOfEdgeJsonMap.read}}})],S.prototype,"sideOfEdge",void 0),(0,a._)([(0,d.property)({json:{read:{source:"attributes.SourceID"}}})],S.prototype,"sourceId",void 0),(0,a._)([(0,d.property)({json:{read:{source:"attributes.SourceOID"}}})],S.prototype,"sourceOid",void 0),(0,a._)([(0,d.property)({type:h.statusJsonMap.apiValues,json:{read:{source:"attributes.Status",reader:h.statusJsonMap.read}}})],S.prototype,"status",void 0),(0,a._)([(0,d.property)({types:n.symbolTypes,json:{read:!1}})],S.prototype,"symbol",void 0);var g=S=y=(0,a._)([(0,c.subclass)("esri.rest.support.PointBarrier")],S)})),r.register("jgTBw",(function(e,i){t(e.exports,"getPrefixedProperties",(function(){return a})),t(e.exports,"getTimezoneOffset",(function(){return l}));var o=r("7qybv");function a(e,t){if((0,o.isNone)(e))return null;var r={},i=new RegExp("^".concat(t),"i");for(var a in e)e.hasOwnProperty(a)&&i.test(a)&&(r[a.substring(t.length)]=e[a]);return r}function l(e,t){return(0,o.isNone)(e)||(0,o.isNone)(t)?null:Math.round((e-t)/6e4)}})),r.register("jzkjj",(function(e,i){t(e.exports,"default",(function(){return g}));var o=r("8TSCy"),a=r("7eJjO"),l=r("3MVX3"),n=r("cM5QQ"),s=r("1XAcN"),u=r("flPLJ"),p=r("7qybv"),d=r("iho5X");r("iJAIC");var y,m=r("eB8sj"),c=r("fcwIv"),f=r("kced1"),b=r("fTq43"),v=r("jgTBw"),h=r("emSvR"),T=r("3Lb13"),S=y=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var i;return o.classCallCheck(this,r),(i=t.call(this,e)).barrierType=null,i.costs=null,i.geometry=null,i.name=null,i.objectId=null,i.popupTemplate=null,i.scaleFactor=null,i.symbol=null,o.possibleConstructorReturn(i)}return o.createClass(r,[{key:"readCosts",value:function(e,t){return(0,v.getPrefixedProperties)(t.attributes,"Attr_")}},{key:"writeCosts",value:function(e,t){if(!(0,p.isNone)(e))for(var r in t.attributes||(t.attributes={}),e)t.attributes["Attr_".concat(r)]=e[r]}},{key:"clone",value:function(){return new y((0,u.clone)({barrierType:this.barrierType,costs:this.costs,geometry:this.geometry,name:this.name,objectId:this.objectId,popupTemplate:this.popupTemplate,scaleFactor:this.scaleFactor,symbol:this.symbol}))}},{key:"toPortalJSON",value:function(){var e,t;return{geometry:(0,p.isSome)(this.geometry)?this.geometry.toJSON():null,attributes:{__OBJECTID:(0,p.unwrap)(this.objectId),BarrierType:(0,p.isSome)(this.barrierType)?h.barrierTypeJsonMap.toJSON(this.barrierType):null,Costs:(0,p.isSome)(this.costs)?JSON.stringify(this.costs):null,Name:null!=(e=this.name)?e:null,ScaleFactor:null!=(t=this.scaleFactor)?t:null},symbol:(0,p.isSome)(this.symbol)?this.symbol.toJSON():null,popupInfo:(0,p.isSome)(this.popupTemplate)?this.popupTemplate.toJSON():null}}}],[{key:"fromPortalJSON",value:function(e){var t,r;return new y({barrierType:(0,p.isSome)(e.attributes.BarrierType)?h.barrierTypeJsonMap.fromJSON(e.attributes.BarrierType):null,costs:(0,p.isSome)(e.attributes.Costs)?JSON.parse(e.attributes.Costs):null,geometry:b.default.fromJSON(e.geometry),name:null!=(t=e.attributes.Name)?t:null,objectId:e.attributes.__OBJECTID,popupTemplate:(0,p.isSome)(e.popupInfo)?l.default.fromJSON(e.popupInfo):null,scaleFactor:null!=(r=e.attributes.ScaleFactor)?r:null,symbol:(0,p.isSome)(e.symbol)?(0,T.fromJSON)(e.symbol):null})}}]),r}(s.JSONSupport);S.fields=[{name:"__OBJECTID",alias:"OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1,domain:null},{name:"BarrierType",alias:"Barrier Type",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNABarrierType",codedValues:[{name:"Restriction",code:0},{name:"Scaled Cost",code:1},{name:"Added Cost",code:2}]}},{name:"Costs",alias:"Costs",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"Name",alias:"Name",type:"esriFieldTypeString",length:255,editable:!0,nullable:!0,visible:!0},{name:"ScaleFactor",alias:"Scale Factor",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0}],S.popupInfo={title:"Polygon Barriers",fieldInfos:[{fieldName:"Name",label:"Name",isEditable:!0,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"BarrierType",label:"Barrier Type",isEditable:!0,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"ScaleFactor",isEditable:!0,tooltip:"",visible:!0,format:{places:3,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"Costs",label:"Costs",isEditable:!0,tooltip:"",visible:!1,stringFieldOption:"textbox"}],description:null,showAttachments:!1,mediaInfos:[]},(0,a._)([(0,d.property)({type:h.barrierTypeJsonMap.apiValues,json:{name:"attributes.BarrierType",read:{reader:h.barrierTypeJsonMap.read},write:{writer:h.barrierTypeJsonMap.write}}})],S.prototype,"barrierType",void 0),(0,a._)([(0,d.property)()],S.prototype,"costs",void 0),(0,a._)([(0,m.reader)("costs",["attributes"])],S.prototype,"readCosts",null),(0,a._)([(0,f.writer)("costs")],S.prototype,"writeCosts",null),(0,a._)([(0,d.property)({type:b.default,json:{write:!0}})],S.prototype,"geometry",void 0),(0,a._)([(0,d.property)({json:{name:"attributes.Name",write:!0}})],S.prototype,"name",void 0),(0,a._)([(0,d.property)({json:{name:"attributes.ObjectID",write:!0}})],S.prototype,"objectId",void 0),(0,a._)([(0,d.property)({type:l.default,json:{read:!1}})],S.prototype,"popupTemplate",void 0),(0,a._)([(0,d.property)({json:{read:!1}})],S.prototype,"scaleFactor",void 0),(0,a._)([(0,d.property)({types:n.symbolTypes,json:{read:!1}})],S.prototype,"symbol",void 0);var g=S=y=(0,a._)([(0,c.subclass)("esri.rest.support.PolygonBarrier")],S)})),r.register("aqAOT",(function(e,i){t(e.exports,"default",(function(){return S}));var o=r("8TSCy"),a=r("7eJjO"),l=r("3MVX3"),n=r("cM5QQ"),s=r("1XAcN"),u=r("flPLJ"),p=r("7qybv"),d=r("iho5X");r("iJAIC");var y,m=r("eB8sj"),c=r("fcwIv"),f=r("95Tg0"),b=r("jgTBw"),v=r("emSvR"),h=r("3Lb13"),T=y=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var i;return o.classCallCheck(this,r),(i=t.call(this,e)).barrierType=null,i.costs=null,i.geometry=null,i.name=null,i.objectId=null,i.popupTemplate=null,i.scaleFactor=null,i.symbol=null,o.possibleConstructorReturn(i)}return o.createClass(r,[{key:"readCosts",value:function(e,t){return(0,b.getPrefixedProperties)(t.attributes,"Attr_")}},{key:"clone",value:function(){return new y((0,u.clone)({barrierType:this.barrierType,costs:this.costs,geometry:this.geometry,name:this.name,objectId:this.objectId,popupTemplate:this.popupTemplate,scaleFactor:this.scaleFactor,symbol:this.symbol}))}},{key:"toPortalJSON",value:function(){return{geometry:(0,p.isSome)(this.geometry)?this.geometry.toJSON():null,attributes:{__OBJECTID:(0,p.unwrap)(this.objectId),BarrierType:(0,p.isSome)(this.barrierType)?v.barrierTypeJsonMap.toJSON(this.barrierType):null,Costs:(0,p.isSome)(this.costs)?JSON.stringify(this.costs):null,Name:this.name,ScaleFactor:this.scaleFactor},symbol:(0,p.isSome)(this.symbol)?this.symbol.toJSON():null,popupInfo:(0,p.isSome)(this.popupTemplate)?this.popupTemplate.toJSON():null}}}],[{key:"fromPortalJSON",value:function(e){var t,r;return new y({barrierType:(0,p.isSome)(e.attributes.BarrierType)?v.barrierTypeJsonMap.fromJSON(e.attributes.BarrierType):null,costs:(0,p.isSome)(e.attributes.Costs)?JSON.parse(e.attributes.Costs):null,geometry:f.default.fromJSON(e.geometry),name:null!=(t=e.attributes.Name)?t:null,objectId:e.attributes.__OBJECTID,popupTemplate:(0,p.isSome)(e.popupInfo)?l.default.fromJSON(e.popupInfo):null,scaleFactor:null!=(r=e.attributes.ScaleFactor)?r:null,symbol:(0,p.isSome)(e.symbol)?(0,h.fromJSON)(e.symbol):null})}}]),r}(s.JSONSupport);T.fields=[{name:"__OBJECTID",alias:"OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1,domain:null},{name:"BarrierType",alias:"Barrier Type",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNABarrierType",codedValues:[{name:"Restriction",code:0},{name:"Scaled Cost",code:1},{name:"Added Cost",code:2}]}},{name:"Costs",alias:"Costs",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"Name",alias:"Name",type:"esriFieldTypeString",length:255,editable:!0,nullable:!0,visible:!0},{name:"ScaleFactor",alias:"Scale Factor",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0}],T.popupInfo={title:"Line Barriers",fieldInfos:[{fieldName:"Name",label:"Name",isEditable:!0,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"BarrierType",label:"Barrier Type",isEditable:!0,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"ScaleFactor",isEditable:!0,tooltip:"",visible:!0,format:{places:3,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"Costs",label:"Costs",isEditable:!0,tooltip:"",visible:!1,stringFieldOption:"textbox"}],description:null,showAttachments:!1,mediaInfos:[]},(0,a._)([(0,d.property)({type:v.barrierTypeJsonMap.apiValues,json:{read:{source:"attributes.BarrierType",reader:v.barrierTypeJsonMap.read}}})],T.prototype,"barrierType",void 0),(0,a._)([(0,d.property)()],T.prototype,"costs",void 0),(0,a._)([(0,m.reader)("costs",["attributes"])],T.prototype,"readCosts",null),(0,a._)([(0,d.property)({type:f.default,json:{write:!0}})],T.prototype,"geometry",void 0),(0,a._)([(0,d.property)({json:{name:"attributes.Name",write:!0}})],T.prototype,"name",void 0),(0,a._)([(0,d.property)({json:{name:"attributes.ObjectID",write:!0}})],T.prototype,"objectId",void 0),(0,a._)([(0,d.property)({type:l.default,json:{read:!1}})],T.prototype,"popupTemplate",void 0),(0,a._)([(0,d.property)({json:{read:!1}})],T.prototype,"scaleFactor",void 0),(0,a._)([(0,d.property)({types:n.symbolTypes,json:{read:!1}})],T.prototype,"symbol",void 0);var S=T=y=(0,a._)([(0,c.subclass)("esri.rest.support.PolylineBarrier")],T)})),r.register("cdZvo",(function(e,i){t(e.exports,"default",(function(){return T}));var o=r("8TSCy"),a=r("7eJjO"),l=r("3MVX3"),n=r("cM5QQ"),s=r("1XAcN"),u=r("7qybv"),p=r("iho5X");r("lNwWH"),r("2VlWd"),r("iJAIC");var d,y=r("eB8sj"),m=r("fcwIv"),c=r("95Tg0"),f=r("jgTBw"),b=r("h5ax2"),v=r("3Lb13"),h=d=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var i;return o.classCallCheck(this,r),(i=t.call(this,e)).analysisSettings=null,i.endTime=null,i.endTimeOffset=null,i.firstStopId=null,i.geometry=null,i.lastStopId=null,i.messages=null,i.name=null,i.objectId=null,i.popupTemplate=null,i.startTime=null,i.startTimeOffset=null,i.stopCount=null,i.symbol=null,i.totalCosts=null,i.totalDistance=null,i.totalDuration=null,i.totalLateDuration=null,i.totalViolations=null,i.totalWait=null,i.totalWaitDuration=null,i.version="1.0.0",o.possibleConstructorReturn(i)}return o.createClass(r,[{key:"readEndTime",value:function(e,t){return(0,u.isSome)(t.attributes.EndTimeUTC)?new Date(t.attributes.EndTimeUTC):null}},{key:"readEndTimeOffset",value:function(e,t){return(0,f.getTimezoneOffset)(t.attributes.EndTime,t.attributes.EndTimeUTC)}},{key:"readStartTime",value:function(e,t){return(0,u.isSome)(t.attributes.StartTimeUTC)?new Date(t.attributes.StartTimeUTC):null}},{key:"readStartTimeOffset",value:function(e,t){return(0,f.getTimezoneOffset)(t.attributes.StartTime,t.attributes.StartTimeUTC)}},{key:"readTotalCosts",value:function(e,t){return(0,f.getPrefixedProperties)(t.attributes,"Total_")}},{key:"readTotalViolations",value:function(e,t){return(0,f.getPrefixedProperties)(t.attributes,"TotalViolation_")}},{key:"readTotalWait",value:function(e,t){return(0,f.getPrefixedProperties)(t.attributes,"TotalWait_")}},{key:"toPortalJSON",value:function(){return{geometry:(0,u.isSome)(this.geometry)?this.geometry.toJSON():null,attributes:{__OBJECTID:(0,u.unwrap)(this.objectId),AnalysisSettings:(0,u.isSome)(this.analysisSettings)?JSON.stringify(this.analysisSettings.toJSON()):null,EndTime:(0,u.isSome)(this.endTime)?this.endTime.getTime():null,EndUTCOffset:this.endTimeOffset,Messages:(0,u.isSome)(this.messages)?JSON.stringify(this.messages):null,RouteName:(0,u.unwrap)(this.name),StartTime:(0,u.isSome)(this.startTime)?this.startTime.getTime():null,StartUTCOffset:this.startTimeOffset,TotalCosts:(0,u.isSome)(this.totalCosts)?JSON.stringify(this.totalCosts):null,TotalLateMinutes:this.totalLateDuration,TotalMeters:this.totalDistance,TotalMinutes:this.totalDuration,TotalWaitMinutes:this.totalWaitDuration,Version:(0,u.unwrap)(this.version)},symbol:(0,u.isSome)(this.symbol)?this.symbol.toJSON():null,popupInfo:(0,u.isSome)(this.popupTemplate)?this.popupTemplate.toJSON():null}}}],[{key:"fromPortalJSON",value:function(e){var t,r,i,o,a,n;return new d({analysisSettings:(0,u.isSome)(e.attributes.AnalysisSettings)?b.default.fromJSON(JSON.parse(e.attributes.AnalysisSettings)):null,endTime:(0,u.isSome)(e.attributes.EndTime)?new Date(e.attributes.EndTime):null,endTimeOffset:null!=(t=e.attributes.EndUTCOffset)?t:null,geometry:c.default.fromJSON(e.geometry),messages:(0,u.isSome)(e.attributes.Messages)?JSON.parse(e.attributes.Messages):null,name:e.attributes.RouteName,objectId:e.attributes.__OBJECTID,popupTemplate:(0,u.isSome)(e.popupInfo)?l.default.fromJSON(e.popupInfo):null,startTime:(0,u.isSome)(e.attributes.StartTime)?new Date(e.attributes.StartTime):null,startTimeOffset:null!=(r=e.attributes.StartUTCOffset)?r:null,symbol:(0,u.isSome)(e.symbol)?(0,v.fromJSON)(e.symbol):null,totalCosts:(0,u.isSome)(e.attributes.TotalCosts)?JSON.parse(e.attributes.TotalCosts):null,totalDistance:null!=(i=e.attributes.TotalMeters)?i:null,totalDuration:null!=(o=e.attributes.TotalMinutes)?o:null,totalLateDuration:null!=(a=e.attributes.TotalLateMinutes)?a:null,totalWaitDuration:null!=(n=e.attributes.TotalWaitMinutes)?n:null,version:e.attributes.Version})}}]),r}(s.JSONSupport);h.fields=[{name:"__OBJECTID",alias:"OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1,domain:null},{name:"AnalysisSettings",alias:"Analysis Settings",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"EndTime",alias:"End Time",type:"esriFieldTypeDate",length:36,editable:!0,nullable:!0,visible:!0},{name:"EndUTCOffset",alias:"End Time: Offset from UTC in Minutes",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"Messages",alias:"Analysis Messages",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"RouteName",alias:"Route Name",type:"esriFieldTypeString",length:1024,editable:!0,nullable:!0,visible:!0,domain:null},{name:"StartTime",alias:"Start Time",type:"esriFieldTypeDate",length:36,editable:!0,nullable:!0,visible:!0},{name:"StartUTCOffset",alias:"Start Time: Offset from UTC in Minutes",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"TotalCosts",alias:"Total Costs",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"TotalLateMinutes",alias:"Total Late Minutes",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!1},{name:"TotalMeters",alias:"Total Meters",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0},{name:"TotalMinutes",alias:"Total Minutes",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0},{name:"TotalWaitMinutes",alias:"Total Wait Minutes",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!1},{name:"Version",alias:"Version",type:"esriFieldTypeString",length:16,editable:!0,nullable:!0,visible:!0,domain:null}],h.popupInfo={title:"Route Details",fieldInfos:[{fieldName:"RouteName",label:"Route Name",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"TotalMinutes",label:"Total Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"TotalMeters",label:"Total Meters",isEditable:!1,tooltip:"",visible:!0,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"TotalLateMinutes",label:"Total Late Minutes",isEditable:!1,tooltip:"",visible:!1,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"TotalWaitMinutes",label:"Total Wait Minutes",isEditable:!1,tooltip:"",visible:!1,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"TotalCosts",label:"Total Costs",isEditable:!1,tooltip:"",visible:!1,stringFieldOption:"textbox"},{fieldName:"StartTime",label:"Start Time",isEditable:!1,tooltip:"",visible:!0,format:{dateFormat:"shortDateShortTime24"},stringFieldOption:"textbox"},{fieldName:"StartUTCOffset",label:"Start Time: Offset from UTC in Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"EndTime",label:"End Time",isEditable:!1,tooltip:"",visible:!0,format:{dateFormat:"shortDateShortTime24"},stringFieldOption:"textbox"},{fieldName:"EndUTCOffset",label:"End Time: Offset from UTC in Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"Messages",label:"Analysis Messages",isEditable:!1,tooltip:"",visible:!1,stringFieldOption:"textbox"},{fieldName:"AnalysisSettings",isEditable:!1,tooltip:"",visible:!1,stringFieldOption:"textbox"},{fieldName:"Version",label:"Version",isEditable:!1,tooltip:"",visible:!0,stringFieldOption:"textbox"}],description:null,showAttachments:!1,mediaInfos:[]},(0,a._)([(0,p.property)({json:{read:!1}})],h.prototype,"analysisSettings",void 0),(0,a._)([(0,p.property)()],h.prototype,"endTime",void 0),(0,a._)([(0,y.reader)("endTime",["attributes.EndTimeUTC"])],h.prototype,"readEndTime",null),(0,a._)([(0,p.property)()],h.prototype,"endTimeOffset",void 0),(0,a._)([(0,y.reader)("endTimeOffset",["attributes.EndTime","attributes.EndTimeUTC"])],h.prototype,"readEndTimeOffset",null),(0,a._)([(0,p.property)({json:{read:{source:"attributes.FirstStopID"}}})],h.prototype,"firstStopId",void 0),(0,a._)([(0,p.property)({type:c.default})],h.prototype,"geometry",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.LastStopID"}}})],h.prototype,"lastStopId",void 0),(0,a._)([(0,p.property)({json:{read:!1}})],h.prototype,"messages",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.Name"}}})],h.prototype,"name",void 0),(0,a._)([(0,p.property)({json:{read:{source:"attributes.ObjectID"}}})],h.prototype,"objectId",void 0),(0,a._)([(0,p.property)({type:l.default,json:{read:!1}})],h.prototype,"popupTemplate",void 0),(0,a._)([(0,p.property)()],h.prototype,"startTime",void 0),(0,a._)([(0,y.reader)("startTime",["attributes.StartTimeUTC"])],h.prototype,"readStartTime",null),(0,a._)([(0,p.property)()],h.prototype,"startTimeOffset",void 0),(0,a._)([(0,y.reader)("startTimeOffset",["attributes.StartTime","attributes.StartTimeUTC"])],h.prototype,"readStartTimeOffset",null),(0,a._)([(0,p.property)({json:{read:{source:"attributes.StopCount"}}})],h.prototype,"stopCount",void 0),(0,a._)([(0,p.property)({types:n.symbolTypes,json:{read:!1}})],h.prototype,"symbol",void 0),(0,a._)([(0,p.property)()],h.prototype,"totalCosts",void 0),(0,a._)([(0,y.reader)("totalCosts",["attributes"])],h.prototype,"readTotalCosts",null),(0,a._)([(0,p.property)({json:{read:!1}})],h.prototype,"totalDistance",void 0),(0,a._)([(0,p.property)({json:{read:!1}})],h.prototype,"totalDuration",void 0),(0,a._)([(0,p.property)({json:{read:!1}})],h.prototype,"totalLateDuration",void 0),(0,a._)([(0,p.property)()],h.prototype,"totalViolations",void 0),(0,a._)([(0,y.reader)("totalViolations",["attributes"])],h.prototype,"readTotalViolations",null),(0,a._)([(0,p.property)()],h.prototype,"totalWait",void 0),(0,a._)([(0,y.reader)("totalWait",["attributes"])],h.prototype,"readTotalWait",null),(0,a._)([(0,p.property)({json:{read:!1}})],h.prototype,"totalWaitDuration",void 0),(0,a._)([(0,p.property)({json:{read:!1}})],h.prototype,"version",void 0);var T=h=d=(0,a._)([(0,m.subclass)("esri.rest.support.RouteInfo")],h)})),r.register("h5ax2",(function(e,i){t(e.exports,"default",(function(){return d}));var o=r("8TSCy"),a=r("7eJjO"),l=r("1XAcN"),n=r("iho5X");r("lNwWH"),r("2VlWd"),r("iJAIC");var s=r("fcwIv"),u=r("aOJcM"),p=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var i;return o.classCallCheck(this,r),(i=t.call(this,e)).accumulateAttributes=null,i.directionsLanguage=null,i.findBestSequence=null,i.preserveFirstStop=null,i.preserveLastStop=null,i.startTimeIsUTC=null,i.timeWindowsAreUTC=null,i.travelMode=null,o.possibleConstructorReturn(i)}return r}(l.JSONSupport);(0,a._)([(0,n.property)({type:[String],json:{read:{source:"accumulateAttributeNames"},write:{target:"accumulateAttributeNames"}}})],p.prototype,"accumulateAttributes",void 0),(0,a._)([(0,n.property)({type:String,json:{write:!0}})],p.prototype,"directionsLanguage",void 0),(0,a._)([(0,n.property)({type:Boolean,json:{write:!0}})],p.prototype,"findBestSequence",void 0),(0,a._)([(0,n.property)({type:Boolean,json:{write:!0}})],p.prototype,"preserveFirstStop",void 0),(0,a._)([(0,n.property)({type:Boolean,json:{write:!0}})],p.prototype,"preserveLastStop",void 0),(0,a._)([(0,n.property)({type:Boolean,json:{write:!0}})],p.prototype,"startTimeIsUTC",void 0),(0,a._)([(0,n.property)({type:Boolean,json:{write:!0}})],p.prototype,"timeWindowsAreUTC",void 0),(0,a._)([(0,n.property)({type:u.default,json:{write:!0}})],p.prototype,"travelMode",void 0);var d=p=(0,a._)([(0,s.subclass)("esri.layers.support.RouteSettings")],p)})),r.register("61GzN",(function(e,i){t(e.exports,"default",(function(){return g}));var o=r("8TSCy"),a=r("7eJjO");r("2ILM8");var l,n=r("d2yMj"),s=r("1XAcN"),u=r("flPLJ"),p=r("iho5X"),d=r("iJAIC"),y=r("bSafx"),m=r("eB8sj"),c=r("fcwIv"),f=r("kced1"),b=r("emSvR"),v=r("aOJcM"),h=r("jSX0B"),T=r("j40xv"),S=l=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var i;return o.classCallCheck(this,r),(i=t.call(this,e)).accumulateAttributes=null,i.apiKey=null,i.attributeParameterValues=null,i.directionsLanguage=null,i.directionsLengthUnits=null,i.directionsOutputType=null,i.directionsStyleName=null,i.directionsTimeAttribute=null,i.findBestSequence=null,i.ignoreInvalidLocations=null,i.impedanceAttribute=null,i.outputGeometryPrecision=null,i.outputGeometryPrecisionUnits=null,i.outputLines="true-shape",i.outSpatialReference=null,i.pointBarriers=null,i.polygonBarriers=null,i.polylineBarriers=null,i.preserveFirstStop=null,i.preserveLastStop=null,i.restrictionAttributes=null,i.restrictUTurns=null,i.returnBarriers=!1,i.returnDirections=!1,i.returnPolygonBarriers=!1,i.returnPolylineBarriers=!1,i.returnRoutes=!0,i.returnStops=!1,i.returnZ=!0,i.startTime=null,i.startTimeIsUTC=!0,i.stops=null,i.timeWindowsAreUTC=null,i.travelMode=null,i.useHierarchy=null,i.useTimeWindows=null,o.possibleConstructorReturn(i)}return o.createClass(r,[{key:"writePointBarriers",value:function(e,t,r){this._writeNetworkFeatures(e,t,r)}},{key:"writePolygonBarrier",value:function(e,t,r){this._writeNetworkFeatures(e,t,r)}},{key:"writePolylineBarrier",value:function(e,t,r){this._writeNetworkFeatures(e,t,r)}},{key:"readStartTime",value:function(e,t){return null!=t.startTime?new Date(t.startTime):null}},{key:"writeStartTime",value:function(e,t){t.startTime=e?e.getTime():null}},{key:"writeStops",value:function(e,t,r){this._writeNetworkFeatures(e,t,r)}},{key:"clone",value:function(){return new l((0,u.clone)({accumulateAttributes:this.accumulateAttributes,apiKey:this.apiKey,attributeParameterValues:this.attributeParameterValues,directionsLanguage:this.directionsLanguage,directionsLengthUnits:this.directionsLengthUnits,directionsOutputType:this.directionsOutputType,directionsStyleName:this.directionsStyleName,directionsTimeAttribute:this.directionsTimeAttribute,findBestSequence:this.findBestSequence,ignoreInvalidLocations:this.ignoreInvalidLocations,impedanceAttribute:this.impedanceAttribute,outputGeometryPrecision:this.outputGeometryPrecision,outputGeometryPrecisionUnits:this.outputGeometryPrecisionUnits,outputLines:this.outputLines,outSpatialReference:this.outSpatialReference,pointBarriers:this.pointBarriers,polygonBarriers:this.polygonBarriers,polylineBarriers:this.polylineBarriers,preserveFirstStop:this.preserveFirstStop,preserveLastStop:this.preserveLastStop,restrictionAttributes:this.restrictionAttributes,restrictUTurns:this.restrictUTurns,returnBarriers:this.returnBarriers,returnDirections:this.returnDirections,returnPolygonBarriers:this.returnPolygonBarriers,returnPolylineBarriers:this.returnPolylineBarriers,returnRoutes:this.returnRoutes,returnStops:this.returnStops,returnZ:this.returnZ,startTime:this.startTime,startTimeIsUTC:this.startTimeIsUTC,stops:this.stops,timeWindowsAreUTC:this.timeWindowsAreUTC,travelMode:this.travelMode,useHierarchy:this.useHierarchy,useTimeWindows:this.useTimeWindows}))}},{key:"_writeNetworkFeatures",value:function(e,t,r){t[r]=n.default.isCollection(e)?{features:e.toArray().map((function(e){return e.toJSON()}))}:e.toJSON()}}],[{key:"from",value:function(e){return(0,d.ensureClass)(l,e)}}]),r}(s.JSONSupport);(0,a._)([(0,p.property)({type:[String],json:{name:"accumulateAttributeNames",write:!0}})],S.prototype,"accumulateAttributes",void 0),(0,a._)([(0,p.property)(h.apiKey)],S.prototype,"apiKey",void 0),(0,a._)([(0,p.property)({json:{write:!0}})],S.prototype,"attributeParameterValues",void 0),(0,a._)([(0,p.property)({type:String,json:{write:!0}})],S.prototype,"directionsLanguage",void 0),(0,a._)([(0,y.enumeration)(b.directionsLengthUnitJsonMap)],S.prototype,"directionsLengthUnits",void 0),(0,a._)([(0,y.enumeration)(b.directionsOutputTypeJsonMap)],S.prototype,"directionsOutputType",void 0),(0,a._)([(0,p.property)({type:String,json:{write:!0}})],S.prototype,"directionsStyleName",void 0),(0,a._)([(0,p.property)({type:String,json:{write:!0}})],S.prototype,"directionsTimeAttribute",void 0),(0,a._)([(0,p.property)({json:{write:!0}})],S.prototype,"findBestSequence",void 0),(0,a._)([(0,p.property)({json:{write:!0}})],S.prototype,"ignoreInvalidLocations",void 0),(0,a._)([(0,p.property)({type:String,json:{read:{source:"impedanceAttributeName"},write:{target:"impedanceAttributeName"}}})],S.prototype,"impedanceAttribute",void 0),(0,a._)([(0,p.property)({type:Number,json:{write:!0}})],S.prototype,"outputGeometryPrecision",void 0),(0,a._)([(0,y.enumeration)(b.lengthUnitJsonMap)],S.prototype,"outputGeometryPrecisionUnits",void 0),(0,a._)([(0,y.enumeration)(b.outputLineJsonMap)],S.prototype,"outputLines",void 0),(0,a._)([(0,p.property)({type:T.default,json:{write:!0}})],S.prototype,"outSpatialReference",void 0),(0,a._)([(0,p.property)({json:{write:!0}})],S.prototype,"pointBarriers",void 0),(0,a._)([(0,f.writer)("pointBarriers")],S.prototype,"writePointBarriers",null),(0,a._)([(0,p.property)({json:{write:!0}})],S.prototype,"polygonBarriers",void 0),(0,a._)([(0,f.writer)("polygonBarriers")],S.prototype,"writePolygonBarrier",null),(0,a._)([(0,p.property)({json:{write:!0}})],S.prototype,"polylineBarriers",void 0),(0,a._)([(0,f.writer)("polylineBarriers")],S.prototype,"writePolylineBarrier",null),(0,a._)([(0,p.property)({json:{write:!0}})],S.prototype,"preserveFirstStop",void 0),(0,a._)([(0,p.property)({json:{write:!0}})],S.prototype,"preserveLastStop",void 0),(0,a._)([(0,p.property)({type:[String],json:{write:!0}})],S.prototype,"restrictionAttributes",void 0),(0,a._)([(0,y.enumeration)(b.restrictUTurnJsonMap)],S.prototype,"restrictUTurns",void 0),(0,a._)([(0,p.property)({type:Boolean,json:{write:!0}})],S.prototype,"returnBarriers",void 0),(0,a._)([(0,p.property)({type:Boolean,json:{write:!0}})],S.prototype,"returnDirections",void 0),(0,a._)([(0,p.property)({type:Boolean,json:{write:!0}})],S.prototype,"returnPolygonBarriers",void 0),(0,a._)([(0,p.property)({type:Boolean,json:{write:!0}})],S.prototype,"returnPolylineBarriers",void 0),(0,a._)([(0,p.property)({type:Boolean,json:{write:!0}})],S.prototype,"returnRoutes",void 0),(0,a._)([(0,p.property)({type:Boolean,json:{write:!0}})],S.prototype,"returnStops",void 0),(0,a._)([(0,p.property)({type:Boolean,json:{write:!0}})],S.prototype,"returnZ",void 0),(0,a._)([(0,p.property)({type:Date,json:{type:Number,write:!0}})],S.prototype,"startTime",void 0),(0,a._)([(0,m.reader)("startTime")],S.prototype,"readStartTime",null),(0,a._)([(0,f.writer)("startTime")],S.prototype,"writeStartTime",null),(0,a._)([(0,p.property)({type:Boolean,json:{write:!0}})],S.prototype,"startTimeIsUTC",void 0),(0,a._)([(0,p.property)({json:{write:!0}})],S.prototype,"stops",void 0),(0,a._)([(0,f.writer)("stops")],S.prototype,"writeStops",null),(0,a._)([(0,p.property)({json:{write:!0}})],S.prototype,"timeWindowsAreUTC",void 0),(0,a._)([(0,p.property)({type:v.default,json:{write:!0}})],S.prototype,"travelMode",void 0),(0,a._)([(0,p.property)({type:Boolean,json:{write:!0}})],S.prototype,"useHierarchy",void 0),(0,a._)([(0,p.property)({type:Boolean,json:{write:!0}})],S.prototype,"useTimeWindows",void 0);var g=S=l=(0,a._)([(0,c.subclass)("esri.rest.support.RouteParameters")],S)})),r.register("jSX0B",(function(e,r){t(e.exports,"apiKey",(function(){return i}));var i={type:String,json:{read:{source:"token"},write:{target:"token"}}}})),r.register("goEAx",(function(e,i){t(e.exports,"default",(function(){return g}));var o=r("8TSCy"),a=r("7eJjO"),l=r("3MVX3"),n=r("cM5QQ"),s=r("1XAcN"),u=r("flPLJ"),p=r("7qybv"),d=r("iho5X");r("iJAIC");var y,m=r("eB8sj"),c=r("fcwIv"),f=r("kced1"),b=r("d1Fqh"),v=r("jgTBw"),h=r("emSvR"),T=r("3Lb13"),S=y=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var i;return o.classCallCheck(this,r),(i=t.call(this,e)).arriveCurbApproach=null,i.arriveTime=null,i.arriveTimeOffset=null,i.bearing=null,i.bearingTol=null,i.cumulativeCosts=null,i.cumulativeDistance=null,i.cumulativeDuration=null,i.curbApproach=null,i.departCurbApproach=null,i.departTime=null,i.departTimeOffset=null,i.distanceToNetworkInMeters=null,i.geometry=null,i.lateDuration=null,i.locationType=null,i.name=null,i.navLatency=null,i.objectId=null,i.popupTemplate=null,i.posAlong=null,i.routeName=null,i.serviceCosts=null,i.serviceDistance=null,i.serviceDuration=null,i.sequence=null,i.sideOfEdge=null,i.snapX=null,i.snapY=null,i.snapZ=null,i.sourceId=null,i.sourceOid=null,i.status=null,i.symbol=null,i.timeWindowEnd=null,i.timeWindowEndOffset=null,i.timeWindowStart=null,i.timeWindowStartOffset=null,i.violations=null,i.waitDuration=null,i.wait=null,o.possibleConstructorReturn(i)}return o.createClass(r,[{key:"readArriveTimeOffset",value:function(e,t){return(0,v.getTimezoneOffset)(t.attributes.ArriveTime,t.attributes.ArriveTimeUTC)}},{key:"readCumulativeCosts",value:function(e,t){return(0,v.getPrefixedProperties)(t.attributes,"Cumul_")}},{key:"readDepartTimeOffset",value:function(e,t){return(0,v.getTimezoneOffset)(t.attributes.DepartTime,t.attributes.DepartTimeUTC)}},{key:"readServiceCosts",value:function(e,t){return(0,v.getPrefixedProperties)(t.attributes,"Attr_")}},{key:"writeServiceCosts",value:function(e,t){if(!(0,p.isNone)(e))for(var r in t.attributes||(t.attributes={}),e)t.attributes["Attr_".concat(r)]=e[r]}},{key:"writeTimeWindowEnd",value:function(e,t){(0,p.isNone)(e)||(t.attributes||(t.attributes={}),t.attributes.TimeWindowEnd=e.getTime())}},{key:"writeTimeWindowStart",value:function(e,t){(0,p.isNone)(e)||(t.attributes||(t.attributes={}),t.attributes.TimeWindowStart=e.getTime())}},{key:"readViolations",value:function(e,t){return(0,v.getPrefixedProperties)(t.attributes,"Violation_")}},{key:"readWait",value:function(e,t){return(0,v.getPrefixedProperties)(t.attributes,"Wait_")}},{key:"clone",value:function(){return new y((0,u.clone)({arriveCurbApproach:this.arriveCurbApproach,arriveTime:this.arriveTime,arriveTimeOffset:this.arriveTimeOffset,bearing:this.bearing,bearingTol:this.bearingTol,cumulativeCosts:this.cumulativeCosts,cumulativeDistance:this.cumulativeDistance,cumulativeTime:this.cumulativeDuration,curbApproach:this.curbApproach,departCurbApproach:this.departCurbApproach,departTime:this.departTime,departTimeOffset:this.departTimeOffset,distanceToNetworkInMeters:this.distanceToNetworkInMeters,geometry:this.geometry,lateDuration:this.lateDuration,locationType:this.locationType,name:this.name,navLatency:this.navLatency,objectId:this.objectId,popupTemplate:this.popupTemplate,posAlong:this.posAlong,routeName:this.routeName,serviceCosts:this.serviceCosts,serviceDistance:this.serviceDistance,serviceDuration:this.serviceDuration,sequence:this.sequence,sideOfEdge:this.sideOfEdge,snapX:this.snapX,snapY:this.snapY,snapZ:this.snapZ,sourceId:this.sourceId,sourceOid:this.sourceOid,status:this.status,symbol:this.symbol,timeWindowEnd:this.timeWindowEnd,timeWindowEndOffset:this.timeWindowEndOffset,timeWindowStart:this.timeWindowStart,timeWindowStartOffset:this.timeWindowStartOffset,waitDuration:this.waitDuration}))}},{key:"toPortalJSON",value:function(){var e,t;return{geometry:(0,p.isSome)(this.geometry)?this.geometry.toJSON():null,attributes:{__OBJECTID:(0,p.unwrap)(this.objectId),ArrivalCurbApproach:(0,p.isSome)(this.arriveCurbApproach)?h.curbApproachJsonMap.toJSON(this.arriveCurbApproach):null,ArrivalTime:(0,p.isSome)(this.arriveTime)?this.arriveTime.getTime():null,ArrivalUTCOffset:this.arriveTimeOffset,CumulativeCosts:(0,p.isSome)(this.cumulativeCosts)?JSON.stringify(this.cumulativeCosts):null,CumulativeMeters:this.cumulativeDistance,CumulativeMinutes:this.cumulativeDuration,CurbApproach:(0,p.isSome)(this.curbApproach)?h.curbApproachJsonMap.toJSON(this.curbApproach):null,DepartureCurbApproach:(0,p.isSome)(this.departCurbApproach)?h.curbApproachJsonMap.toJSON(this.departCurbApproach):null,DepartureTime:(0,p.isSome)(this.departTime)?this.departTime.getTime():null,DepartureUTCOffset:this.departTimeOffset,LateMinutes:this.lateDuration,LocationType:(0,p.isSome)(this.locationType)?h.locationTypeJsonMap.toJSON(this.locationType):null,Name:(0,p.unwrap)(this.name),RouteName:(0,p.unwrap)(this.routeName),Sequence:this.sequence,ServiceCosts:(0,p.isSome)(this.serviceCosts)?JSON.stringify(this.serviceCosts):null,ServiceMeters:this.serviceDistance,ServiceMinutes:this.serviceDuration,Status:(0,p.isSome)(this.status)?h.statusJsonMap.toJSON(this.status):null,TimeWindowEnd:(0,p.isSome)(this.timeWindowEnd)?this.timeWindowEnd.getTime():null,TimeWindowEndUTCOffset:null!=(e=this.timeWindowEndOffset)?e:this.arriveTimeOffset,TimeWindowStart:(0,p.isSome)(this.timeWindowStart)?this.timeWindowStart.getTime():null,TimeWindowStartUTCOffset:null!=(t=this.timeWindowEndOffset)?t:this.arriveTimeOffset,WaitMinutes:this.waitDuration},symbol:(0,p.isSome)(this.symbol)?this.symbol.toJSON():null,popupInfo:(0,p.isSome)(this.popupTemplate)?this.popupTemplate.toJSON():null}}}],[{key:"fromPortalJSON",value:function(e){var t,r,i,o,a,n,s,u,d,m;return new y({arriveCurbApproach:(0,p.isSome)(e.attributes.ArrivalCurbApproach)?h.curbApproachJsonMap.fromJSON(e.attributes.ArrivalCurbApproach):null,arriveTime:(0,p.isSome)(e.attributes.ArrivalTime)?new Date(e.attributes.ArrivalTime):null,arriveTimeOffset:e.attributes.ArrivalUTCOffset,cumulativeCosts:(0,p.isSome)(e.attributes.CumulativeCosts)?JSON.parse(e.attributes.CumulativeCosts):null,cumulativeDistance:null!=(t=e.attributes.CumulativeMeters)?t:null,cumulativeDuration:null!=(r=e.attributes.CumulativeMinutes)?r:null,curbApproach:(0,p.isSome)(e.attributes.CurbApproach)?h.curbApproachJsonMap.fromJSON(e.attributes.CurbApproach):null,departCurbApproach:(0,p.isSome)(e.attributes.DepartureCurbApproach)?h.curbApproachJsonMap.fromJSON(e.attributes.DepartureCurbApproach):null,departTime:(0,p.isSome)(e.attributes.DepartureTime)?new Date(e.attributes.DepartureTime):null,departTimeOffset:null!=(i=e.attributes.DepartureUTCOffset)?i:null,geometry:b.default.fromJSON(e.geometry),lateDuration:null!=(o=e.attributes.LateMinutes)?o:null,locationType:(0,p.isSome)(e.attributes.LocationType)?h.locationTypeJsonMap.fromJSON(e.attributes.LocationType):null,name:e.attributes.Name,objectId:e.attributes.__OBJECTID,popupTemplate:(0,p.isSome)(e.popupInfo)?l.default.fromJSON(e.popupInfo):null,routeName:e.attributes.RouteName,sequence:null!=(a=e.attributes.Sequence)?a:null,serviceCosts:(0,p.isSome)(e.attributes.ServiceCosts)?JSON.parse(e.attributes.ServiceCosts):null,serviceDistance:null!=(n=e.attributes.ServiceMeters)?n:null,serviceDuration:null!=(s=e.attributes.ServiceMinutes)?s:null,status:(0,p.isSome)(e.attributes.Status)?h.statusJsonMap.fromJSON(e.attributes.Status):null,symbol:(0,p.isSome)(e.symbol)?(0,T.fromJSON)(e.symbol):null,timeWindowEnd:(0,p.isSome)(e.attributes.TimeWindowEnd)?new Date(e.attributes.TimeWindowEnd):null,timeWindowEndOffset:null!=(u=e.attributes.TimeWindowEndUTCOffset)?u:null,timeWindowStart:(0,p.isSome)(e.attributes.TimeWindowStart)?new Date(e.attributes.TimeWindowStart):null,timeWindowStartOffset:null!=(d=e.attributes.TimeWindowStartUTCOffset)?d:null,waitDuration:null!=(m=e.attributes.WaitMinutes)?m:null})}}]),r}(s.JSONSupport);S.fields=[{name:"__OBJECTID",alias:"OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1,domain:null},{name:"ArrivalCurbApproach",alias:"Arrival Curb Approach",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNACurbApproachType",codedValues:[{name:"Either side",code:0},{name:"From the right",code:1},{name:"From the left",code:2},{name:"Depart in the same direction",code:3}]}},{name:"ArrivalTime",alias:"Arrival Time",type:"esriFieldTypeDate",length:36,editable:!0,nullable:!0,visible:!0},{name:"ArrivalUTCOffset",alias:"Arrival Time: Offset from UTC in Minutes",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"CumulativeCosts",alias:"Cumulative Costs",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"CumulativeMeters",alias:"Cumulative Meters",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0},{name:"CumulativeMinutes",alias:"Cumulative Minutes",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!0},{name:"CurbApproach",alias:"Curb Approach",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!1,domain:{type:"codedValue",name:"esriNACurbApproachType",codedValues:[{name:"Either side",code:0},{name:"From the right",code:1},{name:"From the left",code:2},{name:"Depart in the same direction",code:3}]}},{name:"DepartureCurbApproach",alias:"Departure Curb Approach",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNACurbApproachType",codedValues:[{name:"Either side",code:0},{name:"From the right",code:1},{name:"From the left",code:2},{name:"Depart in the same direction",code:3}]}},{name:"DepartureTime",alias:"Departure Time",type:"esriFieldTypeDate",length:36,editable:!0,nullable:!0,visible:!0},{name:"DepartureUTCOffset",alias:"Departure Time: Offset from UTC in Minutes",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"LateMinutes",alias:"Minutes Late",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!1},{name:"LocationType",alias:"Location Type",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNALocationType",codedValues:[{name:"Stop",code:0},{name:"Waypoint",code:1}]}},{name:"Name",alias:"Name",type:"esriFieldTypeString",length:255,editable:!0,nullable:!0,visible:!0},{name:"RouteName",alias:"Route Name",type:"esriFieldTypeString",length:255,editable:!0,nullable:!0,visible:!0},{name:"Sequence",alias:"Sequence",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"ServiceCosts",alias:"Service Costs",type:"esriFieldTypeString",length:1048576,editable:!0,nullable:!0,visible:!1,domain:null},{name:"ServiceMeters",alias:"Service Meters",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!1},{name:"ServiceMinutes",alias:"Service Minutes",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!1},{name:"Status",alias:"Status",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0,domain:{type:"codedValue",name:"esriNAObjectStatus",codedValues:[{name:"OK",code:0},{name:"Not Located on Network",code:1},{name:"Network Unbuilt",code:2},{name:"Prohibited Street",code:3},{name:"Invalid Field Values",code:4},{name:"Cannot Reach",code:5},{name:"Time Window Violation",code:6}]}},{name:"TimeWindowEnd",alias:"Time Window End",type:"esriFieldTypeDate",length:36,editable:!0,nullable:!0,visible:!1},{name:"TimeWindowEndUTCOffset",alias:"Time Window End: Offset from UTC in Minutes",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"TimeWindowStart",alias:"Time Window Start",type:"esriFieldTypeDate",length:36,editable:!0,nullable:!0,visible:!1},{name:"TimeWindowStartUTCOffset",alias:"Time Window Start: Offset from UTC in Minutes",type:"esriFieldTypeInteger",editable:!0,nullable:!0,visible:!0},{name:"WaitMinutes",alias:"Minutes Early",type:"esriFieldTypeDouble",editable:!0,nullable:!0,visible:!1}],S.popupInfo={title:"{Name}",fieldInfos:[{fieldName:"Name",label:"Name",isEditable:!0,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"RouteName",label:"Route Name",isEditable:!0,tooltip:"",visible:!0,stringFieldOption:"textbox"},{fieldName:"Sequence",label:"Sequence",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"ArrivalTime",label:"Arrival Time",isEditable:!0,tooltip:"",visible:!0,format:{dateFormat:"shortDateShortTime24"},stringFieldOption:"textbox"},{fieldName:"ArrivalUTCOffset",label:"Arrival Time: Offset from UTC in Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"DepartureTime",label:"Departure Time",isEditable:!0,tooltip:"",visible:!0,format:{dateFormat:"shortDateShortTime24"},stringFieldOption:"textbox"},{fieldName:"DepartureUTCOffset",label:"Departure Time: Offset from UTC in Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"CurbApproach",label:"Curb Approach",isEditable:!0,tooltip:"",visible:!1,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"ArrivalCurbApproach",label:"Arrival Curb Approach",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"DepartureCurbApproach",label:"Departure Curb Approach",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"Status",label:"Status",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"LocationType",label:"Location Type",isEditable:!1,tooltip:"",visible:!0,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"TimeWindowStart",label:"Time Window Start",isEditable:!0,tooltip:"",visible:!1,format:{dateFormat:"shortDateShortTime24"},stringFieldOption:"textbox"},{fieldName:"TimeWindowStartUTCOffset",label:"Time Window Start: Offset from UTC in Minutes",isEditable:!1,tooltip:"",visible:!1,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"TimeWindowEnd",label:"Time Window End",isEditable:!0,tooltip:"",visible:!1,format:{dateFormat:"shortDateShortTime24"},stringFieldOption:"textbox"},{fieldName:"TimeWindowEndUTCOffset",label:"Time Window End: Offset from UTC in Minutes",isEditable:!1,tooltip:"",visible:!1,format:{places:0,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"ServiceMinutes",label:"Service Minutes",isEditable:!0,tooltip:"",visible:!1,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"ServiceMeters",label:"Service Meters",isEditable:!0,tooltip:"",visible:!1,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"ServiceCosts",label:"Service Costs",isEditable:!0,tooltip:"",visible:!1,stringFieldOption:"textbox"},{fieldName:"CumulativeMinutes",label:"Cumulative Minutes",isEditable:!1,tooltip:"",visible:!0,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"CumulativeMeters",label:"Cumulative Meters",isEditable:!1,tooltip:"",visible:!0,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"CumulativeCosts",label:"Cumulative Costs",isEditable:!0,tooltip:"",visible:!1,stringFieldOption:"textbox"},{fieldName:"LateMinutes",label:"Minutes Late",isEditable:!1,tooltip:"",visible:!1,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"},{fieldName:"WaitMinutes",label:"Minutes Early",isEditable:!1,tooltip:"",visible:!1,format:{places:2,digitSeparator:!0},stringFieldOption:"textbox"}],description:null,showAttachments:!1,mediaInfos:[]},(0,a._)([(0,d.property)({type:h.curbApproachJsonMap.apiValues,json:{read:{source:"attributes.ArrivalCurbApproach",reader:h.curbApproachJsonMap.read}}})],S.prototype,"arriveCurbApproach",void 0),(0,a._)([(0,d.property)({type:Date,json:{read:{source:"attributes.ArriveTimeUTC"}}})],S.prototype,"arriveTime",void 0),(0,a._)([(0,d.property)()],S.prototype,"arriveTimeOffset",void 0),(0,a._)([(0,m.reader)("arriveTimeOffset",["attributes.ArriveTime","attributes.ArriveTimeUTC"])],S.prototype,"readArriveTimeOffset",null),(0,a._)([(0,d.property)({json:{name:"attributes.Bearing",read:!1,write:!0}})],S.prototype,"bearing",void 0),(0,a._)([(0,d.property)({json:{name:"attributes.BearingTol",read:!1,write:!0}})],S.prototype,"bearingTol",void 0),(0,a._)([(0,d.property)()],S.prototype,"cumulativeCosts",void 0),(0,a._)([(0,m.reader)("cumulativeCosts",["attributes"])],S.prototype,"readCumulativeCosts",null),(0,a._)([(0,d.property)({json:{read:!1}})],S.prototype,"cumulativeDistance",void 0),(0,a._)([(0,d.property)({json:{read:!1}})],S.prototype,"cumulativeDuration",void 0),(0,a._)([(0,d.property)({type:h.curbApproachJsonMap.apiValues,json:{name:"attributes.CurbApproach",read:{reader:h.curbApproachJsonMap.read},write:{writer:h.curbApproachJsonMap.write}}})],S.prototype,"curbApproach",void 0),(0,a._)([(0,d.property)({type:h.curbApproachJsonMap.apiValues,json:{read:{source:"attributes.DepartCurbApproach",reader:h.curbApproachJsonMap.read}}})],S.prototype,"departCurbApproach",void 0),(0,a._)([(0,d.property)({type:Date,json:{read:{source:"attributes.DepartTimeUTC"}}})],S.prototype,"departTime",void 0),(0,a._)([(0,d.property)()],S.prototype,"departTimeOffset",void 0),(0,a._)([(0,m.reader)("departTimeOffset",["attributes.DepartTime","attributes.DepartTimeUTC"])],S.prototype,"readDepartTimeOffset",null),(0,a._)([(0,d.property)({json:{read:{source:"attributes.DistanceToNetworkInMeters"}}})],S.prototype,"distanceToNetworkInMeters",void 0),(0,a._)([(0,d.property)({type:b.default,json:{write:!0}})],S.prototype,"geometry",void 0),(0,a._)([(0,d.property)({json:{name:"attributes.LateMinutes",read:!1}})],S.prototype,"lateDuration",void 0),(0,a._)([(0,d.property)({type:h.locationTypeJsonMap.apiValues,json:{name:"attributes.LocationType",read:{reader:h.locationTypeJsonMap.read},write:{writer:h.locationTypeJsonMap.write}}})],S.prototype,"locationType",void 0),(0,a._)([(0,d.property)({json:{name:"attributes.Name",write:!0}})],S.prototype,"name",void 0),(0,a._)([(0,d.property)({json:{read:{source:"attributes.NavLatency"}}})],S.prototype,"navLatency",void 0),(0,a._)([(0,d.property)({json:{name:"attributes.ObjectID",write:!0}})],S.prototype,"objectId",void 0),(0,a._)([(0,d.property)({type:l.default,json:{read:!1}})],S.prototype,"popupTemplate",void 0),(0,a._)([(0,d.property)({json:{read:{source:"attributes.PosAlong"}}})],S.prototype,"posAlong",void 0),(0,a._)([(0,d.property)({json:{name:"attributes.RouteName",write:!0}})],S.prototype,"routeName",void 0),(0,a._)([(0,d.property)()],S.prototype,"serviceCosts",void 0),(0,a._)([(0,m.reader)("serviceCosts",["attributes"])],S.prototype,"readServiceCosts",null),(0,a._)([(0,f.writer)("serviceCosts")],S.prototype,"writeServiceCosts",null),(0,a._)([(0,d.property)({json:{read:!1}})],S.prototype,"serviceDistance",void 0),(0,a._)([(0,d.property)({json:{read:!1}})],S.prototype,"serviceDuration",void 0),(0,a._)([(0,d.property)({json:{name:"attributes.Sequence",write:!0}})],S.prototype,"sequence",void 0),(0,a._)([(0,d.property)({type:h.sideOfEdgeJsonMap.apiValues,json:{read:{source:"attributes.SideOfEdge",reader:h.sideOfEdgeJsonMap.read}}})],S.prototype,"sideOfEdge",void 0),(0,a._)([(0,d.property)({json:{read:{source:"attributes.SnapX"}}})],S.prototype,"snapX",void 0),(0,a._)([(0,d.property)({json:{read:{source:"attributes.SnapY"}}})],S.prototype,"snapY",void 0),(0,a._)([(0,d.property)({json:{read:{source:"attributes.SnapZ"}}})],S.prototype,"snapZ",void 0),(0,a._)([(0,d.property)({json:{read:{source:"attributes.SourceID"}}})],S.prototype,"sourceId",void 0),(0,a._)([(0,d.property)({json:{read:{source:"attributes.SourceOID"}}})],S.prototype,"sourceOid",void 0),(0,a._)([(0,d.property)({type:h.statusJsonMap.apiValues,json:{read:{source:"attributes.Status",reader:h.statusJsonMap.read}}})],S.prototype,"status",void 0),(0,a._)([(0,d.property)({types:n.symbolTypes,json:{read:!1}})],S.prototype,"symbol",void 0),(0,a._)([(0,d.property)({type:Date,json:{name:"attributes.TimeWindowEnd"}})],S.prototype,"timeWindowEnd",void 0),(0,a._)([(0,f.writer)("timeWindowEnd")],S.prototype,"writeTimeWindowEnd",null),(0,a._)([(0,d.property)({json:{read:!1}})],S.prototype,"timeWindowEndOffset",void 0),(0,a._)([(0,d.property)({type:Date,json:{name:"attributes.TimeWindowStart"}})],S.prototype,"timeWindowStart",void 0),(0,a._)([(0,f.writer)("timeWindowStart")],S.prototype,"writeTimeWindowStart",null),(0,a._)([(0,d.property)({json:{read:!1}})],S.prototype,"timeWindowStartOffset",void 0),(0,a._)([(0,d.property)()],S.prototype,"violations",void 0),(0,a._)([(0,m.reader)("violations",["attributes"])],S.prototype,"readViolations",null),(0,a._)([(0,d.property)({json:{read:!1}})],S.prototype,"waitDuration",void 0),(0,a._)([(0,d.property)()],S.prototype,"wait",void 0),(0,a._)([(0,m.reader)("wait",["attributes"])],S.prototype,"readWait",null);var g=S=y=(0,a._)([(0,c.subclass)("esri.rest.support.Stop")],S)})),r.register("gnh78",(function(e,i){t(e.exports,"default",(function(){return y}));var o=r("8TSCy"),a=r("7eJjO"),l=r("79ASa"),n=r("1XAcN"),s=r("iho5X");r("lNwWH"),r("2VlWd"),r("iJAIC");var u=r("fcwIv"),p=new(0,l.JSONMap)({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"}),d=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var i;return o.classCallCheck(this,r),(i=t.call(this,e)).description=null,i.type=null,o.possibleConstructorReturn(i)}return r}(n.JSONSupport);(0,a._)([(0,s.property)({type:String,json:{write:!0}})],d.prototype,"description",void 0),(0,a._)([(0,s.property)({type:String,json:{read:p.read,write:p.write}})],d.prototype,"type",void 0);var y=d=(0,a._)([(0,u.subclass)("esri.rest.support.GPMessage")],d)}))}();
//# sourceMappingURL=RouteLayer.a16475b8.js.map
