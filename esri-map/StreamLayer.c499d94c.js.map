{"mappings":"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","sources":["node_modules/@arcgis/core/layers/StreamLayer.js","node_modules/@arcgis/core/layers/support/PurgeOptions.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import r from\"../PopupTemplate.js\";import\"../renderers/ClassBreaksRenderer.js\";import\"../renderers/DictionaryRenderer.js\";import\"../renderers/DotDensityRenderer.js\";import\"../renderers/HeatmapRenderer.js\";import\"../renderers/PieChartRenderer.js\";import\"../renderers/Renderer.js\";import t from\"../renderers/SimpleRenderer.js\";import o from\"../renderers/UniqueValueRenderer.js\";import{read as i}from\"../renderers/support/jsonUtils.js\";import{rendererTypes as s,webSceneRendererTypes as p}from\"../renderers/support/types.js\";import n from\"../request.js\";import{symbolTypesRenderer as a}from\"../symbols.js\";import l from\"../core/Error.js\";import d from\"../core/Logger.js\";import{isSome as m}from\"../core/maybe.js\";import{MultiOriginJSONMixin as y}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as f}from\"../core/promiseUtils.js\";import{property as u}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{Integer as c}from\"../core/accessorSupport/ensureType.js\";import{reader as h}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as g}from\"../core/accessorSupport/decorators/subclass.js\";import{createTypeReader as j}from\"../core/accessorSupport/extensions/serializableProperty/reader.js\";import{featureGeometryTypeKebabDictionary as S}from\"../geometry/support/typeUtils.js\";import v from\"./Layer.js\";import{ArcGISService as b}from\"./mixins/ArcGISService.js\";import{BlendLayer as I}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as w}from\"./mixins/CustomParametersMixin.js\";import{FeatureEffectLayer as x}from\"./mixins/FeatureEffectLayer.js\";import{OperationalLayer as R}from\"./mixins/OperationalLayer.js\";import{PortalLayer as T}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as P}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as L}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as F}from\"./mixins/TemporalLayer.js\";import{labelsVisible as U,legendEnabled as D,maxScale as E,minScale as O,popupEnabled as k,screenSizePerspectiveEnabled as N,url as _}from\"./support/commonProperties.js\";import{featureReductionProperty as J}from\"./support/featureReductionUtils.js\";import{defineFieldProperties as A}from\"./support/fieldProperties.js\";import{fixRendererFields as G,fixTimeInfoFields as q}from\"./support/fieldUtils.js\";import C from\"./support/LabelClass.js\";import{reader as V}from\"./support/labelingInfo.js\";import z from\"./support/PurgeOptions.js\";import{loadStyleRenderer as M}from\"../renderers/support/styleUtils.js\";import W from\"../rest/support/Query.js\";import{createPopupTemplate as B}from\"../support/popupUtils.js\";import Q from\"../symbols/support/ElevationInfo.js\";import H from\"../geometry/SpatialReference.js\";import K from\"../geometry/Extent.js\";const X=d.getLogger(\"esri.layers.StreamLayer\"),Y=A();let Z=class extends(x(I(F(L(P(b(R(T(y(w(v))))))))))){constructor(...e){super(...e),this.copyright=null,this.definitionExpression=null,this.displayField=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.geometryDefinition=null,this.geometryType=null,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.maxReconnectionAttempts=0,this.maxReconnectionInterval=20,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.operationalLayerType=\"ArcGISStreamLayer\",this.popupEnabled=!0,this.popupTemplate=null,this.purgeOptions=new z,this.screenSizePerspectiveEnabled=!0,this.sourceJSON=null,this.spatialReference=H.WGS84,this.type=\"stream\",this.url=null,this.updateInterval=300,this.webSocketUrl=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){if(!(\"WebSocket\"in globalThis))return this.addResolvingPromise(Promise.reject(new l(\"stream-layer:websocket-unsupported\",\"WebSocket is not supported in this browser. StreamLayer will not have real-time connection with the stream service.\"))),Promise.resolve(this);const r=m(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Stream Service\",\"Feed\"]},e).catch(f).then((()=>this._fetchService(r)))),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){G(e,this.fieldsIndex),this._set(\"renderer\",e)}readRenderer(e,r,s){const p=(r=r.layerDefinition||r).drawingInfo&&r.drawingInfo.renderer||void 0;if(p){const e=i(p,r,s)||void 0;return e||X.error(\"Failed to create renderer\",{rendererDefinition:r.drawingInfo.renderer,layer:this,context:s}),e}if(r.defaultSymbol)return r.types&&r.types.length?new o({defaultSymbol:$(r.defaultSymbol,r,s),field:r.typeIdField,uniqueValueInfos:r.types.map((e=>({id:e.id,symbol:$(e.symbol,e,s)})))}):new t({symbol:$(r.defaultSymbol,r,s)})}createPopupTemplate(e){return B(this,e)}createQuery(){const e=new W;return e.returnGeometry=!0,e.outFields=[\"*\"],e.where=this.definitionExpression||\"1=1\",e}getFieldDomain(e,r){if(!this.fields)return null;let t=null;return this.fields.some((r=>(r.name===e&&(t=r.domain),!!t))),t}getField(e){return this.fieldsIndex.get(e)}serviceSupportsSpatialReference(e){return!0}async _fetchService(e){if(!!this.webSocketUrl){if(!this.timeInfo?.trackIdField)throw new l(\"stream-layer:missing-metadata\",\"The stream layer trackIdField must be specified.\");if(!this.objectIdField)throw new l(\"stream-layer:missing-metadata\",\"The stream layer objectIdField must be specified.\");if(!this.fields)throw new l(\"stream-layer:missing-metadata\",\"The stream layer fields must be specified.\");if(!this.geometryType)throw new l(\"stream-layer:missing-metadata\",\"The stream layer geometryType must be specified.\");this.url=this.webSocketUrl}else if(!this.sourceJSON){const{data:r}=await n(this.parsedUrl.path,{query:{f:\"json\",...this.customParameters,...this.parsedUrl.query},responseType:\"json\",signal:e});this.sourceJSON=r}return this.sourceJSON={...this.sourceJSON??{},objectIdField:\"__esri_stream_id__\"},this.read(this.sourceJSON,{origin:\"service\",url:this.parsedUrl}),G(this.renderer,this.fieldsIndex),q(this.timeInfo,this.fieldsIndex),M(this,{origin:\"service\"})}};e([u({type:String})],Z.prototype,\"copyright\",void 0),e([u({readOnly:!0})],Z.prototype,\"defaultPopupTemplate\",null),e([u({type:String,json:{name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],Z.prototype,\"definitionExpression\",void 0),e([u({type:String})],Z.prototype,\"displayField\",void 0),e([u({type:Q})],Z.prototype,\"elevationInfo\",void 0),e([u(J)],Z.prototype,\"featureReduction\",void 0),e([u(Y.fields)],Z.prototype,\"fields\",void 0),e([u(Y.fieldsIndex)],Z.prototype,\"fieldsIndex\",void 0),e([u({type:K})],Z.prototype,\"geometryDefinition\",void 0),e([u({type:S.apiValues,json:{read:{reader:S.read}}})],Z.prototype,\"geometryType\",void 0),e([u(U)],Z.prototype,\"labelsVisible\",void 0),e([u({type:[C],json:{read:{source:\"layerDefinition.drawingInfo.labelingInfo\",reader:V},write:{target:\"layerDefinition.drawingInfo.labelingInfo\"}}})],Z.prototype,\"labelingInfo\",void 0),e([u(D)],Z.prototype,\"legendEnabled\",void 0),e([u({type:[\"show\",\"hide\"]})],Z.prototype,\"listMode\",void 0),e([u({type:c})],Z.prototype,\"maxReconnectionAttempts\",void 0),e([u({type:c})],Z.prototype,\"maxReconnectionInterval\",void 0),e([u(E)],Z.prototype,\"maxScale\",void 0),e([u(O)],Z.prototype,\"minScale\",void 0),e([u({type:String})],Z.prototype,\"objectIdField\",void 0),e([u({value:\"ArcGISStreamLayer\",type:[\"ArcGISStreamLayer\"]})],Z.prototype,\"operationalLayerType\",void 0),e([u(k)],Z.prototype,\"popupEnabled\",void 0),e([u({type:r,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],Z.prototype,\"popupTemplate\",void 0),e([u({type:z})],Z.prototype,\"purgeOptions\",void 0),e([u({types:s,json:{origins:{service:{write:{target:\"drawingInfo.renderer\",enabled:!1}},\"web-scene\":{name:\"layerDefinition.drawingInfo.renderer\",types:p,write:!0}},write:{target:\"layerDefinition.drawingInfo.renderer\"}}})],Z.prototype,\"renderer\",null),e([h(\"service\",\"renderer\",[\"drawingInfo.renderer\",\"defaultSymbol\"]),h(\"renderer\",[\"layerDefinition.drawingInfo.renderer\",\"layerDefinition.defaultSymbol\"])],Z.prototype,\"readRenderer\",null),e([u(N)],Z.prototype,\"screenSizePerspectiveEnabled\",void 0),e([u()],Z.prototype,\"sourceJSON\",void 0),e([u({type:H,json:{origins:{service:{read:{source:\"spatialReference\"}}}}})],Z.prototype,\"spatialReference\",void 0),e([u({json:{read:!1}})],Z.prototype,\"type\",void 0),e([u(_)],Z.prototype,\"url\",void 0),e([u({type:Number})],Z.prototype,\"updateInterval\",void 0),e([u({type:String})],Z.prototype,\"webSocketUrl\",void 0),Z=e([g(\"esri.layers.StreamLayer\")],Z);const $=j({types:a}),ee=Z;export{ee as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";var t;let i=t=class extends o{constructor(){super(...arguments),this.age=null,this.ageReceived=null,this.displayCount=null,this.maxObservations=1}clone(){return new t({age:this.age,ageReceived:this.ageReceived,displayCount:this.displayCount,maxObservations:this.maxObservations})}};e([r({type:Number,json:{write:!0}})],i.prototype,\"age\",void 0),e([r({type:Number,json:{write:!0}})],i.prototype,\"ageReceived\",void 0),e([r({type:Number,json:{write:!0}})],i.prototype,\"displayCount\",void 0),e([r({type:Number,json:{write:!0}})],i.prototype,\"maxObservations\",void 0),i=t=e([s(\"esri.layers.support.PurgeOptions\")],i);const p=i;export{p as default};\n"],"names":["$j6uz9","parcelRequire","$d40659353ff49d20$var$X","$6TszD","default","getLogger","$d40659353ff49d20$var$Y","$1sTo6","defineFieldProperties","$d40659353ff49d20$var$Z","$2lddq","FeatureEffectLayer","$90xN9","BlendLayer","$6rQbA","TemporalLayer","$5lb2Y","ScaleRangeLayer","$eOpMC","RefreshableLayer","$lPKJW","ArcGISService","$ctxhN","OperationalLayer","$54ioU","PortalLayer","$2IJVS","MultiOriginJSONMixin","$8u5kg","CustomParametersMixin","$iGP99","normalizeCtorArgs","e","r","url","load","globalThis","this","addResolvingPromise","Promise","reject","$bPmsI","resolve","$1CpCt","isSome","signal","loadFromPortal","supportedTypes","catch","$lHg4e","throwIfAbortError","then","_fetchService","defaultPopupTemplate","createPopupTemplate","renderer","$15IfA","fixRendererFields","fieldsIndex","_set","readRenderer","s","p","layerDefinition","drawingInfo","e1","$3yGBU","read","error","rendererDefinition","layer","context","defaultSymbol","types","length","$azUs6","$d40659353ff49d20$var$$","field","typeIdField","uniqueValueInfos","map","id","symbol","$3nyrc","$gKyS5","createQuery","$gC5jC","returnGeometry","outFields","where","definitionExpression","getFieldDomain","fields","t","some","name","domain","getField","get","serviceSupportsSpatialReference","async","webSocketUrl","timeInfo","trackIdField","objectIdField","geometryType","sourceJSON","data","$bYA0c","parsedUrl","path","query","f","customParameters","responseType","origin","fixTimeInfoFields","$4ycBe","loadStyleRenderer","constructor","super","copyright","displayField","elevationInfo","featureReduction","geometryDefinition","labelsVisible","labelingInfo","legendEnabled","maxReconnectionAttempts","maxReconnectionInterval","maxScale","minScale","operationalLayerType","popupEnabled","popupTemplate","purgeOptions","$4jTMF","screenSizePerspectiveEnabled","spatialReference","$jaaCV","WGS84","type","updateInterval","_","$hTI69","property","String","prototype","readOnly","json","write","enabled","allowNull","$gDefd","$58e38","featureReductionProperty","$2WnyR","$jaTH0","featureGeometryTypeKebabDictionary","apiValues","reader","$lixLM","$clU5B","source","$gr7VF","target","$gHCNy","Integer","value","$5kFOn","$8E3XH","rendererTypes","origins","service","webSceneRendererTypes","$bzBbJ","Number","$qA6zg","subclass","$bRgC5","createTypeReader","$cSqwa","symbolTypesRenderer","$d40659353ff49d20$export$2e2bcd8739ae039","$3254354fb7aacef0$var$t","$3254354fb7aacef0$var$i","$hO0an","JSONSupport","clone","age","ageReceived","displayCount","maxObservations","arguments","$3254354fb7aacef0$export$2e2bcd8739ae039"],"version":3,"file":"StreamLayer.c499d94c.js.map"}