{"mappings":"4aAIA,IAAAA,EAAAC,EAAA,S,uCAAmPC,eAAeC,EAAEC,EAAEC,EAAEC,GAAGD,EAAEE,EAAAC,QAAEC,KAAKJ,GAAG,MAAMK,GAAE,EAAAV,EAAAW,UAAEP,GAAG,OAAO,EAAAQ,EAAAC,0BAAEH,EAAEL,EAAEC,GAAGQ,MAAMC,IAAI,MAAMC,EAAED,EAAEE,KAAKb,EAAE,GAAG,OAAOc,OAAOC,KAAKH,GAAGI,SAASL,GAAGX,EAAEW,GAAGM,EAAAb,QAAEc,SAASN,EAAED,MAAMX,CAAC,G,CAAIF,eAAeqB,EAAEP,EAAEQ,EAAEnB,GAAGmB,EAAEjB,EAAAC,QAAEC,KAAKe,GAAG,MAAMlB,GAAE,EAAAN,EAAAW,UAAEK,GAAG,OAAO,EAAAJ,EAAAa,kCAAEnB,EAAEkB,EAAE,IAAInB,IAAIS,MAAMC,GAAGA,EAAEE,M,6KCAle,IAAAS,EAAAzB,EAAA,S,aAAgG,SAAS0B,EAAEvB,EAAEW,GAAG,MAAMS,EAAEpB,EAAEwB,SAAS,OAAOJ,EAAEK,YAAYL,EAAEK,UAAUL,EAAEK,UAAUC,KAAK,MAAMN,EAAEO,gBAAgBP,EAAEO,cAAcP,EAAEO,cAAcD,KAAK,MAAMN,EAAEQ,YAAYjB,GAAGkB,gBAAgBT,EAAEQ,UAAUE,SAAS,KAAKV,EAAEQ,UAAU,IAAIR,EAAEQ,UAAUR,EAAEQ,UAAUF,KAAK,YAAYN,EAAEQ,UAAUR,EAAEW,sBAAsBX,EAAEY,MAAMZ,EAAEY,MAAMC,MAAMC,KAAKC,UAAUf,EAAEY,MAAMR,iBAAiBJ,EAAEW,qBAAqBX,EAAEgB,oBAAoBhB,EAAEiB,MAAMH,KAAKC,UAAU,CAACG,OAAOlB,EAAEgB,2BAA2BhB,EAAEgB,mBAAmBhB,C,CAAEtB,eAAeyC,EAAEvC,EAAEW,EAAES,GAAG,MAAMR,QAAQ4B,EAAExC,EAAEW,EAAES,GAAGqB,EAAE7B,EAAEC,KAAKP,EAAEmC,EAAEC,aAAaC,EAAEF,EAAEG,iBAAiBC,EAAE,GAAG,IAAI,MAAMC,KAAKL,EAAEM,oBAAoB,CAAC,MAAMC,EAAE,CAACC,YAAO,EAAOC,uBAAkB,EAAOR,aAAapC,EAAEsC,iBAAiBD,EAAEQ,OAAOV,EAAEU,KAAKC,OAAOX,EAAEW,KAAKC,SAASP,EAAEQ,gBAAgB,GAAG,MAAMR,EAAES,SAASV,EAAEC,EAAES,UAAUP,OAAO,IAAI,MAAMQ,KAAK1C,OAAOC,KAAK+B,GAAG,mBAAmBU,IAAIX,EAAEC,EAAEU,IAAIR,E,CAAG,MAAM,IAAIpC,EAAEC,KAAKgC,E,CAAG/C,eAAe2D,EAAEzD,EAAEW,EAAES,GAAG,MAAMR,QAAQ4B,EAAExC,EAAEW,EAAES,EAAE,CAACS,iBAAgB,IAAKY,EAAE7B,EAAEC,KAAKP,EAAE,GAAG,IAAI,MAAMwC,KAAKL,EAAEM,oBAAoB,MAAMD,EAAES,WAAWjD,EAAEwC,EAAES,UAAUT,EAAEY,OAAO,MAAM,IAAI9C,EAAEC,KAAKP,E,CAAGR,eAAe0C,EAAE5B,EAAE6B,EAAExC,EAAE,GAAGK,GAAG,MAAMqC,GAAE,EAAAgB,EAAAC,eAAE,IAAIhD,EAAEiD,MAAMC,EAAE,UAAUxD,KAAKiB,EAAEkB,EAAEnC,KAAK,OAAO,EAAAgB,EAAAlB,SAAEQ,EAAEmD,KAAK,uBAAuB,IAAI9D,EAAE4D,MAAM,IAAI5D,EAAE4D,SAASlB,I","sources":["node_modules/@arcgis/core/rest/query/executeRelationshipQuery.js","node_modules/@arcgis/core/rest/query/operations/queryRelatedRecords.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{parseUrl as t}from\"../utils.js\";import{executeRelationshipQuery as r,executeRelationshipQueryForCount as e}from\"./operations/queryRelatedRecords.js\";import o from\"../support/FeatureSet.js\";import s from\"../support/RelationshipQuery.js\";async function n(e,n,u){n=s.from(n);const a=t(e);return r(a,n,u).then((t=>{const r=t.data,e={};return Object.keys(r).forEach((t=>e[t]=o.fromJSON(r[t]))),e}))}async function u(r,o,n){o=s.from(o);const u=t(r);return e(u,o,{...n}).then((t=>t.data))}export{n as executeRelationshipQuery,u as executeRelationshipQueryForCount};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../request.js\";import{mapParameters as t}from\"../../operations/urlUtils.js\";function o(e,t){const o=e.toJSON();return o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.orderByFields&&(o.orderByFields=o.orderByFields.join(\",\")),o.outFields&&!t?.returnCountOnly?o.outFields.includes(\"*\")?o.outFields=\"*\":o.outFields=o.outFields.join(\",\"):delete o.outFields,o.outSpatialReference&&(o.outSR=o.outSR.wkid||JSON.stringify(o.outSR.toJSON()),delete o.outSpatialReference),o.dynamicDataSource&&(o.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o}async function r(e,t,o){const r=await n(e,t,o),s=r.data,a=s.geometryType,d=s.spatialReference,c={};for(const n of s.relatedRecordGroups){const e={fields:void 0,objectIdFieldName:void 0,geometryType:a,spatialReference:d,hasZ:!!s.hasZ,hasM:!!s.hasM,features:n.relatedRecords};if(null!=n.objectId)c[n.objectId]=e;else for(const t of Object.keys(n))\"relatedRecords\"!==t&&(c[n[t]]=e)}return{...r,data:c}}async function s(e,t,o){const r=await n(e,t,o,{returnCountOnly:!0}),s=r.data,a={};for(const n of s.relatedRecordGroups)null!=n.objectId&&(a[n.objectId]=n.count);return{...r,data:a}}async function n(r,s,n={},a){const d=t({...r.query,f:\"json\",...a,...o(s,a)});return e(r.path+\"/queryRelatedRecords\",{...n,query:{...n.query,...d}})}export{r as executeRelationshipQuery,s as executeRelationshipQueryForCount,o as toQueryStringParameters};\n"],"names":["$dgLSf","parcelRequire","async","$5cb4632d4b3ecf7e$export$191dc1969161cc2","e","n","u","$ec36V","default","from","a","parseUrl","$2jD4D","executeRelationshipQuery","then","t","r","data","Object","keys","forEach","$gEU1A","fromJSON","$5cb4632d4b3ecf7e$export$d9eadb3f9a434c31","o","executeRelationshipQueryForCount","$bYA0c","$1afbaa60aadd9fcb$export$c0fbcfbc0d930cf8","toJSON","objectIds","join","orderByFields","outFields","returnCountOnly","includes","outSpatialReference","outSR","wkid","JSON","stringify","dynamicDataSource","layer","source","$1afbaa60aadd9fcb$export$191dc1969161cc2","$1afbaa60aadd9fcb$var$n","s","geometryType","d","spatialReference","c","n1","relatedRecordGroups","e1","fields","objectIdFieldName","hasZ","hasM","features","relatedRecords","objectId","t1","$1afbaa60aadd9fcb$export$d9eadb3f9a434c31","count","$bAQEw","mapParameters","query","f","path"],"version":3,"file":"executeRelationshipQuery.d0ae6fe8.js.map"}