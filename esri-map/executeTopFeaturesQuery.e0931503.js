function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("apY1Z",(function(n,r){e(n.exports,"executeTopFeaturesQuery",(function(){return s}));var o=t("dgLSf"),u=t("2pWQg"),i=t("gEU1A"),l=t("gqX03");async function s(e,t,n,r){const s=(0,o.parseUrl)(e),a={...r},{data:d}=await(0,u.executeTopFeaturesQuery)(s,l.default.from(t),n,a);return i.default.fromJSON(d)}})),t.register("2pWQg",(function(n,r){e(n.exports,"executeTopFeaturesQuery",(function(){return c})),e(n.exports,"executeQueryForTopIds",(function(){return p})),e(n.exports,"executeQueryForTopExtents",(function(){return f})),e(n.exports,"executeQueryForTopCount",(function(){return F}));var o=t("bYA0c"),u=t("7dRCe"),i=t("86d4E"),l=t("hq5aB"),s=t("bAQEw"),a=t("1FRrh");const d="Layer does not support extent calculation.";function y(e,t){const n=e.geometry,r=e.toJSON(),o=r;if(null!=n&&(o.geometry=JSON.stringify(n),o.geometryType=(0,i.getJsonType)(n),o.inSR=n.spatialReference.wkid||JSON.stringify(n.spatialReference)),r.topFilter?.groupByFields&&(o.topFilter.groupByFields=r.topFilter.groupByFields.join(",")),r.topFilter?.orderByFields&&(o.topFilter.orderByFields=r.topFilter.orderByFields.join(",")),r.topFilter&&(o.topFilter=JSON.stringify(o.topFilter)),r.objectIds&&(o.objectIds=r.objectIds.join(",")),r.orderByFields&&(o.orderByFields=r.orderByFields.join(",")),r.outFields&&!(t?.returnCountOnly||t?.returnExtentOnly||t?.returnIdsOnly)?r.outFields.includes("*")?o.outFields="*":o.outFields=r.outFields.join(","):delete o.outFields,r.outSR?o.outSR=r.outSR.wkid||JSON.stringify(r.outSR):n&&r.returnGeometry&&(o.outSR=o.inSR),r.returnGeometry&&delete r.returnGeometry,r.timeExtent){const e=r.timeExtent,{start:t,end:n}=e;null==t&&null==n||(o.time=t===n?t:`${t??"null"},${n??"null"}`),delete r.timeExtent}return o}async function c(e,t,n,r){const o=await g(e,t,"json",r);return(0,a.applyFeatureSetZUnitScaling)(t,n,o.data),o}async function p(e,t,n){return null!=t.timeExtent&&t.timeExtent.isEmpty?{data:{objectIds:[]}}:g(e,t,"json",n,{returnIdsOnly:!0})}async function f(e,t,n){return null!=t.timeExtent&&t.timeExtent.isEmpty?{data:{count:0,extent:null}}:g(e,t,"json",n,{returnExtentOnly:!0,returnCountOnly:!0}).then((e=>{const t=e.data;if(t.hasOwnProperty("extent"))return e;if(t.features)throw new Error(d);if(t.hasOwnProperty("count"))throw new Error(d);return e}))}function F(e,t,n){return null!=t.timeExtent&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):g(e,t,"json",n,{returnIdsOnly:!0,returnCountOnly:!0})}function g(e,t,n,r={},i={}){const a="string"==typeof e?(0,u.urlToObject)(e):e,d=t.geometry?[t.geometry]:[];return r.responseType="pbf"===n?"array-buffer":"json",(0,l.normalizeCentralMeridian)(d,null,r).then((e=>{const l=e&&e[0];null!=l&&((t=t.clone()).geometry=l);const d=(0,s.mapParameters)({...a.query,f:n,...i,...y(t,i)});return(0,o.default)((0,u.join)(a.path,"queryTopFeatures"),{...r,query:{...d,...r.query}})}))}}));
//# sourceMappingURL=executeTopFeaturesQuery.e0931503.js.map
