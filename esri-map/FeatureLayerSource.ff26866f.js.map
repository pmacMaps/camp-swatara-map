{"mappings":"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","sources":["node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import r from\"../../../request.js\";import s from\"../../../TimeExtent.js\";import a from\"../../../core/Error.js\";import i from\"../../../core/has.js\";import{JSONMap as n}from\"../../../core/jsonMap.js\";import o from\"../../../core/Loadable.js\";import{isSome as u,isNone as l}from\"../../../core/maybe.js\";import{setDeepValue as d}from\"../../../core/object.js\";import{debounce as c}from\"../../../core/promiseUtils.js\";import{dataComponents as h}from\"../../../core/urlUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as y}from\"../../../core/accessorSupport/decorators/subclass.js\";import m from\"../../../geometry/Extent.js\";import{fromJSON as f}from\"../../../geometry/support/jsonUtils.js\";import{createDrawingInfo as g}from\"./support/clientSideDefaults.js\";import{unapplyEditsZUnitScaling as R}from\"../../../rest/query/operations/editsZScale.js\";import{processAttachmentQueryResult as F}from\"../../../rest/query/operations/queryAttachments.js\";import b from\"../../../tasks/QueryTask.js\";import q from\"../../../geometry/SpatialReference.js\";const I=new n({originalAndCurrentFeatures:\"original-and-current-features\",none:\"none\"});async function _(e){if(\"string\"==typeof e){const t=h(e);return t||{data:e}}return new Promise(((t,r)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=()=>t(h(s.result)),s.onerror=e=>r(e)}))}const O=new Set([\"Feature Layer\",\"Table\"]);let S=class extends o{constructor(){super(...arguments),this.type=\"feature-layer\",this.refresh=c((async()=>{var e,t;await this.load();const r=null==(e=this.sourceJSON.editingInfo)?void 0:e.lastEditDate;if(null==r)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}const s=r!==(null==(t=this.sourceJSON.editingInfo)?void 0:t.lastEditDate);return{dataChanged:s,updates:s?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}}))}load(e){const t=u(e)?e.signal:null;return this.addResolvingPromise(this._fetchService(this.layer.sourceJSON,t)),Promise.resolve(this)}get queryTask(){const{capabilities:{query:{supportsFormatPBF:e}},parsedUrl:t,dynamicDataSource:r,infoFor3D:s,gdbVersion:a,spatialReference:n,fieldsIndex:o}=this.layer,u=i(\"featurelayer-pbf\")&&e&&l(s)?\"pbf\":\"json\";return new b({url:t.path,format:u,fieldsIndex:o,infoFor3D:s,dynamicDataSource:r,gdbVersion:a,sourceSpatialReference:n})}async addAttachment(e,t){await this.load();const s=e.attributes[this.layer.objectIdField],a=this.layer.parsedUrl.path+\"/\"+s+\"/addAttachment\",i=this._getLayerRequestOptions(),n=this._getFormDataForAttachment(t,i.query);try{const e=await r(a,{body:n});return this._createFeatureEditResult(e.data.addAttachmentResult)}catch(o){throw this._createAttachmentErrorResult(s,o)}}async updateAttachment(e,t,s){await this.load();const a=e.attributes[this.layer.objectIdField],i=this.layer.parsedUrl.path+\"/\"+a+\"/updateAttachment\",n=this._getLayerRequestOptions({query:{attachmentId:t}}),o=this._getFormDataForAttachment(s,n.query);try{const e=await r(i,{body:o});return this._createFeatureEditResult(e.data.updateAttachmentResult)}catch(u){throw this._createAttachmentErrorResult(a,u)}}async applyEdits(e,t){await this.load();const s=e.addFeatures.map(this._serializeFeature,this),a=e.updateFeatures.map(this._serializeFeature,this),i=this._getFeatureIds(e.deleteFeatures,null==t?void 0:t.globalIdUsed);R(s,a,this.layer.spatialReference);const n=[],o=[],u=[...e.deleteAttachments];for(const r of e.addAttachments)n.push(await this._serializeAttachment(r));for(const r of e.updateAttachments)o.push(await this._serializeAttachment(r));const l=n.length||o.length||u.length?{adds:n,updates:o,deletes:u}:null,d={gdbVersion:(null==t?void 0:t.gdbVersion)||this.layer.gdbVersion,rollbackOnFailure:null==t?void 0:t.rollbackOnFailureEnabled,useGlobalIds:null==t?void 0:t.globalIdUsed,returnEditMoment:null==t?void 0:t.returnEditMoment,usePreviousEditMoment:null==t?void 0:t.usePreviousEditMoment,sessionId:null==t?void 0:t.sessionId};null!=t&&t.returnServiceEditsOption?(d.edits=JSON.stringify([{id:this.layer.layerId,adds:s,updates:a,deletes:i,attachments:l}]),d.returnServiceEditsOption=I.toJSON(null==t?void 0:t.returnServiceEditsOption),d.returnServiceEditsInSourceSR=null==t?void 0:t.returnServiceEditsInSourceSR):(d.adds=s.length?JSON.stringify(s):null,d.updates=a.length?JSON.stringify(a):null,d.deletes=i.length?null!=t&&t.globalIdUsed?JSON.stringify(i):i.join(\",\"):null,d.attachments=l&&JSON.stringify(l));const c=this._getLayerRequestOptions({method:\"post\",query:d}),h=null!=t&&t.returnServiceEditsOption?this.layer.url:this.layer.parsedUrl.path,p=await r(h+\"/applyEdits\",c);return this._createEditsResult(p)}async deleteAttachments(e,t){await this.load();const s=e.attributes[this.layer.objectIdField],a=this.layer.parsedUrl.path+\"/\"+s+\"/deleteAttachments\";try{return(await r(a,this._getLayerRequestOptions({query:{attachmentIds:t.join(\",\")},method:\"post\"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(i){throw this._createAttachmentErrorResult(s,i)}}fetchRecomputedExtents(e={}){const t=e.signal;return this.load({signal:t}).then((async()=>{const t=this._getLayerRequestOptions({...e,query:{returnUpdates:!0}}),{layerId:a,url:i}=this.layer,{data:n}=await r(`${i}/${a}`,t),{id:o,extent:u,fullExtent:l,timeExtent:d}=n,c=u||l;return{id:o,fullExtent:c&&m.fromJSON(c),timeExtent:d&&s.fromJSON({start:d[0],end:d[1]})}}))}async queryAttachments(e,t={}){const{parsedUrl:s}=this.layer,a=s.path;await this.load();const i=this._getLayerRequestOptions(t);if(!this.layer.get(\"capabilities.operations.supportsQueryAttachments\")){const{objectIds:t}=e,s=[];for(const e of t){const t=a+\"/\"+e+\"/attachments\";s.push(r(t,i))}return Promise.all(s).then((e=>t.map(((t,r)=>({parentObjectId:t,attachmentInfos:e[r].data.attachmentInfos}))))).then((e=>F(e,a)))}return this.queryTask.executeAttachmentQuery(e,i)}async queryFeatures(e,t){return await this.load(),this.queryTask.execute(e,{...t,query:this._createRequestQueryOptions(t)})}async queryFeaturesJSON(e,t){return await this.load(),this.queryTask.executeJSON(e,{...t,query:this._createRequestQueryOptions(t)})}async queryObjectIds(e,t){return await this.load(),this.queryTask.executeForIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryFeatureCount(e,t){return await this.load(),this.queryTask.executeForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryExtent(e,t){return await this.load(),this.queryTask.executeForExtent(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeatures(e,t){return await this.load(),this.queryTask.executeRelationshipQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeaturesCount(e,t){return await this.load(),this.queryTask.executeRelationshipQueryForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopFeatures(e,t){return await this.load(),this.queryTask.executeTopFeaturesQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopObjectIds(e,t){return await this.load(),this.queryTask.executeForTopIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopExtents(e,t){return await this.load(),this.queryTask.executeForTopExtents(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopCount(e,t){return await this.load(),this.queryTask.executeForTopCount(e,{...t,query:this._createRequestQueryOptions(t)})}_createRequestQueryOptions(e){const t={...this.layer.customParameters,token:this.layer.apiKey,...null==e?void 0:e.query};return this.layer.datesInUnknownTimezone&&(t.timeReferenceUnknownClient=!0),t}async _fetchService(e,t){if(!e){const{data:s}=await r(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:i(\"featurelayer-advanced-symbols\")?{returnAdvancedSymbols:!0}:{},signal:t}));e=s}this.sourceJSON=this._patchServiceJSON(e);const s=e.type;if(!O.has(s))throw new a(\"feature-layer-source:unsupported-type\",`Source type \"${s}\" is not supported`)}_patchServiceJSON(e){var t;if(\"Table\"!==e.type&&e.geometryType&&(null==e||null==(t=e.drawingInfo)||!t.renderer)&&!e.defaultSymbol){const t=g(e.geometryType).renderer;d(\"drawingInfo.renderer\",t,e)}return\"esriGeometryMultiPatch\"===e.geometryType&&e.infoFor3D&&(e.geometryType=\"mesh\"),e}_serializeFeature(e){const{geometry:t,attributes:r}=e;return l(t)?{attributes:r}:\"mesh\"===t.type||\"extent\"===t.type?null:{geometry:t.toJSON(),attributes:r}}async _serializeAttachment(e){const{feature:t,attachment:r}=e,{globalId:s,name:a,contentType:i,data:n,uploadId:o}=r,u={globalId:s,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};if(t&&(u.parentGlobalId=\"attributes\"in t?t.attributes&&t.attributes[this.layer.globalIdField]:t.globalId),o)u.uploadId=o;else if(n){const e=await _(n);u.contentType=e.mediaType,u.data=e.data,n instanceof File&&(u.name=n.name)}return a&&(u.name=a),i&&(u.contentType=i),u}_getFeatureIds(e,t){const r=e[0];return r?this._canUseGlobalIds(t,e)?this._getGlobalIdsFromFeatureIdentifier(e):\"objectId\"in r?this._getObjectIdsFromFeatureIdentifier(e):this._getIdsFromFeatures(e):[]}_getIdsFromFeatures(e){const t=this.layer.objectIdField;return e.map((e=>e.attributes&&e.attributes[t]))}_canUseGlobalIds(e,t){return e&&\"globalId\"in t[0]}_getObjectIdsFromFeatureIdentifier(e){return e.map((e=>e.objectId))}_getGlobalIdsFromFeatureIdentifier(e){return e.map((e=>e.globalId))}_createEditsResult(e){var t;const r=e.data,{layerId:s}=this.layer,a=[];let i=null;if(Array.isArray(r))for(const u of r)a.push({id:u.id,editedFeatures:u.editedFeatures}),u.id===s&&(i={addResults:u.addResults,updateResults:u.updateResults,deleteResults:u.deleteResults,attachments:u.attachments,editMoment:u.editMoment});else i=r;const n=null==(t=i)?void 0:t.attachments,o={addFeatureResults:i.addResults?i.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:i.updateResults?i.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:i.deleteResults?i.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:n&&n.addResults?n.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:n&&n.updateResults?n.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:n&&n.deleteResults?n.deleteResults.map(this._createFeatureEditResult,this):[]};if(i.editMoment&&(o.editMoment=i.editMoment),a.length>0){o.editedFeatureResults=[];for(const e of a){const{adds:t,updates:r,deletes:s,spatialReference:a}=e.editedFeatures,i=a?new q(a):null;o.editedFeatureResults.push({layerId:e.id,editedFeatures:{adds:(null==t?void 0:t.map((e=>this._createEditedFeature(e,i))))||[],updates:(null==r?void 0:r.map((e=>({original:this._createEditedFeature(e[0],i),current:this._createEditedFeature(e[1],i)}))))||[],deletes:(null==s?void 0:s.map((e=>this._createEditedFeature(e,i))))||[],spatialReference:i}})}}return o}_createEditedFeature(e,r){return new t({attributes:e.attributes,geometry:f({...e.geometry,spatialReference:r})})}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new a(\"feature-layer-source:edit-failure\",t.description,{code:t.code}):null}}_createAttachmentErrorResult(e,t){const r=t.details.messages&&t.details.messages[0]||t.message,s=t.details.httpStatus||t.details.messageCode;return{objectId:e,globalId:null,error:new a(\"feature-layer-source:attachment-failure\",r,{code:s})}}_getFormDataForAttachment(e,t){const r=e instanceof FormData?e:e&&e.elements?new FormData(e):null;if(r)for(const s in t){const e=t[s];null!=e&&(r.set?r.set(s,e):r.append(s,e))}return r}_getLayerRequestOptions(e={}){const{parsedUrl:t,gdbVersion:r,dynamicDataSource:s}=this.layer;return{...e,query:{gdbVersion:r,layer:s?JSON.stringify({source:s}):void 0,...t.query,f:\"json\",...this._createRequestQueryOptions(e)},responseType:\"json\"}}};e([p()],S.prototype,\"type\",void 0),e([p({constructOnly:!0})],S.prototype,\"layer\",void 0),e([p({readOnly:!0})],S.prototype,\"queryTask\",null),S=e([y(\"esri.layers.graphics.sources.FeatureLayerSource\")],S);const E=S;export{E as default};\n"],"names":["$8TSCy","parcelRequire","$cc278546168360d9$var$I","$79ASa","JSONMap","originalAndCurrentFeatures","none","$cc278546168360d9$var$_","e1","$cc278546168360d9$var$__","apply","this","arguments","asyncToGenerator","$parcel$interopDefault","$2TvXO","mark","_callee","t1","$kYueh","dataComponents","data","Promise","t2","r1","s1","FileReader","readAsDataURL","onload","result","onerror","e2","$cc278546168360d9$var$O","Set","$cc278546168360d9$var$S","o1","_this","_super","call","Array","prototype","slice","type","refresh","$10vEZ","debounce","_$e","t3","r2","s2","_this1","load","sourceJSON","editingInfo","lastEditDate","dataChanged","updates","_fetchService","extent","key","e3","t4","$7qybv","isSome","signal","addResolvingPromise","layer","resolve","_layer","capabilities","query","supportsFormatPBF","t5","parsedUrl","r3","dynamicDataSource","s3","infoFor3D","a1","gdbVersion","_$n","spatialReference","_$o","fieldsIndex","u1","$2VlWd","default","isNone","$ky1Bg","url","path","format","sourceSpatialReference","e4","t6","s4","a2","i1","attributes","objectIdField","_getLayerRequestOptions","_getFormDataForAttachment","$9pNSx","body","_ctx","sent","_createFeatureEditResult","addAttachmentResult","_createAttachmentErrorResult","t0","e5","t7","s5","a3","i2","attachmentId","updateAttachmentResult","e6","t8","s6","a4","i3","u2","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","r5","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_iterator1","_step1","r4","l1","d1","c1","h1","_$p","addFeatures","map","_serializeFeature","updateFeatures","_getFeatureIds","deleteFeatures","globalIdUsed","$kXCh8","unapplyEditsZUnitScaling","toConsumableArray","deleteAttachments","undefined","addAttachments","Symbol","iterator","next","done","value","_serializeAttachment","push","return","updateAttachments","length","adds","deletes","rollbackOnFailure","rollbackOnFailureEnabled","useGlobalIds","returnEditMoment","usePreviousEditMoment","sessionId","returnServiceEditsOption","edits","JSON","stringify","id","layerId","attachments","toJSON","returnServiceEditsInSourceSR","join","method","_createEditsResult","e7","t9","s7","a5","attachmentIds","deleteAttachmentResults","t10","then","t11","a6","i4","ref","u3","l2","d2","c2","objectSpread","returnUpdates","concat","fullExtent","timeExtent","$gINRd","fromJSON","$9DeZf","start","end","e8","t14","s9","a7","i5","t13","s8","t12","get","objectIds","all","e9","t15","r6","parentObjectId","attachmentInfos","e10","$5EgUN","processAttachmentQueryResult","queryTask","executeAttachmentQuery","e11","t16","execute","_createRequestQueryOptions","e12","t17","executeJSON","e13","t18","executeForIds","e14","t19","executeForCount","e15","t20","executeForExtent","e16","t21","executeRelationshipQuery","e17","t22","executeRelationshipQueryForCount","e18","t23","executeTopFeaturesQuery","e19","t24","executeForTopIds","e20","t25","executeForTopExtents","e21","t26","executeForTopCount","e22","t27","customParameters","token","apiKey","datesInUnknownTimezone","timeReferenceUnknownClient","e23","t28","s11","s10","returnAdvancedSymbols","_patchServiceJSON","has","$kyj08","e24","t30","geometryType","drawingInfo","renderer","defaultSymbol","t29","$dxhdj","createDrawingInfo","$8EPEw","setDeepValue","e25","t31","geometry","r7","e26","t32","r8","s12","a8","i6","u4","feature","attachment","globalId","name","contentType","uploadId","parentGlobalId","globalIdField","mediaType","File","e27","t33","r9","_canUseGlobalIds","_getGlobalIdsFromFeatureIdentifier","_getObjectIdsFromFeatureIdentifier","_getIdsFromFeatures","e28","t34","e29","e30","t35","e31","e32","objectId","e33","e34","e35","t36","r10","s13","a9","i7","isArray","u5","editedFeatures","addResults","updateResults","deleteResults","editMoment","err","addFeatureResults","updateFeatureResults","deleteFeatureResults","addAttachmentResults","updateAttachmentResults","editedFeatureResults","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step21","_step2","_editedFeatures","t37","r11","s14","a10","i8","$j40xv","e36","_this2","_createEditedFeature","e37","original","current","e38","_iterator2","_loop","e39","r12","$bsvXr","$79LpT","e40","t38","success","error","code","description","e41","t39","r13","details","messages","message","s15","httpStatus","messageCode","e42","t40","r14","FormData","elements","s16","set","append","t41","r15","s17","source","f","responseType","$bQCqB","$7eJjO","_","$iho5X","property","constructOnly","readOnly","$cc278546168360d9$export$2e2bcd8739ae039","$fcwIv","subclass"],"version":3,"file":"FeatureLayerSource.ff26866f.js.map"}