{"mappings":"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","sources":["node_modules/@arcgis/core/layers/support/layersCreator.js","node_modules/@arcgis/core/portal/support/featureCollectionUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Collection.js\";import\"../../core/has.js\";import{eachAlways as r}from\"../../core/promiseUtils.js\";import{layerLookupMap as a}from\"./lazyLayerLoader.js\";import y from\"../../portal/PortalItem.js\";import{isMapNotesLayer as t,isMarkupLayer as i,isRouteLayer as L}from\"../../portal/support/featureCollectionUtils.js\";import{selectLayerClassPath as n}from\"../../portal/support/portalLayers.js\";import{loadStyleRenderer as o}from\"../../renderers/support/styleUtils.js\";async function c(e,a,y){if(!a)return;const t=[];for(const r of a){const e=f(r,y);\"GroupLayer\"===r.layerType?t.push(b(e,r,y)):t.push(e)}const i=await r(t);for(const r of i)r.value&&e.add(r.value)}const l={ArcGISDimensionLayer:\"DimensionLayer\",ArcGISFeatureLayer:\"FeatureLayer\",ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",PointCloudLayer:\"PointCloudLayer\",ArcGISSceneServiceLayer:\"SceneLayer\",IntegratedMeshLayer:\"IntegratedMeshLayer\",OGCFeatureLayer:\"OGCFeatureLayer\",BuildingSceneLayer:\"BuildingSceneLayer\",ArcGISTiledElevationServiceLayer:\"ElevationLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",GroupLayer:\"GroupLayer\",GeoJSON:\"GeoJSONLayer\",WebTiledLayer:\"WebTileLayer\",CSV:\"CSVLayer\",VectorTileLayer:\"VectorTileLayer\",WFS:\"WFSLayer\",WMS:\"WMSLayer\",DefaultTileLayer:\"TileLayer\",KML:\"KMLLayer\",RasterDataLayer:\"UnsupportedLayer\",Voxel:\"VoxelLayer\",LineOfSightLayer:\"LineOfSightLayer\"},s={ArcGISTiledElevationServiceLayer:\"ElevationLayer\",DefaultTileLayer:\"ElevationLayer\",RasterDataElevationLayer:\"UnsupportedLayer\"},p={ArcGISTiledMapServiceLayer:\"TileLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",OpenStreetMap:\"OpenStreetMapLayer\",WebTiledLayer:\"WebTileLayer\",VectorTileLayer:\"VectorTileLayer\",ArcGISImageServiceLayer:\"UnsupportedLayer\",WMS:\"UnsupportedLayer\",ArcGISMapServiceLayer:\"UnsupportedLayer\",ArcGISSceneServiceLayer:\"SceneLayer\",DefaultTileLayer:\"TileLayer\"},S={ArcGISAnnotationLayer:\"UnsupportedLayer\",ArcGISDimensionLayer:\"UnsupportedLayer\",ArcGISFeatureLayer:\"FeatureLayer\",ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISImageServiceVectorLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",ArcGISStreamLayer:\"StreamLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",BingMapsAerial:\"BingMapsLayer\",BingMapsRoad:\"BingMapsLayer\",BingMapsHybrid:\"BingMapsLayer\",CSV:\"CSVLayer\",DefaultTileLayer:\"TileLayer\",GeoRSS:\"GeoRSSLayer\",GeoJSON:\"GeoJSONLayer\",GroupLayer:\"GroupLayer\",KML:\"KMLLayer\",MediaLayer:\"MediaLayer\",OGCFeatureLayer:\"OGCFeatureLayer\",OrientedImageryLayer:\"OrientedImageryLayer\",SubtypeGroupLayer:\"SubtypeGroupLayer\",VectorTileLayer:\"VectorTileLayer\",WFS:\"WFSLayer\",WMS:\"WMSLayer\",WebTiledLayer:\"WebTileLayer\"},u={ArcGISFeatureLayer:\"FeatureLayer\"},d={ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISImageServiceVectorLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",OpenStreetMap:\"OpenStreetMapLayer\",VectorTileLayer:\"VectorTileLayer\",WebTiledLayer:\"WebTileLayer\",BingMapsAerial:\"BingMapsLayer\",BingMapsRoad:\"BingMapsLayer\",BingMapsHybrid:\"BingMapsLayer\",WMS:\"WMSLayer\",DefaultTileLayer:\"TileLayer\"},I={...S,LinkChartLayer:\"LinkChartLayer\"},m={...u},T={...d};async function f(e,r){return g(await G(e,r),e,r)}async function g(e,r,a){const y=new e;return y.read(r,a.context),\"group\"===y.type&&M(r)&&await w(y,r,a.context),await o(y,a.context),y}async function G(e,r){const o=r.context,c=v(o);let l=e.layerType||e.type;!l&&r&&r.defaultLayerType&&(l=r.defaultLayerType);const s=c[l];let p=s?a[s]:a.UnknownLayer;if(A(e)){const r=o?.portal;if(e.itemId){const t=new y({id:e.itemId,portal:r});await t.load();const i=(await n(t)).className||\"UnknownLayer\";p=a[i]}}else\"ArcGISFeatureLayer\"===l?t(e)||i(e)?p=a.MapNotesLayer:L(e)?p=a.RouteLayer:M(e)&&(p=a.GroupLayer):e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier?p=a.WMTSLayer:\"WFS\"===l&&\"2.0.0\"!==e.wfsInfo?.version&&(p=a.UnsupportedLayer);return p()}function M(e){if(\"ArcGISFeatureLayer\"!==e.layerType||A(e))return!1;return(e.featureCollection?.layers?.length??0)>1}function A(e){return\"Feature Collection\"===e.type}function v(e){let r;switch(e.origin){case\"web-scene\":switch(e.layerContainerType){case\"basemap\":r=p;break;case\"ground\":r=s;break;default:r=l}break;case\"link-chart\":switch(e.layerContainerType){case\"basemap\":r=T;break;case\"tables\":r=m;break;default:r=I}break;default:switch(e.layerContainerType){case\"basemap\":r=d;break;case\"tables\":r=u;break;default:r=S}}return r}async function b(r,a,y){const t=new e,i=c(t,Array.isArray(a.layers)?a.layers:[],y);try{const e=await r;try{if(await i,\"group\"===e.type)return e.layers.addMany(t),e}catch(L){e.destroy();for(const e of t)e.destroy();throw L}}catch(L){throw L}}async function w(e,r,y){const t=a.FeatureLayer,i=await t(),L=r.featureCollection,n=L?.showLegend,o=L?.layers?.map(((a,t)=>{const L=new i;L.read(a,y);const o={...y,ignoreDefaults:!0};return L.read({id:`${e.id}-sublayer-${t}`,visibility:r.visibleLayers?.includes(t)??!0},o),null!=n&&L.read({showLegend:n},o),L}));e.layers.addMany(o??[])}export{c as populateOperationalLayers};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction e(e){return t(e,\"notes\")}function r(e){return t(e,\"markup\")}function n(e){return t(e,\"route\")}function t(e,r){return!(!e.layerType||\"ArcGISFeatureLayer\"!==e.layerType)&&e.featureCollectionType===r}export{e as isMapNotesLayer,r as isMarkupLayer,n as isRouteLayer};\n"],"names":["$d2yMj","parcelRequire","async","$6aa1f10ccb58847a$export$41455d4eafb2f80b","e","a","y","t","r1","e1","$6aa1f10ccb58847a$var$f","layerType","push","$6aa1f10ccb58847a$var$b","i","$10vEZ","eachAlways","r2","value","add","$6aa1f10ccb58847a$var$l","ArcGISDimensionLayer","ArcGISFeatureLayer","ArcGISImageServiceLayer","ArcGISMapServiceLayer","PointCloudLayer","ArcGISSceneServiceLayer","IntegratedMeshLayer","OGCFeatureLayer","BuildingSceneLayer","ArcGISTiledElevationServiceLayer","ArcGISTiledImageServiceLayer","ArcGISTiledMapServiceLayer","GroupLayer","GeoJSON","WebTiledLayer","CSV","VectorTileLayer","WFS","WMS","DefaultTileLayer","KML","RasterDataLayer","Voxel","LineOfSightLayer","$6aa1f10ccb58847a$var$s","RasterDataElevationLayer","$6aa1f10ccb58847a$var$p","OpenStreetMap","$6aa1f10ccb58847a$var$S","ArcGISAnnotationLayer","ArcGISImageServiceVectorLayer","ArcGISStreamLayer","BingMapsAerial","BingMapsRoad","BingMapsHybrid","GeoRSS","MediaLayer","OrientedImageryLayer","SubtypeGroupLayer","$6aa1f10ccb58847a$var$u","$6aa1f10ccb58847a$var$d","$6aa1f10ccb58847a$var$I","LinkChartLayer","$6aa1f10ccb58847a$var$m","$6aa1f10ccb58847a$var$T","r","read","context","type","$6aa1f10ccb58847a$var$M","ref","$ge5sz","layerLookupMap","FeatureLayer","L","featureCollection","n","showLegend","o","layers","map","ignoreDefaults","ref1","id","visibility","visibleLayers","includes","addMany","$6aa1f10ccb58847a$var$w","$2TQQP","loadStyleRenderer","$6aa1f10ccb58847a$var$g","c","origin","layerContainerType","$6aa1f10ccb58847a$var$v","l","defaultLayerType","s","p","UnknownLayer","$6aa1f10ccb58847a$var$A","portal","itemId","t1","$iYaGG","default","load","i1","$fzgSl","selectLayerClassPath","className","$jOypM","isMapNotesLayer","isMarkupLayer","MapNotesLayer","isRouteLayer","RouteLayer","wmtsInfo","url","layerIdentifier","WMTSLayer","wfsInfo","version","UnsupportedLayer","$6aa1f10ccb58847a$var$G","ref2","length","Array","isArray","destroy","e2","L1","$e6cd61e543756fb3$export$ef5784f56289e82e","$e6cd61e543756fb3$var$t","$e6cd61e543756fb3$export$41d27a708a73569","$e6cd61e543756fb3$export$b69c474137da716","featureCollectionType"],"version":3,"file":"layersCreator.6b5e0366.js.map"}