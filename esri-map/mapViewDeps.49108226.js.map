{"mappings":"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","sources":["node_modules/@arcgis/core/views/2d/layers/features/createSymbolSchema.js","node_modules/@arcgis/core/views/2d/layers/features/schemaUtils.js","node_modules/@arcgis/core/views/2d/engine/webgl/util/vvFlagUtils.js","node_modules/@arcgis/core/views/2d/layers/features/support/pixelBuffering.js","node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js","node_modules/@arcgis/core/views/2d/layers/features/support/rendererUtils.js","node_modules/@arcgis/core/views/2d/layers/support/clusterUtils.js","node_modules/@arcgis/core/views/2d/engine/LevelDependentSizeVariable.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{WGLGeometryType as e}from\"../../engine/webgl/enums.js\";import{createMaterialKey as t}from\"../../engine/webgl/materialKey/MaterialKey.js\";function r(e){if(\"line-marker\"===e.type){var t;return{type:\"line-marker\",color:null==(t=e.color)?void 0:t.toJSON(),placement:e.placement,style:e.style}}return e.constructor.fromJSON(e.toJSON()).toJSON()}function a(e){return hydrateKey(e)}function l(e,t,a){if(!e)return null;switch(e.type){case\"simple-fill\":case\"picture-fill\":return s(e,t,a);case\"simple-marker\":case\"picture-marker\":return o(e,t,a);case\"simple-line\":return i(e,t,a);case\"text\":return u(e,t,a);case\"label\":return n(e,t,a);case\"cim\":return{type:\"cim\",rendererKey:t.vvFlags,data:e.data,maxVVSize:t.maxVVSize};case\"CIMSymbolReference\":return{type:\"cim\",rendererKey:t.vvFlags,data:e,maxVVSize:t.maxVVSize};case\"web-style\":return{...r(e),type:\"web-style\",hash:e.hash(),rendererKey:t.vvFlags,maxVVSize:t.maxVVSize};default:throw new Error(`symbol not supported ${e.type}`)}}function n(r,l,n){const s=r.toJSON(),i=t(e.LABEL,{...l,placement:s.labelPlacement});return{materialKey:n?a(i):i,hash:r.hash(),...s,labelPlacement:s.labelPlacement}}function s(l,n,s){const i=n.supportsOutlineFills,o=t(e.FILL,{...n,isOutlinedFill:i}),u=s?a(o):o,c=l.clone(),h=c.outline;n.supportsOutlineFills||(c.outline=null);const m={materialKey:u,hash:c.hash(),isOutlinedFill:!!n.supportsOutlineFills,...r(c)};if(n.supportsOutlineFills)return m;const p=[];if(p.push(m),h){const l=t(e.LINE,{...n,isOutline:!0}),i={materialKey:s?a(l):l,hash:h.hash(),...r(h)};p.push(i)}return{type:\"composite-symbol\",layers:p,hash:p.reduce(((e,t)=>t.hash+e),\"\")}}function i(l,n,s){const i=t(e.LINE,n),o=s?a(i):i,u=l.clone(),c=u.marker;u.marker=null;const h=[];if(h.push({materialKey:o,hash:u.hash(),...r(u)}),c){var m;const l=t(e.MARKER,n),i=s?a(l):l;c.color=null!=(m=c.color)?m:u.color,h.push({materialKey:i,hash:c.hash(),lineWidth:u.width,...r(c)})}return{type:\"composite-symbol\",layers:h,hash:h.reduce(((e,t)=>t.hash+e),\"\")}}function o(l,n,s){const i=t(e.MARKER,n),o=s?a(i):i,u=r(l);return{materialKey:o,hash:l.hash(),...u,angle:l.angle,maxVVSize:n.maxVVSize}}function u(l,n,s){const i=t(e.TEXT,n),o=s?a(i):i,u=r(l);return{materialKey:o,hash:l.hash(),...u,angle:l.angle,maxVVSize:n.maxVVSize}}export{l as createSymbolSchema};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../../../core/has.js\";import{clone as i}from\"../../../../core/lang.js\";import r from\"../../../../core/Logger.js\";import{isSome as l,unwrap as n,isNone as s,unwrapOr as o}from\"../../../../core/maybe.js\";import{pt2px as a}from\"../../../../core/screenUtils.js\";import{getVVType as u}from\"../../engine/webgl/Utils.js\";import{getVVFlags as d}from\"../../engine/webgl/util/vvFlagUtils.js\";import{createSymbolSchema as f}from\"./createSymbolSchema.js\";export{createSymbolSchema}from\"./createSymbolSchema.js\";import{getPtMaxVVSize as c}from\"./support/pixelBuffering.js\";import{simplifyVisualVariables as p}from\"./support/rendererUtils.js\";import{createClusterRenderer as m}from\"../support/clusterUtils.js\";import{toJSONGeometryType as y}from\"../support/util.js\";const g=r.getLogger(\"esri.views.2d.layers.features.schemaUtils\"),b=\"ValidationError\",x={esriGeometryPoint:[\"above-right\",\"above-center\",\"above-left\",\"center-center\",\"center-left\",\"center-right\",\"below-center\",\"below-left\",\"below-right\"],esriGeometryPolygon:[\"always-horizontal\"],esriGeometryPolyline:[\"center-along\"],esriGeometryMultipoint:null};function v(e){return e}function h(e){let t=0,i=0,r=!1,n=!0,s=!0;if(l(e)){if(i=c(e),\"visualVariables\"in e&&(t=d(e.visualVariables||[]),r=\"dot-density\"===e.type),\"dictionary\"===e.type)return{maxVVSize:i,supportsOutlineFills:!1,vvFlags:t,stride:{fill:\"default\"}};if(!r){const t=e.getSymbols();\"backgroundFillSymbol\"in e&&e.backgroundFillSymbol&&t.push(e.backgroundFillSymbol);for(const e of t)if(\"cim\"===e.type&&(n=!1),\"simple-fill\"===e.type||\"picture-fill\"===e.type){const t=e.outline;t&&\"none\"!==t.style&&\"solid\"!==t.style&&(s=!1);const i=t&&\"none\"!==t.style&&\"solid\"!==t.style,r=\"simple-fill\"===e.type&&\"none\"!==e.style&&\"solid\"!==e.style;(\"picture-fill\"===e.type||r||i)&&(n=!1)}}}return r&&(s=!1),{vvFlags:t,maxVVSize:i,supportsOutlineFills:s,stride:{fill:r?\"dot-density\":n?\"simple\":\"default\"}}}function w(t,i){const r=t.labelPlacement,l=x[i];if(!t.symbol)return g.warn(\"No ILabelClass symbol specified.\"),!0;if(!l)return g.error(new e(\"mapview-labeling:unsupported-geometry-type\",`Unable to create labels for Feature Layer, ${i} is not supported`)),!0;if(!l.some((e=>e===r))){const e=l[0];r&&g.warn(`Found invalid label placement type ${r} for ${i}. Defaulting to ${e}`),t.labelPlacement=e}return!1}function F(e,t){const r=i(e);return r.some((e=>w(e,t)))?[]:r}function I(e){return t(\"esri-2d-update-debug\")&&console.debug(\"Created new schema\",E(e,!0)),E(e)}function E(e,t=!1){try{var i,r;const l=O(e,t),n={};l.map((t=>S(n,e,t)));return{source:{definitionExpression:e.definitionExpression,fields:e.fields.map((e=>e.toJSON())),gdbVersion:e.gdbVersion,historicMoment:null==(i=e.historicMoment)?void 0:i.getTime(),outFields:e.availableFields,pixelBuffer:e.pixelBuffer,spatialReference:e.spatialReference.toJSON(),timeExtent:null==(r=e.timeExtent)?void 0:r.toJSON(),customParameters:e.customParameters},attributes:{fields:{},indexCount:0},processors:l,targets:n}}catch(l){if(l.fieldName===b)return g.error(l),null;throw l}}function S(t,i,r){switch(r.target){case\"feature\":return void V(t,T(i),r);case\"aggregate\":{if(!(\"featureReduction\"in i))return;const l=i.featureReduction;if(\"selection\"===l.type)throw new e(b,\"Mapview does not support `selection` reduction type\",l);return V(t,T(i),r),void N(t,l,r)}}}function z(e,t){for(const i in t){const r=t[i];if(r.target!==e.name)continue;const l=e.attributes[i];l?(l.context.mesh=l.context.mesh||r.context.mesh,l.context.storage=l.context.storage||r.context.storage):e.attributes[i]=r}return e}function T(e){var t,i,r,l,s;return[null!=(t=null==(i=n(e.filter))?void 0:i.toJSON())?t:null,null!=(r=null==(l=n(null==(s=n(e.featureEffect))?void 0:s.filter))?void 0:l.toJSON())?r:null]}function V(e,t,i){return e.feature||(e.feature={name:\"feature\",input:\"source\",filters:t,attributes:{}}),z(e.feature,i.attributes.fields),e}function N(e,t,i){return e.aggregate||(e.aggregate={name:\"aggregate\",input:\"feature\",filters:null,attributes:{},params:{clusterRadius:a(t.clusterRadius/2),clusterPixelBuffer:64*Math.ceil(a(t.clusterMaxSize)/64),fields:i.aggregateFields}}),z(e.aggregate,i.attributes.fields),e}function j(e,t){return t.field?M(e,{...t,type:\"field\",field:t.field}):t.valueExpression?M(e,{...t,type:\"expression\",valueExpression:t.valueExpression}):{field:null,fieldIndex:null}}function M(e,t){switch(t.type){case\"expression\":{const i=v(t.valueExpression);if(!e.fields[i]){const r=e.indexCount++;e.fields[i]={...t,name:i,fieldIndex:r}}return{fieldIndex:e.fields[i].fieldIndex}}case\"label-expression\":{const i=v(JSON.stringify(t.label));if(!e.fields[i]){const r=e.indexCount++;e.fields[i]={...t,name:i,fieldIndex:r}}return{fieldIndex:e.fields[i].fieldIndex}}case\"field\":{const i=t.field;return\"aggregate\"===t.target&&e.fields[i]||(e.fields[i]={...t,name:i}),{field:i}}case\"statistic\":return e.fields[t.name]={...t},{field:t.name}}}function O(e,t=!1){const i=new Array;let r=0;return i.push(B(e,r++,t)),i}function R(e,t,i,r,l,n=!1){const s=M(t,{type:\"label-expression\",target:r,context:{mesh:!0},resultType:\"string\",label:{labelExpression:i.labelExpression,labelExpressionInfo:i.labelExpressionInfo?{expression:i.labelExpressionInfo.expression}:null,symbol:!!i.symbol,where:i.where}}),{fieldIndex:o}=s,a=h(e);return{...f(i,a,n),fieldIndex:o,target:r,index:l}}function B(t,i,r=!1){const n={indexCount:0,fields:{}},s=\"featureReduction\"in t&&t.featureReduction,o=s?\"aggregate\":\"feature\";if(\"sublayers\"in t){const i={type:\"subtype\",subtypeField:t.subtypeField,renderers:{},stride:{fill:\"default\"}},s={type:\"subtype\",mapping:{},target:\"feature\"},a={type:\"subtype\",classes:{}},u={type:\"symbol\",target:\"feature\",aggregateFields:[],attributes:n,storage:s,mesh:{matcher:i,aggregateMatcher:null,labels:a,sortKey:null}},d=new Set;let f=0;for(const{renderer:c,subtypeCode:p,labelingInfo:m,labelsVisible:y}of t.sublayers){const t=L(n,o,c,r),u=C(n,o,c),g=y&&m;if(\"visualVariables\"in c&&c.visualVariables&&c.visualVariables.length)throw new e(b,\"Visual variables are currently not supported for subtype layers\");if(\"dictionary\"===t.type)throw new e(b,\"Dictionary renderer is not supported in subtype layers\");if(\"subtype\"===t.type)throw new e(b,\"Nested subtype renderers is not supported\");if(l(u)&&\"subtype\"===u.type)throw new e(b,\"Nested subtype storage is not supported\");if(l(u)&&\"dot-density\"===u.type)throw new e(b,\"Dot density attributes are not supported in subtype layers\");if(d.has(p))throw new e(b,\"Subtype codes for sublayers must be unique\");d.add(p),i.renderers[p]=t,s.mapping[p]=u,g&&(a.classes[p]=g.map((e=>R(c,n,e,\"feature\",f++,r))))}return u}if(\"heatmap\"===t.renderer.type){const{blurRadius:e,fieldOffset:i,field:r}=t.renderer;return{type:\"heatmap\",aggregateFields:[],attributes:n,target:o,storage:null,mesh:{blurRadius:e,fieldOffset:i,field:j(n,{target:o,field:r,resultType:\"numeric\"}).field}}}{const i=[],l=\"aggregate\"===o?m(i,t.renderer,s,null):t.renderer;P(n,i);const a=L(n,o,l,r);let u=null;const d=C(n,o,l),c=y(t.geometryType);let p=t.labelsVisible&&t.labelingInfo||[],g=[];if(s){if(\"selection\"===s.type)throw new e(b,\"Mapview does not support `selection` reduction type\",s);if(s.symbol){const e=h(l);u={type:\"simple\",symbol:f(s.symbol,e,r),stride:e.stride}}g=s&&s.labelsVisible&&s.labelingInfo||[]}p=F(p,c),g=F(g,c);let x=0;const v=[...p.map((e=>R(l,n,e,\"feature\",x++,r))),...g.map((e=>R(l,n,e,\"aggregate\",x++,r)))],w=k(n,t.orderBy);return{type:\"symbol\",target:o,attributes:n,aggregateFields:i,storage:d,mesh:{matcher:a,labels:{type:\"simple\",classes:v},aggregateMatcher:u,sortKey:w}}}}function k(t,i){if(s(i)||!i.length)return null;i.length>1&&g.warn(`Layer rendering currently only supports ordering by 1 orderByInfo, but found ${i.length}. All but the first will be discarded`);const r=i[0],l=\"ascending\"===r.order?\"asc\":\"desc\";if(r.field)return{field:r.field,order:l};if(r.valueExpression){return{fieldIndex:M(t,{type:\"expression\",target:\"feature\",valueExpression:r.valueExpression,resultType:\"numeric\"}).fieldIndex,order:l}}return g.error(new e(b,\"Expected to find a field or valueExpression for OrderByInfo\",r)),null}function P(e,t){const i={mesh:!0,storage:!0};for(const r of t){const{name:t,outStatistic:l}=r,{statisticType:n,onStatisticField:s}=l;let o=null,a=null,u=null;const d=\"numeric\",f=\"feature\";if(\"onStatisticValueExpression\"in l){a=M(e,{type:\"expression\",target:f,valueExpression:l.onStatisticValueExpression,resultType:d}).fieldIndex}else if(\"onStatisticNormalizationField\"in l){o=M(e,{type:\"field\",target:f,field:s,resultType:d}).field,u=l.onStatisticNormalizationField}else{o=M(e,{type:\"field\",target:f,field:s,resultType:d}).field}M(e,{type:\"statistic\",target:\"aggregate\",name:t,context:i,inField:o,inNormalizationField:u,inFieldIndex:a,statisticType:n})}}function C(e,t,i){switch(i.type){case\"dot-density\":return U(e,t,i.attributes);case\"simple\":case\"class-breaks\":case\"unique-value\":case\"dictionary\":return J(e,t,i.visualVariables);case\"heatmap\":return null}}function U(e,t,i){if(!i||!i.length)return{type:\"dot-density\",mapping:[],target:t};return{type:\"dot-density\",mapping:i.map(((i,r)=>{const{field:l,fieldIndex:n}=j(e,{valueExpression:i.valueExpression,field:i.field,resultType:\"numeric\",target:t});return{binding:r,field:l,fieldIndex:n}})),target:t}}function J(e,t,i){if(!i||!i.length)return{type:\"visual-variable\",mapping:[],target:t};const r={storage:!0},l=\"numeric\";return{type:\"visual-variable\",mapping:p(i).map((i=>{var n;const s=u(i.type),{field:o,fieldIndex:a}=j(e,{target:t,valueExpression:i.valueExpression,field:i.field,context:r,resultType:l});switch(i.type){case\"size\":return\"$view.scale\"===i.valueExpression?null:{type:\"size\",binding:s,field:o,fieldIndex:a,normalizationField:j(e,{target:t,field:i.normalizationField,context:r,resultType:l}).field,valueRepresentation:null!=(n=i.valueRepresentation)?n:null};case\"color\":return{type:\"color\",binding:s,field:o,fieldIndex:a,normalizationField:j(e,{target:t,field:i.normalizationField,context:r,resultType:l}).field};case\"opacity\":return{type:\"opacity\",binding:s,field:o,fieldIndex:a,normalizationField:j(e,{target:t,field:i.normalizationField,context:r,resultType:l}).field};case\"rotation\":return{type:\"rotation\",binding:s,field:o,fieldIndex:a}}})).filter((e=>e)),target:t}}function L(e,t,i,r=!1){const l=o(e,{indexCount:0,fields:{}});switch(i.type){case\"simple\":case\"dot-density\":return $(l,i,r);case\"class-breaks\":return D(l,t,i,r);case\"unique-value\":return q(l,t,i,r);case\"dictionary\":return G(l,i,r)}}function $(e,t,i=!1){const r=t.getSymbols(),l=r.length?r[0]:null,n=h(t);return{type:\"simple\",symbol:f(l,n,i),stride:n.stride}}function D(e,t,i,r=!1){const l={mesh:!0,use:\"renderer.field\"},n=i.backgroundFillSymbol,{field:s,fieldIndex:o}=j(e,{target:t,field:i.field,valueExpression:i.valueExpression,resultType:\"numeric\",context:l}),a=i.normalizationType,u=\"log\"===a?\"esriNormalizeByLog\":\"percent-of-total\"===a?\"esriNormalizeByPercentOfTotal\":\"field\"===a?\"esriNormalizeByField\":null,d=h(i),c=i.classBreakInfos.map((e=>({symbol:f(e.symbol,d,r),min:e.minValue,max:e.maxValue}))).sort(((e,t)=>e.min-t.min));return{type:\"interval\",attributes:e.fields,field:s,fieldIndex:o,backgroundFillSymbol:f(n,d,r),defaultSymbol:f(i.defaultSymbol,d,r),intervals:c,normalizationField:i.normalizationField,normalizationTotal:i.normalizationTotal,normalizationType:u,isMaxInclusive:i.isMaxInclusive,stride:d.stride}}function q(t,i,r,l=!1){const n=[],s=r.backgroundFillSymbol,o={target:i,context:{mesh:!0},resultType:\"string\"};if(r.field&&\"string\"!=typeof r.field)throw new e(b,\"Expected renderer.field to be a string\",r);const{field:a,fieldIndex:u}=j(t,{...o,field:r.field,valueExpression:r.valueExpression}),d=h(r);for(const e of r.uniqueValueInfos)n.push({value:\"\"+e.value,symbol:f(e.symbol,d,l)});return{type:\"map\",attributes:t.fields,field:a,fieldIndex:u,field2:j(t,{...o,field:r.field2}).field,field3:j(t,{...o,field:r.field3}).field,fieldDelimiter:r.fieldDelimiter,backgroundFillSymbol:f(s,d),defaultSymbol:f(r.defaultSymbol,d),map:n,stride:d.stride}}function G(e,t,i=!1){const r=h(t);return{type:\"dictionary\",config:t.config,fieldMap:t.fieldMap,scaleExpression:t.scaleExpression,url:t.url,symbolOptions:r,stride:r.stride}}export{P as addAggregateFields,L as createMatcherSchema,I as createSchema,h as createSymbolSchemaOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{WGLVVFlag as t}from\"../enums.js\";import{getTypeOfSizeVisualVariable as o}from\"../visualVariablesUtils.js\";function e(e){if(!e)return t.NONE;let r=0;for(const i of e)if(\"size\"===i.type){const t=o(i);r|=t,\"outline\"===i.target&&(r|=t<<4)}else\"color\"===i.type?r|=t.COLOR:\"opacity\"===i.type?r|=t.OPACITY:\"rotation\"===i.type&&(r|=t.ROTATION);return r}export{e as getVVFlags};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{pt2px as t}from\"../../../../../core/screenUtils.js\";import{CIMSymbolHelper as e}from\"../../../../../symbols/cim/CIMSymbolHelper.js\";import r from\"../../../../../symbols/cim/Rect.js\";import{AVERAGE_GLYPH_MOSAIC_ITEM as i}from\"../../../engine/webgl/definitions.js\";import{getTextSymbolSize as n}from\"../../graphics/graphicsUtils.js\";import{expandSymbol as s}from\"../../support/cimSymbolUtils.js\";const a={\"simple-marker\":1,\"picture-marker\":1,text:0,\"simple-line\":0,\"simple-fill\":0,\"picture-fill\":0,cim:1,\"web-style\":1},o=.707;function m(t){if(!(\"visualVariables\"in t))return 0;if(!t.hasVisualVariables(\"size\"))return 0;const e=t.getVisualVariablesForType(\"size\");if(!e[0])return 0;const r=e[0];if(\"outline\"===r.target)return 0;if(\"stops\"===r.transformationType)return r.stops.map((t=>t.size)).reduce(g,0);if(\"clamped-linear\"===r.transformationType){let t=-1/0,e=-1/0;return t=\"number\"==typeof r.maxSize?r.maxSize:r.maxSize.stops.map((t=>t.size)).reduce(g,0),e=\"number\"==typeof r.minSize?r.minSize:r.minSize.stops.map((t=>t.size)).reduce(g,0),Math.max(t,e)}return\"real-world-size\"===r.transformationType?30:void 0}function u(t){return t.type in a}async function c(e,r,i,n,s,a){if(!e||a&&\"cluster\"===a.type)return 0;if(\"heatmap\"===e.type)return Math.round(3*e.blurRadius);if(\"dot-density\"===e.type)return 0;if(\"dictionary\"===e.type)return\"esriGeometryPoint\"===r||\"esriGeometryMultipoint\"===r?100:200;const o=e.getSymbols(),u=m(e),c=[];for(const t of o)c.push(x(t,u,i,r,n,s));const p=await Promise.all(c);return t(p.reduce(g,0))}const p=[0,0,0,0];function l(t,e){return null==t?e:t}function f(t,e){return null==t.outline?e:l(t.outline.width,e)}const h={sdf:!0,code:99,metrics:i.metrics,rect:new r(0,0,24,24),page:0,textureBinding:2};function y(t){const e=t.text&&t.text.length;if(!e)return{glyphMosaicItems:[h]};const r=[];for(let i=0;i<e;i++)r.push({...h,code:t.text.charCodeAt(i)});return{glyphMosaicItems:r}}async function d(t,r,i,a,m,u){if(\"simple-marker\"===t.type){const e=Math.max(l(t.size,12),r);return M(t)+e*o}if(\"picture-marker\"===t.type){const e=Math.max(l(t.height,12),r),i=l(t.width,12)*(e/l(t.height,12))/2,n=e/2;return M(t)+Math.sqrt(i*i+n*n)}if(\"text\"===t.type){const e=y(t);n(p,t.toJSON(),e);const r=Math.abs(p[0]),i=Math.abs(p[1]),s=p[2],a=p[3];return Math.max(r,i)+Math.max(s,a)}if(\"simple-line\"===t.type){const e=t,i=Math.max(l(e.width,.75),r)/2;return e.marker?Math.max(6*e.width,2*r):i}if(\"simple-fill\"===t.type||\"picture-fill\"===t.type)return Math.max(f(t,0),r)/2;if(\"cim\"===t.type){const n={geometryType:a,fields:m,spatialReference:u},o={type:\"cim\",rendererKey:0,data:t.data,maxVVSize:r};await s(o,n,i);const c=e.getEnvelope(t.data,i);return c?Math.sqrt(c.width*c.width+c.height*c.height):0}return\"web-style\"===t.type?d(await t.fetchCIMSymbol(),r,i,a,m,u):0}async function x(t,e,r,i,n,s){return u(t)?Math.min(await d(t,e,r,i,n,s),75):0}function M(t){const e=l(t.xoffset,0),r=l(t.yoffset,0);return Math.sqrt(e*e+r*r)}function g(t,e){return Math.max(t,e)}export{c as computePxBuffer,m as getPtMaxVVSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{bidiText as e}from\"../../../../core/BidiText.js\";import{unwrap as t}from\"../../../../core/maybe.js\";import{pt2px as n}from\"../../../../core/screenUtils.js\";import i from\"../../../../geometry/Polygon.js\";import{create as r}from\"../../../../geometry/support/aaBoundingRect.js\";import{getSpatialReferenceMinMaxX as o}from\"../../../../geometry/support/normalizeUtilsCommon.js\";import{getXAnchorDirection as s,getYAnchorDirection as l}from\"../../engine/webgl/alignmentUtils.js\";import{GLYPH_SIZE as m,MAGIC_LABEL_LINE_HEIGHT as a}from\"../../engine/webgl/definitions.js\";import{shapeGlyphs as f}from\"../../engine/webgl/mesh/templates/shapingUtils.js\";const c=512,u=50;function g(e,t){if(!t.isWrappable)return null;const[n,i]=o(t);return e[2]>i?[r([e[0],e[1],i,e[3]]),r([n,e[1],n+e[2]-i,e[3]])]:e[0]<n?[r([n,e[1],e[2],e[3]]),r([i-(n-e[0]),e[1],i,e[3]])]:null}function p(e){return\"text\"===e||\"esriTS\"===e}function h(e){return\"simple-marker\"===e||\"picture-marker\"===e||\"esriSMS\"===e||\"esriPMS\"===e}function y(e){switch(t(e.geometry).type){case\"point\":case\"multipoint\":return 0;case\"polyline\":return 1;case\"polygon\":case\"extent\":return 2}return 0}function x(t,i,r){var o,c,u;if(!r||0===r.glyphMosaicItems.length)return t;const g=e(i.text)[1],p=r.glyphMosaicItems,h=f(p,g,{scale:n(i.font.size)/m,angle:null!=(o=i.angle)?o:0,xOffset:null!=(c=i.xoffset)?c:0,yOffset:null!=(u=i.yoffset)?u:0,hAlign:s(i.horizontalAlignment||\"center\"),vAlign:l(i.verticalAlignment||\"baseline\"),maxLineWidth:Math.max(32,Math.min(i.lineWidth||512,512)),lineHeight:a*Math.max(.25,Math.min(i.lineHeight||1,4)),decoration:i.font.decoration||\"none\",isCIM:!1}).bounds;return t[0]=n(h.x-h.halfWidth),t[1]=n(h.y-h.halfHeight),t[2]=n(h.width),t[3]=n(h.height),t}function d(e){if(!e)return null;const{xmin:t,ymin:n,xmax:r,ymax:o,spatialReference:s}=e;return new i({rings:[[[t,n],[t,o],[r,o],[r,n],[t,n]]],spatialReference:s})}export{u as PIXEL_BUFFER,c as TILE_SIZE,x as getTextSymbolSize,y as graphicGeometryToNumber,g as intersectingInternationalDateline,h as isMarkerSymbol,p as isTextSymbol,d as polygonFromExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Logger.js\";import{toPt as l}from\"../../../../../core/screenUtils.js\";const o=8,t=o-2,r=e.getLogger(\"esri.renderers.visualVariables.support.utils\"),s=e=>{if(!(\"visualVariables\"in e)||!e.visualVariables||!e.visualVariables.length)return e;const l=e.clone(),o=l.visualVariables.map((e=>n(e)?i(e):e));return l.visualVariables=o,l};function a(e){return e.map((e=>n(e)?i(e.clone()):e))}function n(e){return(\"size\"===e.type||\"color\"===e.type||\"opacity\"===e.type)&&null!=e.stops}function i(e){return e.stops=b(e.type,e.stops),e}function u(e,l,o){return(1-o)*e+o*l}function c(e,o){const[r,...s]=o,a=s.pop(),n=s[0].value,i=s[s.length-1].value,c=(i-n)/t,p=[];for(let t=n;t<i;t+=c){let r=0;for(;t>=s[r].value;)r++;const a=s[r],n=o[r-1],i=t-n.value,c=a.value===n.value?1:i/(a.value-n.value);if(\"color\"===e){const e=s[r],l=o[r-1],a=e.color.clone();a.r=u(l.color.r,a.r,c),a.g=u(l.color.g,a.g,c),a.b=u(l.color.b,a.b,c),a.a=u(l.color.a,a.a,c),p.push({value:t,color:a,label:e.label})}else if(\"size\"===e){const e=s[r],a=o[r-1],n=l(e.size),i=u(l(a.size),n,c);p.push({value:t,size:i,label:e.label})}else{const e=s[r],l=u(o[r-1].opacity,e.opacity,c);p.push({value:t,opacity:l,label:e.label})}}return[r,...p,a]}function p(e){const[l,...o]=e,r=o.pop();for(;o.length>t;){let e=0,l=0;for(let t=1;t<o.length;t++){const r=o[t-1],s=o[t],a=Math.abs(s.value-r.value);a>l&&(l=a,e=t)}o.splice(e,1)}return[l,...o,r]}function b(e,l){return l.length<=o?l:(r.warn(`Found ${l.length} Visual Variable stops, but MapView only supports ${o}. Displayed stops will be simplified.`),l.length>2*o?c(e,l):p(l))}export{s as simplifyVVRenderer,a as simplifyVisualVariables};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import i from\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{isNone as r}from\"../../../../core/maybe.js\";import{createMD5Hash as s}from\"../../../../core/MD5.js\";import a from\"../../../../renderers/visualVariables/SizeVariable.js\";import n from\"../../../../renderers/visualVariables/support/SizeStop.js\";import{LevelDependentSizeVariable as l}from\"../../engine/LevelDependentSizeVariable.js\";const o=t.getLogger(\"esri.views.2d.layers.support.clusterUtils\");i.add(\"esri-cluster-arcade-enabled\",!0);const u=i(\"esri-cluster-arcade-enabled\"),c=(e,i,t,s)=>{const a=i.clone();if(!m(a))return a;if(t.fields)for(const r of t.fields)x(e,r);if(\"visualVariables\"in a){const i=(a.visualVariables||[]).filter((e=>\"$view.scale\"!==e.valueExpression)),n=d(i);i.forEach((i=>{\"rotation\"===i.type?i.field?i.field=y(e,i.field,\"avg_angle\"):i.valueExpression&&(i.field=S(e,i.valueExpression,\"avg_angle\"),i.valueExpression=null):i.normalizationField?(i.field=y(e,i.field,\"norm\",i.normalizationField),i.normalizationField=null):i.field?i.field=y(e,i.field,\"avg\"):(i.field=S(e,i.valueExpression,\"avg\"),i.valueExpression=null)})),r(n)&&!p(i)&&(i.push(f(t,s)),a.dynamicClusterSize=!0),a.visualVariables=i}switch(a.type){case\"simple\":break;case\"unique-value\":a.field?a.field=y(e,a.field,\"mode\"):a.valueExpression&&(a.field=S(e,a.valueExpression,\"mode\"),a.valueExpression=null);break;case\"class-breaks\":a.normalizationField?(a.field=y(e,a.field,\"norm\",a.normalizationField),a.normalizationField=null):a.field?a.field=y(e,a.field,\"avg\"):(a.field=S(e,a.valueExpression,\"avg\"),a.valueExpression=null)}return a},d=e=>{for(const i of e)if(\"size\"===i.type)return i;return null},p=e=>{for(const i of e)if(\"cluster_count\"===i.field)return!0;return!1},f=(e,i)=>{const t=[new n({value:0,size:0}),new n({value:1})];if(r(i))return new a({field:\"cluster_count\",stops:[...t,new n({value:2,size:0})]});const s=Object.keys(i).reduce(((r,s)=>({...r,[s]:[...t,new n({value:Math.max(2,i[s].minValue),size:e.clusterMinSize}),new n({value:Math.max(3,i[s].maxValue),size:e.clusterMaxSize})]})),{});return new l({field:\"cluster_count\",levels:s})},m=i=>{const t=t=>o.error(new e(\"Unsupported-renderer\",t,{renderer:i}));if(\"unique-value\"===i.type){if(i.field2||i.field3)return t(\"FeatureReductionCluster does not support multi-field UniqueValueRenderers\"),!1}else if(\"class-breaks\"===i.type){if(i.normalizationField){const e=i.normalizationType;if(\"field\"!==e)return t(`FeatureReductionCluster does not support a normalizationType of ${e}`),!1}}else if(\"simple\"!==i.type)return t(`FeatureReductionCluster does not support renderers of type ${i.type}`),!1;if(!u){if(\"valueExpression\"in i&&i.valueExpression)return t(\"FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release\"),!1;if((\"visualVariables\"in i&&i.visualVariables||[]).some((e=>!(!(\"valueExpression\"in e)||!e.valueExpression))))return t(\"FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release\"),!1}return!0};function v(e,i,t){switch(e){case\"avg\":case\"avg_angle\":return`cluster_avg_${i}`;case\"mode\":return`cluster_type_${i}`;case\"norm\":{const e=t,r=\"field\",a=i.toLowerCase()+\",norm:\"+r+\",\"+e.toLowerCase();return\"cluster_avg_\"+s(a)}}}function x(i,t){const{name:r,outStatistic:a}=t,{onStatisticField:n,onStatisticValueExpression:l,statisticType:u}=a;if(l){const e=s(l.toLowerCase());i.push({name:r,outStatistic:{onStatisticField:e,onStatisticValueExpression:l,statisticType:u}})}else n?i.push({name:r,outStatistic:{onStatisticField:n,statisticType:u}}):o.error(new e(\"mapview-unsupported-field\",\"Unable to handle field\",{field:t}))}function S(e,i,t){const r=s(i),a=\"mode\"===t?`cluster_type_${r}`:`cluster_avg_${r}`;return e.some((e=>e.name===a))||e.push({name:a,outStatistic:{onStatisticField:r,onStatisticValueExpression:i,statisticType:t}}),a}function y(e,i,t,r){if(\"cluster_count\"===i||e.some((e=>e.name===i)))return i;const s=v(t,i,r);return e.some((e=>e.name===s))||(\"norm\"===t?e.push({name:s,outStatistic:{onStatisticField:i,onStatisticNormalizationField:r,statisticType:t}}):e.push({name:s,outStatistic:{onStatisticField:i,statisticType:t}})),s}export{f as createClusterCountSizeVariable,c as createClusterRenderer,d as findSizeVV,p as hasClusterCountVV,m as isClusterCompatibleRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{clone as s}from\"../../../core/lang.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as r}from\"../../../core/accessorSupport/decorators/writer.js\";import o from\"../../../renderers/visualVariables/SizeVariable.js\";import{isSizeVariable as a}from\"../../../renderers/visualVariables/support/sizeVariableUtils.js\";var l;let n=l=class extends o{writeLevels(e,s,i){for(const t in e){const e=this.levels[t];return void(s.stops=e)}}clone(){return new l({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:a(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:a(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((e=>e.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone(),levels:s(this.levels)})}};e([i()],n.prototype,\"levels\",void 0),e([r(\"levels\")],n.prototype,\"writeLevels\",null),n=l=e([t(\"esri.views.2d.engine.LevelDependentSizeVariable\")],n);export{n as LevelDependentSizeVariable};\n"],"names":["$8TSCy","parcelRequire","$68fdb0bb1c936000$var$r","e1","t1","type","color","toJSON","placement","style","constructor","fromJSON","$68fdb0bb1c936000$var$a","e2","hydrateKey","$68fdb0bb1c936000$export$d45a99f922f15260","e3","t2","a1","l2","n2","s2","i3","supportsOutlineFills","o1","$ktHf8","createMaterialKey","$66IJZ","WGLGeometryType","FILL","objectSpread","isOutlinedFill","u1","c","clone","h","outline","m","materialKey","hash","p","push","_$l","LINE","isOutline","i2","layers","reduce","e4","t3","$68fdb0bb1c936000$var$s","l4","n4","s4","i6","MARKER","o3","u3","angle","maxVVSize","l3","n3","s3","i5","o2","u2","marker","i4","lineWidth","width","e5","t4","$68fdb0bb1c936000$var$i","l5","n5","s5","i7","TEXT","o4","u4","l1","n1","s1","r1","i1","LABEL","labelPlacement","rendererKey","vvFlags","data","Error","concat","$f80052ccf47266fb$var$g","$jHOLN","default","getLogger","$f80052ccf47266fb$var$b","$f80052ccf47266fb$var$x","esriGeometryPoint","esriGeometryPolygon","esriGeometryPolyline","esriGeometryMultipoint","$f80052ccf47266fb$export$93ed0c17e45e1de","_$r","$7qybv","isSome","$a8gd3","getPtMaxVVSize","$8Zy9c","getVVFlags","visualVariables","stride","fill","getSymbols","backgroundFillSymbol","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","_$e","value","_$r1","err","return","$f80052ccf47266fb$var$F","t5","$flPLJ","some","symbol","warn","error","$kyj08","$f80052ccf47266fb$var$w","$f80052ccf47266fb$export$5f4ce795563f4211","e6","$2VlWd","console","debug","$f80052ccf47266fb$var$E","e7","t6","arguments","length","$f80052ccf47266fb$var$O","map","t7","$f80052ccf47266fb$var$S","source","definitionExpression","fields","e8","gdbVersion","historicMoment","getTime","outFields","availableFields","pixelBuffer","spatialReference","timeExtent","customParameters","attributes","indexCount","processors","targets","fieldName","t8","target","$f80052ccf47266fb$var$V","$f80052ccf47266fb$var$T","featureReduction","t12","i9","e12","aggregate","name","input","filters","params","clusterRadius","$iXlXu","pt2px","clusterPixelBuffer","Math","ceil","clusterMaxSize","aggregateFields","$f80052ccf47266fb$var$z","e9","t9","context","mesh","storage","e10","t10","unwrap","filter","featureEffect","e11","t11","i8","feature","$f80052ccf47266fb$var$j","e13","t13","field","$f80052ccf47266fb$var$M","valueExpression","fieldIndex","e14","t14","i12","i10","JSON","stringify","label","_$r2","i11","e15","t15","i13","Array","$f80052ccf47266fb$var$B","$f80052ccf47266fb$var$R","e16","t16","i14","r2","l6","resultType","labelExpression","labelExpressionInfo","expression","where","$90RBb","createSymbolSchema","index","t17","i","i15","subtypeField","renderers","mapping","a3","classes","matcher","aggregateMatcher","labels","sortKey","d2","Set","_$f","_step1","_value","c2","renderer","p2","subtypeCode","_$m","labelingInfo","_$y","labelsVisible","_$t","$f80052ccf47266fb$export$7b9cc7c81fd05db1","$f80052ccf47266fb$var$C","g2","has","add","e17","sublayers","_loop","_renderer","blurRadius","i16","fieldOffset","_$r3","i17","$bPKxZ","createClusterRenderer","$f80052ccf47266fb$export$2b7b438af7463f95","a2","d1","c1","$9M3e1","toJSONGeometryType","geometryType","p1","g1","_$e1","x1","v1","toConsumableArray","e18","e19","w1","$f80052ccf47266fb$var$k","orderBy","t18","i18","isNone","l7","order","e20","t19","i19","l8","outStatistic","statisticType","s6","onStatisticField","a4","u5","d3","f1","onStatisticValueExpression","onStatisticNormalizationField","inField","inNormalizationField","inFieldIndex","e21","t20","i20","e22","t21","i21","i22","r3","ref","binding","e23","t22","i23","l10","$71FC0","simplifyVisualVariables","i24","n7","s7","$5WctK","getVVType","a5","normalizationField","valueRepresentation","e24","$f80052ccf47266fb$var$J","e25","t23","i25","l11","unwrapOr","$f80052ccf47266fb$var$$","$f80052ccf47266fb$var$D","$f80052ccf47266fb$var$q","$f80052ccf47266fb$var$G","e","t24","i26","l12","n8","e26","t25","i27","l13","use","n9","s8","o5","a6","normalizationType","u6","d4","c3","classBreakInfos","e27","min","minValue","max","maxValue","sort","e28","t26","defaultSymbol","intervals","normalizationTotal","isMaxInclusive","t27","i28","r4","l14","n10","s9","o6","a7","u7","d5","uniqueValueInfos","field2","field3","fieldDelimiter","t28","config","fieldMap","scaleExpression","url","symbolOptions","$68be8236fcef1dae$export$94a93c5d5bd2108e","WGLVVFlag","NONE","r","$2VOK9","getTypeOfSizeVisualVariable","COLOR","OPACITY","ROTATION","$7607399f0859a6fe$export$f43b72ac518944d","hasVisualVariables","getVisualVariablesForType","transformationType","stops","size","$7607399f0859a6fe$var$g","maxSize","minSize","$4WoSm","AVERAGE_GLYPH_MOSAIC_ITEM","metrics","$i50K3","$97f5b85e3cc0ac3c$export$cf9ad17145f68381","$97f5b85e3cc0ac3c$export$c5bf3b7cf35bf327","$97f5b85e3cc0ac3c$export$df7e3931a61a3e7d","isWrappable","slicedToArray","$7E1SV","getSpatialReferenceMinMaxX","$8TwEW","create","$97f5b85e3cc0ac3c$export$e7b02894f5375582","$97f5b85e3cc0ac3c$export$284faf1ac91e5382","$97f5b85e3cc0ac3c$export$64ed3de453620b35","geometry","$97f5b85e3cc0ac3c$export$230d1a7ba45cc941","glyphMosaicItems","$6J0KG","bidiText","text","h1","$a7brS","shapeGlyphs","scale","font","GLYPH_SIZE","xOffset","xoffset","yOffset","yoffset","hAlign","$6S0qa","getXAnchorDirection","horizontalAlignment","vAlign","getYAnchorDirection","verticalAlignment","maxLineWidth","lineHeight","MAGIC_LABEL_LINE_HEIGHT","decoration","isCIM","bounds","x","halfWidth","y","halfHeight","height","$97f5b85e3cc0ac3c$export$8465bb0c2e71b9c6","xmin","ymin","xmax","ymax","$fTq43","rings","$51d8e7a6ad1f2c82$var$r","$51d8e7a6ad1f2c82$export$48658dc8bd0da4f6","$51d8e7a6ad1f2c82$var$n","$51d8e7a6ad1f2c82$var$i","$51d8e7a6ad1f2c82$export$33d0b2d57c69b1ae","_o","toArray","slice","pop","$51d8e7a6ad1f2c82$var$o","$51d8e7a6ad1f2c82$var$u","g","b","a","toPt","_$e2","_$l1","opacity","$51d8e7a6ad1f2c82$var$c","_e","abs","splice","$51d8e7a6ad1f2c82$var$p","$89d8906f01676079$var$o","$89d8906f01676079$var$u","$89d8906f01676079$export$2b87960fd44a5c71","$89d8906f01676079$export$19c5f02a6625014","$89d8906f01676079$var$x","_$i","$89d8906f01676079$export$ad2ac94a4b8e717d","forEach","$89d8906f01676079$var$y","$89d8906f01676079$var$S","$89d8906f01676079$export$32be1561d9c4b963","$89d8906f01676079$export$afc486a8e7fce3db","dynamicClusterSize","$8Eg1f","$2rUeJ","Object","keys","defineProperty","clusterMinSize","$a5FxJ","LevelDependentSizeVariable","levels","$fsJts","createMD5Hash","toLowerCase","r5","$89d8906f01676079$var$v","$758a9893576e13f9$var$l","$758a9893576e13f9$export$6b5725d3f68b00f1","key","this","axis","valueExpressionTitle","maxDataValue","$1OaQa","isSizeVariable","minDataValue","useSymbolValue","valueUnit","legendOptions","$7eJjO","_","$iho5X","property","prototype","$kced1","writer","$fcwIv","subclass"],"version":3,"file":"mapViewDeps.49108226.js.map"}