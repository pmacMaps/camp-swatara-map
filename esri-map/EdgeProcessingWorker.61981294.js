function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("lJf0F",(function(r,n){e(r.exports,"wrappedWork",(function(){return c})),e(r.exports,"work",(function(){return l}));var i=t("eN5rB"),o=t("02Vm5"),s=t("knmSn"),u=t("9CgjL"),f=t("g2hSq"),a=t("lJhVI");async function c(e){const t=(i=e,{data:u.EdgeInputBufferLayout.createView(i.dataBuffer),indices:"Uint32Array"===i.indicesType?new Uint32Array(i.indicesBuffer):"Uint16Array"===i.indicesType?new Uint16Array(i.indicesBuffer):void 0,indicesLength:i.indicesLength,writerSettings:i.writerSettings,skipDeduplicate:i.skipDeduplicate}),r=l(t),n=[t.data.buffer];var i;return{result:d(r,n),transferList:n}}function l(e){const t=function(e,t,r,n){if(t)return{faces:r,facesLength:n,neighbors:(0,o.computeNeighbors)(r,n,e.count),vertices:e};const s=(0,i.deduplicate)(e.buffer,e.stride/4,{originalIndices:r,originalIndicesLength:n}),f=(0,o.computeNeighbors)(s.indices,n,s.uniqueCount);return{faces:s.indices,facesLength:s.indices.length,neighbors:f,vertices:u.EdgeInputBufferLayout.createView(s.buffer)}}(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return g.updateSettings(e.writerSettings),p.updateSettings(e.writerSettings),(0,a.extractEdges)(t,g,p)}function d(e,t){return t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:(0,s.packInterleavedBuffer)(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:(0,s.packInterleavedBuffer)(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}}const g=new(0,f.RegularEdgeBufferWriter),p=new(0,f.SilhouetteEdgeBufferWriter)})),t.register("eN5rB",(function(r,n){e(r.exports,"deduplicate",(function(){return o}));var i=t("8TN87");function o(e,t,r){var n;const o=e.byteLength/(4*t),c=new Uint32Array(e,0,o*t);let l=new Uint32Array(o);const d=null!=(n=null==r?void 0:r.minReduction)?n:0,g=(null==r?void 0:r.originalIndices)||null,p=g?g.length:0,h=(null==r?void 0:r.componentOffsets)||null;let V=0;if(h)for(let e=0;e<h.length-1;e++){const t=h[e+1]-h[e];t>V&&(V=t)}else V=o;const A=Math.floor(1.1*V)+1;(null==a||a.length<2*A)&&(a=new Uint32Array((0,i.nextHighestPowerOfTwo)(2*A)));for(let e=0;e<2*A;e++)a[e]=0;let w=0;const E=!!h&&!!g,I=E?p:o,T=E?new Uint32Array(p):null,N=1.96;let m=0!==d?Math.ceil(4*N*N/(d*d)*d*(1-d)):I,O=1,B=h?h[1]:I;for(let e=0;e<I;e++){if(e===m){const t=1-w/e;if(t+N*Math.sqrt(t*(1-t)/e)<d)return null;m*=2}if(e===B){for(let e=0;e<2*A;e++)a[e]=0;if(g)for(let e=h[O-1];e<h[O];e++)T[e]=l[g[e]];B=h[++O]}const r=E?g[e]:e,n=r*t,i=f(c,n,t);let o=i%A,u=w;for(;0!==a[2*o+1];){if(a[2*o]===i){const e=a[2*o+1]-1;if(s(c,n,e*t,t)){u=l[e];break}}o++,o>=A&&(o-=A)}u===w&&(a[2*o]=i,a[2*o+1]=r+1,w++),l[r]=u}if(0!==d&&1-w/o<d)return null;if(E){for(let e=h[O-1];e<T.length;e++)T[e]=l[g[e]];l=T}const S=new Uint32Array(t*w);w=0;for(let e=0;e<I;e++)l[e]===w&&(u(c,(E?g[e]:e)*t,S,w*t,t),w++);if(g&&!E){const e=new Uint32Array(p);for(let t=0;t<e.length;t++)e[t]=l[g[t]];l=e}return{buffer:S.buffer,indices:l,uniqueCount:w}}function s(e,t,r,n){for(let i=0;i<n;i++)if(e[t+i]!==e[r+i])return!1;return!0}function u(e,t,r,n,i){for(let o=0;o<i;o++)r[n+o]=e[t+o]}function f(e,t,r){let n=0;for(let i=0;i<r;i++)n=e[t+i]+n|0,n=n+(n<<11)+(n>>>2)|0;return n>>>0}let a=null})),t.register("02Vm5",(function(t,r){function n(e,t,r){const n=t/3,i=new Uint32Array(r+1),o=new Uint32Array(r+1),s=(e,t)=>{e<t?i[e+1]++:o[t+1]++};for(let t=0;t<n;t++){const r=e[3*t],n=e[3*t+1],i=e[3*t+2];s(r,n),s(n,i),s(i,r)}let u=0,f=0;for(let e=0;e<r;e++){const t=i[e+1],r=o[e+1];i[e+1]=u,o[e+1]=f,u+=t,f+=r}const a=new Uint32Array(6*n),c=i[r],l=(e,t,r)=>{if(e<t){const n=i[e+1]++;a[2*n]=t,a[2*n+1]=r}else{const n=o[t+1]++;a[2*c+2*n]=e,a[2*c+2*n+1]=r}};for(let t=0;t<n;t++){const r=e[3*t],n=e[3*t+1],i=e[3*t+2];l(r,n,t),l(n,i,t),l(i,r,t)}const d=(e,t)=>{const r=2*e,n=t-e;for(let e=1;e<n;e++){const t=a[r+2*e],n=a[r+2*e+1];let i=e-1;for(;i>=0&&a[r+2*i]>t;i--)a[r+2*i+2]=a[r+2*i],a[r+2*i+3]=a[r+2*i+1];a[r+2*i+2]=t,a[r+2*i+3]=n}};for(let e=0;e<r;e++)d(i[e],i[e+1]),d(c+o[e],c+o[e+1]);const g=new Int32Array(3*n),p=(t,r)=>t===e[3*r]?0:t===e[3*r+1]?1:t===e[3*r+2]?2:-1,h=(e,t)=>{const r=p(e,t);g[3*t+r]=-1},V=(e,t,r,n)=>{const i=p(e,t);g[3*t+i]=n;const o=p(r,n);g[3*n+o]=t};for(let e=0;e<r;e++){let t=i[e];const r=i[e+1];let n=o[e];const s=o[e+1];for(;t<r&&n<s;){const r=a[2*t],i=a[2*c+2*n];r===i?(V(e,a[2*t+1],i,a[2*c+2*n+1]),t++,n++):r<i?(h(e,a[2*t+1]),t++):(h(i,a[2*c+2*n+1]),n++)}for(;t<r;)h(e,a[2*t+1]),t++;for(;n<s;)h(a[2*c+2*n],a[2*c+2*n+1]),n++}return g}e(t.exports,"computeNeighbors",(function(){return n}))})),t.register("knmSn",(function(r,n){e(r.exports,"packInterleavedBuffer",(function(){return o}));var i=t("k4Lc2");t("4kzzT");function o(e,t){return t.push(e.buffer),{buffer:e.buffer,layout:s(e.layout)}}function s(e){const t=new Array;return e.fields.forEach(((e,r)=>{const n={...e,constructor:f(e.constructor)};t.push([r,n])})),{stride:e.stride,fields:t,fieldNames:e.fieldNames}}const u=[i.BufferViewFloat,i.BufferViewVec2f,i.BufferViewVec3f,i.BufferViewVec4f,i.BufferViewMat3f,i.BufferViewMat4f,i.BufferViewFloat64,i.BufferViewVec2f64,i.BufferViewVec3f64,i.BufferViewVec4f64,i.BufferViewMat3f64,i.BufferViewMat4f64,i.BufferViewUint8,i.BufferViewVec2u8,i.BufferViewVec3u8,i.BufferViewVec4u8,i.BufferViewUint16,i.BufferViewVec2u16,i.BufferViewVec3u16,i.BufferViewVec4u16,i.BufferViewUint32,i.BufferViewVec2u32,i.BufferViewVec3u32,i.BufferViewVec4u32,i.BufferViewInt8,i.BufferViewVec2i8,i.BufferViewVec3i8,i.BufferViewVec4i8,i.BufferViewInt16,i.BufferViewVec2i16,i.BufferViewVec3i16,i.BufferViewVec4i16,i.BufferViewInt32,i.BufferViewVec2i32,i.BufferViewVec3i32,i.BufferViewVec4i32];function f(e){return`${e.ElementType}_${e.ElementCount}`}const a=new Map;u.forEach((e=>a.set(f(e),e)))})),t.register("4kzzT",(function(r,n){e(r.exports,"newLayout",(function(){return f}));var i=t("k4Lc2"),o=t("2bApG");class s{get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(e,t){const r=this[e];return r&&r.elementCount===t.ElementCount&&r.elementType===t.ElementType?r:null}slice(e,t){return new s(this.layout,this.buffer.slice(e*this.stride,t*this.stride))}copyFrom(e,t,r,n){const i=this.stride;if(i%4==0){const o=new Uint32Array(e.buffer,t*i,n*i/4);new Uint32Array(this.buffer,r*i,n*i/4).set(o)}else{const o=new Uint8Array(e.buffer,t*i,n*i);new Uint8Array(this.buffer,r*i,n*i).set(o)}}constructor(e,t){this.layout=e,this.buffer="number"==typeof t?new ArrayBuffer(t*e.stride):t;for(const t of e.fieldNames){const r=e.fields.get(t);this[t]=new r.constructor(this.buffer,r.offset,this.stride)}}}class u{vec2f(e,t){return this._appendField(e,i.BufferViewVec2f,t),this}vec2f64(e,t){return this._appendField(e,i.BufferViewVec2f64,t),this}vec3f(e,t){return this._appendField(e,i.BufferViewVec3f,t),this}vec3f64(e,t){return this._appendField(e,i.BufferViewVec3f64,t),this}vec4f(e,t){return this._appendField(e,i.BufferViewVec4f,t),this}vec4f64(e,t){return this._appendField(e,i.BufferViewVec4f64,t),this}mat3f(e,t){return this._appendField(e,i.BufferViewMat3f,t),this}mat3f64(e,t){return this._appendField(e,i.BufferViewMat3f64,t),this}mat4f(e,t){return this._appendField(e,i.BufferViewMat4f,t),this}mat4f64(e,t){return this._appendField(e,i.BufferViewMat4f64,t),this}vec4u8(e,t){return this._appendField(e,i.BufferViewVec4u8,t),this}f32(e,t){return this._appendField(e,i.BufferViewFloat,t),this}f64(e,t){return this._appendField(e,i.BufferViewFloat64,t),this}u8(e,t){return this._appendField(e,i.BufferViewUint8,t),this}u16(e,t){return this._appendField(e,i.BufferViewUint16,t),this}i8(e,t){return this._appendField(e,i.BufferViewInt8,t),this}vec2i8(e,t){return this._appendField(e,i.BufferViewVec2i8,t),this}vec2i16(e,t){return this._appendField(e,i.BufferViewVec2i16,t),this}vec2u8(e,t){return this._appendField(e,i.BufferViewVec2u8,t),this}vec4u16(e,t){return this._appendField(e,i.BufferViewVec4u16,t),this}u32(e,t){return this._appendField(e,i.BufferViewUint32,t),this}_appendField(e,t,r){const n=t.ElementCount*(0,o.elementTypeSize)(t.ElementType),i=this.stride;this.fields.set(e,{size:n,constructor:t,offset:i,optional:r}),this.stride+=n,this.fieldNames.push(e)}alignTo(e){return this.stride=Math.floor((this.stride+e-1)/e)*e,this}hasField(e){return this.fieldNames.indexOf(e)>=0}createBuffer(e){return new s(this,e)}createView(e){return new s(this,e)}clone(){const e=new u;return e.stride=this.stride,e.fields=new Map,this.fields.forEach(((t,r)=>e.fields.set(r,t))),e.fieldNames=this.fieldNames.slice(),e.BufferType=this.BufferType,e}constructor(){this.stride=0,this.fields=new Map,this.fieldNames=[]}}function f(){return new u}})),t.register("2bApG",(function(r,n){function i(e){switch(e){case"u8":case"i8":return 1;case"u16":case"i16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8;default:return}}function o(e){switch(e){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0;default:return}}function s(e){switch(e){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1;default:return}}function u(e){switch(e){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303;default:return}}e(r.exports,"elementTypeSize",(function(){return i})),e(r.exports,"isSigned",(function(){return o})),e(r.exports,"isInteger",(function(){return s})),e(r.exports,"maximumValue",(function(){return u})),t("5HTPH")})),t.register("9CgjL",(function(r,n){e(r.exports,"EdgeInputBufferLayout",(function(){return u})),e(r.exports,"RegularEdgeInstancesLayout",(function(){return c})),e(r.exports,"SilhouetteEdgeInstancesLayout",(function(){return l}));var i=t("hgSTu"),o=t("4kzzT"),s=t("44Q9I");const u=(0,o.newLayout)().vec3f(s.VertexAttribute.POSITION).u16(s.VertexAttribute.COMPONENTINDEX).u16(s.VertexAttribute.U16PADDING),f=(0,o.newLayout)().vec2u8(s.VertexAttribute.SIDENESS),a=((0,i.glLayout)(f),(0,o.newLayout)().vec3f(s.VertexAttribute.POSITION0).vec3f(s.VertexAttribute.POSITION1).u16(s.VertexAttribute.COMPONENTINDEX).u8(s.VertexAttribute.VARIANTOFFSET,{glNormalized:!0}).u8(s.VertexAttribute.VARIANTSTROKE).u8(s.VertexAttribute.VARIANTEXTENSION,{glNormalized:!0}).u8(s.VertexAttribute.U8PADDING,{glPadding:!0}).u16(s.VertexAttribute.U16PADDING,{glPadding:!0})),c=a.clone().vec3f(s.VertexAttribute.NORMAL),l=a.clone().vec3f(s.VertexAttribute.NORMALA).vec3f(s.VertexAttribute.NORMALB);new Map([[s.VertexAttribute.POSITION0,0],[s.VertexAttribute.POSITION1,1],[s.VertexAttribute.COMPONENTINDEX,2],[s.VertexAttribute.VARIANTOFFSET,3],[s.VertexAttribute.VARIANTSTROKE,4],[s.VertexAttribute.VARIANTEXTENSION,5],[s.VertexAttribute.NORMAL,6],[s.VertexAttribute.NORMALA,6],[s.VertexAttribute.NORMALB,7],[s.VertexAttribute.SIDENESS,8]])})),t.register("hgSTu",(function(r,n){e(r.exports,"glLayout",(function(){return s}));var i=t("l3QXd"),o=t("hSAA2");function s(e,t=0){const r=e.stride;return e.fieldNames.filter((t=>{const r=e.fields.get(t).optional;return!(r&&r.glPadding)})).map((n=>{const i=e.fields.get(n),s=i.constructor.ElementCount,f=function(e){const t=u[e];if(t)return t;throw new Error("BufferType not supported in WebGL")}(i.constructor.ElementType),a=i.offset,c=!(!i.optional||!i.optional.glNormalized);return new(0,o.VertexElementDescriptor)(n,s,f,a,r,c,t)}))}const u={u8:i.DataType.UNSIGNED_BYTE,u16:i.DataType.UNSIGNED_SHORT,u32:i.DataType.UNSIGNED_INT,i8:i.DataType.BYTE,i16:i.DataType.SHORT,i32:i.DataType.INT,f32:i.DataType.FLOAT}})),t.register("44Q9I",(function(t,r){var n,i;e(t.exports,"VertexAttribute",(function(){return n})),(i=n||(n={})).POSITION="position",i.NORMAL="normal",i.UV0="uv0",i.AUXPOS1="auxpos1",i.AUXPOS2="auxpos2",i.MAPPOS="mapPos",i.COLOR="color",i.SYMBOLCOLOR="symbolColor",i.SIZE="size",i.TANGENT="tangent",i.OFFSET="offset",i.SUBDIVISIONFACTOR="subdivisionFactor",i.COLORFEATUREATTRIBUTE="colorFeatureAttribute",i.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",i.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",i.DISTANCETOSTART="distanceToStart",i.UVMAPSPACE="uvMapSpace",i.BOUNDINGRECT="boundingRect",i.UVREGION="uvRegion",i.NORMALCOMPRESSED="normalCompressed",i.PROFILERIGHT="profileRight",i.PROFILEUP="profileUp",i.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",i.FEATUREVALUE="featureValue",i.MODELORIGINHI="modelOriginHi",i.MODELORIGINLO="modelOriginLo",i.MODEL="model",i.MODELNORMAL="modelNormal",i.INSTANCECOLOR="instanceColor",i.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",i.LOCALTRANSFORM="localTransform",i.GLOBALTRANSFORM="globalTransform",i.BOUNDINGSPHERE="boundingSphere",i.MODELORIGIN="modelOrigin",i.MODELSCALEFACTORS="modelScaleFactors",i.FEATUREATTRIBUTE="featureAttribute",i.STATE="state",i.LODLEVEL="lodLevel",i.POSITION0="position0",i.POSITION1="position1",i.NORMALA="normalA",i.NORMALB="normalB",i.COMPONENTINDEX="componentIndex",i.VARIANTOFFSET="variantOffset",i.VARIANTSTROKE="variantStroke",i.VARIANTEXTENSION="variantExtension",i.U8PADDING="u8padding",i.U16PADDING="u16padding",i.SIDENESS="sideness",i.START="start",i.END="end",i.UP="up",i.EXTRUDE="extrude"})),t.register("g2hSq",(function(r,n){e(r.exports,"RegularEdgeBufferWriter",(function(){return V})),e(r.exports,"SilhouetteEdgeBufferWriter",(function(){return A}));var i=t("lQo64"),o=t("8lcnQ"),s=t("iHxaG"),u=t("hgSTu"),f=t("9CgjL");class a{updateSettings(e){this.settings=e,this.edgeHashFunction=e.reducedPrecision?p:g}write(e,t,r){const n=this.edgeHashFunction(r);E.seed=n;const i=E.getIntRange(0,255),o=E.getIntRange(0,this.settings.variants-1),s=E.getFloat(),u=255*(.5*function(e,t){const r=e<0?-1:1;return Math.abs(e)**t*r}(-(1-Math.min(s/.7,1))+Math.max(0,s-.7)/(1-.7),1.2)+.5);e.position0.setVec(t,r.position0),e.position1.setVec(t,r.position1),e.componentIndex.set(t,r.componentIndex),e.variantOffset.set(t,i),e.variantStroke.set(t,o),e.variantExtension.set(t,u)}trim(e,t){return e.slice(0,t)}}const c=new Float32Array(6),l=new Uint32Array(c.buffer),d=new Uint32Array(1);function g(e){const t=c;t[0]=e.position0[0],t[1]=e.position0[1],t[2]=e.position0[2],t[3]=e.position1[0],t[4]=e.position1[1],t[5]=e.position1[2],d[0]=5381;for(let e=0;e<l.length;e++)d[0]=31*d[0]+l[e];return d[0]}function p(e){const t=c;t[0]=h(e.position0[0]),t[1]=h(e.position0[1]),t[2]=h(e.position0[2]),t[3]=h(e.position1[0]),t[4]=h(e.position1[1]),t[5]=h(e.position1[2]),d[0]=5381;for(let e=0;e<l.length;e++)d[0]=31*d[0]+l[e];return d[0]}function h(e){return Math.round(1e4*e)/1e4}class V{updateSettings(e){this.commonWriter.updateSettings(e)}allocate(e){return f.RegularEdgeInstancesLayout.createBuffer(e)}write(e,t,r){this.commonWriter.write(e,t,r),(0,o.b)(w,r.faceNormal0,r.faceNormal1),(0,o.n)(w,w),e.normal.setVec(t,w)}trim(e,t){return this.commonWriter.trim(e,t)}constructor(){this.commonWriter=new a}}V.Layout=f.RegularEdgeInstancesLayout,V.glLayout=(0,u.glLayout)(f.RegularEdgeInstancesLayout,1);class A{updateSettings(e){this.commonWriter.updateSettings(e)}allocate(e){return f.SilhouetteEdgeInstancesLayout.createBuffer(e)}write(e,t,r){this.commonWriter.write(e,t,r),e.normalA.setVec(t,r.faceNormal0),e.normalB.setVec(t,r.faceNormal1)}trim(e,t){return this.commonWriter.trim(e,t)}constructor(){this.commonWriter=new a}}A.Layout=f.SilhouetteEdgeInstancesLayout,A.glLayout=(0,u.glLayout)(f.SilhouetteEdgeInstancesLayout,1);const w=(0,s.c)(),E=new(0,i.default)})),t.register("lJhVI",(function(r,n){e(r.exports,"extractEdges",(function(){return d}));var i=t("aX9sh"),o=t("8TN87"),s=t("2DP3b"),u=t("8lcnQ"),f=t("iHxaG");const a=-1;var c,l;function d(e,t,r,n=V){const f=e.vertices.position,c=e.vertices.componentIndex,l=(0,o.deg2rad)(n.anglePlanar),d=(0,o.deg2rad)(n.angleSignificantEdge),A=Math.cos(d),w=Math.cos(l),E=p.edge,I=E.position0,T=E.position1,N=E.faceNormal0,m=E.faceNormal1,O=function(e){const t=e.faces.length/3,r=e.vertices.position,n=e.faces,i=h.v0,o=h.v1,s=h.v2,f=new Float32Array(3*t);for(let e=0;e<t;e++){const t=n[3*e+0],a=n[3*e+1],c=n[3*e+2];r.getVec(t,i),r.getVec(a,o),r.getVec(c,s),(0,u.f)(o,o,i),(0,u.f)(s,s,i),(0,u.c)(i,o,s),(0,u.n)(i,i),f[3*e+0]=i[0],f[3*e+1]=i[1],f[3*e+2]=i[2]}return f}(e),B=function(e){const t=e.faces.length/3,r=e.faces,n=e.neighbors;let i=0;for(let e=0;e<t;e++){const t=n[3*e+0],o=n[3*e+1],s=n[3*e+2],u=r[3*e+0],f=r[3*e+1],c=r[3*e+2];i+=t===a||u<f?1:0,i+=o===a||f<c?1:0,i+=s===a||c<u?1:0}const o=new Int32Array(4*i);let s=0;for(let e=0;e<t;e++){const t=n[3*e+0],i=n[3*e+1],u=n[3*e+2],f=r[3*e+0],c=r[3*e+1],l=r[3*e+2];(t===a||f<c)&&(o[s++]=f,o[s++]=c,o[s++]=e,o[s++]=t),(i===a||c<l)&&(o[s++]=c,o[s++]=l,o[s++]=e,o[s++]=i),(u===a||l<f)&&(o[s++]=l,o[s++]=f,o[s++]=e,o[s++]=u)}return o}(e),S=B.length/4,y=t.allocate(S);let L=0;const b=S,R=r.allocate(b);let v=0,x=0,F=0;const U=(0,i.range)(0,S),D=new Float32Array(S);(0,s.forEach)(D,((e,t,r)=>{f.getVec(B[4*t+0],I),f.getVec(B[4*t+1],T),r[t]=(0,u.i)(I,T)})),U.sort(((e,t)=>D[t]-D[e]));const M=new Array,P=new Array;for(let e=0;e<S;e++){const n=U[e],i=D[n],o=B[4*n+0],s=B[4*n+1],d=B[4*n+2],p=B[4*n+3],h=p===a;if(f.getVec(o,I),f.getVec(s,T),h)(0,u.s)(N,O[3*d+0],O[3*d+1],O[3*d+2]),(0,u.g)(m,N),E.componentIndex=c.get(o),E.cosAngle=(0,u.d)(N,m);else{if((0,u.s)(N,O[3*d+0],O[3*d+1],O[3*d+2]),(0,u.s)(m,O[3*p+0],O[3*p+1],O[3*p+2]),E.componentIndex=c.get(o),E.cosAngle=(0,u.d)(N,m),_=w,E.cosAngle>_)continue;E.cosAngle<-.9999&&(0,u.g)(m,N)}x+=i,F++,h||(C=A,E.cosAngle<C)?(t.write(y,L++,E),M.push(i)):g(E,l)&&(r.write(R,v++,E),P.push(i))}var C,_;const G=new Float32Array(M.reverse()),k=new Float32Array(P.reverse());return{regular:{instancesData:t.trim(y,L),lodInfo:{lengths:G}},silhouette:{instancesData:r.trim(R,v),lodInfo:{lengths:k}},averageEdgeLength:x/F}}function g(e,t){const r=(0,o.acosClamped)(e.cosAngle),n=p.fwd,i=p.ortho;return(0,u.r)(n,e.position1,e.position0),r*((0,u.d)((0,u.c)(i,e.faceNormal0,e.faceNormal1),n)>0?-1:1)>t}(l=c||(c={}))[l.SOLID=0]="SOLID",l[l.SKETCH=1]="SKETCH";const p={edge:{position0:(0,f.c)(),position1:(0,f.c)(),faceNormal0:(0,f.c)(),faceNormal1:(0,f.c)(),componentIndex:0,cosAngle:0},ortho:(0,f.c)(),fwd:(0,f.c)()},h={v0:(0,f.c)(),v1:(0,f.c)(),v2:(0,f.c)()},V={anglePlanar:4,angleSignificantEdge:35}}));
//# sourceMappingURL=EdgeProcessingWorker.61981294.js.map
