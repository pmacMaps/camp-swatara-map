!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("4g04v",(function(n,r){e(n.exports,"executeForTopExtents",(function(){return s})),t("2ILM8");var o=t("dsJ7q"),u=t("6zkYf"),i=t("7D30I"),l=t("gINRd");async function s(e,t,n){const r=(0,o.parseUrl)(e),s=await(0,u.executeQueryForTopExtents)(r,i.default.from(t),{...n});return{count:s.data.count,extent:l.default.fromJSON(s.data.extent)}}})),t.register("6zkYf",(function(n,r){e(n.exports,"executeTopFeaturesQuery",(function(){return c})),e(n.exports,"executeQueryForTopIds",(function(){return f})),e(n.exports,"executeQueryForTopExtents",(function(){return p})),e(n.exports,"executeQueryForTopCount",(function(){return F}));var o=t("9pNSx"),u=t("kYueh"),i=t("79LpT"),l=t("5On35"),s=t("bPDFo"),d=t("4JATB");const a="Layer does not support extent calculation.";function y(e,t){var n,r;const o=e.geometry,u=e.toJSON(),l=u;if(null!=o&&(l.geometry=JSON.stringify(o),l.geometryType=(0,i.getJsonType)(o),l.inSR=o.spatialReference.wkid||JSON.stringify(o.spatialReference)),(null===(n=u.topFilter)||void 0===n?void 0:n.groupByFields)&&(l.topFilter.groupByFields=u.topFilter.groupByFields.join(",")),(null===(r=u.topFilter)||void 0===r?void 0:r.orderByFields)&&(l.topFilter.orderByFields=u.topFilter.orderByFields.join(",")),u.topFilter&&(l.topFilter=JSON.stringify(l.topFilter)),u.objectIds&&(l.objectIds=u.objectIds.join(",")),u.orderByFields&&(l.orderByFields=u.orderByFields.join(",")),u.outFields&&!((null==t?void 0:t.returnCountOnly)||(null==t?void 0:t.returnExtentOnly)||(null==t?void 0:t.returnIdsOnly))?u.outFields.includes("*")?l.outFields="*":l.outFields=u.outFields.join(","):delete l.outFields,u.outSR?l.outSR=u.outSR.wkid||JSON.stringify(u.outSR):o&&u.returnGeometry&&(l.outSR=l.inSR),u.returnGeometry&&delete u.returnGeometry,u.timeExtent){const e=u.timeExtent,{start:t,end:n}=e;null==t&&null==n||(l.time=t===n?t:`${null!=t?t:"null"},${null!=n?n:"null"}`),delete u.timeExtent}return l}async function c(e,t,n,r){const o=await x(e,t,"json",r);return(0,d.applyFeatureSetZUnitScaling)(t,n,o.data),o}async function f(e,t,n){return null!=t.timeExtent&&t.timeExtent.isEmpty?{data:{objectIds:[]}}:x(e,t,"json",n,{returnIdsOnly:!0})}async function p(e,t,n){return null!=t.timeExtent&&t.timeExtent.isEmpty?{data:{count:0,extent:null}}:x(e,t,"json",n,{returnExtentOnly:!0,returnCountOnly:!0}).then((e=>{const t=e.data;if(t.hasOwnProperty("extent"))return e;if(t.features)throw new Error(a);if(t.hasOwnProperty("count"))throw new Error(a);return e}))}function F(e,t,n){return null!=t.timeExtent&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):x(e,t,"json",n,{returnIdsOnly:!0,returnCountOnly:!0})}function x(e,t,n,r={},i={}){const d="string"==typeof e?(0,u.urlToObject)(e):e,a=t.geometry?[t.geometry]:[];return r.responseType="pbf"===n?"array-buffer":"json",(0,l.normalizeCentralMeridian)(a,null,r).then((e=>{const l=e&&e[0];null!=l&&((t=t.clone()).geometry=l);const a=(0,s.mapParameters)({...d.query,f:n,...i,...y(t,i)});return(0,o.default)((0,u.join)(d.path,"queryTopFeatures"),{...r,query:{...a,...r.query}})}))}}))}();
//# sourceMappingURL=executeForTopExtents.6769cbfa.js.map
