!function(){function e(e){return e&&e.__esModule?e.default:e}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("eyFte",(function(r,o){var n,l,i,a,s;n=r.exports,Object.defineProperty(n,"__esModule",{value:!0,configurable:!0}),l=r.exports,i="default",a=function(){return q},Object.defineProperty(l,i,{get:a,set:s,enumerable:!0,configurable:!0});var u=t("8TSCy"),p=t("2TvXO"),y=t("7eJjO"),c=t("cu9iz"),d=t("9pNSx");t("cM5QQ");var f=t("7qybv"),v=t("8NioF"),h=t("10vEZ"),g=t("kYueh"),S=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var b=t("eB8sj"),m=t("fcwIv"),_=t("gINRd"),k=t("eY5Yp"),C=t("4LDxK"),w=t("gIXJ2"),x=t("5N5S1"),G=t("9bAYR"),R=t("13Qxf"),P=t("3GzOb"),j=t("gRgX5"),L=t("j9ZJv"),O=t("e6bLq"),F=t("gb4f1"),M=t("ioNzP"),T=t("SVQ32"),E=["atom","xml"],N={base:L.default,key:"type",typeMap:{"simple-line":O.default},errorContext:"symbol"},A={base:L.default,key:"type",typeMap:{"picture-marker":F.default,"simple-marker":M.default},errorContext:"symbol"},I={base:L.default,key:"type",typeMap:{"simple-fill":T.default},errorContext:"symbol"},J=function(t){"use strict";u.inherits(o,t);var r=u.createSuper(o);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var l;return u.classCallCheck(this,o),(l=r.call.apply(r,[this].concat(u.toConsumableArray(t)))).description=null,l.fullExtent=null,l.legendEnabled=!0,l.lineSymbol=null,l.pointSymbol=null,l.polygonSymbol=null,l.operationalLayerType="GeoRSS",l.url=null,l.type="geo-rss",u.possibleConstructorReturn(l)}return u.createClass(o,[{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?u.objectSpread({url:e},t):e}},{key:"readFeatureCollections",value:function(e,t){return t.featureCollection.layers.forEach((function(e){var t,r=e.layerDefinition.drawingInfo.renderer.symbol;r&&"esriSFS"===r.type&&null!=(t=r.outline)&&t.style.includes("esriSFS")&&(r.outline.style="esriSLSSolid")})),t.featureCollection.layers}},{key:"hasPoints",get:function(){return this._hasGeometry("esriGeometryPoint")}},{key:"hasPolylines",get:function(){return this._hasGeometry("esriGeometryPolyline")}},{key:"hasPolygons",get:function(){return this._hasGeometry("esriGeometryPolygon")}},{key:"title",get:function(){var e=this._get("title");return e&&"defaults"!==this.originOf("title")?e:this.url?(0,g.getFilename)(this.url,E)||"GeoRSS":e||""},set:function(e){this._set("title",e)}},{key:"load",value:function(e){var t=this,r=(0,f.isSome)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service","Feature Service","Feature Collection","Scene Service"]},e).catch(h.throwIfAbortError).then((function(){return t._fetchService(r)})).then((function(e){t.read(e,{origin:"service"})}))),Promise.resolve(this)}},{key:"hasDataChanged",value:function(){var t=this;return u.asyncToGenerator(e(p).mark((function r(){var o;return e(p).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._fetchService();case 2:return o=e.sent,e.abrupt("return",(t.read(o,{origin:"service",ignoreDefaults:!0}),!0));case 4:case"end":return e.stop()}}),r)})))()}},{key:"_fetchService",value:function(t){var r=this;return u.asyncToGenerator(e(p).mark((function o(){var n,l,i,a;return e(p).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=r.spatialReference,e.next=4,(0,d.default)(c.default.geoRSSServiceUrl,{query:{url:r.url,refresh:!!r.loaded||void 0,outSR:(0,k.isWGS84)(l)?void 0:null!=(n=l.wkid)?n:JSON.stringify(l)},signal:t});case 4:return i=e.sent,a=i.data,e.abrupt("return",a);case 7:case"end":return e.stop()}}),o)})))()}},{key:"_hasGeometry",value:function(e){var t,r;return null!=(t=null==(r=this.featureCollections)?void 0:r.some((function(t){var r,o;return(null==(r=t.featureSet)?void 0:r.geometryType)===e&&(null==(o=t.featureSet.features)?void 0:o.length)>0})))&&t}}]),o}((0,w.BlendLayer)((0,R.RefreshableLayer)((0,x.OperationalLayer)((0,G.PortalLayer)((0,P.ScaleRangeLayer)((0,v.MultiOriginJSONMixin)(C.default)))))));(0,y._)([(0,S.property)()],J.prototype,"description",void 0),(0,y._)([(0,S.property)()],J.prototype,"featureCollections",void 0),(0,y._)([(0,b.reader)("service","featureCollections",["featureCollection.layers"])],J.prototype,"readFeatureCollections",null),(0,y._)([(0,S.property)({type:_.default,json:{name:"lookAtExtent"}})],J.prototype,"fullExtent",void 0),(0,y._)([(0,S.property)(j.id)],J.prototype,"id",void 0),(0,y._)([(0,S.property)(j.legendEnabled)],J.prototype,"legendEnabled",void 0),(0,y._)([(0,S.property)({types:N,json:{write:!0}})],J.prototype,"lineSymbol",void 0),(0,y._)([(0,S.property)({type:["show","hide"]})],J.prototype,"listMode",void 0),(0,y._)([(0,S.property)({types:A,json:{write:!0}})],J.prototype,"pointSymbol",void 0),(0,y._)([(0,S.property)({types:I,json:{write:!0}})],J.prototype,"polygonSymbol",void 0),(0,y._)([(0,S.property)({type:["GeoRSS"]})],J.prototype,"operationalLayerType",void 0),(0,y._)([(0,S.property)(j.url)],J.prototype,"url",void 0),(0,y._)([(0,S.property)({json:{origins:{service:{read:{source:"name",reader:function(e){return e||void 0}}}}}})],J.prototype,"title",null),(0,y._)([(0,S.property)({readOnly:!0,json:{read:!1},value:"geo-rss"})],J.prototype,"type",void 0);var q=J=(0,y._)([(0,m.subclass)("esri.layers.GeoRSSLayer")],J)}))}();
//# sourceMappingURL=GeoRSSLayer.8ff9b9a7.js.map
