!function(){function e(e){return e&&e.__esModule?e.default:e}function r(e,r,t,n){Object.defineProperty(e,r,{get:t,set:n,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("jwlkH",(function(n,a){r(n.exports,"fetchResources",(function(){return p})),r(n.exports,"addOrUpdateResource",(function(){return d})),r(n.exports,"contentToBlob",(function(){return w})),r(n.exports,"removeResource",(function(){return m})),r(n.exports,"removeAllResources",(function(){return v})),r(n.exports,"splitPrefixFileNameAndExtension",(function(){return b})),r(n.exports,"getSiblingOfSameType",(function(){return k})),r(n.exports,"getSiblingOfSameTypeI",(function(){return P}));var o=t("8TSCy"),s=t("2TvXO"),u=t("9pNSx"),i=t("kyj08"),c=t("7qybv"),l=t("kYueh");function p(e){return f.apply(this,arguments)}function f(){return f=o.asyncToGenerator(e(s).mark((function r(t){var n,a,o,u,i,p,f,d,h,m,y,v,x=arguments;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x.length>1&&void 0!==x[1]?x[1]:{},a=x.length>2?x[2]:void 0,e.next=3,t.load(a);case 3:return o=(0,l.join)(t.itemUrl,"resources"),u=n.start,i=void 0===u?1:u,p=n.num,f=void 0===p?10:p,d=n.sortOrder,h=void 0===d?"asc":d,m=n.sortField,y={query:{start:i,num:f,sortOrder:h,sortField:void 0===m?"created":m,token:t.apiKey},signal:(0,c.get)(a,"signal")},e.next=15,t.portal._request(o,y);case 15:return v=e.sent,e.abrupt("return",{total:v.total,nextStart:v.nextStart,resources:v.resources.map((function(e){var r=e.created,n=e.size,a=e.resource;return{created:new Date(r),size:n,resource:t.resourceFromPath(a)}}))});case 17:case"end":return e.stop()}}),r)}))),f.apply(this,arguments)}function d(e,r,t,n){return h.apply(this,arguments)}function h(){return(h=o.asyncToGenerator(e(s).mark((function r(t,n,a,u){var p,f,d,h,m,y,v;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hasPath()){e.next=2;break}throw new(0,i.default)("portal-item-resource-".concat(n,":invalid-path"),"Resource does not have a valid path");case 2:return p=t.portalItem,e.next=5,p.load(u);case 5:return f=(0,l.join)(p.userItemUrl,"add"===n?"addResources":"updateResources"),d=o.slicedToArray(g(t.path),2),h=d[0],m=d[1],e.next=11,w(a);case 11:return y=e.sent,v=new FormData,h&&"."!==h&&v.append("resourcesPrefix",h),v.append("fileName",m),v.append("file",y,m),v.append("f","json"),(0,c.isSome)(u)&&u.access&&v.append("access",u.access),e.next=20,p.portal._request(f,{method:"post",body:v,signal:(0,c.get)(u,"signal")});case 20:return e.abrupt("return",(e.sent,t));case 21:case"end":return e.stop()}}),r)})))).apply(this,arguments)}function m(e,r,t){return y.apply(this,arguments)}function y(){return(y=o.asyncToGenerator(e(s).mark((function r(t,n,a){var o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.hasPath()){e.next=2;break}throw new(0,i.default)("portal-item-resources-remove:invalid-path","Resource does not have a valid path");case 2:return e.next=4,t.load(a);case 4:return o=(0,l.join)(t.userItemUrl,"removeResources"),e.next=7,t.portal._request(o,{method:"post",query:{resource:n.path},signal:(0,c.get)(a,"signal")});case 7:n.portalItem=null;case 8:case"end":return e.stop()}}),r)})))).apply(this,arguments)}function v(e,r){return x.apply(this,arguments)}function x(){return(x=o.asyncToGenerator(e(s).mark((function r(t,n){var a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load(n);case 2:return a=(0,l.join)(t.userItemUrl,"removeResources"),e.abrupt("return",t.portal._request(a,{method:"post",query:{deleteAll:!0},signal:(0,c.get)(n,"signal")}));case 4:case"end":return e.stop()}}),r)})))).apply(this,arguments)}function g(e){var r=e.lastIndexOf("/");return-1===r?[".",e]:[e.slice(0,r),e.slice(r+1)]}function b(e){var r,t,n=o.slicedToArray((r=e,t=(0,l.getPathExtension)(r),(0,c.isNone)(t)?[r,""]:[r.slice(0,r.length-t.length-1),".".concat(t)]),2),a=n[0],s=n[1],u=o.slicedToArray(g(a),2);return[u[0],u[1],s]}function w(e){return T.apply(this,arguments)}function T(){return(T=o.asyncToGenerator(e(s).mark((function r(t){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Blob)){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,(0,u.default)(t.url,{responseType:"blob"});case 4:return e.abrupt("return",e.sent.data);case 5:case"end":return e.stop()}}),r)})))).apply(this,arguments)}function k(e,r){if(!e.hasPath())return null;var t=o.slicedToArray(b(e.path),3),n=t[0],a=t[2];return e.portalItem.resourceFromPath((0,l.join)(n,r+a))}function P(e,r){if(!e.hasPath())return null;var t=o.slicedToArray(b(e.path),3),n=t[0],a=t[2];return e.portalItem.resourceFromPath((0,l.join)(n,r+a))}}))}();
//# sourceMappingURL=resourceUtils.ab22ee91.js.map
