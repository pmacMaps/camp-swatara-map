{"mappings":"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","sources":["node_modules/@arcgis/core/geometry/support/meshUtils/loadGLTFMesh.js","node_modules/@arcgis/core/geometry/support/buffer/utils.js","node_modules/@arcgis/core/geometry/support/buffer/types.js","node_modules/@arcgis/core/chunks/mat32.js","node_modules/@arcgis/core/chunks/mat42.js","node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js","node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import t from\"../../../request.js\";import{getOrCreateMapValue as r}from\"../../../core/MapUtils.js\";import{hasScaling as o,rad2deg as n}from\"../../../core/mathUtils.js\";import{b as s}from\"../../../chunks/mat3.js\";import{c as a}from\"../../../chunks/mat3f64.js\";import{f as l}from\"../../../chunks/vec3f64.js\";import{f as i}from\"../../../chunks/vec4f64.js\";import u from\"../MeshComponent.js\";import c from\"../MeshMaterialMetallicRoughness.js\";import f from\"../MeshTexture.js\";import m from\"../MeshTextureTransform.js\";import{MeshVertexAttributes as p}from\"../MeshVertexAttributes.js\";import{BufferViewVec4f as d,BufferViewVec4u8 as g,BufferViewVec4u16 as x,BufferViewVec3u8 as T,BufferViewVec3f as h,BufferViewVec3u16 as v,BufferViewVec3f64 as w,BufferViewVec2f as j}from\"../buffer/BufferView.js\";import{c as b,b as y,d as M,e as C}from\"../../../chunks/vec32.js\";import{a as A,n as R,b as E}from\"../../../chunks/vec42.js\";import{createBuffer as k}from\"../buffer/utils.js\";import{georeferenceByTransform as B}from\"./georeference.js\";import{DefaultLoadingContext as F}from\"../../../views/3d/glTF/DefaultLoadingContext.js\";import{loadGLTF as $}from\"../../../views/3d/glTF/loader.js\";import{convertPrimitiveToTriangles as S}from\"../../../views/3d/glTF/internal/indexUtils.js\";import{isEncodedMeshTexture as O}from\"../../../views/3d/glTF/internal/resourceUtils.js\";import{COLOR_GAMMA as U}from\"../../../views/3d/webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js\";import{TextureWrapMode as D}from\"../../../views/webgl/enums.js\";import{f as L,a as _}from\"../../../chunks/vec33.js\";import{f as I,a as P}from\"../../../chunks/vec43.js\";import{a as V,f as q}from\"../../../chunks/vec22.js\";async function N(e,t,r){const o={...r,useTransform:r?.useTransform??!0},n=new F(z(o)),s=(await $(n,t,o,!0)).model,a=s.lods.shift(),l=new Map,i=new Map;s.textures.forEach(((e,t)=>l.set(t,H(e)))),s.materials.forEach(((e,t)=>i.set(t,J(e,l))));const u=Q(a);for(const p of u.parts)W(u,p,i);const{position:c,normal:f,tangent:m,color:d,texCoord0:g}=u.vertexAttributes,x={position:c.typedBuffer,normal:null!=f?f.typedBuffer:null,tangent:null!=m?m.typedBuffer:null,uv:null!=g?g.typedBuffer:null,color:null!=d?d.typedBuffer:null},T=B(x,e,o);return{transform:T.transform,vertexSpace:T.vertexSpace,components:u.components,spatialReference:e.spatialReference,vertexAttributes:new p({position:T.vertexAttributes.position,normal:T.vertexAttributes.normal,tangent:T.vertexAttributes.tangent,color:x.color,uv:x.uv})}}function z(e){const r=e?.resolveFile;return r?{busy:!1,request:async(e,o,n)=>{const s=r(e),a=\"image\"===o?\"image\":\"binary\"===o?\"array-buffer\":\"json\";return(await t(s,{responseType:a,signal:null!=n?n.signal:null})).data}}:null}function G(e,t){if(null==e)return\"-\";const o=e.typedBuffer;return`${r(t,o.buffer,(()=>t.size))}/${o.byteOffset}/${o.byteLength}`}function K(e){return null!=e?e.toString():\"-\"}function Q(e){let t=0;const has={color:!1,tangent:!1,normal:!1,texCoord0:!1},o=new Map,n=new Map,s=[];for(const a of e.parts){const{attributes:{position:e,normal:l,color:i,tangent:u,texCoord0:c}}=a,f=`\\n      ${G(e,o)}/\\n      ${G(l,o)}/\\n      ${G(i,o)}/\\n      ${G(u,o)}/\\n      ${G(c,o)}/\\n      ${K(a.transform)}\\n    `;let m=!1;const p=r(n,f,(()=>(m=!0,{start:t,length:e.count})));m&&(t+=e.count),l&&(has.normal=!0),i&&(has.color=!0),u&&(has.tangent=!0),c&&(has.texCoord0=!0),s.push({gltf:a,writeVertices:m,region:p})}return{vertexAttributes:{position:k(w,t),normal:has.normal?k(h,t):null,tangent:has.tangent?k(d,t):null,color:has.color?k(g,t):null,texCoord0:has.texCoord0?k(j,t):null},parts:s,components:[]}}function H(e){return new f({data:(O(e.data),e.data),wrap:Z(e.parameters.wrap)})}function J(t,r){const o=new e(re(t.color,t.opacity)),s=t.emissiveFactor?new e(oe(t.emissiveFactor)):null,a=e=>e?new m({scale:e.scale?[e.scale[0],e.scale[1]]:[1,1],rotation:n(e.rotation??0),offset:e.offset?[e.offset[0],e.offset[1]]:[0,0]}):null;return new c({color:o,colorTexture:r.get(t.textureColor),normalTexture:r.get(t.textureNormal),emissiveColor:s,emissiveTexture:r.get(t.textureEmissive),occlusionTexture:r.get(t.textureOcclusion),alphaMode:Y(t.alphaMode),alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,metallic:t.metallicFactor,roughness:t.roughnessFactor,metallicRoughnessTexture:r.get(t.textureMetallicRoughness),colorTextureTransform:a(t.colorTextureTransform),normalTextureTransform:a(t.normalTextureTransform),occlusionTextureTransform:a(t.occlusionTextureTransform),emissiveTextureTransform:a(t.emissiveTextureTransform),metallicRoughnessTextureTransform:a(t.metallicRoughnessTextureTransform)})}function W(e,t,r){t.writeVertices&&X(e,t);const{indices:o,attributes:n,primitiveType:s,material:a}=t.gltf;let l=S(o||n.position.count,s);const i=t.region.start;if(i){const e=new Uint32Array(l);for(let t=0;t<l.length;t++)e[t]+=i;l=e}e.components.push(new u({faces:l,material:r.get(a),shading:n.normal?\"source\":\"flat\",trustSourceNormals:!0}))}function X(e,t){const{position:r,normal:n,tangent:l,color:i,texCoord0:u}=e.vertexAttributes,c=t.region.start,{attributes:f,transform:m}=t.gltf,p=f.position.count;if(b(r.slice(c,p),f.position,m),null!=f.normal&&null!=n){const e=s(a(),m),t=n.slice(c,p);y(t,f.normal,e),o(e)&&M(t,t)}else null!=n&&L(n,0,0,1,{dstIndex:c,count:p});if(null!=f.tangent&&null!=l){const e=s(a(),m),t=l.slice(c,p);A(t,f.tangent,e),o(e)&&R(t,t)}else null!=l&&I(l,0,0,1,1,{dstIndex:c,count:p});if(null!=f.texCoord0&&null!=u?V(u.slice(c,p),f.texCoord0):null!=u&&q(u,0,0,{dstIndex:c,count:p}),null!=f.color&&null!=i){const e=f.color,t=i.slice(c,p);if(4===e.elementCount)e instanceof d?E(t,e,255):e instanceof g?P(t,e):e instanceof x&&E(t,e,1/256);else{I(t,255,255,255,255);const r=T.fromTypedArray(t.typedBuffer,t.typedBufferStride);e instanceof h?C(r,e,255):e instanceof T?_(r,e):e instanceof v&&C(r,e,1/256)}}else null!=i&&I(i.slice(c,p),255,255,255,255)}function Y(e){switch(e){case\"OPAQUE\":return\"opaque\";case\"MASK\":return\"mask\";case\"BLEND\":return\"blend\"}}function Z(e){return{horizontal:ee(e.s),vertical:ee(e.t)}}function ee(e){switch(e){case D.CLAMP_TO_EDGE:return\"clamp\";case D.MIRRORED_REPEAT:return\"mirror\";case D.REPEAT:return\"repeat\"}}function te(e){return e**(1/U)*255}function re(e,t){return i(te(e[0]),te(e[1]),te(e[2]),t)}function oe(e){return l(te(e[0]),te(e[1]),te(e[2]))}export{N as loadGLTFMesh};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{elementTypeSize as e}from\"./types.js\";export{m as mat3}from\"../../../chunks/mat32.js\";export{m as mat4}from\"../../../chunks/mat42.js\";export{s as scalar}from\"../../../chunks/scalar.js\";export{v as vec2}from\"../../../chunks/vec22.js\";export{v as vec3}from\"../../../chunks/vec33.js\";export{v as vec4}from\"../../../chunks/vec43.js\";function r(s,r){return new s(new ArrayBuffer(r*s.ElementCount*e(s.ElementType)))}export{r as createBuffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction e(e){switch(e){case\"u8\":case\"i8\":return 1;case\"u16\":case\"i16\":return 2;case\"u32\":case\"i32\":case\"f32\":return 4;case\"f64\":return 8}}function c(e){switch(e){case\"u8\":case\"u16\":case\"u32\":return!1;case\"i8\":case\"i16\":case\"i32\":case\"f32\":case\"f64\":return!0}}function s(e){switch(e){case\"u8\":case\"u16\":case\"u32\":case\"i8\":case\"i16\":case\"i32\":return!0;case\"f32\":case\"f64\":return!1}}function r(e){switch(e){case\"u8\":return 255;case\"u16\":return 65535;case\"u32\":return 4294967295;case\"i8\":return 127;case\"i16\":return 32767;case\"i32\":return 2147483647;case\"f32\":return 3402823e32;case\"f64\":return 179769e303}}export{e as elementTypeSize,s as isInteger,c as isSigned,r as maximumValue};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const o=e.typedBuffer,d=e.typedBufferStride,f=t.typedBuffer,n=t.typedBufferStride,c=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*d,l=(r&&r.srcIndex?r.srcIndex:0)*n;for(let p=0;p<c;++p){for(let e=0;e<9;++e)o[u+e]=f[l+e];u+=d,l+=n}}const t=Object.freeze(Object.defineProperty({__proto__:null,copy:e},Symbol.toStringTag,{value:\"Module\"}));export{e as c,t as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const o=e.typedBuffer,d=e.typedBufferStride,f=t.typedBuffer,n=t.typedBufferStride,c=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*d,l=(r&&r.srcIndex?r.srcIndex:0)*n;for(let p=0;p<c;++p){for(let e=0;e<16;++e)o[u+e]=f[l+e];u+=d,l+=n}}const t=Object.freeze(Object.defineProperty({__proto__:null,copy:e},Symbol.toStringTag,{value:\"Module\"}));export{e as c,t as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{TextureEncodingMimeType as e}from\"../../webgl-engine/lib/basicInterfaces.js\";class n{constructor(n){this.data=n,this.type=\"encoded-mesh-texture\",this.encoding=e.KTX2_ENCODING}}function t(e){return\"encoded-mesh-texture\"===e?.type}async function r(e){return new Promise(((n,t)=>{const r=new Blob([e]),o=new FileReader;o.onload=()=>{const e=o.result;n(JSON.parse(e))},o.onerror=e=>{t(e)},o.readAsText(r)}))}async function o(t,r){return r===e.KTX2_ENCODING?new n(t):new Promise(((e,n)=>{const o=new Blob([t],{type:r}),s=URL.createObjectURL(o),c=new Image,d=()=>{URL.revokeObjectURL(s),\"decode\"in c?c.decode().then((()=>e(c)),(()=>e(c))).then(a):(e(c),a())},i=e=>{URL.revokeObjectURL(s),n(e),a()},a=()=>{c.removeEventListener(\"load\",d),c.removeEventListener(\"error\",i)};c.addEventListener(\"load\",d),c.addEventListener(\"error\",i),c.src=s}))}export{n as EncodedMeshTexture,o as imageFromBinaryData,t as isEncodedMeshTexture,r as jsonFromBinaryData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nvar n,e,O,N,a,t,D,i,s,u;!function(n){n[n.None=0]=\"None\",n[n.Front=1]=\"Front\",n[n.Back=2]=\"Back\",n[n.COUNT=3]=\"COUNT\"}(n||(n={})),function(n){n[n.Less=0]=\"Less\",n[n.Lequal=1]=\"Lequal\",n[n.COUNT=2]=\"COUNT\"}(e||(e={})),function(n){n[n.BACKGROUND=0]=\"BACKGROUND\",n[n.UPDATE=1]=\"UPDATE\"}(O||(O={})),function(n){n[n.NOT_LOADED=0]=\"NOT_LOADED\",n[n.LOADING=1]=\"LOADING\",n[n.LOADED=2]=\"LOADED\"}(N||(N={})),function(n){n[n.IntegratedMeshMaskExcluded=1]=\"IntegratedMeshMaskExcluded\",n[n.OutlineVisualElementMask=2]=\"OutlineVisualElementMask\"}(a||(a={})),function(n){n[n.Highlight=0]=\"Highlight\",n[n.MaskOccludee=1]=\"MaskOccludee\",n[n.COUNT=2]=\"COUNT\"}(t||(t={})),function(n){n[n.CHANGED=0]=\"CHANGED\",n[n.UNCHANGED=1]=\"UNCHANGED\"}(D||(D={})),function(n){n[n.Blend=0]=\"Blend\",n[n.Opaque=1]=\"Opaque\",n[n.Mask=2]=\"Mask\",n[n.MaskBlend=3]=\"MaskBlend\",n[n.COUNT=4]=\"COUNT\"}(i||(i={})),function(n){n[n.OFF=0]=\"OFF\",n[n.ON=1]=\"ON\"}(s||(s={})),function(n){n.DDS_ENCODING=\"image/vnd-ms.dds\",n.KTX2_ENCODING=\"image/ktx2\",n.BASIS_ENCODING=\"image/x.basis\"}(u||(u={}));export{i as AlphaDiscardMode,n as CullFaceOptions,s as Decorations,e as DepthTestFunction,t as Object3DState,O as RenderRequestType,N as ResourceState,a as StencilBits,u as TextureEncodingMimeType,D as ValidationState};\n"],"names":["$jgs9n","parcelRequire","async","$7887a642e247b089$export$d3fb9c705f65cc77","e","t","r","ref","o","useTransform","n","$cZCWI","DefaultLoadingContext","resolveFile","busy","request","s","a","$9pNSx","default","responseType","signal","data","$7887a642e247b089$var$z","$h7U64","loadGLTF","model","lods","shift","l","Map","i","textures","forEach","set","$iJpq3","$gn1MW","isEncodedMeshTexture","wrap","$7887a642e247b089$var$Z","parameters","$7887a642e247b089$var$H","materials","_rotation","$iLaO9","f","$7887a642e247b089$var$te","$7887a642e247b089$var$re","color","opacity","emissiveFactor","$5YMIf","$7887a642e247b089$var$oe","$jZY6k","scale","rotation","$iVfa0","rad2deg","offset","$4aGER","colorTexture","get","textureColor","normalTexture","textureNormal","emissiveColor","emissiveTexture","textureEmissive","occlusionTexture","textureOcclusion","alphaMode","$7887a642e247b089$var$Y","alphaCutoff","doubleSided","metallic","metallicFactor","roughness","roughnessFactor","metallicRoughnessTexture","textureMetallicRoughness","colorTextureTransform","normalTextureTransform","occlusionTextureTransform","emissiveTextureTransform","metallicRoughnessTextureTransform","$7887a642e247b089$var$J","u","has","tangent","normal","texCoord0","parts","attributes","position","e1","c","$7887a642e247b089$var$G","$7887a642e247b089$var$K","transform","m","p","$edmn4","getOrCreateMapValue","start","length","count","push","gltf","writeVertices","region","vertexAttributes","$eKMts","createBuffer","$YI2am","BufferViewVec3f64","BufferViewVec3f","BufferViewVec4f","BufferViewVec4u8","BufferViewVec2f","components","$7887a642e247b089$var$Q","p1","$7887a642e247b089$var$W","d","g","x","typedBuffer","uv","T","$4pnUn","georeferenceByTransform","vertexSpace","spatialReference","$9VOjl","MeshVertexAttributes","buffer","size","byteOffset","byteLength","toString","$hhwnq","slice","$j3x2p","b","$gnwu9","t1","hasScaling","$fxkX0","dstIndex","e2","t2","$cUsSX","$6ma5C","$fVcSp","e3","t3","elementCount","BufferViewVec4u16","r1","BufferViewVec3u8","fromTypedArray","typedBufferStride","BufferViewVec3u16","$7887a642e247b089$var$X","indices","primitiveType","material","$fmpb6","convertPrimitiveToTriangles","Uint32Array","$lqmgd","faces","shading","trustSourceNormals","horizontal","$7887a642e247b089$var$ee","vertical","$8JzMA","TextureWrapMode","CLAMP_TO_EDGE","MIRRORED_REPEAT","REPEAT","$lHcHb","COLOR_GAMMA","$2TwbA","$02c5989f087e9bf2$export$7e0ee79024a844e1","ArrayBuffer","ElementCount","elementTypeSize","ElementType","$21b9af477ee02ee5$export$1ec4aabe1b9ae11d","Object","freeze","defineProperty","__proto__","copy","srcIndex","Symbol","toStringTag","value","$1EDDv","$beb02e760f18b20a$export$a2b63cbeccb53bfa","constructor","this","type","encoding","TextureEncodingMimeType","KTX2_ENCODING","$beb02e760f18b20a$export$6416212609729888","$beb02e760f18b20a$export$88757a5cee22f04c","Promise","Blob","FileReader","onload","result","JSON","parse","onerror","readAsText","$beb02e760f18b20a$export$2acda7915a81f81c","URL","createObjectURL","Image","revokeObjectURL","decode","then","removeEventListener","addEventListener","src","$134845c4e69f7a02$export$27d64769259f6864","$134845c4e69f7a02$export$24d783aa355023ea","$134845c4e69f7a02$export$9a2e85d113672df3","$134845c4e69f7a02$export$d0eb0afab1a889e1","$134845c4e69f7a02$export$1f368585738320ab","$134845c4e69f7a02$export$16fcb3c2564f2451","$134845c4e69f7a02$export$2a27dae48bac82b3","$134845c4e69f7a02$export$860ce1bbd4cab1c6","$134845c4e69f7a02$export$70826c92249a489","$134845c4e69f7a02$export$39893ea5d6605b54","None","Front","Back","COUNT","Less","Lequal","BACKGROUND","UPDATE","NOT_LOADED","LOADING","LOADED","IntegratedMeshMaskExcluded","OutlineVisualElementMask","Highlight","MaskOccludee","CHANGED","UNCHANGED","Blend","Opaque","Mask","MaskBlend","OFF","ON","DDS_ENCODING","BASIS_ENCODING"],"version":3,"file":"loadGLTFMesh.fac5f517.js.map"}