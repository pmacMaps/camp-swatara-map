!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function r(e){Object.defineProperty(e,"__esModule",{value:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var a={},o={},s=t.parcelRequire594f;null==s&&((s=function(e){if(e in a)return a[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){o[e]=t},t.parcelRequire594f=s),s.register("iE7OH",(function(t,r){var n,i;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var a={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)a[t[r]]=e[t[r]]},i=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s.register("8TSCy",(function(t,r){e(t.exports,"applyDecoratedDescriptor",(function(){return s("aCQQc").default})),e(t.exports,"arrayLikeToArray",(function(){return s("em3qv").default})),e(t.exports,"arrayWithHoles",(function(){return s("9rxh7").default})),e(t.exports,"arrayWithoutHoles",(function(){return s("gyMUJ").default})),e(t.exports,"assertThisInitialized",(function(){return s("Kn7R4").default})),e(t.exports,"asyncGenerator",(function(){return s("7bgyj").default})),e(t.exports,"asyncGeneratorDelegate",(function(){return s("aGtc8").default})),e(t.exports,"asyncIterator",(function(){return s("3UDCc").default})),e(t.exports,"asyncToGenerator",(function(){return s("jcnGU").default})),e(t.exports,"awaitAsyncGenerator",(function(){return s("exO5y").default})),e(t.exports,"awaitValue",(function(){return s("kEnmc").default})),e(t.exports,"checkPrivateRedeclaration",(function(){return s("22ex8").default})),e(t.exports,"classApplyDescriptorDestructureSet",(function(){return s("aSmmc").default})),e(t.exports,"classApplyDescriptorGet",(function(){return s("dmIej").default})),e(t.exports,"classApplyDescriptorSet",(function(){return s("8oyJ9").default})),e(t.exports,"classCallCheck",(function(){return s("f9pi5").default})),e(t.exports,"classCheckPrivateStaticFieldDescriptor",(function(){return s("7gmBE").default})),e(t.exports,"classCheckPrivateStaticAccess",(function(){return s("71xSN").default})),e(t.exports,"classNameTDZError",(function(){return s("aJtHo").default})),e(t.exports,"classPrivateFieldDestructureSet",(function(){return s("5ickg").default})),e(t.exports,"classPrivateFieldGet",(function(){return s("bxCCm").default})),e(t.exports,"classPrivateFieldInit",(function(){return s("4koOI").default})),e(t.exports,"classPrivateFieldLooseBase",(function(){return s("dwIHw").default})),e(t.exports,"classPrivateFieldLooseKey",(function(){return s("4VPEe").default})),e(t.exports,"classPrivateFieldSet",(function(){return s("j2pCk").default})),e(t.exports,"classPrivateMethodGet",(function(){return s("5Zqbj").default})),e(t.exports,"classPrivateMethodInit",(function(){return s("P11OH").default})),e(t.exports,"classPrivateMethodSet",(function(){return s("9TnBr").default})),e(t.exports,"classStaticPrivateFieldDestructureSet",(function(){return s("acD2X").default})),e(t.exports,"classStaticPrivateFieldSpecGet",(function(){return s("6Dpcl").default})),e(t.exports,"classStaticPrivateFieldSpecSet",(function(){return s("lCXdU").default})),e(t.exports,"construct",(function(){return s("lyMdT").default})),e(t.exports,"createClass",(function(){return s("jK9zx").default})),e(t.exports,"createSuper",(function(){return s("dap1g").default})),e(t.exports,"decorate",(function(){return s("8Dq9y").default})),e(t.exports,"defaults",(function(){return s("aNSHi").default})),e(t.exports,"defineEnumerableProperties",(function(){return s("4LceU").default})),e(t.exports,"defineProperty",(function(){return s("aNiFM").default})),e(t.exports,"extends",(function(){return s("6uxOR").default})),e(t.exports,"get",(function(){return s("8atho").default})),e(t.exports,"getPrototypeOf",(function(){return s("aNpz9").default})),e(t.exports,"inherits",(function(){return s("g9uIT").default})),e(t.exports,"inheritsLoose",(function(){return s("5qhF4").default})),e(t.exports,"initializerDefineProperty",(function(){return s("9Bb5n").default})),e(t.exports,"initializerWarningHelper",(function(){return s("jcZ4A").default})),e(t.exports,"_instanceof",(function(){return s("1cUGQ").default})),e(t.exports,"interopRequireDefault",(function(){return s("hLAQ5").default})),e(t.exports,"interopRequireWildcard",(function(){return s("2QNAC").default})),e(t.exports,"isNativeFunction",(function(){return s("bDs5c").default})),e(t.exports,"isNativeReflectConstruct",(function(){return s("innt6").default})),e(t.exports,"iterableToArray",(function(){return s("bxmrK").default})),e(t.exports,"iterableToArrayLimit",(function(){return s("hq1tX").default})),e(t.exports,"iterableToArrayLimitLoose",(function(){return s("5GR21").default})),e(t.exports,"jsx",(function(){return s("5EOdA").default})),e(t.exports,"newArrowCheck",(function(){return s("196CG").default})),e(t.exports,"nonIterableRest",(function(){return s("dzEQH").default})),e(t.exports,"nonIterableSpread",(function(){return s("de5AG").default})),e(t.exports,"objectSpread",(function(){return s("ifq4M").default})),e(t.exports,"objectWithoutProperties",(function(){return s("jC6pI").default})),e(t.exports,"objectWithoutPropertiesLoose",(function(){return s("adDGW").default})),e(t.exports,"possibleConstructorReturn",(function(){return s("bFSSc").default})),e(t.exports,"readOnlyError",(function(){return s("2y7Mw").default})),e(t.exports,"set",(function(){return s("lxMUl").default})),e(t.exports,"setPrototypeOf",(function(){return s("eOD0a").default})),e(t.exports,"skipFirstGeneratorNext",(function(){return s("iYoCV").default})),e(t.exports,"slicedToArray",(function(){return s("iCnzh").default})),e(t.exports,"slicedToArrayLoose",(function(){return s("2P52m").default})),e(t.exports,"superPropBase",(function(){return s("5uuLS").default})),e(t.exports,"taggedTemplateLiteral",(function(){return s("hBmGv").default})),e(t.exports,"taggedTemplateLiteralLoose",(function(){return s("fwOMH").default})),e(t.exports,"_throw",(function(){return s("jHQfp").default})),e(t.exports,"toArray",(function(){return s("133Pq").default})),e(t.exports,"toConsumableArray",(function(){return s("5Vgx8").default})),e(t.exports,"toPrimitive",(function(){return s("hjCEX").default})),e(t.exports,"toPropertyKey",(function(){return s("dWEZ0").default})),e(t.exports,"typeOf",(function(){return s("kswSi").default})),e(t.exports,"unsupportedIterableToArray",(function(){return s("R3yfh").default})),e(t.exports,"wrapAsyncGenerator",(function(){return s("8aoaQ").default})),e(t.exports,"wrapNativeSuper",(function(){return s("39bC9").default})),e(t.exports,"__decorate",(function(){return s("4tSb9").__decorate})),e(t.exports,"__metadata",(function(){return s("4tSb9").__metadata})),e(t.exports,"__param",(function(){return s("4tSb9").__param}));s("aCQQc"),s("em3qv"),s("9rxh7"),s("gyMUJ"),s("Kn7R4"),s("7bgyj"),s("aGtc8"),s("3UDCc"),s("jcnGU"),s("exO5y"),s("kEnmc"),s("22ex8"),s("aSmmc"),s("dmIej"),s("8oyJ9"),s("f9pi5"),s("7gmBE"),s("71xSN"),s("aJtHo"),s("5ickg"),s("bxCCm"),s("4koOI"),s("dwIHw"),s("4VPEe"),s("j2pCk"),s("5Zqbj"),s("P11OH"),s("9TnBr"),s("acD2X"),s("6Dpcl"),s("lCXdU"),s("lyMdT"),s("jK9zx"),s("dap1g"),s("8Dq9y"),s("aNSHi"),s("4LceU"),s("aNiFM"),s("6uxOR"),s("8atho"),s("aNpz9"),s("g9uIT"),s("5qhF4"),s("9Bb5n"),s("jcZ4A"),s("1cUGQ"),s("hLAQ5"),s("2QNAC"),s("bDs5c"),s("innt6"),s("bxmrK"),s("hq1tX"),s("5GR21"),s("5EOdA"),s("196CG"),s("dzEQH"),s("de5AG"),s("ifq4M"),s("jC6pI"),s("adDGW"),s("bFSSc"),s("2y7Mw"),s("lxMUl"),s("eOD0a"),s("iYoCV"),s("iCnzh"),s("2P52m"),s("5uuLS"),s("hBmGv"),s("fwOMH"),s("jHQfp"),s("133Pq"),s("5Vgx8"),s("hjCEX"),s("dWEZ0"),s("kswSi"),s("R3yfh"),s("8aoaQ"),s("39bC9"),s("4tSb9")})),s.register("aCQQc",(function(t,r){function n(e,t,r,n,i){var a={};Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n&&n(e,t,r)||r}),a);var o=Object.prototype.hasOwnProperty.call(a,"get")||Object.prototype.hasOwnProperty.call(a,"set");return i&&void 0!==a.initializer&&!o&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),o&&(delete a.writable,delete a.initializer,delete a.value),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}e(t.exports,"default",(function(){return n}))})),s.register("em3qv",(function(t,r){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e(t.exports,"default",(function(){return n}))})),s.register("9rxh7",(function(t,r){function n(e){if(Array.isArray(e))return e}e(t.exports,"default",(function(){return n}))})),s.register("gyMUJ",(function(t,r){e(t.exports,"default",(function(){return i}));var n=s("em3qv");function i(e){if(Array.isArray(e))return(0,n.default)(e)}})),s.register("Kn7R4",(function(t,r){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e(t.exports,"default",(function(){return n}))})),s.register("7bgyj",(function(t,r){e(t.exports,"default",(function(){return i}));var n=s("kEnmc");function i(e){var t,r;function i(t,r){try{var o=e[t](r),s=o.value,l=s instanceof n.default;Promise.resolve(l?s.wrapped:s).then((function(e){l?i("next",e):a(o.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(e){a("throw",e)}}function a(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?i(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise((function(a,o){var s={key:e,arg:n,resolve:a,reject:o,next:null};r?r=r.next=s:(t=r=s,i(e,n))}))},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(i.prototype[Symbol.asyncIterator]=function(){return this}),i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)}})),s.register("kEnmc",(function(t,r){function n(e){this.wrapped=e}e(t.exports,"default",(function(){return n}))})),s.register("aGtc8",(function(t,r){function n(e,t){var r={},n=!1;function i(r,i){return n=!0,i=new Promise((function(t){t(e[r](i))})),{done:!1,value:t(i)}}return"function"==typeof Symbol&&Symbol.iterator&&(r[Symbol.iterator]=function(){return this}),r.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(r.return=function(e){return i("return",e)}),r}e(t.exports,"default",(function(){return n}))})),s.register("3UDCc",(function(t,r){function n(e){var t;if("function"==typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}e(t.exports,"default",(function(){return n}))})),s.register("jcnGU",(function(t,r){function n(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,l,"next",e)}function l(e){n(o,i,a,s,l,"throw",e)}s(void 0)}))}}e(t.exports,"default",(function(){return i}))})),s.register("exO5y",(function(t,r){e(t.exports,"default",(function(){return i}));var n=s("kEnmc");function i(e){return new(0,n.default)(e)}})),s.register("22ex8",(function(t,r){function n(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}e(t.exports,"default",(function(){return n}))})),s.register("aSmmc",(function(t,r){function n(e,t){if(t.set)return"__destrObj"in t||(t.__destrObj={set value(r){t.set.call(e,r)}}),t.__destrObj;if(!t.writable)throw new TypeError("attempted to set read only private field");return t}e(t.exports,"default",(function(){return n}))})),s.register("dmIej",(function(t,r){function n(e,t){return t.get?t.get.call(e):t.value}e(t.exports,"default",(function(){return n}))})),s.register("8oyJ9",(function(t,r){function n(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}e(t.exports,"default",(function(){return n}))})),s.register("f9pi5",(function(t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e(t.exports,"default",(function(){return n}))})),s.register("7gmBE",(function(t,r){function n(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}e(t.exports,"default",(function(){return n}))})),s.register("71xSN",(function(t,r){function n(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}e(t.exports,"default",(function(){return n}))})),s.register("aJtHo",(function(t,r){function n(e){throw new Error('Class "'+e+'" cannot be referenced in computed property keys.')}e(t.exports,"default",(function(){return n}))})),s.register("5ickg",(function(t,r){e(t.exports,"default",(function(){return a}));var n=s("iXYNA"),i=s("aSmmc");function a(e,t){var r=(0,n.default)(e,t,"set");return(0,i.default)(e,r)}})),s.register("iXYNA",(function(t,r){function n(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}e(t.exports,"default",(function(){return n}))})),s.register("bxCCm",(function(t,r){e(t.exports,"default",(function(){return a}));var n=s("iXYNA"),i=s("dmIej");function a(e,t){var r=(0,n.default)(e,t,"get");return(0,i.default)(e,r)}})),s.register("4koOI",(function(t,r){e(t.exports,"default",(function(){return i}));var n=s("22ex8");function i(e,t,r){(0,n.default)(e,t),t.set(e,r)}})),s.register("dwIHw",(function(t,r){function n(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}e(t.exports,"default",(function(){return n}))})),s.register("4VPEe",(function(t,r){e(t.exports,"default",(function(){return i}));var n=0;function i(e){return"__private_"+n+++"_"+e}})),s.register("j2pCk",(function(t,r){e(t.exports,"default",(function(){return a}));var n=s("iXYNA"),i=s("8oyJ9");function a(e,t,r){var a=(0,n.default)(e,t,"set");return(0,i.default)(e,a,r),r}})),s.register("5Zqbj",(function(t,r){function n(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}e(t.exports,"default",(function(){return n}))})),s.register("P11OH",(function(t,r){e(t.exports,"default",(function(){return i}));var n=s("22ex8");function i(e,t){(0,n.default)(e,t),t.add(e)}})),s.register("9TnBr",(function(t,r){function n(){throw new TypeError("attempted to reassign private method")}e(t.exports,"default",(function(){return n}))})),s.register("acD2X",(function(t,r){e(t.exports,"default",(function(){return a}));var n=s("71xSN"),i=(n=s("71xSN"),s("aSmmc"));function a(e,t,r){return(0,n.default)(e,t),(0,n.default)(r,"set"),(0,i.default)(e,r)}})),s.register("6Dpcl",(function(t,r){e(t.exports,"default",(function(){return a}));var n=s("71xSN"),i=(n=s("71xSN"),s("dmIej"));function a(e,t,r){return(0,n.default)(e,t),(0,n.default)(r,"get"),(0,i.default)(e,r)}})),s.register("lCXdU",(function(t,r){e(t.exports,"default",(function(){return a}));var n=s("71xSN"),i=(n=s("71xSN"),s("8oyJ9"));function a(e,t,r,a){return(0,n.default)(e,t),(0,n.default)(r,"set"),(0,i.default)(e,r,a),a}})),s.register("lyMdT",(function(t,r){e(t.exports,"default",(function(){return o}));var n=s("eOD0a");function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,r){return(a=i()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return r&&(0,n.default)(a,r.prototype),a}).apply(null,arguments)}function o(e,t,r){return a.apply(null,arguments)}})),s.register("eOD0a",(function(t,r){function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){return n(e,t)}e(t.exports,"default",(function(){return i}))})),s.register("jK9zx",(function(t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}e(t.exports,"default",(function(){return i}))})),s.register("dap1g",(function(t,r){e(t.exports,"default",(function(){return o}));var n=s("innt6"),i=s("aNpz9"),a=s("bFSSc");function o(e){var t=(0,n.default)();return function(){var r,n=(0,i.default)(e);if(t){var o=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}})),s.register("innt6",(function(t,r){function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}e(t.exports,"default",(function(){return n}))})),s.register("aNpz9",(function(t,r){function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e){return n(e)}e(t.exports,"default",(function(){return i}))})),s.register("bFSSc",(function(t,r){e(t.exports,"default",(function(){return a}));var n=s("Kn7R4"),i=s("kswSi");function a(e,t){return!t||"object"!==(0,i.default)(t)&&"function"!=typeof t?(0,n.default)(e):t}})),s.register("kswSi",(function(t,r){function n(e){return e&&e.constructor===Symbol?"symbol":typeof e}e(t.exports,"default",(function(){return n}))})),s.register("8Dq9y",(function(t,r){e(t.exports,"default",(function(){return a}));var n=s("133Pq"),i=s("dWEZ0");function a(e,t,r){var n,i,a,s=t((function(e){!function(e,t){["method","field"].forEach((function(r){t.forEach((function(t){t.kind===r&&"own"===t.placement&&f(e,t)}))}))}(e,h.elements)}),r),h=function(e,t){var r=[],n=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){p(e,i)})),e.forEach((function(e){if(!u(e))return r.push(e);var t=function(e,t){for(var r=[],n=[],i=e.decorators,a=i.length-1;a>=0;a--){var o=t[e.placement];o.splice(o.indexOf(e.key),1);var s=d(e),l=v((0,i[a])(s)||s);p(e=l.element,t),l.finisher&&n.push(l.finisher);var u=l.extras;if(u){for(var c=0;c<u.length;c++)p(u[c],t);r.push.apply(r,u)}}return{element:e,finishers:n,extras:r}}(e,i);r.push(t.element),r.push.apply(r,t.extras),n.push.apply(n,t.finishers)})),!t)return{elements:r,finishers:n};var a=function(e,t){for(var r=[],n=t.length-1;n>=0;n--){var i=m(e),a=g((0,t[n])(i)||i);if(void 0!==a.finisher&&r.push(a.finisher),void 0!==a.elements){e=a.elements;for(var o=0;o<e.length-1;o++)for(var s=o+1;s<e.length;s++)if(e[o].key===e[s].key&&e[o].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:r}}(r,t);return n.push.apply(n,a.finishers),a.finishers=n,a}(function(e){for(var t=[],r=function(e){return"method"===e.kind&&e.key===a.key&&e.placement===a.placement},n=0;n<e.length;n++){var i,a=e[n];if("method"===a.kind&&(i=t.find(r)))if(c(a.descriptor)||c(i.descriptor)){if(u(a)||u(i))throw new ReferenceError("Duplicated methods ("+a.key+") can't be decorated.");i.descriptor=a.descriptor}else{if(u(a)){if(u(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+a.key+").");i.decorators=a.decorators}l(a,i)}else t.push(a)}return t}(s.d.map(o)),e);return n=s.F,i=h.elements,a=n.prototype,["method","field"].forEach((function(e){i.forEach((function(t){var r=t.placement;t.kind!==e||"static"!==r&&"prototype"!==r||f("static"===r?n:a,t)}))})),function(e,t){for(var r=0;r<t.length;r++){var n=(0,t[r])(e);if(void 0!==n){if("function"!=typeof n)throw new TypeError("Finishers must return a constructor.");e=n}}return e}(s.F,h.finishers)}function o(e){var t,r=(0,i.default)(e.key);"method"===e.kind?(t={value:e.value,writable:!0,configurable:!0,enumerable:!1},Object.defineProperty(e.value,"name",{value:"symbol"===_typeof(r)?"":r,configurable:!0})):"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var n={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(n.decorators=e.decorators),"field"===e.kind&&(n.initializer=e.value),n}function l(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function u(e){return e.decorators&&e.decorators.length}function c(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function f(e,t){var r=t.descriptor;if("field"===t.kind){var n=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===n?void 0:n.call(e)}}Object.defineProperty(e,t.key,r)}function p(e,t,r){var n=t[e.placement];if(!r&&-1!==n.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");n.push(e.key)}function d(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t}function h(e){if(void 0!==e)return(0,n.default)(e).map((function(e){var t=y(e);return b(e,"finisher","An element descriptor"),b(e,"extras","An element descriptor"),t}))}function y(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=(0,i.default)(e.key),n=String(e.placement);if("static"!==n&&"prototype"!==n&&"own"!==n)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+n+'"');var a=e.descriptor;b(e,"elements","An element descriptor");var o={kind:t,key:r,placement:n,descriptor:Object.assign({},a)};return"field"!==t?b(e,"initializer","A method descriptor"):(b(a,"get","The property descriptor of a field descriptor"),b(a,"set","The property descriptor of a field descriptor"),b(a,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o}function v(e){return{element:y(e),finisher:_(e,"finisher"),extras:h(e.extras)}}function m(e){var t={kind:"class",elements:e.map(d)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t}function g(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');b(e,"key","A class descriptor"),b(e,"placement","A class descriptor"),b(e,"descriptor","A class descriptor"),b(e,"initializer","A class descriptor"),b(e,"extras","A class descriptor");var r=_(e,"finisher");return{elements:h(e.elements),finisher:r}}function b(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}function _(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}})),s.register("133Pq",(function(t,r){e(t.exports,"default",(function(){return u}));var n=s("9rxh7"),a=s("bxmrK"),o=s("dzEQH"),l=s("R3yfh");function u(e){return(0,n.default)(e)||(0,a.default)(e)||(0,l.default)(e,i)||(0,o.default)()}})),s.register("bxmrK",(function(t,r){function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}e(t.exports,"default",(function(){return n}))})),s.register("dzEQH",(function(t,r){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e(t.exports,"default",(function(){return n}))})),s.register("R3yfh",(function(t,r){e(t.exports,"default",(function(){return i}));var n=s("em3qv");function i(e,t){if(e){if("string"==typeof e)return(0,n.default)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.default)(e,t):void 0}}})),s.register("dWEZ0",(function(t,r){e(t.exports,"default",(function(){return a}));var n=s("kswSi"),i=s("hjCEX");function a(e){var t=(0,i.default)(e,"string");return"symbol"===(0,n.default)(t)?t:String(t)}})),s.register("hjCEX",(function(t,r){e(t.exports,"default",(function(){return i}));var n=s("kswSi");function i(e,t){if("object"!==(0,n.default)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==(0,n.default)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}})),s.register("aNSHi",(function(t,r){function n(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var i=r[n],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}e(t.exports,"default",(function(){return n}))})),s.register("4LceU",(function(t,r){function n(e,t){for(var r in t){(a=t[r]).configurable=a.enumerable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,r,a)}if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(t),i=0;i<n.length;i++){var a,o=n[i];(a=t[o]).configurable=a.enumerable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,o,a)}return e}e(t.exports,"default",(function(){return n}))})),s.register("aNiFM",(function(t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e(t.exports,"default",(function(){return n}))})),s.register("6uxOR",(function(t,r){function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}function i(){return n.apply(this,arguments)}e(t.exports,"default",(function(){return i}))})),s.register("8atho",(function(t,r){e(t.exports,"default",(function(){return a}));var n=s("5uuLS");function i(e,t,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=(0,n.default)(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(r||e):a.value}})(e,t,r)}function a(e,t,r){return i(e,t,r)}})),s.register("5uuLS",(function(t,r){e(t.exports,"default",(function(){return i}));var n=s("aNpz9");function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,n.default)(e)););return e}})),s.register("g9uIT",(function(t,r){e(t.exports,"default",(function(){return i}));var n=s("eOD0a");function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,n.default)(e,t)}})),s.register("5qhF4",(function(t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}e(t.exports,"default",(function(){return n}))})),s.register("9Bb5n",(function(t,r){function n(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}e(t.exports,"default",(function(){return n}))})),s.register("jcZ4A",(function(t,r){function n(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")}e(t.exports,"default",(function(){return n}))})),s.register("1cUGQ",(function(t,r){function n(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}e(t.exports,"default",(function(){return n}))})),s.register("hLAQ5",(function(t,r){function n(e){return e&&e.__esModule?e:{default:e}}e(t.exports,"default",(function(){return n}))})),s.register("2QNAC",(function(t,r){function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}e(t.exports,"default",(function(){return i}))})),s.register("bDs5c",(function(t,r){function n(e){return-1!==Function.toString.call(e).indexOf("[native code]")}e(t.exports,"default",(function(){return n}))})),s.register("hq1tX",(function(t,r){function n(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}e(t.exports,"default",(function(){return n}))})),s.register("5GR21",(function(t,r){function n(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n=[];for(r=r.call(e),_step;!(_step=r.next()).done&&(n.push(_step.value),!t||n.length!==t););return n}}e(t.exports,"default",(function(){return n}))})),s.register("5EOdA",(function(t,r){var n;function i(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});if(1===o)t.children=i;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}e(t.exports,"default",(function(){return i}))})),s.register("196CG",(function(t,r){function n(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}e(t.exports,"default",(function(){return n}))})),s.register("de5AG",(function(t,r){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e(t.exports,"default",(function(){return n}))})),s.register("ifq4M",(function(t,r){e(t.exports,"default",(function(){return i}));var n=s("aNiFM");function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){(0,n.default)(e,t,r[t])}))}return e}})),s.register("jC6pI",(function(t,r){e(t.exports,"default",(function(){return i}));var n=s("adDGW");function i(e,t){if(null==e)return{};var r,i,a=(0,n.default)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}})),s.register("adDGW",(function(t,r){function n(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}e(t.exports,"default",(function(){return n}))})),s.register("2y7Mw",(function(t,r){function n(e){throw new Error('"'+e+'" is read-only')}e(t.exports,"default",(function(){return n}))})),s.register("lxMUl",(function(t,r){e(t.exports,"default",(function(){return o}));var n=s("aNiFM"),i=s("5uuLS");function a(e,t,r,o){return(a="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,r,a){var o,s=(0,i.default)(e,t);if(s){if((o=Object.getOwnPropertyDescriptor(s,t)).set)return o.set.call(a,r),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(a,t)){if(!o.writable)return!1;o.value=r,Object.defineProperty(a,t,o)}else(0,n.default)(a,t,r);return!0})(e,t,r,o)}function o(e,t,r,n,i){if(!a(e,t,r,n||e)&&i)throw new Error("failed to set property");return r}})),s.register("iYoCV",(function(t,r){function n(e){return function(){var t=e.apply(this,arguments);return t.next(),t}}e(t.exports,"default",(function(){return n}))})),s.register("iCnzh",(function(t,r){e(t.exports,"default",(function(){return l}));var n=s("9rxh7"),i=s("bxmrK"),a=s("dzEQH"),o=s("R3yfh");function l(e,t){return(0,n.default)(e)||(0,i.default)(e,t)||(0,o.default)(e,t)||(0,a.default)()}})),s.register("2P52m",(function(t,r){e(t.exports,"default",(function(){return l}));var n=s("9rxh7"),i=s("5GR21"),a=s("dzEQH"),o=s("R3yfh");function l(e,t){return(0,n.default)(e)||(0,i.default)(e,t)||(0,o.default)(e,t)||(0,a.default)()}})),s.register("hBmGv",(function(t,r){function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}e(t.exports,"default",(function(){return n}))})),s.register("fwOMH",(function(t,r){function n(e,t){return t||(t=e.slice(0)),e.raw=t,e}e(t.exports,"default",(function(){return n}))})),s.register("jHQfp",(function(t,r){function n(e){throw e}e(t.exports,"default",(function(){return n}))})),s.register("5Vgx8",(function(t,r){e(t.exports,"default",(function(){return l}));var n=s("gyMUJ"),i=s("bxmrK"),a=s("de5AG"),o=s("R3yfh");function l(e){return(0,n.default)(e)||(0,i.default)(e)||(0,o.default)(e)||(0,a.default)()}})),s.register("8aoaQ",(function(t,r){e(t.exports,"default",(function(){return i}));var n=s("7bgyj");function i(e){return function(){return new(0,n.default)(e.apply(this,arguments))}}})),s.register("39bC9",(function(t,r){e(t.exports,"default",(function(){return u}));var n=s("lyMdT"),i=s("bDs5c"),a=s("aNpz9"),o=s("eOD0a");function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||!(0,i.default)(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return(0,n.default)(e,arguments,(0,a.default)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,o.default)(r,e)},l(e)}function u(e){return l(e)}})),s.register("4tSb9",(function(t,r){e(t.exports,"__decorate",(function(){return n})),e(t.exports,"__param",(function(){return i})),e(t.exports,"__metadata",(function(){return a}));function n(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}function i(e,t){return function(r,n){t(r,n,e)}}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}Object.create;Object.create})),s.register("9qak9",(function(e,t){s("8TSCy");var r=s("kswSi");
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */!function(t,r){"use strict";"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:void 0,(function(e,t){"use strict";var n=[],i=Object.getPrototypeOf,a=n.slice,o=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},s=n.push,l=n.indexOf,u={},c=u.toString,f=u.hasOwnProperty,p=f.toString,d=p.call(Object),h={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},v=function(e){return null!=e&&e===e.window},m=e.document,g={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,r){var n,i,a=(r=r||m).createElement("script");if(a.text=e,t)for(n in g)(i=t[n]||t.getAttribute&&t.getAttribute(n))&&a.setAttribute(n,i);r.head.appendChild(a).parentNode.removeChild(a)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[c.call(e)]||"object":void 0===e?"undefined":r.default(e)}var w="3.6.0",x=function(e,t){return new x.fn.init(e,t)};function S(e){var t=!!e&&"length"in e&&e.length,r=_(e);return!y(e)&&!v(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}x.fn=x.prototype={jquery:w,constructor:x,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return x.each(this,e)},map:function(e){return this.pushStack(x.map(this,(function(t,r){return e.call(t,r,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(x.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(x.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},x.extend=x.fn.extend=function(){var e,t,r,n,i,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||y(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&o!==n&&(u&&n&&(x.isPlainObject(n)||(i=Array.isArray(n)))?(r=o[t],a=i&&!Array.isArray(r)?[]:i||x.isPlainObject(r)?r:{},i=!1,o[t]=x.extend(u,a,n)):void 0!==n&&(o[t]=n));return o},x.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==c.call(e))&&(!(t=i(e))||"function"==typeof(r=f.call(t,"constructor")&&t.constructor)&&p.call(r)===d)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){b(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,n=0;if(S(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){var r=t||[];return null!=e&&(S(Object(e))?x.merge(r,"string"==typeof e?[e]:e):s.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:l.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,r){for(var n=[],i=0,a=e.length,o=!r;i<a;i++)!t(e[i],i)!==o&&n.push(e[i]);return n},map:function(e,t,r){var n,i,a=0,s=[];if(S(e))for(n=e.length;a<n;a++)null!=(i=t(e[a],a,r))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,r))&&s.push(i);return o(s)},guid:1,support:h}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=n[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var k=
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
function(e){var t,r,n,i,a,o,s,l,u,c,f,p,d,h,y,v,m,g,b,_="sizzle"+1*new Date,w=e.document,x=0,S=0,k=le(),T=le(),E=le(),I=le(),C=function(e,t){return e===t&&(f=!0),0},O={}.hasOwnProperty,L=[],A=L.pop,M=L.push,N=L.push,R=L.slice,P=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",D="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\[[\\x20\\t\\r\\n\\f]*("+D+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+D+"))|)"+j+"*\\]",V=":("+D+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",B=new RegExp(j+"+","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),z=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),W=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),G=new RegExp(j+"|>"),J=new RegExp(V),q=new RegExp("^"+D+"$"),X={ID:new RegExp("^#("+D+")"),CLASS:new RegExp("^\\.("+D+")"),TAG:new RegExp("^("+D+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,$=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),re=function(e,t){var r="0x"+e.slice(1)-65536;return t||(r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320))},ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=function(){p()},oe=_e((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{N.apply(L=R.call(w.childNodes),w.childNodes),L[w.childNodes.length].nodeType}catch(e){N={apply:L.length?function(e,t){M.apply(e,R.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}function se(e,t,n,i){var a,s,u,c,f,h,m,g=t&&t.ownerDocument,w=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return n;if(!i&&(p(t),t=t||d,y)){if(11!==w&&(f=Q.exec(e)))if(a=f[1]){if(9===w){if(!(u=t.getElementById(a)))return n;if(u.id===a)return n.push(u),n}else if(g&&(u=g.getElementById(a))&&b(t,u)&&u.id===a)return n.push(u),n}else{if(f[2])return N.apply(n,t.getElementsByTagName(e)),n;if((a=f[3])&&r.getElementsByClassName&&t.getElementsByClassName)return N.apply(n,t.getElementsByClassName(a)),n}if(r.qsa&&!I[e+" "]&&(!v||!v.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(m=e,g=t,1===w&&(G.test(e)||W.test(e))){for((g=ee.test(e)&&me(t.parentNode)||t)===t&&r.scope||((c=t.getAttribute("id"))?c=c.replace(ne,ie):t.setAttribute("id",c=_)),s=(h=o(e)).length;s--;)h[s]=(c?"#"+c:":scope")+" "+be(h[s]);m=h.join(",")}try{return N.apply(n,g.querySelectorAll(m)),n}catch(t){I(e,!0)}finally{c===_&&t.removeAttribute("id")}}}return l(e.replace(H,"$1"),t,n,i)}function le(){var e=[];return function t(r,i){return e.push(r+" ")>n.cacheLength&&delete t[e.shift()],t[r+" "]=i}}function ue(e){return e[_]=!0,e}function ce(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var r=e.split("|"),i=r.length;i--;)n.attrHandle[r[i]]=t}function pe(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function ye(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ve(e){return ue((function(t){return t=+t,ue((function(r,n){for(var i,a=e([],r.length,t),o=a.length;o--;)r[i=a[o]]&&(r[i]=!(n[i]=r[i]))}))}))}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in r=se.support={},a=se.isXML=function(e){var t=e&&e.namespaceURI,r=e&&(e.ownerDocument||e).documentElement;return!K.test(t||r&&r.nodeName||"HTML")},p=se.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:w;return o!=d&&9===o.nodeType&&o.documentElement?(h=(d=o).documentElement,y=!a(d),w!=d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ae,!1):i.attachEvent&&i.attachEvent("onunload",ae)),r.scope=ce((function(e){return h.appendChild(e).appendChild(d.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),r.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),r.getElementsByTagName=ce((function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length})),r.getElementsByClassName=Z.test(d.getElementsByClassName),r.getById=ce((function(e){return h.appendChild(e).id=_,!d.getElementsByName||!d.getElementsByName(_).length})),r.getById?(n.filter.ID=function(e){var t=e.replace(te,re);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var r=t.getElementById(e);return r?[r]:[]}}):(n.filter.ID=function(e){var t=e.replace(te,re);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var r,n,i,a=t.getElementById(e);if(a){if((r=a.getAttributeNode("id"))&&r.value===e)return[a];for(i=t.getElementsByName(e),n=0;a=i[n++];)if((r=a.getAttributeNode("id"))&&r.value===e)return[a]}return[]}}),n.find.TAG=r.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],i=0,a=t.getElementsByTagName(e);if("*"===e){for(;r=a[i++];)1===r.nodeType&&n.push(r);return n}return a},n.find.CLASS=r.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&y)return t.getElementsByClassName(e)},m=[],v=[],(r.qsa=Z.test(d.querySelectorAll))&&(ce((function(e){var t;h.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+F+")"),e.querySelectorAll("[id~="+_+"-]").length||v.push("~="),(t=d.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(r.matchesSelector=Z.test(g=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ce((function(e){r.disconnectedMatch=g.call(e,"*"),g.call(e,"[s!='']:x"),m.push("!=",V)})),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),t=Z.test(h.compareDocumentPosition),b=t||Z.test(h.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return f=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!r.sortDetached&&t.compareDocumentPosition(e)===n?e==d||e.ownerDocument==w&&b(w,e)?-1:t==d||t.ownerDocument==w&&b(w,t)?1:c?P(c,e)-P(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return f=!0,0;var r,n=0,i=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!i||!a)return e==d?-1:t==d?1:i?-1:a?1:c?P(c,e)-P(c,t):0;if(i===a)return pe(e,t);for(r=e;r=r.parentNode;)o.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;o[n]===s[n];)n++;return n?pe(o[n],s[n]):o[n]==w?-1:s[n]==w?1:0},d):d},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(p(e),r.matchesSelector&&y&&!I[t+" "]&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var n=g.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){I(t,!0)}return se(t,d,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=d&&p(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=d&&p(e);var i=n.attrHandle[t.toLowerCase()],a=i&&O.call(n.attrHandle,t.toLowerCase())?i(e,t,!y):void 0;return void 0!==a?a:r.attributes||!y?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},se.escape=function(e){return(e+"").replace(ne,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],i=0,a=0;if(f=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(C),f){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return c=null,e},i=se.getText=function(e){var t,r="",n=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=i(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[n++];)r+=i(t);return r},(n=se.selectors={cacheLength:50,createPseudo:ue,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,re),e[3]=(e[3]||e[4]||e[5]||"").replace(te,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&J.test(r)&&(t=o(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+j+"|$)"),k(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})))},ATTR:function(e,t,r){return function(n){var i=se.attr(n,e);return null==i?"!="===t:!t||(i+="","="===t?i===r:"!="===t?i!==r:"^="===t?r&&0===i.indexOf(r):"*="===t?r&&i.indexOf(r)>-1:"$="===t?r&&i.slice(-r.length)===r:"~="===t?(" "+i.replace(B," ")+" ").indexOf(r)>-1:"|="===t&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,n,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,r,l){var u,c,f,p,d,h,y=a!==o?"nextSibling":"previousSibling",v=t.parentNode,m=s&&t.nodeName.toLowerCase(),g=!l&&!s,b=!1;if(v){if(a){for(;y;){for(p=t;p=p[y];)if(s?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;h=y="only"===e&&!h&&"nextSibling"}return!0}if(h=[o?v.firstChild:v.lastChild],o&&g){for(b=(d=(u=(c=(f=(p=v)[_]||(p[_]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===x&&u[1])&&u[2],p=d&&v.childNodes[d];p=++d&&p&&p[y]||(b=d=0)||h.pop();)if(1===p.nodeType&&++b&&p===t){c[e]=[x,d,b];break}}else if(g&&(b=d=(u=(c=(f=(p=t)[_]||(p[_]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===x&&u[1]),!1===b)for(;(p=++d&&p&&p[y]||(b=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++b||(g&&((c=(f=p[_]||(p[_]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[x,b]),p!==t)););return(b-=i)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,t){var r,i=n.pseudos[e]||n.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[_]?i(t):i.length>1?(r=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,r){for(var n,a=i(e,t),o=a.length;o--;)e[n=P(e,a[o])]=!(r[n]=a[o])})):function(e){return i(e,0,r)}):i}},pseudos:{not:ue((function(e){var t=[],r=[],n=s(e.replace(H,"$1"));return n[_]?ue((function(e,t,r,i){for(var a,o=n(e,null,i,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))})):function(e,i,a){return t[0]=e,n(t,null,a,r),t[0]=null,!r.pop()}})),has:ue((function(e){return function(t){return se(e,t).length>0}})),contains:ue((function(e){return e=e.replace(te,re),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:ue((function(e){return q.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,re).toLowerCase(),function(t){var r;do{if(r=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ye(!1),disabled:ye(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return $.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve((function(){return[0]})),last:ve((function(e,t){return[t-1]})),eq:ve((function(e,t,r){return[r<0?r+t:r]})),even:ve((function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e})),odd:ve((function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e})),lt:ve((function(e,t,r){for(var n=r<0?r+t:r>t?t:r;--n>=0;)e.push(n);return e})),gt:ve((function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=he(t);function ge(){}function be(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function _e(e,t,r){var n=t.dir,i=t.next,a=i||n,o=r&&"parentNode"===a,s=S++;return t.first?function(t,r,i){for(;t=t[n];)if(1===t.nodeType||o)return e(t,r,i);return!1}:function(t,r,l){var u,c,f,p=[x,s];if(l){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,r,l))return!0}else for(;t=t[n];)if(1===t.nodeType||o)if(c=(f=t[_]||(t[_]={}))[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[n]||t;else{if((u=c[a])&&u[0]===x&&u[1]===s)return p[2]=u[2];if(c[a]=p,p[2]=e(t,r,l))return!0}return!1}}function we(e){return e.length>1?function(t,r,n){for(var i=e.length;i--;)if(!e[i](t,r,n))return!1;return!0}:e[0]}function xe(e,t,r,n,i){for(var a,o=[],s=0,l=e.length,u=null!=t;s<l;s++)(a=e[s])&&(r&&!r(a,n,i)||(o.push(a),u&&t.push(s)));return o}function Se(e,t,r,n,i,a){return n&&!n[_]&&(n=Se(n)),i&&!i[_]&&(i=Se(i,a)),ue((function(a,o,s,l){var u,c,f,p=[],d=[],h=o.length,y=a||function(e,t,r){for(var n=0,i=t.length;n<i;n++)se(e,t[n],r);return r}(t||"*",s.nodeType?[s]:s,[]),v=!e||!a&&t?y:xe(y,p,e,s,l),m=r?i||(a?e:h||n)?[]:o:v;if(r&&r(v,m,s,l),n)for(u=xe(m,d),n(u,[],s,l),c=u.length;c--;)(f=u[c])&&(m[d[c]]=!(v[d[c]]=f));if(a){if(i||e){if(i){for(u=[],c=m.length;c--;)(f=m[c])&&u.push(v[c]=f);i(null,m=[],u,l)}for(c=m.length;c--;)(f=m[c])&&(u=i?P(a,f):p[c])>-1&&(a[u]=!(o[u]=f))}}else m=xe(m===o?m.splice(h,m.length):m),i?i(null,o,m,l):N.apply(o,m)}))}function ke(e){for(var t,r,i,a=e.length,o=n.relative[e[0].type],s=o||n.relative[" "],l=o?1:0,c=_e((function(e){return e===t}),s,!0),f=_e((function(e){return P(t,e)>-1}),s,!0),p=[function(e,r,n){var i=!o&&(n||r!==u)||((t=r).nodeType?c(e,r,n):f(e,r,n));return t=null,i}];l<a;l++)if(r=n.relative[e[l].type])p=[_e(we(p),r)];else{if((r=n.filter[e[l].type].apply(null,e[l].matches))[_]){for(i=++l;i<a&&!n.relative[e[i].type];i++);return Se(l>1&&we(p),l>1&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(H,"$1"),r,l<i&&ke(e.slice(l,i)),i<a&&ke(e=e.slice(i)),i<a&&be(e))}p.push(r)}return we(p)}return ge.prototype=n.filters=n.pseudos,n.setFilters=new ge,o=se.tokenize=function(e,t){var r,i,a,o,s,l,u,c=T[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=n.preFilter;s;){for(o in r&&!(i=z.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(a=[])),r=!1,(i=W.exec(s))&&(r=i.shift(),a.push({value:r,type:i[0].replace(H," ")}),s=s.slice(r.length)),n.filter)!(i=X[o].exec(s))||u[o]&&!(i=u[o](i))||(r=i.shift(),a.push({value:r,type:o,matches:i}),s=s.slice(r.length));if(!r)break}return t?s.length:s?se.error(e):T(e,l).slice(0)},s=se.compile=function(e,t){var r,i=[],a=[],s=E[e+" "];if(!s){for(t||(t=o(e)),r=t.length;r--;)(s=ke(t[r]))[_]?i.push(s):a.push(s);s=E(e,function(e,t){var r=t.length>0,i=e.length>0,a=function(a,o,s,l,c){var f,h,v,m=0,g="0",b=a&&[],_=[],w=u,S=a||i&&n.find.TAG("*",c),k=x+=null==w?1:Math.random()||.1,T=S.length;for(c&&(u=o==d||o||c);g!==T&&null!=(f=S[g]);g++){if(i&&f){for(h=0,o||f.ownerDocument==d||(p(f),s=!y);v=e[h++];)if(v(f,o||d,s)){l.push(f);break}c&&(x=k)}r&&((f=!v&&f)&&m--,a&&b.push(f))}if(m+=g,r&&g!==m){for(h=0;v=t[h++];)v(b,_,o,s);if(a){if(m>0)for(;g--;)b[g]||_[g]||(_[g]=A.call(l));_=xe(_)}N.apply(l,_),c&&!a&&_.length>0&&m+t.length>1&&se.uniqueSort(l)}return c&&(x=k,u=w),b};return r?ue(a):a}(a,i)),s.selector=e}return s},l=se.select=function(e,t,r,i){var a,l,u,c,f,p="function"==typeof e&&e,d=!i&&o(e=p.selector||e);if(r=r||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&y&&n.relative[l[1].type]){if(!(t=(n.find.ID(u.matches[0].replace(te,re),t)||[])[0]))return r;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(a=X.needsContext.test(e)?0:l.length;a--&&(u=l[a],!n.relative[c=u.type]);)if((f=n.find[c])&&(i=f(u.matches[0].replace(te,re),ee.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(a,1),!(e=i.length&&be(l)))return N.apply(r,i),r;break}}return(p||s(e,d))(i,t,!y,r,!t||ee.test(e)&&me(t.parentNode)||t),r},r.sortStable=_.split("").sort(C).join("")===_,r.detectDuplicates=!!f,p(),r.sortDetached=ce((function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))})),ce((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||fe("type|href|height|width",(function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),r.attributes&&ce((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||fe("value",(function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ce((function(e){return null==e.getAttribute("disabled")}))||fe(F,(function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null})),se}(e);x.find=k,x.expr=k.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=k.uniqueSort,x.text=k.getText,x.isXMLDoc=k.isXML,x.contains=k.contains,x.escapeSelector=k.escape;var T=function(e,t,r){for(var n=[],i=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&x(e).is(r))break;n.push(e)}return n},E=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},I=x.expr.match.needsContext;function C(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(e,t,r){return y(t)?x.grep(e,(function(e,n){return!!t.call(e,n,e)!==r})):t.nodeType?x.grep(e,(function(e){return e===t!==r})):"string"!=typeof t?x.grep(e,(function(e){return l.call(t,e)>-1!==r})):x.filter(t,e,r)}x.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?x.find.matchesSelector(n,e)?[n]:[]:x.find.matches(e,x.grep(t,(function(e){return 1===e.nodeType})))},x.fn.extend({find:function(e){var t,r,n=this.length,i=this;if("string"!=typeof e)return this.pushStack(x(e).filter((function(){for(t=0;t<n;t++)if(x.contains(i[t],this))return!0})));for(r=this.pushStack([]),t=0;t<n;t++)x.find(e,i[t],r);return n>1?x.uniqueSort(r):r},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,"string"==typeof e&&I.test(e)?x(e):e||[],!1).length}});var A,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(e,t,r){var n,i;if(!e)return this;if(r=r||A,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:M.exec(e))||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:m,!0)),O.test(n[1])&&x.isPlainObject(t))for(n in t)y(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=m.getElementById(n[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==r.ready?r.ready(e):e(x):x.makeArray(e,this)}).prototype=x.fn,A=x(m);var N=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}x.fn.extend({has:function(e){var t=x(e,this),r=t.length;return this.filter((function(){for(var e=0;e<r;e++)if(x.contains(this,t[e]))return!0}))},closest:function(e,t){var r,n=0,i=this.length,a=[],o="string"!=typeof e&&x(e);if(!I.test(e))for(;n<i;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(o?o.index(r)>-1:1===r.nodeType&&x.find.matchesSelector(r,e))){a.push(r);break}return this.pushStack(a.length>1?x.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?l.call(x(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,r){return T(e,"parentNode",r)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,r){return T(e,"nextSibling",r)},prevUntil:function(e,t,r){return T(e,"previousSibling",r)},siblings:function(e){return E((e.parentNode||{}).firstChild,e)},children:function(e){return E(e.firstChild)},contents:function(e){return null!=e.contentDocument&&i(e.contentDocument)?e.contentDocument:(C(e,"template")&&(e=e.content||e),x.merge([],e.childNodes))}},(function(e,t){x.fn[e]=function(r,n){var i=x.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=x.filter(n,i)),this.length>1&&(R[e]||x.uniqueSort(i),N.test(e)&&i.reverse()),this.pushStack(i)}}));var F=/[^\x20\t\r\n\f]+/g;function j(e){return e}function D(e){throw e}function U(e,t,r,n){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(r):e&&y(i=e.then)?i.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}x.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return x.each(e.match(F)||[],(function(e,r){t[r]=!0})),t}(e):x.extend({},e);var t,r,n,i,a=[],o=[],s=-1,l=function(){for(i=i||e.once,n=t=!0;o.length;s=-1)for(r=o.shift();++s<a.length;)!1===a[s].apply(r[0],r[1])&&e.stopOnFalse&&(s=a.length,r=!1);e.memory||(r=!1),t=!1,i&&(a=r?[]:"")},u={add:function(){return a&&(r&&!t&&(s=a.length-1,o.push(r)),function t(r){x.each(r,(function(r,n){y(n)?e.unique&&u.has(n)||a.push(n):n&&n.length&&"string"!==_(n)&&t(n)}))}(arguments),r&&!t&&l()),this},remove:function(){return x.each(arguments,(function(e,t){for(var r;(r=x.inArray(t,a,r))>-1;)a.splice(r,1),r<=s&&s--})),this},has:function(e){return e?x.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=o=[],a=r="",this},disabled:function(){return!a},lock:function(){return i=o=[],r||t||(a=r=""),this},locked:function(){return!!i},fireWith:function(e,r){return i||(r=[e,(r=r||[]).slice?r.slice():r],o.push(r),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},x.extend({Deferred:function(t){var r=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return x.Deferred((function(t){x.each(r,(function(r,n){var i=y(e[n[4]])&&e[n[4]];a[n[1]]((function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(t,n,i){var a=0;function o(t,r,n,i){return function(){var s=this,l=arguments,u=function(){var e,u;if(!(t<a)){if((e=n.apply(s,l))===r.promise())throw new TypeError("Thenable self-resolution");u=e&&("object"==typeof e||"function"==typeof e)&&e.then,y(u)?i?u.call(e,o(a,r,j,i),o(a,r,D,i)):(a++,u.call(e,o(a,r,j,i),o(a,r,D,i),o(a,r,j,r.notifyWith))):(n!==j&&(s=void 0,l=[e]),(i||r.resolveWith)(s,l))}},c=i?u:function(){try{u()}catch(e){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(e,c.stackTrace),t+1>=a&&(n!==D&&(s=void 0,l=[e]),r.rejectWith(s,l))}};t?c():(x.Deferred.getStackHook&&(c.stackTrace=x.Deferred.getStackHook()),e.setTimeout(c))}}return x.Deferred((function(e){r[0][3].add(o(0,e,y(i)?i:j,e.notifyWith)),r[1][3].add(o(0,e,y(t)?t:j)),r[2][3].add(o(0,e,y(n)?n:D))})).promise()},promise:function(e){return null!=e?x.extend(e,i):i}},a={};return x.each(r,(function(e,t){var o=t[2],s=t[5];i[t[1]]=o.add,s&&o.add((function(){n=s}),r[3-e][2].disable,r[3-e][3].disable,r[0][2].lock,r[0][3].lock),o.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=o.fireWith})),i.promise(a),t&&t.call(a,a),a},when:function(e){var t=arguments.length,r=t,n=Array(r),i=a.call(arguments),o=x.Deferred(),s=function(e){return function(r){n[e]=this,i[e]=arguments.length>1?a.call(arguments):r,--t||o.resolveWith(n,i)}};if(t<=1&&(U(e,o.done(s(r)).resolve,o.reject,!t),"pending"===o.state()||y(i[r]&&i[r].then)))return o.then();for(;r--;)U(i[r],s(r),o.reject);return o.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(t,r){e.console&&e.console.warn&&t&&V.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,r)},x.readyException=function(t){e.setTimeout((function(){throw t}))};var B=x.Deferred();function H(){m.removeEventListener("DOMContentLoaded",H),e.removeEventListener("load",H),x.ready()}x.fn.ready=function(e){return B.then(e).catch((function(e){x.readyException(e)})),this},x.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==e&&--x.readyWait>0||B.resolveWith(m,[x]))}}),x.ready.then=B.then,"complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll?e.setTimeout(x.ready):(m.addEventListener("DOMContentLoaded",H),e.addEventListener("load",H));var z=function(e,t,r,n,i,a,o){var s=0,l=e.length,u=null==r;if("object"===_(r))for(s in i=!0,r)z(e,t,s,r[s],!0,a,o);else if(void 0!==n&&(i=!0,y(n)||(o=!0),u&&(o?(t.call(e,n),t=null):(u=t,t=function(e,t,r){return u.call(x(e),r)})),t))for(;s<l;s++)t(e[s],r,o?n:n.call(e[s],s,t(e[s],r)));return i?e:u?t.call(e):l?t(e[0],r):a},W=/^-ms-/,G=/-([a-z])/g;function J(e,t){return t.toUpperCase()}function q(e){return e.replace(W,"ms-").replace(G,J)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function K(){this.expando=x.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,i=this.cache(e);if("string"==typeof t)i[q(t)]=r;else for(n in t)i[q(n)]=t[n];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][q(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){r=(t=Array.isArray(t)?t.map(q):(t=q(t))in n?[t]:t.match(F)||[]).length;for(;r--;)delete n[t[r]]}(void 0===t||x.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!x.isEmptyObject(t)}};var $=new K,Y=new K,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function ee(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}(r)}catch(e){}Y.set(e,t,r)}else r=void 0;return r}x.extend({hasData:function(e){return Y.hasData(e)||$.hasData(e)},data:function(e,t,r){return Y.access(e,t,r)},removeData:function(e,t){Y.remove(e,t)},_data:function(e,t,r){return $.access(e,t,r)},_removeData:function(e,t){$.remove(e,t)}}),x.fn.extend({data:function(e,t){var r,n,i,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(i=Y.get(a),1===a.nodeType&&!$.get(a,"hasDataAttrs"))){for(r=o.length;r--;)o[r]&&0===(n=o[r].name).indexOf("data-")&&(n=q(n.slice(5)),ee(a,n,i[n]));$.set(a,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){Y.set(this,e)})):z(this,(function(t){var r;if(a&&void 0===t)return void 0!==(r=Y.get(a,e))||void 0!==(r=ee(a,e))?r:void 0;this.each((function(){Y.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Y.remove(this,e)}))}}),x.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=$.get(e,t),r&&(!n||Array.isArray(r)?n=$.access(e,t,x.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=x.queue(e,t),n=r.length,i=r.shift(),a=x._queueHooks(e,t);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete a.stop,i.call(e,(function(){x.dequeue(e,t)}),a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return $.get(e,r)||$.access(e,r,{empty:x.Callbacks("once memory").add((function(){$.remove(e,[t+"queue",r])}))})}}),x.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?x.queue(this[0],e):void 0===t?this:this.each((function(){var r=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&x.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){x.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,i=x.Deferred(),a=this,o=this.length,s=function(){--n||i.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(r=$.get(a[o],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],ie=m.documentElement,ae=function(e){return x.contains(e.ownerDocument,e)},oe={composed:!0};ie.getRootNode&&(ae=function(e){return x.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===x.css(e,"display")};function le(e,t,r,n){var i,a,o=20,s=n?function(){return n.cur()}:function(){return x.css(e,t,"")},l=s(),u=r&&r[3]||(x.cssNumber[t]?"":"px"),c=e.nodeType&&(x.cssNumber[t]||"px"!==u&&+l)&&re.exec(x.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;o--;)x.style(e,t,c+u),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),c/=a;c*=2,x.style(e,t,c+u),r=r||[]}return r&&(c=+c||+l||0,i=r[1]?c+(r[1]+1)*r[2]:+r[2],n&&(n.unit=u,n.start=c,n.end=i)),i}var ue={};function ce(e){var t,r=e.ownerDocument,n=e.nodeName,i=ue[n];return i||(t=r.body.appendChild(r.createElement(n)),i=x.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ue[n]=i,i)}function fe(e,t){for(var r,n,i=[],a=0,o=e.length;a<o;a++)(n=e[a]).style&&(r=n.style.display,t?("none"===r&&(i[a]=$.get(n,"display")||null,i[a]||(n.style.display="")),""===n.style.display&&se(n)&&(i[a]=ce(n))):"none"!==r&&(i[a]="none",$.set(n,"display",r)));for(a=0;a<o;a++)null!=i[a]&&(e[a].style.display=i[a]);return e}x.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){se(this)?x(this).show():x(this).hide()}))}});var pe,de,he=/^(?:checkbox|radio)$/i,ye=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i;pe=m.createDocumentFragment().appendChild(m.createElement("div")),(de=m.createElement("input")).setAttribute("type","radio"),de.setAttribute("checked","checked"),de.setAttribute("name","t"),pe.appendChild(de),h.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",h.option=!!pe.lastChild;var me={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&C(e,t)?x.merge([e],r):r}function be(e,t){for(var r=0,n=e.length;r<n;r++)$.set(e[r],"globalEval",!t||$.get(t[r],"globalEval"))}me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,h.option||(me.optgroup=me.option=[1,"<select multiple='multiple'>","</select>"]);var _e=/<|&#?\w+;/;function we(e,t,r,n,i){for(var a,o,s,l,u,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((a=e[d])||0===a)if("object"===_(a))x.merge(p,a.nodeType?[a]:a);else if(_e.test(a)){for(o=o||f.appendChild(t.createElement("div")),s=(ye.exec(a)||["",""])[1].toLowerCase(),l=me[s]||me._default,o.innerHTML=l[1]+x.htmlPrefilter(a)+l[2],c=l[0];c--;)o=o.lastChild;x.merge(p,o.childNodes),(o=f.firstChild).textContent=""}else p.push(t.createTextNode(a));for(f.textContent="",d=0;a=p[d++];)if(n&&x.inArray(a,n)>-1)i&&i.push(a);else if(u=ae(a),o=ge(f.appendChild(a),"script"),u&&be(o),r)for(c=0;a=o[c++];)ve.test(a.type||"")&&r.push(a);return f}var xe=/^([^.]*)(?:\.(.+)|)/;function Se(){return!0}function ke(){return!1}function Te(e,t){return e===function(){try{return m.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,r,n,i,a){var o,s;if("object"==typeof t){for(s in"string"!=typeof r&&(n=n||r,r=void 0),t)Ee(e,s,r,n,t[s],a);return e}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=ke;else if(!i)return e;return 1===a&&(o=i,i=function(e){return x().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=x.guid++)),e.each((function(){x.event.add(this,t,i,n,r)}))}function Ie(e,t,r){r?($.set(e,t,!1),x.event.add(e,t,{namespace:!1,handler:function(e){var n,i,o=$.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(x.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=a.call(arguments),$.set(this,t,o),n=r(this,t),this[t](),o!==(i=$.get(this,t))||n?$.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i&&i.value}else o.length&&($.set(this,t,{value:x.event.trigger(x.extend(o[0],x.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===$.get(e,t)&&x.event.add(e,t,Se)}x.event={global:{},add:function(e,t,r,n,i){var a,o,s,l,u,c,f,p,d,h,y,v=$.get(e);if(X(e))for(r.handler&&(r=(a=r).handler,i=a.selector),i&&x.find.matchesSelector(ie,i),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events=Object.create(null)),(o=v.handle)||(o=v.handle=function(t){return void 0!==x&&x.event.triggered!==t.type?x.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(F)||[""]).length;u--;)d=y=(s=xe.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=x.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=x.event.special[d]||{},c=x.extend({type:d,origType:y,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&x.expr.match.needsContext.test(i),namespace:h.join(".")},a),(p=l[d])||((p=l[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,n,h,o)||e.addEventListener&&e.addEventListener(d,o)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),x.event.global[d]=!0)},remove:function(e,t,r,n,i){var a,o,s,l,u,c,f,p,d,h,y,v=$.hasData(e)&&$.get(e);if(v&&(l=v.events)){for(u=(t=(t||"").match(F)||[""]).length;u--;)if(d=y=(s=xe.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=x.event.special[d]||{},p=l[d=(n?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=p.length;a--;)c=p[a],!i&&y!==c.origType||r&&r.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(p.splice(a,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));o&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||x.removeEvent(e,d,v.handle),delete l[d])}else for(d in l)x.event.remove(e,d+t[u],r,n,!0);x.isEmptyObject(l)&&$.remove(e,"handle events")}},dispatch:function(e){var t,r,n,i,a,o,s=new Array(arguments.length),l=x.event.fix(e),u=($.get(this,"events")||Object.create(null))[l.type]||[],c=x.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(o=x.event.handlers.call(this,l,u),t=0;(i=o[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,r=0;(a=i.handlers[r++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(n=((x.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,s))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(e,t){var r,n,i,a,o,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(a=[],o={},r=0;r<l;r++)void 0===o[i=(n=t[r]).selector+" "]&&(o[i]=n.needsContext?x(i,this).index(u)>-1:x.find(i,this,null,[u]).length),o[i]&&a.push(n);a.length&&s.push({elem:u,handlers:a})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(x.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[x.expando]?e:new x.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return he.test(t.type)&&t.click&&C(t,"input")&&Ie(t,"click",Se),!1},trigger:function(e){var t=this||e;return he.test(t.type)&&t.click&&C(t,"input")&&Ie(t,"click"),!0},_default:function(e){var t=e.target;return he.test(t.type)&&t.click&&C(t,"input")&&$.get(t,"click")||C(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},x.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},x.Event=function(e,t){if(!(this instanceof x.Event))return new x.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Se:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Se,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Se,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Se,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},(function(e,t){x.event.special[e]={setup:function(){return Ie(this,e,Te),!1},trigger:function(){return Ie(this,e),!0},_default:function(){return!0},delegateType:t}})),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=this,i=e.relatedTarget,a=e.handleObj;return i&&(i===n||x.contains(n,i))||(e.type=a.origType,r=a.handler.apply(this,arguments),e.type=t),r}}})),x.fn.extend({on:function(e,t,r,n){return Ee(this,e,t,r,n)},one:function(e,t,r,n){return Ee(this,e,t,r,n,1)},off:function(e,t,r){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,x(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=ke),this.each((function(){x.event.remove(this,e,r,t)}))}});var Ce=/<script|<style|<link/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ae(e,t){return C(e,"table")&&C(11!==t.nodeType?t:t.firstChild,"tr")&&x(e).children("tbody")[0]||e}function Me(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ne(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Re(e,t){var r,n,i,a,o,s;if(1===t.nodeType){if($.hasData(e)&&(s=$.get(e).events))for(i in $.remove(t,"handle events"),s)for(r=0,n=s[i].length;r<n;r++)x.event.add(t,i,s[i][r]);Y.hasData(e)&&(a=Y.access(e),o=x.extend({},a),Y.set(t,o))}}function Pe(e,t,r,n){t=o(t);var i,a,s,l,u,c,f=0,p=e.length,d=p-1,v=t[0],m=y(v);if(m||p>1&&"string"==typeof v&&!h.checkClone&&Oe.test(v))return e.each((function(i){var a=e.eq(i);m&&(t[0]=v.call(this,i,a.html())),Pe(a,t,r,n)}));if(p&&(a=(i=we(t,e[0].ownerDocument,!1,e,n)).firstChild,1===i.childNodes.length&&(i=a),a||n)){for(l=(s=x.map(ge(i,"script"),Me)).length;f<p;f++)u=i,f!==d&&(u=x.clone(u,!0,!0),l&&x.merge(s,ge(u,"script"))),r.call(e[f],u,f);if(l)for(c=s[s.length-1].ownerDocument,x.map(s,Ne),f=0;f<l;f++)u=s[f],ve.test(u.type||"")&&!$.access(u,"globalEval")&&x.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?x._evalUrl&&!u.noModule&&x._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):b(u.textContent.replace(Le,""),u,c))}return e}function Fe(e,t,r){for(var n,i=t?x.filter(t,e):e,a=0;null!=(n=i[a]);a++)r||1!==n.nodeType||x.cleanData(ge(n)),n.parentNode&&(r&&ae(n)&&be(ge(n,"script")),n.parentNode.removeChild(n));return e}x.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var n,i,a,o,s,l,u,c=e.cloneNode(!0),f=ae(e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(o=ge(c),n=0,i=(a=ge(e)).length;n<i;n++)s=a[n],l=o[n],u=void 0,"input"===(u=l.nodeName.toLowerCase())&&he.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(t)if(r)for(a=a||ge(e),o=o||ge(c),n=0,i=a.length;n<i;n++)Re(a[n],o[n]);else Re(e,c);return(o=ge(c,"script")).length>0&&be(o,!f&&ge(e,"script")),c},cleanData:function(e){for(var t,r,n,i=x.event.special,a=0;void 0!==(r=e[a]);a++)if(X(r)){if(t=r[$.expando]){if(t.events)for(n in t.events)i[n]?x.event.remove(r,n):x.removeEvent(r,n,t.handle);r[$.expando]=void 0}r[Y.expando]&&(r[Y.expando]=void 0)}}}),x.fn.extend({detach:function(e){return Fe(this,e,!0)},remove:function(e){return Fe(this,e)},text:function(e){return z(this,(function(e){return void 0===e?x.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Pe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ae(this,e).appendChild(e)}))},prepend:function(){return Pe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ae(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Pe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Pe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return x.clone(this,e,t)}))},html:function(e){return z(this,(function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ce.test(e)&&!me[(ye.exec(e)||["",""])[1].toLowerCase()]){e=x.htmlPrefilter(e);try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(x.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Pe(this,arguments,(function(t){var r=this.parentNode;x.inArray(this,e)<0&&(x.cleanData(ge(this)),r&&r.replaceChild(t,this))}),e)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){x.fn[e]=function(e){for(var r,n=[],i=x(e),a=i.length-1,o=0;o<=a;o++)r=o===a?this:this.clone(!0),x(i[o])[t](r),s.apply(n,r.get());return this.pushStack(n)}}));var je=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),De=function(t){var r=t.ownerDocument.defaultView;return r&&r.opener||(r=e),r.getComputedStyle(t)},Ue=function(e,t,r){var n,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in n=r.call(e),t)e.style[i]=a[i];return n},Ve=new RegExp(ne.join("|"),"i");function Be(e,t,r){var n,i,a,o,s=e.style;return(r=r||De(e))&&(""!==(o=r.getPropertyValue(t)||r[t])||ae(e)||(o=x.style(e,t)),!h.pixelBoxStyles()&&je.test(o)&&Ve.test(t)&&(n=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=r.width,s.width=n,s.minWidth=i,s.maxWidth=a)),void 0!==o?o+"":o}function He(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(u).appendChild(c);var t=e.getComputedStyle(c);n="1%"!==t.top,l=12===r(t.marginLeft),c.style.right="60%",o=36===r(t.right),i=36===r(t.width),c.style.position="absolute",a=12===r(c.offsetWidth/3),ie.removeChild(u),c=null}}function r(e){return Math.round(parseFloat(e))}var n,i,a,o,s,l,u=m.createElement("div"),c=m.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===c.style.backgroundClip,x.extend(h,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),a},reliableTrDimensions:function(){var t,r,n,i;return null==s&&(t=m.createElement("table"),r=m.createElement("tr"),n=m.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",r.style.cssText="border:1px solid",r.style.height="1px",n.style.height="9px",n.style.display="block",ie.appendChild(t).appendChild(r).appendChild(n),i=e.getComputedStyle(r),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===r.offsetHeight,ie.removeChild(t)),s}}))}();var ze=["Webkit","Moz","ms"],We=m.createElement("div").style,Ge={};function Je(e){var t=x.cssProps[e]||Ge[e];return t||(e in We?e:Ge[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),r=ze.length;r--;)if((e=ze[r]+t)in We)return e}(e)||e)}var qe=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ke={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,r){var n=re.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function Ze(e,t,r,n,i,a){var o="width"===t?1:0,s=0,l=0;if(r===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===r&&(l+=x.css(e,r+ne[o],!0,i)),n?("content"===r&&(l-=x.css(e,"padding"+ne[o],!0,i)),"margin"!==r&&(l-=x.css(e,"border"+ne[o]+"Width",!0,i))):(l+=x.css(e,"padding"+ne[o],!0,i),"padding"!==r?l+=x.css(e,"border"+ne[o]+"Width",!0,i):s+=x.css(e,"border"+ne[o]+"Width",!0,i));return!n&&a>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-s-.5))||0),l}function Qe(e,t,r){var n=De(e),i=(!h.boxSizingReliable()||r)&&"border-box"===x.css(e,"boxSizing",!1,n),a=i,o=Be(e,t,n),s="offset"+t[0].toUpperCase()+t.slice(1);if(je.test(o)){if(!r)return o;o="auto"}return(!h.boxSizingReliable()&&i||!h.reliableTrDimensions()&&C(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===x.css(e,"display",!1,n))&&e.getClientRects().length&&(i="border-box"===x.css(e,"boxSizing",!1,n),(a=s in e)&&(o=e[s])),(o=parseFloat(o)||0)+Ze(e,t,r||(i?"border":"content"),a,n,o)+"px"}function et(e,t,r,n,i){return new et.prototype.init(e,t,r,n,i)}x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=Be(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,s,l=q(t),u=Xe.test(t),c=e.style;if(u||(t=Je(l)),s=x.cssHooks[t]||x.cssHooks[l],void 0===n)return s&&"get"in s&&void 0!==(a=s.get(e,!1,i))?a:c[t];"string"===(o=void 0===n?"undefined":r.default(n))&&(a=re.exec(n))&&a[1]&&(n=le(e,t,a),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=a&&a[3]||(x.cssNumber[l]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,r,n){var i,a,o,s=q(t);return Xe.test(t)||(t=Je(s)),(o=x.cssHooks[t]||x.cssHooks[s])&&"get"in o&&(i=o.get(e,!0,r)),void 0===i&&(i=Be(e,t,n)),"normal"===i&&t in $e&&(i=$e[t]),""===r||r?(a=parseFloat(i),!0===r||isFinite(a)?a||0:i):i}}),x.each(["height","width"],(function(e,t){x.cssHooks[t]={get:function(e,r,n){if(r)return!qe.test(x.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Qe(e,t,n):Ue(e,Ke,(function(){return Qe(e,t,n)}))},set:function(e,r,n){var i,a=De(e),o=!h.scrollboxSize()&&"absolute"===a.position,s=(o||n)&&"border-box"===x.css(e,"boxSizing",!1,a),l=n?Ze(e,t,n,s,a):0;return s&&o&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-Ze(e,t,"border",!1,a)-.5)),l&&(i=re.exec(r))&&"px"!==(i[3]||"px")&&(e.style[t]=r,r=x.css(e,t)),Ye(0,r,l)}}})),x.cssHooks.marginLeft=He(h.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),x.each({margin:"",padding:"",border:"Width"},(function(e,t){x.cssHooks[e+t]={expand:function(r){for(var n=0,i={},a="string"==typeof r?r.split(" "):[r];n<4;n++)i[e+ne[n]+t]=a[n]||a[n-2]||a[0];return i}},"margin"!==e&&(x.cssHooks[e+t].set=Ye)})),x.fn.extend({css:function(e,t){return z(this,(function(e,t,r){var n,i,a={},o=0;if(Array.isArray(t)){for(n=De(e),i=t.length;o<i;o++)a[t[o]]=x.css(e,t[o],!1,n);return a}return void 0!==r?x.style(e,t,r):x.css(e,t)}),e,t,arguments.length>1)}}),x.Tween=et,et.prototype={constructor:et,init:function(e,t,r,n,i,a){this.elem=e,this.prop=r,this.easing=i||x.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(x.cssNumber[r]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,r=et.propHooks[this.prop];return this.options.duration?this.pos=t=x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):et.propHooks._default.set(this),this}},et.prototype.init.prototype=et.prototype,et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=x.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):1!==e.elem.nodeType||!x.cssHooks[e.prop]&&null==e.elem.style[Je(e.prop)]?e.elem[e.prop]=e.now:x.style(e.elem,e.prop,e.now+e.unit)}}},et.propHooks.scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},x.fx=et.prototype.init,x.fx.step={};var tt,rt,nt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function at(){rt&&(!1===m.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,x.fx.interval),x.fx.tick())}function ot(){return e.setTimeout((function(){tt=void 0})),tt=Date.now()}function st(e,t){var r,n=0,i={height:e};for(t=t?1:0;n<4;n+=2-t)i["margin"+(r=ne[n])]=i["padding"+r]=e;return t&&(i.opacity=i.width=e),i}function lt(e,t,r){for(var n,i=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),a=0,o=i.length;a<o;a++)if(n=i[a].call(r,t,e))return n}function ut(e,t,r){var n,i,a=0,o=ut.prefilters.length,s=x.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=tt||ot(),r=Math.max(0,u.startTime+u.duration-t),n=1-(r/u.duration||0),a=0,o=u.tweens.length;a<o;a++)u.tweens[a].run(n);return s.notifyWith(e,[u,n,r]),n<1&&o?r:(o||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},r),originalProperties:t,originalOptions:r,startTime:tt||ot(),duration:r.duration,tweens:[],createTween:function(t,r){var n=x.Tween(e,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var r=0,n=t?u.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)u.tweens[r].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(!function(e,t){var r,n,i,a,o;for(r in e)if(i=t[n=q(r)],a=e[r],Array.isArray(a)&&(i=a[1],a=e[r]=a[0]),r!==n&&(e[n]=a,delete e[r]),(o=x.cssHooks[n])&&"expand"in o)for(r in a=o.expand(a),delete e[n],a)r in e||(e[r]=a[r],t[r]=i);else t[n]=i}(c,u.opts.specialEasing);a<o;a++)if(n=ut.prefilters[a].call(u,e,c,u.opts))return y(n.stop)&&(x._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return x.map(c,lt,u),y(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}x.Animation=x.extend(ut,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return le(r.elem,e,re.exec(t),r),r}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(F);for(var r,n=0,i=e.length;n<i;n++)r=e[n],ut.tweeners[r]=ut.tweeners[r]||[],ut.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var n,i,a,o,s,l,u,c,f=function(t){l||(m?"hidden"in m&&(v=m.hidden):m=$.access(e,"fxshow",{display:u}),a&&(m.hidden=!v),v&&fe([e],!0),d.done((function(){for(t in v||fe([e]),$.remove(e,"fxshow"),h)x.style(e,t,h[t])}))),l=lt(v?m[t]:0,t,d),t in m||(m[t]=l.start,v&&(l.end=l.start,l.start=0))},p="width"in t||"height"in t,d=this,h={},y=e.style,v=e.nodeType&&se(e),m=$.get(e,"fxshow");for(n in r.queue||(null==(o=x._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,d.always((function(){d.always((function(){o.unqueued--,x.queue(e,"fx").length||o.empty.fire()}))}))),t)if(i=t[n],nt.test(i)){if(delete t[n],a=a||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!m||void 0===m[n])continue;v=!0}h[n]=m&&m[n]||x.style(e,n)}if((l=!x.isEmptyObject(t))||!x.isEmptyObject(h))for(n in p&&1===e.nodeType&&(r.overflow=[y.overflow,y.overflowX,y.overflowY],null==(u=m&&m.display)&&(u=$.get(e,"display")),"none"===(c=x.css(e,"display"))&&(u?c=u:(fe([e],!0),u=e.style.display||u,c=x.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===x.css(e,"float")&&(l||(d.done((function(){y.display=u})),null==u&&(c=y.display,u="none"===c?"":c)),y.display="inline-block")),r.overflow&&(y.overflow="hidden",d.always((function(){y.overflow=r.overflow[0],y.overflowX=r.overflow[1],y.overflowY=r.overflow[2]}))),l=!1,h)f(n)}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),x.speed=function(e,t,r){var n=e&&"object"==typeof e?x.extend({},e):{complete:r||!r&&t||y(e)&&e,duration:e,easing:r&&t||t&&!y(t)&&t};return x.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in x.fx.speeds?n.duration=x.fx.speeds[n.duration]:n.duration=x.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){y(n.old)&&n.old.call(this),n.queue&&x.dequeue(this,n.queue)},n},x.fn.extend({fadeTo:function(e,t,r,n){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var i=x.isEmptyObject(e),a=x.speed(t,r,n),o=function(){var t=ut(this,x.extend({},e),a);(i||$.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",a=x.timers,o=$.get(this);if(i)o[i]&&o[i].stop&&n(o[i]);else for(i in o)o[i]&&o[i].stop&&it.test(i)&&n(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(a[i].anim.stop(r),t=!1,a.splice(i,1));!t&&r||x.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,r=$.get(this),n=r[e+"queue"],i=r[e+"queueHooks"],a=x.timers,o=n?n.length:0;for(r.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish}))}}),x.each(["toggle","show","hide"],(function(e,t){var r=x.fn[t];x.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(st(t,!0),e,n,i)}})),x.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){x.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}})),x.timers=[],x.fx.tick=function(){var e,t=0,r=x.timers;for(tt=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||x.fx.stop(),tt=void 0},x.fx.timer=function(e){x.timers.push(e),x.fx.start()},x.fx.interval=13,x.fx.start=function(){rt||(rt=!0,at())},x.fx.stop=function(){rt=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(t,r){return t=x.fx&&x.fx.speeds[t]||t,r=r||"fx",this.queue(r,(function(r,n){var i=e.setTimeout(r,t);n.stop=function(){e.clearTimeout(i)}}))},function(){var e=m.createElement("input"),t=m.createElement("select").appendChild(m.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=m.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var ct,ft=x.expr.attrHandle;x.fn.extend({attr:function(e,t){return z(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){x.removeAttr(this,e)}))}}),x.extend({attr:function(e,t,r){var n,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?x.prop(e,t,r):(1===a&&x.isXMLDoc(e)||(i=x.attrHooks[t.toLowerCase()]||(x.expr.match.bool.test(t)?ct:void 0)),void 0!==r?null===r?void x.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:(e.setAttribute(t,r+""),r):i&&"get"in i&&null!==(n=i.get(e,t))?n:null==(n=x.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&C(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,i=t&&t.match(F);if(i&&1===e.nodeType)for(;r=i[n++];)e.removeAttribute(r)}}),ct={set:function(e,t,r){return!1===t?x.removeAttr(e,r):e.setAttribute(r,r),r}},x.each(x.expr.match.bool.source.match(/\w+/g),(function(e,t){var r=ft[t]||x.find.attr;ft[t]=function(e,t,n){var i,a,o=t.toLowerCase();return n||(a=ft[o],ft[o]=i,i=null!=r(e,t,n)?o:null,ft[o]=a),i}}));var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(F)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(F)||[]}x.fn.extend({prop:function(e,t){return z(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[x.propFix[e]||e]}))}}),x.extend({prop:function(e,t,r){var n,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&x.isXMLDoc(e)||(t=x.propFix[t]||t,i=x.propHooks[t]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){x.propFix[this.toLowerCase()]=this})),x.fn.extend({addClass:function(e){var t,r,n,i,a,o,s,l=0;if(y(e))return this.each((function(t){x(this).addClass(e.call(this,t,yt(this)))}));if((t=vt(e)).length)for(;r=this[l++];)if(i=yt(r),n=1===r.nodeType&&" "+ht(i)+" "){for(o=0;a=t[o++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");i!==(s=ht(n))&&r.setAttribute("class",s)}return this},removeClass:function(e){var t,r,n,i,a,o,s,l=0;if(y(e))return this.each((function(t){x(this).removeClass(e.call(this,t,yt(this)))}));if(!arguments.length)return this.attr("class","");if((t=vt(e)).length)for(;r=this[l++];)if(i=yt(r),n=1===r.nodeType&&" "+ht(i)+" "){for(o=0;a=t[o++];)for(;n.indexOf(" "+a+" ")>-1;)n=n.replace(" "+a+" "," ");i!==(s=ht(n))&&r.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=void 0===e?"undefined":r.default(e),i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):y(e)?this.each((function(r){x(this).toggleClass(e.call(this,r,yt(this),t),t)})):this.each((function(){var t,r,a,o;if(i)for(r=0,a=x(this),o=vt(e);t=o[r++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==n||((t=yt(this))&&$.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":$.get(this,"__className__")||""))}))},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&(" "+ht(yt(r))+" ").indexOf(t)>-1)return!0;return!1}});var mt=/\r/g;x.fn.extend({val:function(e){var t,r,n,i=this[0];return arguments.length?(n=y(e),this.each((function(r){var i;1===this.nodeType&&(null==(i=n?e.call(this,r,x(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=x.map(i,(function(e){return null==e?"":e+""}))),(t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=x.valHooks[i.type]||x.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(i,"value"))?r:"string"==typeof(r=i.value)?r.replace(mt,""):null==r?"":r:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:ht(x.text(e))}},select:{get:function(e){var t,r,n,i=e.options,a=e.selectedIndex,o="select-one"===e.type,s=o?null:[],l=o?a+1:i.length;for(n=a<0?l:o?a:0;n<l;n++)if(((r=i[n]).selected||n===a)&&!r.disabled&&(!r.parentNode.disabled||!C(r.parentNode,"optgroup"))){if(t=x(r).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var r,n,i=e.options,a=x.makeArray(t),o=i.length;o--;)((n=i[o]).selected=x.inArray(x.valHooks.option.get(n),a)>-1)&&(r=!0);return r||(e.selectedIndex=-1),a}}}}),x.each(["radio","checkbox"],(function(){x.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=x.inArray(x(e).val(),t)>-1}},h.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),h.focusin="onfocusin"in e;var gt=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};x.extend(x.event,{trigger:function(t,r,n,i){var a,o,s,l,u,c,p,d,h=[n||m],g=f.call(t,"type")?t.type:t,b=f.call(t,"namespace")?t.namespace.split("."):[];if(o=d=s=n=n||m,3!==n.nodeType&&8!==n.nodeType&&!gt.test(g+x.event.triggered)&&(g.indexOf(".")>-1&&(b=g.split("."),g=b.shift(),b.sort()),u=g.indexOf(":")<0&&"on"+g,(t=t[x.expando]?t:new x.Event(g,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),r=null==r?[t]:x.makeArray(r,[t]),p=x.event.special[g]||{},i||!p.trigger||!1!==p.trigger.apply(n,r))){if(!i&&!p.noBubble&&!v(n)){for(l=p.delegateType||g,gt.test(l+g)||(o=o.parentNode);o;o=o.parentNode)h.push(o),s=o;s===(n.ownerDocument||m)&&h.push(s.defaultView||s.parentWindow||e)}for(a=0;(o=h[a++])&&!t.isPropagationStopped();)d=o,t.type=a>1?l:p.bindType||g,(c=($.get(o,"events")||Object.create(null))[t.type]&&$.get(o,"handle"))&&c.apply(o,r),(c=u&&o[u])&&c.apply&&X(o)&&(t.result=c.apply(o,r),!1===t.result&&t.preventDefault());return t.type=g,i||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(h.pop(),r)||!X(n)||u&&y(n[g])&&!v(n)&&((s=n[u])&&(n[u]=null),x.event.triggered=g,t.isPropagationStopped()&&d.addEventListener(g,bt),n[g](),t.isPropagationStopped()&&d.removeEventListener(g,bt),x.event.triggered=void 0,s&&(n[u]=s)),t.result}},simulate:function(e,t,r){var n=x.extend(new x.Event,r,{type:e,isSimulated:!0});x.event.trigger(n,null,t)}}),x.fn.extend({trigger:function(e,t){return this.each((function(){x.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var r=this[0];if(r)return x.event.trigger(e,t,r,!0)}}),h.focusin||x.each({focus:"focusin",blur:"focusout"},(function(e,t){var r=function(e){x.event.simulate(t,e.target,x.event.fix(e))};x.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,i=$.access(n,t);i||n.addEventListener(e,r,!0),$.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,i=$.access(n,t)-1;i?$.access(n,t,i):(n.removeEventListener(e,r,!0),$.remove(n,t))}}}));var _t=e.location,wt={guid:Date.now()},xt=/\?/;x.parseXML=function(t){var r,n;if(!t||"string"!=typeof t)return null;try{r=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){}return n=r&&r.getElementsByTagName("parsererror")[0],r&&!n||x.error("Invalid XML: "+(n?x.map(n.childNodes,(function(e){return e.textContent})).join("\n"):t)),r};var St=/\[\]$/,kt=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;function It(e,t,r,n){var i;if(Array.isArray(t))x.each(t,(function(t,i){r||St.test(e)?n(e,i):It(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,n)}));else if(r||"object"!==_(t))n(e,t);else for(i in t)It(e+"["+i+"]",t[i],r,n)}x.param=function(e,t){var r,n=[],i=function(e,t){var r=y(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,(function(){i(this.name,this.value)}));else for(r in e)It(r,e[r],t,i);return n.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&Et.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!he.test(e))})).map((function(e,t){var r=x(this).val();return null==r?null:Array.isArray(r)?x.map(r,(function(e){return{name:t.name,value:e.replace(kt,"\r\n")}})):{name:t.name,value:r.replace(kt,"\r\n")}})).get()}});var Ct=/%20/g,Ot=/#.*$/,Lt=/([?&])_=[^&]*/,At=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:GET|HEAD)$/,Nt=/^\/\//,Rt={},Pt={},Ft="*/".concat("*"),jt=m.createElement("a");function Dt(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,i=0,a=t.toLowerCase().match(F)||[];if(y(r))for(;n=a[i++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function Ut(e,t,r,n){var i={},a=e===Pt;function o(s){var l;return i[s]=!0,x.each(e[s]||[],(function(e,s){var u=s(t,r,n);return"string"!=typeof u||a||i[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)})),l}return o(t.dataTypes[0])||!i["*"]&&o("*")}function Vt(e,t){var r,n,i=x.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&x.extend(!0,e,n),e}jt.href=_t.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Vt(Vt(e,x.ajaxSettings),t):Vt(x.ajaxSettings,e)},ajaxPrefilter:Dt(Rt),ajaxTransport:Dt(Pt),ajax:function(t,r){"object"==typeof t&&(r=t,t=void 0),r=r||{};var n,i,a,o,s,l,u,c,f,p,d=x.ajaxSetup({},r),h=d.context||d,y=d.context&&(h.nodeType||h.jquery)?x(h):x.event,v=x.Deferred(),g=x.Callbacks("once memory"),b=d.statusCode||{},_={},w={},S="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(u){if(!o)for(o={};t=At.exec(a);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(e,t){return null==u&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==u&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)k.always(e[k.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||S;return n&&n.abort(t),T(0,t),this}};if(v.promise(k),d.url=((t||d.url||_t.href)+"").replace(Nt,_t.protocol+"//"),d.type=r.method||r.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(F)||[""],null==d.crossDomain){l=m.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=jt.protocol+"//"+jt.host!=l.protocol+"//"+l.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=x.param(d.data,d.traditional)),Ut(Rt,d,r,k),u)return k;for(f in(c=x.event&&d.global)&&0==x.active++&&x.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Mt.test(d.type),i=d.url.replace(Ot,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ct,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(xt.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(Lt,"$1"),p=(xt.test(i)?"&":"?")+"_="+wt.guid+++p),d.url=i+p),d.ifModified&&(x.lastModified[i]&&k.setRequestHeader("If-Modified-Since",x.lastModified[i]),x.etag[i]&&k.setRequestHeader("If-None-Match",x.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||r.contentType)&&k.setRequestHeader("Content-Type",d.contentType),k.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ft+"; q=0.01":""):d.accepts["*"]),d.headers)k.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(h,k,d)||u))return k.abort();if(S="abort",g.add(d.complete),k.done(d.success),k.fail(d.error),n=Ut(Pt,d,r,k)){if(k.readyState=1,c&&y.trigger("ajaxSend",[k,d]),u)return k;d.async&&d.timeout>0&&(s=e.setTimeout((function(){k.abort("timeout")}),d.timeout));try{u=!1,n.send(_,T)}catch(e){if(u)throw e;T(-1,e)}}else T(-1,"No Transport");function T(t,r,o,l){var f,p,m,_,w,S=r;u||(u=!0,s&&e.clearTimeout(s),n=void 0,a=l||"",k.readyState=t>0?4:0,f=t>=200&&t<300||304===t,o&&(_=function(e,t,r){for(var n,i,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in s)if(s[i]&&s[i].test(n)){l.unshift(i);break}if(l[0]in r)a=l[0];else{for(i in r){if(!l[0]||e.converters[i+" "+l[0]]){a=i;break}o||(o=i)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),r[a]}(d,k,o)),!f&&x.inArray("script",d.dataTypes)>-1&&x.inArray("json",d.dataTypes)<0&&(d.converters["text script"]=function(){}),_=function(e,t,r,n){var i,a,o,s,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(a=c.shift();a;)if(e.responseFields[a]&&(r[e.responseFields[a]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=u[l+" "+a]||u["* "+a]))for(i in u)if((s=i.split(" "))[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[i]:!0!==u[i]&&(a=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(d,_,k,f),f?(d.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(x.lastModified[i]=w),(w=k.getResponseHeader("etag"))&&(x.etag[i]=w)),204===t||"HEAD"===d.type?S="nocontent":304===t?S="notmodified":(S=_.state,p=_.data,f=!(m=_.error))):(m=S,!t&&S||(S="error",t<0&&(t=0))),k.status=t,k.statusText=(r||S)+"",f?v.resolveWith(h,[p,S,k]):v.rejectWith(h,[k,S,m]),k.statusCode(b),b=void 0,c&&y.trigger(f?"ajaxSuccess":"ajaxError",[k,d,f?p:m]),g.fireWith(h,[k,S]),c&&(y.trigger("ajaxComplete",[k,d]),--x.active||x.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,r){return x.get(e,t,r,"json")},getScript:function(e,t){return x.get(e,void 0,t,"script")}}),x.each(["get","post"],(function(e,t){x[t]=function(e,r,n,i){return y(r)&&(i=i||n,n=r,r=void 0),x.ajax(x.extend({url:e,type:t,dataType:i,data:r,success:n},x.isPlainObject(e)&&e))}})),x.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),x._evalUrl=function(e,t,r){return x.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){x.globalEval(e,t,r)}})},x.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){x(this).wrapInner(e.call(this,t))})):this.each((function(){var t=x(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(r){x(this).wrapAll(t?e.call(this,r):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){x(this).replaceWith(this.childNodes)})),this}}),x.expr.pseudos.hidden=function(e){return!x.expr.pseudos.visible(e)},x.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},Ht=x.ajaxSettings.xhr();h.cors=!!Ht&&"withCredentials"in Ht,h.ajax=Ht=!!Ht,x.ajaxTransport((function(t){var r,n;if(h.cors||Ht&&!t.crossDomain)return{send:function(i,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(o,i[o]);r=function(e){return function(){r&&(r=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Bt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=r(),n=s.onerror=s.ontimeout=r("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){r&&n()}))},r=r("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(r)throw e}},abort:function(){r&&r()}}})),x.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),x.ajaxTransport("script",(function(e){var t,r;if(e.crossDomain||e.scriptAttrs)return{send:function(n,i){t=x("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&i("error"===e.type?404:200,e.type)}),m.head.appendChild(t[0])},abort:function(){r&&r()}}}));var zt,Wt=[],Gt=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||x.expando+"_"+wt.guid++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",(function(t,r,n){var i,a,o,s=!1!==t.jsonp&&(Gt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Gt,"$1"+i):!1!==t.jsonp&&(t.url+=(xt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||x.error(i+" was not called"),o[0]},t.dataTypes[0]="json",a=e[i],e[i]=function(){o=arguments},n.always((function(){void 0===a?x(e).removeProp(i):e[i]=a,t[i]&&(t.jsonpCallback=r.jsonpCallback,Wt.push(i)),o&&y(a)&&a(o[0]),o=a=void 0})),"script"})),h.createHTMLDocument=((zt=m.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===zt.childNodes.length),x.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(h.createHTMLDocument?((n=(t=m.implementation.createHTMLDocument("")).createElement("base")).href=m.location.href,t.head.appendChild(n)):t=m),a=!r&&[],(i=O.exec(e))?[t.createElement(i[1])]:(i=we([e],t,a),a&&a.length&&x(a).remove(),x.merge([],i.childNodes)));var n,i,a},x.fn.load=function(e,t,r){var n,i,a,o=this,s=e.indexOf(" ");return s>-1&&(n=ht(e.slice(s)),e=e.slice(0,s)),y(t)?(r=t,t=void 0):t&&"object"==typeof t&&(i="POST"),o.length>0&&x.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){a=arguments,o.html(n?x("<div>").append(x.parseHTML(e)).find(n):e)})).always(r&&function(e,t){o.each((function(){r.apply(this,a||[e.responseText,t,e])}))}),this},x.expr.pseudos.animated=function(e){return x.grep(x.timers,(function(t){return e===t.elem})).length},x.offset={setOffset:function(e,t,r){var n,i,a,o,s,l,u=x.css(e,"position"),c=x(e),f={};"static"===u&&(e.style.position="relative"),s=c.offset(),a=x.css(e,"top"),l=x.css(e,"left"),("absolute"===u||"fixed"===u)&&(a+l).indexOf("auto")>-1?(o=(n=c.position()).top,i=n.left):(o=parseFloat(a)||0,i=parseFloat(l)||0),y(t)&&(t=t.call(e,r,x.extend({},s))),null!=t.top&&(f.top=t.top-s.top+o),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},x.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){x.offset.setOffset(this,e,t)}));var t,r,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,n=this[0],i={top:0,left:0};if("fixed"===x.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===x.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((i=x(e).offset()).top+=x.css(e,"borderTopWidth",!0),i.left+=x.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-x.css(n,"marginTop",!0),left:t.left-i.left-x.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===x.css(e,"position");)e=e.offsetParent;return e||ie}))}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var r="pageYOffset"===t;x.fn[e]=function(n){return z(this,(function(e,n,i){var a;if(v(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===i)return a?a[t]:e[n];a?a.scrollTo(r?a.pageXOffset:i,r?i:a.pageYOffset):e[n]=i}),e,n,arguments.length)}})),x.each(["top","left"],(function(e,t){x.cssHooks[t]=He(h.pixelPosition,(function(e,r){if(r)return r=Be(e,t),je.test(r)?x(e).position()[t]+"px":r}))})),x.each({Height:"height",Width:"width"},(function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},(function(r,n){x.fn[n]=function(i,a){var o=arguments.length&&(r||"boolean"!=typeof i),s=r||(!0===i||!0===a?"margin":"border");return z(this,(function(t,r,i){var a;return v(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?x.css(t,r,s):x.style(t,r,i,s)}),t,o?i:void 0,o)}}))})),x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){x.fn[t]=function(e){return this.on(t,e)}})),x.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){x.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}));var Jt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;x.proxy=function(e,t){var r,n,i;if("string"==typeof t&&(r=e[t],t=e,e=r),y(e))return n=a.call(arguments,2),i=function(){return e.apply(t||this,n.concat(a.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i},x.holdReady=function(e){e?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=C,x.isFunction=y,x.isWindow=v,x.camelCase=q,x.type=_,x.now=Date.now,x.isNumeric=function(e){var t=x.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},x.trim=function(e){return null==e?"":(e+"").replace(Jt,"")},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return x}));var qt=e.jQuery,Xt=e.$;return x.noConflict=function(t){return e.$===x&&(e.$=Xt),t&&e.jQuery===x&&(e.jQuery=qt),x},void 0===t&&(e.jQuery=e.$=x),x}))})),s.register("gDcFo",(function(n,i){r(n.exports),e(n.exports,"default",(function(){return fe}));
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var a="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,o=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(a&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var s=a&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),o))}};function l(e){return e&&"[object Function]"==={}.toString.call(e)}function u(e,t){if(1!==e.nodeType)return[];var r=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?r[t]:r}function c(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function f(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=u(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(r+i+n)?e:f(c(e))}function p(e){return e&&e.referenceNode?e.referenceNode:e}var d=a&&!(!window.MSInputMethodContext||!document.documentMode),h=a&&/MSIE 10/.test(navigator.userAgent);function y(e){return 11===e?d:10===e?h:d||h}function v(e){if(!e)return document.documentElement;for(var t=y(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var n=r&&r.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===u(r,"position")?v(r):r:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function g(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,i=r?t:e,a=document.createRange();a.setStart(n,0),a.setEnd(i,0);var o,s,l=a.commonAncestorContainer;if(e!==l&&t!==l||n.contains(i))return"BODY"===(s=(o=l).nodeName)||"HTML"!==s&&v(o.firstElementChild)!==o?v(l):l;var u=m(e);return u.host?g(u.host,t):g(e,m(t).host)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",r="top"===t?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[r]}return e[r]}function _(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=b(t,"top"),i=b(t,"left"),a=r?-1:1;return e.top+=n*a,e.bottom+=n*a,e.left+=i*a,e.right+=i*a,e}function w(e,t){var r="x"===t?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+n+"Width"])}function x(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],y(10)?parseInt(r["offset"+e])+parseInt(n["margin"+("Height"===e?"Top":"Left")])+parseInt(n["margin"+("Height"===e?"Bottom":"Right")]):0)}function S(e){var t=e.body,r=e.documentElement,n=y(10)&&getComputedStyle(r);return{height:x("Height",t,r,n),width:x("Width",t,r,n)}}var k=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},T=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),E=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function C(e){return I({},e,{right:e.left+e.width,bottom:e.top+e.height})}function O(e){var t={};try{if(y(10)){t=e.getBoundingClientRect();var r=b(e,"top"),n=b(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}else t=e.getBoundingClientRect()}catch(e){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?S(e.ownerDocument):{},o=a.width||e.clientWidth||i.width,s=a.height||e.clientHeight||i.height,l=e.offsetWidth-o,c=e.offsetHeight-s;if(l||c){var f=u(e);l-=w(f,"x"),c-=w(f,"y"),i.width-=l,i.height-=c}return C(i)}function L(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=y(10),i="HTML"===t.nodeName,a=O(e),o=O(t),s=f(e),l=u(t),c=parseFloat(l.borderTopWidth),p=parseFloat(l.borderLeftWidth);r&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var d=C({top:a.top-o.top-c,left:a.left-o.left-p,width:a.width,height:a.height});if(d.marginTop=0,d.marginLeft=0,!n&&i){var h=parseFloat(l.marginTop),v=parseFloat(l.marginLeft);d.top-=c-h,d.bottom-=c-h,d.left-=p-v,d.right-=p-v,d.marginTop=h,d.marginLeft=v}return(n&&!r?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=_(d,t)),d}function A(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.ownerDocument.documentElement,n=L(e,r),i=Math.max(r.clientWidth,window.innerWidth||0),a=Math.max(r.clientHeight,window.innerHeight||0),o=t?0:b(r),s=t?0:b(r,"left"),l={top:o-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:i,height:a};return C(l)}function M(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===u(e,"position"))return!0;var r=c(e);return!!r&&M(r)}function N(e){if(!e||!e.parentElement||y())return document.documentElement;for(var t=e.parentElement;t&&"none"===u(t,"transform");)t=t.parentElement;return t||document.documentElement}function R(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=i?N(e):g(e,p(t));if("viewport"===n)a=A(o,i);else{var s=void 0;"scrollParent"===n?"BODY"===(s=f(c(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===n?e.ownerDocument.documentElement:n;var l=L(s,o,i);if("HTML"!==s.nodeName||M(o))a=l;else{var u=S(e.ownerDocument),d=u.height,h=u.width;a.top+=l.top-l.marginTop,a.bottom=d+l.top,a.left+=l.left-l.marginLeft,a.right=h+l.left}}var y="number"==typeof(r=r||0);return a.left+=y?r:r.left||0,a.top+=y?r:r.top||0,a.right-=y?r:r.right||0,a.bottom-=y?r:r.bottom||0,a}function P(e){return e.width*e.height}function F(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=R(r,n,a,i),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},l=Object.keys(s).map((function(e){return I({key:e},s[e],{area:P(s[e])})})).sort((function(e,t){return t.area-e.area})),u=l.filter((function(e){var t=e.width,n=e.height;return t>=r.clientWidth&&n>=r.clientHeight})),c=u.length>0?u[0].key:l[0].key,f=e.split("-")[1];return c+(f?"-"+f:"")}function j(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=n?N(t):g(t,p(r));return L(r,i,n)}function D(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),r=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),n=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+n,height:e.offsetHeight+r}}function U(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function V(e,t,r){r=r.split("-")[0];var n=D(e),i={width:n.width,height:n.height},a=-1!==["right","left"].indexOf(r),o=a?"top":"left",s=a?"left":"top",l=a?"height":"width",u=a?"width":"height";return i[o]=t[o]+t[l]/2-n[l]/2,i[s]=r===s?t[s]-n[u]:t[U(s)],i}function B(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function H(e,t,r){return(void 0===r?e:e.slice(0,function(e,t,r){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===r}));var n=B(e,(function(e){return e[t]===r}));return e.indexOf(n)}(e,"name",r))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&l(r)&&(t.offsets.popper=C(t.offsets.popper),t.offsets.reference=C(t.offsets.reference),t=r(t,e))})),t}function z(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=j(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=F(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=V(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=H(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function W(e,t){return e.some((function(e){var r=e.name;return e.enabled&&r===t}))}function G(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var i=t[n],a=i?""+i+r:e;if(void 0!==document.body.style[a])return a}return null}function J(){return this.state.isDestroyed=!0,W(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[G("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function q(e){var t=e.ownerDocument;return t?t.defaultView:window}function X(e,t,r,n){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(t,r,{passive:!0}),i||X(f(a.parentNode),t,r,n),n.push(a)}function K(e,t,r,n){r.updateBound=n,q(e).addEventListener("resize",r.updateBound,{passive:!0});var i=f(e);return X(i,"scroll",r.updateBound,r.scrollParents),r.scrollElement=i,r.eventsEnabled=!0,r}function $(){this.state.eventsEnabled||(this.state=K(this.reference,this.options,this.state,this.scheduleUpdate))}function Y(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,q(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Z(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Q(e,t){Object.keys(t).forEach((function(r){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&Z(t[r])&&(n="px"),e.style[r]=t[r]+n}))}var ee=a&&/Firefox/i.test(navigator.userAgent);function te(e,t,r){var n=B(e,(function(e){return e.name===t})),i=!!n&&e.some((function(e){return e.name===r&&e.enabled&&e.order<n.order}));if(!i){var a="`"+t+"`",o="`"+r+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var re=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ne=re.slice(3);function ie(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=ne.indexOf(e),n=ne.slice(r+1).concat(ne.slice(0,r));return t?n.reverse():n}var ae="flip",oe="clockwise",se="counterclockwise";function le(e,t,r,n){var i=[0,0],a=-1!==["right","left"].indexOf(n),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(B(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[o.slice(0,s).concat([o[s].split(l)[0]]),[o[s].split(l)[1]].concat(o.slice(s+1))]:[o];return u=u.map((function(e,n){var i=(1===n?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,r,n){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(0===o.indexOf("%")){return C("%p"===o?r:n)[t]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,i,t,r)}))})),u.forEach((function(e,t){e.forEach((function(r,n){Z(r)&&(i[t]+=r*("-"===e[n-1]?-1:1))}))})),i}var ue={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var i=e.offsets,a=i.reference,o=i.popper,s=-1!==["bottom","top"].indexOf(r),l=s?"left":"top",u=s?"width":"height",c={start:E({},l,a[l]),end:E({},l,a[l]+a[u]-o[u])};e.offsets.popper=I({},o,c[n])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var r=t.offset,n=e.placement,i=e.offsets,a=i.popper,o=i.reference,s=n.split("-")[0],l=void 0;return l=Z(+r)?[+r,0]:le(r,a,o,s),"left"===s?(a.top+=l[0],a.left-=l[1]):"right"===s?(a.top+=l[0],a.left+=l[1]):"top"===s?(a.left+=l[0],a.top-=l[1]):"bottom"===s&&(a.left+=l[0],a.top+=l[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var r=t.boundariesElement||v(e.instance.popper);e.instance.reference===r&&(r=v(r));var n=G("transform"),i=e.instance.popper.style,a=i.top,o=i.left,s=i[n];i.top="",i.left="",i[n]="";var l=R(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);i.top=a,i.left=o,i[n]=s,t.boundaries=l;var u=t.priority,c=e.offsets.popper,f={primary:function(e){var r=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(r=Math.max(c[e],l[e])),E({},e,r)},secondary:function(e){var r="right"===e?"left":"top",n=c[r];return c[e]>l[e]&&!t.escapeWithReference&&(n=Math.min(c[r],l[e]-("right"===e?c.width:c.height))),E({},r,n)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=I({},c,f[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,r=t.popper,n=t.reference,i=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(i),s=o?"right":"bottom",l=o?"left":"top",u=o?"width":"height";return r[s]<a(n[l])&&(e.offsets.popper[l]=a(n[l])-r[u]),r[l]>a(n[s])&&(e.offsets.popper[l]=a(n[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var r;if(!te(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,o=a.popper,s=a.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",f=l?"Top":"Left",p=f.toLowerCase(),d=l?"left":"top",h=l?"bottom":"right",y=D(n)[c];s[h]-y<o[p]&&(e.offsets.popper[p]-=o[p]-(s[h]-y)),s[p]+y>o[h]&&(e.offsets.popper[p]+=s[p]+y-o[h]),e.offsets.popper=C(e.offsets.popper);var v=s[p]+s[c]/2-y/2,m=u(e.instance.popper),g=parseFloat(m["margin"+f]),b=parseFloat(m["border"+f+"Width"]),_=v-e.offsets.popper[p]-g-b;return _=Math.max(Math.min(o[c]-y,_),0),e.arrowElement=n,e.offsets.arrow=(E(r={},p,Math.round(_)),E(r,d,""),r),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(W(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var r=R(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],i=U(n),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case ae:o=[n,i];break;case oe:o=ie(n);break;case se:o=ie(n,!0);break;default:o=t.behavior}return o.forEach((function(s,l){if(n!==s||o.length===l+1)return e;n=e.placement.split("-")[0],i=U(n);var u=e.offsets.popper,c=e.offsets.reference,f=Math.floor,p="left"===n&&f(u.right)>f(c.left)||"right"===n&&f(u.left)<f(c.right)||"top"===n&&f(u.bottom)>f(c.top)||"bottom"===n&&f(u.top)<f(c.bottom),d=f(u.left)<f(r.left),h=f(u.right)>f(r.right),y=f(u.top)<f(r.top),v=f(u.bottom)>f(r.bottom),m="left"===n&&d||"right"===n&&h||"top"===n&&y||"bottom"===n&&v,g=-1!==["top","bottom"].indexOf(n),b=!!t.flipVariations&&(g&&"start"===a&&d||g&&"end"===a&&h||!g&&"start"===a&&y||!g&&"end"===a&&v),_=!!t.flipVariationsByContent&&(g&&"start"===a&&h||g&&"end"===a&&d||!g&&"start"===a&&v||!g&&"end"===a&&y),w=b||_;(p||m||w)&&(e.flipped=!0,(p||m)&&(n=o[l+1]),w&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=n+(a?"-"+a:""),e.offsets.popper=I({},e.offsets.popper,V(e.instance.popper,e.offsets.reference,e.placement)),e=H(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,i=n.popper,a=n.reference,o=-1!==["left","right"].indexOf(r),s=-1===["top","left"].indexOf(r);return i[o?"left":"top"]=a[r]-(s?i[o?"width":"height"]:0),e.placement=U(t),e.offsets.popper=C(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!te(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=B(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var r=t.x,n=t.y,i=e.offsets.popper,a=B(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,s=v(e.instance.popper),l=O(s),u={position:i.position},c=function(e,t){var r=e.offsets,n=r.popper,i=r.reference,a=Math.round,o=Math.floor,s=function(e){return e},l=a(i.width),u=a(n.width),c=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),p=t?c||f||l%2==u%2?a:o:s,d=t?a:s;return{left:p(l%2==1&&u%2==1&&!f&&t?n.left-1:n.left),top:d(n.top),bottom:d(n.bottom),right:p(n.right)}}(e,window.devicePixelRatio<2||!ee),f="bottom"===r?"top":"bottom",p="right"===n?"left":"right",d=G("transform"),h=void 0,y=void 0;if(y="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,h="right"===p?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,o&&d)u[d]="translate3d("+h+"px, "+y+"px, 0)",u[f]=0,u[p]=0,u.willChange="transform";else{var m="bottom"===f?-1:1,g="right"===p?-1:1;u[f]=y*m,u[p]=h*g,u.willChange=f+", "+p}var b={"x-placement":e.placement};return e.attributes=I({},b,e.attributes),e.styles=I({},u,e.styles),e.arrowStyles=I({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,r;return Q(e.instance.popper,e.styles),t=e.instance.popper,r=e.attributes,Object.keys(r).forEach((function(e){!1!==r[e]?t.setAttribute(e,r[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Q(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,r,n,i){var a=j(i,t,e,r.positionFixed),o=F(r.placement,a,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",o),Q(t,{position:r.positionFixed?"fixed":"absolute"}),r},gpuAcceleration:void 0}}},ce=function(){function e(t,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};k(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=s(this.update.bind(this)),this.options=I({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(I({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){n.options.modifiers[t]=I({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return I({name:e},n.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&l(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return T(e,[{key:"update",value:function(){return z.call(this)}},{key:"destroy",value:function(){return J.call(this)}},{key:"enableEventListeners",value:function(){return $.call(this)}},{key:"disableEventListeners",value:function(){return Y.call(this)}}]),e}();ce.Utils=("undefined"!=typeof window?window:t).PopperUtils,ce.placements=re,ce.Defaults=ue;var fe=ce})),s.register("cu9iz",(function(t,r){e(t.exports,"default",(function(){return a})),s("2VlWd");var n,i=s("8EPEw"),a={apiKey:void 0,applicationUrl:null==(n=globalThis.location)?void 0:n.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&((0,i.deepMerge)(a,globalThis.esriConfig,!0),delete a.has),!a.assetsPath){a.assetsPath="https://js.arcgis.com/".concat("4.23.7".slice(0,-2),"/@arcgis/core/assets")}a.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(a,"baseUrl",{set:function(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),a.request.corsEnabledServers=[],a.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0}})),s.register("2VlWd",(function(t,r){e(t.exports,"default",(function(){return c})),s("8TSCy");var n,i,a,o,l,u=s("ifq4M");function c(e){return"function"==typeof a[e]?a[e]=a[e](globalThis):a[e]}a=null!=(n=globalThis.dojoConfig)&&n.has||null!=(i=globalThis.esriConfig)&&i.has?u.default({},null==(o=globalThis.dojoConfig)?void 0:o.has,null==(l=globalThis.esriConfig)?void 0:l.has):{},c.add=function(e,t,r,n){return(n||void 0===a[e])&&(a[e]=t),r&&c(e)},c.cache=a,c.add("esri-deprecation-warnings",!0),function(){var e;c.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);var t="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(c.add("host-browser",t),c.add("host-node","object"==typeof globalThis.process&&(null==(e=globalThis.process.versions)?void 0:e.node)&&globalThis.process.versions.v8),c.add("dom",t),c("host-browser")){var r=navigator,n=r.userAgent,i=r.appVersion,a=parseFloat(i);if(c.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),c.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),c.add("khtml",i.includes("Konqueror")?a:void 0),c.add("edge",parseFloat(n.split("Edge/")[1])||void 0),c.add("opr",parseFloat(n.split("OPR/")[1])||void 0),c.add("webkit",!c("wp")&&!c("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),c.add("chrome",!c("edge")&&!c("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),c.add("android",!c("wp")&&parseFloat(n.split("Android ")[1])||void 0),c.add("safari",!i.includes("Safari")||c("wp")||c("chrome")||c("android")||c("edge")||c("opr")?void 0:parseFloat(i.split("Version/")[1])),c.add("mac",i.includes("Macintosh")),!c("wp")&&n.match(/(iPhone|iPod|iPad)/)){var o=RegExp.$1.replace(/P/,"p"),s=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",l=parseFloat(s.replace(/_/,".").replace(/_/g,""));c.add(o,l),c.add("ios",l)}c.add("trident",parseFloat(i.split("Trident/")[1])||void 0),c("webkit")||(!n.includes("Gecko")||c("wp")||c("khtml")||c("trident")||c("edge")||c.add("mozilla",a),c("mozilla")&&c.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}}(),function(){if(globalThis.navigator){var e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&c.add("esri-mobile",t),r&&c.add("esri-iPhone",r),c.add("esri-geolocation",!!navigator.geolocation)}c.add("esri-canvas-svg-support",!c("trident")),c.add("esri-wasm","WebAssembly"in globalThis),c.add("esri-shared-array-buffer",(function(){var e="SharedArrayBuffer"in globalThis,t=!1===globalThis.crossOriginIsolated;return e&&!t})),c.add("esri-atomics","Atomics"in globalThis),c.add("esri-workers","Worker"in globalThis),c.add("web-feat:cache","caches"in globalThis),c.add("esri-workers-arraybuffer-transfer",!c("safari")||Number(c("safari"))>=12),c.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),c.add("featurelayer-simplify-payload-size-factors",[1,1,4]),c.add("featurelayer-snapshot-enabled",!0),c.add("featurelayer-snapshot-point-min-threshold",8e4),c.add("featurelayer-snapshot-point-max-threshold",4e5),c.add("featurelayer-snapshot-point-coverage",.1),c.add("featurelayer-advanced-symbols",!1),c.add("featurelayer-pbf",!0),c.add("featurelayer-pbf-statistics",!1),c.add("feature-layers-workers",!0),c.add("feature-polyline-generalization-factor",1),c.add("mapview-transitions-duration",200),c.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),c.add("mapserver-pbf-enabled",!1),c("host-webworker")||c("host-browser")&&(c.add("esri-csp-restrictions",(function(){try{new Function}catch(e){return!0}return!1})),c.add("esri-image-decode",(function(){if("decode"in new Image){var e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((function(){c.add("esri-image-decode",!0,!0,!0)})).catch((function(){c.add("esri-image-decode",!1,!0,!0)}))}return!1})),c.add("esri-url-encodes-apostrophe",(function(){var e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")})))}()})),s.register("8EPEw",(function(t,r){e(t.exports,"deepMerge",(function(){return i})),e(t.exports,"getDeepValue",(function(){return a})),e(t.exports,"setDeepValue",(function(){return o}));var n=s("flPLJ");function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u(e,t,r)}function a(e,t){if(null!=t)return t[e]||l(e.split("."),!1,t)}function o(e,t,r){var n=e.split("."),i=n.pop(),a=l(n,!0,r);a&&i&&(a[i]=t)}function l(e,t,r){var n=r,i=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;if(null==n)return;if(!(u in n)){if(!t)return;n[u]={}}n=n[u]}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return n}function u(e,t,r){return t?Object.keys(t).reduce((function(e,i){var a=e[i],o=t[i];return a===o?e:void 0===a?(e[i]=(0,n.clone)(o),e):(Array.isArray(o)||Array.isArray(e)?(a=a?Array.isArray(a)?e[i]=a.concat():e[i]=[a]:e[i]=[],o&&(Array.isArray(o)||(o=[o]),r?o.forEach((function(e){-1===a.indexOf(e)&&a.push(e)})):e[i]=o.concat())):o&&"object"==typeof o?e[i]=u(a,o,r):e.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(e[i]=o),e)}),e||{}):e}})),s.register("flPLJ",(function(t,r){e(t.exports,"fixJson",(function(){return a})),e(t.exports,"clone",(function(){return o})),e(t.exports,"tryClone",(function(){return l})),e(t.exports,"equals",(function(){return d})),s("8TSCy");s("iCnzh"),s("5Vgx8"),s("lNwWH"),s("2VlWd");var n=s("7qybv"),i=s("kkxEC");function a(e,t){var r;if(t)for(r in e)e.hasOwnProperty(r)&&(void 0===e[r]?delete e[r]:e[r]instanceof Object&&a(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&void 0===e[r]&&delete e[r];return e}function o(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;var t=p(e);if((0,n.isSome)(t))return t;if(u(e))return e.clone();if(c(e))return e.map(o);if(f(e))return e.clone();var r={},i=!0,a=!1,s=void 0;try{for(var l,d=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(i=(l=d.next()).done);i=!0){var h=l.value;r[h]=o(e[h])}}catch(e){a=!0,s=e}finally{try{i||null==d.return||d.return()}finally{if(a)throw s}}return r}function l(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;var t=p(e);if((0,n.isSome)(t))return t;if(c(e)){var r=!0,i=e.map((function(e){var t=l(e);return null!=e&&null==t&&(r=!1),t}));return r?i:null}if(u(e))return e.clone();if(!f(e)){var a=new(Object.getPrototypeOf(e).constructor),o=!0,s=!1,d=void 0;try{for(var h,y=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(o=(h=y.next()).done);o=!0){var v=h.value,m=e[v],g=l(m);if(null!=m&&null==g)return null;a[v]=g}}catch(e){s=!0,d=e}finally{try{o||null==y.return||y.return()}finally{if(s)throw d}}return a}return null}function u(e){return"function"==typeof e.clone}function c(e){return"function"==typeof e.map&&"function"==typeof e.forEach}function f(e){return"function"==typeof e.notifyChange&&"function"==typeof e.watch}function p(e){if((0,i.isInt8Array)(e)||(0,i.isUint8Array)(e)||(0,i.isUint8ClampedArray)(e)||(0,i.isInt16Array)(e)||(0,i.isUint16Array)(e)||(0,i.isInt32Array)(e)||(0,i.isUint32Array)(e)||(0,i.isFloat32Array)(e)||(0,i.isFloat64Array)(e))return(0,i.slice)(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){var t=new Map;return e.forEach((function(e,r){t.set(r,o(e))})),t}if(e instanceof Set){var r=new Set;return e.forEach((function(e){r.add(o(e))})),r}return null}function d(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof(e||{}).getTime&&"function"==typeof(t||{}).getTime&&e.getTime()===t.getTime()||!1}})),s.register("lNwWH",(function(t,r){e(t.exports,"unique",(function(){return o})),e(t.exports,"equals",(function(){return l})),e(t.exports,"isArrayLike",(function(){return u})),e(t.exports,"constant",(function(){return f})),e(t.exports,"range",(function(){return p})),e(t.exports,"PositionHint",(function(){return d})),e(t.exports,"indexOf",(function(){return y})),e(t.exports,"removeUnordered",(function(){return v})),e(t.exports,"removeUnorderedMany",(function(){return g})),e(t.exports,"remove",(function(){return b})),s("8TSCy");var n=s("f9pi5"),i=s("7qybv"),a=s("hvORu");function o(e,t){return t?e.filter((function(e,r,n){return n.findIndex(t.bind(null,e))===r})):e.filter((function(e,t,r){return r.indexOf(e)===t}))}function l(e,t,r){if((0,i.isNone)(e)&&(0,i.isNone)(t))return!0;if((0,i.isNone)(e)||(0,i.isNone)(t)||e.length!==t.length)return!1;if(r){for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}function u(e){return e&&"number"==typeof e.length}var c=!!Array.prototype.fill;function f(e,t){if(c)return new Array(e).fill(t);for(var r=new Array(e),n=0;n<e;n++)r[n]=t;return r}function p(e,t){void 0===t&&(t=e,e=0);for(var r=new Array(t-e),n=e;n<t;n++)r[n-e]=n;return r}var d=function e(){"use strict";n.default(this,e),this.last=0},h=new d;function y(e,t,r,n){n=n||h;for(var i=Math.max(0,n.last-10),a=i;a<r;++a)if(e[a]===t)return n.last=a,a;for(var o=Math.min(i,r),s=0;s<o;++s)if(e[s]===t)return n.last=s,s;return-1}function v(e,t,r,n){var i=null==r?e.length:r,a=y(e,t,i,n);if(-1!==a)return e[a]=e[i-1],null==r&&e.pop(),t}var m=new Set;function g(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(0===n||0===r)return r;m.clear();for(var o=0;o<n;++o)m.add(t[o]);i=i||h;for(var s=Math.max(0,i.last-10),l=s;l<r;++l)if(m.has(e[l])&&(a&&a.push(e[l]),m.delete(e[l]),e[l]=e[r-1],--r,--l,0===m.size||0===r))return m.clear(),r;for(var u=0;u<s;++u)if(m.has(e[u])&&(a&&a.push(e[u]),m.delete(e[u]),e[u]=e[r-1],--r,--u,0===m.size||0===r))return m.clear(),r;return m.clear(),r}new(0,a.default);function b(e,t){var r=e.indexOf(t);return-1!==r?(e.splice(r,1),t):null}})),s.register("7qybv",(function(t,r){e(t.exports,"isSome",(function(){return n})),e(t.exports,"isNone",(function(){return i})),e(t.exports,"isUndefined",(function(){return a})),e(t.exports,"applySome",(function(){return o})),e(t.exports,"unwrap",(function(){return s})),e(t.exports,"unwrapOrThrow",(function(){return l})),e(t.exports,"unwrapOr",(function(){return u})),e(t.exports,"unwrapOrValue",(function(){return c})),e(t.exports,"destroyMaybe",(function(){return f})),e(t.exports,"disposeMaybe",(function(){return p})),e(t.exports,"removeMaybe",(function(){return d})),e(t.exports,"abortMaybe",(function(){return h})),e(t.exports,"releaseMaybe",(function(){return y})),e(t.exports,"nullifyNonnullableForDispose",(function(){return v})),e(t.exports,"mapMany",(function(){return m})),e(t.exports,"mapOr",(function(){return b})),e(t.exports,"forEachSome",(function(){return g})),e(t.exports,"filterNones",(function(){return _})),e(t.exports,"get",(function(){return w})),e(t.exports,"assumeNonNull",(function(){return x}));function n(e){return null!=e}function i(e){return null==e}function a(e){return void 0===e}function o(e,t){return n(e)?t(e):null}function s(e){return e}function l(e,t){if(i(e))throw new Error(t);return e}function u(e,t){return n(e)?e:"function"==typeof t?t():t}function c(e,t){return n(e)?e:t}function f(e){return n(e)&&e.destroy(),null}function p(e){return n(e)&&e.dispose(),null}function d(e){return n(e)&&e.remove(),null}function h(e){return n(e)&&e.abort(),null}function y(e){return n(e)&&e.release(),null}function v(e){return null}function m(e,t){var r=new Array,n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;r.push(b(l,null,t))}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}function g(e,t){var r=!0,n=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){o(a.value,t)}}catch(e){n=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}}function b(e,t,r){return n(e)?r(e):t}function _(e){return e.filter((function(e){return n(e)}))}function w(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=e,a=0;a<r.length&&i;++a)i=i[r[a]];return i}function x(e){return e}})),s.register("hvORu",(function(t,r){e(t.exports,"default",(function(){return a})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;n.default(this,e),this._seed=t}return i.default(e,[{key:"seed",set:function(t){this._seed=null==t?Math.random()*e._m:t}},{key:"getInt",value:function(){return this._seed=(e._a*this._seed+e._c)%e._m,this._seed}},{key:"getFloat",value:function(){return this.getInt()/(e._m-1)}},{key:"getIntRange",value:function(e,t){return Math.round(this.getFloatRange(e,t))}},{key:"getFloatRange",value:function(t,r){var n=r-t;return t+this.getInt()/e._m*n}}]),e}();a._m=2147483647,a._a=48271,a._c=0})),s.register("kkxEC",(function(t,r){e(t.exports,"forEach",(function(){return i})),e(t.exports,"slice",(function(){return a})),e(t.exports,"isArrayBuffer",(function(){return o})),e(t.exports,"isInt8Array",(function(){return l})),e(t.exports,"isUint8Array",(function(){return u})),e(t.exports,"isUint8ClampedArray",(function(){return c})),e(t.exports,"isInt16Array",(function(){return f})),e(t.exports,"isUint16Array",(function(){return p})),e(t.exports,"isInt32Array",(function(){return d})),e(t.exports,"isUint32Array",(function(){return h})),e(t.exports,"isFloat32Array",(function(){return y})),e(t.exports,"isFloat64Array",(function(){return v})),e(t.exports,"estimateSize",(function(){return m}));var n=s("7qybv");function i(e,t){if(e.forEach)e.forEach(t);else for(var r=0;r<e.length;r++)t(e[r],r,e)}function a(e,t,r){if(e.slice)return e.slice(t,r);void 0===t?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),void 0===r?r=e.length:(r<0&&(r+=e.length),r=Math.min(e.length,Math.max(0,r)));for(var n=Math.max(0,r-t),i=new e.constructor(n),a=0;a<n;a++)i[a]=e[t+a];return i}function o(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}function l(e){return e instanceof Int8Array||e&&e.constructor&&"Int8Array"===e.constructor.name}function u(e){return e instanceof Uint8Array||e&&e.constructor&&"Uint8Array"===e.constructor.name}function c(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&"Uint8ClampedArray"===e.constructor.name}function f(e){return e instanceof Int16Array||e&&e.constructor&&"Int16Array"===e.constructor.name}function p(e){return e instanceof Uint16Array||e&&e.constructor&&"Uint16Array"===e.constructor.name}function d(e){return e instanceof Int32Array||e&&e.constructor&&"Int32Array"===e.constructor.name}function h(e){return e instanceof Uint32Array||e&&e.constructor&&"Uint32Array"===e.constructor.name}function y(e){return e instanceof Float32Array||e&&e.constructor&&"Float32Array"===e.constructor.name}function v(e){return e instanceof Float64Array||e&&e.constructor&&"Float64Array"===e.constructor.name}function m(e){return(0,n.isNone)(e)?0:128+e.buffer.byteLength+64}})),s.register("7eJjO",(function(t,r){function n(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}e(t.exports,"_",(function(){return n}))})),s.register("lnx4K",(function(t,r){e(t.exports,"default",(function(){return V})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("Kn7R4"),u=s("bFSSc"),c=s("jK9zx"),f=s("ifq4M"),p=s("8atho"),d=s("aNpz9"),h=s("jcnGU"),y=s("2TvXO"),v=s("7eJjO"),m=s("d2yMj"),g=s("30Aps"),b=s("2l1wP"),_=s("1XAcN"),w=s("flPLJ"),x=s("bQCqB"),S=s("9MlGz"),k=s("jHOLN"),T=s("7qybv"),E=s("10vEZ"),I=s("kYueh"),C=s("iho5X");s("iJAIC");var O,L=s("fcwIv"),A=s("kced1"),M=s("j40xv"),N=s("ajJOT"),R=s("iYaGG"),P=s("jgJQw"),F=s("eJLrr"),j=0,D=k.default.getLogger("esri.Basemap"),U=O=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;o.default(this,r),(n=t.call(this,e)).id=null,n.portalItem=null,n.spatialReference=null,n.thumbnailUrl=null,n.title="Basemap",n.id=Date.now().toString(16)+"-basemap-"+j++,n.baseLayers=new(0,m.default),n.referenceLayers=new(0,m.default);var i=function(e){e.parent&&e.parent!==l.default(n)&&"remove"in e.parent&&e.parent.remove(e),e.parent=l.default(n),"elevation"===e.type&&D.error("Layer '".concat(e.title,", id:").concat(e.id,"' of type '").concat(e.type,"' is not supported as a basemap layer and will therefore be ignored."))},a=function(e){e.parent=null};return n.baseLayers.on("after-add",(function(e){return i(e.item)})),n.referenceLayers.on("after-add",(function(e){return i(e.item)})),n.baseLayers.on("after-remove",(function(e){return a(e.item)})),n.referenceLayers.on("after-remove",(function(e){return a(e.item)})),u.default(n)}return c.default(r,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){D.error("#load()","Failed to load basemap (title: '".concat(e.title,"', id: '").concat(e.id,"')"),t)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}},{key:"destroy",value:function(){var e,t=this.baseLayers.removeAll(),r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){a.value.destroy()}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}var s=this.referenceLayers.removeAll(),l=!0,u=!1,c=void 0;try{for(var f,p=s[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){f.value.destroy()}}catch(e){u=!0,c=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}this.baseLayers.destroy(),this.referenceLayers.destroy(),null==(e=this.portalItem)||e.destroy(),this.portalItem=null}},{key:"normalizeCtorArgs",value:function(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e=f.default({},e)).resourceInfo),e}},{key:"baseLayers",set:function(e){this._set("baseLayers",(0,g.referenceSetter)(e,this._get("baseLayers")))}},{key:"_writeBaseLayers",value:function(e,t,r){var n=[];e?(r=f.default({},r,{layerContainerType:"basemap"}),this.baseLayers.forEach((function(e){var t=(0,F.getLayerJSON)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);(0,T.isSome)(t)&&n.push(t)})),this.referenceLayers.forEach((function(e){var t=(0,F.getLayerJSON)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);(0,T.isSome)(t)&&(t.isReference=!0,n.push(t))})),t.baseMapLayers=n):t.baseMapLayers=n}},{key:"referenceLayers",set:function(e){this._set("referenceLayers",(0,g.referenceSetter)(e,this._get("referenceLayers")))}},{key:"writeTitle",value:function(e,t){t.title=e||"Basemap"}},{key:"load",value:function(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}},{key:"loadAll",value:function(){var e=this;return(0,S.loadAll)(this,(function(t){t(e.baseLayers,e.referenceLayers)}))}},{key:"clone",value:function(){var e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus="loaded"),new O({resourceInfo:this.resourceInfo}).set(e)}},{key:"read",value:function(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),p.default(d.default(r.prototype),"read",this).call(this,e,t)}},{key:"write",value:function(e,t){return e=e||{},t&&t.origin||(t=f.default({origin:"web-map"},t)),p.default(d.default(r.prototype),"write",this).call(this,e,t),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((function(e){var t=(0,w.clone)(e);return t.url&&(0,I.isProtocolRelative)(t.url)&&(t.url="https:".concat(t.url)),t.templateUrl&&(0,I.isProtocolRelative)(t.templateUrl)&&(t.templateUrl="https:".concat(t.templateUrl)),t}))),e}},{key:"_loadFromSource",value:function(e){var t=this;return h.default(n(y).mark((function r(){var i,a,o,s,l;return n(y).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=t.resourceInfo,a=t.portalItem,(0,E.throwIfAborted)(e),o=[],i?(s=i.context?i.context.url:null,o.push(t._loadLayersFromJSON(i.data,s,e)),i.data.id&&!i.data.title&&(l=i.data.id,o.push((0,P.getBasemapTitle)(l).then((function(e){e&&t.read({title:e},i.context)}))))):a&&o.push(t._loadFromItem(a,e)),r.next=6,Promise.all(o);case 6:case"end":return r.stop()}}),r)})))()}},{key:"_loadLayersFromJSON",value:function(e,t,r){var i=this;return h.default(n(y).mark((function a(){var o,l,u,c,f,p,d,h,v;return n(y).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=i.resourceInfo&&i.resourceInfo.context,l=i.portalItem&&i.portalItem.portal||o&&o.portal||null,u=o&&"web-scene"===o.origin?"web-scene":"web-map",n.next=5,s("bW6jd");case 5:return c=n.sent,f=c.populateOperationalLayers,p=[],(0,E.throwIfAborted)(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)&&(d={context:{origin:u,url:t,portal:l,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},h=f(i.baseLayers,e.baseMapLayers.filter((function(e){return!e.isReference})),d),p.push(h),v=f(i.referenceLayers,e.baseMapLayers.filter((function(e){return e.isReference})),d),p.push(v)),n.next=11,(0,E.eachAlways)(p);case 11:case"end":return n.stop()}}),a)})))()}},{key:"_loadFromItem",value:function(e,t){var r=this;return h.default(n(y).mark((function i(){var a,o,s;return n(y).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.load(t);case 2:return a=n.sent,n.next=5,a.fetchData("json",t);case 5:return o=n.sent,s=(0,I.urlToObject)(e.itemUrl),n.abrupt("return",(r._set("resourceInfo",{data:o.baseMap,context:{origin:"web-map",portal:e.portal||N.default.getDefault(),url:s}}),r.read(r.resourceInfo.data,r.resourceInfo.context),r.read({spatialReference:o.spatialReference},r.resourceInfo.context),r.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||N.default.getDefault(),url:s}),r._loadLayersFromJSON(r.resourceInfo.data,s,t)));case 8:case"end":return n.stop()}}),i)})))()}}],[{key:"fromId",value:function(e){var t=P.esriBasemapDefinitions[e];if(t){if(t.deprecated){var r=null;"dark-gray"===e?r="dark-gray-vector":"gray"===e?r="gray-vector":"streets"===e?r="streets-vector":"topo"===e&&(r="topo-vector"),(0,b.deprecated)(D,"The ".concat(e," basemap has entered mature support and is no longer being updated."),{replacement:r,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return O.fromJSON(t)}return null}}]),r}((0,_.JSONSupportMixin)(x.default));(0,v._)([(0,C.property)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer:function(e,t,r,n){this._writeBaseLayers(e,t,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:m.default}},writer:function(e,t,r,n){this._writeBaseLayers(e,t,n)}}}}}})],U.prototype,"baseLayers",null),(0,v._)([(0,C.property)({type:String,json:{origins:{"web-scene":{write:!0}}}})],U.prototype,"id",void 0),(0,v._)([(0,C.property)({type:R.default})],U.prototype,"portalItem",void 0),(0,v._)([(0,C.property)()],U.prototype,"referenceLayers",null),(0,v._)([(0,C.property)({readOnly:!0})],U.prototype,"resourceInfo",void 0),(0,v._)([(0,C.property)({type:M.default})],U.prototype,"spatialReference",void 0),(0,v._)([(0,C.property)()],U.prototype,"thumbnailUrl",void 0),(0,v._)([(0,C.property)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],U.prototype,"title",void 0),(0,v._)([(0,A.writer)("title")],U.prototype,"writeTitle",null);var V=U=O=(0,v._)([(0,L.subclass)("esri.Basemap")],U)})),s.register("2TvXO",(function(e,t){var r=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),o=new C(n||[]);return a._invoke=function(e,t,r){var n=f;return function(i,a){if(n===d)throw new Error("Generator is already running");if(n===h){if("throw"===i)throw a;return L()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=T(o,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var l=c(e,t,r);if("normal"===l.type){if(n=r.done?h:p,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=h,r.method="throw",r.arg=l.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",y={};function v(){}function m(){}function g(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(O([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=g.prototype=v.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,s){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function T(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=c(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:L}}function L(){return{value:t,done:!0}}return m.prototype=g,l(x,"constructor",g),l(g,"constructor",m),m.displayName=l(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(k.prototype),l(k.prototype,o,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new k(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(x),l(x,s,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=O,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;I(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:O(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}})),s.register("d2yMj",(function(t,r){e(t.exports,"default",(function(){return H})),s("8TSCy");var i,a,o=s("f9pi5"),l=s("jK9zx"),u=s("g9uIT"),c=s("dap1g"),f=s("Kn7R4"),p=s("bFSSc"),d=s("5Vgx8"),h=s("2TvXO"),y=s("7eJjO"),v=s("8IgiO"),m=s("amfHf"),g=s("flPLJ"),b=s("7qybv"),_=s("7Pyz4"),w=s("4ai7T"),x=s("7LFLF"),S=s("iho5X"),k=s("iJAIC"),T=s("8z0HP"),E=s("fcwIv"),I=s("8wQ0D"),C=s("1XvMS"),O=function(){"use strict";function e(){o.default(this,e),this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}return l.default(e,[{key:"preventDefault",value:function(){this.cancellable&&(this.defaultPrevented=!0)}},{key:"reset",value:function(e){this.defaultPrevented=!1,this.item=e}}]),e}(),L=new(0,_.default)(O,void 0,(function(e){e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1})),A=function(){};function M(e){return e?e instanceof B?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function N(e){if(e&&e.length)return e[0]}function R(e,t,r,n){for(var i=Math.min(e.length-r,t.length-n),a=0;a<i&&e[r+a]===t[n+a];)a++;return a}function P(e,t,r,n){t&&t.forEach((function(t,i,a){e.push(t),P(e,r.call(n,t,i,a),r,n)}))}var F=new Set,j=new Set,D=new Set,U=new Map,V=0,B=(i=Symbol.iterator,a=function(e){"use strict";u.default(r,e);var t=c.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e))._chgListeners=[],n._notifications=null,n._timer=null,n._observable=new(0,C.SimpleObservable),n.length=0,n._items=[],Object.defineProperty(f.default(n),"uid",{value:V++}),p.default(n)}return l.default(r,[{key:"normalizeCtorArgs",value:function(e){return e?Array.isArray(e)||e instanceof a?{items:e}:e:{}}},{key:"destroy",value:function(){this.removeAll()}},{key:i,value:n(h).mark((function e(){return n(h).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.items,"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"items",get:function(){return(0,I.trackAccess)(this._observable),this._items},set:function(e){this._emitBeforeChanges(w.ObservableChangesType.ADD)||(this._splice(0,this.length,M(e)),this._emitAfterChanges(w.ObservableChangesType.ADD))}},{key:"hasEventListener",value:function(e){return"change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}},{key:"on",value:function(e,t){if("change"===e){var r=this._chgListeners,n={removed:!1,callback:t};return r.push(n),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),{remove:function(){this.remove=A,n.removed=!0,r.splice(r.indexOf(n),1)}}}return this._emitter.on(e,t)}},{key:"once",value:function(e,t){var r=this.on(e,t);return{remove:function(){r.remove()}}}},{key:"add",value:function(e,t){if((0,I.trackAccess)(this._observable),this._emitBeforeChanges(w.ObservableChangesType.ADD))return this;var r=this.getNextIndex(null!=t?t:null);return this._splice(r,0,[e]),this._emitAfterChanges(w.ObservableChangesType.ADD),this}},{key:"addMany",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._items.length;if((0,I.trackAccess)(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(w.ObservableChangesType.ADD))return this;var r=this.getNextIndex(t);return this._splice(r,0,M(e)),this._emitAfterChanges(w.ObservableChangesType.ADD),this}},{key:"at",value:function(e){if((0,I.trackAccess)(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}},{key:"removeAll",value:function(){if((0,I.trackAccess)(this._observable),!this.length||this._emitBeforeChanges(w.ObservableChangesType.REMOVE))return[];var e=this._splice(0,this.length)||[];return this._emitAfterChanges(w.ObservableChangesType.REMOVE),e}},{key:"clone",value:function(){return(0,I.trackAccess)(this._observable),this._createNewInstance({items:this._items.map(g.clone)})}},{key:"concat",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;(0,I.trackAccess)(this._observable);var i=t.map(M);return this._createNewInstance({items:(n=this._items).concat.apply(n,d.default(i))})}},{key:"drain",value:function(e,t){if((0,I.trackAccess)(this._observable),this.length&&!this._emitBeforeChanges(w.ObservableChangesType.REMOVE)){for(var r=(0,b.assumeNonNull)(this._splice(0,this.length)),n=r.length,i=0;i<n;i++)e.call(t,r[i],i,r);this._emitAfterChanges(w.ObservableChangesType.REMOVE)}}},{key:"every",value:function(e,t){return(0,I.trackAccess)(this._observable),this._items.every(e,t)}},{key:"filter",value:function(e,t){var r;return(0,I.trackAccess)(this._observable),r=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}},{key:"find",value:function(e,t){return(0,I.trackAccess)(this._observable),this._items.find(e,t)}},{key:"findIndex",value:function(e,t){return(0,I.trackAccess)(this._observable),this._items.findIndex(e,t)}},{key:"flatten",value:function(e,t){(0,I.trackAccess)(this._observable);var r=[];return P(r,this,e,t),new a(r)}},{key:"forEach",value:function(e,t){return(0,I.trackAccess)(this._observable),this._items.forEach(e,t)}},{key:"getItemAt",value:function(e){return(0,I.trackAccess)(this._observable),this._items[e]}},{key:"getNextIndex",value:function(e){(0,I.trackAccess)(this._observable);var t=this.length;return(e=null==e?t:e)<0?e=0:e>t&&(e=t),e}},{key:"includes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,I.trackAccess)(this._observable),this._items.includes(e,t)}},{key:"indexOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,I.trackAccess)(this._observable),this._items.indexOf(e,t)}},{key:"join",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:",";return(0,I.trackAccess)(this._observable),this._items.join(e)}},{key:"lastIndexOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length-1;return(0,I.trackAccess)(this._observable),this._items.lastIndexOf(e,t)}},{key:"map",value:function(e,t){(0,I.trackAccess)(this._observable);var r=this._items.map(e,t);return new a({items:r})}},{key:"reorder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length-1;(0,I.trackAccess)(this._observable);var r=this.indexOf(e);if(-1!==r){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(w.ObservableChangesType.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(w.ObservableChangesType.MOVE)}return e}}},{key:"pop",value:function(){if((0,I.trackAccess)(this._observable),this.length&&!this._emitBeforeChanges(w.ObservableChangesType.REMOVE)){var e=N(this._splice(this.length-1,1));return this._emitAfterChanges(w.ObservableChangesType.REMOVE),e}}},{key:"push",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,I.trackAccess)(this._observable),this._emitBeforeChanges(w.ObservableChangesType.ADD)||(this._splice(this.length,0,t),this._emitAfterChanges(w.ObservableChangesType.ADD)),this.length}},{key:"reduce",value:function(e,t){(0,I.trackAccess)(this._observable);var r=this._items;return 2===arguments.length?r.reduce(e,t):r.reduce(e)}},{key:"reduceRight",value:function(e,t){(0,I.trackAccess)(this._observable);var r=this._items;return 2===arguments.length?r.reduceRight(e,t):r.reduceRight(e)}},{key:"remove",value:function(e){return(0,I.trackAccess)(this._observable),this.removeAt(this.indexOf(e))}},{key:"removeAt",value:function(e){if((0,I.trackAccess)(this._observable),!(e<0||e>=this.length||this._emitBeforeChanges(w.ObservableChangesType.REMOVE))){var t=N(this._splice(e,1));return this._emitAfterChanges(w.ObservableChangesType.REMOVE),t}}},{key:"removeMany",value:function(e){if((0,I.trackAccess)(this._observable),!e||!e.length||this._emitBeforeChanges(w.ObservableChangesType.REMOVE))return[];for(var t=e instanceof a?e.toArray():e,r=this._items,n=[],i=t.length,o=0;o<i;o++){var s=t[o],l=r.indexOf(s);if(l>-1){var u=1+R(t,r,o+1,l+1),c=this._splice(l,u);c&&c.length>0&&n.push.apply(n,c),o+=u-1}}return this._emitAfterChanges(w.ObservableChangesType.REMOVE),n}},{key:"reverse",value:function(){if((0,I.trackAccess)(this._observable),this._emitBeforeChanges(w.ObservableChangesType.MOVE))return this;var e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(w.ObservableChangesType.MOVE),this}},{key:"shift",value:function(){if((0,I.trackAccess)(this._observable),this.length&&!this._emitBeforeChanges(w.ObservableChangesType.REMOVE)){var e=N(this._splice(0,1));return this._emitAfterChanges(w.ObservableChangesType.REMOVE),e}}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return(0,I.trackAccess)(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}},{key:"some",value:function(e,t){return(0,I.trackAccess)(this._observable),this._items.some(e,t)}},{key:"sort",value:function(e){if((0,I.trackAccess)(this._observable),!this.length||this._emitBeforeChanges(w.ObservableChangesType.MOVE))return this;var t=(0,b.assumeNonNull)(this._splice(0,this.length));return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(w.ObservableChangesType.MOVE),this}},{key:"splice",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];(0,I.trackAccess)(this._observable);var a=(t?w.ObservableChangesType.REMOVE:0)|(n.length?w.ObservableChangesType.ADD:0);if(this._emitBeforeChanges(a))return[];var o=this._splice(e,t,n)||[];return this._emitAfterChanges(a),o}},{key:"toArray",value:function(){return(0,I.trackAccess)(this._observable),this._items.slice()}},{key:"toJSON",value:function(){return(0,I.trackAccess)(this._observable),this.toArray()}},{key:"toLocaleString",value:function(){return(0,I.trackAccess)(this._observable),this._items.toLocaleString()}},{key:"toString",value:function(){return(0,I.trackAccess)(this._observable),this._items.toString()}},{key:"unshift",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,I.trackAccess)(this._observable),!t.length||this._emitBeforeChanges(w.ObservableChangesType.ADD)||(this._splice(0,0,t),this._emitAfterChanges(w.ObservableChangesType.ADD)),this.length}},{key:"_createNewInstance",value:function(e){return new this.constructor(e)}},{key:"_splice",value:function(e,t,r){var n,i,a=this,o=this._items,s=this.itemType;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,x.schedule)((function(){return a._dispatchChange()}))),t){if(i=o.splice(e,t),this.hasEventListener("before-remove")){var l=L.acquire();l.target=this,l.cancellable=!0;for(var u=0,c=i.length;u<c;u++)n=i[u],l.reset(n),this.emit("before-remove",l),l.defaultPrevented&&(i.splice(u,1),o.splice(e,0,n),e+=1,u-=1,c-=1);L.release(l)}if(this.length=this._items.length,this.hasEventListener("after-remove")){var f=L.acquire();f.target=this,f.cancellable=!1;for(var p=i.length,h=0;h<p;h++)f.reset(i[h]),this.emit("after-remove",f);L.release(f)}}if(r&&r.length){if(s){var y=[],v=!0,m=!1,g=void 0;try{for(var b,_=r[Symbol.iterator]();!(v=(b=_.next()).done);v=!0){var w=b.value,S=s.ensureType(w);null==S&&null!=w||y.push(S)}}catch(e){m=!0,g=e}finally{try{v||null==_.return||_.return()}finally{if(m)throw g}}r=y}var k=this.hasEventListener("before-add"),T=this.hasEventListener("after-add"),E=e===this.length;if(k||T){var I=L.acquire();I.target=this,I.cancellable=!0;var C=L.acquire();C.target=this,C.cancellable=!1;var O=!0,A=!1,M=void 0;try{for(var N,R=r[Symbol.iterator]();!(O=(N=R.next()).done);O=!0){var P=N.value;k?(I.reset(P),this.emit("before-add",I),I.defaultPrevented||(E?o.push(P):o.splice(e++,0,P),this._set("length",o.length),T&&(C.reset(P),this.emit("after-add",C)))):(E?o.push(P):o.splice(e++,0,P),this._set("length",o.length),C.reset(P),this.emit("after-add",C))}}catch(e){A=!0,M=e}finally{try{O||null==R.return||R.return()}finally{if(A)throw M}}L.release(C),L.release(I)}else{var F,j=!0,D=!1,U=void 0;if(E)try{for(var V,B=r[Symbol.iterator]();!(j=(V=B.next()).done);j=!0){var H=V.value;o.push(H)}}catch(e){D=!0,U=e}finally{try{j||null==B.return||B.return()}finally{if(D)throw U}}else(F=o).splice.apply(F,[e,0].concat(d.default(r)));this._set("length",o.length)}}return(r&&r.length||i&&i.length)&&this._notifyChangeEvent(r,i),i}},{key:"_emitBeforeChanges",value:function(e){var t=!1;if(this.hasEventListener("before-changes")){var r=L.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,L.release(r)}return t}},{key:"_emitAfterChanges",value:function(e){if(this.hasEventListener("after-changes")){var t=L.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),L.release(t)}this._observable.notify()}},{key:"_notifyChangeEvent",value:function(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}},{key:"_dispatchChange",value:function(){if(this._timer&&(this._timer.remove(),this._timer=null),this._notifications){var e=this._notifications;this._notifications=null;var t=!0,r=!1,n=void 0;try{for(var i,a=this,o=function(e,t){var r=t.value,n=r.changes;F.clear(),j.clear(),D.clear();var i=!0,o=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value,f=c.added,p=c.removed;if(f){var d=!0,h=!1,y=void 0,m=!0,g=!1,b=void 0;if(0===D.size&&0===j.size)try{for(var _,w=f[Symbol.iterator]();!(d=(_=w.next()).done);d=!0){var x=_.value;F.add(x)}}catch(e){h=!0,y=e}finally{try{d||null==w.return||w.return()}finally{if(h)throw y}}else try{for(var S,k=f[Symbol.iterator]();!(m=(S=k.next()).done);m=!0){var T=S.value;j.has(T)?(D.add(T),j.delete(T)):D.has(T)||F.add(T)}}catch(e){g=!0,b=e}finally{try{m||null==k.return||k.return()}finally{if(g)throw b}}}if(p){var E=!0,I=!1,C=void 0,O=!0,L=!1,A=void 0;if(0===D.size&&0===F.size)try{for(var M,N=p[Symbol.iterator]();!(E=(M=N.next()).done);E=!0){var R=M.value;j.add(R)}}catch(e){I=!0,C=e}finally{try{E||null==N.return||N.return()}finally{if(I)throw C}}else try{for(var P,U=p[Symbol.iterator]();!(O=(P=U.next()).done);O=!0){var V=P.value;F.has(V)?F.delete(V):(D.delete(V),j.add(V))}}catch(e){L=!0,A=e}finally{try{O||null==U.return||U.return()}finally{if(L)throw A}}}}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}var B=v.default.acquire();F.forEach((function(e){B.push(e)}));var H=v.default.acquire();j.forEach((function(e){H.push(e)}));var z=a._items,W=r.items,G=v.default.acquire();if(D.forEach((function(e){W.indexOf(e)!==z.indexOf(e)&&G.push(e)})),r.listeners&&(B.length||H.length||G.length))for(var J={target:a,added:B,removed:H,moved:G},q=r.listeners.length,X=0;X<q;X++){var K=r.listeners[X];K.removed||K.callback.call(a,J)}v.default.release(B),v.default.release(H),v.default.release(G)},s=e[Symbol.iterator]();!(t=(i=s.next()).done);t=!0)o(0,i)}catch(e){r=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}F.clear(),j.clear(),D.clear()}}}],[{key:"isCollection",value:function(e){return null!=e&&e instanceof a}}]),r}(m.default.EventedAccessor));B.ofType=function(e){if(!e)return a;if(U.has(e))return U.get(e);var t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(var r in e.typeMap){var n=e.typeMap[r].prototype.declaredClass;t?t+=" | ".concat(n):t=n}var i=function(e){"use strict";u.default(r,e);var t=c.default(r);function r(){return o.default(this,r),t.apply(this,arguments)}return r}(a);return(0,y._)([(0,T.shared)({Type:e,ensureType:"function"==typeof e?(0,k.ensureType)(e):(0,k.ensureOneOfType)(e)})],i.prototype,"itemType",void 0),i=(0,y._)([(0,E.subclass)("esri.core.Collection<".concat(t,">"))],i),U.set(e,i),i},(0,y._)([(0,S.property)()],B.prototype,"length",void 0),(0,y._)([(0,S.property)()],B.prototype,"items",null);var H=B=a=(0,y._)([(0,E.subclass)("esri.core.Collection")],B)})),s.register("8IgiO",(function(t,r){e(t.exports,"default",(function(){return l})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("7Pyz4");function o(e){e.length=0}var l=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;n.default(this,e),this._pool=new(0,a.default)(Array,void 0,o,r,t)}return i.default(e,[{key:"acquire",value:function(){return this._pool.acquire()}},{key:"release",value:function(e){this._pool.release(e)}},{key:"prune",value:function(){this._pool.prune(0)}}],[{key:"acquire",value:function(){return u.acquire()}},{key:"release",value:function(e){return u.release(e)}},{key:"prune",value:function(){u.prune()}}]),e}(),u=new l(100)})),s.register("7Pyz4",(function(t,r){e(t.exports,"default",(function(){return l})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("5Vgx8");function o(e){return e&&e.acquire&&"function"==typeof e.acquire}var l=function(){"use strict";function e(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(n.default(this,e),this.ctor=t,this.acquireFunction=r,this.releaseFunction=i,this.allocationSize=a,this._pool=new Array(o),this._initialSize=o,this.ctor)for(var s=0;s<o;s++)this._pool[s]=new this.ctor;this.allocationSize=Math.max(a,1)}return i.default(e,[{key:"destroy",value:function(){this.prune(0)}},{key:"acquire",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i,s;if(e.test.disabled)s=new this.ctor;else{if(0===this._pool.length)for(var l=this.allocationSize,u=0;u<l;u++)this._pool[u]=new this.ctor;s=this._pool.pop()}return this.acquireFunction?this.acquireFunction.apply(this,[s].concat(a.default(r))):o(s)&&(i=s).acquire.apply(i,a.default(r)),s}},{key:"release",value:function(t){var r;t&&!e.test.disabled&&(this.releaseFunction?this.releaseFunction(t):(r=t)&&r.release&&"function"==typeof r.release&&t.release(),this._pool.push(t))}},{key:"prune",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._initialSize;if(!(e>=this._pool.length)){for(var t=e;t<this._pool.length;++t){var r=this._pool[t];this._dispose(r)}this._pool.length=e}}},{key:"_dispose",value:function(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()}}]),e}();l.test={disabled:!1}})),s.register("amfHf",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("5Vgx8"),o=s("g9uIT"),l=s("dap1g"),u=s("bFSSc"),c=s("Kn7R4"),f=s("7eJjO"),p=s("jymfC"),d=s("6ah52"),h=s("fcwIv"),y=function(){"use strict";function e(){n.default(this,e),this._emitter=new e.EventEmitter(this)}return i.default(e,[{key:"emit",value:function(e,t){return this._emitter.emit(e,t)}},{key:"on",value:function(e,t){return this._emitter.on(e,t)}},{key:"once",value:function(e,t){return this._emitter.once(e,t)}},{key:"hasEventListener",value:function(e){return this._emitter.hasEventListener(e)}}]),e}();!function(e){var t=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n.default(this,e),this.target=t,this._listenersMap=null}return i.default(e,[{key:"clear",value:function(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}},{key:"emit",value:function(e,t){var r=this._listenersMap&&this._listenersMap.get(e);if(!r)return!1;var n=this.target||this;return a.default(r).forEach((function(e){e.call(n,t)})),r.length>0}},{key:"on",value:function(e,t){var r=this;if(Array.isArray(e)){var n=this,i=e.map((function(e){return n.on(e,t)}));return(0,d.handlesGroup)(i)}if(e.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);var a=this._listenersMap.get(e)||[];return a.push(t),this._listenersMap.set(e,a),{remove:function(){var n=r._listenersMap&&r._listenersMap.get(e)||[],i=n.indexOf(t);i>=0&&n.splice(i,1)}}}},{key:"once",value:function(e,t){var r=this.on(e,(function(e){r.remove(),t.call(null,e)}));return r}},{key:"hasEventListener",value:function(e){var t=this._listenersMap&&this._listenersMap.get(e);return null!=t&&t.length>0}}]),e}();e.EventEmitter=t,e.EventedMixin=function(e){var r=function(e){"use strict";o.default(a,e);var r=l.default(a);function a(){var e;return n.default(this,a),(e=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments))))._emitter=new t,u.default(e)}return i.default(a,[{key:"destroy",value:function(){this._emitter.clear()}},{key:"emit",value:function(e,t){return this._emitter.emit(e,t)}},{key:"on",value:function(e,t){return this._emitter.on(e,t)}},{key:"once",value:function(e,t){return this._emitter.once(e,t)}},{key:"hasEventListener",value:function(e){return this._emitter.hasEventListener(e)}}]),a}(e);return r=(0,f._)([(0,h.subclass)("esri.core.Evented")],r)};var r=function(e){"use strict";o.default(r,e);var t=l.default(r);function r(){var e;return n.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))))._emitter=new y.EventEmitter(c.default(e)),u.default(e)}return i.default(r,[{key:"destroy",value:function(){this._emitter.clear()}},{key:"emit",value:function(e,t){return this._emitter.emit(e,t)}},{key:"on",value:function(e,t){return this._emitter.on(e,t)}},{key:"once",value:function(e,t){return this._emitter.once(e,t)}},{key:"hasEventListener",value:function(e){return this._emitter.hasEventListener(e)}}]),r}(p.default);r=(0,f._)([(0,h.subclass)("esri.core.Evented")],r),e.EventedAccessor=r}(y||(y={}));var v=y})),s.register("jymfC",(function(t,r){e(t.exports,"default",(function(){return S})),s("8TSCy");var n=s("kswSi"),i=s("f9pi5"),a=s("jK9zx"),o=s("g9uIT"),l=s("dap1g"),u=s("5Vgx8"),c=s("Kn7R4"),f=s("bFSSc"),p=s("2l1wP"),d=s("jHOLN"),h=s("jddML"),y=s("al4em"),v=s("gy5s8"),m=s("104kc"),g=s("62edV"),b=s("8rGKX"),_=s("iho5X"),w=s("fcwIv");function x(e){if(null==e)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(void 0===e?"undefined":n.default(e)){case"object":return e.constructor&&e.constructor.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}var S=function(){"use strict";function e(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(i.default(this,e),this.constructor===e)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new(0,m.default)(this)}),r.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,r))}return a.default(e,[{key:"postscript",value:function(e){var t=this.__accessor__,r=t.ctorArgs||e;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize()}},{key:"initialize",value:function(){}},{key:"destroy",value:function(){this.destroyed||((0,b.removeTarget)(this),this.__accessor__.destroy())}},{key:"initialized",get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},{key:"constructed",get:function(){return this.__accessor__&&this.__accessor__.lifecycle===y.Lifecycle.CONSTRUCTED||!1}},{key:"destroyed",get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}},{key:"commitProperty",value:function(e){this.get(e)}},{key:"get",value:function(e){return(0,h.get)(this,e)}},{key:"hasOwnProperty",value:function(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}},{key:"isInstanceOf",value:function(e){return(0,p.deprecatedFunction)(d.default.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof e}},{key:"keys",value:function(){return this.__accessor__?this.__accessor__.keys():[]}},{key:"set",value:function(e,t){return(0,g.set)(this,e,t),this}},{key:"watch",value:function(e,t,r){return(0,b.watch)(this,e,t,r)}},{key:"_clearOverride",value:function(e){return this.__accessor__.clearOverride(e)}},{key:"_override",value:function(e,t){return this.__accessor__.override(e,t)}},{key:"_isOverridden",value:function(e){return this.__accessor__.isOverridden(e)}},{key:"notifyChange",value:function(e){this.__accessor__.notifyChange(e)}},{key:"_get",value:function(e){return this.__accessor__.internalGet(e)}},{key:"_set",value:function(e,t){return this.__accessor__.internalSet(e,t),this}}],[{key:"createSubclass",value:function(){var e=function(e){var r=t[e];p.prototype[e]="function"==typeof r?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a,o=this.inherited;this.inherited=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(s.prototype[e])return s.prototype[e].apply(this,r)};try{a=r.apply(this,n)}catch(e){throw this.inherited=o,e}return this.inherited=o,a}:t[e]},t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");var r=t.properties,n=t.declaredClass,a=t.constructor;delete t.declaredClass,delete t.properties,delete t.constructor;var s=this,p=function(e){o.default(r,e);var t=l.default(r);function r(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var s;return i.default(this,r),(s=t.call.apply(t,[this].concat(u.default(n)))).inherited=null,a&&a.apply(c.default(s),n),f.default(s)}return r}(s);for(var d in(0,v.getOwnClassMetadata)(p.prototype),t)e(d);for(var h in r){var y=x(r[h]);(0,_.property)(y)(p.prototype,h)}return(0,w.subclass)(n)(p)}}]),e}()})),s.register("2l1wP",(function(t,r){e(t.exports,"deprecated",(function(){return u})),e(t.exports,"deprecatedFunction",(function(){return o})),e(t.exports,"deprecatedProperty",(function(){return l}));var n=s("2VlWd"),i=new Set;function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r&&i.has(t)||(r&&i.add(t),e.warn("ð DEPRECATED - ".concat(t)))}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,n.default)("esri-deprecation-warnings")){var i=r.moduleName;u(e,"Function: ".concat((i?i+"::":"")+t+"()"),r)}}function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,n.default)("esri-deprecation-warnings")){var i=r.moduleName;u(e,"Property: ".concat((i?i+"::":"")+t),r)}}function u(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,n.default)("esri-deprecation-warnings")){var i=r.replacement,o=r.version,s=r.see,l=r.warnOnce,u=t;i&&(u+="\n\tð ï¸ Replacement: ".concat(i)),o&&(u+="\n\tâï¸ Version: ".concat(o)),s&&(u+="\n\tð See ".concat(s," for more details.")),a(e,u,l)}}})),s.register("jHOLN",(function(t,r){e(t.exports,"default",(function(){return f})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("5Vgx8"),o=s("cu9iz");s("2VlWd");var l=s("7qybv"),u=s("1TSdR"),c={info:0,warn:1,error:2,none:3},f=function(){"use strict";function e(t){n.default(this,e),this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=t.level&&(this.level=t.level),null!=t.writer&&(this.writer=t.writer),this._module=t.module,e._loggers[this.module]=this;var r=this.module.lastIndexOf(".");-1!==r&&(this._parent=e.getLogger(this.module.slice(0,r)))}return i.default(e,[{key:"module",get:function(){return this._module}},{key:"parent",get:function(){return this._parent}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["error","always"].concat(a.default(t)))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["warn","always"].concat(a.default(t)))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["info","always"].concat(a.default(t)))}},{key:"errorOnce",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["error","once"].concat(a.default(t)))}},{key:"warnOnce",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["warn","once"].concat(a.default(t)))}},{key:"infoOnce",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["info","once"].concat(a.default(t)))}},{key:"errorOncePerTick",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["error","oncePerTick"].concat(a.default(t)))}},{key:"warnOncePerTick",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["warn","oncePerTick"].concat(a.default(t)))}},{key:"infoOncePerTick",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log.apply(this,["info","oncePerTick"].concat(a.default(t)))}},{key:"test",get:function(){var e=this;return{loggedMessages:e._loggedMessages,clearLoggedWarnings:function(){return e._loggedMessages.warn.clear()}}}},{key:"_log",value:function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(this._matchLevel(t)){if("always"!==r&&!e._throttlingDisabled){var l=this._argsToKey(i),u=this._loggedMessages[t].get(l);if("once"===r&&null!=u||"oncePerTick"===r&&u&&u>=e._tickCounter)return;this._loggedMessages[t].set(l,e._tickCounter),e._scheduleTickCounterIncrement()}var c=!0,f=!1,p=void 0;try{for(var d,h=o.default.log.interceptors[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var y=d.value;if(y.apply(void 0,[t,this.module].concat(a.default(i))))return}}catch(e){f=!0,p=e}finally{try{c||null==h.return||h.return()}finally{if(f)throw p}}this._inheritedWriter().apply(this,[t,this.module].concat(a.default(i)))}}},{key:"_parentWithMember",value:function(e,t){for(var r=this;(0,l.isSome)(r);){var n=r[e];if((0,l.isSome)(n))return n;r=r.parent}return t}},{key:"_inheritedWriter",value:function(){return this._parentWithMember("writer",this._consoleWriter)}},{key:"_consoleWriter",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var o;(o=console)[e].apply(o,["[".concat(t,"]")].concat(a.default(n)))}},{key:"_matchLevel",value:function(e){var t=o.default.log.level?o.default.log.level:"warn";return c[this._parentWithMember("level",t)]<=c[e]}},{key:"_argsToKey",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=function(e,t){return"object"!=typeof t||Array.isArray(t)?t:"[Object]"};return(0,u.numericHash)(JSON.stringify(t,n))}}],[{key:"testSingleton",get:function(){return{resetLoggers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e._loggers;return e._loggers=t,r},set throttlingDisabled(t){e._throttlingDisabled=t}}}},{key:"getLogger",value:function(t){var r=e._loggers[t];return r||(r=new e({module:t})),r}},{key:"_scheduleTickCounterIncrement",value:function(){e._tickCounterScheduled||(e._tickCounterScheduled=!0,Promise.resolve().then((function(){e._tickCounter++,e._tickCounterScheduled=!1})))}}]),e}();f._loggers={},f._tickCounter=0,f._tickCounterScheduled=!1,f._throttlingDisabled=!1})),s.register("1TSdR",(function(t,r){e(t.exports,"replace",(function(){return o})),e(t.exports,"escapeRegExpString",(function(){return l})),e(t.exports,"numericHash",(function(){return u})),e(t.exports,"stripHTML",(function(){return c}));var n=s("8EPEw"),i=/\{([^\}]+)\}/g;function a(e){return null==e?"":e}function o(e,t){return e.replace(i,"object"==typeof t?function(e,r){return a((0,n.getDeepValue)(r,t))}:function(e,r){return a(t(r))})}function l(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(function(e){return t&&-1!==t.indexOf(e)?e:"\\".concat(e)}))}function u(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function c(e){return(new DOMParser).parseFromString(e||"","text/html").body.innerText||""}})),s.register("jddML",(function(t,r){e(t.exports,"valueOf",(function(){return o})),e(t.exports,"get",(function(){return l})),e(t.exports,"exists",(function(){return u}));var n=s("5h4Y4");function i(e,t){var r="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=t.getItemAt||Array.isArray(t)){var i=parseInt(r,10);if(!isNaN(i))return Array.isArray(t)?t[i]:t.getItemAt(i)}var a=(0,n.getProperties)(t);return(0,n.isPropertyDeclared)(a,r)?a.get(r):t[r]}function a(e,t,r){if(null==e)return e;var n=i(t[r],e);return!n&&r<t.length-1?void 0:r===t.length-1?n:a(n,t,r+1)}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"string"==typeof t&&-1===t.indexOf(".")?i(t,e):a(e,(0,n.pathToArray)(t),r)}function l(e,t){return o(e,t)}function u(e,t){return void 0!==o(t,e)}})),s.register("5h4Y4",(function(t,r){e(t.exports,"getProperties",(function(){return l})),e(t.exports,"isPropertyDeclared",(function(){return u})),e(t.exports,"merge",(function(){return c})),e(t.exports,"pathToArray",(function(){return p})),e(t.exports,"parse",(function(){return h})),e(t.exports,"once",(function(){return y})),s("8TSCy");var n=s("5Vgx8"),i=s("6ah52"),a=s("flPLJ"),o=s("7qybv");function l(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function u(e,t){return null!=e&&e.metadatas&&null!=e.metadatas[t]}function c(e,t,r){return f(e,t,r?{policy:r,path:""}:null)}function f(e,t,r){return t?Object.keys(t).reduce((function(e,n){var i=null,s="merge";if(r&&(i=r.path?"".concat(r.path,".").concat(n):n,s=r.policy(i)),"replace"===s)return e[n]=t[n],e;if(void 0===e[n])return e[n]=(0,a.clone)(t[n]),e;var l=e[n],u=t[n];if(l===u)return e;if(Array.isArray(u)||Array.isArray(e))l=l?Array.isArray(l)?e[n]=l.concat():e[n]=[l]:e[n]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach((function(e){-1===l.indexOf(e)&&l.push(e)})));else if(u&&"object"==typeof u)if(r){var c=r.path;r.path=(0,o.assumeNonNull)(i),e[n]=f(l,u,r),r.path=c}else e[n]=f(l,u,null);else e.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(e[n]=u);return e}),e||{}):e}function p(e){return Array.isArray(e)?e:e.split(".")}function d(e){return e.indexOf(",")>-1?e.split(",").map((function(e){return e.trim()})):[e.trim()]}function h(e,t,r,a){var o=function(e){if(Array.isArray(e)){var t,r=[],i=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;(t=r).push.apply(t,n.default(d(u)))}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return r}return d(e)}(t);if(1!==o.length){var s=o.map((function(t){return a(e,t,r)}));return(0,i.handlesGroup)(s)}return a(e,o[0],r)}function y(e){var t=!1;return function(){t||(t=!0,e())}}})),s.register("6ah52",(function(t,r){e(t.exports,"handlesGroup",(function(){return i})),e(t.exports,"makeHandle",(function(){return a}));var n=s("7qybv");function i(e){return a((function(){return e.forEach((function(e){return(0,n.isSome)(e)&&e.remove()}))}))}function a(e){return{remove:function(){e&&(e(),e=void 0)}}}})),s.register("al4em",(function(t,r){var n,i;e(t.exports,"Lifecycle",(function(){return n})),(i=n||(n={}))[i.INITIALIZING=0]="INITIALIZING",i[i.CONSTRUCTING=1]="CONSTRUCTING",i[i.CONSTRUCTED=2]="CONSTRUCTED"})),s.register("gy5s8",(function(t,r){e(t.exports,"getOwnClassMetadata",(function(){return u})),e(t.exports,"getOwnPropertyMetadata",(function(){return f})),e(t.exports,"mergeProperty",(function(){return p})),s("8TSCy");var n=s("f9pi5"),i=s("flPLJ"),a=s("7qybv"),o=s("5h4Y4"),l=function e(t){"use strict";n.default(this,e),this.autoDestroy=!1,this.properties=t};function u(e){var t=e.constructor.__accessorMetadata__,r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){var n=Object.create(t.properties),o=t.autoDestroy;for(var s in n)n[s]=(0,i.clone)(n[s]);(t=new l(n)).autoDestroy=o,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new l({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return(0,a.assumeNonNull)(e.constructor.__accessorMetadata__)}function c(e){return u(e).properties}function f(e,t){var r=c(e),n=r[t];return n||(n=r[t]={}),n}function p(e,t){return(0,o.merge)(e,t,h)}var d=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function h(e){return d.test(e)?"replace":"merge"}})),s.register("104kc",(function(t,r){e(t.exports,"default",(function(){return _})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("iCnzh"),o=s("5Vgx8");s("2VlWd");var l=s("flPLJ"),u=s("jHOLN"),c=s("7Pyz4"),f=s("al4em"),p=s("jIbgh"),d=s("Ej9Ns"),h=s("gHHG3"),y=s("8wQ0D"),v=s("5h4Y4"),m=s("35PdA");function g(e,t,r){return void 0!==e}function b(e,t,r,n){return!(void 0===e||null==r&&e.flags&m.Flags.NonNullable&&(n.lifecycle,f.Lifecycle.INITIALIZING,1))}u.default.getLogger("esri.core.accessorSupport.Properties");var _=function(){"use strict";function e(t){n.default(this,e),this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=f.Lifecycle.INITIALIZING,this.store=new(0,h.Store),this._origin=d.OriginId.USER;var r=this.host.constructor.__accessorMetadata__,i=r.properties;for(var a in i){var o=new(0,p.Property)(this,a,i[a]);this.properties.set(a,o)}this.metadatas=i,this._autoDestroy=r.autoDestroy}return i.default(e,[{key:"initialize",value:function(){this.lifecycle=f.Lifecycle.CONSTRUCTING}},{key:"constructed",value:function(){this.lifecycle=f.Lifecycle.CONSTRUCTED}},{key:"destroy",value:function(){var e,t=!0,r=!1,n=void 0,i=!0,o=!1,s=void 0;if(this.destroyed=!0,this._autoDestroy)try{for(var l,u=this.properties[Symbol.iterator]();!(t=(l=u.next()).done);t=!0){var c=a.default(l.value,2),f=c[0],p=c[1],d=this.internalGet(f);d&&((e=d)&&"function"==typeof e.destroy)&&(d.destroy(),~p.flags&m.Flags.NonNullable&&this._internalSet(p,null)),p.destroy()}}catch(e){r=!0,n=e}finally{try{t||null==u.return||u.return()}finally{if(r)throw n}}else try{for(var h,y=this.properties[Symbol.iterator]();!(i=(h=y.next()).done);i=!0){var v=a.default(h.value,2);v[0];v[1].destroy()}}catch(e){o=!0,s=e}finally{try{i||null==y.return||y.return()}finally{if(o)throw s}}}},{key:"initialized",get:function(){return this.lifecycle!==f.Lifecycle.INITIALIZING}},{key:"get",value:function(e){var t=this.properties.get(e);if(t.metadata.get)return t.getComputed();(0,y.trackAccess)(t);var r=this.store;return r.has(e)?r.get(e):t.metadata.value}},{key:"originOf",value:function(e){var t=this.store.originOf(e);if(void 0===t){var r=this.properties.get(e);if(void 0!==r&&r.flags&m.Flags.HasDefaultValue)return"defaults"}return(0,d.idToName)(t)}},{key:"has",value:function(e){return!!this.properties.has(e)&&this.store.has(e)}},{key:"keys",value:function(){return o.default(this.properties.keys())}},{key:"internalGet",value:function(e){var t=this.properties.get(e);if(g(t))return this.store.has(e)?this.store.get(e):t.metadata.value}},{key:"internalSet",value:function(e,t){var r=this.properties.get(e);g(r)&&this._internalSet(r,t)}},{key:"getDependsInfo",value:function(e,t,r){var n=this.properties.get(t);if(!g(n))return"";var i=new Set,a=(0,y.runTracked)({onObservableAccessed:function(e){return i.add(e)},onTrackingEnd:function(){}},(function(){var t;return null==(t=n.metadata.get)?void 0:t.call(e)})),o="".concat(r).concat(e.declaredClass.split(".").pop(),".").concat(t,": ").concat(a,"\n");if(0===i.size)return o;r+="  ";var s=!0,l=!1,u=void 0;try{for(var c,f=i[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var d=c.value;if(d instanceof p.Property){var h=d.properties.host,m=d.propertyName,b=(0,v.getProperties)(h);o+=b?b.getDependsInfo(h,m,r):"".concat(r).concat(m,": undefined\n")}}}catch(e){l=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}return o}},{key:"setAtOrigin",value:function(e,t,r){var n=this.properties.get(e);if(g(n))return this._setAtOrigin(n,t,r)}},{key:"isOverridden",value:function(e){var t=this.properties.get(e);return void 0!==t&&!!(t.flags&m.Flags.Overriden)}},{key:"clearOverride",value:function(e){var t=this.properties.get(e);void 0!==t&&t.flags&m.Flags.Overriden&&(t.flags&=~m.Flags.Overriden,t.notifyChange())}},{key:"override",value:function(e,t){var r=this.properties.get(e);if(b(r,0,t,this)){var n=r.metadata.cast;if(n){var i=this._cast(n,t),a=i.valid,o=i.value;if(x.release(i),!a)return;t=o}r.flags|=m.Flags.Overriden,this._internalSet(r,t)}}},{key:"set",value:function(e,t){var r=this.properties.get(e);if(b(r,0,t,this)){var n=r.metadata.cast;if(n){var i=this._cast(n,t),a=i.valid,o=i.value;if(x.release(i),!a)return;t=o}var s=r.metadata.set;s?s.call(this.host,t):this._internalSet(r,t)}}},{key:"setDefaultOrigin",value:function(e){this._origin=(0,d.nameToId)(e)}},{key:"getDefaultOrigin",value:function(){return(0,d.idToName)(this._origin)}},{key:"notifyChange",value:function(e){var t=this.properties.get(e);void 0!==t&&t.notifyChange()}},{key:"invalidate",value:function(e){var t=this.properties.get(e);void 0!==t&&t.invalidate()}},{key:"commit",value:function(e){var t=this.properties.get(e);void 0!==t&&t.commit()}},{key:"_internalSet",value:function(e,t){var r=this.lifecycle!==f.Lifecycle.INITIALIZING?this._origin:d.OriginId.DEFAULTS;this._setAtOrigin(e,t,r)}},{key:"_setAtOrigin",value:function(e,t,r){var n=this.store,i=e.propertyName;n.has(i,r)&&(0,l.equals)(t,n.get(i))&&~e.flags&m.Flags.Overriden&&r===n.originOf(i)||(e.invalidate(),n.set(i,t,r),e.commit(),(0,y.initializeDependencyTracking)(this.host,e))}},{key:"_cast",value:function(e,t){var r=x.acquire();return r.valid=!0,r.value=t,e&&(r.value=e.call(this.host,t,r)),r}}]),e}(),w=function(){"use strict";function e(){n.default(this,e),this.value=null,this.valid=!0}return i.default(e,[{key:"acquire",value:function(){this.valid=!0}},{key:"release",value:function(){this.value=null}}]),e}(),x=new(0,c.default)(w)})),s.register("jIbgh",(function(t,r){e(t.exports,"Property",(function(){return c})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("Ej9Ns"),o=s("8wQ0D"),l=s("35PdA"),u=s("icKh1"),c=function(){"use strict";function e(t,r,i){n.default(this,e),this.properties=t,this.propertyName=r,this.metadata=i,this._observers=null,this._accessed=null,this._handles=null,this.flags=l.Flags.Dirty|(i.nonNullable?l.Flags.NonNullable:0)|(i.hasOwnProperty("value")?l.Flags.HasDefaultValue:0)|(void 0===i.get?l.Flags.DepTrackingInitialized:0)|(void 0===i.dependsOn?l.Flags.AutoTracked:0)}return i.default(e,[{key:"destroy",value:function(){this._accessed=null,this._observers=null,this._clearObservationHandles()}},{key:"getComputed",value:function(){(0,o.trackAccess)(this);var e=this.properties.store,t=this.propertyName,r=this.flags,n=e.get(t);if(r&l.Flags.Computing)return n;if(~r&l.Flags.Dirty&&e.has(t))return n;this.flags|=l.Flags.Computing;var i,s=this.properties.host;r&l.Flags.AutoTracked?i=(0,o.runTracked)(this,this.metadata.get,s):((0,o.trackExplicitDependencies)(s,this),i=this.metadata.get.call(s)),e.set(t,i,a.OriginId.COMPUTED);var u=e.get(t);return u===n?this.flags&=~l.Flags.Dirty:(0,o.runUntracked)(this.commit,this),this.flags&=~l.Flags.Computing,u}},{key:"onObservableAccessed",value:function(e){e!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(e)||this._accessed.push(e))}},{key:"onTrackingEnd",value:function(){this._clearObservationHandles(),this.flags|=l.Flags.DepTrackingInitialized;var e=this._accessed;if(null!==e){var t=this._handles;null===t&&(t=this._handles=[]);for(var r=0;r<e.length;++r)t.push(e[r].observe(this));e.length=0}}},{key:"observe",value:function(e){return null===this._observers&&(this._observers=[]),this._observers.includes(e)||this._observers.push(e),new(0,u.ObservationHandle)(this._observers,e)}},{key:"notifyChange",value:function(){this.onInvalidated(),this.onCommitted()}},{key:"invalidate",value:function(){this.onInvalidated()}},{key:"onInvalidated",value:function(){~this.flags&l.Flags.Overriden&&(this.flags|=l.Flags.Dirty);var e=this._observers;if(null!==e)for(var t=0;t<e.length;++t)e[t].onInvalidated()}},{key:"commit",value:function(){this.flags&=~l.Flags.Dirty,this.onCommitted()}},{key:"onCommitted",value:function(){if(null!==this._observers)for(var e=this._observers.slice(),t=0;t<e.length;++t)e[t].onCommitted()}},{key:"_clearObservationHandles",value:function(){var e=this._handles;if(null!==e){for(var t=0;t<e.length;++t)e[t].remove();e.length=0}}}]),e}()})),s.register("Ej9Ns",(function(t,r){e(t.exports,"OriginId",(function(){return n})),e(t.exports,"OriginIdNum",(function(){return o})),e(t.exports,"nameToId",(function(){return l})),e(t.exports,"idToName",(function(){return u})),e(t.exports,"idToReadableName",(function(){return c}));var n,i,a=s("7qybv");(i=n||(n={}))[i.DEFAULTS=0]="DEFAULTS",i[i.COMPUTED=1]="COMPUTED",i[i.SERVICE=2]="SERVICE",i[i.PORTAL_ITEM=3]="PORTAL_ITEM",i[i.WEB_SCENE=4]="WEB_SCENE",i[i.WEB_MAP=5]="WEB_MAP",i[i.USER=6]="USER";var o=n.USER+1;function l(e){switch(e){case"defaults":return n.DEFAULTS;case"service":return n.SERVICE;case"portal-item":return n.PORTAL_ITEM;case"web-scene":return n.WEB_SCENE;case"web-map":return n.WEB_MAP;case"user":return n.USER}}function u(e){switch(e){case n.DEFAULTS:return"defaults";case n.SERVICE:return"service";case n.PORTAL_ITEM:return"portal-item";case n.WEB_SCENE:return"web-scene";case n.WEB_MAP:return"web-map";case n.USER:return"user"}return(0,a.assumeNonNull)(void 0)}function c(e){return u(e)}})),s.register("8wQ0D",(function(t,r){e(t.exports,"trackAccess",(function(){return c})),e(t.exports,"runTracked",(function(){return d})),e(t.exports,"runUntracked",(function(){return h})),e(t.exports,"initializeDependencyTracking",(function(){return g})),e(t.exports,"trackExplicitDependencies",(function(){return _})),s("2VlWd");var n,i=s("jHOLN"),a=s("5h4Y4"),o=s("35PdA"),l=[],u=i.default.getLogger("esri.core.Accessor");function c(e){void 0!==n&&n.onObservableAccessed(e)}var f=!1,p=!1;function d(e,t,r){if(f)return y(e,t,r);v(e);var n=t.call(r);return m(),n}function h(e,t){return d(void 0,e,t)}function y(e,t,r){var n=f;f=!0,v(e);var i=null;try{i=t.call(r)}catch(e){p&&u.error(e)}return m(),f=n,i}function v(e){n=e,l.push(e)}function m(){var e=l.pop();n=l.length>0?l[l.length-1]:void 0,void 0!==e&&e.onTrackingEnd()}function g(e,t){if(!(t.flags&o.Flags.DepTrackingInitialized)){var r=p;p=!1,t.flags&o.Flags.AutoTracked?y(t,t.metadata.get,e):_(e,t),p=r}}var b=[];function _(e,t){t.flags&o.Flags.ExplicitlyTracking||(t.flags|=o.Flags.ExplicitlyTracking,y(t,(function(){var r=t.metadata.dependsOn||b,n=!0,i=!1,o=void 0;try{for(var s,l=r[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;if("string"==typeof u&&-1===u.indexOf("."))w(e,u,!1);else for(var c=(0,a.pathToArray)(u),f=0,p=e;f<c.length&&null!=p&&"object"==typeof p;++f)p=w(p,c[f],f!==c.length-1)}}catch(e){i=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}})),t.flags&=~o.Flags.ExplicitlyTracking)}function w(e,t,r){var n="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){var i=parseInt(n,10);if(!isNaN(i))return Array.isArray(e)?e[i]:e.getItemAt(i)}var o=(0,a.getProperties)(e),s=null==o?void 0:o.properties.get(n);return s&&(c(s),g(e,s)),r?e[n]:void 0}})),s.register("35PdA",(function(t,r){var n,i;e(t.exports,"Flags",(function(){return n})),(i=n||(n={}))[i.Dirty=1]="Dirty",i[i.Overriden=2]="Overriden",i[i.Computing=4]="Computing",i[i.NonNullable=8]="NonNullable",i[i.HasDefaultValue=16]="HasDefaultValue",i[i.DepTrackingInitialized=32]="DepTrackingInitialized",i[i.AutoTracked=64]="AutoTracked",i[i.ExplicitlyTracking=128]="ExplicitlyTracking"})),s.register("icKh1",(function(t,r){e(t.exports,"ObservationHandle",(function(){return o})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("lNwWH"),o=function(){"use strict";function e(t,r){n.default(this,e),this._observers=t,this._observer=r}return i.default(e,[{key:"remove",value:function(){(0,a.remove)(this._observers,this._observer)}}]),e}()})),s.register("gHHG3",(function(t,r){e(t.exports,"Store",(function(){return u})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("5Vgx8"),o=s("flPLJ"),l=s("Ej9Ns"),u=function(){"use strict";function e(){n.default(this,e),this._values=new Map,this.multipleOriginsSupported=!1}return i.default(e,[{key:"clone",value:function(t){var r=new e;return this._values.forEach((function(e,n){t&&t.has(n)||r.set(n,(0,o.clone)(e))})),r}},{key:"get",value:function(e){return this._values.get(e)}},{key:"originOf",value:function(){return l.OriginId.USER}},{key:"keys",value:function(){return a.default(this._values.keys())}},{key:"set",value:function(e,t){this._values.set(e,t)}},{key:"delete",value:function(e){this._values.delete(e)}},{key:"has",value:function(e){return this._values.has(e)}},{key:"forEach",value:function(e){this._values.forEach(e)}}]),e}()})),s.register("62edV",(function(t,r){e(t.exports,"set",(function(){return l}));var n=s("kyj08"),i=s("2VlWd"),a=s("jHOLN"),o=s("jddML");function l(e,t,r){if(e&&t){var a=!0,s=!1,u=void 0;if("object"==typeof t)try{for(var c,f=Object.getOwnPropertyNames(t)[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var p=c.value;l(e,p,t[p])}}catch(e){s=!0,u=e}finally{try{a||null==f.return||f.return()}finally{if(s)throw u}}else{if(-1!==t.indexOf(".")){var d=t.split("."),h=d.splice(d.length-1,1)[0];return void l((0,o.get)(e,d),h,r)}var y=e.__accessor__;null!=y&&function(e,t){if((0,i.default)("esri-unknown-property-errors")&&(o=e,s=t,null==s.metadatas[o]))throw new(0,n.default)("set:unknown-property",(r=e,a=t,"setting unknown property '"+r+"' on instance of "+a.host.declaredClass));var r,a;var o,s}(t,y),e[t]=r}}}a.default.getLogger("esri.core.accessorSupport.set")})),s.register("kyj08",(function(t,r){e(t.exports,"default",(function(){return p})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("Kn7R4"),l=s("bFSSc"),u=s("jK9zx"),c=s("flPLJ"),f=s("jHOLN"),p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e,n,i){var s;return a.default(this,r),s=t.call(this,e,n,i),o.default(s)instanceof r?l.default(s):l.default(s,new r(e,n,i))}return u.default(r,[{key:"toJSON",value:function(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(function(e,t){if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return(0,c.clone)(t)}catch(e){return"[object]"}})))}}catch(e){throw f.default.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}}],[{key:"fromJSON",value:function(e){return new r(e.name,e.message,e.details)}}]),r}(s("6PEAB").default);p.prototype.type="error"})),s.register("6PEAB",(function(t,r){e(t.exports,"default",(function(){return o})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("8EPEw");var o=function(){"use strict";function e(t,r,i){var o;n.default(this,e),this.name=t,this.details=i,this.message=void 0,this instanceof e&&(this.message=r&&(o=i,r.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(e,t){if(""===t)return"$";var r=(0,a.getDeepValue)(t,o),n=null==r?"":r;if(void 0===n)throw new Error('could not find key "'.concat(t,'" in template'));return n.toString()})))||"")}return i.default(e,[{key:"toString",value:function(){return"["+this.name+"]: "+this.message}}]),e}()})),s.register("8rGKX",(function(t,r){e(t.exports,"removeTarget",(function(){return x})),e(t.exports,"watch",(function(){return C})),e(t.exports,"watchTracked",(function(){return A})),s("8TSCy");var n,i,a=s("f9pi5"),o=s("jK9zx"),l=s("8IgiO"),u=s("flPLJ"),c=s("1MLL2"),f=s("7LFLF"),p=(s("3KTvH"),s("cQNwR")),d=s("jddML"),h=s("ijmj7"),y=s("5h4Y4");(i=n||(n={}))[i.Untracked=0]="Untracked",i[i.Tracked=1]="Tracked";var v=function(){"use strict";function e(){a.default(this,e),this.uid=(0,p.generateUID)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}return o.default(e,[{key:"notify",value:function(e,t){this.type===n.Untracked?this.callback.call(this.target,e,t,this.path,this.target):this.callback.call(null,e,t)}},{key:"acquire",value:function(e,t,r,n,i,a,o){this.uid=(0,p.generateUID)(),this.removed=!1,this.type=e,this.oldValue=t,this.callback=r,this.getValue=n,this.target=i,this.path=a,this.equals=o}},{key:"release",value:function(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=(0,p.generateUID)(),this.removed=!0}}],[{key:"acquireUntracked",value:function(e,t,r,i,a){return this.pool.acquire(n.Untracked,e,t,r,i,a,u.equals)}},{key:"acquireTracked",value:function(e,t,r,i){return this.pool.acquire(n.Tracked,e,t,r,null,null,i)}}]),e}();v.pool=new(0,c.ReentrantObjectPool)(v);var m,g=new(0,l.default),b=new Set;function _(e){b.delete(e),b.add(e),m||(m=(0,f.schedule)(S))}function w(e){if(!e.removed){var t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}}function x(e){var t=!0,r=!1,n=void 0;try{for(var i,a=b.values()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;o.target===e&&(o.removed=!0)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}function S(){for(var e=10;m&&e--;){m=null;var t=k(),r=g.acquire(),n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value,u=l.uid;w(l),u===l.uid&&l.removed&&r.push(l)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}var c=!0,f=!1,p=void 0;try{for(var d,h=b[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var y=d.value;y.removed&&(r.push(y),b.delete(y))}}catch(e){f=!0,p=e}finally{try{c||null==h.return||h.return()}finally{if(f)throw p}}var _=!0,x=!1,S=void 0;try{for(var E,I=r[Symbol.iterator]();!(_=(E=I.next()).done);_=!0){var C=E.value;v.pool.release(C)}}catch(e){x=!0,S=e}finally{try{_||null==I.return||I.return()}finally{if(x)throw S}}g.release(r),g.release(t),T.forEach((function(e){return e()}))}}function k(){var e=g.acquire();e.length=b.size;var t=0,r=!0,n=!1,i=void 0;try{for(var a,o=b[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;e[t]=s,++t}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return b.clear(),e}var T=new Set;function E(e,t,r){var n=(0,y.parse)(e,t,r,(function(e,t,r){var i,a,o=(0,h.reactionDeferred)((function(){return(0,d.valueOf)(e,t)}),(function(o,s){e.__accessor__.destroyed||i&&i.uid!==a?n.remove():(i||(i=v.acquireUntracked(o,r,s,e,t),a=i.uid),_(i))}));return{remove:(0,y.once)((function(){o.remove(),i&&(i.uid!==a||i.removed||(i.removed=!0,_(i)),i=null),n=o=null}))}}));return n}function I(e,t,r){var n=(0,y.parse)(e,t,r,(function(e,t,r){var i=!1;return(0,h.reaction)((function(){return(0,d.valueOf)(e,t)}),(function(a,o){e.__accessor__.destroyed?n.remove():i||(i=!0,(0,u.equals)(o,a)||r.call(e,a,o,t,e),i=!1)}))}));return n}function C(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!e.__accessor__||e.__accessor__.destroyed?{remove:function(){}}:n?I(e,t,r):E(e,t,r)}function O(e,t,r){var n,i,a=(0,h.reactionDeferred)(e,(function(e,o){n&&n.uid!==i?a.remove():(n||(n=v.acquireTracked(e,t,o,r),i=n.uid),_(n))}));return{remove:(0,y.once)((function(){a.remove(),n&&(n.uid!==i||n.removed||(n.removed=!0,_(n)),n=null),a=null}))}}function L(e,t,r){var n=!1;return(0,h.reaction)(e,(function(e,i){n||(n=!0,r(i,e)||t(e,i),n=!1)}))}function A(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.equals;return r?L(e,t,n):O(e,t,n)}})),s.register("1MLL2",(function(t,r){e(t.exports,"ReentrantObjectPool",(function(){return d})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("8atho"),c=s("aNpz9"),f=s("5Vgx8"),p=s("7qybv"),d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))))._set=new Set,o.default(e)}return l.default(r,[{key:"destroy",value:function(){u.default(c.default(r.prototype),"destroy",this).call(this),this._set=(0,p.nullifyNonnullableForDispose)(this._set)}},{key:"acquire",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a=(i=u.default(c.default(r.prototype),"acquire",this)).call.apply(i,[this].concat(f.default(t)));return this._set.delete(a),a}},{key:"release",value:function(e){e&&!this._set.has(e)&&(u.default(c.default(r.prototype),"release",this).call(this,e),this._set.add(e))}},{key:"_dispose",value:function(e){this._set.delete(e),u.default(c.default(r.prototype),"_dispose",this).call(this,e)}}]),r}(s("7Pyz4").default)})),s.register("7LFLF",(function(t,r){e(t.exports,"schedule",(function(){return x})),e(t.exports,"addFrameTask",(function(){return S})),e(t.exports,"waitTicks",(function(){return O})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("7qybv"),o=s("e02MS"),l=s("dvymm"),u=s("6v7Z0"),c=s("10vEZ"),f=s("60cAN"),p=function e(t){"use strict";n.default(this,e),this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1},d=function(){"use strict";function e(t){n.default(this,e),this.callback=t,this.isActive=!0}return i.default(e,[{key:"remove",value:function(){this.isActive=!1}}]),e}(),h=0,y=0,v={time:(0,f.Milliseconds)(0),deltaTime:(0,f.Milliseconds)(0),elapsedFrameTime:(0,f.Milliseconds)(0),frameDuration:(0,f.Milliseconds)(0)},m=["prepare","preRender","render","postRender","update","finish"],g=[],b=new(0,u.default),_=function(){"use strict";function e(t){n.default(this,e),this._task=t}return i.default(e,[{key:"remove",value:function(){this._task.removed=!0}},{key:"pause",value:function(){this._task.paused=!0}},{key:"resume",value:function(){this._task.paused=!1}}]),e}(),w={frameTasks:b,willDispatch:!1,clearFrameTasks:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];b.forAll((function(e){e.removed=!0})),e&&I()},dispatch:C,executeFrameTasks:function(e){var t=function(t){var a=performance.now(),o=m[t];b.forAll((function(a){var s;a.paused||a.removed||(0===t&&a.ticks++,a.phases[o]&&(v.time=e,v.deltaTime=0===a.ticks?(0,f.Milliseconds)(0):r,v.elapsedFrameTime=(0,f.Milliseconds)(performance.now()-e),v.frameDuration=(0,f.Milliseconds)(n-i),null==(s=a.phases[o])||s.call(a,v)))})),L[t].record(performance.now()-a)},r=(0,f.Milliseconds)(e-h);h=e;for(var n=y>0?y:1e3/60,i=Math.max(0,r-n),a=0;a<m.length;a++)t(a);I(),A.record(performance.now()-e)}};function x(e){var t=new d(e);return g.push(t),w.willDispatch||(w.willDispatch=!0,(0,o.nextTick)(C)),t}function S(e){var t=new p(e);return b.push(t),null==k&&(h=performance.now(),k=requestAnimationFrame(T)),new _(t)}var k=null;function T(){var e=performance.now();k=null,k=b.length>0?requestAnimationFrame(T):null,w.executeFrameTasks(e)}var E=new(0,u.default);function I(){b.forAll((function(e){e.removed&&E.push(e)})),b.removeUnorderedMany(E.data,E.length),E.clear()}function C(){for(;g.length;){var e=(0,a.assumeNonNull)(g.shift());e.isActive&&e.callback()}w.willDispatch=!1}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,r=(0,c.createResolver)(),n=function(){(0,c.isAborted)(t)?r.reject((0,c.createAbortError)()):0===e?r():(--e,(0,o.nextTick)((function(){return n()})))};return n(),r.promise}var L=m.map((function(e){return new(0,l.default)(e)})),A=new(0,l.default)("total")})),s.register("e02MS",(function(t,r){e(t.exports,"nextTick",(function(){return i}));var n=[];function i(e){n.push(e),1===n.length&&queueMicrotask((function(){var e=n.slice();n.length=0;var t=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){(0,a.value)()}}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}}))}})),s.register("dvymm",(function(t,r){e(t.exports,"default",(function(){return a})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:29;n.default(this,e),this.name=t,this._counter=0,this._items=new Array(r)}return i.default(e,[{key:"record",value:function(e){this._items[++this._counter%this._items.length]=e}},{key:"median",get:function(){return this._items.slice().sort((function(e,t){return e-t}))[Math.floor(this._items.length/2)]}},{key:"average",get:function(){return this._items.reduce((function(e,t){return e+t}),0)/this._items.length}},{key:"last",get:function(){return this._items[this._counter%this._items.length]}}]),e}()})),s.register("6v7Z0",(function(t,r){e(t.exports,"default",(function(){return l})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("lNwWH"),o=s("lGfL5"),l=function(){"use strict";function e(t){var r=this;n.default(this,e),this.data=[],this._length=0,this._allocator=void 0,this._deallocator=function(){return null},this._shrink=function(){},this._hint=new(0,a.PositionHint),t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),void 0!==t.deallocator&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=function(){return u(r)}))}return i.default(e,[{key:"toArray",value:function(){return this.data.slice(0,this.length)}},{key:"filter",value:function(e){for(var t=new Array,r=0;r<this._length;r++){var n=this.data[r];e(n)&&t.push(n)}return t}},{key:"getItemAt",value:function(e){if(!(e<0||e>=this._length))return this.data[e]}},{key:"length",get:function(){return this._length},set:function(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(var t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}},{key:"clear",value:function(){this.length=0}},{key:"prune",value:function(){this.clear(),this.data=[]}},{key:"push",value:function(e){this.data[this._length++]=e}},{key:"pushArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,r=0;r<t;r++)this.data[this._length++]=e[r]}},{key:"fill",value:function(e,t){for(var r=0;r<t;r++)this.data[this._length++]=e}},{key:"pushNew",value:function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));var e=this.data[this._length];return++this._length,e}},{key:"unshift",value:function(e){this.data.unshift(e),this._length++,u(this)}},{key:"pop",value:function(){if(0!==this.length){var e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}}},{key:"remove",value:function(e){var t=(0,a.indexOf)(this.data,e,this.length,this._hint);if(-1!==t)return this.data.splice(t,1),this.length=this.length-1,e}},{key:"removeUnordered",value:function(e){var t=(0,a.removeUnordered)(this.data,e,this.length,this._hint);return void 0!==t&&(this.length=this.length-1),this._shrink(),t}},{key:"removeUnorderedIndex",value:function(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}},{key:"removeUnorderedMany",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,r=arguments.length>2?arguments[2]:void 0;this.length=(0,a.removeUnorderedMany)(this.data,e,this.length,t,this._hint,r),this._shrink()}},{key:"front",value:function(){if(0!==this.length)return this.data[0]}},{key:"back",value:function(){if(0!==this.length)return this.data[this.length-1]}},{key:"swapElements",value:function(e,t){var r;e>=this.length||t>=this.length||e===t||(r=[this.data[t],this.data[e]],this.data[e]=r[0],this.data[t]=r[1])}},{key:"sort",value:function(e){o.default.sort(this.data,0,this.length,e)}},{key:"iterableSort",value:function(e){return o.default.iterableSort(this.data,0,this.length,e)}},{key:"some",value:function(e,t){for(var r=0;r<this.length;++r)if(e.call(t,this.data[r],r,this.data))return!0;return!1}},{key:"filterInPlace",value:function(e,t){for(var r=0,n=0;n<this._length;++n){var i=this.data[n];e.call(t,i,n,this.data)&&(this.data[n]=this.data[r],this.data[r]=i,r++)}if(this._deallocator)for(var a=r;a<this._length;a++)this.data[a]=this._deallocator(this.data[a]);return this._length=r,this._shrink(),this}},{key:"forAll",value:function(e,t){for(var r=this.length,n=this.data,i=0;i<r;++i)e.call(t,n[i],i,n)}},{key:"forEach",value:function(e,t){for(var r=0;r<this.length;++r)e.call(t,this.data[r],r,this.data)}},{key:"map",value:function(e,t){for(var r=new Array(this.length),n=0;n<this.length;++n)r[n]=e.call(t,this.data[n],n,this.data);return r}},{key:"reduce",value:function(e,t){for(var r=t,n=0;n<this.length;++n)r=e(r,this.data[n],n,this.data);return r}},{key:"has",value:function(e){for(var t=this.length,r=this.data,n=0;n<t;++n)if(r[n]===e)return!0;return!1}}]),e}();function u(e){e.data.length>1.5*e.length&&(e.data.length=Math.floor(1.1*e.length))}})),s.register("lGfL5",(function(t,r){e(t.exports,"default",(function(){return o}));var i,a=s("2TvXO");!function(e){var t=n(a).mark(o),r=function(e,t,r,n){for(var i=t,a=t,o=r>>>1,s=e[i-1];a<=o;){(a=i<<1)<r&&n(e[a-1],e[a])<0&&++a;var l=e[a-1];if(n(l,s)<=0)break;e[i-1]=l,i=a}e[i-1]=s},i=function(e,t){return e<t?-1:e>t?1:0};function o(e,o,s,l){var u,c,f,p;return n(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===o&&(o=0),void 0===s&&(s=e.length),void 0===l&&(l=i),u=s>>>1;case 2:if(!(u>o)){t.next=9;break}return r(e,u,s,l),void(t.next=6);case 6:u--,t.next=2;break;case 9:c=o+1,f=s-1;case 11:if(!(f>o)){t.next=21;break}return p=e[o],e[o]=e[f],e[f]=p,r(e,c,f,l),void(t.next=18);case 18:f--,t.next=11;break;case 21:case"end":return t.stop()}}),t)}e.sort=function(e,t,n,a){void 0===t&&(t=0),void 0===n&&(n=e.length),void 0===a&&(a=i);for(var o=n>>>1;o>t;o--)r(e,o,n,a);for(var s=t+1,l=n-1;l>t;l--){var u=e[t];e[t]=e[l],e[l]=u,r(e,s,l,a)}},e.iterableSort=o}(i||(i={}));var o=i})),s.register("10vEZ",(function(t,r){e(t.exports,"all",(function(){return u})),e(t.exports,"create",(function(){return c})),e(t.exports,"createAbortError",(function(){return f})),e(t.exports,"throwIfAborted",(function(){return p})),e(t.exports,"isAborted",(function(){return h})),e(t.exports,"throwIfAbortError",(function(){return y})),e(t.exports,"isAbortError",(function(){return _})),e(t.exports,"throwIfNotAbortError",(function(){return v})),e(t.exports,"onAbort",(function(){return m})),e(t.exports,"onAbortOrThrow",(function(){return g})),e(t.exports,"whenOrAbort",(function(){return b})),e(t.exports,"after",(function(){return I})),e(t.exports,"ignoreAbortErrors",(function(){return w})),e(t.exports,"createDeferred",(function(){return x})),e(t.exports,"eachAlways",(function(){return S})),e(t.exports,"eachAlwaysValues",(function(){return k})),e(t.exports,"reject",(function(){return T})),e(t.exports,"resolve",(function(){return E})),e(t.exports,"isPromiseLike",(function(){return C})),e(t.exports,"when",(function(){return O})),e(t.exports,"debounce",(function(){return L})),e(t.exports,"createResolver",(function(){return A})),e(t.exports,"createTask",(function(){return M})),e(t.exports,"waitTick",(function(){return N})),s("8TSCy");var n=s("5Vgx8"),i=s("bCqxt"),a=s("kyj08"),o=s("cj7C1"),l=(s("jHOLN"),s("7qybv"));function u(e){return Promise.all(e)}function c(e){return new Promise((function(t,r){try{e(t,r)}catch(e){Promise.resolve().then((function(){return r(e)}))}}))}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Aborted";return new(0,a.default)("AbortError",e)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Aborted";if(h(e))throw f(t)}function d(e){return(0,l.isSome)(e)?"aborted"in e?e:e.signal:e}function h(e){var t=d(e);return(0,l.isSome)(t)&&t.aborted}function y(e){if(_(e))throw e}function v(e){if(!_(e))throw e}function m(e,t){var r=d(e);if(!(0,l.isNone)(r)){if(!r.aborted)return(0,o.once)(r,"abort",(function(){return t()}));t()}}function g(e,t){var r=d(e);if(!(0,l.isNone)(r))return p(r),(0,o.once)(r,"abort",(function(){return t(f())}))}function b(e,t){var r=d(t);return(0,l.isNone)(r)?e:new Promise((function(r,n){var i=m(t,(function(){return n(f())})),a=function(){return i=(0,l.removeMaybe)(i)};e.then(a,a),e.then(r,n)}))}function _(e){return e&&"AbortError"===e.name}function w(e){return e.catch((function(e){if(!_(e))throw e}))}function x(){var e=null,t=new Promise((function(t,r){e={promise:void 0,resolve:t,reject:r}}));return e.promise=t,e}function S(e){if(e){if("function"!=typeof e.forEach){var t=Object.keys(e);return S(t.map((function(t){return e[t]}))).then((function(e){var r={};return t.forEach((function(t,n){return r[t]=e[n]})),r}))}var r=e;return c((function(e){var t=[],n=r.length;0===n&&e(t),r.forEach((function(r){var i={promise:r||Promise.resolve(r)};t.push(i),i.promise.then((function(e){i.value=e})).catch((function(e){i.error=e})).then((function(){0===--n&&e(t)}))}))}))}}function k(e){return S(e).then((function(e){return e.filter((function(e){return!!e.value})).map((function(e){return e.value}))}))}function T(e){return Promise.reject(e)}function E(e){return Promise.resolve(e)}function I(e,t,r){var n=new AbortController;return m(r,(function(){return n.abort()})),new Promise((function(r,i){var a=setTimeout((function(){a=0,r(t)}),e);m(n,(function(){a&&(clearTimeout(a),i(f()))}))}))}function C(e){return e&&"function"==typeof e.then}function O(e){return C(e)?e:Promise.resolve(e)}function L(e){var t,r,i,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=null,u=function(){for(var c=arguments.length,p=new Array(c),d=0;d<c;d++)p[d]=arguments[d];if(t){r=p,a&&a.reject(f()),a=x();var h=(0,l.assumeNonNull)(a.promise);if(s){var y=s;s=null,y.abort()}return h}if(i=a||x(),a=null,o>0){var v=new AbortController,m=t=O(e.apply(void 0,n.default(p).concat([v.signal])));I(o).then((function(){t===m&&(a?v.abort():s=v)}))}else t=1,t=O(e.apply(void 0,n.default(p)));var g=function(){var e=r;r=i=t=s=null,null!=e&&u.apply(void 0,n.default(e))},b=t,_=i;return b.then(g,g),b.then(_.resolve,_.reject),(0,l.assumeNonNull)(_.promise)};return u}function A(){var e,t,r=new Promise((function(r,n){e=r,t=n})),n=function(t){e(t)};return n.resolve=function(t){return e(t)},n.reject=function(e){return t(e)},n.timeout=function(e,t){return i.clock.setTimeout((function(){return n.reject(t)}),e)},n.promise=r,n}function M(e,t){var r,n=new AbortController,i=e(n.signal),a={promise:i,finished:!1,abort:function(){n&&(n.abort(),n=null)}},o=function(){a&&(a.finished=!0,a=null),(0,l.isSome)(r)&&(r.remove(),r=null),n=null};return i.then(o,o),r=m(t,(function(){(0,l.isSome)(a)&&a.abort()})),a}function N(e){return Promise.resolve().then((function(){p(e)}))}})),s.register("bCqxt",(function(t,r){e(t.exports,"clock",(function(){return i}));var n,i=(n=globalThis,{setTimeout:function(e,t){var r=n.setTimeout(e,t);return{remove:function(){return n.clearTimeout(r)}}}})})),s.register("cj7C1",(function(t,r){function n(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function i(e,t,r){if(!n(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){var i=t.slice(),a=!0,o=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;e.addEventListener(c,r)}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return{remove:function(){var t=!0,n=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var l=o.value;e.removeEventListener(l,r)}}catch(e){n=!0,a=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw a}}}}}return e.addEventListener(t,r),{remove:function(){e.removeEventListener(t,r)}}}function a(e,t,r){if(!n(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);var a=i(e,t,(function(t){a.remove(),r.call(e,t)}));return{remove:function(){a.remove()}}}e(t.exports,"isEventTarget",(function(){return n})),e(t.exports,"on",(function(){return i})),e(t.exports,"once",(function(){return a})),e(t.exports,"eventKey",(function(){return s}));var o={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function s(e){var t=e.key;return o[t]||t}})),s.register("60cAN",(function(t,r){function n(e){return e}e(t.exports,"Milliseconds",(function(){return n}))})),s.register("3KTvH",(function(t,r){e(t.exports,"someSet",(function(){return n}));s("7qybv");function n(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=e.entries()[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){if(t(a.value[0]))return!0}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return!1}})),s.register("cQNwR",(function(t,r){e(t.exports,"generateUID",(function(){return i}));var n=0;function i(){return++n}})),s.register("ijmj7",(function(t,r){e(t.exports,"reaction",(function(){return l})),e(t.exports,"reactionDeferred",(function(){return u})),e(t.exports,"autorun",(function(){return c}));var n=s("8wQ0D"),i=s("47Ogg"),a=!1,o=[];function l(e,t){var r=new(0,i.SimpleTrackingTarget)((function i(){if(!r||s)return;if(a)return void f(i);var l=o;r.clear(),a=!0,s=!0,o=(0,n.runTracked)(r,e),s=!1,a=!1,t(o,l),p()})),o=null,s=!1;return s=!0,o=(0,n.runTracked)(r,e),s=!1,{remove:function(){r&&(r.destroy(),r=null,o=null)}}}function u(e,t){var r=new(0,i.SimpleTrackingTarget)((function(){t(a,o)})),a=null;function o(){return r?(r.clear(),a=(0,n.runTracked)(r,e)):null}return o(),{remove:function(){r&&(r.destroy(),r=null),a=null}}}function c(e){var t=new(0,i.SimpleTrackingTarget)((function i(){t&&!r&&(a?f(i):(t.clear(),a=!0,r=!0,(0,n.runTracked)(t,e),r=!1,a=!1,p()))})),r=!1;return r=!0,(0,n.runTracked)(t,e),r=!1,{remove:function(){t&&(t.destroy(),t=null)}}}function f(e){o.includes(e)||o.unshift(e)}function p(){for(;o.length;)o.pop()()}})),s.register("47Ogg",(function(t,r){e(t.exports,"SimpleTrackingTarget",(function(){return a})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=function(){"use strict";function e(t){n.default(this,e),this._notify=t,this._accessed=[],this._handles=[],this._invalidCount=0}return i.default(e,[{key:"destroy",value:function(){this._accessed.length=0,this.clear()}},{key:"onInvalidated",value:function(){this._invalidCount++}},{key:"onCommitted",value:function(){var e=this._invalidCount;if(1===e)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}},{key:"onObservableAccessed",value:function(e){this._accessed.includes(e)||this._accessed.push(e)}},{key:"onTrackingEnd",value:function(){for(var e=this._handles,t=this._accessed,r=0;r<t.length;++r)e.push(t[r].observe(this));t.length=0}},{key:"clear",value:function(){for(var e=this._handles,t=0;t<e.length;++t)e[t].remove();e.length=0}}]),e}()})),s.register("iho5X",(function(t,r){e(t.exports,"property",(function(){return u})),e(t.exports,"ensureRange",(function(){return p})),e(t.exports,"propertyJSONMeta",(function(){return c}));var n=s("jHOLN"),i=s("iJAIC"),a=s("jddML"),o=s("gy5s8"),l=s("62edV");function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,r){if(t===Function.prototype)throw new Error("Inappropriate use of @property() on a static field: ".concat(t.name,".").concat(r,". Accessor does not support static properties."));var s=Object.getOwnPropertyDescriptor(t,r),u=(0,o.getOwnPropertyMetadata)(t,r);s&&(s.get||s.set?(u.get=s.get||u.get,u.set=s.set||u.set):"value"in s&&("value"in e&&n.default.getLogger("esri.core.accessorSupport.decorators.property").warn('@property() will redefine the value of "'.concat(r,'" on "').concat(t.constructor.name,'" already defined in the metadata'),e),u.value=e.value=s.value)),null!=e.readOnly&&(u.readOnly=e.readOnly);var c=e.aliasOf;if(c){var d,h="string"==typeof c?c:c.source,y="string"==typeof c?null:!0===c.overridable;u.dependsOn=[h],u.get=function(){var e=(0,a.get)(this,h);if("function"==typeof e){d||(d=h.split(".").slice(0,-1).join("."));var t=(0,a.get)(this,d);t&&(e=e.bind(t))}return e},u.readOnly||(u.set=y?function(e){void 0!==e?this._override(r,e):this._clearOverride(r)}:function(e){(0,l.set)(this,h,e)})}var v=e.type,m=e.types;u.cast||(v?u.cast=f(v):m&&(Array.isArray(m)?u.cast=(0,i.ensureArrayTyped)((0,i.ensureOneOfType)(m[0])):u.cast=(0,i.ensureOneOfType)(m))),e.range&&(u.cast=p(u.cast,e.range)),(0,o.mergeProperty)(u,e)}}function c(e,t,r){var n=(0,o.getOwnPropertyMetadata)(e,r);n.json||(n.json={});var i=n.json;return void 0!==t&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function f(e){var t=0,r=e;if((0,i.isLongFormType)(e))return(0,i.ensureLongFormType)(e);for(;Array.isArray(r)&&1===r.length&&"string"!=typeof r[0]&&"number"!=typeof r[0];)r=r[0],t++;var n=r;if((0,i.isOneOf)(n))return 0===t?(0,i.ensureOneOf)(n):(0,i.ensureNArrayTyped)((0,i.ensureOneOf)(n),t);if(1===t)return(0,i.ensureArray)(n);if(t>1)return(0,i.ensureNArray)(n,t);var a=e;return a.from?a.from:(0,i.ensureType)(a)}function p(e,t){return function(r){var n=+e(r);return null!=t.step&&(n=Math.round(n/t.step)*t.step),null!=t.min&&(n=Math.max(t.min,n)),null!=t.max&&(n=Math.min(t.max,n)),n}}})),s.register("iJAIC",(function(t,r){e(t.exports,"ensureString",(function(){return f})),e(t.exports,"ensureNumber",(function(){return p})),e(t.exports,"ensureInteger",(function(){return d})),e(t.exports,"ensureClass",(function(){return b})),e(t.exports,"Integer",(function(){return M})),e(t.exports,"ensureType",(function(){return S})),e(t.exports,"ensureArrayTyped",(function(){return k})),e(t.exports,"ensureArray",(function(){return T})),e(t.exports,"ensureNArrayTyped",(function(){return I})),e(t.exports,"ensureNArray",(function(){return C})),e(t.exports,"isOneOf",(function(){return O})),e(t.exports,"ensureOneOf",(function(){return L})),e(t.exports,"ensureOneOfType",(function(){return A})),e(t.exports,"types",(function(){return N})),e(t.exports,"isLongFormType",(function(){return R})),e(t.exports,"ensureLongFormType",(function(){return P})),s("8TSCy");var n=s("kswSi"),i=s("f9pi5");s("2VlWd");var a=s("jHOLN"),o=s("edmn4"),l=a.default.getLogger("esri.core.Accessor");function u(e){return null==e?e:new Date(e)}function c(e){return null==e?e:!!e}function f(e){return null==e?e:e.toString()}function p(e){return null==e?e:(e=parseFloat(e),isNaN(e)?0:e)}function d(e){return null==e?e:Math.round(parseFloat(e))}function h(e){return e&&e.constructor&&void 0!==e.constructor.__accessorMetadata__}function y(e,t){return null!=t&&e&&!(t instanceof e)}function v(e){return e&&"isCollection"in e}function m(e){return e&&e.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function g(e,t){return!!h(t)&&(l.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+_(e)+"'"),!0)}function b(e,t){return null==t?t:v(e)?function(e,t){if(!t||!t.constructor||!v(t.constructor))return g(e,t)?t:new e(t);var r=m(e.prototype.itemType),n=m(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(g(e,t),t):new e(t):t}(e,t):y(e,t)?g(e,t)?t:new e(t):t}function _(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}var w=new WeakMap;function x(e){switch(e){case Number:return p;case M:return d;case Boolean:return c;case String:return f;case Date:return u;default:return(0,o.getOrCreateMapValue)(w,e,(function(){return b.bind(null,e)}))}}function S(e,t){var r=x(e);return 1===arguments.length?r:r(t)}function k(e,t,r){return 1===arguments.length?k.bind(null,e):t?Array.isArray(t)?t.map((function(t){return e(t,r)})):[e(t,r)]:t}function T(e,t){return 1===arguments.length?k(S.bind(null,e)):k(S.bind(null,e),t)}function E(e,t,r){return 0!==t&&Array.isArray(r)?r.map((function(r){return E(e,t-1,r)})):e(r)}function I(e,t,r){if(2===arguments.length)return I.bind(null,e,t);if(!r)return r;for(var n=t,i=r=E(e,t,r);n>0&&Array.isArray(i);)n--,i=i[0];if(void 0!==i)for(var a=0;a<n;a++)r=[r];return r}function C(e,t,r){return 2===arguments.length?I(S.bind(null,e),t):I(S.bind(null,e),t,r)}function O(e){return!!Array.isArray(e)&&!e.some((function(t){var r=void 0===t?"undefined":n.default(t);return!("string"===r||"number"===r||"function"===r&&e.length>1)}))}function L(e,t){if(2===arguments.length)return L(e).call(null,t);var r=new Set,i=e.filter((function(e){return"function"!=typeof e})),a=e.filter((function(e){return"function"==typeof e})),o=!0,s=!1,u=void 0;try{for(var c,f=e[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var p=c.value;"string"!=typeof p&&"number"!=typeof p||r.add(p)}}catch(e){s=!0,u=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw u}}var d=null,h=null;return function(e,t){if(null==e)return e;var o=void 0===e?"undefined":n.default(e),s="string"===o||"number"===o;return s&&(r.has(e)||a.some((function(e){return"string"===o&&e===String||"number"===o&&e===Number})))||"object"===o&&a.some((function(t){return!y(e,t)}))?e:(s&&i.length?(d||(d=i.map((function(e){return"string"==typeof e?"'".concat(e,"'"):"".concat(e)})).join(", ")),l.error("Accessor#set","'".concat(e,"' is not a valid value for this property, only the following values are valid: ").concat(d))):"object"==typeof e&&a.length?(h||(h=a.map((function(e){return _(e)})).join(", ")),l.error("Accessor#set","'".concat(e,"' is not a valid value for this property, value must be one of ").concat(h))):l.error("Accessor#set","'".concat(e,"' is not a valid value for this property")),t&&(t.valid=!1),null)}}function A(e,t){if(2===arguments.length)return A(e).call(null,t);var r={},n=[],i=[];for(var a in e.typeMap){var o=e.typeMap[a];r[a]=S(o),n.push(_(o)),i.push(a)}var s=function(){return"'".concat(n.join("', '"),"'")},u=function(){return"'".concat(i.join("', '"),"'")},c="string"==typeof e.key?function(t){return t[e.key]}:e.key;return function(t){if(e.base&&!y(e.base,t))return t;if(null==t)return t;var n=c(t)||e.defaultKeyValue,i=r[n];if(!i)return l.error("Accessor#set","Invalid property value, value needs to be one of ".concat(s(),", or a plain object that can autocast (having .type = ").concat(u(),")")),null;if(!y(e.typeMap[n],t))return t;if("string"==typeof e.key&&!h(t)){var a={};for(var o in t)o!==e.key&&(a[o]=t[o]);return i(a)}return i(t)}}var M=function e(){"use strict";i.default(this,e)},N={native:function(e){return{type:"native",value:e}},array:function(e){return{type:"array",value:e}},oneOf:function(e){return{type:"one-of",values:e}}};function R(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function P(e){switch(e.type){case"native":return S(e.value);case"array":return k(P(e.value));case"one-of":return t=e,r=null,function(e,n){return j(e,t)?e:(null==r&&(r=F(t)),l.error("Accessor#set","Invalid property value, value needs to be of type ".concat(r)),n&&(n.valid=!1),null)};default:return null}var t,r}function F(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case M:return"integer";case Date:return"date";default:return _(e.value)}case"array":return"array of ".concat(F(e.value));case"one-of":var t=e.values.map((function(e){return F(e)}));return"one of ".concat(t.slice(0,t.length-1)," or ").concat(t[t.length-1])}return"unknown"}function j(e,t){if(null==e)return!0;switch(t.type){case"native":switch(t.value){case Number:case M:return"number"==typeof e;case Boolean:return"boolean"==typeof e;case String:return"string"==typeof e}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some((function(e){return!j(e,t.value)}));case"one-of":return t.values.some((function(t){return j(e,t)}))}}})),s.register("edmn4",(function(t,r){e(t.exports,"someMap",(function(){return i})),e(t.exports,"getOrCreateMapValue",(function(){return a})),s("8TSCy");var n=s("iCnzh");function i(e,t){var r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=n.default(o.value,2),u=l[0];if(t(l[1],u))return!0}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return!1}function a(e,t,r){var n=e.get(t);if(void 0!==n)return n;var i=r();return e.set(t,i),i}})),s.register("fcwIv",(function(t,r){e(t.exports,"subclass",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("Kn7R4"),u=s("bFSSc");s("2VlWd");var c=s("al4em"),f=s("gy5s8"),p=s("8wQ0D"),d=s("axKEl"),h=new Set,y=new Set;function v(e){return function(t){t.prototype.declaredClass=e,function(e){var t=e.prototype,r=(0,f.getOwnClassMetadata)(t).properties,n={},i=!0,a=!1,o=void 0;try{for(var s,l=function(e,t){var i=t.value,a=r[i];(0,d.processPrototypePropertyMetadata)(a),n[i]={enumerable:!0,configurable:!0,get:m(i,a),set:function(e){var t=this.__accessor__;if(void 0!==t){if(!Object.isFrozen(this)){if(t.initialized&&a.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '".concat(i,"' of ").concat(this.declaredClass));if(t.lifecycle===c.Lifecycle.CONSTRUCTED&&a.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '".concat(i,"' of ").concat(this.declaredClass));t.set(i,e)}}else Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:e})}}},u=Object.getOwnPropertyNames(r)[Symbol.iterator]();!(i=(s=u.next()).done);i=!0)l(u,s)}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}Object.defineProperties(e.prototype,n)}(t);for(var r=[],s=[],p=t.prototype;p;)p.hasOwnProperty("initialize")&&!h.has(p.initialize)&&(h.add(p.initialize),r.push(p.initialize)),p.hasOwnProperty("destroy")&&!y.has(p.destroy)&&(y.add(p.destroy),s.push(p.destroy)),p=Object.getPrototypeOf(p);h.clear(),y.clear();var v=function(e){"use strict";n.default(c,e);var t=i.default(c);function c(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var f;if(a.default(this,c),(f=t.call.apply(t,[this].concat(o.default(n)))).constructor===c&&"function"==typeof f.postscript){if(r.length&&Object.defineProperty(l.default(f),"initialize",{enumerable:!1,configurable:!0,value:function(){for(var e=r.length-1;e>=0;e--)r[e].call(this)}}),s.length){var p=!1;Object.defineProperty(l.default(f),"destroy",{enumerable:!1,configurable:!0,value:function(){if(!p){p=!0;for(var e=0;e<s.length;e++)s[e].call(this)}}})}f.postscript.apply(f,o.default(n))}return u.default(f)}return c}(t);return v.__accessorMetadata__=(0,f.getOwnClassMetadata)(t.prototype),v.prototype.declaredClass=e,v}}function m(e,t){return null==t.get?function(){var t=this.__accessor__.properties.get(e);if(void 0!==t){(0,p.trackAccess)(t);var r=this.__accessor__.store;return r.has(e)?r.get(e):t.metadata.value}}:function(){var t=this.__accessor__.properties.get(e);if(void 0!==t)return t.getComputed()}}})),s.register("axKEl",(function(t,r){e(t.exports,"originSpecificReadPropertyDefinition",(function(){return c})),e(t.exports,"originSpecificPropertyDefinition",(function(){return p})),e(t.exports,"originSpecificWritePropertyDefinition",(function(){return f})),e(t.exports,"processPrototypePropertyMetadata",(function(){return v})),s("8TSCy");var n=s("ifq4M"),i=s("iJAIC"),a=s("aGjV8"),o=s("bVD6V"),l=s("8zUOz"),u=s("jtDF0");function c(e,t){return p(e,"read",t)}function f(e,t){return p(e,"write",t)}function p(e,t,r){var n=e&&e.json;if(e&&e.json&&e.json.origins&&r){var i=e.json.origins[r.origin];i&&("any"===t||t in i)&&(n=i)}return n}function d(e){var t,r,i=(t=e).json.types?y(t.json):t.type?h(t):y(t);if(e.json.origins)for(var a in e.json.origins){var s=e.json.origins[a],l=s.types?(r=s).type?h(r):y(r):i;(0,o.create)(l,s,!1),s.types&&!s.write&&e.json.write&&e.json.write.enabled&&(s.write=n.default({},e.json.write)),(0,u.create)(l,s)}(0,o.create)(i,e.json,!0),(0,u.create)(i,e.json)}function h(e){if(e.type){for(var t=0,r=e.type;Array.isArray(r)&&!(0,i.isOneOf)(r);)r=r[0],t++;return{type:r,ndimArray:t}}}function y(e){if(e.types){for(var t=0,r=e.types;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}}function v(e){(0,l.process)(e)&&((0,a.process)(e),d(e))}})),s.register("aGjV8",(function(t,r){function n(e){if(e.json&&e.json.origins){var t=function(e){if(r[e]){var t=r[e];n[e].forEach((function(e){r[e]=t})),delete r[e]}},r=e.json.origins,n={"web-document":["web-scene","web-map"]};for(var i in n)t(i)}}e(t.exports,"process",(function(){return n}))})),s.register("bVD6V",(function(t,r){e(t.exports,"create",(function(){return f})),e(t.exports,"createTypeReader",(function(){return p})),s("8TSCy");var n=s("kswSi"),i=s("jHOLN"),a=s("8EPEw"),o=s("lfedQ"),l=s("gy5s8"),u=s("7neos"),c=i.default.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function f(e,t,r){var n,i,o;e&&(!r&&!t.read||null!=(n=t.read)&&n.reader||!1===(null==(i=t.read)?void 0:i.enabled)||("types"in(o=e)?g(o.types):m(o.type))&&(0,a.setDeepValue)("read.reader",p(e),t))}function p(e){var t,r,n,i,a,o,s=null!=(t=e.ndimArray)?t:0;if(s>1)return i=d(r=e),a=h.bind(null,i),o=null!=(n=r.ndimArray)?n:0,function(e,t,r){if(null==e)return e;e=a(e,r,o);for(var n=o,i=e;n>0&&Array.isArray(i);)n--,i=i[0];if(void 0!==i)for(var s=0;s<n;s++)e=[e];return e};if(1===s)return y(e);if("type"in e&&v(e.type)){var l,u,c=null==(l=e.type.prototype)||null==(u=l.itemType)?void 0:u.Type,f=y("function"==typeof c?{type:c}:{types:c});return function(t,r,n){var i=f(t,r,n);return i?new e.type(i):i}}return d(e)}function d(e){return"type"in e?(s=e.type).prototype.read?function(e,t,r){if(null==e)return e;var i=void 0===e?"undefined":n.default(e);if("object"===i){var a=new s;return a.read(e,r),a}c.error("Expected JSON value of type 'object' to deserialize type '".concat(s.prototype.declaredClass,"', but got '").concat(i,"'"))}:s.fromJSON:(t=e.types,i=null,a=null!=(r=t.errorContext)?r:"type",function(e,r,s){if(null==e)return e;var u=void 0===e?"undefined":n.default(e);if("object"===u){i||(i=function(e){var t={};for(var r in e.typeMap){var n,i,a=e.typeMap[r],o=(0,l.getOwnClassMetadata)(a.prototype);if("function"!=typeof e.key){var s=o.properties[e.key];if(s){null!=(n=s.json)&&n.type&&Array.isArray(s.json.type)&&1===s.json.type.length&&"string"==typeof s.json.type[0]&&(t[s.json.type[0]]=a);var u=null==(i=s.json)?void 0:i.write;if(u&&u.writer){var c=u.target,f="string"==typeof c?c:e.key,p={};u.writer(r,p,f),p[f]&&(t[p[f]]=a)}else t[r]=a}}}return t}(t));var f=t.key;if("string"==typeof f){var p=e[f],d=p?i[p]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!d){var h="Type '".concat(p||"unknown","' is not supported");return s&&s.messages&&e&&s.messages.push(new(0,o.default)("".concat(a,":unsupported"),h,{definition:e,context:s})),void c.error(h)}var y=new d;return y.read(e,s),y}}else c.error("Expected JSON value of type 'object' to deserialize, but got '".concat(u,"'"))});var t,r,i,a,s}function h(e,t,r,n){return 0!==n&&Array.isArray(t)?t.map((function(t){return h(e,t,r,n-1)})):e(t,void 0,r)}function y(e){var t=d(e);return function(e,r,n){if(null==e)return e;if(Array.isArray(e)){var i=[],a=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value,f=t(c,void 0,n);void 0!==f&&i.push(f)}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return i}var p=t(e,void 0,n);return void 0!==p?[p]:void 0}}function v(e){if(!(0,u.isCollection)(e))return!1;var t=e.prototype.itemType;return!(!t||!t.Type)&&("function"==typeof t.Type?m(t.Type):g(t.Type))}function m(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||v(e))}function g(e){for(var t in e.typeMap)if(!m(e.typeMap[t]))return!1;return!0}})),s.register("lfedQ",(function(t,r){e(t.exports,"default",(function(){return u})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("Kn7R4"),l=s("bFSSc"),u=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e,n,i){var s;return a.default(this,r),s=t.call(this,e,n,i),o.default(s)instanceof r?l.default(s):l.default(s,new r(e,n,i))}return r}(s("6PEAB").default);u.prototype.type="warning"})),s.register("7neos",(function(t,r){function n(e){return!!e&&e.prototype&&e.prototype.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}e(t.exports,"isCollection",(function(){return n}))})),s.register("8zUOz",(function(t,r){function n(e){if(e.json||(e.json={}),a(e.json),o(e.json),i(e.json),e.json.origins)for(var t in e.json.origins)a(e.json.origins[t]),o(e.json.origins[t]),i(e.json.origins[t]);return!0}function i(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function a(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function o(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}e(t.exports,"process",(function(){return n}))})),s.register("jtDF0",(function(t,r){e(t.exports,"create",(function(){return u})),e(t.exports,"numberToJSON",(function(){return d}));var n=s("kyj08"),i=s("jHOLN"),a=s("8EPEw"),o=s("7neos"),l=i.default.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");function u(e,t){var r;if(t.write&&!t.write.writer&&(!1!==t.write.enabled||t.write.overridePolicy)){var n,i,s,l=null!=(r=null==e?void 0:e.ndimArray)?r:0;e&&(1===l||"type"in e&&(0,o.isCollection)(e.type))?t.write.writer=h:l>1?t.write.writer=(s=l,function(e,t,r,n){var i;if(null===e)i=null;else{i=y(e,n,s);for(var o=s,l=i;o>0&&Array.isArray(l);)o--,l=l[0];if(void 0!==l)for(var u=0;u<o;u++)i=[i]}(0,a.setDeepValue)(r,i,t)}):t.types?Array.isArray(t.types)?t.write.writer=(i=t.types[0],function(e,t,r,n){return e&&Array.isArray(e)?f(e.filter((function(e){return c(e,i,n)})),t,r,n):f(e,t,r,n)}):t.write.writer=(n=t.types,function(e,t,r,i){return e?c(e,n,i)?f(e,t,r,i):void 0:f(e,t,r,i)}):t.write.writer=f}}function c(e,t,r){for(var i in t.typeMap)if(e instanceof t.typeMap[i])return!0;if(null!=r&&r.messages){var a,o,s=null!=(a=t.errorContext)?a:"type",u="Values of type '".concat(null!=(o="function"!=typeof t.key?e[t.key]:e.declaredClass)?o:"Unknown","' cannot be written");r&&r.messages&&e&&r.messages.push(new(0,n.default)("".concat(s,":unsupported"),u,{definition:e,context:r})),l.error(u)}return!1}function f(e,t,r,n){(0,a.setDeepValue)(r,p(e,n),t)}function p(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?d(e):e}function d(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function h(e,t,r,n){var i;null===e?i=null:e&&"function"==typeof e.map?"function"==typeof(i=e.map((function(e){return p(e,n)}))).toArray&&(i=i.toArray()):i=[p(e,n)],(0,a.setDeepValue)(r,i,t)}function y(e,t,r){return 0!==r&&Array.isArray(e)?e.map((function(e){return y(e,t,r-1)})):p(e,t)}})),s.register("4ai7T",(function(t,r){var n,i;e(t.exports,"ObservableChangesType",(function(){return n})),(i=n||(n={}))[i.ADD=1]="ADD",i[i.REMOVE=2]="REMOVE",i[i.MOVE=4]="MOVE"})),s.register("8z0HP",(function(t,r){function n(e){return function(t,r){t[r]=e}}e(t.exports,"shared",(function(){return n}))})),s.register("1XvMS",(function(t,r){e(t.exports,"SimpleObservable",(function(){return o})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("icKh1"),o=function(){"use strict";function e(){n.default(this,e),this._observers=[]}return i.default(e,[{key:"observe",value:function(e){return this._observers.includes(e)||this._observers.push(e),new(0,a.ObservationHandle)(this._observers,e)}},{key:"notify",value:function(){for(var e=this._observers.slice(),t=0;t<e.length;++t){var r=e[t];r.onInvalidated(),r.onCommitted()}}}]),e}()})),s.register("30Aps",(function(t,r){e(t.exports,"referenceSetter",(function(){return i})),e(t.exports,"castForReferenceSetter",(function(){return a}));var n=s("d2yMj");function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.default;return t||(t=new r),t===e||(t.removeAll(),o(e)?t.addMany(e):e&&t.add(e)),t}function a(e){return e}function o(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}})),s.register("1XAcN",(function(t,r){e(t.exports,"JSONSupportMixin",(function(){return b})),e(t.exports,"JSONSupport",(function(){return w})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("Kn7R4"),u=s("jK9zx"),c=s("7eJjO"),f=s("jymfC"),p=s("7qybv"),d=s("5Tu1Y"),h=s("3Ya2N"),y=s("6MSKz"),v=s("5h4Y4"),m=s("3L2OJ"),g=s("fcwIv"),b=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;a.default(this,r),s=t.call.apply(t,[this].concat(o.default(n)));var u=(0,p.assumeNonNull)((0,v.getProperties)(l.default(s))),c=u.store,f=new(0,d.DefaultsStore);return u.store=f,(0,h.setupConstructedDefaults)(u,c,f),s}return u.default(r,[{key:"read",value:function(e,t){(0,y.read)(this,e,t)}},{key:"write",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,m.write)(this,e,t)}},{key:"toJSON",value:function(e){return this.write({},e)}}],[{key:"fromJSON",value:function(e,t){return _.call(this,e,t)}}]),r}(e);return(t=(0,c._)([(0,g.subclass)("esri.core.JSONSupport")],t)).prototype.toJSON.isDefaultToJSON=!0,t};function _(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");var r=new this;return r.read(e,t),r}var w=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return r}(b(f.default));w=(0,c._)([(0,g.subclass)("esri.core.JSONSupport")],w)})),s.register("5Tu1Y",(function(t,r){e(t.exports,"DefaultsStore",(function(){return u})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("5Vgx8"),o=s("flPLJ"),l=s("Ej9Ns"),u=function(){"use strict";function e(){n.default(this,e),this._values=new Map,this.multipleOriginsSupported=!1}return i.default(e,[{key:"clone",value:function(t){var r=new e;return this._values.forEach((function(e,n){t&&t.has(n)||r.set(n,(0,o.clone)(e.value),e.origin)})),r}},{key:"get",value:function(e,t){t=this._normalizeOrigin(t);var r=this._values.get(e);return null==t||(null==r?void 0:r.origin)===t?null==r?void 0:r.value:void 0}},{key:"originOf",value:function(e){var t,r;return null!=(t=null==(r=this._values.get(e))?void 0:r.origin)?t:l.OriginId.USER}},{key:"keys",value:function(e){var t=this;e=this._normalizeOrigin(e);var r=a.default(this._values.keys());return null==e?r:r.filter((function(r){var n;return(null==(n=t._values.get(r))?void 0:n.origin)===e}))}},{key:"set",value:function(e,t,r){if((r=this._normalizeOrigin(r))===l.OriginId.DEFAULTS){var n=this._values.get(e);if(n&&null!=n.origin&&n.origin>r)return}this._values.set(e,new c(t,r))}},{key:"delete",value:function(e,t){var r;null!=(t=this._normalizeOrigin(t))&&(null==(r=this._values.get(e))?void 0:r.origin)!==t||this._values.delete(e)}},{key:"has",value:function(e,t){var r;return null!=(t=this._normalizeOrigin(t))?(null==(r=this._values.get(e))?void 0:r.origin)===t:this._values.has(e)}},{key:"forEach",value:function(e){this._values.forEach((function(t,r){var n=t.value;return e(n,r)}))}},{key:"_normalizeOrigin",value:function(e){if(null!=e)return e===l.OriginId.DEFAULTS?e:l.OriginId.USER}}]),e}(),c=function e(t,r){"use strict";n.default(this,e),this.value=t,this.origin=r}})),s.register("3Ya2N",(function(t,r){e(t.exports,"setupConstructedDefaults",(function(){return i}));var n=s("Ej9Ns");function i(e,t,r){t.keys().forEach((function(e){r.set(e,t.get(e),n.OriginId.DEFAULTS)}));var i=e.metadatas;Object.keys(i).forEach((function(t){e.internalGet(t)&&r.set(t,e.internalGet(t),n.OriginId.DEFAULTS)}))}})),s.register("6MSKz",(function(t,r){e(t.exports,"read",(function(){return p})),e(t.exports,"readLoadable",(function(){return d})),s("8TSCy");var n=s("ifq4M"),i=s("jddML"),a=s("5h4Y4"),o=s("axKEl");function l(e,t,r){if(!e||!e.read||!1===e.read.enabled||!e.read.source)return!1;var n=e.read.source,a=!0,o=!1,s=void 0;if("string"==typeof n){if(n===t)return!0;if(n.indexOf(".")>-1&&0===n.indexOf(t)&&(0,i.exists)(n,r))return!0}else try{for(var l,u=n[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;if(c===t)return!0;if(c.indexOf(".")>-1&&0===c.indexOf(t)&&(0,i.exists)(c,r))return!0}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return!1}function u(e,t,r,n,i){var a,s=(0,o.originSpecificReadPropertyDefinition)(t[r],i);(a=s)&&(!a.read||!1!==a.read.enabled&&!a.read.source)&&(e[r]=!0);var u=!0,c=!1,f=void 0;try{for(var p,d=Object.getOwnPropertyNames(t)[Symbol.iterator]();!(u=(p=d.next()).done);u=!0){var h=p.value;l(s=(0,o.originSpecificReadPropertyDefinition)(t[h],i),r,n)&&(e[h]=!0)}}catch(e){c=!0,f=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw f}}}function c(e,t,r,n){var i=r.metadatas,a=(0,o.originSpecificPropertyDefinition)(i[t],"any",n),s=a&&a.default;if(void 0!==s){var l="function"==typeof s?s.call(e,t,n):s;void 0!==l&&r.set(t,l)}}var f={origin:"service"};function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;if(t&&"object"==typeof t){var n=(0,a.getProperties)(e),s=n.metadatas,l={},p=!0,d=!1,h=void 0;try{for(var y,v=Object.getOwnPropertyNames(t)[Symbol.iterator]();!(p=(y=v.next()).done);p=!0){var m=y.value;u(l,s,m,t,r)}}catch(e){d=!0,h=e}finally{try{p||null==v.return||v.return()}finally{if(d)throw h}}n.setDefaultOrigin(r.origin);var g=!0,b=!1,_=void 0;try{for(var w,x=Object.getOwnPropertyNames(l)[Symbol.iterator]();!(g=(w=x.next()).done);g=!0){var S=w.value,k=(0,o.originSpecificReadPropertyDefinition)(s[S],r).read,T=k&&k.source,E=void 0;E=T&&"string"==typeof T?(0,i.valueOf)(t,T):t[S],k&&k.reader&&(E=k.reader.call(e,E,t,r)),void 0!==E&&n.set(S,E)}}catch(e){b=!0,_=e}finally{try{g||null==x.return||x.return()}finally{if(b)throw _}}if(!r||!r.ignoreDefaults){n.setDefaultOrigin("defaults");var I=!0,C=!1,O=void 0;try{for(var L,A=Object.getOwnPropertyNames(s)[Symbol.iterator]();!(I=(L=A.next()).done);I=!0){var M=L.value;l[M]||c(e,M,n,r)}}catch(e){C=!0,O=e}finally{try{I||null==A.return||A.return()}finally{if(C)throw O}}}n.setDefaultOrigin("user")}}function d(e,t,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f,o=n.default({},a,{messages:[]});r(o),null==(i=o.messages)||i.forEach((function(t){"warning"!==t.type||e.loaded?a&&a.messages&&a.messages.push(t):e.loadWarnings.push(t)}))}})),s.register("3L2OJ",(function(t,r){e(t.exports,"willPropertyWrite",(function(){return p})),e(t.exports,"write",(function(){return d}));var n=s("lNwWH"),i=s("kyj08"),a=s("jHOLN"),o=s("Ej9Ns"),l=s("5h4Y4"),u=s("axKEl"),c=a.default.getLogger("esri.core.accessorSupport.write");function f(e,t,r,a,s,l){if(!a||!a.write)return!1;var u=e.get(r);if(!s&&a.write.overridePolicy){var f=a.write.overridePolicy.call(e,u,r,l);void 0!==f&&(s=f)}if(s||(s=a.write),!s||!1===s.enabled)return!1;if((null===u&&!s.allowNull&&!s.writerEnsuresNonNull||void 0===u)&&s.isRequired){var p=new(0,i.default)("web-document-write:property-required","Missing value for required property '".concat(r,"' on '").concat(e.declaredClass,"'"),{propertyName:r,target:e});return p&&l&&l.messages?l.messages.push(p):p&&!l&&c.error(p.name,p.message),!1}return void 0!==u&&(!(null===u&&!s.allowNull&&!s.writerEnsuresNonNull)&&(!((!t.store.multipleOriginsSupported||t.store.originOf(r)===o.OriginId.DEFAULTS)&&function(e,t,r,i,a){var o=i.default;if(void 0===o)return!1;if(null!=i.defaultEquals)return i.defaultEquals(a);if("function"==typeof o){if(Array.isArray(a)){var s=o.call(e,t,r);return(0,n.equals)(s,a)}return!1}return o===a}(e,r,l,a,u))&&!(!s.ignoreOrigin&&l&&l.origin&&t.store.multipleOriginsSupported&&t.store.originOf(r)<(0,o.nameToId)(l.origin))))}function p(e,t,r,n){var i=(0,l.getProperties)(e),a=i.metadatas,o=(0,u.originSpecificWritePropertyDefinition)(a[t],n);return!!o&&f(e,i,t,o,r,n)}function d(e,t,r){var n=function(n){var s=(0,u.originSpecificWritePropertyDefinition)(a[n],r);if(!f(e,i,n,s,void 0,r))return"continue";var c,p,d,h,y,v,m,g,b,_,w=e.get(n),x=(c=e,p=s,d=s.write&&"string"==typeof s.write.target?s.write.target:n,h=w,y=r,g={},null==(v=p.write)||null==(m=v.writer)||m.call(c,h,g,d,y),g);Object.keys(x).length>0&&(t=(0,l.merge)(t,x),null!=r&&null!=(b=r.resources)&&null!=(_=b.pendingOperations)&&_.length&&Promise.all(r.resources.pendingOperations).then((function(){return(0,l.merge)(t,x)})),r&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:n,oldOrigin:(0,o.idToReadableName)(i.store.originOf(n)),newOrigin:r.origin}))};if(e&&"function"==typeof e.toJSON&&(!e.toJSON.isDefaultToJSON||!e.write))return(0,l.merge)(t,e.toJSON());var i=(0,l.getProperties)(e),a=i.metadatas;for(var s in a)n(s);return t}})),s.register("bQCqB",(function(t,r){e(t.exports,"default",(function(){return T})),s("8TSCy");var n,i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("5Vgx8"),u=s("Kn7R4"),c=s("bFSSc"),f=s("jK9zx"),p=s("7eJjO"),d=s("kyj08"),h=s("hmHbS"),y=s("10vEZ"),v=s("lfedQ"),m=s("iho5X"),g=s("fcwIv"),b="not-loaded",_="loading",w="failed",x="loaded",S=function(e){var t=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a;return o.default(this,r),(a=t.call.apply(t,[this].concat(l.default(n))))._loadController=null,a.loadError=null,a.loadStatus="not-loaded",a._set("loadWarnings",[]),a.addResolvingPromise(new Promise((function(e){var t=a.load.bind(u.default(a));a.load=function(r){var n=new Promise((function(e,t){var n=(0,y.onAbortOrThrow)(r,t);a.destroyed&&t(new(0,d.default)("load:instance-destroyed","Instance of '".concat(a.declaredClass||a.constructor.name,"' is already destroyed"),{instance:u.default(a)})),a._promiseProps.when(e,t).finally((function(){n&&n.remove()}))}));if(a.loadStatus===b){a._set("loadStatus",_);var i=a._loadController=new AbortController;t({signal:i.signal}),(0,y.onAbort)(i.signal,(function(){a._promiseProps.abort()}))}return e(),n}}))),a.when((function(){a._set("loadStatus",x),a._loadController=null}),(function(e){a._set("loadStatus",w),a._set("loadError",e),a._loadController=null})),c.default(a)}return f.default(r,[{key:"loaded",get:function(){return this.loadStatus===x}},{key:"loadWarnings",get:function(){return this._get("loadWarnings")}},{key:"load",value:function(){return null}},{key:"cancelLoad",value:function(){var e;return this.isFulfilled()||(this._set("loadError",new(0,d.default)("load:cancelled","Cancelled")),null==(e=this._loadController)||e.abort()),this}}]),r}(e);return(0,p._)([(0,m.property)({readOnly:!0})],t.prototype,"loaded",null),(0,p._)([(0,m.property)({readOnly:!0})],t.prototype,"loadError",void 0),(0,p._)([(0,m.property)({clonable:!1})],t.prototype,"loadStatus",void 0),(0,p._)([(0,m.property)({type:[v.default],readOnly:!0})],t.prototype,"loadWarnings",null),t=(0,p._)([(0,g.subclass)("esri.core.Loadable")],t)},k=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(){return o.default(this,r),t.apply(this,arguments)}return r}(S(h.EsriPromise));k=(0,p._)([(0,g.subclass)("esri.core.Loadable")],k),(n=k||(k={})).LoadableMixin=S,n.isLoadable=function(e){return!(!e||!e.load)};var T=k})),s.register("hmHbS",(function(t,r){e(t.exports,"EsriPromiseMixin",(function(){return b})),e(t.exports,"EsriPromise",(function(){return _})),s("8TSCy");var n,i,a=s("f9pi5"),o=s("jK9zx"),l=s("5Vgx8"),u=s("g9uIT"),c=s("dap1g"),f=s("Kn7R4"),p=s("bFSSc"),d=s("7eJjO"),h=s("jymfC"),y=s("7qybv"),v=s("10vEZ"),m=s("fcwIv");(i=n||(n={}))[i.PENDING=0]="PENDING",i[i.RESOLVED=1]="RESOLVED",i[i.REJECTED=2]="REJECTED";var g=function(){"use strict";function e(t){var r=this;a.default(this,e),this.instance=t,this._resolver=(0,v.createDeferred)(),this._status=n.PENDING,this._resolvingPromises=[],this._resolver.promise.then((function(){r._status=n.RESOLVED,r._cleanUp()}),(function(){r._status=n.REJECTED,r._cleanUp()}))}return o.default(e,[{key:"addResolvingPromise",value:function(e){this._resolvingPromises.push(e),this._tryResolve()}},{key:"isResolved",value:function(){return this._status===n.RESOLVED}},{key:"isRejected",value:function(){return this._status===n.REJECTED}},{key:"isFulfilled",value:function(){return this._status!==n.PENDING}},{key:"abort",value:function(){this._resolver.reject((0,v.createAbortError)())}},{key:"when",value:function(e,t){return this._resolver.promise.then(e,t)}},{key:"_cleanUp",value:function(){this._allPromise=this._resolvingPromises=this._allPromise=null}},{key:"_tryResolve",value:function(){var e=this;if(!this.isFulfilled()){var t=(0,v.createDeferred)(),r=l.default(this._resolvingPromises).concat([(0,y.assumeNonNull)(t.promise)]),n=this._allPromise=Promise.all(r);n.then((function(){e.isFulfilled()||e._allPromise!==n||e._resolver.resolve(e.instance)}),(function(t){e.isFulfilled()||e._allPromise!==n||(0,v.isAbortError)(t)||e._resolver.reject(t)})),t.resolve()}}}]),e}(),b=function(e){var t=function(e){"use strict";u.default(r,e);var t=c.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o;return a.default(this,r),(o=t.call.apply(t,[this].concat(l.default(n))))._promiseProps=new g(f.default(o)),o.addResolvingPromise(Promise.resolve()),p.default(o)}return o.default(r,[{key:"isResolved",value:function(){return this._promiseProps.isResolved()}},{key:"isRejected",value:function(){return this._promiseProps.isRejected()}},{key:"isFulfilled",value:function(){return this._promiseProps.isFulfilled()}},{key:"when",value:function(e,t){var r=this;return new Promise((function(e,t){r._promiseProps.when(e,t)})).then(e,t)}},{key:"catch",value:function(e){return this.when(null,e)}},{key:"addResolvingPromise",value:function(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}}]),r}(e);return t=(0,d._)([(0,m.subclass)("esri.core.Promise")],t)},_=function(e){"use strict";u.default(r,e);var t=c.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return r}(b(h.default));_=(0,d._)([(0,m.subclass)("esri.core.Promise")],_)})),s.register("9MlGz",(function(t,r){e(t.exports,"loadAll",(function(){return p})),e(t.exports,"loadAllChildren",(function(){return h})),s("8TSCy");var i=s("jcnGU"),a=s("5Vgx8"),o=s("2TvXO"),l=s("dqkq5"),u=s("d2yMj"),c=s("bQCqB"),f=s("7qybv");function p(e,t){return d.apply(this,arguments)}function d(){return(d=i.default(n(o).mark((function e(t,r){return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:return e.abrupt("return",(e.sent,h(t,r)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return y.apply(this,arguments)}function y(){return y=i.default(n(o).mark((function e(t,r){var s,p,d;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=[],p=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=!0,i=!1,o=void 0;try{for(var l,d=t[Symbol.iterator]();!(n=(l=d.next()).done);n=!0){var h=l.value;(0,f.isNone)(h)||(Array.isArray(h)?p.apply(void 0,a.default(h)):u.default.isCollection(h)?h.forEach((function(e){return p(e)})):c.default.isLoadable(h)&&s.push(h))}}catch(e){i=!0,o=e}finally{try{n||null==d.return||d.return()}finally{if(i)throw o}}},r(p),d=null,e.next=5,(0,l.map)(s,function(){var e=i.default(n(o).mark((function e(t){return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t1=!1,e.next=3,(0,l.result)(v(t)?t.loadAll():t.load());case 3:if(e.t2=e.sent.ok,e.t0=e.t1!==e.t2,e.t0){e.next=7;break}e.t0=d;case 7:if(e.t3=e.t0,e.t3){e.next=10;break}d=t;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:if(e.sent,!d){e.next=7;break}throw d.loadError;case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function v(e){return"loadAll"in e&&"function"==typeof e.loadAll}})),s.register("dqkq5",(function(t,r){e(t.exports,"forEach",(function(){return a})),e(t.exports,"map",(function(){return o})),e(t.exports,"result",(function(){return l})),e(t.exports,"resultOrAbort",(function(){return u}));var n=s("7qybv"),i=s("10vEZ");function a(e,t,r){return(0,i.eachAlways)(e.map((function(e,n){return t.apply(r,[e,n])})))}function o(e,t,r){return(0,i.eachAlways)(e.map((function(e,n){return t.apply(r,[e,n])}))).then((function(e){return e.map((function(e){return e.value}))}))}function l(e){return(0,n.isNone)(e)?(0,i.resolve)():e.then((function(e){return{ok:!0,value:e}})).catch((function(e){return{ok:!1,error:e}}))}function u(e){return e.then((function(e){return{ok:!0,value:e}})).catch((function(e){return(0,i.throwIfAbortError)(e),{ok:!1,error:e}}))}})),s.register("kYueh",(function(t,r){e(t.exports,"Url",(function(){return T})),e(t.exports,"getAppUrl",(function(){return A})),e(t.exports,"getAppBaseUrl",(function(){return M})),e(t.exports,"urlToObject",(function(){return N})),e(t.exports,"queryToObject",(function(){return R})),e(t.exports,"objectToQuery",(function(){return F})),e(t.exports,"getProxyUrl",(function(){return j})),e(t.exports,"isHTTPSProtocol",(function(){return de})),e(t.exports,"getProxyRule",(function(){return z})),e(t.exports,"toHTTPS",(function(){return ye})),e(t.exports,"addProxy",(function(){return D})),e(t.exports,"addProxyRule",(function(){return H})),e(t.exports,"hasSamePortal",(function(){return W})),e(t.exports,"normalize",(function(){return Y})),e(t.exports,"getInterceptor",(function(){return J})),e(t.exports,"hasSameOrigin",(function(){return q})),e(t.exports,"isTrustedServer",(function(){return X})),e(t.exports,"isAbsolute",(function(){return ee})),e(t.exports,"isProtocolRelative",(function(){return fe})),e(t.exports,"makeAbsolute",(function(){return K})),e(t.exports,"getOrigin",(function(){return Q})),e(t.exports,"join",(function(){return Z})),e(t.exports,"makeRelative",(function(){return $})),e(t.exports,"isBlobProtocol",(function(){return te})),e(t.exports,"isDataProtocol",(function(){return re})),e(t.exports,"dataToArrayBuffer",(function(){return ne})),e(t.exports,"dataComponents",(function(){return oe})),e(t.exports,"base64UrlEncode",(function(){return ie})),e(t.exports,"makeData",(function(){return se})),e(t.exports,"downloadBlobAsFile",(function(){return le})),e(t.exports,"removeFile",(function(){return be})),e(t.exports,"getFilename",(function(){return _e})),e(t.exports,"removeTrailingSlash",(function(){return we})),e(t.exports,"changeDomain",(function(){return xe})),e(t.exports,"isSVG",(function(){return ke})),e(t.exports,"removeQueryParameters",(function(){return Te})),e(t.exports,"addQueryParameter",(function(){return Ee})),e(t.exports,"addQueryParameters",(function(){return Ie})),e(t.exports,"getPathExtension",(function(){return Ce})),s("8TSCy");var n,i,a=s("f9pi5"),o=s("jK9zx"),l=s("ifq4M"),u=s("iCnzh"),c=s("cu9iz"),f=s("kyj08"),p=s("jHOLN"),d=s("7qybv"),h=p.default.getLogger("esri.core.urlUtils"),y=c.default.request,v="esri/config: esriConfig.request.proxyUrl is not set.",m=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,g=/^\s*http:/i,b=/^\s*https:/i,_=/^\s*file:/i,w=/:\d+$/,x=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,S=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),k=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),T=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";a.default(this,e),this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;var r=(0,d.assumeNonNull)(this.uri.match(S));this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),null!=this.authority&&(r=(0,d.assumeNonNull)(this.authority.match(k)),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}return o.default(e,[{key:"toString",value:function(){return this.uri}}]),e}(),E={},I=new T(c.default.applicationUrl),C=I,O=(n=(0,d.assumeNonNull)(C.path),i=n.substring(0,n.lastIndexOf(n.split("/")[n.split("/").length-1])),"".concat("".concat(C.scheme,"://").concat(C.host).concat(null!=C.port?":".concat(C.port):"")).concat(i)),L=O,A=function(){return C},M=function(){return L};function N(e){var t={path:null,query:null},r=new T(e),n=e.indexOf("?");return null===r.query?t.path=e:(t.path=e.substring(0,n),t.query=R(r.query)),r.fragment&&(t.hash=r.fragment,null===r.query&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function R(e){var t=e.split("&"),r={},n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;if(l){var u=l.indexOf("="),c=void 0,f=void 0;u<0?(c=decodeURIComponent(l),f=""):(c=decodeURIComponent(l.slice(0,u)),f=decodeURIComponent(l.slice(u+1)));var p=r[c];"string"==typeof p&&(p=r[c]=[p]),Array.isArray(p)?p.push(f):r[c]=f}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}function P(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}function F(e,t){return e?t&&"function"==typeof t?Object.keys(e).map((function(r){return encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r]))})).join("&"):Object.keys(e).map((function(r){var n=e[r];if(null==n)return"";var i=encodeURIComponent(r)+"=",a=t&&t[r];return a?i+encodeURIComponent(a(n)):Array.isArray(n)?n.map((function(e){return P(e)?i+encodeURIComponent(JSON.stringify(e)):i+encodeURIComponent(e)})).join("&"):P(n)?i+encodeURIComponent(JSON.stringify(n)):i+encodeURIComponent(n)})).filter((function(e){return e})).join("&"):""}function j(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=y.proxyUrl;if("string"==typeof t){e=de(t);var n=z(t);n&&(r=n.proxyUrl)}else e=!!t;if(!r)throw h.warn(v),new(0,f.default)("urlutils:proxy-not-set",v);return e&&ve()&&(r=ye(r)),N(r)}function D(e){var t,r,n=z(e);if(n){var i=V(n.proxyUrl);t=i.path,r=i.query?R(i.query):null}if(t){var a=N(e);e=t+"?"+a.path;var o=F(l.default({},r,a.query));o&&(e="".concat(e,"?").concat(o))}return e}var U={path:"",query:""};function V(e){var t=e.indexOf("?");return-1!==t?(U.path=e.slice(0,t),U.query=e.slice(t+1)):(U.path=e,U.query=null),U}function B(e){return(e=me((t=e=V(e).path,e=t&&"/"===t[t.length-1]?t:"".concat(t,"/")),!0)).toLowerCase();var t}function H(e){for(var t={proxyUrl:e.proxyUrl,urlPrefix:B(e.urlPrefix)},r=y.proxyRules,n=t.urlPrefix,i=r.length,a=0;a<r.length;a++){var o=r[a].urlPrefix;if(0===n.indexOf(o)){if(n.length===o.length)return-1;i=a;break}0===o.indexOf(n)&&(i=a+1)}return r.splice(i,0,t),i}function z(e){for(var t=y.proxyRules,r=B(e),n=0;n<t.length;n++)if(0===r.indexOf(t[n].urlPrefix))return t[n]}function W(e,t){return e=G(e),t=G(t),me(e)===me(t)}function G(e){var t=(e=Y(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function J(e){var t=function(t){return null==t||t instanceof RegExp&&t.test(e)||"string"==typeof t&&e.startsWith(t)},r=y.interceptors;if(r){var n=!0,i=!1,a=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;if(Array.isArray(l.urls)){if(l.urls.some(t))return l}else if(t(l.urls))return l}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}return null}function q(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Se(e),i=Se(t);return!(!r&&n.scheme!==i.scheme)&&null!=n.host&&null!=i.host&&n.host.toLowerCase()===i.host.toLowerCase()&&n.port===i.port}function X(e){if("string"==typeof e){if(!ee(e))return!0;e=Se(e)}if(q(e,C))return!0;for(var t,r=y.trustedServers||[],n=0;n<r.length;n++)for(var i=(t=r[n],E[t]||(pe(t)||fe(t)?E[t]=[new T(K(t))]:E[t]=[new T("http://".concat(t)),new T("https://".concat(t))]),E[t]),a=0;a<i.length;a++)if(q(e,i[a]))return!0;return!1}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L,r=arguments.length>2?arguments[2]:void 0;return fe(e)?r&&r.preserveProtocolRelative?e:"http"===C.scheme&&C.authority===Q(e).slice(2)?"http:".concat(e):"https:".concat(e):pe(e)?e:(0,d.assumeNonNull)(Z("/"===e[0]?ge(t):t,e))}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L,r=arguments.length>2?arguments[2]:void 0;if(!ee(e))return e;var n=Y(e),i=n.toLowerCase(),a=Y(t).toLowerCase().replace(/\/+$/,""),o=r?Y(r).toLowerCase().replace(/\/+$/,""):null;if(o&&0!==a.indexOf(o))return e;for(var s=function(e,t,r){return-1===(r=e.indexOf(t,r))?e.length:r},l=s(i,"/",i.indexOf("//")+2),u=-1;i.slice(0,l+1)===a.slice(0,l)+"/"&&(u=l+1,l!==i.length);)l=s(i,"/",l+1);if(-1===u)return e;if(o&&u<o.length)return e;e=n.slice(u);var c=a.slice(u-1).replace(/[^/]+/g,"").length;if(c>0)for(var f=0;f<c;f++)e="../".concat(e);else e="./".concat(e);return e}function Y(e){return function(e){var t=y.httpsDomains;if(r=e,!(g.test(r)||"http"===C.scheme&&fe(r)))return e;var r;var n,i=e.indexOf("/",7);if(n=(n=-1===i?e:e.slice(0,i)).toLowerCase().slice(7),w.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return"http"===C.scheme&&n===C.authority&&!x.test(e)||(ve()&&n===C.authority||t&&t.some((function(e){return n===e||n.endsWith(".".concat(e))}))||ve()&&!z(e))&&(e=ye(e)),e}((t=e=function(e){if(/^https?:\/\//i.test(e)){var t=V(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+="?".concat(t.query))}return e}(e=K(e=e.trim())),e=t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")));var t}function Z(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(d.isSome);if(n&&n.length){var i=[];if(ee(n[0])){var a=n[0],o=a.indexOf("//");-1!==o&&(i.push(a.slice(0,o+1)),he(n[0])&&(i[0]+="/"),n[0]=a.slice(o+2))}else"/"===n[0][0]&&i.push("");for(var s=n.reduce((function(e,t){return t?e.concat(t.split("/")):e}),[]),l=0;l<s.length;l++){var u=s[l];".."===u&&i.length>0&&".."!==i[i.length-1]?i.pop():(!u&&l===s.length-1||u&&("."!==u||0===i.length))&&i.push(u)}return i.join("/")}}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(te(e)||re(e))return null;var r=e.indexOf("://");if(-1===r&&fe(e))r=2;else{if(-1===r)return null;r+=3}var n=e.indexOf("/",r);return-1!==n&&(e=e.slice(0,n)),t&&(e=me(e,!0)),e}function ee(e){return fe(e)||pe(e)}function te(e){return null!=e&&"blob:"===e.slice(0,5)}function re(e){return"data:"===e.slice(0,5)}function ne(e){var t=oe(e);if(!t||!t.isBase64)return null;for(var r=atob(t.data),n=new Uint8Array(r.length),i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n.buffer}function ie(e){return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}var ae=/^data:(.*?)(;base64)?,(.*)$/;function oe(e){var t=e.match(ae);if(!t)return null;var r=u.default(t,4);return{mediaType:r[1],isBase64:!!r[2],data:r[3]}}function se(e){return e.isBase64?"data:".concat(e.mediaType,";base64,").concat(e.data):"data:".concat(e.mediaType,",").concat(e.data)}function le(e,t){ue(e,t)||ce(e,t)}function ue(e,t){if(!e)return!1;var r=document.createElement("a");if(!("download"in r))return!1;var n=URL.createObjectURL(e);return r.download=t,r.href=n,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),!0}function ce(e,t){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,t)}function fe(e){return null!=e&&void 0!==e&&"/"===e[0]&&"/"===e[1]}function pe(e){return m.test(e)}function de(e){return b.test(e)||"https"===C.scheme&&fe(e)}function he(e){return _.test(e)}function ye(e){return fe(e)?"https:".concat(e):e.replace(g,"https:")}function ve(){return"https"===C.scheme}function me(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return fe(e)?e.slice(2):(e=e.replace(m,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function ge(e){var t=e.indexOf("//"),r=e.indexOf("/",t+2);return-1===r?e:e.slice(0,r)}function be(e){var t=0;if(ee(e)){var r=e.indexOf("//");-1!==r&&(t=r+2)}var n=e.lastIndexOf("/");return n<t?e:e.slice(0,n+1)}function _e(e,t){if(!e)return"";var r=N(e).path.replace(/\/+$/,""),n=r.substring(r.lastIndexOf("/")+1);if(null==t||!t.length)return n;var i=new RegExp(".(".concat(t.join("|"),")$"),"ig");return n.replace(i,"")}function we(e){return e.replace(/\/+$/,"")}function xe(e,t,r){if(!(t&&r&&e&&ee(e)))return e;var n=e.indexOf("//"),i=e.indexOf("/",n+2),a=e.indexOf(":",n+2),o=Math.min(i<0?e.length:i,a<0?e.length:a);return e.slice(n+2,o).toLowerCase()!==t.toLowerCase()?e:"".concat(e.slice(0,n+2)).concat(r).concat(e.slice(o))}function Se(e){return"string"==typeof e?new T(K(e)):(e.scheme||(e.scheme=C.scheme),e)}function ke(e){return Le.test(e)}function Te(e,t){var r=N(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: ".concat(n.join(", "),".")),r.path}function Ee(e,t,r){var n=N(e),i=n.query||{};return i[t]=String(r),"".concat(n.path,"?").concat(F(i))}function Ie(e,t){var r=N(e),n=r.query||{};for(var i in t)n[i]=t[i];var a=F(n);return a?"".concat(r.path,"?").concat(a):r.path}function Ce(e){if((0,d.isNone)(e))return null;var t=e.match(Oe);return t?t[1]:null}var Oe=/.*?\.([^\/]*)$/,Le=/(^data:image\/svg|\.svg$)/i})),s.register("kced1",(function(t,r){e(t.exports,"writer",(function(){return i}));var n=s("iho5X");function i(e,t,r){var i,a;return void 0===t?(a=e,i=[void 0]):"string"!=typeof t?(a=e,i=[void 0],r=t):(a=t,i=Array.isArray(e)?e:[e]),function(e,t){var o=e.constructor.prototype,s=!0,l=!1,u=void 0;try{for(var c,f=i[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var p=c.value,d=(0,n.propertyJSONMeta)(e,p,a);d.write&&"object"==typeof d.write||(d.write={}),r&&(d.write.target=r),d.write.writer=o[t]}}catch(e){l=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}}}})),s.register("j40xv",(function(t,r){e(t.exports,"default",(function(){return _})),s("8TSCy");var n,i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("aNiFM"),f=s("7eJjO"),p=s("1XAcN"),d=s("flPLJ"),h=s("iJAIC"),y=s("iho5X"),v=s("fcwIv"),m=s("kced1"),g=s("eY5Yp"),b=n=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).latestWkid=null,n.wkid=null,n.wkt=null,n.vcsWkid=null,n.latestVcsWkid=null,n.imageCoordinateSystem=null,l.default(n)}return u.default(r,[{key:"normalizeCtorArgs",value:function(e){return e&&"object"==typeof e?e:c.default({},"string"==typeof e?"wkt":"wkid",e)}},{key:"isWGS84",get:function(){return(0,g.isWGS84)(this)}},{key:"isWebMercator",get:function(){return(0,g.isWebMercator)(this)}},{key:"isGeographic",get:function(){return(0,g.isGeographic)(this)}},{key:"isWrappable",get:function(){return(0,g.isWrappable)(this)}},{key:"writeWkt",value:function(e,t){this.wkid||(t.wkt=e)}},{key:"clone",value:function(){if(this===n.WGS84)return n.WGS84;if(this===n.WebMercator)return n.WebMercator;var e=new n;return null!=this.wkid?(e.wkid=this.wkid,null!=this.latestWkid&&(e.latestWkid=this.latestWkid),null!=this.vcsWkid&&(e.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(e.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=(0,d.clone)(this.imageCoordinateSystem)),e}},{key:"equals",value:function(e){if(null==e)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==e.imageCoordinateSystem)return!1;var t=e.imageCoordinateSystem,r=t.id,n=t.referenceServiceName,i=e.imageCoordinateSystem.geodataXform,a=this.imageCoordinateSystem;return null==r||i?JSON.stringify(a)===JSON.stringify(e.imageCoordinateSystem):n?a.id===r&&a.referenceServiceName===n:a.id===r}return(0,g.equals)(this,e)}},{key:"toJSON",value:function(e){return this.write(void 0,e)}}],[{key:"fromJSON",value:function(e){if(!e)return null;if(e.wkid){if(102100===e.wkid)return n.WebMercator;if(4326===e.wkid)return n.WGS84}var t=new n;return t.read(e),t}}]),r}(p.JSONSupport);b.GCS_NAD_1927=null,b.WGS84=null,b.WebMercator=null,b.PlateCarree=null,(0,f._)([(0,y.property)({readOnly:!0})],b.prototype,"isWGS84",null),(0,f._)([(0,y.property)({readOnly:!0})],b.prototype,"isWebMercator",null),(0,f._)([(0,y.property)({readOnly:!0})],b.prototype,"isGeographic",null),(0,f._)([(0,y.property)({readOnly:!0})],b.prototype,"isWrappable",null),(0,f._)([(0,y.property)({type:h.Integer,json:{write:!0}})],b.prototype,"latestWkid",void 0),(0,f._)([(0,y.property)({type:h.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt}}}}}}})],b.prototype,"wkid",void 0),(0,f._)([(0,y.property)({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid}}}}}}})],b.prototype,"wkt",void 0),(0,f._)([(0,m.writer)("wkt"),(0,m.writer)("web-scene","wkt")],b.prototype,"writeWkt",null),(0,f._)([(0,y.property)({type:h.Integer,json:{write:!0}})],b.prototype,"vcsWkid",void 0),(0,f._)([(0,y.property)({type:h.Integer,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0),(0,f._)([(0,y.property)()],b.prototype,"imageCoordinateSystem",void 0),(b=n=(0,f._)([(0,v.subclass)("esri.geometry.SpatialReference")],b)).prototype.toJSON.isDefaultToJSON=!0,b.GCS_NAD_1927=new b({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),b.WGS84=new b(g.WGS84),b.WebMercator=new b(g.WebMercator),b.PlateCarree=new b(g.PlateCarree),Object.freeze&&(Object.freeze(b.GCS_NAD_1927),Object.freeze(b.WGS84),Object.freeze(b.WebMercator));var _=b})),s.register("eY5Yp",(function(t,r){e(t.exports,"equals",(function(){return h})),e(t.exports,"isWebMercator",(function(){return _})),e(t.exports,"getInfo",(function(){return y})),e(t.exports,"isValid",(function(){return I})),e(t.exports,"isGeographic",(function(){return v})),e(t.exports,"isEarth",(function(){return m})),e(t.exports,"isMars",(function(){return S})),e(t.exports,"isMoon",(function(){return T})),e(t.exports,"isWGS84",(function(){return g})),e(t.exports,"isCGCS2000",(function(){return b})),e(t.exports,"isPlateCarree",(function(){return w})),e(t.exports,"isWKIDFromMars",(function(){return x})),e(t.exports,"isWKIDFromMoon",(function(){return k})),e(t.exports,"isWrappable",(function(){return E})),e(t.exports,"WGS84",(function(){return C})),e(t.exports,"WebMercator",(function(){return O})),e(t.exports,"PlateCarree",(function(){return L}));var n=s("7qybv"),i=s("1TSdR"),a=s("bow8S"),o=s("b6801"),l={102113:!0,102100:!0,3857:!0,3785:!0},u={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},c='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',f=[-20037508.342788905,20037508.342788905],p=[-20037508.342787,20037508.342787],d={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:f,origin:p,dx:1e-5},102100:{wkTemplate:c,valid:f,origin:p,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:f,origin:p,dx:1e-5},3857:{wkTemplate:c,valid:f,origin:p,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function h(e,t){return!(0,n.isNone)(e)&&!(0,n.isNone)(t)&&(e===t||(null!=e.wkid||null!=t.wkid?e.wkid===t.wkid||_(e)&&_(t)||null!=t.latestWkid&&e.wkid===t.latestWkid||null!=e.latestWkid&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase()))}function y(e){return I(e)&&e.wkid?d[e.wkid]:null}function v(e){return!!I(e)&&(e.wkid?null==o.default[e.wkid]:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function m(e){return!(S(e)||T(e))}function g(e){return I(e)&&4326===e.wkid}function b(e){return I(e)&&e.wkid===a.SupportedGCSWkids.CGCS2000}function _(e){return I(e)&&null!=e.wkid&&!0===l[e.wkid]}function w(e){return I(e)&&32662===e.wkid}function x(e){return e===a.SupportedGCSWkids.GCSMARS2000||e===a.SupportedGCSWkids.GCSMARS2000_SPHERE}function S(e){return I(e)&&null!=e.wkid&&x(e.wkid)}function k(e){return e===a.SupportedGCSWkids.GCSMOON2000}function T(e){return I(e)&&null!=e.wkid&&k(e.wkid)}function E(e){return I(e)&&null!=e.wkid&&!0===u[e.wkid]}function I(e){return(0,n.isSome)(e)&&(null!=e.wkid&&e.wkid>=2e3||null!=e.wkt)}var C={wkid:4326,wkt:(0,i.replace)(d[4326].wkTemplate,{Central_Meridian:"0.0"})},O={wkid:102100,latestWkid:3857},L={wkid:32662}})),s.register("bow8S",(function(t,r){var n,i;e(t.exports,"SupportedGCSWkids",(function(){return n})),(i=n||(n={}))[i.CGCS2000=4490]="CGCS2000",i[i.GCSMARS2000=104971]="GCSMARS2000",i[i.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",i[i.GCSMOON2000=104903]="GCSMOON2000"})),s.register("b6801",(function(t,r){var n;e(t.exports,"default",(function(){return i}));var i={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(n=2e3;n<=2045;n++)i[n]=0;for(n=2056;n<=2065;n++)i[n]=0;for(n=2067;n<=2135;n++)i[n]=0;for(n=2137;n<=2154;n++)i[n]=0;for(n=2161;n<=2170;n++)i[n]=0;for(n=2172;n<=2193;n++)i[n]=0;for(n=2195;n<=2198;n++)i[n]=0;for(n=2200;n<=2203;n++)i[n]=0;for(n=2205;n<=2217;n++)i[n]=0;for(n=2222;n<=2224;n++)i[n]=1;for(n=2225;n<=2250;n++)i[n]=2;for(n=2251;n<=2253;n++)i[n]=1;for(n=2257;n<=2264;n++)i[n]=2;for(n=2274;n<=2279;n++)i[n]=2;for(n=2280;n<=2282;n++)i[n]=1;for(n=2283;n<=2289;n++)i[n]=2;for(n=2290;n<=2292;n++)i[n]=0;for(n=2308;n<=2313;n++)i[n]=0;for(n=2315;n<=2491;n++)i[n]=0;for(n=2494;n<=2866;n++)i[n]=0;for(n=2867;n<=2869;n++)i[n]=1;for(n=2870;n<=2888;n++)i[n]=2;for(n=2891;n<=2895;n++)i[n]=2;for(n=2896;n<=2898;n++)i[n]=1;for(n=2902;n<=2908;n++)i[n]=2;for(n=2915;n<=2920;n++)i[n]=2;for(n=2921;n<=2923;n++)i[n]=1;for(n=2924;n<=2930;n++)i[n]=2;for(n=2931;n<=2962;n++)i[n]=0;for(n=2964;n<=2968;n++)i[n]=2;for(n=2969;n<=2973;n++)i[n]=0;for(n=2975;n<=2991;n++)i[n]=0;for(n=2995;n<=3051;n++)i[n]=0;for(n=3054;n<=3079;n++)i[n]=0;for(n=3081;n<=3088;n++)i[n]=0;for(n=3092;n<=3101;n++)i[n]=0;for(n=3106;n<=3138;n++)i[n]=0;for(n=3146;n<=3151;n++)i[n]=0;for(n=3153;n<=3166;n++)i[n]=0;for(n=3168;n<=3172;n++)i[n]=0;for(n=3174;n<=3203;n++)i[n]=0;for(n=3294;n<=3358;n++)i[n]=0;for(n=3367;n<=3403;n++)i[n]=0;for(n=3408;n<=3416;n++)i[n]=0;for(n=3417;n<=3438;n++)i[n]=2;for(n=3441;n<=3446;n++)i[n]=2;for(n=3447;n<=3450;n++)i[n]=0;for(n=3451;n<=3459;n++)i[n]=2;for(n=3460;n<=3478;n++)i[n]=0;for(n=3554;n<=3559;n++)i[n]=0;for(n=3560;n<=3570;n++)i[n]=2;for(n=3571;n<=3581;n++)i[n]=0;for(n=3594;n<=3597;n++)i[n]=0;for(n=3601;n<=3604;n++)i[n]=0;for(n=3637;n<=3639;n++)i[n]=0;for(n=3665;n<=3667;n++)i[n]=0;for(n=3693;n<=3695;n++)i[n]=0;for(n=3701;n<=3727;n++)i[n]=0;for(n=3728;n<=3739;n++)i[n]=2;for(n=3740;n<=3751;n++)i[n]=0;for(n=3753;n<=3760;n++)i[n]=2;for(n=3761;n<=3773;n++)i[n]=0;for(n=3775;n<=3777;n++)i[n]=0;for(n=3779;n<=3781;n++)i[n]=0;for(n=3783;n<=3785;n++)i[n]=0;for(n=3788;n<=3791;n++)i[n]=0;for(n=3797;n<=3802;n++)i[n]=0;for(n=3814;n<=3816;n++)i[n]=0;for(n=3825;n<=3829;n++)i[n]=0;for(n=3832;n<=3841;n++)i[n]=0;for(n=3844;n<=3852;n++)i[n]=0;for(n=3873;n<=3885;n++)i[n]=0;for(n=3890;n<=3893;n++)i[n]=0;for(n=3907;n<=3912;n++)i[n]=0;for(n=3942;n<=3950;n++)i[n]=0;for(n=3968;n<=3970;n++)i[n]=0;for(n=3973;n<=3976;n++)i[n]=0;for(n=3986;n<=3989;n++)i[n]=0;for(n=3994;n<=3997;n++)i[n]=0;for(n=4048;n<=4051;n++)i[n]=0;for(n=4056;n<=4063;n++)i[n]=0;for(n=4093;n<=4096;n++)i[n]=0;for(n=4390;n<=4398;n++)i[n]=0;for(n=4399;n<=4413;n++)i[n]=2;for(n=4418;n<=4433;n++)i[n]=2;for(n=4455;n<=4457;n++)i[n]=2;for(n=4484;n<=4489;n++)i[n]=0;for(n=4491;n<=4554;n++)i[n]=0;for(n=4568;n<=4589;n++)i[n]=0;for(n=4652;n<=4656;n++)i[n]=0;for(n=4766;n<=4800;n++)i[n]=0;for(n=5014;n<=5016;n++)i[n]=0;for(n=5069;n<=5072;n++)i[n]=0;for(n=5105;n<=5130;n++)i[n]=0;for(n=5173;n<=5188;n++)i[n]=0;for(n=5253;n<=5259;n++)i[n]=0;for(n=5269;n<=5275;n++)i[n]=0;for(n=5292;n<=5311;n++)i[n]=0;for(n=5329;n<=5331;n++)i[n]=0;for(n=5343;n<=5349;n++)i[n]=0;for(n=5355;n<=5357;n++)i[n]=0;for(n=5387;n<=5389;n++)i[n]=0;for(n=5459;n<=5463;n++)i[n]=0;for(n=5479;n<=5482;n++)i[n]=0;for(n=5518;n<=5520;n++)i[n]=0;for(n=5530;n<=5539;n++)i[n]=0;for(n=5550;n<=5552;n++)i[n]=0;for(n=5562;n<=5583;n++)i[n]=0;for(n=5623;n<=5625;n++)i[n]=2;for(n=5631;n<=5639;n++)i[n]=0;for(n=5649;n<=5653;n++)i[n]=0;for(n=5663;n<=5680;n++)i[n]=0;for(n=5682;n<=5685;n++)i[n]=0;for(n=5875;n<=5877;n++)i[n]=0;for(n=5896;n<=5899;n++)i[n]=0;for(n=5921;n<=5940;n++)i[n]=0;for(n=6050;n<=6125;n++)i[n]=0;for(n=6244;n<=6275;n++)i[n]=0;for(n=6328;n<=6348;n++)i[n]=0;for(n=6350;n<=6356;n++)i[n]=0;for(n=6366;n<=6372;n++)i[n]=0;for(n=6381;n<=6387;n++)i[n]=0;for(n=6393;n<=6404;n++)i[n]=0;for(n=6480;n<=6483;n++)i[n]=0;for(n=6511;n<=6514;n++)i[n]=0;for(n=6579;n<=6581;n++)i[n]=0;for(n=6619;n<=6624;n++)i[n]=0;for(n=6625;n<=6627;n++)i[n]=2;for(n=6628;n<=6632;n++)i[n]=0;for(n=6634;n<=6637;n++)i[n]=0;for(n=6669;n<=6692;n++)i[n]=0;for(n=6707;n<=6709;n++)i[n]=0;for(n=6720;n<=6723;n++)i[n]=0;for(n=6732;n<=6738;n++)i[n]=0;for(n=6931;n<=6933;n++)i[n]=0;for(n=6956;n<=6959;n++)i[n]=0;for(n=7005;n<=7007;n++)i[n]=0;for(n=7057;n<=7070;n++)i[n]=2;for(n=7074;n<=7082;n++)i[n]=0;for(n=7109;n<=7118;n++)i[n]=0;for(n=7119;n<=7127;n++)i[n]=1;for(n=7374;n<=7376;n++)i[n]=0;for(n=7528;n<=7586;n++)i[n]=0;for(n=7587;n<=7645;n++)i[n]=2;for(n=7692;n<=7696;n++)i[n]=0;for(n=7755;n<=7787;n++)i[n]=0;for(n=7791;n<=7795;n++)i[n]=0;for(n=7799;n<=7801;n++)i[n]=0;for(n=7803;n<=7805;n++)i[n]=0;for(n=7825;n<=7831;n++)i[n]=0;for(n=7845;n<=7859;n++)i[n]=0;for(n=8013;n<=8032;n++)i[n]=0;for(n=8065;n<=8068;n++)i[n]=1;for(n=8518;n<=8529;n++)i[n]=2;for(n=8533;n<=8536;n++)i[n]=2;for(n=8538;n<=8540;n++)i[n]=2;for(n=8677;n<=8679;n++)i[n]=0;for(n=8836;n<=8840;n++)i[n]=0;for(n=8857;n<=8859;n++)i[n]=0;for(n=8908;n<=8910;n++)i[n]=0;for(n=9154;n<=9159;n++)i[n]=0;for(n=9205;n<=9218;n++)i[n]=0;for(n=9271;n<=9273;n++)i[n]=0;for(n=9295;n<=9297;n++)i[n]=0;for(n=9356;n<=9360;n++)i[n]=0;for(n=9404;n<=9407;n++)i[n]=0;for(n=9476;n<=9482;n++)i[n]=0;for(n=9487;n<=9494;n++)i[n]=0;for(n=9697;n<=9699;n++)i[n]=0;for(n=20002;n<=20032;n++)i[n]=0;for(n=20062;n<=20092;n++)i[n]=0;for(n=20135;n<=20138;n++)i[n]=0;for(n=20248;n<=20258;n++)i[n]=0;for(n=20348;n<=20358;n++)i[n]=0;for(n=20436;n<=20440;n++)i[n]=0;for(n=20822;n<=20824;n++)i[n]=0;for(n=20904;n<=20932;n++)i[n]=0;for(n=20934;n<=20936;n++)i[n]=0;for(n=21004;n<=21032;n++)i[n]=0;for(n=21035;n<=21037;n++)i[n]=0;for(n=21095;n<=21097;n++)i[n]=0;for(n=21148;n<=21150;n++)i[n]=0;for(n=21207;n<=21264;n++)i[n]=0;for(n=21307;n<=21364;n++)i[n]=0;for(n=21413;n<=21423;n++)i[n]=0;for(n=21453;n<=21463;n++)i[n]=0;for(n=21473;n<=21483;n++)i[n]=0;for(n=21780;n<=21782;n++)i[n]=0;for(n=21891;n<=21894;n++)i[n]=0;for(n=21896;n<=21899;n++)i[n]=0;for(n=22171;n<=22177;n++)i[n]=0;for(n=22181;n<=22187;n++)i[n]=0;for(n=22191;n<=22197;n++)i[n]=0;for(n=22234;n<=22236;n++)i[n]=0;for(n=22521;n<=22525;n++)i[n]=0;for(n=22991;n<=22994;n++)i[n]=0;for(n=23028;n<=23038;n++)i[n]=0;for(n=23830;n<=23853;n++)i[n]=0;for(n=23866;n<=23872;n++)i[n]=0;for(n=23877;n<=23884;n++)i[n]=0;for(n=23886;n<=23894;n++)i[n]=0;for(n=23946;n<=23948;n++)i[n]=0;for(n=24311;n<=24313;n++)i[n]=0;for(n=24342;n<=24347;n++)i[n]=0;for(n=24370;n<=24374;n++)i[n]=10;for(n=24375;n<=24381;n++)i[n]=0;for(n=24718;n<=24721;n++)i[n]=0;for(n=24817;n<=24821;n++)i[n]=0;for(n=24877;n<=24882;n++)i[n]=0;for(n=24891;n<=24893;n++)i[n]=0;for(n=25391;n<=25395;n++)i[n]=0;for(n=25828;n<=25838;n++)i[n]=0;for(n=26191;n<=26195;n++)i[n]=0;for(n=26391;n<=26393;n++)i[n]=0;for(n=26701;n<=26722;n++)i[n]=0;for(n=26729;n<=26799;n++)i[n]=2;for(n=26801;n<=26803;n++)i[n]=2;for(n=26811;n<=26813;n++)i[n]=2;for(n=26847;n<=26870;n++)i[n]=2;for(n=26891;n<=26899;n++)i[n]=0;for(n=26901;n<=26923;n++)i[n]=0;for(n=26929;n<=26946;n++)i[n]=0;for(n=26948;n<=26998;n++)i[n]=0;for(n=27037;n<=27040;n++)i[n]=0;for(n=27205;n<=27232;n++)i[n]=0;for(n=27258;n<=27260;n++)i[n]=0;for(n=27391;n<=27398;n++)i[n]=0;for(n=27561;n<=27564;n++)i[n]=0;for(n=27571;n<=27574;n++)i[n]=0;for(n=27581;n<=27584;n++)i[n]=0;for(n=27591;n<=27594;n++)i[n]=0;for(n=28191;n<=28193;n++)i[n]=0;for(n=28348;n<=28358;n++)i[n]=0;for(n=28402;n<=28432;n++)i[n]=0;for(n=28462;n<=28492;n++)i[n]=0;for(n=29118;n<=29122;n++)i[n]=0;for(n=29168;n<=29172;n++)i[n]=0;for(n=29177;n<=29185;n++)i[n]=0;for(n=29187;n<=29195;n++)i[n]=0;for(n=29900;n<=29903;n++)i[n]=0;for(n=30161;n<=30179;n++)i[n]=0;for(n=30491;n<=30494;n++)i[n]=0;for(n=30729;n<=30732;n++)i[n]=0;for(n=31251;n<=31259;n++)i[n]=0;for(n=31265;n<=31268;n++)i[n]=0;for(n=31275;n<=31279;n++)i[n]=0;for(n=31281;n<=31297;n++)i[n]=0;for(n=31461;n<=31469;n++)i[n]=0;for(n=31491;n<=31495;n++)i[n]=0;for(n=31917;n<=31922;n++)i[n]=0;for(n=31965;n<=32e3;n++)i[n]=0;for(n=32001;n<=32003;n++)i[n]=2;for(n=32005;n<=32031;n++)i[n]=2;for(n=32033;n<=32060;n++)i[n]=2;for(n=32064;n<=32067;n++)i[n]=2;for(n=32074;n<=32077;n++)i[n]=2;for(n=32081;n<=32086;n++)i[n]=0;for(n=32107;n<=32130;n++)i[n]=0;for(n=32133;n<=32158;n++)i[n]=0;for(n=32164;n<=32167;n++)i[n]=2;for(n=32180;n<=32199;n++)i[n]=0;for(n=32201;n<=32260;n++)i[n]=0;for(n=32301;n<=32360;n++)i[n]=0;for(n=32601;n<=32662;n++)i[n]=0;for(n=32664;n<=32667;n++)i[n]=2;for(n=32701;n<=32761;n++)i[n]=0;for(n=53001;n<=53004;n++)i[n]=0;for(n=53008;n<=53019;n++)i[n]=0;for(n=53021;n<=53032;n++)i[n]=0;for(n=53034;n<=53037;n++)i[n]=0;for(n=53042;n<=53046;n++)i[n]=0;for(n=53074;n<=53080;n++)i[n]=0;for(n=54001;n<=54004;n++)i[n]=0;for(n=54008;n<=54019;n++)i[n]=0;for(n=54021;n<=54032;n++)i[n]=0;for(n=54034;n<=54037;n++)i[n]=0;for(n=54042;n<=54046;n++)i[n]=0;for(n=54048;n<=54053;n++)i[n]=0;for(n=54074;n<=54080;n++)i[n]=0;for(n=54098;n<=54101;n++)i[n]=0;for(n=102001;n<=102040;n++)i[n]=0;for(n=102042;n<=102063;n++)i[n]=0;for(n=102065;n<=102067;n++)i[n]=0;for(n=102070;n<=102117;n++)i[n]=0;for(n=102122;n<=102216;n++)i[n]=0;for(n=102221;n<=102377;n++)i[n]=0;for(n=102382;n<=102388;n++)i[n]=0;for(n=102389;n<=102398;n++)i[n]=2;for(n=102399;n<=102444;n++)i[n]=0;for(n=102445;n<=102447;n++)i[n]=2;for(n=102448;n<=102458;n++)i[n]=0;for(n=102459;n<=102468;n++)i[n]=2;for(n=102469;n<=102499;n++)i[n]=0;for(n=102500;n<=102519;n++)i[n]=1;for(n=102520;n<=102524;n++)i[n]=0;for(n=102525;n<=102529;n++)i[n]=2;for(n=102530;n<=102588;n++)i[n]=0;for(n=102590;n<=102598;n++)i[n]=0;for(n=102601;n<=102603;n++)i[n]=0;for(n=102605;n<=102628;n++)i[n]=0;for(n=102629;n<=102646;n++)i[n]=2;for(n=102648;n<=102700;n++)i[n]=2;for(n=102701;n<=102703;n++)i[n]=0;for(n=102707;n<=102730;n++)i[n]=2;for(n=102733;n<=102758;n++)i[n]=2;for(n=102767;n<=102900;n++)i[n]=0;for(n=102901;n<=102933;n++)i[n]=2;for(n=102934;n<=102950;n++)i[n]=13;for(n=102951;n<=102960;n++)i[n]=0;for(n=102965;n<=102969;n++)i[n]=0;for(n=102971;n<=102973;n++)i[n]=0;for(n=102975;n<=102989;n++)i[n]=0;for(n=102990;n<=102992;n++)i[n]=1;for(n=102997;n<=103002;n++)i[n]=0;for(n=103003;n<=103008;n++)i[n]=2;for(n=103009;n<=103011;n++)i[n]=0;for(n=103012;n<=103014;n++)i[n]=2;for(n=103019;n<=103021;n++)i[n]=0;for(n=103022;n<=103024;n++)i[n]=2;for(n=103029;n<=103031;n++)i[n]=0;for(n=103032;n<=103034;n++)i[n]=2;for(n=103065;n<=103068;n++)i[n]=0;for(n=103074;n<=103076;n++)i[n]=0;for(n=103077;n<=103079;n++)i[n]=1;for(n=103080;n<=103082;n++)i[n]=0;for(n=103083;n<=103085;n++)i[n]=2;for(n=103090;n<=103093;n++)i[n]=0;for(n=103097;n<=103099;n++)i[n]=0;for(n=103100;n<=103102;n++)i[n]=2;for(n=103107;n<=103109;n++)i[n]=0;for(n=103110;n<=103112;n++)i[n]=2;for(n=103113;n<=103116;n++)i[n]=0;for(n=103117;n<=103120;n++)i[n]=2;for(n=103153;n<=103157;n++)i[n]=0;for(n=103158;n<=103162;n++)i[n]=2;for(n=103163;n<=103165;n++)i[n]=0;for(n=103166;n<=103168;n++)i[n]=1;for(n=103169;n<=103171;n++)i[n]=2;for(n=103186;n<=103188;n++)i[n]=0;for(n=103189;n<=103191;n++)i[n]=2;for(n=103192;n<=103195;n++)i[n]=0;for(n=103196;n<=103199;n++)i[n]=2;for(n=103200;n<=103224;n++)i[n]=0;for(n=103225;n<=103227;n++)i[n]=1;for(n=103232;n<=103237;n++)i[n]=0;for(n=103238;n<=103243;n++)i[n]=2;for(n=103244;n<=103246;n++)i[n]=0;for(n=103247;n<=103249;n++)i[n]=2;for(n=103254;n<=103256;n++)i[n]=0;for(n=103257;n<=103259;n++)i[n]=2;for(n=103264;n<=103266;n++)i[n]=0;for(n=103267;n<=103269;n++)i[n]=2;for(n=103300;n<=103375;n++)i[n]=0;for(n=103381;n<=103383;n++)i[n]=0;for(n=103384;n<=103386;n++)i[n]=1;for(n=103387;n<=103389;n++)i[n]=0;for(n=103390;n<=103392;n++)i[n]=2;for(n=103397;n<=103399;n++)i[n]=0;for(n=103400;n<=103471;n++)i[n]=2;for(n=103476;n<=103478;n++)i[n]=0;for(n=103479;n<=103481;n++)i[n]=2;for(n=103486;n<=103488;n++)i[n]=0;for(n=103489;n<=103491;n++)i[n]=2;for(n=103492;n<=103495;n++)i[n]=0;for(n=103496;n<=103499;n++)i[n]=2;for(n=103528;n<=103543;n++)i[n]=0;for(n=103544;n<=103548;n++)i[n]=2;for(n=103549;n<=103551;n++)i[n]=0;for(n=103552;n<=103554;n++)i[n]=1;for(n=103555;n<=103557;n++)i[n]=2;for(n=103558;n<=103560;n++)i[n]=0;for(n=103571;n<=103573;n++)i[n]=0;for(n=103574;n<=103576;n++)i[n]=2;for(n=103577;n<=103580;n++)i[n]=0;for(n=103581;n<=103583;n++)i[n]=2;for(n=103595;n<=103694;n++)i[n]=0;for(n=103696;n<=103699;n++)i[n]=0;for(n=103700;n<=103793;n++)i[n]=2;for(n=103794;n<=103872;n++)i[n]=0;for(n=103900;n<=103971;n++)i[n]=2})),s.register("ajJOT",(function(t,r){e(t.exports,"default",(function(){return D})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("jcnGU"),f=s("ifq4M"),p=s("2TvXO"),d=s("7eJjO"),h=s("cu9iz"),y=s("dLARP"),v=s("9pNSx"),m=s("2l1wP"),g=s("kyj08"),b=s("1XAcN"),_=s("bQCqB"),w=s("jHOLN"),x=s("7qybv"),S=s("10vEZ"),k=s("iho5X");s("lNwWH"),s("2VlWd");var T,E,I=s("iJAIC"),C=s("eB8sj"),O=s("fcwIv"),L=s("gINRd"),A=s("86CDN"),M=s("kdfYM"),N=s("9GtuN"),R=s("kthBz"),P=s("7bIfi"),F={PortalGroup:function(){return s("3s81k")},PortalItem:function(){return s("9oKnB")},PortalUser:function(){return s("dGMLj")}},j=T=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).access=null,n.allSSL=!1,n.authMode="auto",n.authorizedCrossOriginDomains=null,n.basemapGalleryGroupQuery=null,n.bingKey=null,n.canListApps=!1,n.canListData=!1,n.canListPreProvisionedItems=!1,n.canProvisionDirectPurchase=!1,n.canSearchPublic=!0,n.canShareBingPublic=!1,n.canSharePublic=!1,n.canSignInArcGIS=!1,n.canSignInIDP=!1,n.colorSetsGroupQuery=null,n.commentsEnabled=!1,n.created=null,n.culture=null,n.customBaseUrl=null,n.defaultBasemap=null,n.defaultDevBasemap=null,n.defaultExtent=null,n.defaultVectorBasemap=null,n.description=null,n.devBasemapGalleryGroupQuery=null,n.eueiEnabled=null,n.featuredGroups=null,n.featuredItemsGroupQuery=null,n.galleryTemplatesGroupQuery=null,n.livingAtlasGroupQuery=null,n.hasCategorySchema=!1,n.helperServices=null,n.homePageFeaturedContent=null,n.homePageFeaturedContentCount=null,n.httpPort=null,n.httpsPort=null,n.id=null,n.ipCntryCode=null,n.isPortal=!1,n.isReadOnly=!1,n.layerTemplatesGroupQuery=null,n.maxTokenExpirationMinutes=null,n.modified=null,n.name=null,n.portalHostname=null,n.portalMode=null,n.portalProperties=null,n.region=null,n.rotatorPanels=null,n.showHomePageDescription=!1,n.sourceJSON=null,n.supportsHostedServices=!1,n.symbolSetsGroupQuery=null,n.templatesGroupQuery=null,n.units=null,n.url=h.default.portalUrl,n.urlKey=null,n.user=null,n.useStandardizedQuery=!1,n.useVectorBasemaps=!1,n.vectorBasemapGalleryGroupQuery=null,l.default(n)}return u.default(r,[{key:"normalizeCtorArgs",value:function(e){return"string"==typeof e?{url:e}:e}},{key:"destroy",value:function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}},{key:"readAuthorizedCrossOriginDomains",value:function(e){var t=!0,r=!1,n=void 0;if(e)try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;-1===h.default.request.trustedServers.indexOf(o)&&h.default.request.trustedServers.push(o)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return e}},{key:"readDefaultBasemap",value:function(e){return this._readBasemap(e)}},{key:"readDefaultDevBasemap",value:function(e){return this._readBasemap(e)}},{key:"readDefaultVectorBasemap",value:function(e){return this._readBasemap(e)}},{key:"extraQuery",get:function(){var e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?" AND orgid:".concat(this.id):null}},{key:"isOrganization",get:function(){return!!this.access}},{key:"restUrl",get:function(){var e=this.url;if(e){var t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}},{key:"stylesGroupQuery",get:function(){return(0,m.deprecatedProperty)(w.default.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"}),this.stylesGroupQuery3d}},{key:"thumbnailUrl",get:function(){var e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}},{key:"readUrlKey",value:function(e){return e?e.toLowerCase():e}},{key:"readUser",value:function(e){var t=null;return e&&((t=R.default.fromJSON(e)).portal=this),t}},{key:"load",value:function(e){var t=this,r=s("3DJmp").then((function(t){var r=t.default;(0,S.throwIfAborted)(e),E=r})).then((function(){return t.sourceJSON?t.sourceJSON:t._fetchSelf(t.authMode,!1,e)})).then((function(e){if(y.id){var r=t,n=y.id;t.credential=n.findCredential(t.restUrl),t.credential||t.authMode!==T.AUTH_MODE_AUTO||(t._esriId_credentialCreateHandle=n.on("credential-create",(function(){n.findCredential(r.restUrl)&&r._signIn()})))}t.sourceJSON=e,t.read(e)}));return this.addResolvingPromise(r),Promise.resolve(this)}},{key:"createClosestFacilityTask",value:function(){var e=this;return c.default(n(p).mark((function t(){var r;return n(p).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,m.deprecatedFunction)(w.default.getLogger(e.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"}),t.next=3,e.load();case 3:return r=e._getHelperServiceUrl("closestFacility"),t.next=6,s("1n2IJ");case 6:return t.t0=t.sent.default,t.t1=r,t.abrupt("return",new t.t0(t.t1));case 9:case"end":return t.stop()}}),t)})))()}},{key:"createElevationLayers",value:function(){var e=this;return c.default(n(p).mark((function t(){var r,i;return n(p).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.load();case 2:return r=e._getHelperService("defaultElevationLayers"),t.next=5,s("fJksA");case 5:return i=t.sent.default,t.abrupt("return",r?r.map((function(e){return new i({id:e.id,url:e.url})})):[]);case 7:case"end":return t.stop()}}),t)})))()}},{key:"createGeometryService",value:function(){var e=this;return c.default(n(p).mark((function t(){var r;return n(p).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,m.deprecatedFunction)(w.default.getLogger(e.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"}),t.next=3,e.load();case 3:return r=e._getHelperServiceUrl("geometry"),t.next=6,s("f9X9x");case 6:return t.t0=t.sent.default,t.t1={url:r},t.abrupt("return",new t.t0(t.t1));case 9:case"end":return t.stop()}}),t)})))()}},{key:"createPrintTask",value:function(){var e=this;return c.default(n(p).mark((function t(){var r;return n(p).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,m.deprecatedFunction)(w.default.getLogger(e.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"}),t.next=3,e.load();case 3:return r=e._getHelperServiceUrl("printTask"),t.next=6,s("17MmJ");case 6:return t.t0=t.sent.default,t.t1=r,t.abrupt("return",new t.t0(t.t1));case 9:case"end":return t.stop()}}),t)})))()}},{key:"createRouteTask",value:function(){var e=this;return c.default(n(p).mark((function t(){var r;return n(p).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,m.deprecatedFunction)(w.default.getLogger(e.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"}),t.next=3,e.load();case 3:return r=e._getHelperServiceUrl("route"),t.next=6,s("diBmb");case 6:return t.t0=t.sent.default,t.t1=r,t.abrupt("return",new t.t0(t.t1));case 9:case"end":return t.stop()}}),t)})))()}},{key:"createServiceAreaTask",value:function(){var e=this;return c.default(n(p).mark((function t(){var r;return n(p).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,m.deprecatedFunction)(w.default.getLogger(e.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"}),t.next=3,e.load();case 3:return r=e._getHelperServiceUrl("serviceArea"),t.next=6,s("h9pt9");case 6:return t.t0=t.sent.default,t.t1=r,t.abrupt("return",new t.t0(t.t1));case 9:case"end":return t.stop()}}),t)})))()}},{key:"fetchBasemaps",value:function(e,t){var r=new(0,M.default);return r.query=e||(h.default.apiKey&&(0,P.supportsApiKey)(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,t).then((function(e){if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',e.total){var n=e.results[0];return r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc",n.queryItems(r,t)}return null})).then((function(e){return e&&e.total?e.results.filter((function(e){return"Web Map"===e.type})).map((function(e){return new E({portalItem:e})})):[]}))}},{key:"fetchCategorySchema",value:function(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then((function(e){return e.categorySchema})):(0,S.isAborted)(e)?Promise.reject((0,S.createAbortError)()):Promise.resolve([])}},{key:"fetchFeaturedGroups",value:function(e){var t=this.featuredGroups,r=new(0,M.default);if(r.num=100,r.sortField="title",t&&t.length){var n=[],i=!0,a=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;n.push('(title:"'.concat(u.title,'" AND owner:').concat(u.owner,")"))}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return r.query=n.join(" OR "),this.queryGroups(r,e).then((function(e){return e.results}))}return(0,S.isAborted)(e)?Promise.reject((0,S.createAbortError)()):Promise.resolve([])}},{key:"fetchRegions",value:function(e){var t,r=(null==(t=this.user)?void 0:t.culture)||this.culture||(0,A.getLocale)();return this._request(this.restUrl+"/portals/regions",f.default({},e,{query:{culture:r}}))}},{key:"fetchSettings",value:function(e){var t,r=(null==(t=this.user)?void 0:t.culture)||this.culture||(0,A.getLocale)();return this._request(this.restUrl+"/portals/self/settings",f.default({},e,{query:{culture:r}}))}},{key:"queryGroups",value:function(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}},{key:"queryItems",value:function(e,t){return this._queryPortal("/search",e,"PortalItem",t)}},{key:"queryUsers",value:function(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}},{key:"toJSON",value:function(){throw new(0,g.default)("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}},{key:"_getHelperService",value:function(e){var t=this.helperServices&&this.helperServices[e];if(!t)throw new(0,g.default)("portal:service-not-found",'The `helperServices` do not include an entry named "'.concat(e,'"'));return t}},{key:"_getHelperServiceUrl",value:function(e){var t=this._getHelperService(e);if(!t.url)throw new(0,g.default)("portal:service-url-not-found",'The `helperServices` entry "'.concat(e,'" does not include a `url` value'));return t.url}},{key:"_fetchSelf",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.authMode,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,n=this.restUrl+"/portals/self",i=f.default({authMode:e,query:{culture:(0,A.getLocale)().toLowerCase()}},r);return"auto"===i.authMode&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this._request(n,i)}},{key:"_queryPortal",value:function(e,t,r,n){var i=this,a=(0,I.ensureType)(M.default,t),o=function(t){return i._request(i.restUrl+e,f.default({},a.toRequestOptions(i),n)).then((function(e){var r=a.clone();return r.start=e.nextStart,new(0,N.default)({nextQueryParams:r,queryParams:a,total:e.total,results:T._resultsToTypedArray(t,{portal:i},e,n)})})).then((function(e){return Promise.all(e.results.map((function(t){return"function"==typeof t.when?t.when():e}))).then((function(){return e}),(function(t){return(0,S.throwIfAbortError)(t),e}))}))};return r&&F[r]?F[r]().then((function(e){var t=e.default;return(0,S.throwIfAborted)(n),o(t)})):o()}},{key:"_signIn",value:function(){var e=this;if(this.authMode===T.AUTH_MODE_ANONYMOUS)return Promise.reject(new(0,g.default)("portal:invalid-auth-mode",'Current "authMode"\' is "'.concat(this.authMode,'"')));if("failed"===this.loadStatus)return Promise.reject(this.loadError);var t=function(t){return Promise.resolve().then((function(){return s("h9pt9")})).then((function(r){return"not-loaded"===e.loadStatus?(t||(e.authMode="immediate"),e.load().then((function(){return null}))):"loading"===e.loadStatus?e.load().then((function(){return e.credential?null:(e.credential=t,e._fetchSelf("immediate"))})):e.user&&e.credential===t?null:(e.credential=t,e._fetchSelf("immediate"))})).then((function(t){t&&(e.sourceJSON=t,e.read(t))}))};return y.id?y.id.getCredential(this.restUrl).then((function(e){return t(e)})):t(this.credential)}},{key:"_normalizeSSL",value:function(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}},{key:"_normalizeUrl",value:function(e){var t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.indexOf("?")>-1?"&":"?")+"token="+t:e)}},{key:"_requestToTypedArray",value:function(e,t,r){var n=this;return this._request(e,t).then((function(e){var t=T._resultsToTypedArray(r,{portal:n},e);return Promise.all(t.map((function(t){return"function"==typeof t.when?t.when():e}))).then((function(){return t}),(function(){return t}))}))}},{key:"_readBasemap",value:function(e){if(e){var t=E.fromJSON(e);return t.portalItem={portal:this},t}return null}},{key:"_request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=f.default({f:"json"},t.query),n=t.authMode,i=void 0===n?this.authMode===T.AUTH_MODE_ANONYMOUS?"anonymous":"auto":n,a=t.body,o=void 0===a?null:a,s=t.cacheBust,l=void 0!==s&&s,u=t.method,c=void 0===u?"auto":u,p=t.responseType,d=void 0===p?"json":p,h=t.signal,y={authMode:i,body:o,cacheBust:l,method:c,query:r,responseType:d,timeout:0,signal:h};return(0,v.default)(this._normalizeSSL(e),y).then((function(e){return e.data}))}}],[{key:"getDefault",value:function(){return T._default&&!T._default.destroyed||(T._default=new T),T._default}},{key:"fromJSON",value:function(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new T({sourceJSON:e})}},{key:"_resultsToTypedArray",value:function(e,t,r,n){var i;if(r){var a=(0,x.isSome)(n)?n.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(i=i.map((function(r){var n=Object.assign(e?e.fromJSON(r):r,t);return"function"==typeof n.load&&n.load(a),n})))}else i=[];return i}}]),r}((0,b.JSONSupportMixin)(_.default));j.AUTH_MODE_ANONYMOUS="anonymous",j.AUTH_MODE_AUTO="auto",j.AUTH_MODE_IMMEDIATE="immediate",(0,d._)([(0,k.property)()],j.prototype,"access",void 0),(0,d._)([(0,k.property)()],j.prototype,"allSSL",void 0),(0,d._)([(0,k.property)()],j.prototype,"authMode",void 0),(0,d._)([(0,k.property)()],j.prototype,"authorizedCrossOriginDomains",void 0),(0,d._)([(0,C.reader)("authorizedCrossOriginDomains")],j.prototype,"readAuthorizedCrossOriginDomains",null),(0,d._)([(0,k.property)()],j.prototype,"basemapGalleryGroupQuery",void 0),(0,d._)([(0,k.property)()],j.prototype,"bingKey",void 0),(0,d._)([(0,k.property)()],j.prototype,"canListApps",void 0),(0,d._)([(0,k.property)()],j.prototype,"canListData",void 0),(0,d._)([(0,k.property)()],j.prototype,"canListPreProvisionedItems",void 0),(0,d._)([(0,k.property)()],j.prototype,"canProvisionDirectPurchase",void 0),(0,d._)([(0,k.property)()],j.prototype,"canSearchPublic",void 0),(0,d._)([(0,k.property)()],j.prototype,"canShareBingPublic",void 0),(0,d._)([(0,k.property)()],j.prototype,"canSharePublic",void 0),(0,d._)([(0,k.property)()],j.prototype,"canSignInArcGIS",void 0),(0,d._)([(0,k.property)()],j.prototype,"canSignInIDP",void 0),(0,d._)([(0,k.property)()],j.prototype,"colorSetsGroupQuery",void 0),(0,d._)([(0,k.property)()],j.prototype,"commentsEnabled",void 0),(0,d._)([(0,k.property)({type:Date})],j.prototype,"created",void 0),(0,d._)([(0,k.property)()],j.prototype,"credential",void 0),(0,d._)([(0,k.property)()],j.prototype,"culture",void 0),(0,d._)([(0,k.property)()],j.prototype,"currentVersion",void 0),(0,d._)([(0,k.property)()],j.prototype,"customBaseUrl",void 0),(0,d._)([(0,k.property)()],j.prototype,"defaultBasemap",void 0),(0,d._)([(0,C.reader)("defaultBasemap")],j.prototype,"readDefaultBasemap",null),(0,d._)([(0,k.property)()],j.prototype,"defaultDevBasemap",void 0),(0,d._)([(0,C.reader)("defaultDevBasemap")],j.prototype,"readDefaultDevBasemap",null),(0,d._)([(0,k.property)({type:L.default})],j.prototype,"defaultExtent",void 0),(0,d._)([(0,k.property)()],j.prototype,"defaultVectorBasemap",void 0),(0,d._)([(0,C.reader)("defaultVectorBasemap")],j.prototype,"readDefaultVectorBasemap",null),(0,d._)([(0,k.property)()],j.prototype,"description",void 0),(0,d._)([(0,k.property)()],j.prototype,"devBasemapGalleryGroupQuery",void 0),(0,d._)([(0,k.property)()],j.prototype,"eueiEnabled",void 0),(0,d._)([(0,k.property)({readOnly:!0})],j.prototype,"extraQuery",null),(0,d._)([(0,k.property)()],j.prototype,"featuredGroups",void 0),(0,d._)([(0,k.property)()],j.prototype,"featuredItemsGroupQuery",void 0),(0,d._)([(0,k.property)()],j.prototype,"galleryTemplatesGroupQuery",void 0),(0,d._)([(0,k.property)()],j.prototype,"livingAtlasGroupQuery",void 0),(0,d._)([(0,k.property)()],j.prototype,"hasCategorySchema",void 0),(0,d._)([(0,k.property)()],j.prototype,"helpBase",void 0),(0,d._)([(0,k.property)()],j.prototype,"helperServices",void 0),(0,d._)([(0,k.property)()],j.prototype,"helpMap",void 0),(0,d._)([(0,k.property)()],j.prototype,"homePageFeaturedContent",void 0),(0,d._)([(0,k.property)()],j.prototype,"homePageFeaturedContentCount",void 0),(0,d._)([(0,k.property)()],j.prototype,"httpPort",void 0),(0,d._)([(0,k.property)()],j.prototype,"httpsPort",void 0),(0,d._)([(0,k.property)()],j.prototype,"id",void 0),(0,d._)([(0,k.property)()],j.prototype,"ipCntryCode",void 0),(0,d._)([(0,k.property)({readOnly:!0})],j.prototype,"isOrganization",null),(0,d._)([(0,k.property)()],j.prototype,"isPortal",void 0),(0,d._)([(0,k.property)()],j.prototype,"isReadOnly",void 0),(0,d._)([(0,k.property)()],j.prototype,"layerTemplatesGroupQuery",void 0),(0,d._)([(0,k.property)()],j.prototype,"maxTokenExpirationMinutes",void 0),(0,d._)([(0,k.property)({type:Date})],j.prototype,"modified",void 0),(0,d._)([(0,k.property)()],j.prototype,"name",void 0),(0,d._)([(0,k.property)()],j.prototype,"portalHostname",void 0),(0,d._)([(0,k.property)()],j.prototype,"portalMode",void 0),(0,d._)([(0,k.property)()],j.prototype,"portalProperties",void 0),(0,d._)([(0,k.property)()],j.prototype,"region",void 0),(0,d._)([(0,k.property)({readOnly:!0})],j.prototype,"restUrl",null),(0,d._)([(0,k.property)()],j.prototype,"rotatorPanels",void 0),(0,d._)([(0,k.property)()],j.prototype,"showHomePageDescription",void 0),(0,d._)([(0,k.property)()],j.prototype,"sourceJSON",void 0),(0,d._)([(0,k.property)()],j.prototype,"staticImagesUrl",void 0),(0,d._)([(0,k.property)({readOnly:!0,json:{read:!1}})],j.prototype,"stylesGroupQuery",null),(0,d._)([(0,k.property)({json:{name:"2DStylesGroupQuery"}})],j.prototype,"stylesGroupQuery2d",void 0),(0,d._)([(0,k.property)({json:{name:"stylesGroupQuery"}})],j.prototype,"stylesGroupQuery3d",void 0),(0,d._)([(0,k.property)()],j.prototype,"supportsHostedServices",void 0),(0,d._)([(0,k.property)()],j.prototype,"symbolSetsGroupQuery",void 0),(0,d._)([(0,k.property)()],j.prototype,"templatesGroupQuery",void 0),(0,d._)([(0,k.property)()],j.prototype,"thumbnail",void 0),(0,d._)([(0,k.property)({readOnly:!0})],j.prototype,"thumbnailUrl",null),(0,d._)([(0,k.property)()],j.prototype,"units",void 0),(0,d._)([(0,k.property)()],j.prototype,"url",void 0),(0,d._)([(0,k.property)()],j.prototype,"urlKey",void 0),(0,d._)([(0,C.reader)("urlKey")],j.prototype,"readUrlKey",null),(0,d._)([(0,k.property)()],j.prototype,"user",void 0),(0,d._)([(0,C.reader)("user")],j.prototype,"readUser",null),(0,d._)([(0,k.property)()],j.prototype,"useStandardizedQuery",void 0),(0,d._)([(0,k.property)()],j.prototype,"useVectorBasemaps",void 0),(0,d._)([(0,k.property)()],j.prototype,"vectorBasemapGalleryGroupQuery",void 0);var D=j=T=(0,d._)([(0,O.subclass)("esri.portal.Portal")],j)})),s.register("dLARP",(function(t,r){e(t.exports,"version",(function(){return c})),e(t.exports,"workerMessages",(function(){return f})),e(t.exports,"id",(function(){return i})),e(t.exports,"setId",(function(){return p})),e(t.exports,"addTokenParameter",(function(){return d})),s("8TSCy");var i,a=s("jcnGU"),o=s("2TvXO"),l=s("2VlWd"),u=s("kYueh"),c=(s("jsSHI"),"4.23"),f={request:function(e,t){return a.default(n(o).mark((function r(){var i,a,l,c,f,p,d;return n(o).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,s("jtAtI");case 3:return a=r.sent,l=a.default,c=e.options,f=c.responseType,c.signal=null==t?void 0:t.signal,c.responseType="native"===f||"native-request-init"===f?"native-request-init":["blob","json","text"].includes(f)&&null!=(i=(0,u.getInterceptor)(e.url))&&i.after?f:"array-buffer",r.next=10,l(e.url,c);case 10:p=r.sent,d={data:p.data,ssl:p.ssl},r.t0=p.requestOptions.responseType,r.next="native-request-init"===r.t0?15:"blob"===r.t0?16:"json"===r.t0?20:"text"===r.t0?22:23;break;case 15:return r.abrupt("return",(delete d.data.signal,d));case 16:return r.next=18,d.data.arrayBuffer();case 18:return d.data=r.sent,r.abrupt("break",23);case 20:return d.data=(new TextEncoder).encode(JSON.stringify(d.data)).buffer,r.abrupt("break",23);case 22:d.data=(new TextEncoder).encode(d.data).buffer;case 23:return r.abrupt("return",{result:d,transferList:[d.data]});case 24:case"end":return r.stop()}}),r)})))()}};function p(e){i=e}function d(e){var t=i&&i.findCredential(e);return t&&t.token?(0,u.addQueryParameter)(e,"token",t.token):e}(0,l.default)("host-webworker")||((0,l.default)("edge")||(0,l.default)("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser")})),s.register("jsSHI",(function(t,r){e(t.exports,"buildDate",(function(){return n})),e(t.exports,"commitHash",(function(){return i}));var n="20220404",i="ecb69ff5e08a61c162de0ddc0b1f397ed5d4071b"})),s.register("jtAtI",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("3EXx4")).then((function(){return s("9pNSx")}))})),s.register("4WKyX",(function(e,t){"use strict";var r=s("2prpb");e.exports=r((function(e){return new Promise((function(t,r){var n=document.getElementsByTagName("script");if([].concat(n).some((function(t){return t.src===e})))t();else{var i=document.createElement("link");i.href=e,i.rel="preload",i.as="script",document.head.appendChild(i);var a=document.createElement("script");a.async=!0,a.type="text/javascript",a.charset="utf-8",a.src=e,a.onerror=function(t){var n=new TypeError("Failed to fetch dynamically imported module: ".concat(e,". Error: ").concat(t.message));a.onerror=a.onload=null,a.remove(),r(n)},a.onload=function(){a.onerror=a.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(a)}}))}))})),s.register("2prpb",(function(e,t){"use strict";var r={},n={},i={};function a(e){switch(e){case"preload":return n;case"prefetch":return i;default:return r}}e.exports=function(e,t){return function(r){var n=a(t);return n[r]?n[r]:n[r]=e.apply(null,arguments).catch((function(e){throw delete n[r],e}))}}})),s.register("aNJCr",(function(t,r){var n;e(t.exports,"getBundleURL",(function(){return n}),(function(e){return n=e}));var i={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(e){var t=i[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),i[e]=t),t}})),s.register("9pNSx",(function(t,i){r(t.exports),e(t.exports,"default",(function(){return b}));var a,o=s("8TSCy"),l=s("2TvXO"),u=s("cu9iz"),c=s("dLARP"),f=s("kyj08"),p=s("2VlWd"),d=s("flPLJ"),h=s("7qybv"),y=s("10vEZ"),v=s("kYueh"),m=s("7bIfi"),g=s("gpND0");function b(e,t){return _.apply(this,arguments)}function _(){return(_=o.asyncToGenerator(n(l).mark((function e(t,r){var i,s,u,c,f,d,m,g,b;return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(0,v.isDataProtocol)(t),(u=(0,v.isBlobProtocol)(t))||s||(t=(0,v.normalize)(t)),c={url:t,requestOptions:o.objectSpread({},(0,h.unwrap)(r))},!(f=(0,v.getInterceptor)(t))){e.next=12;break}return e.next=8,V(f,c);case 8:if(null==(d=e.sent)){e.next=11;break}return e.abrupt("return",{data:d,getHeader:E,requestOptions:c.requestOptions,url:c.url});case 11:f.after||f.error||(f=null);case 12:if(t=c.url,"image"!==(r=c.requestOptions).responseType){e.next=17;break}if(!(0,p.default)("host-webworker")&&!(0,p.default)("host-node")){e.next=15;break}throw L("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),c);case 15:e.next=19;break;case 17:if(!s){e.next=19;break}throw L("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+r.responseType),c);case 19:if("head"!==r.method){e.next=24;break}if(!r.body){e.next=22;break}throw L("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),c);case 22:if(!s&&!u){e.next=24;break}throw L("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),c);case 24:return e.next=26,A();case 26:if(e.sent,!a){e.next=28;break}return e.abrupt("return",a.execute(t,r));case 28:return m=new AbortController,(0,y.onAbort)(r,(function(){return m.abort()})),g={controller:m,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:f,params:c,redoRequest:!1,useIdentity:w.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},e.next=33,W(g);case 33:return b=e.sent,e.abrupt("return",(null==(i=f)||null==i.after||i.after(b),b));case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=u.default.request,x="FormData"in globalThis,S=[499,498,403,401],k=["COM_0056","COM_0057","SB_0008"],T=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],E=function(){return null},I=Symbol();function C(e){var t=(0,v.getOrigin)(e);t&&!b._corsServers.includes(t)&&b._corsServers.push(t)}function O(e){var t=(0,v.getOrigin)(e);return!t||t.endsWith(".arcgis.com")||b._corsServers.includes(t)||(0,v.isTrustedServer)(t)}function L(e,t,r,n){var i="Error",a={url:r.url,requestOptions:r.requestOptions,getHeader:E,ssl:!1};if(t instanceof f.default)return t.details?(t.details=(0,d.clone)(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=a,t;if(t){var o=n&&function(e){return n.headers.get(e)},s=n&&n.status,l=t.message;l&&(i=l),o&&(a.getHeader=o),a.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||s||0,a.subCode=t.subcode,a.messageCode=t.messageCode,"string"==typeof t.details?a.messages=[t.details]:a.messages=t.details,a.raw=I in t?t[I]:t}return(0,y.isAbortError)(t)?(0,y.createAbortError)():new(0,f.default)(e,i,a)}function A(){return M.apply(this,arguments)}function M(){return(M=o.asyncToGenerator(n(l).mark((function e(){return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,p.default)("host-webworker")){e.next=8;break}if(e.t0=a,e.t0){e.next=6;break}return e.next=5,s("7qZIC");case 5:a=e.sent;case 6:e.next=9;break;case 8:b._abortableFetch||(b._abortableFetch=globalThis.fetch.bind(globalThis));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return R.apply(this,arguments)}function R(){return(R=o.asyncToGenerator(n(l).mark((function e(){return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=c.id,e.t0){e.next=4;break}return e.next=4,s("sSTfh");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return F.apply(this,arguments)}function F(){return(F=o.asyncToGenerator(n(l).mark((function e(t){var r,i,a,o,s,f,p,d;return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.params.url,i=t.params.requestOptions,a=t.controller.signal,o=i.body,s=null,f=null,p=null,x&&"HTMLFormElement"in globalThis&&(o instanceof FormData?s=o:o instanceof HTMLFormElement&&(f=o,s=new FormData(f))),"string"==typeof o&&(p=o),t.fetchOptions={cache:i.cacheBust&&!b._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:"head"===i.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:a},(s||p)&&(t.fetchOptions.body=s||p),"anonymous"===i.authMode&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(r)||i.query&&i.query.token||s&&s.get&&s.get("token")||f&&f.elements.token),!t.hasToken&&u.default.apiKey&&(0,m.supportsApiKey)(r)&&(i.query||(i.query={}),i.query.token=u.default.apiKey,t.hasToken=!0),!t.useIdentity||t.hasToken||t.credentialToken||j(r)||(0,y.isAborted)(a)){e.next=24;break}if("immediate"!==i.authMode){e.next=13;break}return e.next=7,N();case 7:return e.next=9,c.id.getCredential(r,{signal:a});case 9:d=e.sent,t.credential=d,e.next=23;break;case 13:if("no-prompt"!==i.authMode){e.next=22;break}return e.next=16,N();case 16:return e.next=18,c.id.getCredential(r,{prompt:!1,signal:a}).catch((function(){}));case 18:d=e.sent,t.credential=d,e.next=23;break;case 22:c.id&&(d=c.id.findCredential(r));case 23:d&&(t.credentialToken=d.token,t.useSSL=!!d.ssl);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return T.some((function(t){return t.test(e)}))}function D(e){return U.apply(this,arguments)}function U(){return(U=o.asyncToGenerator(n(l).mark((function e(t){var r,i,a,s,u,f,d,h,m,g,_,S,k,T,E,I,A,M,N,R,P;return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.params.url,i=t.params.requestOptions,a=t.fetchOptions,s=(0,v.isBlobProtocol)(r)||(0,v.isDataProtocol)(r),u=i.responseType||"json",f=s?0:null!=i.timeout?i.timeout:w.timeout,d=!1,s){e.next=24;break}if(t.useSSL&&(r=(0,v.toHTTPS)(r)),i.cacheBust&&"default"===a.cache&&(r=(0,v.addQueryParameter)(r,"request.preventCache",Date.now())),h=o.objectSpread({},i.query),t.credentialToken&&(h.token=t.credentialToken),m=(0,v.objectToQuery)(h),(0,p.default)("esri-url-encodes-apostrophe")&&(m=m.replace(/'/g,"%27")),g=r.length+1+m.length,d="delete"===i.method||"post"===i.method||"put"===i.method||!!i.body||g>w.maxUrlLength,(S=i.useProxy||!!(0,v.getProxyRule)(r))&&(k=(0,v.getProxyUrl)(r),_=k.path,!d&&_.length+1+g>w.maxUrlLength&&(d=!0),k.query&&(h=o.objectSpread({},k.query,h))),"HEAD"!==a.method||!d&&!S){e.next=21;break}if(!d){e.next=19;break}if(!(g>w.maxUrlLength)){e.next=18;break}throw L("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params);case 18:throw L("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);case 19:if(!S){e.next=21;break}throw L("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params);case 21:d?(a.method="delete"===i.method?"DELETE":"put"===i.method?"PUT":"POST",i.body?r=(0,v.addQueryParameters)(r,h):(a.body=(0,v.objectToQuery)(h),a.headers["Content-Type"]="application/x-www-form-urlencoded")):r=(0,v.addQueryParameters)(r,h),S&&(t.useProxy=!0,r="".concat(_,"?").concat(r)),h.token&&x&&a.body instanceof FormData&&((T=a.body).set?T.set("token",h.token):T.append("token",h.token)),i.hasOwnProperty("withCredentials")?t.withCredentials=i.withCredentials:(0,v.hasSameOrigin)(r,(0,v.getAppUrl)())||((0,v.isTrustedServer)(r)||c.id&&(E=c.id.findServerInfo(r))&&E.webTierAuth)&&(t.withCredentials=!0),t.withCredentials&&(a.credentials="include");case 24:if(M=0,N=!1,f>0&&(M=setTimeout((function(){N=!0,t.controller.abort()}),f)),e.prev=26,"native-request-init"!==i.responseType){e.next=31;break}(A=a).url=r,e.next=97;break;case 31:if("image"===i.responseType&&"default"===a.cache&&"GET"===a.method&&!d&&!H(i.headers)&&(s||t.useProxy||!w.proxyUrl||O(r))){e.next=94;break}return e.next=34,b._abortableFetch(r,a);case 34:if(I=e.sent,t.useProxy||C(r),"native"!==i.responseType){e.next=40;break}A=I,e.next=92;break;case 40:if("HEAD"===a.method){e.next=92;break}if(!I.ok){e.next=89;break}e.t0=u,e.next="array-buffer"===e.t0?45:"blob"===e.t0||"image"===e.t0?49:53;break;case 45:return e.next=47,I.arrayBuffer();case 47:return A=e.sent,e.abrupt("break",56);case 49:return e.next=51,I.blob();case 51:return A=e.sent,e.abrupt("break",56);case 53:return e.next=55,I.text();case 55:A=e.sent;case 56:if(M&&(clearTimeout(M),M=0),"json"!==u&&"xml"!==u&&"document"!==u){e.next=69;break}if(!A){e.next=68;break}e.t1=u,e.next="json"===e.t1?61:"xml"===e.t1?63:"document"===e.t1?65:66;break;case 61:return A=JSON.parse(A),e.abrupt("break",66);case 63:return A=z(A,"application/xml"),e.abrupt("break",66);case 65:A=z(A,"text/html");case 66:e.next=69;break;case 68:A=null;case 69:if(!A){e.next=87;break}if("array-buffer"!==u&&"blob"!==u){e.next=82;break}if(R=I.headers.get("Content-Type"),!(/application\/json|text\/plain/i.test(R)&&A["blob"===u?"size":"byteLength"]<=750)){e.next=82;break}return e.prev=73,e.next=76,new Response(A).json();case 76:(P=e.sent).error&&(A=P),e.next=82;break;case 80:e.prev=80,e.t2=e.catch(73);case 82:if(e.t3="image"===u&&A instanceof Blob,!e.t3){e.next=87;break}return e.next=86,X(URL.createObjectURL(A),t,!0);case 86:A=e.sent;case 87:e.next=92;break;case 89:return e.next=91,I.text();case 91:A=e.sent;case 92:e.next=97;break;case 94:return e.next=96,X(r,t);case 96:A=e.sent;case 97:e.next=108;break;case 99:if(e.prev=99,e.t4=e.catch(26),"AbortError"!==e.t4.name){e.next=105;break}if(!N){e.next=104;break}throw new Error("Timeout exceeded");case 104:throw(0,y.createAbortError)("Request canceled");case 105:if(!I&&e.t4 instanceof TypeError&&w.proxyUrl&&!i.body&&"delete"!==i.method&&"head"!==i.method&&"post"!==i.method&&"put"!==i.method&&!t.useProxy&&!O(r)){e.next=107;break}throw e.t4;case 107:t.redoRequest=!0,(0,v.addProxyRule)({proxyUrl:w.proxyUrl,urlPrefix:(0,v.getOrigin)(r)});case 108:return e.prev=108,M&&clearTimeout(M),e.finish(108);case 111:return e.abrupt("return",[I,A]);case 112:case"end":return e.stop()}}),e,null,[[26,99,108,111],[73,80]])})))).apply(this,arguments)}function V(e,t){return B.apply(this,arguments)}function B(){return(B=o.asyncToGenerator(n(l).mark((function e(t,r){var i,a;return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t.responseData){e.next=2;break}return e.abrupt("return",t.responseData);case 2:if(t.headers&&(r.requestOptions.headers=o.objectSpread({},r.requestOptions.headers,t.headers)),t.query&&(r.requestOptions.query=o.objectSpread({},r.requestOptions.query,t.query)),!t.before){e.next=16;break}return e.prev=4,e.next=7,t.before(r);case 7:a=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),i=L("request:interceptor",e.t0,r);case 13:if((a instanceof Error||a instanceof f.default)&&(i=L("request:interceptor",a,r)),!i){e.next=15;break}throw t.error&&t.error(i),i;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}function H(e){if(e){var t=!0,r=!1,n=void 0;try{for(var i,a=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){if(e[i.value])return!0}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}return!1}function z(e,t){var r;try{r=(new DOMParser).parseFromString(e,t)}catch(e){}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}function W(e){return G.apply(this,arguments)}function G(){return(G=o.asyncToGenerator(n(l).mark((function e(t){var r,i,a,s,u,f,p,d,h,y,m,g;return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=4,P(t);case 4:e.prev=4;case 6:return e.t0=o,e.next=9,D(t);case 9:e.t1=e.sent,u=e.t0.slicedToArray.call(e.t0,e.t1,2),a=u[0],s=u[1];case 14:return e.next=16,J(t,a,s);case 16:if(!e.sent){e.next=6;break}case 17:e.next=23;break;case 19:throw e.prev=19,e.t2=e.catch(4),(f=L("request:server",e.t2,t.params,a)).details.ssl=t.useSSL,t.interceptor&&t.interceptor.error&&t.interceptor.error(f),f;case 23:return p=t.params.url,!/\/sharing\/rest\/(accounts|portals)\/self/i.test(p)||t.hasToken||t.credentialToken||null==(r=s)||null==(i=r.user)||!i.username||(0,v.isTrustedServer)(p)||(d=(0,v.getOrigin)(p,!0))&&w.trustedServers.push(d),(h=t.credential)&&c.id&&(y=c.id.findServerInfo(h.server),(m=y&&y.owningSystemUrl)&&(m=m.replace(/\/?$/,"/sharing"),(g=c.id.findCredential(m,h.userId))&&-1===c.id._getIdenticalSvcIdx(m,g)&&g.resources.unshift(m))),e.abrupt("return",{data:s,getHeader:a?function(e){return a.headers.get(e)}:E,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url});case 28:case"end":return e.stop()}}),e,null,[[4,19]])})))).apply(this,arguments)}function J(e,t,r){return q.apply(this,arguments)}function q(){return(q=o.asyncToGenerator(n(l).mark((function e(t,r,i){var a,o,s,u,f,p,d;return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.redoRequest){e.next=2;break}return e.abrupt("return",(t.redoRequest=!1,!1));case 2:if(a=t.params.requestOptions,r&&"native"!==a.responseType&&"native-request-init"!==a.responseType){e.next=5;break}return e.abrupt("return",!0);case 5:if(r.ok){e.next=8;break}throw(o=new Error("Unable to load ".concat(r.url," status: ").concat(r.status)))[I]=i,o;case 8:if(null!=i&&i.error&&(o=i.error),o&&(s=Number(o.code),u=o.hasOwnProperty("subcode")?Number(o.subcode):null,f=(f=o.messageCode)&&f.toUpperCase()),p=a.authMode,403!==s||!(4===u||o.message&&o.message.toLowerCase().indexOf("ssl")>-1&&-1===o.message.toLowerCase().indexOf("permission"))){e.next=15;break}if(t.useSSL){e.next=13;break}return e.abrupt("return",(t.useSSL=!0,!1));case 13:e.next=30;break;case 15:if(t.hasToken||!t.useIdentity||"no-prompt"===p&&498!==s||-1===S.indexOf(s)||j(t.params.url)||!(403!==s||-1===k.indexOf(f)&&(null==u||2===u&&t.credentialToken))){e.next=30;break}return e.next=18,N();case 18:return e.prev=18,e.next=21,c.id.getCredential(t.params.url,{error:L("request:server",o,t.params),prompt:"no-prompt"!==p,signal:t.controller.signal,token:t.credentialToken});case 21:return d=e.sent,e.abrupt("return",(t.credential=d,t.credentialToken=d.token,t.useSSL=t.useSSL||d.ssl,!1));case 25:if(e.prev=25,e.t0=e.catch(18),"no-prompt"!==p){e.next=29;break}return e.abrupt("return",(t.credential=null,t.credentialToken=null,!1));case 29:o=e.t0;case 30:if(!o){e.next=32;break}throw o;case 32:return e.abrupt("return",!0);case 33:case"end":return e.stop()}}),e,null,[[18,25]])})))).apply(this,arguments)}function X(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.src=e,(0,g.loadImageAsync)(i,e,r,n)}b._abortableFetch=null,b._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]})),s.register("7bIfi",(function(t,r){e(t.exports,"supportsApiKey",(function(){return a}));var n=s("kYueh"),i=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function a(e){var t=(0,n.getOrigin)(e,!0);return t&&t.endsWith(".arcgis.com")&&!i.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}})),s.register("gpND0",(function(t,r){e(t.exports,"loadImageAsync",(function(){return o}));var n=s("2VlWd"),i=s("7qybv"),a=s("10vEZ");function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;return new Promise((function(s,u){if((0,a.isAborted)(o))u(l());else{var c=function(){d(),u(new Error("Unable to load ".concat(t)))},f=function(){var t=e;d(),s(t)},p=function(){if(e){var t=e;d(),t.src="",u(l())}},d=function(){(0,n.default)("esri-image-decode")||(e.removeEventListener("error",c),e.removeEventListener("load",f)),c=null,f=null,e=null,(0,i.isSome)(o)&&o.removeEventListener("abort",p),p=null,r&&URL.revokeObjectURL(t)};(0,i.isSome)(o)&&o.addEventListener("abort",p),(0,n.default)("esri-image-decode")?e.decode().then(f,c):(e.addEventListener("error",c),e.addEventListener("load",f))}}))}function l(){try{return new DOMException("Aborted","AbortError")}catch(t){var e=new Error;return e.name="AbortError",e}}})),s.register("7qZIC",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("al1SC")).then((function(){return s("wscz2")}))})),s.register("sSTfh",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("fhBiJ")).then((function(){return s("jZi8f")}))})),s.register("eB8sj",(function(t,r){e(t.exports,"reader",(function(){return i}));var n=s("iho5X");function i(e,t,r){var i,a;return void 0===t||Array.isArray(t)?(a=e,r=t,i=[void 0]):(a=t,i=Array.isArray(e)?e:[e]),function(e,t){var o=e.constructor.prototype;i.forEach((function(i){var s=(0,n.propertyJSONMeta)(e,i,a);s.read&&"object"==typeof s.read||(s.read={}),s.read.reader=o[t],r&&(s.read.source=(s.read.source||[]).concat(r))}))}}})),s.register("gINRd",(function(t,r){e(t.exports,"default",(function(){return E})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("bFSSc"),u=s("jK9zx"),c=s("iCnzh"),f=s("7eJjO"),p=s("7qybv"),d=s("1TSdR"),h=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var y,v=s("fcwIv"),m=s("Pe3X5"),g=s("d1Fqh"),b=s("j40xv"),_=s("8Iadx"),w=s("80GBQ"),x=s("eY5Yp"),S=s("eF88h");function k(e,t,r){return null==t?r:null==r?t:e(t,r)}var T=y=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;return a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).type="extent",s.xmin=0,s.ymin=0,s.mmin=void 0,s.zmin=void 0,s.xmax=0,s.ymax=0,s.mmax=void 0,s.zmax=void 0,l.default(s)}return u.default(r,[{key:"normalizeCtorArgs",value:function(e,t,r,n,i){return!(a=e)||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"==typeof e?(e.spatialReference=null==e.spatialReference?b.default.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:n,spatialReference:null==i?b.default.WGS84:i}:{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0};var a}},{key:"cache",get:function(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}},{key:"center",get:function(){var e=new(0,g.default)({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}},{key:"extent",get:function(){return this.clone()}},{key:"hasM",get:function(){return null!=this.mmin&&null!=this.mmax}},{key:"hasZ",get:function(){return null!=this.zmin&&null!=this.zmax}},{key:"height",get:function(){return Math.abs(this.ymax-this.ymin)}},{key:"width",get:function(){return Math.abs(this.xmax-this.xmin)}},{key:"centerAt",value:function(e){var t=this.center;return null!=e.z&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}},{key:"clone",value:function(){var e=new y;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,null!=this.zmin&&(e.zmin=this.zmin,e.zmax=this.zmax),null!=this.mmin&&(e.mmin=this.mmin,e.mmax=this.mmax),e}},{key:"contains",value:function(e){if(!e)return!1;var t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&(0,S.canProject)(t,r)&&(e=t.isWebMercator?(0,S.geographicToWebMercator)(e):(0,S.webMercatorToGeographic)(e,!0)),"point"===e.type?(0,_.extentContainsPoint)(this,e):"extent"===e.type&&(0,_.extentContainsExtent)(this,e)}},{key:"equals",value:function(e){if(this===e)return!0;if((0,p.isNone)(e))return!1;var t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&(0,S.canProject)(t,r)&&(e=t.isWebMercator?(0,S.geographicToWebMercator)(e):(0,S.webMercatorToGeographic)(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}},{key:"expand",value:function(e){var t=.5*(1-e),r=this.width*t,n=this.height*t;if(this.xmin+=r,this.ymin+=n,this.xmax-=r,this.ymax-=n,this.hasZ){var i=(this.zmax-this.zmin)*t;this.zmin+=i,this.zmax-=i}if(this.hasM){var a=(this.mmax-this.mmin)*t;this.mmin+=a,this.mmax-=a}return this}},{key:"intersects",value:function(e){if((0,p.isNone)(e))return!1;"mesh"===e.type&&(e=e.extent);var t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&(0,S.canProject)(t,r)&&(e=t.isWebMercator?(0,S.geographicToWebMercator)(e):(0,S.webMercatorToGeographic)(e,!0)),(0,w.getFeatureExtentIntersector)(e.type)(this,e)}},{key:"normalize",value:function(){var e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}},{key:"offset",value:function(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,null!=r&&(this.zmin+=r,this.zmax+=r),this}},{key:"shiftCentralMeridian",value:function(){return this._normalize(!0)}},{key:"union",value:function(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=k(Math.min,this.zmin,e.zmin),this.zmax=k(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=k(Math.min,this.mmin,e.mmin),this.mmax=k(Math.max,this.mmax,e.mmax))),this}},{key:"intersection",value:function(e){return this===e?this:(0,p.isNone)(e)||!this.intersects(e)?null:(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=k(Math.max,this.zmin,e.zmin),this.zmax=k(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=k(Math.max,this.mmin,e.mmin),this.mmax=k(Math.min,this.mmax,e.mmax)),this)}},{key:"toJSON",value:function(e){return this.write({},e)}},{key:"_shiftCM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,x.getInfo)(this.spatialReference);if(!e||!this.spatialReference)return this;var t=this.spatialReference,r=this._getCM(e);if(r){var n=t.isWebMercator?(0,S.webMercatorToGeographic)(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(n.x=this._normalizeX(n.x,e).x),this.spatialReference=new(0,b.default)((0,d.replace)(t.isWGS84?e.altTemplate:e.wkTemplate,{Central_Meridian:n.x}))}return this}},{key:"_getCM",value:function(e){var t=null,r=c.default(e.valid,2),n=r[0],i=r[1],a=this.xmin,o=this.xmax;return a>=n&&a<=i&&o>=n&&o<=i||(t=this.center),t}},{key:"_normalize",value:function(e,t,r){var n=this.spatialReference;if(!n)return this;if(!(r=r||(0,x.getInfo)(n)))return this;var i=this._getParts(r).map((function(e){return e.extent}));if(i.length<2)return i[0]||this;if(i.length>2)return e?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(e)return this._shiftCM(r);if(t)return i;var a=!0,o=!0;return i.forEach((function(e){e.hasZ||(a=!1),e.hasM||(o=!1)})),{rings:i.map((function(e){var t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(a)for(var r=(e.zmax-e.zmin)/2,n=0;n<t.length;n++)t[n].push(r);if(o)for(var i=(e.mmax-e.mmin)/2,s=0;s<t.length;s++)t[s].push(i);return t})),hasZ:a,hasM:o,spatialReference:n}}},{key:"_getParts",value:function(e){var t=this.cache._parts;if(!t){t=[];var r,n=this,i=n.ymin,a=n.ymax,o=n.spatialReference,s=this.width,l=this.xmin,u=this.xmax;e=e||(0,x.getInfo)(o);var f=c.default(e.valid,2),p=f[0],d=f[1],h=(r=this._normalizeX(this.xmin,e)).x,v=r.frameId,m=(r=this._normalizeX(this.xmax,e)).x,g=r.frameId,b=h===m&&s>0;if(s>2*d){var _=new y(l<u?h:m,i,d,a,o),w=new y(p,i,l<u?m:h,a,o),S=new y(0,i,d,a,o),k=new y(p,i,0,a,o),T=[],E=[];_.contains(S)&&T.push(v),_.contains(k)&&E.push(v),w.contains(S)&&T.push(g),w.contains(k)&&E.push(g);for(var I=v+1;I<g;I++)T.push(I),E.push(I);t.push({extent:_,frameIds:[v]},{extent:w,frameIds:[g]},{extent:S,frameIds:T},{extent:k,frameIds:E})}else h>m||b?t.push({extent:new y(h,i,d,a,o),frameIds:[v]},{extent:new y(p,i,m,a,o),frameIds:[g]}):t.push({extent:new y(h,i,m,a,o),frameIds:[v]});this.cache._parts=t}var C=this.hasZ,O=this.hasM;if(C||O){var L={};C&&(L.zmin=this.zmin,L.zmax=this.zmax),O&&(L.mmin=this.mmin,L.mmax=this.mmax);for(var A=0;A<t.length;A++)t[A].extent.set(L)}return t}},{key:"_normalizeX",value:function(e,t){var r,n=c.default(t.valid,2),i=n[0],a=n[1],o=2*a,s=0;return e>a?(e-=(r=Math.ceil(Math.abs(e-a)/o))*o,s=r):e<i&&(e+=(r=Math.ceil(Math.abs(e-i)/o))*o,s=-r),{x:e,frameId:s}}}],[{key:"fromBounds",value:function(e,t){return new y({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}},{key:"fromPoint",value:function(e){return new y({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}}]),r}(m.default);(0,f._)([(0,h.property)({readOnly:!0})],T.prototype,"cache",null),(0,f._)([(0,h.property)({readOnly:!0})],T.prototype,"center",null),(0,f._)([(0,h.property)({readOnly:!0})],T.prototype,"extent",null),(0,f._)([(0,h.property)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],T.prototype,"hasM",null),(0,f._)([(0,h.property)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],T.prototype,"hasZ",null),(0,f._)([(0,h.property)({readOnly:!0})],T.prototype,"height",null),(0,f._)([(0,h.property)({readOnly:!0})],T.prototype,"width",null),(0,f._)([(0,h.property)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],T.prototype,"xmin",void 0),(0,f._)([(0,h.property)({type:Number,json:{write:!0}})],T.prototype,"ymin",void 0),(0,f._)([(0,h.property)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],T.prototype,"mmin",void 0),(0,f._)([(0,h.property)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],T.prototype,"zmin",void 0),(0,f._)([(0,h.property)({type:Number,json:{write:!0}})],T.prototype,"xmax",void 0),(0,f._)([(0,h.property)({type:Number,json:{write:!0}})],T.prototype,"ymax",void 0),(0,f._)([(0,h.property)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],T.prototype,"mmax",void 0),(0,f._)([(0,h.property)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],T.prototype,"zmax",void 0),(T=y=(0,f._)([(0,v.subclass)("esri.geometry.Extent")],T)).prototype.toJSON.isDefaultToJSON=!0;var E=T})),s.register("Pe3X5",(function(t,r){e(t.exports,"default",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("bFSSc"),u=s("jK9zx"),c=s("7eJjO"),f=s("1XAcN"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d=s("eB8sj"),h=s("fcwIv"),y=s("j40xv"),v=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;return a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).type=null,s.hasM=!1,s.hasZ=!1,s.spatialReference=y.default.WGS84,l.default(s)}return u.default(r,[{key:"cache",get:function(){return this.commitProperty("spatialReference"),{}}},{key:"extent",get:function(){return null}},{key:"readSpatialReference",value:function(e,t){if(e instanceof y.default)return e;if(null!=e){var r=new(0,y.default);return r.read(e,t),r}return e}},{key:"clone",value:function(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}},{key:"clearCache",value:function(){this.notifyChange("cache")}},{key:"getCacheValue",value:function(e){return this.cache[e]}},{key:"setCacheValue",value:function(e,t){this.cache[e]=t}}]),r}(f.JSONSupport);(0,c._)([(0,p.property)()],v.prototype,"type",void 0),(0,c._)([(0,p.property)({readOnly:!0})],v.prototype,"cache",null),(0,c._)([(0,p.property)({readOnly:!0})],v.prototype,"extent",null),(0,c._)([(0,p.property)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],v.prototype,"hasM",void 0),(0,c._)([(0,p.property)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],v.prototype,"hasZ",void 0),(0,c._)([(0,p.property)({type:y.default,json:{write:!0}})],v.prototype,"spatialReference",void 0),(0,c._)([(0,d.reader)("spatialReference")],v.prototype,"readSpatialReference",null);var m=v=(0,c._)([(0,h.subclass)("esri.geometry.Geometry")],v)})),s.register("d1Fqh",(function(t,r){e(t.exports,"default",(function(){return A})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("bFSSc"),u=s("jK9zx"),c=s("iCnzh"),f=s("7eJjO"),p=s("jHOLN"),d=s("7qybv"),h=s("iho5X");s("lNwWH"),s("2VlWd");var y,v=s("ba18L"),m=s("eB8sj"),g=s("fcwIv"),b=s("kced1"),_=s("iJAIC"),w=s("Pe3X5"),x=s("j40xv"),S=s("jxLHn"),k=s("dWqje"),T=s("eY5Yp"),E=s("eF88h"),I=[0,0];function C(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}var O=p.default.getLogger("esri.geometry.Point"),L=y=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;return a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).x=0,s.y=0,s.z=void 0,s.m=void 0,s.type="point",l.default(s)}return u.default(r,[{key:"normalizeCtorArgs",value:function(e,t,r,n,i){var a;if(Array.isArray(e))i=t,e=(a=e)[0],t=a[1],r=a[2],n=a[3];else if(e&&"object"==typeof e){if(e=null!=(a=e).x?a.x:a.longitude,t=null!=a.y?a.y:a.latitude,r=a.z,n=a.m,(i=a.spatialReference)&&"esri.geometry.SpatialReference"!==i.declaredClass&&(i=new(0,x.default)(i)),null!=a.longitude||null!=a.latitude)if(null==a.longitude)O.warn(".longitude=","Latitude was defined without longitude");else if(null==a.latitude)O.warn(".latitude=","Longitude was defined without latitude");else if(!a.declaredClass&&i&&i.isWebMercator){var o=(0,E.lngLatToXY)(a.longitude,a.latitude,I);e=o[0],t=o[1]}}else C(r)?(i=r,r=null):C(n)&&(i=n,n=null);var s={x:e,y:t};return null==s.x&&null!=s.y?O.warn(".y=","Y coordinate was defined without an X coordinate"):null==s.y&&null!=s.x&&O.warn(".x=","X coordinate was defined without a Y coordinate"),null!=i&&(s.spatialReference=i),null!=r&&(s.z=r),null!=n&&(s.m=n),s}},{key:"cache",get:function(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}},{key:"hasM",get:function(){return void 0!==this.m},set:function(e){e!==(void 0!==this._get("m"))&&(this._set("m",e?0:void 0),this._set("hasM",e))}},{key:"hasZ",get:function(){return void 0!==this.z},set:function(e){e!==(void 0!==this._get("z"))&&(this._set("z",e?0:void 0),this._set("hasZ",e))}},{key:"latitude",get:function(){var e=this,t=e.spatialReference,r=e.x,n=e.y;if(t){if(t.isWebMercator)return(0,E.xyToLngLat)(r,n,I)[1];if(t.isGeographic)return n}return null},set:function(e){var t=this.spatialReference,r=this.x;t&&(t.isWebMercator?this._set("y",(0,E.lngLatToXY)(r,e,I)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}},{key:"longitude",get:function(){var e=this,t=e.x,r=e.y,n=e.spatialReference;if(n){if(n.isWebMercator)return(0,E.xyToLngLat)(t,r,I)[0];if(n.isGeographic)return t}return null},set:function(e){var t=this.y,r=this.spatialReference;r&&(r.isWebMercator?this._set("x",(0,E.lngLatToXY)(e,t,I)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}},{key:"writeX",value:function(e,t,r){t[r]=isNaN(e)?"NaN":e}},{key:"readX",value:function(e){return"string"==typeof e?NaN:e}},{key:"clone",value:function(){var e=new y;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}},{key:"copy",value:function(e){return y.copy(e,this),this}},{key:"equals",value:function(e){if((0,d.isNone)(e))return!1;var t,r=this,n=r.x,i=r.y,a=r.z,o=r.m,s=r.spatialReference,l=e.z,u=e.m,f=e.x,p=e.y,h=e.spatialReference;if(!s.equals(h))if(s.isWebMercator&&h.isWGS84)f=(t=c.default((0,E.lngLatToXY)(f,p),2))[0],p=t[1],h=s;else{if(!s.isWGS84||!h.isWebMercator)return!1;var y;f=(y=c.default((0,E.xyToLngLat)(f,p),2))[0],p=y[1],h=s}return n===f&&i===p&&a===l&&o===u&&s.wkid===h.wkid}},{key:"offset",value:function(e,t,r){return(0,S.offsetPoint)(this,e,t,r)}},{key:"normalize",value:function(){if(!this.spatialReference)return this;var e=(0,T.getInfo)(this.spatialReference);if(!e)return this;var t=this.x,r=c.default(e.valid,2),n=r[0],i=r[1],a=2*i;return t>i?t-=Math.ceil(Math.abs(t-i)/a)*a:t<n&&(t+=Math.ceil(Math.abs(t-n)/a)*a),this._set("x",t),this}},{key:"distance",value:function(e){return(0,k.distance)(this,e)}},{key:"toArray",value:function(){var e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}},{key:"toJSON",value:function(e){return this.write({},e)}}],[{key:"copy",value:function(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));var r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}}]),r}(w.default);(0,f._)([(0,h.property)({readOnly:!0})],L.prototype,"cache",null),(0,f._)([(0,h.property)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],L.prototype,"hasM",null),(0,f._)([(0,h.property)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],L.prototype,"hasZ",null),(0,f._)([(0,h.property)({type:Number})],L.prototype,"latitude",null),(0,f._)([(0,h.property)({type:Number})],L.prototype,"longitude",null),(0,f._)([(0,h.property)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,v.cast)((function(e){return isNaN(e)?e:(0,_.ensureNumber)(e)}))],L.prototype,"x",void 0),(0,f._)([(0,b.writer)("x")],L.prototype,"writeX",null),(0,f._)([(0,m.reader)("x")],L.prototype,"readX",null),(0,f._)([(0,h.property)({type:Number,json:{write:!0}})],L.prototype,"y",void 0),(0,f._)([(0,h.property)({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],L.prototype,"z",void 0),(0,f._)([(0,h.property)({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],L.prototype,"m",void 0),(L=y=(0,f._)([(0,g.subclass)("esri.geometry.Point")],L)).prototype.toJSON.isDefaultToJSON=!0;var A=L})),s.register("ba18L",(function(t,r){e(t.exports,"cast",(function(){return c}));var n=s("iJAIC"),i=s("gy5s8"),a=Object.prototype.toString;function o(e){var t="__accessorMetadata__"in e?(0,n.ensureType)(e):e;return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.push(t),"number"==typeof r[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return l.apply(this,r)}}function l(e,t,r,n){(0,i.getOwnPropertyMetadata)(e,t).cast=n}function u(e){return function(t,r){(0,i.getOwnPropertyMetadata)(t,e).cast=t[r]}}function c(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(3!==t.length||"string"!=typeof t[1])return 1===t.length&&"[object Function]"===a.call(t[0])?o(t[0]):1===t.length&&"string"==typeof t[0]?u(t[0]):void 0}})),s.register("jxLHn",(function(t,r){function n(e,t,r,n){var i;return e.x=e.x+t,e.y=e.y+r,null!=n&&(e.z=(null!=(i=e.z)?i:0)+n),e}e(t.exports,"offsetPoint",(function(){return n}))})),s.register("dWqje",(function(t,r){function n(e,t){var r=e.x-t.x,n=e.y-t.y,i=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(r*r+n*n+i*i)}e(t.exports,"distance",(function(){return n}))})),s.register("eF88h",(function(t,r){e(t.exports,"y2lat",(function(){return p})),e(t.exports,"canProject",(function(){return v})),e(t.exports,"project",(function(){return m})),e(t.exports,"lngLatToXY",(function(){return g})),e(t.exports,"xyToLngLat",(function(){return b})),e(t.exports,"geographicToWebMercator",(function(){return _})),e(t.exports,"webMercatorToGeographic",(function(){return w})),s("8TSCy");var n=s("iCnzh"),i=s("flPLJ"),a=s("7qybv"),o=s("j40xv"),l=s("8NvwW"),u=s("eY5Yp");function c(e){return 57.29577951308232*e}function f(e){return.017453292519943*e}function p(e){return Math.PI/2-2*Math.atan(Math.exp(-e/l.earth.radius))}function d(e){return null!=e.wkid||null!=e.wkt}var h=[0,0];function y(e,t,r,i,a){var o,s,l,u=e,c=a;if(c.spatialReference=r,"x"in u&&"x"in c)o=n.default(t(u.x,u.y,h,i),2),c.x=o[0],c.y=o[1];else if("xmin"in u&&"xmin"in c)s=n.default(t(u.xmin,u.ymin,h,i),2),c.xmin=s[0],c.ymin=s[1],l=n.default(t(u.xmax,u.ymax,h,i),2),c.xmax=l[0],c.ymax=l[1];else if("paths"in u&&"paths"in c||"rings"in u&&"rings"in c){for(var f,p=("paths"in u?u.paths:u.rings),d=[],y=0;y<p.length;y++){var v=p[y];f=[],d.push(f);for(var m=0;m<v.length;m++)f.push(t(v[m][0],v[m][1],[0,0],i)),v[m].length>2&&f[m].push(v[m][2]),v[m].length>3&&f[m].push(v[m][3])}"paths"in c?c.paths=d:c.rings=d}else if("points"in u&&"points"in c){for(var g=u.points,b=[],_=0;_<g.length;_++)b[_]=t(g[_][0],g[_][1],[0,0],i),g[_].length>2&&b[_].push(g[_][2]),g[_].length>3&&b[_].push(g[_][3]);c.points=b}return a}function v(e,t){var r=e&&(d(e)?e:e.spatialReference),n=t&&(d(t)?t:t.spatialReference);return!(e&&"type"in e&&"mesh"===e.type||t&&"type"in t&&"mesh"===t.type||!r||!n)&&(!!(0,u.equals)(n,r)||(0,u.isWebMercator)(n)&&(0,u.isWGS84)(r)||(0,u.isWebMercator)(r)&&(0,u.isWGS84)(n))}function m(e,t){if((0,a.isNone)(e))return null;var r=e.spatialReference,n=t&&(d(t)?t:t.spatialReference);return v(r,n)?(0,u.equals)(r,n)?(0,i.clone)(e):(0,u.isWebMercator)(n)?y(e,g,o.default.WebMercator,!1,(0,i.clone)(e)):(0,u.isWGS84)(n)?y(e,b,o.default.WGS84,!1,(0,i.clone)(e)):null:null}function g(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0];t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);var n=f(t);return r[0]=f(e)*l.earth.radius,r[1]=l.earth.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),r}function b(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=c(e/l.earth.radius);return r[0]=n?i:i-360*Math.floor((i+180)/360),r[1]=c(Math.PI/2-2*Math.atan(Math.exp(-t/l.earth.radius))),r}function _(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.clone)(e);return y(e,g,o.default.WebMercator,t,r)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.clone)(e);return y(e,b,o.default.WGS84,t,r)}})),s.register("8NvwW",(function(t,r){e(t.exports,"earth",(function(){return o})),e(t.exports,"mars",(function(){return l})),e(t.exports,"moon",(function(){return u})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=function(){"use strict";function e(t,r,i,a){n.default(this,e),this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=i;var o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=a||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}return i.default(e,[{key:"radius",get:function(){return this.semiMajorAxis}}]),e}(),o=new a(6378137,1/298.257223563,3e5,.006694379990137799),l=new a(3396190,1/169.8944472236118,23e4),u=new a(1737400,0,0)})),s.register("8Iadx",(function(t,r){e(t.exports,"extentContainsPoint",(function(){return o})),e(t.exports,"extentContainsMultipoint",(function(){return l})),e(t.exports,"extentContainsCoords2D",(function(){return c})),e(t.exports,"extentContainsExtent",(function(){return u})),e(t.exports,"extentContainsCoords3D",(function(){return f})),e(t.exports,"polygonContainsPoint",(function(){return d})),e(t.exports,"polygonContainsCoords",(function(){return h})),s("8TSCy");var n=s("iCnzh"),i=s("7qybv"),a=[0,0];function o(e,t){return!!(0,i.isSome)(t)&&p(e,t.x,t.y,t.z)}function l(e,t){if(!t.points||t.points.length)return!1;var r=!0,n=!1,i=void 0;try{for(var a,o=t.points[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){if(!c(e,a.value))return!1}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return!0}function u(e,t){var r=t.xmin,n=t.ymin,i=t.zmin,a=t.xmax,o=t.ymax,s=t.zmax;return e.hasZ&&t.hasZ?p(e,r,n,i)&&p(e,r,o,i)&&p(e,a,o,i)&&p(e,a,n,i)&&p(e,r,n,s)&&p(e,r,o,s)&&p(e,a,o,s)&&p(e,a,n,s):p(e,r,n)&&p(e,r,o)&&p(e,a,o)&&p(e,a,n)}function c(e,t){return p(e,t[0],t[1])}function f(e,t){return p(e,t[0],t[1],t[2])}function p(e,t,r,n){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(null==n||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function d(e,t){return a[1]=t.y,a[0]=t.x,h(e,a)}function h(e,t){return function(e,t){if(!e)return!1;if(r=e,!Array.isArray(r[0][0]))return y(!1,e,t);var r;for(var n=!1,i=0,a=e.length;i<a;i++)n=y(n,e[i],t);return n}(e.rings,t)}function y(e,t,r){for(var i=n.default(r,2),a=i[0],o=i[1],s=e,l=0,u=0,c=t.length;u<c;u++){++l===c&&(l=0);var f=n.default(t[u],2),p=f[0],d=f[1],h=n.default(t[l],2),y=h[0],v=h[1];(d<o&&v>=o||v<o&&d>=o)&&p+(o-d)/(v-d)*(y-p)<a&&(s=!s)}return s}})),s.register("80GBQ",(function(t,r){e(t.exports,"extentIntersectsExtent",(function(){return o})),e(t.exports,"extentIntersectsPolyline",(function(){return v})),e(t.exports,"isSelfIntersecting",(function(){return g})),e(t.exports,"segmentIntersects",(function(){return _})),e(t.exports,"getFeatureExtentIntersector",(function(){return w})),s("8TSCy");var n=s("iCnzh"),i=s("8Iadx");function a(e,t){return(0,i.extentContainsPoint)(e,t)}function o(e,t){var r,n,i,a=e.hasZ&&t.hasZ;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(n=t.ymin,e.ymax<n)return!1}else if(n=e.ymin,t.ymax<n)return!1;if(a&&t.hasZ)if(e.zmin<=t.zmin){if(i=t.zmin,e.zmax<i)return!1}else if(i=e.zmin,t.zmax<i)return!1;return!0}function l(e,t){var r=t.points,n=t.hasZ?i.extentContainsCoords3D:i.extentContainsCoords2D,a=!0,o=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){if(n(e,l.value))return!0}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return!1}var u=[0,0],c=[0,0],f=[0,0],p=[0,0],d=[u,c,f,p],h=[[f,u],[u,c],[c,p],[p,f]];function y(e,t){u[0]=e.xmin,u[1]=e.ymax,c[0]=e.xmax,c[1]=e.ymax,f[0]=e.xmin,f[1]=e.ymin,p[0]=e.xmax,p[1]=e.ymin;var r=!0,n=!1,a=void 0;try{for(var o,s=d[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;if((0,i.polygonContainsCoords)(t,l))return!0}}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}var y=!0,v=!1,m=void 0;try{for(var g,_=t.rings[Symbol.iterator]();!(y=(g=_.next()).done);y=!0){var w=g.value;if(w.length){var x=w[0];if((0,i.extentContainsCoords2D)(e,x))return!0;for(var S=1;S<w.length;S++){var k=w[S];if((0,i.extentContainsCoords2D)(e,k)||b(x,k,h))return!0;x=k}}}}catch(e){v=!0,m=e}finally{try{y||null==_.return||_.return()}finally{if(v)throw m}}return!1}function v(e,t){u[0]=e.xmin,u[1]=e.ymax,c[0]=e.xmax,c[1]=e.ymax,f[0]=e.xmin,f[1]=e.ymin,p[0]=e.xmax,p[1]=e.ymin;var r=t.paths,n=!0,a=!1,o=void 0;try{for(var s,l=r[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var d=s.value;if(r.length){var y=d[0];if((0,i.extentContainsCoords2D)(e,y))return!0;for(var v=1;v<d.length;v++){var m=d[v];if((0,i.extentContainsCoords2D)(e,m)||b(y,m,h))return!0;y=m}}}}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return!1}var m=[0,0];function g(e){for(var t=0;t<e.length;t++){for(var r=e[t],n=0;n<r.length-1;n++)for(var i=r[n],a=r[n+1],o=t+1;o<e.length;o++)for(var s=0;s<e[o].length-1;s++){var l=e[o][s],u=e[o][s+1];if(_(i,a,l,u,m)&&!(m[0]===i[0]&&m[1]===i[1]||m[0]===l[0]&&m[1]===l[1]||m[0]===a[0]&&m[1]===a[1]||m[0]===u[0]&&m[1]===u[1]))return!0}var c=r.length;if(!(c<=4))for(var f=0;f<c-3;f++){var p=c-1;0===f&&(p=c-2);for(var d=r[f],h=r[f+1],y=f+2;y<p;y++){var v=r[y],g=r[y+1];if(_(d,h,v,g,m)&&!(m[0]===d[0]&&m[1]===d[1]||m[0]===v[0]&&m[1]===v[1]||m[0]===h[0]&&m[1]===h[1]||m[0]===g[0]&&m[1]===g[1]))return!0}}}return!1}function b(e,t,r){for(var n=0;n<r.length;n++)if(_(e,t,r[n][0],r[n][1]))return!0;return!1}function _(e,t,r,i,a){var o=n.default(e,2),s=o[0],l=o[1],u=n.default(t,2),c=u[0],f=u[1],p=n.default(r,2),d=p[0],h=p[1],y=n.default(i,2),v=y[0]-d,m=s-d,g=c-s,b=y[1]-h,_=l-h,w=f-l,x=b*g-v*w;if(0===x)return!1;var S=(v*_-b*m)/x,k=(g*_-w*m)/x;return S>=0&&S<=1&&k>=0&&k<=1&&(a&&(a[0]=s+S*(c-s),a[1]=l+S*(f-l)),!0)}function w(e){switch(e){case"esriGeometryEnvelope":case"extent":return o;case"esriGeometryMultipoint":case"multipoint":return l;case"esriGeometryPoint":case"point":return a;case"esriGeometryPolygon":case"polygon":return y;case"esriGeometryPolyline":case"polyline":return v}}})),s.register("86CDN",(function(t,r){e(t.exports,"getLocale",(function(){return p})),e(t.exports,"onLocaleChange",(function(){return h})),e(t.exports,"beforeLocaleChange",(function(){return v})),s("8TSCy");var n,i,a,o,l,u=s("5Vgx8"),c=null!=(n=null==(i=globalThis.esriConfig)?void 0:i.locale)?n:null==(a=globalThis.dojoConfig)?void 0:a.locale;function f(){var e,t;return null!=(e=null!=c?c:null==(t=globalThis.navigator)?void 0:t.language)?e:"en"}function p(){return void 0===l&&(l=f()),l}var d=[];function h(e){return d.push(e),{remove:function(){d.splice(d.indexOf(e),1)}}}var y=[];function v(e){return y.push(e),{remove:function(){d.splice(y.indexOf(e),1)}}}function m(){var e,t=null!=(e=o)?e:f();l!==t&&(l=t,u.default(y).forEach((function(e){e.call(null,t)})),u.default(d).forEach((function(e){e.call(null,t)})))}null==globalThis.addEventListener||globalThis.addEventListener("languagechange",m)})),s.register("kdfYM",(function(t,r){e(t.exports,"default",(function(){return S})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("ifq4M"),c=s("7eJjO"),f=s("jymfC"),p=s("79ASa"),d=s("flPLJ"),h=s("7qybv"),y=s("iho5X");s("iJAIC");var v,m=s("fcwIv"),g=s("gINRd"),b=s("j40xv"),_=s("eF88h"),w=new(0,p.JSONMap)({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"}),x=v=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).categories=null,n.disableExtraQuery=!1,n.extent=null,n.filter=null,n.num=10,n.query=null,n.sortField=null,n.start=1,o.default(n)}return l.default(r,[{key:"sortOrder",get:function(){return this._get("sortOrder")||"asc"},set:function(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}},{key:"clone",value:function(){return new v({categories:this.categories?(0,d.clone)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}},{key:"toRequestOptions",value:function(e,t){var r,n;if(this.categories&&(r=this.categories.map((function(e){return Array.isArray(e)?JSON.stringify(e):e}))),this.extent){var i=(0,_.project)(this.extent,b.default.WGS84);(0,h.isSome)(i)&&(n="".concat(i.xmin,",").concat(i.ymin,",").concat(i.xmax,",").concat(i.ymax))}var a=this.query;!this.disableExtraQuery&&e.extraQuery&&(a="("+a+")"+e.extraQuery);var o={categories:r,bbox:n,q:a,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map((function(e){return w.toJSON(e.trim())})).join(","),o.sortOrder=this.sortOrder),{query:u.default({},t,o)}}}]),r}(f.default);(0,c._)([(0,y.property)()],x.prototype,"categories",void 0),(0,c._)([(0,y.property)()],x.prototype,"disableExtraQuery",void 0),(0,c._)([(0,y.property)({type:g.default})],x.prototype,"extent",void 0),(0,c._)([(0,y.property)()],x.prototype,"filter",void 0),(0,c._)([(0,y.property)()],x.prototype,"num",void 0),(0,c._)([(0,y.property)()],x.prototype,"query",void 0),(0,c._)([(0,y.property)()],x.prototype,"sortField",void 0),(0,c._)([(0,y.property)()],x.prototype,"sortOrder",null),(0,c._)([(0,y.property)()],x.prototype,"start",void 0);var S=x=v=(0,c._)([(0,m.subclass)("esri.portal.PortalQueryParams")],x)})),s.register("79ASa",(function(t,r){e(t.exports,"JSONMap",(function(){return l})),e(t.exports,"strict",(function(){return u})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("ifq4M"),o=s("8EPEw"),l=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignoreUnknown:!1,useNumericKeys:!1},i=this;n.default(this,e),this.jsonToAPI=t,this.options=r,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this.apiToJSON),this.jsonValues=this._getKeysSorted(this.jsonToAPI),this.read=function(e){return i.fromJSON(e)},this.write=function(e,t,r){var n=i.toJSON(e);void 0!==n&&(0,o.setDeepValue)(r,n,t)},this.write.isJSONMapWriter=!0}return i.default(e,[{key:"toJSON",value:function(e){if(this.apiToJSON.hasOwnProperty(e)){var t=this.apiToJSON[e];return this.options.useNumericKeys?+t:t}return this.options.ignoreUnknown?void 0:e}},{key:"fromJSON",value:function(e){return this.jsonToAPI.hasOwnProperty(e)?this.jsonToAPI[e]:this.options.ignoreUnknown?void 0:e}},{key:"_invertMap",value:function(e){var t={};for(var r in e)t[e[r]]=r;return t}},{key:"_getKeysSorted",value:function(e){var t=[];for(var r in e)t.push(r);return t.sort(),t}}]),e}();function u(){return function(e,t){return new l(e,a.default({ignoreUnknown:!0},t))}}})),s.register("9GtuN",(function(t,r){e(t.exports,"default",(function(){return d})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("jymfC"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f=s("fcwIv"),p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).nextQueryParams=null,n.queryParams=null,n.results=null,n.total=null,o.default(n)}return r}(u.default);(0,l._)([(0,c.property)()],p.prototype,"nextQueryParams",void 0),(0,l._)([(0,c.property)()],p.prototype,"queryParams",void 0),(0,l._)([(0,c.property)()],p.prototype,"results",void 0),(0,l._)([(0,c.property)()],p.prototype,"total",void 0);var d=p=(0,l._)([(0,f.subclass)("esri.portal.PortalQueryResult")],p)})),s.register("kthBz",(function(t,n){r(t.exports),e(t.exports,"default",(function(){return _})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("5Vgx8"),u=s("bFSSc"),c=s("jK9zx"),f=s("7eJjO"),p=s("kyj08"),d=s("1XAcN"),h=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var y,v=s("fcwIv"),m=s("yMZ2t"),g=s("fQy4Q"),b=y=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a;return o.default(this,r),(a=t.call.apply(t,[this].concat(l.default(n)))).access=null,a.created=null,a.culture=null,a.description=null,a.email=null,a.fullName=null,a.modified=null,a.orgId=null,a.portal=null,a.preferredView=null,a.privileges=null,a.region=null,a.role=null,a.roleId=null,a.sourceJSON=null,a.units=null,a.username=null,a.userType=null,u.default(a)}return c.default(r,[{key:"thumbnailUrl",get:function(){var e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl("".concat(e,"/info/").concat(t,"?f=json")):null}},{key:"userContentUrl",get:function(){var e=this.get("portal.restUrl");return e?"".concat(e,"/content/users/").concat(this.username):null}},{key:"url",get:function(){var e=this.get("portal.restUrl");return e?"".concat(e,"/community/users/").concat(this.username):null}},{key:"addItem",value:function(e){var t=this,r=e&&e.item,n=e&&e.data,i=e&&e.folder,a={method:"post"};r&&(a.query=r.createPostQuery(),null!=n&&("string"==typeof n?a.query.text=n:"object"==typeof n&&(a.query.text=JSON.stringify(n))));var o=this.userContentUrl;return i&&(o+="/"+("string"==typeof i?i:i.id)),this.portal._request(o+"/addItem",a).then((function(e){return r.id=e.id,r.portal=t.portal,r.loaded?r.reload():r.load()}))}},{key:"deleteItem",value:function(e){var t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+"/items/".concat(e.id,"/delete"),{method:"post"}).then((function(){e.id=null,e.portal=null}))}},{key:"deleteItems",value:function(e){var t=this.userContentUrl+"/deleteItems",r=e.map((function(e){return e.id}));if(r.length){var n={method:"post",query:{items:r.join(",")}};return this.portal._request(t,n).then((function(){e.forEach((function(e){e.id=null,e.portal=null}))}))}return Promise.resolve(void 0)}},{key:"fetchFolders",value:function(){var e=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then((function(t){var r=e;return t&&t.folders?t.folders.map((function(e){var t=m.default.fromJSON(e);return t.portal=r.portal,t})):[]}))}},{key:"fetchGroups",value:function(){var e=this;return this.portal._request(this.url).then((function(t){var r=e;return t&&t.groups?t.groups.map((function(e){var t=g.default.fromJSON(e);return t.portal=r.portal,t})):[]}))}},{key:"fetchItems",value:function(e){var t=this;e||(e={});var r,n=this.userContentUrl;return e.folder&&(n+="/"+e.folder.id),s("9oKnB").then((function(i){var a=i.default;r=a;var o={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return t.portal._request(n,{query:o})})).then((function(e){var n,i=t;return e&&e.items?(n=e.items.map((function(e){var t=r.fromJSON(e);return t.portal=i.portal,t})),Promise.all(n.map((function(e){return e.load()}))).catch((function(e){return e})).then((function(){return{items:n,nextStart:e.nextStart,total:e.total}}))):{items:[],nextStart:-1,total:0}}))}},{key:"fetchTags",value:function(){return this.portal._request(this.url+"/tags").then((function(e){return e.tags}))}},{key:"getThumbnailUrl",value:function(e){var t=this.thumbnailUrl;return t&&e&&(t+="&w=".concat(e)),t}},{key:"queryFavorites",value:function(e){return this.favGroupId?(this._favGroup||(this._favGroup=new(0,g.default)({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new(0,p.default)("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}},{key:"toJSON",value:function(){throw new(0,p.default)("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}}],[{key:"fromJSON",value:function(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");var t=new y;return t.sourceJSON=e,t.read(e),t}}]),r}(d.JSONSupport);(0,f._)([(0,h.property)()],b.prototype,"access",void 0),(0,f._)([(0,h.property)({type:Date})],b.prototype,"created",void 0),(0,f._)([(0,h.property)()],b.prototype,"culture",void 0),(0,f._)([(0,h.property)()],b.prototype,"description",void 0),(0,f._)([(0,h.property)()],b.prototype,"email",void 0),(0,f._)([(0,h.property)()],b.prototype,"favGroupId",void 0),(0,f._)([(0,h.property)()],b.prototype,"fullName",void 0),(0,f._)([(0,h.property)({type:Date})],b.prototype,"modified",void 0),(0,f._)([(0,h.property)()],b.prototype,"orgId",void 0),(0,f._)([(0,h.property)()],b.prototype,"portal",void 0),(0,f._)([(0,h.property)()],b.prototype,"preferredView",void 0),(0,f._)([(0,h.property)()],b.prototype,"privileges",void 0),(0,f._)([(0,h.property)()],b.prototype,"region",void 0),(0,f._)([(0,h.property)()],b.prototype,"role",void 0),(0,f._)([(0,h.property)()],b.prototype,"roleId",void 0),(0,f._)([(0,h.property)()],b.prototype,"sourceJSON",void 0),(0,f._)([(0,h.property)()],b.prototype,"thumbnail",void 0),(0,f._)([(0,h.property)({readOnly:!0})],b.prototype,"thumbnailUrl",null),(0,f._)([(0,h.property)()],b.prototype,"units",void 0),(0,f._)([(0,h.property)({readOnly:!0})],b.prototype,"userContentUrl",null),(0,f._)([(0,h.property)({readOnly:!0})],b.prototype,"url",null),(0,f._)([(0,h.property)()],b.prototype,"username",void 0),(0,f._)([(0,h.property)()],b.prototype,"userType",void 0);var _=b=y=(0,f._)([(0,v.subclass)("esri.portal.PortalUser")],b)})),s.register("yMZ2t",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("kyj08"),f=s("1XAcN"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d=s("fcwIv"),h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).created=null,n.id=null,n.portal=null,n.title=null,n.username=null,o.default(n)}return l.default(r,[{key:"url",get:function(){var e=this.get("portal.restUrl");return e?"".concat(e,"/content/users/").concat(this.username,"/").concat(this.id):null}},{key:"toJSON",value:function(){throw new(0,c.default)("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}}]),r}(f.JSONSupport);(0,u._)([(0,p.property)({type:Date})],h.prototype,"created",void 0),(0,u._)([(0,p.property)()],h.prototype,"id",void 0),(0,u._)([(0,p.property)()],h.prototype,"portal",void 0),(0,u._)([(0,p.property)()],h.prototype,"title",void 0),(0,u._)([(0,p.property)({readOnly:!0})],h.prototype,"url",null),(0,u._)([(0,p.property)()],h.prototype,"username",void 0);var y=h=(0,u._)([(0,d.subclass)("esri.portal.PortalFolder")],h)})),s.register("fQy4Q",(function(t,n){r(t.exports),e(t.exports,"default",(function(){return g})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("7eJjO"),f=s("kyj08"),p=s("1XAcN"),d=s("iho5X");s("lNwWH"),s("2VlWd");var h=s("iJAIC"),y=s("fcwIv"),v=s("kdfYM"),m=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).access=null,n.created=null,n.description=null,n.id=null,n.isInvitationOnly=!1,n.modified=null,n.owner=null,n.portal=null,n.snippet=null,n.sortField=null,n.sortOrder=null,n.tags=null,n.title=null,l.default(n)}return u.default(r,[{key:"thumbnailUrl",get:function(){var e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl("".concat(e,"/info/").concat(t,"?f=json")):null}},{key:"url",get:function(){var e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}},{key:"fetchCategorySchema",value:function(e){var t=this;return this.portal._request(this.url+"/categorySchema",e).then((function(r){var n=r.categorySchema||[];return n.some((function(e){return"contentCategorySetsGroupQuery.LivingAtlas"===e.source}))?t._fetchCategorySchemaSet("LivingAtlas",e):n}))}},{key:"fetchMembers",value:function(e){return this.portal._request(this.url+"/users",e)}},{key:"getThumbnailUrl",value:function(e){var t=this.thumbnailUrl;return t&&e&&(t+="&w=".concat(e)),t}},{key:"toJSON",value:function(){throw new(0,f.default)("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}},{key:"queryItems",value:function(e,t){var r=(0,h.ensureType)(v.default,e);return parseFloat(this.portal.currentVersion)>5?(r=r||new(0,v.default),this.portal._queryPortal("/content/groups/".concat(this.id,"/search"),r,"PortalItem",t)):((r=r?r.clone():new(0,v.default)).query="group:"+this.id+(r.query?" "+r.query:""),this.portal.queryItems(r,t))}},{key:"_fetchCategorySchemaSet",value:function(e,t){var r=this;return this.portal._fetchSelf(this.portal.authMode,!0,t).then((function(e){var n=e.contentCategorySetsGroupQuery;if(n){var i=new(0,v.default);return i.disableExtraQuery=!0,i.num=1,i.query=n,r.portal.queryGroups(i,t)}throw new(0,f.default)("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((function(r){if(r.total){var n=r.results[0],i=new(0,v.default);return i.num=1,i.query='typekeywords:"'.concat(e,'"'),n.queryItems(i,t)}throw new(0,f.default)("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((function(e){return e.total?e.results[0].fetchData("json",t).then((function(e){var t=e&&e.categorySchema;return t&&t.length?t:[]})):[]}))}}]),r}(p.JSONSupport);(0,c._)([(0,d.property)()],m.prototype,"access",void 0),(0,c._)([(0,d.property)({type:Date})],m.prototype,"created",void 0),(0,c._)([(0,d.property)()],m.prototype,"description",void 0),(0,c._)([(0,d.property)()],m.prototype,"id",void 0),(0,c._)([(0,d.property)()],m.prototype,"isInvitationOnly",void 0),(0,c._)([(0,d.property)({type:Date})],m.prototype,"modified",void 0),(0,c._)([(0,d.property)()],m.prototype,"owner",void 0),(0,c._)([(0,d.property)()],m.prototype,"portal",void 0),(0,c._)([(0,d.property)()],m.prototype,"snippet",void 0),(0,c._)([(0,d.property)()],m.prototype,"sortField",void 0),(0,c._)([(0,d.property)()],m.prototype,"sortOrder",void 0),(0,c._)([(0,d.property)()],m.prototype,"tags",void 0),(0,c._)([(0,d.property)()],m.prototype,"thumbnail",void 0),(0,c._)([(0,d.property)({readOnly:!0})],m.prototype,"thumbnailUrl",null),(0,c._)([(0,d.property)()],m.prototype,"title",void 0),(0,c._)([(0,d.property)({readOnly:!0})],m.prototype,"url",null);var g=m=(0,c._)([(0,y.subclass)("esri.portal.PortalGroup")],m)})),s.register("9oKnB",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("38nlG")).then((function(){return s("iYaGG")}))})),s.register("3s81k",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("g1BEA")).then((function(){return s("fQy4Q")}))})),s.register("dGMLj",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("fJnUX")).then((function(){return s("kthBz")}))})),s.register("3DJmp",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("gQmW2")).then((function(){return s("lnx4K")}))})),s.register("1n2IJ",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7NfmM")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eqm84"))]).then((function(){return s("9l6gF")}))})),s.register("fJksA",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("6Qw24")).then((function(){return s("blFzk")}))})),s.register("f9X9x",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("gjU9a")).then((function(){return s("kEATo")}))})),s.register("17MmJ",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("e9ULP")).then((function(){return s("iynDo")}))})),s.register("diBmb",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7NfmM")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jkJqt"))]).then((function(){return s("ksSJg")}))})),s.register("h9pt9",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7NfmM")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("gdjkh"))]).then((function(){return s("1eGP3")}))})),s.register("iYaGG",(function(t,i){r(t.exports),e(t.exports,"default",(function(){return M})),s("8TSCy");var a,o=s("g9uIT"),l=s("dap1g"),u=s("f9pi5"),c=s("bFSSc"),f=s("jK9zx"),p=s("ifq4M"),d=s("jcnGU"),h=s("2TvXO"),y=s("7eJjO"),v=s("i9j5X"),m=s("kyj08"),g=s("1XAcN"),b=s("flPLJ"),_=s("bQCqB"),w=s("7qybv"),x=s("kYueh"),S=s("iho5X"),k=s("iJAIC"),T=s("eB8sj"),E=s("fcwIv"),I=s("gINRd"),C=s("ajJOT"),O=s("glAiu"),L=s("5buUa"),A=a=function(e){"use strict";o.default(r,e);var t=l.default(r);function r(e){var n;return u.default(this,r),(n=t.call(this,e)).access=null,n.accessInformation=null,n.apiKey=null,n.applicationProxies=null,n.avgRating=null,n.categories=null,n.created=null,n.culture=null,n.description=null,n.extent=null,n.groupCategories=null,n.id=null,n.itemControl=null,n.licenseInfo=null,n.modified=null,n.name=null,n.numComments=null,n.numRatings=null,n.numViews=null,n.owner=null,n.ownerFolder=null,n.portal=null,n.screenshots=null,n.size=null,n.snippet=null,n.sourceJSON=null,n.tags=null,n.title=null,n.type=null,n.typeKeywords=null,n.url=null,c.default(n)}return f.default(r,[{key:"destroy",value:function(){this.portal=null}},{key:"displayName",get:function(){var e=this.type,t=this.typeKeywords||[],r=e;return"Feature Service"===e||"Feature Collection"===e?r=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===e?r=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?r="Scene Layer":"Media Service"===e?r="Media Layer":"Scene Package"===e?r="Scene Layer Package":"Stream Service"===e?r="Feature Layer":"Geoprocessing Service"===e&&this.portal&&this.portal.isPortal?r=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===e?r="Locator":"Geoenrichment Service"===e?r="GeoEnrichment Service":"Microsoft Powerpoint"===e?r="Microsoft PowerPoint":"GeoJson"===e?r="GeoJSON":"Globe Service"===e?r="Globe Layer":"Vector Tile Service"===e?r="Tile Layer":"netCDF"===e?r="NetCDF":"Map Service"===e?r=-1===t.indexOf("Spatiotemporal")&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&-1===t.indexOf("Relational")?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?r=e.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===e?r="Big Data File Share":"Compact Tile Package"===e?r="Tile Package (tpkx)":"OGCFeatureServer"===e?r="OGC Feature Layer":"web mapping application"===e&&t.indexOf("configurableApp")>-1&&(r="Instant App"),r}},{key:"readExtent",value:function(e){return e&&e.length?new(0,I.default)(e[0][0],e[0][1],e[1][0],e[1][1]):null}},{key:"iconUrl",get:function(){var e,t=this.type&&this.type.toLowerCase()||"",r=this.typeKeywords||[],n=!1,i=!1,a=!1,o=!1,s=!1,l=!1;return t.indexOf("service")>0||"feature collection"===t||"kml"===t||"wms"===t||"wmts"===t||"wfs"===t?(n=r.indexOf("Hosted Service")>-1,"feature service"===t||"feature collection"===t||"kml"===t||"wfs"===t?(i=r.indexOf("Table")>-1,a=r.indexOf("Route Layer")>-1,o=r.indexOf("Markup")>-1,s=-1!==r.indexOf("Spatiotemporal"),l=-1!==r.indexOf("UtilityNetwork"),e=s&&i?"spatiotemporaltable":i?"table":a?"routelayer":o?"markup":s?"spatiotemporal":n?"featureshosted":l?"utilitynetwork":"features"):e="map service"===t||"wms"===t||"wmts"===t?n||r.indexOf("Tiled")>-1||"wmts"===t?"maptiles":"mapimages":"scene service"===t?r.indexOf("Line")>-1?"sceneweblayerline":r.indexOf("3DObject")>-1?"sceneweblayermultipatch":r.indexOf("Point")>-1?"sceneweblayerpoint":r.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":r.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":r.indexOf("Polygon")>-1?"sceneweblayerpolygon":r.indexOf("Building")>-1?"sceneweblayerbuilding":r.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":"image service"===t?r.indexOf("Elevation 3D Layer")>-1?"elevationlayer":r.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===t?"streamlayer":"media service"===t?"mediaservice":"vector tile service"===t?"vectortile":"datastore catalog service"===t?"datastorecollection":"geocoding service"===t?"geocodeservice":"geoprocessing service"===t&&r.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):e="web map"===t||"cityengine web scene"===t?"maps":"web scene"===t?r.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===t&&r.indexOf("configurableApp")>-1?"instantapps":"web mapping application"===t||"mobile application"===t||"application"===t||"operation view"===t||"desktop application"===t?"apps":"map document"===t||"map package"===t||"published map"===t||"scene document"===t||"globe document"===t||"basemap package"===t||"mobile basemap package"===t||"mobile map package"===t||"project package"===t||"project template"===t||"pro map"===t||"layout"===t||"layer"===t&&r.indexOf("ArcGIS Pro")>-1||"explorer map"===t&&r.indexOf("Explorer Document")?"mapsgray":"service definition"===t||"csv"===t||"shapefile"===t||"cad drawing"===t||"geojson"===t||"360 vr experience"===t||"netcdf"===t||"administrative report"===t?"datafiles":"explorer add in"===t||"desktop add in"===t||"windows viewer add in"===t||"windows viewer configuration"===t?"appsgray":"arcgis pro add in"===t||"arcgis pro configuration"===t?"addindesktop":"rule package"===t||"file geodatabase"===t||"sqlite geodatabase"===t||"csv collection"===t||"kml collection"===t||"windows mobile package"===t||"map template"===t||"desktop application template"===t||"gml"===t||"arcpad package"===t||"code sample"===t||"form"===t||"document link"===t||"earth configuration"===t||"operations dashboard add in"===t||"rules package"===t||"image"===t||"workflow manager package"===t||"explorer map"===t&&r.indexOf("Explorer Mapping Application")>-1||r.indexOf("Document")>-1?"datafilesgray":"network analysis service"===t||"geoprocessing service"===t||"geodata service"===t||"geometry service"===t||"geoprocessing package"===t||"locator package"===t||"geoprocessing sample"===t||"workflow manager service"===t?"toolsgray":"layer"===t||"layer package"===t||"explorer layer"===t?"layersgray":"scene package"===t?"scenepackage":"mobile scene package"===t?"mobilescenepackage":"tile package"===t||"compact tile package"===t?"tilepackage":"task file"===t?"taskfile":"report template"===t?"report-template":"statistical data collection"===t?"statisticaldatacollection":"insights workbook"===t?"workbook":"insights model"===t?"insightsmodel":"insights page"===t?"insightspage":"insights theme"===t?"insightstheme":"hub initiative"===t?"hubinitiative":"hubpage"===t?"hubpage":"hub event"===t?"hubevent":"hub site application"===t?"hubsite":"hub project"===t?"hubproject":"relational database connection"===t?"relationaldatabaseconnection":"big data file share"===t?"datastorecollection":"image collection"===t?"imagecollection":"style"===t?"style":"desktop style"===t?"desktopstyle":"dashboard"===t?"dashboard":"raster function template"===t?"rasterprocessingtemplate":"vector tile package"===t?"vectortilepackage":"ortho mapping project"===t?"orthomappingproject":"ortho mapping template"===t?"orthomappingtemplate":"solution"===t?"solutions":"geopackage"===t?"geopackage":"deep learning package"===t?"deeplearningpackage":"real time analytic"===t?"realtimeanalytics":"big data analytic"===t?"bigdataanalytics":"feed"===t?"feed":"excalibur imagery project"===t?"excaliburimageryproject":"notebook"===t?"notebook":"storymap"===t?"storymap":"survey123 add in"===t?"survey123addin":"mission"===t?"mission":"mission report"===t?"missionreport":"quickcapture project"===t?"quickcaptureproject":"pro report"===t?"proreport":"urban model"===t?"urbanmodel":"web experience"===t?"experiencebuilder":"web experience template"===t?"webexperiencetemplate":"experience builder widget"===t?"experiencebuilderwidget":"experience builder widget package"===t?"experiencebuilderwidgetpackage":"workflow"===t?"workflow":"insights script"===t?"insightsscript":"kernel gateway connection"===t?"kernelgatewayconnection":"hub initiative template"===t?"hubinitiativetemplate":"storymap theme"===t?"storymaptheme":"knowledge graph"===t?"knowledgegraph":"native application"===t?"nativeapp":"native application installer"===t?"nativeappinstaller":"link chart"===t?"linkchart":"investigation"===t?"investigation":"ogcfeatureserver"===t?"features":"pro project"===t?"proproject":"insights workbook package"===t?"insightsworkbookpackage":"apache parquet"===t?"apacheparquet":"maps",e?(0,v.getAssetUrl)("esri/images/portal/"+e+"16.png"):null}},{key:"isLayer",get:function(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}},{key:"itemUrl",get:function(){var e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}},{key:"thumbnailUrl",get:function(){var e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl("".concat(e,"/info/").concat(t,"?f=json")):null}},{key:"userItemUrl",get:function(){var e=this.get("portal.restUrl");if(!e)return null;var t=this.owner||this.get("portal.user.username");return t?"".concat(e,"/content/users/").concat(this.ownerFolder?"".concat(t,"/").concat(this.ownerFolder):t,"/items/").concat(this.id):null}},{key:"load",value:function(e){var t=this;this.portal||(this.portal=C.default.getDefault());var r=this.portal.load(e).then((function(){return t.sourceJSON?t.sourceJSON:t.id&&t.itemUrl?t.portal._request(t.itemUrl,{signal:(0,w.isSome)(e)?e.signal:null,query:{token:t.apiKey}}):{}})).then((function(e){t.sourceJSON=e,t.read(e)}));return this.addResolvingPromise(r),Promise.resolve(this)}},{key:"addRating",value:function(e){var t={method:"post",query:{}};return e instanceof L.default&&(e=e.rating),isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then((function(){return new(0,L.default)({rating:e,created:new Date})}))}},{key:"clone",value:function(){var e={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,b.clone)(this.applicationProxies),avgRating:this.avgRating,categories:(0,b.clone)(this.categories),created:(0,b.clone)(this.created),culture:this.culture,description:this.description,extent:(0,b.clone)(this.extent),groupCategories:(0,b.clone)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,b.clone)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,b.clone)(this.screenshots),size:this.size,snippet:this.snippet,tags:(0,b.clone)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,b.clone)(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new a({sourceJSON:this.sourceJSON}).set(e)}},{key:"createPostQuery",value:function(){var e=this.toJSON();for(var t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}},{key:"deleteRating",value:function(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then((function(){}))}},{key:"fetchData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json",t=arguments.length>1?arguments[1]:void 0;return this.portal._request(this.itemUrl+"/data",p.default({responseType:e},t,{query:{token:this.apiKey}}))}},{key:"fetchRating",value:function(e){return this.portal._request(this.itemUrl+"/rating",p.default({query:{token:this.apiKey}},e)).then((function(e){return null!=e.rating?(e.created=new Date(e.created),new(0,L.default)(e)):null}))}},{key:"fetchRelatedItems",value:function(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",p.default({query:p.default({},e,{token:this.apiKey})},t),a)}},{key:"getThumbnailUrl",value:function(e){var t=this.thumbnailUrl;return t&&e&&(t+="&w=".concat(e)),t}},{key:"reload",value:function(){var e=this;return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then((function(t){return e.sourceJSON=t,e.read(t),e}))}},{key:"update",value:function(e){var t=this;return this.id?this.load().then((function(){return t.portal._signIn()})).then((function(){var r=t,n=e&&e.data,i={method:"post"};for(var a in i.query=t.createPostQuery(),i.query)null===i.query[a]&&(i.query[a]="");return i.query.clearEmptyFields=!0,null!=n&&("string"==typeof n?i.query.text=n:"object"==typeof n&&(i.query.text=JSON.stringify(n))),t.portal._request("".concat(t.userItemUrl,"/update"),i).then((function(){return r.reload()}))})):Promise.reject(new(0,m.default)("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}},{key:"updateThumbnail",value:function(e){var t=this;return this.id?this.load().then((function(){return t.portal._signIn()})).then((function(){var r=t,n=e.thumbnail,i=e.filename,a={method:"post"};if("string"==typeof n)(0,x.isDataProtocol)(n)?a.query={data:n}:a.query={url:(0,x.makeAbsolute)(n)},(0,w.isSome)(i)&&(a.query.filename=i);else{var o=new FormData;(0,w.isSome)(i)?o.append("file",n,i):o.append("file",n),a.body=o}return t.portal._request("".concat(t.userItemUrl,"/updateThumbnail"),a).then((function(){return r.reload()}))})):Promise.reject(new(0,m.default)("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}},{key:"fetchResources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=this;return d.default(n(h).mark((function i(){return n(h).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s("21OFR");case 2:return n.abrupt("return",n.sent.fetchResources(r,e,t));case 3:case"end":return n.stop()}}),i)})))()}},{key:"addResource",value:function(e,t,r){var i=this;return d.default(n(h).mark((function a(){var o;return n(h).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s("21OFR");case 2:return o=n.sent,n.abrupt("return",(e.portalItem=i,o.addOrUpdateResource(e,"add",t,r)));case 4:case"end":return n.stop()}}),a)})))()}},{key:"removeResource",value:function(e,t){var r=this;return d.default(n(h).mark((function i(){var a;return n(h).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s("21OFR");case 2:if(a=n.sent,!e.portalItem||e.portalItem.itemUrl===r.itemUrl){n.next=5;break}throw new(0,m.default)("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");case 5:return n.abrupt("return",a.removeResource(r,e,t));case 6:case"end":return n.stop()}}),i)})))()}},{key:"removeAllResources",value:function(e){var t=this;return d.default(n(h).mark((function r(){return n(h).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s("21OFR");case 2:return r.abrupt("return",r.sent.removeAllResources(t,e));case 3:case"end":return r.stop()}}),r)})))()}},{key:"resourceFromPath",value:function(e){return new(0,O.default)({portalItem:this,path:e})}},{key:"toJSON",value:function(){var e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return(0,b.fixJson)(t)}},{key:"_getPostQuery",value:function(){var e=this.toJSON();for(var t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}}],[{key:"from",value:function(e){return(0,k.ensureClass)(a,e)}},{key:"fromJSON",value:function(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new a({sourceJSON:e})}}]),r}((0,g.JSONSupportMixin)(_.default));(0,y._)([(0,S.property)({type:["private","shared","org","public"]})],A.prototype,"access",void 0),(0,y._)([(0,S.property)()],A.prototype,"accessInformation",void 0),(0,y._)([(0,S.property)({type:String})],A.prototype,"apiKey",void 0),(0,y._)([(0,S.property)({json:{read:{source:"appProxies"}}})],A.prototype,"applicationProxies",void 0),(0,y._)([(0,S.property)()],A.prototype,"avgRating",void 0),(0,y._)([(0,S.property)()],A.prototype,"categories",void 0),(0,y._)([(0,S.property)({type:Date})],A.prototype,"created",void 0),(0,y._)([(0,S.property)()],A.prototype,"culture",void 0),(0,y._)([(0,S.property)()],A.prototype,"description",void 0),(0,y._)([(0,S.property)({readOnly:!0})],A.prototype,"displayName",null),(0,y._)([(0,S.property)({type:I.default})],A.prototype,"extent",void 0),(0,y._)([(0,T.reader)("extent")],A.prototype,"readExtent",null),(0,y._)([(0,S.property)()],A.prototype,"groupCategories",void 0),(0,y._)([(0,S.property)({readOnly:!0})],A.prototype,"iconUrl",null),(0,y._)([(0,S.property)()],A.prototype,"id",void 0),(0,y._)([(0,S.property)({readOnly:!0})],A.prototype,"isLayer",null),(0,y._)([(0,S.property)()],A.prototype,"itemControl",void 0),(0,y._)([(0,S.property)({readOnly:!0})],A.prototype,"itemUrl",null),(0,y._)([(0,S.property)()],A.prototype,"licenseInfo",void 0),(0,y._)([(0,S.property)({type:Date})],A.prototype,"modified",void 0),(0,y._)([(0,S.property)()],A.prototype,"name",void 0),(0,y._)([(0,S.property)()],A.prototype,"numComments",void 0),(0,y._)([(0,S.property)()],A.prototype,"numRatings",void 0),(0,y._)([(0,S.property)()],A.prototype,"numViews",void 0),(0,y._)([(0,S.property)()],A.prototype,"owner",void 0),(0,y._)([(0,S.property)()],A.prototype,"ownerFolder",void 0),(0,y._)([(0,S.property)({type:C.default})],A.prototype,"portal",void 0),(0,y._)([(0,S.property)()],A.prototype,"screenshots",void 0),(0,y._)([(0,S.property)()],A.prototype,"size",void 0),(0,y._)([(0,S.property)()],A.prototype,"snippet",void 0),(0,y._)([(0,S.property)()],A.prototype,"sourceJSON",void 0),(0,y._)([(0,S.property)()],A.prototype,"tags",void 0),(0,y._)([(0,S.property)()],A.prototype,"thumbnail",void 0),(0,y._)([(0,S.property)({readOnly:!0})],A.prototype,"thumbnailUrl",null),(0,y._)([(0,S.property)()],A.prototype,"title",void 0),(0,y._)([(0,S.property)()],A.prototype,"type",void 0),(0,y._)([(0,S.property)()],A.prototype,"typeKeywords",void 0),(0,y._)([(0,S.property)()],A.prototype,"url",void 0),(0,y._)([(0,S.property)({readOnly:!0})],A.prototype,"userItemUrl",null);var M=A=a=(0,y._)([(0,E.subclass)("esri.portal.PortalItem")],A)})),s.register("i9j5X",(function(t,r){e(t.exports,"getAssetUrl",(function(){return u}));var n=s("cu9iz"),i=(s("9pNSx"),s("kyj08")),a=s("jHOLN"),o=s("kYueh"),l=a.default.getLogger("esri.assets");function u(e){if(!n.default.assetsPath)throw l.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new(0,i.default)("assets:path-not-set","config.assetsPath is not set");return(0,o.join)(n.default.assetsPath,e)}})),s.register("glAiu",(function(t,r){e(t.exports,"default",(function(){return k})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("ifq4M"),f=s("jcnGU"),p=s("2TvXO"),d=s("7eJjO"),h=s("jymfC"),y=s("kyj08"),v=s("jHOLN"),m=s("7qybv"),g=s("kYueh"),b=s("iho5X");s("lNwWH"),s("2VlWd");var _=s("ba18L"),w=s("fcwIv"),x=v.default.getLogger("esri.portal.PortalItemResource"),S=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).portalItem=null,l.default(n)}return u.default(r,[{key:"normalizeCtorArgs",value:function(e){return e&&e.portalItem&&e.path?c.default({},e,{path:this._normalizePath(e.path,e.portalItem)}):e}},{key:"path",set:function(e){(0,m.isSome)(e)&&(0,g.isAbsolute)(e)?x.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}},{key:"_castPath",value:function(e){return this._normalizePath(e,this.portalItem)}},{key:"url",get:function(){return this.portalItem&&this.path?"".concat(this.portalItem.itemUrl,"/resources/").concat(this.path):null}},{key:"itemRelativeUrl",get:function(){return this.portalItem&&this.path?"./resources/".concat(this.path):null}},{key:"fetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json",t=arguments.length>1?arguments[1]:void 0,r=this.url;if((0,m.isNone)(r))throw new(0,y.default)("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(r,{responseType:e,query:{token:this.portalItem.apiKey},signal:(0,m.get)(t,"signal")})}},{key:"update",value:function(e,t){var r=this;return f.default(n(p).mark((function i(){return n(p).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s("21OFR");case 2:return n.abrupt("return",n.sent.addOrUpdateResource(r,"update",e,t));case 3:case"end":return n.stop()}}),i)})))()}},{key:"hasPath",value:function(){return(0,m.isSome)(this.path)}},{key:"_normalizePath",value:function(e,t){return(0,m.isNone)(e)?e:(e=e.replace(/^\/+/,""),(0,m.isSome)(t)&&(0,g.isAbsolute)(e)&&(e=(0,g.makeRelative)(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}}]),r}(h.default);(0,d._)([(0,b.property)()],S.prototype,"portalItem",void 0),(0,d._)([(0,b.property)({type:String,value:null})],S.prototype,"path",null),(0,d._)([(0,_.cast)("path")],S.prototype,"_castPath",null),(0,d._)([(0,b.property)({type:String,readOnly:!0})],S.prototype,"url",null),(0,d._)([(0,b.property)({type:String,readOnly:!0})],S.prototype,"itemRelativeUrl",null);var k=S=(0,d._)([(0,w.subclass)("esri.portal.PortalItemResource")],S)})),s.register("21OFR",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("lMUHQ")).then((function(){return s("jwlkH")}))})),s.register("5buUa",(function(t,r){e(t.exports,"default",(function(){return d})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("jymfC"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f=s("fcwIv"),p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).created=null,n.rating=null,o.default(n)}return r}(u.default);(0,l._)([(0,c.property)()],p.prototype,"created",void 0),(0,l._)([(0,c.property)()],p.prototype,"rating",void 0);var d=p=(0,l._)([(0,f.subclass)("esri.portal.PortalRating")],p)})),s.register("jgJQw",(function(t,r){e(t.exports,"getBasemapTitle",(function(){return u})),e(t.exports,"esriBasemapDefinitions",(function(){return f})),s("8TSCy");var i=s("jcnGU"),a=s("2TvXO"),o=s("i9j5X"),l=s("hxKVa");function u(e){return c.apply(this,arguments)}function c(){return(c=i.default(n(a).mark((function e(t){var r,i;return n(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=t.indexOf("-vector")>-1?t.slice(0,t.indexOf("-vector")):t,e.next=5,(0,l.fetchMessageBundle)("esri/t9n/basemaps");case 5:return i=e.sent,e.abrupt("return",i[t]||i[r]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,o.getAssetUrl)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}}})),s.register("hxKVa",(function(t,r){e(t.exports,"registerMessageBundleLoader",(function(){return b})),e(t.exports,"fetchMessageBundle",(function(){return _})),e(t.exports,"normalizeMessageBundleLocale",(function(){return x})),s("8TSCy");var i=s("jcnGU"),a=s("iCnzh"),o=s("f9pi5"),l=s("jK9zx"),u=s("2TvXO"),c=s("kyj08"),f=s("10vEZ"),p=s("86CDN"),d=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,h={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function y(e){var t;return null!=(t=h[e])&&t}var v=[],m=new Map;function g(e){var t=!0,r=!1,n=void 0;try{for(var i,a=m.keys()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;T(e.pattern,o)&&m.delete(o)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}function b(e){return v.includes(e)||(g(e),v.unshift(e)),{remove:function(){var t=v.indexOf(e);t>-1&&(v.splice(t,1),g(e))}}}function _(e){return w.apply(this,arguments)}function w(){return(w=i.default(n(u).mark((function e(t){var r,i;return n(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,p.getLocale)(),m.has(t)||m.set(t,S(t,r)),i=m.get(t),e.next=5,E.add(i);case 5:return e.abrupt("return",(e.sent,i));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){if(!d.test(e))return null;var t=a.default(d.exec(e),3),r=t[1],n=t[2],i=r+(n?"-"+n.toUpperCase():"");return y(i)?i:y(r)?r:null}function S(e,t){return k.apply(this,arguments)}function k(){return(k=i.default(n(u).mark((function e(t,r){var i,a,o,s,l,f,p;return n(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],a=!0,o=!1,s=void 0,e.prev=2,l=v[Symbol.iterator]();case 4:if(a=(f=l.next()).done){e.next=19;break}if(!T((p=f.value).pattern,t)){e.next=16;break}return e.prev=7,e.next=10,p.fetchMessageBundle(t,r);case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7),i.push(e.t0);case 16:a=!0,e.next=4;break;case 19:e.next=25;break;case 21:e.prev=21,e.t1=e.catch(2),o=!0,s=e.t1;case 25:e.prev=25,e.prev=26,a||null==l.return||l.return();case 28:if(e.prev=28,!o){e.next=31;break}throw s;case 31:return e.finish(28);case 32:return e.finish(25);case 33:if(!i.length){e.next=35;break}throw new(0,c.default)("intl:message-bundle-error",'Errors occurred while loading "'.concat(t,'"'),{errors:i});case 35:throw new(0,c.default)("intl:no-message-bundle-loader",'No loader found for message bundle "'.concat(t,'"'));case 36:case"end":return e.stop()}}),e,null,[[2,21,25,33],[7,13],[26,,28,32]])})))).apply(this,arguments)}function T(e,t){return"string"==typeof e?t.startsWith(e):e.test(t)}(0,p.beforeLocaleChange)((function(){m.clear()}));var E=new(function(){"use strict";function e(){o.default(this,e),this._numLoading=0}return l.default(e,[{key:"waitForAll",value:function(){var e=this;return i.default(n(u).mark((function t(){return n(u).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e._dfd,!t.t0){t.next=4;break}return t.next=4,e._dfd.promise;case 4:case"end":return t.stop()}}),t)})))()}},{key:"add",value:function(e){var t=this;return this._increase(),e.then((function(){return t._decrease()}),(function(){return t._decrease()})),this.waitForAll()}},{key:"_increase",value:function(){this._numLoading++,this._dfd||(this._dfd=(0,f.createDeferred)())}},{key:"_decrease",value:function(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}]),e}())})),s.register("eJLrr",(function(t,r){e(t.exports,"getLayerJSON",(function(){return y}));var n=s("kyj08"),i=s("flPLJ"),a=s("7qybv"),o=s("8EPEw"),l=s("jtDF0"),u=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),c=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","ogc-feature","route","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function f(e){return!("feature"!==e.type||e.url||!e.source||"memory"!==e.source.type)}function p(e,t){if(t.restrictedWebMapWriting){var r="basemap"===(n=t).layerContainerType?u:"operational-layers"===n.layerContainerType?c:null;return!(0,a.isSome)(r)||r.has(e.type)&&!f(e)}var n;return!0}function d(e,t){"maxScale"in e&&(t.maxScale=(0,l.numberToJSON)(e.maxScale)),"minScale"in e&&(t.minScale=(0,l.numberToJSON)(e.minScale))}function h(e,t){if(function(e,t){if(f(e)){var r=(0,o.getDeepValue)("featureCollection.layers",t),n=r&&r[0]&&r[0].layerDefinition;n&&d(e,n)}else"stream"===e.type?d(e,t.layerDefinition=t.layerDefinition||{}):"group"!==e.type&&d(e,t)}(e,t),"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=(0,l.numberToJSON)(e.opacity),t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type)if(f(e)){var r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function y(e,t,r){if(!("write"in e)||!e.write)return r&&r.messages&&r.messages.push(new(0,n.default)("layer:unsupported","Layers (".concat(e.title,", ").concat(e.id,") of type '").concat(e.declaredClass,"' cannot be persisted"),{layer:e})),null;if(p(e,r)){var o={};return e.write(o,r)?o:null}return(0,a.isSome)(t)&&h(e,t=(0,i.clone)(t)),t}})),s.register("bW6jd",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ihA8s")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("92xMW"))]).then((function(){return s("99BmW")}))})),s.register("jgs9n",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("gduH1"),o=s("iVfa0"),l=s("7qybv"),u=s("iJAIC");function c(e){return(0,o.clamp)((0,u.ensureInteger)(e),0,255)}function f(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}var p,d,h=function(){"use strict";function e(t){n.default(this,e),this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}return i.default(e,[{key:"isBright",get:function(){return.299*this.r+.587*this.g+.114*this.b>=127}},{key:"setColor",value:function(t){if("string"==typeof t)e.fromString(t,this);else if(Array.isArray(t))e.fromArray(t,this);else{var r,n,i,a;this._set(null!=(r=t.r)?r:0,null!=(n=t.g)?n:0,null!=(i=t.b)?i:0,null!=(a=t.a)?a:1),t instanceof e||this._sanitize()}return this}},{key:"toRgb",value:function(){return[this.r,this.g,this.b]}},{key:"toRgba",value:function(){return[this.r,this.g,this.b,this.a]}},{key:"toHex",value:function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return"#".concat(e.length<2?"0"+e:e).concat(t.length<2?"0"+t:t).concat(r.length<2?"0"+r:r)}},{key:"toCss",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.r+", "+this.g+", "+this.b;return e?"rgba(".concat(t,", ").concat(this.a,")"):"rgb(".concat(t,")")}},{key:"toString",value:function(){return this.toCss(!0)}},{key:"toJSON",value:function(){return this.toArray()}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.AlphaMode.ALWAYS,r=c(this.r),n=c(this.g),i=c(this.b);return t===e.AlphaMode.ALWAYS||1!==this.a?[r,n,i,c(255*this.a)]:[r,n,i]}},{key:"clone",value:function(){return new e(this.toRgba())}},{key:"hash",value:function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}},{key:"equals",value:function(e){return(0,l.isSome)(e)&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}},{key:"_sanitize",value:function(){return this.r=Math.round(f(this.r,0,255)),this.g=Math.round(f(this.g,0,255)),this.b=Math.round(f(this.b,0,255)),this.a=f(this.a,0,1),this}},{key:"_set",value:function(e,t,r,n){this.r=e,this.g=t,this.b=r,this.a=n}}],[{key:"blendColors",value:function(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new e;return i.r=Math.round(t.r+(r.r-t.r)*n),i.g=Math.round(t.g+(r.g-t.g)*n),i.b=Math.round(t.b+(r.b-t.b)*n),i.a=t.a+(r.a-t.a)*n,i._sanitize()}},{key:"fromRgb",value:function(t,r){var n=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(n){var i=n[2].split(/\s*,\s*/),o=n[1];if("rgb"===o&&3===i.length||"rgba"===o&&4===i.length){var s=i[0];if("%"===s.charAt(s.length-1)){var l=i.map((function(e){return 2.56*parseFloat(e)}));return 4===i.length&&(l[3]=parseFloat(i[3])),e.fromArray(l,r)}return e.fromArray(i.map((function(e){return parseFloat(e)})),r)}if("hsl"===o&&3===i.length||"hsla"===o&&4===i.length)return e.fromArray((0,a.hsla2rgba)(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])),r)}return null}},{key:"fromHex",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new e;if(4!==t.length&&7!==t.length||"#"!==t[0])return null;var n=4===t.length?4:8,i=(1<<n)-1,a=Number("0x"+t.substr(1));return isNaN(a)?null:(["b","g","r"].forEach((function(e){var t=a&i;a>>=n,r[e]=4===n?17*t:t})),r.a=1,r)}},{key:"fromArray",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new e;return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}},{key:"fromString",value:function(t,r){var n=(0,a.isNamedColor)(t)?(0,a.getNamedColor)(t):null;return n&&e.fromArray(n,r)||e.fromRgb(t,r)||e.fromHex(t,r)}},{key:"fromJSON",value:function(t){return t&&new e([t[0],t[1],t[2],t[3]/255])}},{key:"toUnitRGB",value:function(e){return(0,l.isSome)(e)?[e.r/255,e.g/255,e.b/255]:null}},{key:"toUnitRGBA",value:function(e){return(0,l.isSome)(e)?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}}]),e}();h.prototype.declaredClass="esri.Color",p=h||(h={}),(d=p.AlphaMode||(p.AlphaMode={}))[d.ALWAYS=0]="ALWAYS",d[d.UNLESS_OPAQUE=1]="UNLESS_OPAQUE";var y=h})),s.register("gduH1",(function(t,r){e(t.exports,"isNamedColor",(function(){return a})),e(t.exports,"getNamedColor",(function(){return o})),e(t.exports,"getNamedColorCopy",(function(){return l})),e(t.exports,"hsla2rgba",(function(){return c})),e(t.exports,"hex2rgba",(function(){return f})),s("8TSCy");var n=s("5Vgx8"),i={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function a(e){return i[e]||i[e.toLowerCase()]}function o(e){var t;return null!=(t=i[e])?t:i[e.toLowerCase()]}function l(e){return n.default(o(e))}function u(e,t,r){r<0&&++r,r>1&&--r;var n=6*r;return n<1?e+(t-e)*n:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function c(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=(e%360+360)%360/360,a=r<=.5?r*(t+1):r+t-r*t,o=2*r-a;return[Math.round(255*u(o,a,i+1/3)),Math.round(255*u(o,a,i)),Math.round(255*u(o,a,i-1/3)),n]}function f(e){var t=e.length>5,r=t?8:4,n=(1<<r)-1,i=t?1:17,a=t?9===e.length:5===e.length,o=Number("0x"+e.substr(1));if(isNaN(o))return null;var s,l=[0,0,0,1];return a&&(s=o&n,o>>=r,l[3]=i*s/255),s=o&n,o>>=r,l[2]=i*s,s=o&n,o>>=r,l[1]=i*s,s=o&n,o>>=r,l[0]=i*s,l}})),s.register("iVfa0",(function(t,r){e(t.exports,"nextHighestPowerOfTwo",(function(){return a})),e(t.exports,"clamp",(function(){return o})),e(t.exports,"isPowerOfTwo",(function(){return l})),e(t.exports,"nextPowerOfTwo",(function(){return u})),e(t.exports,"lerp",(function(){return c})),e(t.exports,"deg2rad",(function(){return f})),e(t.exports,"rad2deg",(function(){return p})),e(t.exports,"acosClamped",(function(){return d})),e(t.exports,"asinClamped",(function(){return h})),e(t.exports,"clampFloat32",(function(){return y})),e(t.exports,"cartesianToSpherical",(function(){return m}));var n=s("e4Xv2"),i=(s("hRPEZ"),new Float32Array(1));function a(e){--e;for(var t=1;t<32;t<<=1)e|=e>>t;return e+1}function o(e,t,r){return Math.min(Math.max(e,t),r)}function l(e){return 0==(e&e-1)}function u(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function c(e,t,r){return e+(t-e)*r}function f(e){return e*Math.PI/180}function p(e){return 180*e/Math.PI}function d(e){return Math.acos(o(e,-1,1))}function h(e){return Math.asin(o(e,-1,1))}function y(e){return v(Math.max(-g,Math.min(e,g)))}function v(e){return i[0]=e,i[0]}function m(e,t){var r=(0,n.l)(e),i=h(e[2]/r),a=Math.atan2(e[1]/r,e[0]/r);return(0,n.s)(t,r,i,a),t}var g=v(34028234663852886e22)})),s.register("e4Xv2",(function(t,r){e(t.exports,"l",(function(){return a})),e(t.exports,"g",(function(){return o})),e(t.exports,"s",(function(){return l})),e(t.exports,"b",(function(){return u})),e(t.exports,"f",(function(){return c})),e(t.exports,"E",(function(){return p})),e(t.exports,"a",(function(){return d})),e(t.exports,"i",(function(){return h})),e(t.exports,"h",(function(){return y})),e(t.exports,"p",(function(){return v})),e(t.exports,"n",(function(){return m})),e(t.exports,"d",(function(){return g})),e(t.exports,"c",(function(){return b})),e(t.exports,"e",(function(){return _})),e(t.exports,"m",(function(){return w})),e(t.exports,"t",(function(){return x})),e(t.exports,"q",(function(){return S})),e(t.exports,"z",(function(){return k})),e(t.exports,"k",(function(){return I})),e(t.exports,"r",(function(){return C})),e(t.exports,"j",(function(){return M})),e(t.exports,"u",(function(){return R}));var n=s("5YMIf"),i=s("1CBkz");function a(e){var t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function l(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function u(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function c(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function f(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function p(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function d(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function h(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+n*n+i*i)}function y(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function v(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function m(e,t){var r=t[0],n=t[1],i=t[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e}function g(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function b(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],s=r[1],l=r[2];return e[0]=i*l-a*s,e[1]=a*o-n*l,e[2]=n*s-i*o,e}function _(e,t,r,n){var i=t[0],a=t[1],o=t[2];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e[2]=o+n*(r[2]-o),e}function w(e,t,r){var n=t[0],i=t[1],a=t[2];return e[0]=r[0]*n+r[4]*i+r[8]*a+r[12],e[1]=r[1]*n+r[5]*i+r[9]*a+r[13],e[2]=r[2]*n+r[6]*i+r[10]*a+r[14],e}function x(e,t,r){var n=t[0],i=t[1],a=t[2];return e[0]=n*r[0]+i*r[3]+a*r[6],e[1]=n*r[1]+i*r[4]+a*r[7],e[2]=n*r[2]+i*r[5]+a*r[8],e}function S(e,t,r){var n=r[0],i=r[1],a=r[2],o=r[3],s=t[0],l=t[1],u=t[2],c=i*u-a*l,f=a*s-n*u,p=n*l-i*s,d=i*p-a*f,h=a*c-n*p,y=n*f-i*c,v=2*o;return c*=v,f*=v,p*=v,d*=2,h*=2,y*=2,e[0]=s+c+d,e[1]=l+f+h,e[2]=u+p+y,e}function k(e,t){o(T,e),o(E,t),m(T,T),m(E,E);var r=g(T,E);return r>1?0:r<-1?Math.PI:Math.acos(r)}var T=(0,n.c)(),E=(0,n.c)();function I(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function C(e,t,r){var n=r[0]-t[0],i=r[1]-t[1],a=r[2]-t[2],o=n*n+i*i+a*a;return o>0?(o=1/Math.sqrt(o),e[0]=n*o,e[1]=i*o,e[2]=a*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}var O=c,L=f,A=p,M=h,N=y,R=a,P=v;Object.freeze({__proto__:null,length:a,copy:o,set:l,add:u,subtract:c,multiply:f,divide:p,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:d,scaleAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e},distance:h,squaredDistance:y,squaredLength:v,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},normalize:m,dot:g,cross:b,lerp:_,hermite:function(e,t,r,n,i,a){var o=a*a,s=o*(2*a-3)+1,l=o*(a-2)+a,u=o*(a-1),c=o*(3-2*a);return e[0]=t[0]*s+r[0]*l+n[0]*u+i[0]*c,e[1]=t[1]*s+r[1]*l+n[1]*u+i[1]*c,e[2]=t[2]*s+r[2]*l+n[2]*u+i[2]*c,e},bezier:function(e,t,r,n,i,a){var o=1-a,s=o*o,l=a*a,u=s*o,c=3*a*s,f=3*l*o,p=l*a;return e[0]=t[0]*u+r[0]*c+n[0]*f+i[0]*p,e[1]=t[1]*u+r[1]*c+n[1]*f+i[1]*p,e[2]=t[2]*u+r[2]*c+n[2]*f+i[2]*p,e},random:function(e,t){t=t||1;var r=2*(0,i.R)()*Math.PI,n=2*(0,i.R)()-1,a=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*a,e[1]=Math.sin(r)*a,e[2]=n*t,e},transformMat4:w,transformMat3:x,transformQuat:S,rotateX:function(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e},rotateY:function(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e},rotateZ:function(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e},angle:k,str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},exactEquals:I,equals:function(e,t){if(e===t)return!0;var r=e[0],n=e[1],a=e[2],o=t[0],s=t[1],l=t[2];return Math.abs(r-o)<=i.E*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=i.E*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-l)<=i.E*Math.max(1,Math.abs(a),Math.abs(l))},direction:C,sub:O,mul:L,div:A,dist:M,sqrDist:N,len:R,sqrLen:P})})),s.register("5YMIf",(function(t,r){function n(){return[0,0,0]}function i(e){return[e[0],e[1],e[2]]}function a(e,t,r){return[e,t,r]}function o(e){for(var t=[0,0,0],r=Math.min(3,e.length),n=0;n<r;++n)t[n]=e[n];return t}function s(e,t){return new Float64Array(e,t,3)}function l(){return[0,0,0]}function u(){return a(1,1,1)}function c(){return a(1,0,0)}function f(){return a(0,1,0)}function p(){return a(0,0,1)}e(t.exports,"c",(function(){return n})),e(t.exports,"a",(function(){return i})),e(t.exports,"f",(function(){return a})),e(t.exports,"d",(function(){return o})),e(t.exports,"b",(function(){return s})),e(t.exports,"Z",(function(){return d})),e(t.exports,"O",(function(){return h}));var d=[0,0,0],h=u(),y=c(),v=f(),m=p();Object.freeze({__proto__:null,create:n,clone:i,fromValues:a,fromArray:o,createView:s,zeros:l,ones:u,unitX:c,unitY:f,unitZ:p,ZEROS:d,ONES:h,UNIT_X:y,UNIT_Y:v,UNIT_Z:m})})),s.register("1CBkz",(function(t,r){e(t.exports,"E",(function(){return n})),e(t.exports,"R",(function(){return i})),e(t.exports,"t",(function(){return s}));var n=1e-6,i=Math.random,a=Math.PI/180,o=180/Math.PI;function s(e){return e*a}Object.freeze({__proto__:null,EPSILON:n,RANDOM:i,toRadian:s,toDegree:function(e){return e*o},equals:function(e,t){return Math.abs(e-t)<=n*Math.max(1,Math.abs(e),Math.abs(t))}})})),s.register("hRPEZ",(function(t,r){e(t.exports,"c",(function(){return i})),e(t.exports,"s",(function(){return a})),e(t.exports,"a",(function(){return o})),e(t.exports,"b",(function(){return f})),e(t.exports,"e",(function(){return h})),e(t.exports,"f",(function(){return y})),e(t.exports,"n",(function(){return v})),e(t.exports,"d",(function(){return m})),e(t.exports,"l",(function(){return g})),e(t.exports,"t",(function(){return b})),e(t.exports,"g",(function(){return _})),e(t.exports,"h",(function(){return w}));var n=s("1CBkz");function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function o(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function l(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function u(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function c(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function f(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function p(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+a*a)}function d(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return r*r+n*n+i*i+a*a}function h(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function y(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function v(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r*r+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=r*o,e[1]=n*o,e[2]=i*o,e[3]=a*o),e}function m(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function g(e,t,r,n){var i=t[0],a=t[1],o=t[2],s=t[3];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e[2]=o+n*(r[2]-o),e[3]=s+n*(r[3]-s),e}function b(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,e}function _(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function w(e,t){var r=e[0],i=e[1],a=e[2],o=e[3],s=t[0],l=t[1],u=t[2],c=t[3];return Math.abs(r-s)<=n.E*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-l)<=n.E*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(a-u)<=n.E*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-c)<=n.E*Math.max(1,Math.abs(o),Math.abs(c))}var x=l,S=u,k=c,T=p,E=d,I=h,C=y;Object.freeze({__proto__:null,copy:i,set:a,add:o,subtract:l,multiply:u,divide:c,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:f,scaleAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e},distance:p,squaredDistance:d,length:h,squaredLength:y,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},normalize:v,dot:m,lerp:g,random:function(e,t){var r,i,a,o,s,l;t=t||1;do{s=(r=2*(0,n.R)()-1)*r+(i=2*(0,n.R)()-1)*i}while(s>=1);do{l=(a=2*(0,n.R)()-1)*a+(o=2*(0,n.R)()-1)*o}while(l>=1);var u=Math.sqrt((1-s)/l);return e[0]=t*r,e[1]=t*i,e[2]=t*a*u,e[3]=t*o*u,e},transformMat4:b,transformQuat:function(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],s=r[1],l=r[2],u=r[3],c=u*n+s*a-l*i,f=u*i+l*n-o*a,p=u*a+o*i-s*n,d=-o*n-s*i-l*a;return e[0]=c*u+d*-o+f*-l-p*-s,e[1]=f*u+d*-s+p*-o-c*-l,e[2]=p*u+d*-l+c*-s-f*-o,e[3]=t[3],e},str:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},exactEquals:_,equals:w,sub:x,mul:S,div:k,dist:T,sqrDist:E,len:I,sqrLen:C})})),s.register("dMFG2",(function(t,r){function n(e){}function i(e){return function(){return e}}e(t.exports,"neverReached",(function(){return n})),e(t.exports,"typeCast",(function(){return i})),s("2VlWd")})),s.register("bSafx",(function(t,r){e(t.exports,"enumeration",(function(){return a}));var n=s("79ASa"),i=s("iho5X");function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e instanceof n.JSONMap?e:new(0,n.JSONMap)(e,r),o={type:null==(t=null==r?void 0:r.ignoreUnknown)||t?a.apiValues:String,json:{type:a.jsonValues,read:(null==r||!r.readOnly)&&{reader:a.read},write:{writer:a.write}}};return void 0!==(null==r?void 0:r.readOnly)&&(o.readOnly=!!r.readOnly),void 0!==(null==r?void 0:r.default)&&(o.json.default=r.default),void 0!==(null==r?void 0:r.name)&&(o.json.name=r.name),(0,i.property)(o)}})),s.register("7gqUJ",(function(t,r){e(t.exports,"opacityToTransparency",(function(){return i})),e(t.exports,"transparencyToOpacity",(function(){return a}));var n=s("iJAIC");function i(e){var t=(0,n.ensureInteger)(100*(1-e));return Math.max(0,Math.min(t,100))}function a(e){var t=1-e/100;return Math.max(0,Math.min(t,1))}})),s.register("9M1zq",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("k6tQN")).then((function(){return s("7gr2y")}))})),s.register("7FmYA",(function(t,r){e(t.exports,"default",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("d2yMj"),f=s("6dXDO"),p=s("7qybv");s("kyj08"),s("jHOLN"),s("8rGKX");var d=s("ijmj7"),h=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var y=s("fcwIv"),v=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).getCollections=null,o.default(n)}return l.default(r,[{key:"initialize",value:function(){var e=this;this.handles.add((0,d.autorun)((function(){return e._refresh()})))}},{key:"destroy",value:function(){this.getCollections=null}},{key:"_refresh",value:function(){var e=(0,p.isSome)(this.getCollections)?this.getCollections():null;if((0,p.isNone)(e))this.removeAll();else{var t=0,r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;(0,p.isSome)(s)&&(t=this._processCollection(t,s))}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}this.splice(t,this.length)}}},{key:"_createNewInstance",value:function(e){return new(0,c.default)(e)}},{key:"_processCollection",value:function(e,t){if(!t)return e;var r=this.itemFilterFunction?this.itemFilterFunction:function(e){return!!e},n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;if(l){if(r(l)){var u=this.indexOf(l,e);u>=0?u!==e&&this.reorder(l,e):this.add(l,e),++e}if(this.getChildrenFunction){var c=this.getChildrenFunction(l),f=!0,p=!1,d=void 0;if(Array.isArray(c))try{for(var h,y=c[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var v=h.value;e=this._processCollection(e,v)}}catch(e){p=!0,d=e}finally{try{f||null==y.return||y.return()}finally{if(p)throw d}}else e=this._processCollection(e,c)}}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return e}}]),r}((0,f.HandleOwnerMixin)(c.default));(0,u._)([(0,h.property)()],v.prototype,"getCollections",void 0),(0,u._)([(0,h.property)()],v.prototype,"getChildrenFunction",void 0),(0,u._)([(0,h.property)()],v.prototype,"itemFilterFunction",void 0);var m=v=(0,u._)([(0,y.subclass)("esri.core.CollectionFlattener")],v)})),s.register("6dXDO",(function(t,r){e(t.exports,"HandleOwnerMixin",(function(){return h})),e(t.exports,"HandleOwner",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("jK9zx"),l=s("7eJjO"),u=s("jymfC"),c=s("qhgF7"),f=s("iho5X"),p=s("fcwIv"),d=s("1Zzc4"),h=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,[{key:"destroy",value:function(){var e,t;this.destroyed||(null==(e=this._get("handles"))||e.destroy(),null==(t=this._get("updatingHandles"))||t.destroy())}},{key:"handles",get:function(){return this._get("handles")||new(0,c.default)}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new(0,d.WatchUpdatingTracking)}}]),r}(e);return(0,l._)([(0,f.property)({readOnly:!0})],t.prototype,"handles",null),(0,l._)([(0,f.property)({readOnly:!0})],t.prototype,"updatingHandles",null),t=(0,l._)([(0,p.subclass)("esri.core.HandleOwner")],t)},y=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return r}(h(u.default));y=(0,l._)([(0,p.subclass)("esri.core.HandleOwner")],y)})),s.register("qhgF7",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jymfC"),f=s("d2yMj"),p=s("7qybv"),d=s("iho5X"),h=s("fcwIv"),y=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e))._groups=new Map,o.default(n)}return l.default(r,[{key:"destroy",value:function(){this.removeAll()}},{key:"size",get:function(){var e=0;return this._groups.forEach((function(t){e+=t.length})),e}},{key:"add",value:function(e,t){var r=this;if(!this._isHandle(e)&&!Array.isArray(e)&&!f.default.isCollection(e))return this;var n=this._getOrCreateGroup(t);return Array.isArray(e)||f.default.isCollection(e)?e.forEach((function(e){return r._isHandle(e)&&n.push(e)})):n.push(e),this.notifyChange("size"),this}},{key:"forEach",value:function(e,t){if("function"==typeof e)this._groups.forEach((function(t){return t.forEach(e)}));else{var r=this._getGroup(e);r&&t&&r.forEach(t)}}},{key:"has",value:function(e){return this._groups.has(this._ensureGroupKey(e))}},{key:"remove",value:function(e){if(Array.isArray(e)||f.default.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;for(var t=this._getGroup(e),r=0;r<t.length;r++)t[r].remove();return this._deleteGroup(e),this.notifyChange("size"),this}},{key:"removeAll",value:function(){return this._groups.forEach((function(e){for(var t=0;t<e.length;t++)e[t].remove()})),this._groups.clear(),this.notifyChange("size"),this}},{key:"_isHandle",value:function(e){return e&&!!e.remove}},{key:"_getOrCreateGroup",value:function(e){if(this.has(e))return this._getGroup(e);var t=[];return this._groups.set(this._ensureGroupKey(e),t),t}},{key:"_getGroup",value:function(e){return(0,p.assumeNonNull)(this._groups.get(this._ensureGroupKey(e)))}},{key:"_deleteGroup",value:function(e){return this._groups.delete(this._ensureGroupKey(e))}},{key:"_ensureGroupKey",value:function(e){return e||"_default_"}}]),r}(c.default);(0,u._)([(0,d.property)({readOnly:!0})],y.prototype,"size",null);var v=y=(0,u._)([(0,h.subclass)("esri.core.Handles")],y)})),s.register("1Zzc4",(function(t,r){e(t.exports,"WatchUpdatingTracking",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jymfC"),f=s("qhgF7"),p=s("7qybv"),d=s("lKPaD"),h=s("7LFLF"),y=s("iho5X"),v=s("fcwIv"),m=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).updating=!1,e.handleId=0,e.handles=new(0,f.default),e.scheduleHandleId=0,e.pendingPromises=new Set,o.default(e)}return l.default(r,[{key:"destroy",value:function(){this.removeAll(),this.handles.destroy()}},{key:"add",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,r,d.watch)}},{key:"addWhen",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,r,d.when)}},{key:"addOnCollectionChange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.initial,i=void 0!==n&&n,a=this,o=++this.handleId;return this.handles.add([(0,d.on)(e,"after-changes",this._createSyncUpdatingCallback(),d.sync),(0,d.on)(e,"change",t,{onListenerAdd:i?function(e){return t({added:e.toArray(),removed:[]})}:void 0})],o),{remove:function(){return a.handles.remove(o)}}}},{key:"addPromise",value:function(e){var t=this;if((0,p.isNone)(e))return e;var r=++this.handleId;this.handles.add({remove:function(){t.pendingPromises.delete(e)&&(0!==t.pendingPromises.size||t.handles.has(_)||t._set("updating",!1))}},r),this.pendingPromises.add(e),this._set("updating",!0);var n=function(){return t.handles.remove(r)};return e.then(n,n),e}},{key:"removeAll",value:function(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}},{key:"_installWatch",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,i=this,a=++this.handleId;r.sync||this._installSyncUpdatingWatch(e,a);var o=n(e,t,r);return this.handles.add(o,a),{remove:function(){return i.handles.remove(a)}}}},{key:"_installSyncUpdatingWatch",value:function(e,t){var r=this._createSyncUpdatingCallback(),n=(0,d.watch)(e,r,{sync:!0,equals:function(){return!1}});return this.handles.add(n,t),n}},{key:"_createSyncUpdatingCallback",value:function(){var e=this;return function(){var t=e;e.handles.remove(_),++e.scheduleHandleId;var r=e.scheduleHandleId;e._get("updating")||e._set("updating",!0),e.handles.add((0,h.schedule)((function(){r===t.scheduleHandleId&&(t._set("updating",t.pendingPromises.size>0),t.handles.remove(_))})),_)}}}]),r}(c.default);(0,u._)([(0,y.property)({readOnly:!0})],m.prototype,"updating",void 0),m=(0,u._)([(0,v.subclass)("esri.views.support.WatchUpdatingTracking")],m);var g,b,_=-42;(b=g||(g={}))[b.NONE=0]="NONE",b[b.SYNC=1]="SYNC",b[b.INIT=2]="INIT"})),s.register("lKPaD",(function(t,r){e(t.exports,"watch",(function(){return u})),e(t.exports,"when",(function(){return c})),e(t.exports,"on",(function(){return p})),e(t.exports,"whenOnce",(function(){return d})),e(t.exports,"sync",(function(){return m})),e(t.exports,"initial",(function(){return g})),e(t.exports,"syncAndInitial",(function(){return b}));var n=s("cj7C1"),i=s("6ah52"),a=s("7qybv"),o=s("10vEZ"),l=s("8rGKX");s("ijmj7");function u(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f(e,t,r,y)}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f(e,t,r,v)}function f(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,i=null,o=r.once?function(e,r){n(e)&&((0,a.removeMaybe)(i),t(e,r))}:function(e,r){n(e)&&t(e,r)};if(i=(0,l.watchTracked)(e,o,r.sync,r.equals),r.initial){var s=e();o(s,s)}return i}function p(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=null,l=null,c=null;function f(){s&&l&&(l.remove(),null==o.onListenerRemove||o.onListenerRemove(s),s=null,l=null)}function p(e){o.once&&o.once&&(0,a.removeMaybe)(c),r(e)}var d=u(e,(function(e,r){f(),(0,n.isEventTarget)(e)&&(s=e,l=(0,n.on)(e,t,p),null==o.onListenerAdd||o.onListenerAdd(e))}),{sync:o.sync,initial:!0});return c=(0,i.makeHandle)((function(){d.remove(),f()}))}function d(e,t){return h(e,v,t)}function h(e,t,r){if((0,o.isAborted)(r))return Promise.reject((0,o.createAbortError)());var n=e();if(null!=t&&t(n))return Promise.resolve(n);var s=null;function l(){s=(0,a.removeMaybe)(s)}return new Promise((function(n,a){s=(0,i.handlesGroup)([(0,o.onAbort)(r,(function(){l(),a((0,o.createAbortError)())})),f(e,(function(e){l(),n(e)}),{sync:!1,once:!0},null!=t?t:y)])}))}function y(e){return!0}function v(e){return!!e}var m={sync:!0},g={initial:!0},b={sync:!0,initial:!0}})),s.register("flvKv",(function(t,r){e(t.exports,"LayersMixin",(function(){return w})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("Kn7R4"),u=s("bFSSc"),c=s("jK9zx"),f=s("7eJjO"),p=s("d2yMj"),d=s("30Aps"),h=s("jHOLN"),y=s("10vEZ"),v=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var m=s("fcwIv"),g=s("4LDxK");function b(e,t,r){var n,i,a;if(e)for(var o=0,s=e.length;o<s;o++){if((n=e.getItemAt(o))[t]===r)return n;if((a=n)&&"group"===a.type&&(i=b(n.layers,t,r)))return i}}var _=h.default.getLogger("esri.support.LayersMixin"),w=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).layers=new(0,p.default);var c=function(e){e.parent&&"remove"in e.parent&&e.parent.remove(e)},f=function(e){e.parent=l.default(s),s.layerAdded(e),"elevation"!==e.type&&"base-elevation"!==e.type||_.error("Layer 'title:".concat(e.title,", id:").concat(e.id,"' of type '").concat(e.type,"' is not supported as an operational layer and will therefore be ignored."))},d=function(e){e.parent=null,s.layerRemoved(e)};return s.layers.on("before-add",(function(e){return c(e.item)})),s.layers.on("after-add",(function(e){return f(e.item)})),s.layers.on("after-remove",(function(e){return d(e.item)})),u.default(s)}return c.default(r,[{key:"destroy",value:function(){var e=this.layers.removeAll(),t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.layerRemoved(o),o.destroy()}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}this.layers.destroy()}},{key:"layers",set:function(e){this._set("layers",(0,d.referenceSetter)(e,this._get("layers")))}},{key:"add",value:function(e,t){var r=this,n=this.layers;if(t=n.getNextIndex(t),e instanceof g.default){var i=e;i.parent===this?this.reorder(i,t):n.add(i,t)}else(0,y.isPromiseLike)(e)?e.then((function(e){r.destroyed||r.add(e,t)})):_.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}},{key:"addMany",value:function(e,t){var r=this,n=this.layers;t=n.getNextIndex(t),e.slice().forEach((function(e){e.parent!==r?(n.add(e,t),t+=1):r.reorder(e,t)}))}},{key:"findLayerById",value:function(e){return b(this.layers,"id",e)}},{key:"findLayerByUid",value:function(e){return b(this.layers,"uid",e)}},{key:"remove",value:function(e){return this.layers.remove(e)}},{key:"removeMany",value:function(e){return this.layers.removeMany(e)}},{key:"removeAll",value:function(){return this.layers.removeAll()}},{key:"reorder",value:function(e,t){return this.layers.reorder(e,t)}},{key:"layerAdded",value:function(e){}},{key:"layerRemoved",value:function(e){}}]),r}(e);return(0,f._)([(0,v.property)()],t.prototype,"layers",null),t=(0,f._)([(0,m.subclass)("esri.support.LayersMixin")],t)}})),s.register("4LDxK",(function(t,r){e(t.exports,"default",(function(){return O})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("jcnGU"),f=s("2TvXO"),p=s("7eJjO"),d=s("cu9iz");s("2ILM8");var h=s("9pNSx"),y=s("kyj08"),v=s("amfHf"),m=s("52Bzb"),g=s("bQCqB"),b=s("jHOLN"),_=s("10vEZ"),w=s("kYueh"),x=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var S=s("fcwIv"),k=s("gINRd"),T=s("j40xv"),E=0,I=b.default.getLogger("esri.layers.Layer"),C=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(){var e;return o.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).attributionDataUrl=null,e.fullExtent=new(0,k.default)(-180,-90,180,90,T.default.WGS84),e.id=Date.now().toString(16)+"-layer-"+E++,e.legendEnabled=!0,e.listMode="show",e.opacity=1,e.parent=null,e.popupEnabled=!0,e.attributionVisible=!0,e.spatialReference=T.default.WGS84,e.title=null,e.type=null,e.url=null,e.visible=!0,l.default(e)}return u.default(r,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){var r,n;(0,_.isAbortError)(t)||b.default.getLogger(e.declaredClass).error("#load()","Failed to load layer (title: '".concat(null!=(r=e.title)?r:"no title","', id: '").concat(null!=(n=e.id)?n:"no id","')"),{error:t})}))}},{key:"destroy",value:function(){if(this.parent){var e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}},{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){var e=this.url;return e?(0,w.urlToObject)(e):null}},{key:"fetchAttributionData",value:function(){var e=this;return c.default(n(f).mark((function t(){var r;return n(f).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.attributionDataUrl,!e.hasAttributionData||!r){t.next=5;break}return t.next=4,(0,h.default)(r,{query:{f:"json"},responseType:"json"});case 4:return t.abrupt("return",t.sent.data);case 5:throw new(0,y.default)("layer:no-attribution-data","Layer does not have attribution data");case 6:case"end":return t.stop()}}),t)})))()}}],[{key:"fromArcGISServerUrl",value:function(e){return c.default(n(f).mark((function t(){var r,i;return n(f).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="string"==typeof e?{url:e}:e,t.next=3,s("dYFZC");case 3:return i=t.sent,t.prev=4,t.next=7,i.fromUrl(r);case 7:return t.abrupt("return",t.sent);case 10:throw t.prev=10,t.t0=t.catch(4),I.error("#fromArcGISServerUrl({ url: '"+r.url+"'})","Failed to create layer from arcgis server url",t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[4,10]])})))()}},{key:"fromPortalItem",value:function(e){return c.default(n(f).mark((function t(){var r,i,a,o,l;return n(f).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="portalItem"in e?e:{portalItem:e},t.next=3,s("g02t5");case 3:return i=t.sent,t.prev=4,t.next=7,i.fromItem(r);case 7:return t.abrupt("return",t.sent);case 10:throw t.prev=10,t.t0=t.catch(4),a=r&&r.portalItem,o=a&&a.id||"unset",l=a&&a.portal&&a.portal.url||d.default.portalUrl,I.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+l+"', id: '"+o+"')",t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[4,10]])})))()}}]),r}(v.default.EventedMixin((0,m.IdentifiableMixin)(g.default)));(0,p._)([(0,x.property)({type:String})],C.prototype,"attributionDataUrl",void 0),(0,p._)([(0,x.property)({type:k.default})],C.prototype,"fullExtent",void 0),(0,p._)([(0,x.property)({readOnly:!0})],C.prototype,"hasAttributionData",null),(0,p._)([(0,x.property)({type:String,clonable:!1})],C.prototype,"id",void 0),(0,p._)([(0,x.property)({type:Boolean,nonNullable:!0})],C.prototype,"legendEnabled",void 0),(0,p._)([(0,x.property)({type:["show","hide","hide-children"]})],C.prototype,"listMode",void 0),(0,p._)([(0,x.property)({type:Number,range:{min:0,max:1},nonNullable:!0})],C.prototype,"opacity",void 0),(0,p._)([(0,x.property)({clonable:!1})],C.prototype,"parent",void 0),(0,p._)([(0,x.property)({readOnly:!0})],C.prototype,"parsedUrl",null),(0,p._)([(0,x.property)({type:Boolean})],C.prototype,"popupEnabled",void 0),(0,p._)([(0,x.property)({type:Boolean})],C.prototype,"attributionVisible",void 0),(0,p._)([(0,x.property)({type:T.default})],C.prototype,"spatialReference",void 0),(0,p._)([(0,x.property)({type:String})],C.prototype,"title",void 0),(0,p._)([(0,x.property)({type:String,readOnly:!0,json:{read:!1}})],C.prototype,"type",void 0),(0,p._)([(0,x.property)()],C.prototype,"url",void 0),(0,p._)([(0,x.property)({type:Boolean,nonNullable:!0})],C.prototype,"visible",void 0);var O=C=(0,p._)([(0,S.subclass)("esri.layers.Layer")],C)})),s.register("2ILM8",(function(t,r){e(t.exports,"geometryTypes",(function(){return f}));var n=s("iJAIC"),i=s("gINRd"),a=s("Pe3X5"),o=s("eaHvJ"),l=s("d1Fqh"),u=s("fTq43"),c=s("95Tg0");i=s("gINRd"),a=s("Pe3X5"),o=s("eaHvJ"),l=s("d1Fqh"),u=s("fTq43"),c=s("95Tg0"),s("j40xv"),s("7LVgC"),s("79LpT");var f={base:a.default,key:"type",typeMap:{extent:i.default,multipoint:o.default,point:l.default,polyline:c.default,polygon:u.default}};(0,n.ensureOneOfType)(f)})),s.register("eaHvJ",(function(t,r){e(t.exports,"default",(function(){return S})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("bFSSc"),u=s("jK9zx"),c=s("iCnzh"),f=s("7eJjO"),p=s("flPLJ"),d=s("iho5X");s("iJAIC");var h,y=s("fcwIv"),v=s("kced1"),m=s("gINRd"),g=s("Pe3X5"),b=s("d1Fqh"),_=s("9bLPO");function w(e){return function(t,r){return null==t?r:null==r?t:e(t,r)}}var x=h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;return a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).points=[],s.type="multipoint",l.default(s)}return u.default(r,[{key:"normalizeCtorArgs",value:function(e,t){if(!e&&!t)return null;var r,n={};Array.isArray(e)?(n.points=e,n.spatialReference=t):!(r=e)||"esri.geometry.SpatialReference"!==r.declaredClass&&null==r.wkid?(e.points&&(n.points=e.points),e.spatialReference&&(n.spatialReference=e.spatialReference),e.hasZ&&(n.hasZ=e.hasZ),e.hasM&&(n.hasM=e.hasM)):n.spatialReference=e;var i=n.points&&n.points[0];return i&&(void 0===n.hasZ&&void 0===n.hasM?(n.hasZ=i.length>2,n.hasM=!1):void 0===n.hasZ?n.hasZ=i.length>3:void 0===n.hasM&&(n.hasM=i.length>3)),n}},{key:"cache",get:function(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}},{key:"extent",get:function(){var e=this.points;if(!e.length)return null;for(var t,r,n,i,a=new(0,m.default),o=this.hasZ,s=this.hasM,l=o?3:2,u=e[0],f=w(Math.min),p=w(Math.max),d=c.default(u,2),h=d[0],y=d[1],v=c.default(u,2),g=v[0],b=v[1],_=0,x=e.length;_<x;_++){var S=e[_],k=c.default(S,2),T=k[0],E=k[1];if(h=f(h,T),y=f(y,E),g=p(g,T),b=p(b,E),o&&S.length>2){var I=S[2];t=f(t,I),n=p(n,I)}if(s&&S.length>l){var C=S[l];r=f(r,C),i=p(i,C)}}return a.xmin=h,a.ymin=y,a.xmax=g,a.ymax=b,a.spatialReference=this.spatialReference,o?(a.zmin=t,a.zmax=n):(a.zmin=null,a.zmax=null),s?(a.mmin=r,a.mmax=i):(a.mmin=null,a.mmax=null),a}},{key:"writePoints",value:function(e,t){t.points=(0,p.clone)(this.points)}},{key:"addPoint",value:function(e){return(0,_.updateSupportFromPoint)(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}},{key:"clone",value:function(){var e={points:(0,p.clone)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new h(e)}},{key:"getPoint",value:function(e){if(!this._validateInputs(e))return null;var t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference},n=2;return this.hasZ&&(r.z=t[2],n=3),this.hasM&&(r.m=t[n]),new(0,b.default)(r)}},{key:"removePoint",value:function(e){if(!this._validateInputs(e))return null;var t=new(0,b.default)(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}},{key:"setPoint",value:function(e,t){return this._validateInputs(e)?((0,_.updateSupportFromPoint)(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}},{key:"toJSON",value:function(e){return this.write({},e)}},{key:"_validateInputs",value:function(e){return null!=e&&e>=0&&e<this.points.length}}]),r}(g.default);(0,f._)([(0,d.property)({readOnly:!0})],x.prototype,"cache",null),(0,f._)([(0,d.property)()],x.prototype,"extent",null),(0,f._)([(0,d.property)({type:[[Number]],json:{write:{isRequired:!0}}})],x.prototype,"points",void 0),(0,f._)([(0,v.writer)("points")],x.prototype,"writePoints",null),(x=h=(0,f._)([(0,y.subclass)("esri.geometry.Multipoint")],x)).prototype.toJSON.isDefaultToJSON=!0;var S=x})),s.register("9bLPO",(function(t,r){function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.hasM,i=e.hasZ;Array.isArray(t)?4!==t.length||n||i?3===t.length&&r&&!n?(i=!0,n=!1):3===t.length&&n&&i&&(n=!1,i=!1):(n=!0,i=!0):(i=!i&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=n}e(t.exports,"updateSupportFromPoint",(function(){return n}))})),s.register("fTq43",(function(t,r){e(t.exports,"default",(function(){return M})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("bFSSc"),u=s("jK9zx"),c=s("iCnzh"),f=s("7eJjO"),p=s("lNwWH"),d=s("flPLJ"),h=s("7qybv"),y=s("iho5X");s("iJAIC");var v,m=s("fcwIv"),g=s("kced1"),b=s("gINRd"),_=s("Pe3X5"),w=s("d1Fqh"),x=s("j40xv"),S=s("30puZ"),k=s("8Iadx"),T=s("exxMy"),E=s("jxYOa"),I=s("80GBQ"),C=s("eF88h"),O=s("9bLPO");function L(e){return!Array.isArray(e[0])}var A=v=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;return a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).rings=[],s.type="polygon",l.default(s)}return u.default(r,[{key:"normalizeCtorArgs",value:function(e,t){var r,n,i,a=null;return e&&!Array.isArray(e)?(a=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,n=e.hasM):a=e,a=a||[],t=t||x.default.WGS84,a.length&&a[0]&&null!=a[0][0]&&"number"==typeof a[0][0]&&(a=[a]),(i=a[0]&&a[0][0])&&(void 0===r&&void 0===n?(r=i.length>2,n=i.length>3):void 0===r?r=n?i.length>3:i.length>2:void 0===n&&(n=r?i.length>3:i.length>2)),{rings:a,spatialReference:t,hasZ:r,hasM:n}}},{key:"cache",get:function(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}},{key:"centroid",get:function(){var e=(0,S.polygonCentroid)(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;var t=new(0,w.default);return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}},{key:"extent",get:function(){var e=this.spatialReference,t=(0,E.getPolygonExtent)(this);if(!t)return null;var r=new(0,b.default)(t);return r.spatialReference=e,r}},{key:"isSelfIntersecting",get:function(){return(0,I.isSelfIntersecting)(this.rings)}},{key:"writeRings",value:function(e,t){t.rings=(0,d.clone)(this.rings)}},{key:"addRing",value:function(e){if(e){var t=this.rings,r=t.length;if(L(e)){for(var n=[],i=0,a=e.length;i<a;i++)n[i]=e[i].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("rings"),this}}},{key:"clone",value:function(){var e=new v;return e.spatialReference=this.spatialReference,e.rings=(0,d.clone)(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}},{key:"equals",value:function(e){if(this===e)return!0;if((0,h.isNone)(e))return!1;var t=this.spatialReference,r=e.spatialReference;if((0,h.isSome)(t)!==(0,h.isSome)(r))return!1;if((0,h.isSome)(t)&&(0,h.isSome)(r)&&!t.equals(r))return!1;if(this.rings.length!==e.rings.length)return!1;for(var n=function(e,t){var r=c.default(e,4),n=r[0],i=r[1],a=r[2],o=r[3],s=c.default(t,4),l=s[0],u=s[1],f=s[2],p=s[3];return n===l&&i===u&&(null==a&&null==f||a===f)&&(null==o&&null==p||o===p)},i=0;i<this.rings.length;i++){var a=this.rings[i],o=e.rings[i];if(!(0,p.equals)(a,o,n))return!1}return!0}},{key:"contains",value:function(e){if(!e)return!1;var t=(0,C.project)(e,this.spatialReference);return(0,k.polygonContainsPoint)(this,(0,h.isSome)(t)?t:e)}},{key:"isClockwise",value:function(e){var t,r=this;return t=L(e)?e.map((function(e){return r.hasZ?r.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y]})):e,(0,T.isClockwise)(t,this.hasM,this.hasZ)}},{key:"getPoint",value:function(e,t){if(!this._validateInputs(e,t))return null;var r=this.rings[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new(0,w.default)(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new(0,w.default)(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new(0,w.default)(r[0],r[1],r[2],r[3],this.spatialReference):new(0,w.default)(r[0],r[1],this.spatialReference)}},{key:"insertPoint",value:function(e,t,r){return this._validateInputs(e,t,!0)?((0,O.updateSupportFromPoint)(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}},{key:"removePoint",value:function(e,t){if(!this._validateInputs(e,t))return null;var r=new(0,w.default)(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}},{key:"removeRing",value:function(e){if(!this._validateInputs(e,null))return null;var t=this.rings.splice(e,1)[0],r=this.spatialReference,n=t.map((function(e){return new(0,w.default)(e,r)}));return this.notifyChange("rings"),n}},{key:"setPoint",value:function(e,t,r){return this._validateInputs(e,t)?((0,O.updateSupportFromPoint)(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}},{key:"_validateInputs",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||e<0||e>=this.rings.length)return!1;if(null!=t){var n=this.rings[e];if(r&&(t<0||t>n.length))return!1;if(!r&&(t<0||t>=n.length))return!1}return!0}},{key:"toJSON",value:function(e){return this.write({},e)}}],[{key:"fromExtent",value:function(e){var t=e.clone().normalize(),r=e.spatialReference,n=!1,i=!1,a=!0,o=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;c.hasZ&&(n=!0),c.hasM&&(i=!0)}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}var f={rings:t.map((function(e){var t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(n&&e.hasZ)for(var r=e.zmin+.5*(e.zmax-e.zmin),a=0;a<t.length;a++)t[a].push(r);if(i&&e.hasM)for(var o=e.mmin+.5*(e.mmax-e.mmin),s=0;s<t.length;s++)t[s].push(o);return t})),spatialReference:r};return n&&(f.hasZ=!0),i&&(f.hasM=!0),new v(f)}}]),r}(_.default);(0,f._)([(0,y.property)({readOnly:!0})],A.prototype,"cache",null),(0,f._)([(0,y.property)({readOnly:!0})],A.prototype,"centroid",null),(0,f._)([(0,y.property)({readOnly:!0})],A.prototype,"extent",null),(0,f._)([(0,y.property)({readOnly:!0})],A.prototype,"isSelfIntersecting",null),(0,f._)([(0,y.property)({type:[[[Number]]],json:{write:{isRequired:!0}}})],A.prototype,"rings",void 0),(0,f._)([(0,g.writer)("rings")],A.prototype,"writeRings",null),(A=v=(0,f._)([(0,m.subclass)("esri.geometry.Polygon")],A)).prototype.toJSON.isDefaultToJSON=!0;var M=A})),s.register("30puZ",(function(t,r){e(t.exports,"extentCentroid",(function(){return a})),e(t.exports,"polygonCentroid",(function(){return o})),s("8TSCy");var n=s("iCnzh"),i=s("exxMy");function a(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function o(e){return e?function(e,t){if(!e||!e.length)return null;for(var r=[],n=[],a=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0],o=0,s=e.length;o<s;o++){var u=l(e[o],t,a);u&&n.push(u)}if(n.sort((function(e,r){var n=e[2]-r[2];return 0===n&&t&&(n=e[4]-r[4]),n})),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<a[0]||r[0]>a[1]||r[1]<a[2]||r[1]>a[3]||t&&(r[2]<a[4]||r[2]>a[5]))&&(r.length=0)),!r.length){var c=e[0]&&e[0].length?function(e,t){for(var r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0],a=0,o=0,s=0,l=0,u=0,c=e.length;u<c-1;u++){var f=e[u],p=e[u+1];if(f&&p){r[0]=f[0],r[1]=f[1],n[0]=p[0],n[1]=p[1],t&&f.length>2&&p.length>2&&(r[2]=f[2],n[2]=p[2]);var d=(0,i.getLength)(r,n);if(d){a+=d;var h=(0,i.getMidpoint)(f,p);o+=d*h[0],s+=d*h[1],t&&h.length>2&&(l+=d*h[2])}}}return a>0?t?[o/a,s/a,l/a]:[o/a,s/a]:e.length?e[0]:null}(e[0],t):null;if(!c)return null;r[0]=c[0],r[1]=c[1],t&&c.length>2&&(r[2]=c[2])}return r}(e.rings,e.hasZ):null}function l(e,t,r){for(var i=0,a=0,o=0,s=0,l=0,u=e.length?e[0][0]:0,c=e.length?e[0][1]:0,f=e.length&&t?e[0][2]:0,p=0;p<e.length;p++){var d=e[p],h=e[(p+1)%e.length],y=n.default(d,3),v=y[0],m=y[1],g=y[2],b=v-u,_=m-c,w=t?g-f:void 0,x=n.default(h,3),S=x[0],k=x[1],T=x[2],E=S-u,I=k-c,C=t?T-f:void 0,O=b*I-E*_;if(s+=O,i+=(b+E)*O,a+=(_+I)*O,t&&d.length>2&&h.length>2){var L=b*C-E*w;o+=(w+C)*L,l+=L}v<r[0]&&(r[0]=v),v>r[1]&&(r[1]=v),m<r[2]&&(r[2]=m),m>r[3]&&(r[3]=m),t&&(g<r[4]&&(r[4]=g),g>r[5]&&(r[5]=g))}if(s>0&&(s*=-1),l>0&&(l*=-1),!s)return null;l*=.5;var A=[i/(6*(s*=.5))+u,a/(6*s)+c,s];return t&&(r[4]===r[5]||0===l?(A[3]=(r[4]+r[5])/2,A[4]=0):(A[3]=o/(6*l)+f,A[4]=l)),A}})),s.register("exxMy",(function(t,r){e(t.exports,"getLength",(function(){return i})),e(t.exports,"projectPointOnLine",(function(){return o})),e(t.exports,"getMidpoint",(function(){return l})),e(t.exports,"isClockwise",(function(){return u})),e(t.exports,"closeRingsAndFixWinding",(function(){return c})),s("8TSCy");var n=s("iCnzh");s("eY5Yp");function i(e,t){var r=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){var i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}return Math.sqrt(r*r+n*n)}function a(e,t,r){var n=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[n,i,e[2]+r*(t[2]-e[2])]:[n,i]}function o(e,t,r,i){var a=n.default(t,2),o=a[0],s=a[1],l=n.default(r[i],2),u=l[0],c=l[1],f=n.default(r[i+1],2),p=f[0]-u,d=f[1]-c,h=p*p+d*d,y=(o-u)*p+(s-c)*d,v=Math.min(1,Math.max(0,y/h));return e[0]=u+p*v,e[1]=c+d*v,e}function l(e,t){return a(e,t,.5)}function u(e,t,r){for(var n=e.length,i=0,a=0,o=0,s=0;s<n;s++){var l=e[s],u=e[(s+1)%n],c=2;i+=l[0]*u[1]-u[0]*l[1],l.length>2&&u.length>2&&r&&(a+=l[0]*u[2]-u[0]*l[2],c=3),l.length>c&&u.length>c&&t&&(o+=l[0]*u[c]-u[0]*l[c])}return i<=0&&a<=0&&o<=0}function c(e){if("rings"in e){var t=!0,r=!1,n=void 0;try{for(var i,a=e.rings[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;o.length<3||o[0][0]===o[o.length-1][0]&&o[0][1]===o[o.length-1][1]||o.push([o[0][0],o[0][1]])}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}if(e.rings.length>0&&!u(e.rings[0],e.hasM,e.hasZ))for(var s=0;s<e.rings.length;++s)e.rings[s]=e.rings[s].reverse()}}})),s.register("jxYOa",(function(t,r){e(t.exports,"getGeometryExtent",(function(){return f})),e(t.exports,"getPolygonExtent",(function(){return p})),e(t.exports,"getPolylineExtent",(function(){return d}));var n=s("5Hy9K");var i=[];function a(e,t,r,n){return{xmin:e,ymin:t,xmax:r,ymax:n}}function o(e,t,r,n,i,a){return{xmin:e,ymin:t,zmin:r,xmax:n,ymax:i,zmax:a}}function l(e,t,r,n,i,a){return{xmin:e,ymin:t,mmin:r,xmax:n,ymax:i,mmax:a}}function u(e,t,r,n,i,a,o,s){return{xmin:e,ymin:t,zmin:r,mmin:n,xmax:i,ymax:a,zmax:o,mmax:s}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t?r?u(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):o(e[0],e[1],e[2],e[3],e[4],e[5]):r?l(e[0],e[1],e[2],e[3],e[4],e[5]):a(e[0],e[1],e[2],e[3])}function f(e){return e?void 0!==(w=e).xmin&&void 0!==w.ymin&&void 0!==w.xmax&&void 0!==w.ymax?e:void 0!==(_=e).x&&void 0!==_.y?(y=(h=e).x,v=h.y,m=h.z,g=h.m,b=null!=g,null!=m?b?u(y,v,m,g,y,v,m,g):o(y,v,m,y,v,m):b?l(y,v,g,y,v,g):a(y,v,y,v)):void 0!==e.rings?p(e):void 0!==e.paths?d(e):void 0!==e.points?(r=(t=e).hasZ,s=t.hasM,f=t.points,c((0,n.getPointsBounds)(i,f,r,s),r,s)):null:null;var t,r,s,f,h,y,v,m,g,b,_,w}function p(e){var t=e.hasZ,r=e.hasM,a=e.rings,o=(0,n.getRingsOrPathsBounds)(i,a,t,r);return o?c(o,t,r):null}function d(e){var t=e.hasZ,r=e.hasM,a=e.paths,o=(0,n.getRingsOrPathsBounds)(i,a,t,r);return o?c(o,t,r):null}})),s.register("5Hy9K",(function(t,r){e(t.exports,"getBoundsXY",(function(){return d})),e(t.exports,"getRingsOrPathsBounds",(function(){return y})),e(t.exports,"getPointsBounds",(function(){return m})),e(t.exports,"getBoundsXYZ",(function(){return h})),s("8TSCy");var n=s("iCnzh");function i(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function a(e){return void 0!==e.points}function o(e){return void 0!==e.x&&void 0!==e.y}function l(e){return void 0!==e.paths}function u(e){return void 0!==e.rings}function c(e){return function(t,r){return null==t?r:null==r?t:e(t,r)}}var f=c(Math.min),p=c(Math.max);function d(e,t){return l(t)?y(e,t.paths,!1,!1):u(t)?y(e,t.rings,!1,!1):a(t)?m(e,t.points,!1,!1,!1,!1):i(t)?v(e,t):(o(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function h(e,t){return l(t)?y(e,t.paths,!0,!1):u(t)?y(e,t.rings,!0,!1):a(t)?m(e,t.points,!0,!1,!0,!1):i(t)?v(e,t,!0,!1,!0,!1):(o(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function y(e,t,r,i){var a=r?3:2;if(!t.length||!t[0].length)return null;for(var o,s,l,u,c=n.default(t[0][0],2),d=c[0],h=c[1],y=n.default(t[0][0],2),v=y[0],m=y[1],g=0;g<t.length;g++)for(var b=t[g],_=0;_<b.length;_++){var w=b[_],x=n.default(w,2),S=x[0],k=x[1];if(d=f(d,S),h=f(h,k),v=p(v,S),m=p(m,k),r&&w.length>2){var T=w[2];o=f(o,T),s=p(s,T)}if(i&&w.length>a){var E=w[a];l=f(o,E),u=p(s,E)}}return r?i?(e[0]=d,e[1]=h,e[2]=o,e[3]=l,e[4]=v,e[5]=m,e[6]=s,e[7]=u,e.length=8,e):(e[0]=d,e[1]=h,e[2]=o,e[3]=v,e[4]=m,e[5]=s,e.length=6,e):i?(e[0]=d,e[1]=h,e[2]=l,e[3]=v,e[4]=m,e[5]=u,e.length=6,e):(e[0]=d,e[1]=h,e[2]=v,e[3]=m,e.length=4,e)}function v(e,t,r,n,i,a){var o=t.xmin,s=t.xmax,l=t.ymin,u=t.ymax,c=t.zmin,f=t.zmax,p=t.mmin,d=t.mmax;return i?(c=c||0,f=f||0,a?(p=p||0,d=d||0,e[0]=o,e[1]=l,e[2]=c,e[3]=p,e[4]=s,e[5]=u,e[6]=f,e[7]=d,e):(e[0]=o,e[1]=l,e[2]=c,e[3]=s,e[4]=u,e[5]=f,e)):a?(p=p||0,d=d||0,e[0]=o,e[1]=l,e[2]=p,e[3]=s,e[4]=u,e[5]=d,e):(e[0]=o,e[1]=l,e[2]=s,e[3]=u,e)}function m(e,t,r,i,a,o){var s=r?3:2,l=i&&o,u=r&&a;if(!t.length||!t[0].length)return null;for(var c,d,h,y,v=n.default(t[0],2),m=v[0],g=v[1],b=n.default(t[0],2),_=b[0],w=b[1],x=0;x<t.length;x++){var S=t[x],k=n.default(S,2),T=k[0],E=k[1];if(m=f(m,T),g=f(g,E),_=p(_,T),w=p(w,E),u&&S.length>2){var I=S[2];c=f(c,I),d=p(d,I)}if(l&&S.length>s){var C=S[s];h=f(c,C),y=p(d,C)}}return a?(c=c||0,d=d||0,o?(h=h||0,y=y||0,e[0]=m,e[1]=g,e[2]=c,e[3]=h,e[4]=_,e[5]=w,e[6]=d,e[7]=y,e):(e[0]=m,e[1]=g,e[2]=c,e[3]=_,e[4]=w,e[5]=d,e)):o?(h=h||0,y=y||0,e[0]=m,e[1]=g,e[2]=h,e[3]=_,e[4]=w,e[5]=y,e):(e[0]=m,e[1]=g,e[2]=_,e[3]=w,e)}})),s.register("95Tg0",(function(t,r){e(t.exports,"default",(function(){return S})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("bFSSc"),u=s("jK9zx"),c=s("7eJjO"),f=s("flPLJ"),p=s("iho5X");s("iJAIC");var d,h=s("fcwIv"),y=s("kced1"),v=s("gINRd"),m=s("Pe3X5"),g=s("d1Fqh"),b=s("j40xv"),_=s("jxYOa"),w=s("9bLPO");var x=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;return a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).paths=[],s.type="polyline",l.default(s)}return u.default(r,[{key:"normalizeCtorArgs",value:function(e,t){var r,n,i,a=null;return e&&!Array.isArray(e)?(a=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,n=e.hasM):a=e,a=a||[],t=t||b.default.WGS84,a.length&&a[0]&&null!=a[0][0]&&"number"==typeof a[0][0]&&(a=[a]),(i=a[0]&&a[0][0])&&(void 0===r&&void 0===n?(r=i.length>2,n=!1):void 0===r?r=!n&&i.length>3:void 0===n&&(n=!r&&i.length>3)),{paths:a,spatialReference:t,hasZ:r,hasM:n}}},{key:"cache",get:function(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}},{key:"extent",get:function(){var e=this.spatialReference,t=(0,_.getPolylineExtent)(this);if(!t)return null;var r=new(0,v.default)(t);return r.spatialReference=e,r}},{key:"writePaths",value:function(e,t){t.paths=(0,f.clone)(this.paths)}},{key:"addPath",value:function(e){if(e){var t,r=this.paths,n=r.length;if(t=e,Array.isArray(t[0]))r[n]=e.concat();else{for(var i=[],a=0,o=e.length;a<o;a++)i[a]=e[a].toArray();r[n]=i}return this.notifyChange("paths"),this}}},{key:"clone",value:function(){var e=new d;return e.spatialReference=this.spatialReference,e.paths=(0,f.clone)(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}},{key:"getPoint",value:function(e,t){if(!this._validateInputs(e,t))return null;var r=this.paths[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new(0,g.default)(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new(0,g.default)(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new(0,g.default)(r[0],r[1],r[2],r[3],this.spatialReference):new(0,g.default)(r[0],r[1],this.spatialReference)}},{key:"insertPoint",value:function(e,t,r){return this._validateInputs(e,t,!0)?((0,w.updateSupportFromPoint)(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}},{key:"removePath",value:function(e){if(!this._validateInputs(e,null))return null;var t=this.paths.splice(e,1)[0],r=this.spatialReference,n=t.map((function(e){return new(0,g.default)(e,r)}));return this.notifyChange("paths"),n}},{key:"removePoint",value:function(e,t){if(!this._validateInputs(e,t))return null;var r=new(0,g.default)(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}},{key:"setPoint",value:function(e,t,r){return this._validateInputs(e,t)?((0,w.updateSupportFromPoint)(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}},{key:"_validateInputs",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||e<0||e>=this.paths.length)return!1;if(null!=t){var n=this.paths[e];if(r&&(t<0||t>n.length))return!1;if(!r&&(t<0||t>=n.length))return!1}return!0}},{key:"toJSON",value:function(e){return this.write({},e)}}]),r}(m.default);(0,c._)([(0,p.property)({readOnly:!0})],x.prototype,"cache",null),(0,c._)([(0,p.property)({readOnly:!0})],x.prototype,"extent",null),(0,c._)([(0,p.property)({type:[[[Number]]],json:{write:{isRequired:!0}}})],x.prototype,"paths",void 0),(0,c._)([(0,y.writer)("paths")],x.prototype,"writePaths",null),(x=d=(0,c._)([(0,h.subclass)("esri.geometry.Polyline")],x)).prototype.toJSON.isDefaultToJSON=!0;var S=x})),s.register("7LVgC",(function(t,r){e(t.exports,"isFeatureGeometryType",(function(){return i})),e(t.exports,"featureGeometryTypeKebabDictionary",(function(){return a})),e(t.exports,"typeKebabDictionary",(function(){return o}));var n=s("79ASa");function i(e){return"point"===e||"multipoint"===e||"polyline"===e||"polygon"===e}var a=(0,n.strict)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),o=(0,n.strict)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})})),s.register("79LpT",(function(t,r){e(t.exports,"fromJSON",(function(){return v})),e(t.exports,"isExtent",(function(){return f})),e(t.exports,"isMultipoint",(function(){return p})),e(t.exports,"isPoint",(function(){return d})),e(t.exports,"isPolyline",(function(){return h})),e(t.exports,"isPolygon",(function(){return y})),e(t.exports,"getJsonType",(function(){return m})),e(t.exports,"getGeometryType",(function(){return b}));var n=s("7qybv"),i=s("gINRd"),a=s("Pe3X5"),o=s("eaHvJ"),l=s("d1Fqh"),u=s("fTq43"),c=s("95Tg0");function f(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function p(e){return void 0!==e.points}function d(e){return void 0!==e.x&&void 0!==e.y}function h(e){return void 0!==e.paths}function y(e){return void 0!==e.rings}function v(e){return(0,n.isNone)(e)?null:e instanceof a.default?e:d(e)?l.default.fromJSON(e):h(e)?c.default.fromJSON(e):y(e)?u.default.fromJSON(e):p(e)?o.default.fromJSON(e):f(e)?i.default.fromJSON(e):null}function m(e){return e?d(e)?"esriGeometryPoint":h(e)?"esriGeometryPolyline":y(e)?"esriGeometryPolygon":f(e)?"esriGeometryEnvelope":p(e)?"esriGeometryMultipoint":null:null}var g={esriGeometryPoint:l.default,esriGeometryPolyline:c.default,esriGeometryPolygon:u.default,esriGeometryEnvelope:i.default,esriGeometryMultipoint:o.default};function b(e){return e&&g[e]||null}})),s.register("52Bzb",(function(t,r){e(t.exports,"IdentifiableMixin",(function(){return d})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("Kn7R4"),u=s("bFSSc"),c=s("7eJjO"),f=s("fcwIv"),p=0,d=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;return a.default(this,r),s=t.call.apply(t,[this].concat(o.default(n))),Object.defineProperty(l.default(s),"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+p++}),u.default(s)}return r}(e);return t=(0,c._)([(0,f.subclass)("esri.core.Identifiable")],t)},h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return r}(d((function e(){"use strict";a.default(this,e)})));h=(0,c._)([(0,f.subclass)("esri.core.Identifiable")],h)})),s.register("dYFZC",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ihA8s")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("kcJXD"))]).then((function(){return s("1VmFB")}))})),s.register("g02t5",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ihA8s")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("lwXPz"))]).then((function(){return s("fzgSl")}))})),s.register("4oitb",(function(t,r){e(t.exports,"TablesMixin",(function(){return _})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("Kn7R4"),u=s("bFSSc"),c=s("jK9zx"),f=s("7eJjO"),p=s("d2yMj"),d=s("30Aps"),h=s("jHOLN"),y=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var v=s("fcwIv"),m="esri.support.TablesMixin",g=h.default.getLogger(m);function b(e,t,r){if(e)for(var n=0,i=e.length;n<i;n++){var a=e.getItemAt(n);if(a[t]===r)return a;if((s=a)&&"group"===s.type){var o=b(a.tables,t,r);if(o)return o}}var s}var _=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;return a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).tables=new(0,p.default),s.tables.on("after-add",(function(e){var t=e.item;t.parent&&t.parent!==l.default(s)&&"tables"in t.parent&&t.parent.tables.remove(t),t.parent=l.default(s),"feature"!==t.type&&g.error("Layer 'title:".concat(t.title,", id:").concat(t.id,"' of type '").concat(t.type,"' is not supported as a table and will therefore be ignored."))})),s.tables.on("after-remove",(function(e){e.item.parent=null})),u.default(s)}return c.default(r,[{key:"destroy",value:function(){var e=this.tables.removeAll(),t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.destroy()}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}this.tables.destroy()}},{key:"tables",set:function(e){this._set("tables",(0,d.referenceSetter)(e,this._get("tables")))}},{key:"findTableById",value:function(e){return b(this.tables,"id",e)}},{key:"findTableByUid",value:function(e){return b(this.tables,"uid",e)}}]),r}(e);return(0,f._)([(0,y.property)()],t.prototype,"tables",null),t=(0,f._)([(0,v.subclass)(m)],t)}})),s.register("bsvXr",(function(t,r){e(t.exports,"default",(function(){return E})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("Kn7R4"),u=s("bFSSc"),c=s("jK9zx"),f=s("aNiFM"),p=s("ifq4M"),d=s("7eJjO"),h=s("2ILM8"),y=s("3MVX3"),v=s("cM5QQ"),m=s("3SeOo"),g=s("1XAcN"),b=s("7qybv"),_=s("cQNwR"),w=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var x=s("fcwIv"),S=s("79LpT");function k(e){if(!(0,b.isSome)(e))return null;var t={};for(var r in e){var n=e[r];n&&(t[r]=n.toJSON())}return 0!==Object.keys(t).length?t:null}var T=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;return a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).isAggregate=!1,s.layer=null,s.popupTemplate=null,s.sourceLayer=null,Object.defineProperty(l.default(s),"uid",{value:(0,_.generateUID)(),configurable:!0}),u.default(s)}return c.default(r,[{key:"normalizeCtorArgs",value:function(e,t,r,n){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:n}}},{key:"aggregateGeometries",set:function(e){var t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}},{key:"attributes",set:function(e){var t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}},{key:"geometry",set:function(e){var t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}},{key:"symbol",set:function(e){var t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}},{key:"visible",set:function(e){var t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}},{key:"getEffectivePopupTemplate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.popupTemplate)return this.popupTemplate;var t=!0,r=!1,n=void 0;try{for(var i,a=[this.sourceLayer,this.layer][Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(o){if("popupTemplate"in o&&o.popupTemplate)return o.popupTemplate;if(e&&"defaultPopupTemplate"in o&&(0,b.isSome)(o.defaultPopupTemplate))return o.defaultPopupTemplate}}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return null}},{key:"getAttribute",value:function(e){return this.attributes&&this.attributes[e]}},{key:"setAttribute",value:function(e,t){if(this.attributes){var r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes=f.default({},e,t),this._notifyLayer("attributes",void 0,t,e)}},{key:"getObjectId",value:function(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}},{key:"toJSON",value:function(){return{aggregateGeometries:k(this.aggregateGeometries),geometry:(0,b.isSome)(this.geometry)?this.geometry.toJSON():null,symbol:(0,b.isSome)(this.symbol)?this.symbol.toJSON():null,attributes:p.default({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}},{key:"notifyGeometryChanged",value:function(){this._notifyLayer("geometry",this.geometry,this.geometry)}},{key:"notifyMeshTransformChanged",value:function(){(0,b.isSome)(this.geometry)&&"mesh"===this.geometry.type&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}},{key:"_notifyLayer",value:function(e,t,r,n){if(this.layer&&"graphicChanged"in this.layer){var i={graphic:this,property:e,oldValue:t,newValue:r};"attributes"===e&&(i.attributeName=n),this.layer.graphicChanged(i)}}}]),r}((0,m.ClonableMixin)(g.JSONSupport));(0,d._)([(0,w.property)({value:null,json:{read:function(e){if(!e)return null;var t={};for(var r in e){var n=(0,S.fromJSON)(e[r]);n&&(t[r]=n)}return 0!==Object.keys(t).length?t:null}}})],T.prototype,"aggregateGeometries",null),(0,d._)([(0,w.property)({value:null})],T.prototype,"attributes",null),(0,d._)([(0,w.property)({value:null,types:h.geometryTypes,json:{read:S.fromJSON}})],T.prototype,"geometry",null),(0,d._)([(0,w.property)({type:Boolean})],T.prototype,"isAggregate",void 0),(0,d._)([(0,w.property)({clonable:"reference"})],T.prototype,"layer",void 0),(0,d._)([(0,w.property)({type:y.default})],T.prototype,"popupTemplate",void 0),(0,d._)([(0,w.property)({clonable:"reference"})],T.prototype,"sourceLayer",void 0),(0,d._)([(0,w.property)({value:null,types:v.symbolTypes})],T.prototype,"symbol",null),(0,d._)([(0,w.property)({type:Boolean,value:!0})],T.prototype,"visible",null),T=(0,d._)([(0,x.subclass)("esri.Graphic")],T),(T||(T={})).generateUID=_.generateUID;var E=T})),s.register("3MVX3",(function(t,r){e(t.exports,"default",(function(){return K})),s("8TSCy");var i,a=s("g9uIT"),o=s("dap1g"),l=s("f9pi5"),u=s("bFSSc"),c=s("jK9zx"),f=s("jcnGU"),p=s("5Vgx8"),d=s("2TvXO"),h=s("7eJjO"),y=s("d2yMj"),v=s("1XAcN"),m=s("flPLJ"),g=s("jHOLN"),b=s("10vEZ"),_=s("iho5X"),w=s("ba18L"),x=s("eB8sj"),S=s("fcwIv"),k=s("kced1"),T=s("iJAIC"),E=s("7vTUY"),I=s("7BJ9K"),C=s("l1hgk"),O=s("0kIkz"),L=s("dpZaE"),A=s("359Dn"),M=s("ktVSK"),N=s("42uvh"),R=s("102u7"),P=s("hFzu1"),F=s("26JOX"),j=s("2l7B9"),D=s("9Hey9"),U=s("1HxLt"),V=s("hviGF"),B=s("5j1Qi"),H=s("4NqMe"),z=y.default.ofType({key:"type",defaultKeyValue:"button",base:N.default,typeMap:{button:R.default,toggle:P.default}}),W={base:B.default,key:"type",typeMap:{media:F.default,custom:H.default,text:j.default,attachments:D.default,fields:U.default,expression:V.default}},G="esri.PopupTemplate",J=g.default.getLogger(G),q=["attachments","fields","media","text","expression"],X=i=function(e){"use strict";a.default(r,e);var t=o.default(r);function r(){var e;return l.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).actions=null,e.content="",e.expressionInfos=null,e.fieldInfos=null,e.layerOptions=null,e.lastEditInfoEnabled=!0,e.outFields=null,e.overwriteActions=!1,e.returnGeometry=!1,e.title="",e.relatedRecordsInfo=null,u.default(e)}return c.default(r,[{key:"castContent",value:function(e){return Array.isArray(e)?e.map((function(e){return(0,T.ensureOneOfType)(W,e)})):"string"==typeof e||"function"==typeof e||e instanceof HTMLElement||(0,b.isPromiseLike)(e)?e:(J.error("content error","unsupported content value",{value:e}),null)}},{key:"readContent",value:function(e,t){var r=t.popupElements;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(t):this._readPopupInfo(t)}},{key:"writeContent",value:function(e,t,r,n){var i=this;"string"!=typeof e?Array.isArray(e)&&(t.popupElements=e.filter((function(e){return-1!==q.indexOf(e.type)})).map((function(e){return e&&e.toJSON(n)})),t.popupElements.forEach((function(e){"attachments"===e.type?i._writeAttachmentContent(t):"media"===e.type?i._writeMediaContent(e,t):"text"===e.type&&i._writeTextContent(e,t)}))):t.description=e}},{key:"writeFieldInfos",value:function(e,t,r,n){var i=this.content,a=Array.isArray(i)?i:null;if(e){var o=a?a.filter((function(e){return"fields"===e.type})):[],s=o.length&&o.every((function(e){var t;return null==(t=e.fieldInfos)?void 0:t.length}));t.fieldInfos=e.filter(Boolean).map((function(e){var t=e.toJSON(n);return s&&(t.visible=!1),t}))}var l=!0,u=!1,c=void 0;if(a)try{for(var f,p=a[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var d=f.value;"fields"===d.type&&this._writeFieldsContent(d,t)}}catch(e){u=!0,c=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}}},{key:"writeLayerOptions",value:function(e,t,r,n){t[r]=!e||null===e.showNoDataRecords&&null===e.returnTopmostRaster?null:e.toJSON(n)}},{key:"writeTitle",value:function(e,t){t.title=e||""}},{key:"clone",value:function(){var e=this.actions,t=e?(0,m.clone)(e.toArray()):[];return new i({actions:t,content:Array.isArray(this.content)?(0,m.clone)(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?(0,m.clone)(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?(0,m.clone)(this.fieldInfos):null,layerOptions:this.layerOptions?(0,m.clone)(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?(0,m.clone)(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?(0,m.clone)(this.relatedRecordsInfo):null})}},{key:"collectRequiredFields",value:function(e,t){var r=this;return f.default(n(d).mark((function i(){var a;return n(d).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.expressionInfos||[],n.next=3,r._collectExpressionInfoFields(e,t,p.default(a).concat(p.default(r._getContentExpressionInfos(r.content,a))));case 3:(0,E.collectFields)(e,t,p.default(r.outFields||[]).concat(p.default(r._getActionsFields(r.actions)),p.default(r._getTitleFields(r.title)),p.default(r._getContentFields(r.content))));case 4:case"end":return n.stop()}}),i)})))()}},{key:"getRequiredFields",value:function(e){var t=this;return f.default(n(d).mark((function r(){var i;return n(d).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=new Set,r.next=3,t.collectRequiredFields(i,e);case 3:return r.abrupt("return",(r.sent,p.default(i).sort()));case 4:case"end":return r.stop()}}),r)})))()}},{key:"_writeFieldsContent",value:function(e,t){if(Array.isArray(e.fieldInfos)&&e.fieldInfos.length){var r=(0,m.clone)(e.fieldInfos);Array.isArray(t.fieldInfos)?r.forEach((function(e){var r=t.fieldInfos.find((function(t){return t.fieldName.toLowerCase()===e.fieldName.toLowerCase()}));r?r.visible=!0:t.fieldInfos.push(e)})):t.fieldInfos=r}}},{key:"_writeAttachmentContent",value:function(e){e.showAttachments||(e.showAttachments=!0)}},{key:"_writeTextContent",value:function(e,t){!t.description&&e.text&&(t.description=e.text)}},{key:"_writeMediaContent",value:function(e,t){if(Array.isArray(e.mediaInfos)&&e.mediaInfos.length){var r=(0,m.clone)(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=p.default(t.mediaInfos).concat(p.default(r)):t.mediaInfos=r}}},{key:"_readPopupInfoElements",value:function(e){var t=e.description,r=e.mediaInfos,n=e.popupElements,i={description:!1,mediaInfos:!1};return n.map((function(e){return"media"===e.type?(e.mediaInfos||!r||i.mediaInfos||(e.mediaInfos=r,i.mediaInfos=!0),F.default.fromJSON(e)):"text"===e.type?(e.text||!t||i.description||(e.text=t,i.description=!0),j.default.fromJSON(e)):"attachments"===e.type?D.default.fromJSON(e):"fields"===e.type?U.default.fromJSON(e):"expression"===e.type?V.default.fromJSON(e):void 0})).filter(Boolean)}},{key:"_readPopupInfo",value:function(e){var t=e.description,r=e.mediaInfos,n=e.showAttachments,i=[];return t?i.push(new(0,j.default)({text:t})):i.push(new(0,U.default)),Array.isArray(r)&&r.length&&i.push(F.default.fromJSON({mediaInfos:r})),n&&i.push(D.default.fromJSON({displayType:"auto"})),i.length?i:t}},{key:"_getContentElementFields",value:function(e){var t=null==e?void 0:e.type;if("attachments"===t)return p.default(this._extractFieldNames(e.title)).concat(p.default(this._extractFieldNames(e.description)));if("custom"===t)return e.outFields||[];if("fields"===t)return p.default(this._extractFieldNames(e.title)).concat(p.default(this._extractFieldNames(e.description)),p.default(this._getFieldInfoFields(e.fieldInfos||this.fieldInfos)));if("media"===t){var r=this,n=e.mediaInfos||[];return p.default(this._extractFieldNames(e.title)).concat(p.default(this._extractFieldNames(e.description)),p.default(n.reduce((function(e,t){return p.default(e).concat(p.default(r._getMediaInfoFields(t)))}),[])))}return"text"===t?this._extractFieldNames(e.text):[]}},{key:"_getMediaInfoFields",value:function(e){var t=e.caption,r=e.title,n=e.value||{},i=n.fields,a=void 0===i?[]:i,o=n.normalizeField,s=n.tooltipField,l=n.sourceURL,u=n.linkURL,c=p.default(this._extractFieldNames(r)).concat(p.default(this._extractFieldNames(t)),p.default(this._extractFieldNames(l)),p.default(this._extractFieldNames(u)),p.default(a));return o&&c.push(o),s&&c.push(s),c}},{key:"_getContentExpressionInfos",value:function(e,t){return Array.isArray(e)?e.reduce((function(e,t){return p.default(e).concat(p.default("expression"===t.type&&t.expressionInfo?[t.expressionInfo]:[]))}),t):[]}},{key:"_getContentFields",value:function(e){var t=this;return"string"==typeof e?this._extractFieldNames(e):Array.isArray(e)?e.reduce((function(e,r){return p.default(e).concat(p.default(t._getContentElementFields(r)))}),[]):[]}},{key:"_collectExpressionInfoFields",value:function(e,t,r){return f.default(n(d).mark((function i(){return n(d).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=r,!n.t0){n.next=4;break}return n.next=4,Promise.all(r.map((function(r){return(0,E.collectArcadeFieldNames)(e,t,r.expression)})));case 4:case"end":return n.stop()}}),i)})))()}},{key:"_getFieldInfoFields",value:function(e){return e?e.filter((function(e){return void 0===e.visible||!!e.visible})).map((function(e){return e.fieldName})).filter((function(e){return-1===e.indexOf("relationships/")&&-1===e.indexOf("expression/")})):[]}},{key:"_getActionsFields",value:function(e){var t=this;return e?e.toArray().reduce((function(e,r){return p.default(e).concat(p.default(t._getActionFields(r)))}),[]):[]}},{key:"_getActionFields",value:function(e){var t=e.className,r=e.title,n=e.type,i="button"===n||"toggle"===n?e.image:"";return p.default(this._extractFieldNames(r)).concat(p.default(this._extractFieldNames(t)),p.default(this._extractFieldNames(i)))}},{key:"_getTitleFields",value:function(e){return"string"==typeof e?this._extractFieldNames(e):[]}},{key:"_extractFieldNames",value:function(e){if(!e||"string"!=typeof e)return[];var t=e.match(/{[^}]*}/g);if(!t)return[];var r=/\{(\w+):.+\}/,n=t.filter((function(e){return!(0===e.indexOf("{relationships/")||0===e.indexOf("{expression/"))})).map((function(e){return e.replace(r,"{$1}")}));return n?n.map((function(e){return e.slice(1,-1)})):[]}}]),r}(v.JSONSupport);(0,h._)([(0,_.property)({type:z})],X.prototype,"actions",void 0),(0,h._)([(0,_.property)()],X.prototype,"content",void 0),(0,h._)([(0,w.cast)("content")],X.prototype,"castContent",null),(0,h._)([(0,x.reader)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],X.prototype,"readContent",null),(0,h._)([(0,k.writer)("content",{popupElements:{type:y.default.ofType(I.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:y.default.ofType(M.types)},description:{type:String}})],X.prototype,"writeContent",null),(0,h._)([(0,_.property)({type:[C.default],json:{write:!0}})],X.prototype,"expressionInfos",void 0),(0,h._)([(0,_.property)({type:[O.default]})],X.prototype,"fieldInfos",void 0),(0,h._)([(0,k.writer)("fieldInfos")],X.prototype,"writeFieldInfos",null),(0,h._)([(0,_.property)({type:L.default})],X.prototype,"layerOptions",void 0),(0,h._)([(0,k.writer)("layerOptions")],X.prototype,"writeLayerOptions",null),(0,h._)([(0,_.property)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],X.prototype,"lastEditInfoEnabled",void 0),(0,h._)([(0,_.property)()],X.prototype,"outFields",void 0),(0,h._)([(0,_.property)()],X.prototype,"overwriteActions",void 0),(0,h._)([(0,_.property)()],X.prototype,"returnGeometry",void 0),(0,h._)([(0,_.property)({json:{type:String}})],X.prototype,"title",void 0),(0,h._)([(0,k.writer)("title")],X.prototype,"writeTitle",null),(0,h._)([(0,_.property)({type:A.default,json:{write:!0}})],X.prototype,"relatedRecordsInfo",void 0);var K=X=i=(0,h._)([(0,S.subclass)(G)],X)})),s.register("7vTUY",(function(t,r){e(t.exports,"fixRendererFields",(function(){return y})),e(t.exports,"fixTimeInfoFields",(function(){return m})),e(t.exports,"fixFields",(function(){return b})),e(t.exports,"collectFields",(function(){return _})),e(t.exports,"collectField",(function(){return w})),e(t.exports,"unpackFieldNames",(function(){return x})),e(t.exports,"collectArcadeFieldNames",(function(){return S})),e(t.exports,"getDisplayFieldName",(function(){return I})),e(t.exports,"collectElevationFields",(function(){return O})),e(t.exports,"collectFeatureReductionFields",(function(){return N})),e(t.exports,"collectFilterFields",(function(){return P})),e(t.exports,"collectOrderByInfos",(function(){return j})),e(t.exports,"getFeatureEditFields",(function(){return B})),e(t.exports,"collectLabelingFields",(function(){return H})),e(t.exports,"getFieldDefaultValue",(function(){return J})),e(t.exports,"numericTypes",(function(){return ne})),e(t.exports,"isNumericField",(function(){return ae})),e(t.exports,"isStringField",(function(){return oe})),e(t.exports,"isDateField",(function(){return se})),e(t.exports,"validateFieldValue",(function(){return ue})),e(t.exports,"sanitizeNullFieldValue",(function(){return le})),e(t.exports,"validationErrorToString",(function(){return ye})),e(t.exports,"featureHasFields",(function(){return ve})),s("8TSCy");var i=s("jcnGU"),a=s("5Vgx8"),o=s("2TvXO"),l=s("kyj08"),u=s("7qybv"),c=s("8EPEw"),f=s("ix2CH"),p=s("3nnTb"),d=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],h=["field","normalizationField"];function y(e,t){if(null!=e&&null!=t){var r=!0,n=!1,i=void 0,a=!0,o=!1,s=void 0;try{for(var l,u=(Array.isArray(e)?e:[e])[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;if(v(d,c,t),"visualVariables"in c&&c.visualVariables)try{for(var f,p=c.visualVariables[Symbol.iterator]();!(r=(f=p.next()).done);r=!0){var y=f.value;v(h,y,t)}}catch(e){n=!0,i=e}finally{try{r||null==p.return||p.return()}finally{if(n)throw i}}}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}}}function v(e,t,r){var n=!0,i=!1,a=void 0;if(e)try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value,u=(0,c.getDeepValue)(l,t),f=u&&"function"!=typeof u&&r.get(u);f&&(0,c.setDeepValue)(l,f.name,t)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}function m(e,t){if(null!=e&&null!=t&&t.fields.length)if("startField"in e){var r=t.get(e.startField),n=t.get(e.endField);e.startField=r&&r.name||null,e.endField=n&&n.name||null}else{var i=t.get(e.startTimeField),a=t.get(e.endTimeField);e.startTimeField=i&&i.name||null,e.endTimeField=a&&a.name||null}}var g=new Set;function b(e,t){return e&&t?(g.clear(),_(g,e,t),Array.from(g).sort()):[]}function _(e,t,r){var n;if(r)if(null!=t&&null!=(n=t.fields)&&n.length){var i=!0,a=!1,o=void 0,s=!0,l=!1,u=void 0;if(r.includes("*"))try{for(var c,f=t.fields[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var p=c.value.name;e.add(p)}}catch(e){a=!0,o=e}finally{try{i||null==f.return||f.return()}finally{if(a)throw o}}else try{for(var d,h=r[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){w(e,t,d.value)}}catch(e){l=!0,u=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw u}}}else{if(r.includes("*"))return e.clear(),void e.add("*");var y=!0,v=!1,m=void 0;try{for(var g,b=r[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var _=g.value;e.add(_)}}catch(e){v=!0,m=e}finally{try{y||null==b.return||b.return()}finally{if(v)throw m}}}}function w(e,t,r){if("string"==typeof r)if(t){var n=t.get(r);n&&e.add(n.name)}else e.add(r)}function x(e,t){return(0,u.isNone)(t)||(0,u.isNone)(e)?[]:t.includes("*")?e.fields.map((function(e){return e.name})):t}function S(e,t,r){return k.apply(this,arguments)}function k(){return(k=i.default(n(o).mark((function e(t,r,i){var a,s,l,u,c,f,d,h,y,v;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,p.loadArcade)();case 5:for(s=e.sent,l=s.arcadeUtils,u=l.extractFieldNames(i,null==r||null==(a=r.fields)?void 0:a.map((function(e){return e.name}))),c=!0,f=!1,d=void 0,e.prev=9,h=u[Symbol.iterator]();!(c=(y=h.next()).done);c=!0)v=y.value,w(t,r,v);e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),f=!0,d=e.t0;case 17:e.prev=17,e.prev=18,c||null==h.return||h.return();case 20:if(e.prev=20,!f){e.next=23;break}throw d;case 23:return e.finish(20);case 24:return e.finish(17);case 25:case"end":return e.stop()}}),e,null,[[9,13,17,25],[18,,20,24]])})))).apply(this,arguments)}function T(e,t,r){return E.apply(this,arguments)}function E(){return(E=i.default(n(o).mark((function e(t,r,i){var a;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||"1=1"===i){e.next=7;break}return e.next=3,s("dKZJP");case 3:if((a=e.sent.WhereClause.create(i,r)).isStandardized){e.next=6;break}throw new(0,l.default)("fieldUtils:collectFilterFields","Where clause is not standardized");case 6:_(t,r,a.fieldNames);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){var t=e.displayField,r=e.fields;return t||(r&&r.length?C(r,"name-or-title")||C(r,"unique-identifier")||C(r,"type-or-category")||function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(o&&o.name){var s=o.name.toLowerCase();if(s.indexOf("name")>-1||s.indexOf("title")>-1)return o.name}}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return null}(r):null)}function C(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(s&&s.valueType&&s.valueType===t)return s.name}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return null}function O(e,t){return L.apply(this,arguments)}function L(){return(L=i.default(n(o).mark((function e(t,r){var i;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return i=(0,c.getDeepValue)("elevationInfo.featureExpressionInfo",r),e.abrupt("return",i?i.collectRequiredFields(t,r.fieldsIndex):void 0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,r){return M.apply(this,arguments)}function M(){return(M=i.default(n(o).mark((function e(t,r,i){return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.outStatistic.onStatisticValueExpression?S(t,r,i.outStatistic.onStatisticValueExpression):t.add(i.outStatistic.onStatisticField);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,r){return R.apply(this,arguments)}function R(){return(R=i.default(n(o).mark((function e(t,r,i){var s,l,u,c,f,p,d,h,y,v,m,g;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&i&&"cluster"===i.type){e.next=4;break}return e.abrupt("return");case 4:if(f=[],null!=(u=i.popupTemplate)&&u.expressionInfos&&(s=f).push.apply(s,a.default(i.popupTemplate.expressionInfos.map((function(e){return S(t,r.fieldsIndex,e.expression)})))),!Array.isArray(null==(c=i.popupTemplate)?void 0:c.content)){e.next=24;break}for(p=i.popupTemplate.content,d=!0,h=!1,y=void 0,e.prev=8,v=p[Symbol.iterator]();!(d=(m=v.next()).done);d=!0)"expression"===(g=m.value).type&&g.expressionInfo&&f.push(S(t,r.fieldsIndex,g.expressionInfo.expression));e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),h=!0,y=e.t0;case 16:e.prev=16,e.prev=17,d||null==v.return||v.return();case 19:if(e.prev=19,!h){e.next=22;break}throw y;case 22:return e.finish(19);case 23:return e.finish(16);case 24:return i.fields&&(l=f).push.apply(l,a.default(i.fields.map((function(e){return A(t,r.fieldsIndex,e)})))),e.next=27,Promise.all(f);case 27:case"end":return e.stop()}}),e,null,[[8,12,16,24],[17,,19,23]])})))).apply(this,arguments)}function P(e,t,r){return F.apply(this,arguments)}function F(){return(F=i.default(n(o).mark((function e(t,r,i){return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r,!e.t0){e.next=8;break}if(r.timeInfo&&(0,u.isSome)(i)&&i.timeExtent&&_(t,r.fieldsIndex,[r.timeInfo.startField,r.timeInfo.endField]),r.floorInfo&&_(t,r.fieldsIndex,[r.floorInfo.floorField]),e.t1=(0,u.isSome)(i)&&(0,u.isSome)(i.where),!e.t1){e.next=8;break}return e.next=8,T(t,r.fieldsIndex,i.where);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,r){return D.apply(this,arguments)}function D(){return(D=i.default(n(o).mark((function e(t,r,i){return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r&&i,!e.t0){e.next=4;break}return e.next=4,Promise.all(i.map((function(e){return U(t,r,e)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t,r){return V.apply(this,arguments)}function V(){return(V=i.default(n(o).mark((function e(t,r,i){return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r&&i,!e.t0){e.next=8;break}if(!i.valueExpression){e.next=7;break}return e.next=5,S(t,r.fieldsIndex,i.valueExpression);case 5:e.next=8;break;case 7:i.field&&w(t,r.fieldsIndex,i.field);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){if(!e)return[];var t="editFieldsInfo"in e&&e.editFieldsInfo;return t?b(e.fieldsIndex,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}function H(e,t){return z.apply(this,arguments)}function z(){return(z=i.default(n(o).mark((function e(t,r){var i,a;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.labelingInfo,a=r.fieldsIndex,e.t0=i&&i.length,!e.t0){e.next=5;break}return e.next=5,Promise.all(i.map((function(e){return W(t,a,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t,r){return G.apply(this,arguments)}function G(){return(G=i.default(n(o).mark((function e(t,r,i){var a,s,l;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:if(a=i.getLabelExpression(),s=i.where,"arcade"!==a.type){e.next=8;break}return e.next=6,S(t,r,a.expression);case 6:e.next=9;break;case 8:(l=a.expression.match(/{[^}]*}/g))&&l.forEach((function(e){w(t,r,e.slice(1,-1))}));case 9:return e.next=11,T(t,r,s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){var t=e.defaultValue;return void 0!==t&&ee(e,t)?t:e.nullable?null:void 0}function q(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function X(e){return null===e||q(e)}var K="isInteger"in Number?Number.isInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function $(e){return null===e||K(e)}function Y(e){return null!=e&&"string"==typeof e}function Z(e){return null===e||Y(e)}function Q(){return!0}function ee(e,t){var r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?$:K;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?X:q;break;case"string":case"esriFieldTypeString":r=e.nullable?Z:Y;break;default:r=Q}return 1===arguments.length?r:r(t)}var te,re,ne=["integer","small-integer","single","double"],ie=new Set(a.default(ne).concat(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));function ae(e){return null!=e&&ie.has(e.type)}function oe(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function se(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}function le(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function ue(e,t){return e.nullable&&null===t?null:!ae(e)||(r=e.type,n=Number(t),(i="string"==typeof r?ce(r):r)&&(i.isInteger?K(n)&&n>=i.min&&n<=i.max:n>=i.min&&n<=i.max))?ee(e,t)?e.domain?(0,f.validateDomainValue)(e.domain,t):null:re.INVALID_TYPE:te.OUT_OF_RANGE;var r,n,i}function ce(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return fe;case"esriFieldTypeInteger":case"integer":return pe;case"esriFieldTypeSingle":case"single":return de;case"esriFieldTypeDouble":case"double":return he}}(te||(te={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",(re||(re={})).INVALID_TYPE="type-validation-error::invalid-type";var fe={min:-32768,max:32767,isInteger:!0},pe={min:-2147483648,max:2147483647,isInteger:!0},de={min:-34e37,max:12e37,isInteger:!1},he={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function ye(e,t,r){switch(e){case f.DomainValidationError.INVALID_CODED_VALUE:return"Value ".concat(r," is not in the coded domain - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case f.DomainValidationError.VALUE_OUT_OF_RANGE:return"Value ".concat(r," is out of the range of valid values - field: ").concat(t.name,", domain: ").concat(JSON.stringify(t.domain));case re.INVALID_TYPE:return"Value ".concat(r," is not a valid value for the field type - field: ").concat(t.name,", type: ").concat(t.type,", nullable: ").concat(t.nullable);case te.OUT_OF_RANGE:var n=ce(t.type),i=n.min,a=n.max;return"Value ".concat(r," is out of range for the number type - field: ").concat(t.name,", type: ").concat(t.type,", value range is ").concat(i," to ").concat(a)}}function ve(e,t){return!function(e,t,r){if(!t||!t.attributes||!e){var n=!0,i=!1,a=void 0;if((0,u.isSome)(r))try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;r.add(l)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return!0}var c=t.attributes,f=!1,p=!0,d=!1,h=void 0;try{for(var y,v=e[Symbol.iterator]();!(p=(y=v.next()).done);p=!0){var m=y.value;if(!(m in c)){if(f=!0,!(0,u.isSome)(r))break;r.add(m)}}}catch(e){d=!0,h=e}finally{try{p||null==v.return||v.return()}finally{if(d)throw h}}return f}(e,t,null)}})),s.register("ix2CH",(function(t,r){var n,i;function a(e,t){switch(e.type){case"range":var r="range"in e?e.range[0]:e.minValue,i="range"in e?e.range[1]:e.maxValue;if(+t<r||+t>i)return n.VALUE_OUT_OF_RANGE;break;case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((function(e){return null==e||e.code!==t})))return n.INVALID_CODED_VALUE}return null}function o(e){if(e&&"range"===e.type)return{min:"range"in e?e.range[0]:e.minValue,max:"range"in e?e.range[1]:e.maxValue}}e(t.exports,"DomainValidationError",(function(){return n})),e(t.exports,"validateDomainValue",(function(){return a})),e(t.exports,"getDomainRange",(function(){return o})),(i=n||(n={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",i.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})),s.register("3nnTb",(function(t,r){e(t.exports,"loadArcade",(function(){return h})),e(t.exports,"createLabelExpression",(function(){return y})),e(t.exports,"ArcadeExpression",(function(){return g})),e(t.exports,"createRendererExpression",(function(){return v})),e(t.exports,"createDictionaryExpression",(function(){return m})),s("8TSCy");var i=s("jcnGU"),a=s("f9pi5"),o=s("jK9zx"),l=s("ifq4M"),u=s("aNiFM"),c=s("2TvXO");s("2ILM8");var f,p=s("7qybv"),d=s("j40xv");function h(){return f||(f=i.default(n(c).mark((function e(){var t;return n(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("bvofb");case 2:return t=e.sent,e.abrupt("return",{arcade:t.arcade,arcadeUtils:t,Dictionary:t.Dictionary,Feature:t.arcadeFeature});case 4:case"end":return e.stop()}}),e)})))()),f}var y=function(e,t,r){return g.create(e,t,r,null,["$feature"])},v=function(e,t,r){return g.create(e,t,r,null,["$feature","$view"])},m=function(e,t,r,n){return g.create(e,t,r,n,["$feature","$view"])},g=function(){"use strict";function e(t,r,n,i,o,s,l,u){a.default(this,e),this.script=t,this.evaluate=o;var c=Array.isArray(l)?l:l.fields;this.fields=c,this._syntaxTree=i,this._arcade=r,this._arcadeDictionary=n,this._arcadeFeature=s,this._spatialReference=u,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}return o.default(e,[{key:"repurposeFeature",value:function(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}},{key:"createDictionary",value:function(){return new this._arcadeDictionary}},{key:"referencesMember",value:function(e){return this._arcade.referencesMember(this._syntaxTree,e)}},{key:"referencesFunction",value:function(e){return this._arcade.referencesFunction(this._syntaxTree,e)}},{key:"referencesGeometry",value:function(){return this._referencesGeometry}},{key:"referencesScale",value:function(){return this._referencesScale}},{key:"extractFieldLiterals",value:function(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}],[{key:"create",value:function(t,r,a,o,s,f){return i.default(n(c).mark((function i(){var y,v,m,g,b,_,w,x,S,k,T,E,I,C,O;return n(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h();case 2:return y=n.sent,v=y.arcade,m=y.Feature,g=y.Dictionary,b=d.default.fromJSON(r),_=v.parseScript(t,f),w=s.reduce((function(e,t){return l.default({},e,u.default({},t,null))}),{}),x=null,(0,p.isSome)(o)&&((x=new g(o)).immutable=!0,w.$config=null),S=v.scriptUsesGeometryEngine(_)&&v.enableGeometrySupport(),k=v.scriptUsesFeatureSet(_)&&v.enableFeatureSetSupport(),T=v.scriptIsAsync(_)&&v.enableAsyncSupport(),E={vars:w,spatialReference:b,useAsync:!!T},(I=new g).immutable=!1,I.setField("scale",0),C=v.compileScript(_,E),O=function(e){return"$view"in e&&e.$view&&(I.setField("scale",e.$view.scale),e.$view=I),x&&(e.$config=x),C({vars:e,spatialReference:b})},n.next=16,Promise.all([S,k,T]);case 16:return n.abrupt("return",(n.sent,new e(t,v,g,_,O,new m,a,b)));case 17:case"end":return n.stop()}}),i)})))()}}]),e}()})),s.register("bvofb",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("i0GP0")).then((function(){return s("3ArgA")}))})),s.register("dKZJP",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("j5U2t")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("cgD2M"))]).then((function(){return s("9AqbE")}))})),s.register("7BJ9K",(function(t,r){e(t.exports,"persistableTypes",(function(){return u}));var n=s("9Hey9"),i=(s("5j1Qi"),s("hviGF")),a=s("1HxLt"),o=s("26JOX"),l=s("2l7B9");n=s("9Hey9"),s("5j1Qi"),s("4NqMe"),i=s("hviGF"),a=s("1HxLt"),o=s("26JOX"),l=s("2l7B9");var u={base:null,key:"type",typeMap:{attachment:n.default,media:o.default,text:l.default,expression:i.default,field:a.default}}})),s.register("9Hey9",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("5j1Qi"),h=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).description=null,n.displayType="auto",n.title=null,n.type="attachments",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({description:this.description,displayType:this.displayType,title:this.title})}}]),r}(d.default);(0,u._)([(0,c.property)({type:String,json:{write:!0}})],h.prototype,"description",void 0),(0,u._)([(0,c.property)({type:["auto","preview","list"],json:{write:!0}})],h.prototype,"displayType",void 0),(0,u._)([(0,c.property)({type:String,json:{write:!0}})],h.prototype,"title",void 0),(0,u._)([(0,c.property)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],h.prototype,"type",void 0);var y=h=f=(0,u._)([(0,p.subclass)("esri.popup.content.AttachmentsContent")],h)})),s.register("5j1Qi",(function(t,r){e(t.exports,"default",(function(){return d})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("1XAcN"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f=s("fcwIv"),p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type=null,o.default(n)}return r}(u.JSONSupport);(0,l._)([(0,c.property)({type:["attachments","custom","fields","media","text","expression"],readOnly:!0,json:{read:!1,write:!0}})],p.prototype,"type",void 0);var d=p=(0,l._)([(0,f.subclass)("esri.popup.content.Content")],p)})),s.register("hviGF",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("8pRV1"),h=s("5j1Qi"),y=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).expressionInfo=null,n.type="expression",o.default(n)}return l.default(r,[{key:"clone",value:function(){var e;return new f({expressionInfo:null==(e=this.expressionInfo)?void 0:e.clone()})}}]),r}(h.default);(0,u._)([(0,c.property)({type:d.default,json:{write:!0}})],y.prototype,"expressionInfo",void 0),(0,u._)([(0,c.property)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],y.prototype,"type",void 0);var v=y=f=(0,u._)([(0,p.subclass)("esri.popup.content.ExpressionContent")],y)})),s.register("8pRV1",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).title=null,n.expression=null,n.returnType="dictionary",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({title:this.title,expression:this.expression})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"title",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"expression",void 0),(0,u._)([(0,f.property)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],h.prototype,"returnType",void 0);var y=h=p=(0,u._)([(0,d.subclass)("esri.popup.ElementExpressionInfo")],h)})),s.register("1HxLt",(function(t,r){e(t.exports,"default",(function(){return g})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("flPLJ"),f=s("iho5X");s("iJAIC");var p,d=s("fcwIv"),h=s("kced1"),y=s("0kIkz"),v=s("5j1Qi"),m=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).attributes=null,n.description=null,n.fieldInfos=null,n.title=null,n.type="fields",o.default(n)}return l.default(r,[{key:"writeFieldInfos",value:function(e,t){t.fieldInfos=e&&e.map((function(e){return e.toJSON()}))}},{key:"clone",value:function(){return new p((0,c.clone)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}}]),r}(v.default);(0,u._)([(0,f.property)({type:Object,json:{write:!0}})],m.prototype,"attributes",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],m.prototype,"description",void 0),(0,u._)([(0,f.property)({type:[y.default]})],m.prototype,"fieldInfos",void 0),(0,u._)([(0,h.writer)("fieldInfos")],m.prototype,"writeFieldInfos",null),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],m.prototype,"title",void 0),(0,u._)([(0,f.property)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],m.prototype,"type",void 0);var g=m=p=(0,u._)([(0,d.subclass)("esri.popup.content.FieldsContent")],m)})),s.register("0kIkz",(function(t,r){e(t.exports,"default",(function(){return b})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("79ASa"),f=s("1XAcN"),p=s("flPLJ"),d=s("iho5X");s("iJAIC");var h,y=s("bSafx"),v=s("fcwIv"),m=s("7vbz9"),g=h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).fieldName=null,n.format=null,n.isEditable=!1,n.label=null,n.stringFieldOption="text-box",n.statisticType=null,n.tooltip=null,n.visible=!0,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new h({fieldName:this.fieldName,format:this.format?(0,p.clone)(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}}]),r}(f.JSONSupport);(0,u._)([(0,d.property)({type:String,json:{write:!0}})],g.prototype,"fieldName",void 0),(0,u._)([(0,d.property)({type:m.default,json:{write:!0}})],g.prototype,"format",void 0),(0,u._)([(0,d.property)({type:Boolean,json:{write:!0,default:!1}})],g.prototype,"isEditable",void 0),(0,u._)([(0,d.property)({type:String,json:{write:!0}})],g.prototype,"label",void 0),(0,u._)([(0,y.enumeration)(new(0,c.JSONMap)({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],g.prototype,"stringFieldOption",void 0),(0,u._)([(0,d.property)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],g.prototype,"statisticType",void 0),(0,u._)([(0,d.property)({type:String,json:{write:!0}})],g.prototype,"tooltip",void 0),(0,u._)([(0,d.property)({type:Boolean,json:{write:!0}})],g.prototype,"visible",void 0);var b=g=h=(0,u._)([(0,v.subclass)("esri.popup.FieldInfo")],g)})),s.register("7vbz9",(function(t,r){e(t.exports,"default",(function(){return w})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("ifq4M"),c=s("7eJjO"),f=s("7Vnim"),p=s("1XAcN"),d=s("iho5X");s("lNwWH"),s("2VlWd");var h,y=s("iJAIC"),v=s("bSafx"),m=s("fcwIv"),g=s("8lxrq"),b=s("1RkqB"),_=h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).dateFormat=null,n.dateTimeFormatOptions=null,n.digitSeparator=!1,n.places=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new h({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}},{key:"format",value:function(e){return this.dateFormat?(0,g.formatDate)(e,u.default({},(0,g.convertDateFormatToIntlOptions)(this.dateFormat),this.dateTimeFormatOptions)):(0,b.formatNumber)(e,(0,b.convertNumberFormatToIntlOptions)(this))}}]),r}(p.JSONSupport);(0,c._)([(0,v.enumeration)(f.dictionary)],_.prototype,"dateFormat",void 0),(0,c._)([(0,d.property)({type:Object,json:{read:!1}})],_.prototype,"dateTimeFormatOptions",void 0),(0,c._)([(0,d.property)({type:Boolean,json:{write:!0}})],_.prototype,"digitSeparator",void 0),(0,c._)([(0,d.property)({type:y.Integer,json:{write:!0}})],_.prototype,"places",void 0);var w=_=h=(0,c._)([(0,m.subclass)("esri.popup.support.FieldInfoFormat")],_)})),s.register("7Vnim",(function(t,r){e(t.exports,"dictionary",(function(){return i}));var n=s("79ASa"),i=(0,n.strict)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});i.toJSON.bind(i),i.fromJSON.bind(i)})),s.register("8lxrq",(function(t,r){e(t.exports,"convertDateFormatToIntlOptions",(function(){return g})),e(t.exports,"formatDate",(function(){return b})),s("8TSCy");var n=s("ifq4M"),i=s("79ASa"),a=s("86CDN"),o={year:"numeric",month:"numeric",day:"numeric"},l={year:"numeric",month:"long",day:"numeric"},u={year:"numeric",month:"short",day:"numeric"},c={year:"numeric",month:"long",weekday:"long",day:"numeric"},f={hour:"numeric",minute:"numeric"},p=n.default({},f,{second:"numeric"}),d={"short-date":o,"short-date-short-time":n.default({},o,f),"short-date-short-time-24":n.default({},o,f,{hour12:!1}),"short-date-long-time":n.default({},o,p),"short-date-long-time-24":n.default({},o,p,{hour12:!1}),"short-date-le":o,"short-date-le-short-time":n.default({},o,f),"short-date-le-short-time-24":n.default({},o,f,{hour12:!1}),"short-date-le-long-time":n.default({},o,p),"short-date-le-long-time-24":n.default({},o,p,{hour12:!1}),"long-month-day-year":l,"long-month-day-year-short-time":n.default({},l,f),"long-month-day-year-short-time-24":n.default({},l,f,{hour12:!1}),"long-month-day-year-long-time":n.default({},l,p),"long-month-day-year-long-time-24":n.default({},l,p,{hour12:!1}),"day-short-month-year":u,"day-short-month-year-short-time":n.default({},u,f),"day-short-month-year-short-time-24":n.default({},u,f,{hour12:!1}),"day-short-month-year-long-time":n.default({},u,p),"day-short-month-year-long-time-24":n.default({},u,p,{hour12:!1}),"long-date":c,"long-date-short-time":n.default({},c,f),"long-date-short-time-24":n.default({},c,f,{hour12:!1}),"long-date-long-time":n.default({},c,p),"long-date-long-time-24":n.default({},c,p,{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":f,"long-time":p},h=(0,i.strict)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),y=(h.apiValues,h.toJSON.bind(h),h.fromJSON.bind(h),{ar:"ar-u-nu-latn-ca-gregory"}),v=new WeakMap,m=d["short-date-short-time"];function g(e){return d[e]||null}function b(e,t){return function(e){var t=e||m;if(!v.has(t)){var r=(0,a.getLocale)(),n=y[(0,a.getLocale)()]||r;v.set(t,new Intl.DateTimeFormat(n,t))}return v.get(t)}(t).format(e)}(0,a.beforeLocaleChange)((function(){v=new WeakMap,m=d["short-date-short-time"]}))})),s.register("1RkqB",(function(t,r){e(t.exports,"convertNumberFormatToIntlOptions",(function(){return u})),e(t.exports,"formatNumber",(function(){return c}));var n=s("7qybv"),i=s("86CDN"),a={ar:"ar-u-nu-latn"},o=new WeakMap,l={};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function c(e,t){return function(e){var t=e||l;if(!o.has(t)){var r=(0,i.getLocale)(),s=a[(0,i.getLocale)()]||r;o.set(t,new Intl.NumberFormat(s,e))}return(0,n.assumeNonNull)(o.get(t))}(t).format(e)}(0,i.beforeLocaleChange)((function(){o=new WeakMap,l={}}))})),s.register("26JOX",(function(t,r){e(t.exports,"default",(function(){return k})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("flPLJ"),f=s("iho5X");s("iJAIC");var p,d=s("eB8sj"),h=s("fcwIv"),y=s("kced1"),v=s("114Ni"),m=s("i3ZVq"),g=s("5j1Qi"),b=s("d19R7"),_=s("b3vSc"),w=s("6DD5P"),x=s("ktVSK"),S=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).activeMediaInfoIndex=null,n.attributes=null,n.description=null,n.mediaInfos=null,n.title=null,n.type="media",o.default(n)}return l.default(r,[{key:"readMediaInfos",value:function(e){return e&&e.map((function(e){return"image"===e.type?b.default.fromJSON(e):"barchart"===e.type?v.default.fromJSON(e):"columnchart"===e.type?m.default.fromJSON(e):"linechart"===e.type?_.default.fromJSON(e):"piechart"===e.type?w.default.fromJSON(e):void 0})).filter(Boolean)}},{key:"writeMediaInfos",value:function(e,t){t.mediaInfos=e&&e.map((function(e){return e.toJSON()}))}},{key:"clone",value:function(){return new p((0,c.clone)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}}]),r}(g.default);(0,u._)([(0,f.property)()],S.prototype,"activeMediaInfoIndex",void 0),(0,u._)([(0,f.property)({type:Object,json:{write:!0}})],S.prototype,"attributes",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],S.prototype,"description",void 0),(0,u._)([(0,f.property)({types:[x.types]})],S.prototype,"mediaInfos",void 0),(0,u._)([(0,d.reader)("mediaInfos")],S.prototype,"readMediaInfos",null),(0,u._)([(0,y.writer)("mediaInfos")],S.prototype,"writeMediaInfos",null),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],S.prototype,"title",void 0),(0,u._)([(0,f.property)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],S.prototype,"type",void 0);var k=S=p=(0,u._)([(0,h.subclass)("esri.popup.content.MediaContent")],S)})),s.register("114Ni",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("dP4DF"),h=s("jh7mp"),y=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="bar-chart",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),r}(d.default);(0,u._)([(0,c.property)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:h.chartTypeKebabDict.write}})],y.prototype,"type",void 0);var v=y=f=(0,u._)([(0,p.subclass)("esri.popup.content.BarChartMediaInfo")],y)})),s.register("dP4DF",(function(t,r){e(t.exports,"default",(function(){return h})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var c=s("fcwIv"),f=s("gheVs"),p=s("1A6dd"),d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type=null,n.value=null,o.default(n)}return r}(f.default);(0,l._)([(0,u.property)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0),(0,l._)([(0,u.property)({type:p.default,json:{write:!0}})],d.prototype,"value",void 0);var h=d=(0,l._)([(0,c.subclass)("esri.popup.content.mixins.ChartMediaInfo")],d)})),s.register("gheVs",(function(t,r){e(t.exports,"default",(function(){return d})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("1XAcN"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f=s("fcwIv"),p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).altText=null,n.caption="",n.title="",n.type=null,o.default(n)}return r}(u.JSONSupport);(0,l._)([(0,c.property)({type:String,json:{write:!0}})],p.prototype,"altText",void 0),(0,l._)([(0,c.property)({type:String,json:{write:!0}})],p.prototype,"caption",void 0),(0,l._)([(0,c.property)({type:String,json:{write:!0}})],p.prototype,"title",void 0),(0,l._)([(0,c.property)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],p.prototype,"type",void 0);var d=p=(0,l._)([(0,f.subclass)("esri.popup.content.mixins.MediaInfo")],p)})),s.register("1A6dd",(function(t,r){e(t.exports,"default",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("flPLJ"),p=s("iho5X");s("iJAIC");var d,h=s("fcwIv"),y=s("aJUzf"),v=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).fields=[],n.normalizeField=null,n.series=[],n.tooltipField=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new d({fields:(0,f.clone)(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}}]),r}(c.JSONSupport);(0,u._)([(0,p.property)({type:[String],json:{write:!0}})],v.prototype,"fields",void 0),(0,u._)([(0,p.property)({type:String,json:{write:!0}})],v.prototype,"normalizeField",void 0),(0,u._)([(0,p.property)({type:[y.default],json:{read:!1}})],v.prototype,"series",void 0),(0,u._)([(0,p.property)({type:String,json:{write:!0}})],v.prototype,"tooltipField",void 0);var m=v=d=(0,u._)([(0,h.subclass)("esri.popup.content.support.ChartMediaInfoValue")],v)})),s.register("aJUzf",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jymfC"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).tooltip=null,n.value=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({tooltip:this.tooltip,value:this.value})}}]),r}(c.default);(0,u._)([(0,f.property)()],h.prototype,"tooltip",void 0),(0,u._)([(0,f.property)()],h.prototype,"value",void 0);var y=h=p=(0,u._)([(0,d.subclass)("esri.popup.content.support.ChartMediaInfoValueSeries")],h)})),s.register("jh7mp",(function(t,r){e(t.exports,"chartTypeKebabDict",(function(){return n}));var n=(0,s("79ASa").strict)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})})),s.register("i3ZVq",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("dP4DF"),h=s("jh7mp"),y=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="column-chart",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),r}(d.default);(0,u._)([(0,c.property)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:h.chartTypeKebabDict.write}})],y.prototype,"type",void 0);var v=y=f=(0,u._)([(0,p.subclass)("esri.popup.content.ColumnChartMediaInfo")],y)})),s.register("d19R7",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("gheVs"),h=s("4gAoy"),y=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).refreshInterval=null,n.type="image",n.value=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}}]),r}(d.default);(0,u._)([(0,c.property)({type:Number,json:{write:!0}})],y.prototype,"refreshInterval",void 0),(0,u._)([(0,c.property)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],y.prototype,"type",void 0),(0,u._)([(0,c.property)({type:h.default,json:{write:!0}})],y.prototype,"value",void 0);var v=y=f=(0,u._)([(0,p.subclass)("esri.popup.content.ImageMediaInfo")],y)})),s.register("4gAoy",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).linkURL=null,n.sourceURL=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({linkURL:this.linkURL,sourceURL:this.sourceURL})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"linkURL",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"sourceURL",void 0);var y=h=p=(0,u._)([(0,d.subclass)("esri.popup.content.support.ImageMediaInfoValue")],h)})),s.register("b3vSc",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("dP4DF"),h=s("jh7mp"),y=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="line-chart",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),r}(d.default);(0,u._)([(0,c.property)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:h.chartTypeKebabDict.write}})],y.prototype,"type",void 0);var v=y=f=(0,u._)([(0,p.subclass)("esri.popup.content.LineChartMediaInfo")],y)})),s.register("6DD5P",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("dP4DF"),h=s("jh7mp"),y=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="pie-chart",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}}]),r}(d.default);(0,u._)([(0,c.property)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:h.chartTypeKebabDict.write}})],y.prototype,"type",void 0);var v=y=f=(0,u._)([(0,p.subclass)("esri.popup.content.PieChartMediaInfo")],y)})),s.register("ktVSK",(function(t,r){e(t.exports,"types",(function(){return u}));var n=s("114Ni"),i=s("i3ZVq"),a=s("d19R7"),o=s("b3vSc"),l=s("6DD5P"),u={base:s("gheVs").default,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":n.default,"column-chart":i.default,"line-chart":o.default,"pie-chart":l.default,image:a.default}}})),s.register("2l7B9",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("5j1Qi"),h=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).text=null,n.type="text",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({text:this.text})}}]),r}(d.default);(0,u._)([(0,c.property)({type:String,json:{write:!0}})],h.prototype,"text",void 0),(0,u._)([(0,c.property)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],h.prototype,"type",void 0);var y=h=f=(0,u._)([(0,p.subclass)("esri.popup.content.TextContent")],h)})),s.register("4NqMe",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("flPLJ"),f=s("iho5X");s("iJAIC");var p,d=s("fcwIv"),h=s("5j1Qi"),y=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).creator=null,n.destroyer=null,n.outFields=null,n.type="custom",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,c.clone)(this.outFields):null})}}]),r}(h.default);(0,u._)([(0,f.property)()],y.prototype,"creator",void 0),(0,u._)([(0,f.property)()],y.prototype,"destroyer",void 0),(0,u._)([(0,f.property)()],y.prototype,"outFields",void 0),(0,u._)([(0,f.property)({type:["custom"],readOnly:!0})],y.prototype,"type",void 0);var v=y=p=(0,u._)([(0,d.subclass)("esri.popup.content.CustomContent")],y)})),s.register("l1hgk",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).name=null,n.title=null,n.expression=null,n.returnType=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"name",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"title",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"expression",void 0),(0,u._)([(0,f.property)({type:["string","number"],json:{write:!0}})],h.prototype,"returnType",void 0);var y=h=p=(0,u._)([(0,d.subclass)("esri.popup.ExpressionInfo")],h)})),s.register("dpZaE",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).returnTopmostRaster=null,n.showNoDataRecords=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:Boolean,json:{write:!0}})],h.prototype,"returnTopmostRaster",void 0),(0,u._)([(0,f.property)({type:Boolean,json:{write:!0}})],h.prototype,"showNoDataRecords",void 0);var y=h=p=(0,u._)([(0,d.subclass)("esri.popup.LayerOptions")],h)})),s.register("359Dn",(function(t,r){e(t.exports,"default",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("flPLJ"),p=s("iho5X");s("iJAIC");var d,h=s("fcwIv"),y=s("b1O89"),v=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).showRelatedRecords=null,n.orderByFields=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new d({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,f.clone)(this.orderByFields):null})}}]),r}(c.JSONSupport);(0,u._)([(0,p.property)({type:Boolean,json:{write:!0}})],v.prototype,"showRelatedRecords",void 0),(0,u._)([(0,p.property)({type:[y.default],json:{write:!0}})],v.prototype,"orderByFields",void 0);var m=v=d=(0,u._)([(0,h.subclass)("esri.popup.RelatedRecordsInfo")],v)})),s.register("b1O89",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).field=null,n.order=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({field:this.field,order:this.order})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"field",void 0),(0,u._)([(0,f.property)({type:["asc","desc"],json:{write:!0}})],h.prototype,"order",void 0);var y=h=p=(0,u._)([(0,d.subclass)("esri.popup.support.RelatedRecordsInfoFieldOrder")],h)})),s.register("42uvh",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jymfC"),f=s("52Bzb"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d,h=s("fcwIv"),y=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).active=!1,n.className=null,n.disabled=!1,n.id=null,n.indicator=!1,n.title=null,n.type=null,n.visible=!0,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new d({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}}]),r}((0,f.IdentifiableMixin)(c.default));(0,u._)([(0,p.property)()],y.prototype,"active",void 0),(0,u._)([(0,p.property)()],y.prototype,"className",void 0),(0,u._)([(0,p.property)()],y.prototype,"disabled",void 0),(0,u._)([(0,p.property)()],y.prototype,"id",void 0),(0,u._)([(0,p.property)()],y.prototype,"indicator",void 0),(0,u._)([(0,p.property)()],y.prototype,"title",void 0),(0,u._)([(0,p.property)()],y.prototype,"type",void 0),(0,u._)([(0,p.property)()],y.prototype,"visible",void 0);var v=y=d=(0,u._)([(0,h.subclass)("esri.support.actions.ActionBase")],y)})),s.register("102u7",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("42uvh"),h=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).image=null,n.type="button",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}}]),r}(d.default);(0,u._)([(0,c.property)()],h.prototype,"image",void 0);var y=h=f=(0,u._)([(0,p.subclass)("esri.support.Action.ActionButton")],h)})),s.register("hFzu1",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("42uvh"),h=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).image=null,n.type="toggle",n.value=!1,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}}]),r}(d.default);(0,u._)([(0,c.property)()],h.prototype,"image",void 0),(0,u._)([(0,c.property)()],h.prototype,"value",void 0);var y=h=f=(0,u._)([(0,p.subclass)("esri.support.Action.ActionToggle")],h)})),s.register("cM5QQ",(function(t,r){e(t.exports,"isSymbol2D",(function(){return _})),e(t.exports,"isSymbol3D",(function(){return w})),e(t.exports,"symbolTypes",(function(){return x})),e(t.exports,"symbolTypesCluster",(function(){return S})),e(t.exports,"readSymbol",(function(){return k})),e(t.exports,"symbolTypesRenderer",(function(){return T})),e(t.exports,"symbolTypesLabel",(function(){return E})),e(t.exports,"symbolTypesRenderer3D",(function(){return I})),e(t.exports,"symbolTypesLabel3D",(function(){return C})),e(t.exports,"ensureType",(function(){return O}));var n=s("iJAIC"),i=s("bVD6V"),a=s("d2VJI"),o=s("gn9mT"),l=s("bo3au"),u=s("ht9M1"),c=s("iCL6D"),f=s("gb4f1"),p=s("d74xd"),d=s("9GCmF"),h=s("SVQ32"),y=s("e6bLq"),v=s("ioNzP"),m=s("j9ZJv"),g=s("d2yGf"),b=s("22fTC");a=s("d2VJI"),s("jdPSN"),s("aj6xu"),s("iI9TW"),s("iOkFF"),s("2dm3Q"),o=s("gn9mT"),l=s("bo3au"),s("b1Ydy"),s("b5Wv5"),u=s("ht9M1"),s("h5Ux5"),s("3FOE9"),c=s("iCL6D"),f=s("gb4f1"),p=s("d74xd"),d=s("9GCmF"),h=s("SVQ32"),y=s("e6bLq"),v=s("ioNzP"),m=s("j9ZJv"),s("7PS5g"),s("bhaQX"),g=s("d2yGf"),s("gRFMr"),s("8EuSL"),b=s("22fTC"),s("bG19W"),s("fHBtj");function _(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function w(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}var x={base:m.default,key:"type",typeMap:{"simple-fill":h.default,"picture-fill":c.default,"picture-marker":f.default,"simple-line":y.default,"simple-marker":v.default,text:g.default,"label-3d":o.default,"line-3d":l.default,"mesh-3d":u.default,"point-3d":p.default,"polygon-3d":d.default,"web-style":b.default,cim:a.default},errorContext:"symbol"},S={base:m.default,key:"type",typeMap:{"picture-marker":f.default,"simple-marker":v.default,text:g.default,"web-style":b.default,cim:a.default},errorContext:"symbol"},k=(0,i.createTypeReader)({types:x}),T={base:m.default,key:"type",typeMap:{"simple-fill":h.default,"picture-fill":c.default,"picture-marker":f.default,"simple-line":y.default,"simple-marker":v.default,text:g.default,"line-3d":l.default,"mesh-3d":u.default,"point-3d":p.default,"polygon-3d":d.default,"web-style":b.default,cim:a.default},errorContext:"symbol"},E={base:m.default,key:"type",typeMap:{text:g.default,"label-3d":o.default},errorContext:"symbol"},I=(m.default,o.default,l.default,u.default,p.default,d.default,b.default,{base:m.default,key:"type",typeMap:{"line-3d":l.default,"mesh-3d":u.default,"point-3d":p.default,"polygon-3d":d.default,"web-style":b.default,cim:a.default},errorContext:"symbol"}),C={base:m.default,key:"type",typeMap:{"label-3d":o.default},errorContext:"symbol"},O=(0,n.ensureOneOfType)(x)})),s.register("d2VJI",(function(t,r){e(t.exports,"default",(function(){return k})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("jcnGU"),f=s("2TvXO"),p=s("7eJjO"),d=s("flPLJ"),h=s("1TSdR"),y=s("iho5X");s("iJAIC");var v,m=s("bSafx"),g=s("eB8sj"),b=s("fcwIv"),_=s("kced1"),w=s("7vTUY"),x=s("j9ZJv"),S=v=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).data=null,n.type="cim",l.default(n)}return u.default(r,[{key:"readData",value:function(e,t){return t}},{key:"writeData",value:function(e,t){if(e)for(var r in e)t[r]=e[r]}},{key:"collectRequiredFields",value:function(e,t){var r=this;return c.default(n(f).mark((function i(){var a,o;return n(f).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("CIMSymbolReference"!==r.data.type){n.next=6;break}if(!(a=r.data.primitiveOverrides)){n.next=6;break}return o=a.map((function(r){var n=r.valueExpressionInfo;return(0,w.collectArcadeFieldNames)(e,t,n.expression)})),n.next=6,Promise.all(o);case 6:case"end":return n.stop()}}),i)})))()}},{key:"clone",value:function(){return new v({data:(0,d.clone)(this.data)})}},{key:"hash",value:function(){return(0,h.numericHash)(JSON.stringify(this.data)).toString()}}]),r}(x.default);(0,p._)([(0,y.property)({json:{write:!1}})],S.prototype,"color",void 0),(0,p._)([(0,y.property)({json:{write:!0}})],S.prototype,"data",void 0),(0,p._)([(0,g.reader)("data",["symbol"])],S.prototype,"readData",null),(0,p._)([(0,_.writer)("data",{})],S.prototype,"writeData",null),(0,p._)([(0,m.enumeration)({CIMSymbolReference:"cim"},{readOnly:!0})],S.prototype,"type",void 0);var k=S=v=(0,p._)([(0,b.subclass)("esri.symbols.CIMSymbol")],S)})),s.register("j9ZJv",(function(t,r){e(t.exports,"default",(function(){return x})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("jcnGU"),f=s("2TvXO"),p=s("7eJjO"),d=s("jgs9n"),h=s("79ASa"),y=s("1XAcN"),v=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var m=s("eB8sj"),g=s("fcwIv"),b=new(0,h.JSONMap)({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),_=0,w=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).id="sym"+_++,n.type=null,n.color=new(0,d.default)([0,0,0,1]),l.default(n)}return u.default(r,[{key:"readColor",value:function(e){return e&&null!=e[0]?[e[0],e[1],e[2],e[3]/255]:e}},{key:"collectRequiredFields",value:function(e,t){return c.default(n(f).mark((function e(){return n(f).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},{key:"hash",value:function(){return JSON.stringify(this.toJSON())}},{key:"clone",value:function(){}}]),r}(y.JSONSupport);(0,p._)([(0,v.property)({type:b.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:b.write}}})],w.prototype,"type",void 0),(0,p._)([(0,v.property)({type:d.default,json:{write:{allowNull:!0}}})],w.prototype,"color",void 0),(0,p._)([(0,m.reader)("color")],w.prototype,"readColor",null);var x=w=(0,p._)([(0,g.subclass)("esri.symbols.Symbol")],w)})),s.register("gn9mT",(function(t,r){e(t.exports,"default",(function(){return x})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("d2yMj"),f=s("flPLJ"),p=s("iho5X");s("iJAIC");var d,h=s("bSafx"),y=s("fcwIv"),v=s("7PS5g"),m=s("gRFMr"),g=s("i6U30"),b=s("f3rsq"),_=c.default.ofType({base:null,key:"type",typeMap:{text:m.default}}),w=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).verticalOffset=null,n.callout=null,n.styleOrigin=null,n.symbolLayers=new _,n.type="label-3d",o.default(n)}return l.default(r,[{key:"supportsCallout",value:function(){return!0}},{key:"hasVisibleCallout",value:function(){return(0,g.hasVisibleCallout)(this)}},{key:"hasVisibleVerticalOffset",value:function(){return(0,g.hasVisibleVerticalOffset)(this)}},{key:"clone",value:function(){return new d({styleOrigin:(0,f.clone)(this.styleOrigin),symbolLayers:(0,f.clone)(this.symbolLayers),thumbnail:(0,f.clone)(this.thumbnail),callout:(0,f.clone)(this.callout),verticalOffset:(0,f.clone)(this.verticalOffset)})}}],[{key:"fromTextSymbol",value:function(e){return new d({symbolLayers:[m.default.fromTextSymbol(e)]})}}]),r}(v.default);(0,u._)([(0,p.property)({type:b.Symbol3DVerticalOffset,json:{write:!0}})],w.prototype,"verticalOffset",void 0),(0,u._)([(0,p.property)(g.calloutProperty)],w.prototype,"callout",void 0),(0,u._)([(0,p.property)({json:{read:!1,write:!1}})],w.prototype,"styleOrigin",void 0),(0,u._)([(0,p.property)({type:_})],w.prototype,"symbolLayers",void 0),(0,u._)([(0,h.enumeration)({LabelSymbol3D:"label-3d"},{readOnly:!0})],w.prototype,"type",void 0);var x=w=d=(0,u._)([(0,y.subclass)("esri.symbols.LabelSymbol3D")],w)})),s.register("7PS5g",(function(t,r){e(t.exports,"default",(function(){return D})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("d2yMj"),f=s("30Aps"),p=s("jHOLN"),d=s("kYueh"),h=s("lfedQ"),y=s("iho5X");s("lNwWH"),s("2VlWd");var v=s("ba18L"),m=s("eB8sj"),g=s("fcwIv"),b=s("kced1"),_=s("ajJOT"),w=s("9ELaA"),x=s("jdPSN"),S=s("iI9TW"),k=s("2dm3Q"),T=s("b1Ydy"),E=s("h5Ux5"),I=s("3FOE9"),C=s("j9ZJv"),O=s("bhaQX"),L=s("gRFMr"),A=s("8EuSL"),M=s("97VC5"),N=s("3Hb4Y"),R={icon:k.default,object:E.default,line:T.default,path:I.default,fill:S.default,extrude:x.default,text:L.default,water:A.default},P=c.default.ofType({base:O.default,key:"type",typeMap:R,errorContext:"symbol-layer"}),F=p.default.getLogger("esri.symbols.Symbol3D"),j=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;a.default(this,r),(n=t.call(this,e)).styleOrigin=null,n.thumbnail=null,n.type=null;var i=n.__accessor__&&n.__accessor__.metadatas&&n.__accessor__.metadatas.symbolLayers,s=i&&i.type||c.default;return n._set("symbolLayers",new s),o.default(n)}return l.default(r,[{key:"color",get:function(){return null},set:function(e){this.initialized&&F.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}},{key:"symbolLayers",set:function(e){(0,f.referenceSetter)(e,this._get("symbolLayers"))}},{key:"readStyleOrigin",value:function(e,t,r){if(e.styleUrl&&e.name){var n=(0,w.f)(e.styleUrl,r);return new(0,M.default)({styleUrl:n,name:e.name})}if(e.styleName&&e.name)return new(0,M.default)({portal:r&&r.portal||_.default.getDefault(),styleName:e.styleName,name:e.name});r&&r.messages&&r.messages.push(new(0,h.default)("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}},{key:"writeStyleOrigin",value:function(e,t,r,n){if(e.styleUrl&&e.name){var i=(0,w.t)(e.styleUrl,n);(0,d.isAbsolute)(i)&&(i=(0,d.normalize)(i)),t.styleOrigin={styleUrl:i,name:e.name}}else e.styleName&&e.name&&(e.portal&&n&&n.portal&&!(0,d.hasSamePortal)(e.portal.restUrl,n.portal.restUrl)?n&&n.messages&&n.messages.push(new(0,h.default)("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}},{key:"normalizeCtorArgs",value:function(e){return e instanceof O.default||e&&R[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}}]),r}(C.default);(0,u._)([(0,y.property)({json:{read:!1,write:!1}})],j.prototype,"color",null),(0,u._)([(0,y.property)({type:P,nonNullable:!0,json:{write:!0}}),(0,v.cast)(f.castForReferenceSetter)],j.prototype,"symbolLayers",null),(0,u._)([(0,y.property)({type:M.default})],j.prototype,"styleOrigin",void 0),(0,u._)([(0,m.reader)("styleOrigin")],j.prototype,"readStyleOrigin",null),(0,u._)([(0,b.writer)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],j.prototype,"writeStyleOrigin",null),(0,u._)([(0,y.property)({type:N.Thumbnail,json:{read:!1}})],j.prototype,"thumbnail",void 0),(0,u._)([(0,y.property)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],j.prototype,"type",void 0);var D=j=(0,u._)([(0,g.subclass)("esri.symbols.Symbol3D")],j)})),s.register("9ELaA",(function(t,r){e(t.exports,"f",(function(){return a})),e(t.exports,"t",(function(){return o})),e(t.exports,"M",(function(){return c})),e(t.exports,"r",(function(){return l})),e(t.exports,"w",(function(){return u})),e(t.exports,"i",(function(){return h})),e(t.exports,"p",(function(){return m}));var n=s("7qybv"),i=s("kYueh");function a(e,t){var r=t&&t.url&&t.url.path;if(e&&r&&(e=(0,i.makeAbsolute)(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){var n=(0,i.makeRelative)(e,t.portalItem.itemUrl);d.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return v(e,t&&t.portal)}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.YES;if(!e)return e;!(0,i.isAbsolute)(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);var n=(0,i.makeAbsolute)(e);if(t){var a=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(a){var o=v(a,t.portal);(n=(0,i.makeRelative)(v(n,t.portal),o,o))!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=y(n,t&&t.portal),(0,i.isAbsolute)(n)&&(n=(0,i.normalize)(n)),null!=t&&t.resources&&null!=t&&t.portalItem&&!(0,i.isAbsolute)(n)&&!(0,i.isDataProtocol)(n)&&r===c.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n)}),n}function l(e,t,r){return a(e,r)}function u(e,t,r,n){var i=o(e,n);void 0!==i&&(t[r]=i)}var c,f,p=/\/items\/([^\/]+)\/resources\//,d=/^\.\/resources\//;function h(e){var t=(0,n.isSome)(e)?e.match(p):null;return(0,n.isSome)(t)?t[1]:null}function y(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?(0,i.changeDomain)(e,"".concat(t.urlKey,".").concat(t.customBaseUrl),t.portalHostname):e}function v(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;var r="".concat(t.urlKey,".").concat(t.customBaseUrl),n=(0,i.getAppUrl)();return(0,i.hasSameOrigin)(n,"".concat(n.scheme,"://").concat(r))?(0,i.changeDomain)(e,t.portalHostname,r):(0,i.changeDomain)(e,r,t.portalHostname)}(f=c||(c={}))[f.YES=0]="YES",f[f.NO=1]="NO";var m=Object.freeze({__proto__:null,fromJSON:a,toJSON:o,read:l,write:u,itemIdFromResourceUrl:h,get MarkKeep(){return c}})})),s.register("jdPSN",(function(t,r){e(t.exports,"default",(function(){return b})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("7qybv"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("bSafx"),h=s("fcwIv"),y=s("bhaQX"),v=s("lTkua"),m=s("8Ja5q"),g=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="extrude",n.size=1,n.material=null,n.castShadows=!0,n.edges=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:(0,c.isSome)(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}}]),r}(y.default);(0,u._)([(0,d.enumeration)({Extrude:"extrude"},{readOnly:!0})],g.prototype,"type",void 0),(0,u._)([(0,f.property)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],g.prototype,"size",void 0),(0,u._)([(0,f.property)({type:m.Symbol3DMaterial,json:{write:!0}})],g.prototype,"material",void 0),(0,u._)([(0,f.property)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],g.prototype,"castShadows",void 0),(0,u._)([(0,f.property)(v.symbol3dEdgesProperty)],g.prototype,"edges",void 0);var b=g=p=(0,u._)([(0,h.subclass)("esri.symbols.ExtrudeSymbol3DLayer")],g)})),s.register("bhaQX",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p=s("fcwIv"),d=s("kced1"),h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).enabled=!0,n.type=null,o.default(n)}return l.default(r,[{key:"writeEnabled",value:function(e,t,r){e||(t[r]=e)}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],h.prototype,"enabled",void 0),(0,u._)([(0,d.writer)("enabled")],h.prototype,"writeEnabled",null),(0,u._)([(0,f.property)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],h.prototype,"type",void 0);var y=h=(0,u._)([(0,p.subclass)("esri.symbols.Symbol3DLayer")],h)})),s.register("lTkua",(function(t,r){e(t.exports,"symbol3dEdgesProperty",(function(){return o}));var n=s("1Um1l"),i=s("4QaY2"),a=s("f2TlM"),o={types:{key:"type",base:n.default,typeMap:{solid:a.default,sketch:i.default}},json:{write:!0}}})),s.register("1Um1l",(function(t,r){e(t.exports,"default",(function(){return b})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("ifq4M"),c=s("7eJjO"),f=s("jgs9n"),p=s("1XAcN"),d=s("flPLJ"),h=s("iXlXu"),y=s("iho5X");s("iJAIC");var v=s("fcwIv"),m=s("lKMFz"),g=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).color=new(0,f.default)([0,0,0,1]),n.extensionLength=0,n.size=(0,h.px2pt)(1),o.default(n)}return l.default(r,[{key:"clone",value:function(){}},{key:"cloneProperties",value:function(){return{color:(0,d.clone)(this.color),size:this.size,extensionLength:this.extensionLength}}}]),r}(p.JSONSupport);(0,c._)([(0,y.property)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],g.prototype,"type",void 0),(0,c._)([(0,y.property)(m.colorAndTransparencyProperty)],g.prototype,"color",void 0),(0,c._)([(0,y.property)(u.default({},m.screenSizeProperty,{json:{write:{overridePolicy:function(e){return{enabled:!!e}}}}}))],g.prototype,"extensionLength",void 0),(0,c._)([(0,y.property)(m.screenSizeProperty)],g.prototype,"size",void 0);var b=g=(0,c._)([(0,v.subclass)("esri.symbols.edges.Edges3D")],g)})),s.register("iXlXu",(function(t,r){e(t.exports,"pt2px",(function(){return i})),e(t.exports,"px2pt",(function(){return a})),e(t.exports,"toPt",(function(){return o})),e(t.exports,"createScreenPoint",(function(){return s})),e(t.exports,"createScreenPointArray",(function(){return l}));var n=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;function i(e){return e?e/72*96:0}function a(e){return e?72*e/96:0}function o(e){if("string"==typeof e){var t=e.match(n);if(t){var r=Number(t[1]),i=t[3]&&t[3].toLowerCase(),o="-"===e.charAt(0),s="px"===i?a(r):r;return o?-s:s}return console.warn("screenUtils.toPt: input not recognized!"),null}return e}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{x:e,y:t}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[e,t]}})),s.register("lKMFz",(function(t,r){e(t.exports,"colorAndTransparencyProperty",(function(){return l})),e(t.exports,"screenSizeProperty",(function(){return u}));var n=s("jgs9n"),i=s("iXlXu"),a=s("iJAIC"),o=s("7gqUJ");var l={type:n.default,json:{type:[a.Integer],default:null,read:{source:["color","transparency"],reader:function(e,t){var r=null!=t.transparency?(0,o.transparencyToOpacity)(t.transparency):1,i=t.color;return i&&Array.isArray(i)?new(0,n.default)([i[0]||0,i[1]||0,i[2]||0,r]):null}},write:{target:{color:{type:[a.Integer]},transparency:{type:a.Integer}},writer:function(e,t){t.color=e.toJSON().slice(0,3);var r=(0,o.opacityToTransparency)(e.a);0!==r&&(t.transparency=r)}}}},u={type:Number,cast:i.toPt,json:{write:!0}}})),s.register("4QaY2",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO");s("jHOLN"),s("iJAIC"),s("lNwWH"),s("2VlWd"),s("62edV");var c,f=s("bSafx"),p=s("fcwIv"),d=s("1Um1l"),h=c=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="sketch",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new c(this.cloneProperties())}}]),r}(d.default);(0,u._)([(0,f.enumeration)({sketch:"sketch"},{readOnly:!0})],h.prototype,"type",void 0);var y=h=c=(0,u._)([(0,p.subclass)("esri.symbols.edges.SketchEdges3D")],h)})),s.register("f2TlM",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO");s("jHOLN"),s("iJAIC"),s("lNwWH"),s("2VlWd"),s("62edV");var c,f=s("bSafx"),p=s("fcwIv"),d=s("1Um1l"),h=c=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="solid",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new c(this.cloneProperties())}}]),r}(d.default);(0,u._)([(0,f.enumeration)({solid:"solid"},{readOnly:!0})],h.prototype,"type",void 0);var y=h=c=(0,u._)([(0,p.subclass)("esri.symbols.support.SolidEdges3D")],h)})),s.register("8Ja5q",(function(t,r){e(t.exports,"Symbol3DMaterial",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("7qybv"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d,h=s("fcwIv"),y=s("lKMFz"),v=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).color=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){var e={color:(0,f.isSome)(this.color)?this.color.clone():null};return new d(e)}}]),r}(c.JSONSupport);(0,u._)([(0,p.property)(y.colorAndTransparencyProperty)],v.prototype,"color",void 0),v=d=(0,u._)([(0,h.subclass)("esri.symbols.support.Symbol3DMaterial")],v)})),s.register("iI9TW",(function(t,r){e(t.exports,"default",(function(){return k})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("7qybv"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("bSafx"),h=s("fcwIv"),y=s("bhaQX"),v=s("lTkua"),m=s("bnrJO"),g=s("4UXsR"),b=s("9nt9h"),_=s("kG9wS"),w=s("lYdTH"),x=s("hNYoE"),S=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="fill",n.material=null,n.pattern=null,n.castShadows=!0,n.outline=null,n.edges=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){var e={edges:(0,c.isSome)(this.edges)?this.edges.clone():null,enabled:this.enabled,material:(0,c.isSome)(this.material)?this.material.clone():null,pattern:(0,c.isSome)(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:(0,c.isSome)(this.outline)?this.outline.clone():null};return new p(e)}}],[{key:"fromSimpleFillSymbol",value:function(e){var t,r,n,i,a,o,s=e.outline&&e.outline.style&&"inside-frame"!==e.outline.style&&"solid"!==e.outline.style?new(0,m.default)({style:e.outline.style}):null,l={size:null!=(t=null==(r=e.outline)?void 0:r.width)?t:0,color:(null!=(n=null==(i=e.outline)?void 0:i.color)?n:_.white).clone(),pattern:s};return s&&null!=(a=e.outline)&&a.cap&&(l.patternCap=e.outline.cap),new p({material:new(0,w.Symbol3DFillMaterial)({color:(null!=(o=e.color)?o:_.transparentWhite).clone()}),pattern:e.style&&"solid"!==e.style?new(0,g.default)({style:e.style}):null,outline:l})}}]),r}(y.default);(0,u._)([(0,d.enumeration)({Fill:"fill"},{readOnly:!0})],S.prototype,"type",void 0),(0,u._)([(0,f.property)({type:w.Symbol3DFillMaterial,json:{write:!0}})],S.prototype,"material",void 0),(0,u._)([(0,f.property)(b.symbol3dPatternProperty)],S.prototype,"pattern",void 0),(0,u._)([(0,f.property)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],S.prototype,"castShadows",void 0),(0,u._)([(0,f.property)({type:x.Symbol3DOutline,json:{write:!0}})],S.prototype,"outline",void 0),(0,u._)([(0,f.property)(v.symbol3dEdgesProperty)],S.prototype,"edges",void 0);var k=S=p=(0,u._)([(0,h.subclass)("esri.symbols.FillSymbol3DLayer")],S)})),s.register("bnrJO",(function(t,r){e(t.exports,"default",(function(){return b})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("79ASa"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("bSafx"),h=s("fcwIv"),y=s("hFqQN"),v=s("9wCDe"),m=(0,c.strict)()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"}),g=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="style",n.style="solid",o.default(n)}return l.default(r,[{key:"clone",value:function(){var e={style:this.style};return new p(e)}}]),r}(y.default);(0,u._)([(0,f.property)({type:["style"]})],g.prototype,"type",void 0),(0,u._)([(0,d.enumeration)(m),(0,f.property)({type:v.lineStyles})],g.prototype,"style",void 0);var b=g=p=(0,u._)([(0,h.subclass)("esri.symbols.patterns.LineStylePattern3D")],g)})),s.register("hFqQN",(function(t,r){e(t.exports,"default",(function(){return d})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("jK9zx"),l=s("7eJjO"),u=s("1XAcN"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f=s("fcwIv"),p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){return a.default(this,r),t.call(this,e)}return o.default(r,[{key:"clone",value:function(){}}]),r}(u.JSONSupport);(0,l._)([(0,c.property)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],p.prototype,"type",void 0);var d=p=(0,l._)([(0,f.subclass)("esri.symbols.patterns.LinePattern3D")],p)})),s.register("9wCDe",(function(t,r){e(t.exports,"lineStyles",(function(){return n}));var n=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"]})),s.register("4UXsR",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("lNP87"),h=s("l4aEg"),y=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="style",n.style="solid",o.default(n)}return l.default(r,[{key:"clone",value:function(){var e={style:this.style};return new f(e)}}]),r}(d.default);(0,u._)([(0,c.property)({type:["style"]})],y.prototype,"type",void 0),(0,u._)([(0,c.property)({type:h.default,json:{read:!0,write:!0}})],y.prototype,"style",void 0);var v=y=f=(0,u._)([(0,p.subclass)("esri.symbols.patterns.StylePattern3D")],y)})),s.register("lNP87",(function(t,r){e(t.exports,"default",(function(){return d})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("jK9zx"),l=s("7eJjO"),u=s("1XAcN"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f=s("fcwIv"),p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){return a.default(this,r),t.call(this,e)}return o.default(r,[{key:"clone",value:function(){}}]),r}(u.JSONSupport);(0,l._)([(0,c.property)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],p.prototype,"type",void 0);var d=p=(0,l._)([(0,f.subclass)("esri.symbols.patterns.Pattern3D")],p)})),s.register("l4aEg",(function(t,r){e(t.exports,"default",(function(){return n}));var n=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"]})),s.register("9nt9h",(function(t,r){e(t.exports,"symbol3dPatternProperty",(function(){return l})),e(t.exports,"symbol3dLinePatternProperty",(function(){return u}));var n=s("hFqQN"),i=s("bnrJO"),a=s("lNP87"),o=s("4UXsR"),l={types:{key:"type",base:a.default,typeMap:{style:o.default}},json:{write:!0}},u={types:{key:"type",base:n.default,typeMap:{style:i.default}},json:{write:!0}}})),s.register("kG9wS",(function(t,r){e(t.exports,"white",(function(){return i})),e(t.exports,"transparentWhite",(function(){return a})),e(t.exports,"isBlack",(function(){return o}));var n=s("jgs9n"),i=new(0,n.default)("white"),a=(new(0,n.default)("black"),new(0,n.default)([255,255,255,0]));function o(e){return 0===e.r&&0===e.g&&0===e.b}})),s.register("lYdTH",(function(t,r){e(t.exports,"Symbol3DFillMaterial",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("7qybv");s("jHOLN"),s("iJAIC"),s("lNwWH"),s("2VlWd"),s("62edV");var f,p=s("bSafx"),d=s("fcwIv"),h=s("8Ja5q"),y=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).colorMixMode=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){var e={color:(0,c.isSome)(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new f(e)}}]),r}(h.Symbol3DMaterial);(0,u._)([(0,p.enumeration)({multiply:"multiply",replace:"replace",tint:"tint"})],y.prototype,"colorMixMode",void 0),y=f=(0,u._)([(0,d.subclass)("esri.symbols.support.Symbol3DFillMaterial")],y)})),s.register("hNYoE",(function(t,r){e(t.exports,"Symbol3DOutline",(function(){return _})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jgs9n"),f=s("1XAcN"),p=s("7qybv"),d=s("iXlXu"),h=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var y,v=s("fcwIv"),m=s("9nt9h"),g=s("lKMFz"),b=s("h9pmV"),_=y=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).color=new(0,c.default)([0,0,0,1]),n.size=(0,d.px2pt)(1),n.pattern=null,n.patternCap="butt",o.default(n)}return l.default(r,[{key:"clone",value:function(){var e={color:(0,p.isSome)(this.color)?this.color.clone():null,size:this.size,pattern:(0,p.isSome)(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new y(e)}}]),r}(f.JSONSupport);(0,u._)([(0,h.property)(g.colorAndTransparencyProperty)],_.prototype,"color",void 0),(0,u._)([(0,h.property)(g.screenSizeProperty)],_.prototype,"size",void 0),(0,u._)([(0,h.property)(m.symbol3dLinePatternProperty)],_.prototype,"pattern",void 0),(0,u._)([(0,h.property)({type:b.lineCaps,json:{default:"butt",write:{overridePolicy:function(){return{enabled:(0,p.isSome)(this.pattern)}}}}})],_.prototype,"patternCap",void 0),_=y=(0,u._)([(0,v.subclass)("esri.symbols.support.Symbol3DOutline")],_)})),s.register("h9pmV",(function(t,r){e(t.exports,"objectSymbolLayerSizeWithResourceSize",(function(){return o})),e(t.exports,"objectSymbolLayerPrimitiveBoundingBox",(function(){return f})),e(t.exports,"lineCaps",(function(){return p})),e(t.exports,"pathCaps",(function(){return d})),e(t.exports,"lineJoins",(function(){return h})),s("8TSCy");var n=s("5Vgx8");s("2VlWd");var i=s("5YMIf"),a=s("ayLat");function o(e,t){var r=t.isPrimitive,n=t.width,a=t.depth,o=t.height,s=r?10:1;if(null==n&&null==o&&null==a)return[s*e[0],s*e[1],s*e[2]];for(var l,u=(0,i.f)(n,a,o),c=0;c<3;c++){var f=u[c];if(null!=f){l=f/e[c];break}}for(var p=0;p<3;p++)null==u[p]&&(u[p]=e[p]*l);return u}var l=(0,a.fromValues)(-.5,-.5,-.5,.5,.5,.5),u=(0,a.fromValues)(-.5,-.5,0,.5,.5,1),c=(0,a.fromValues)(-.5,-.5,0,.5,.5,.5);function f(e){switch(e){case"sphere":case"cube":case"diamond":return l;case"cylinder":case"cone":case"inverted-cone":return u;case"tetrahedron":return c;default:return}}var p=["butt","square","round"],d=n.default(p).concat(["none"]),h=["miter","bevel","round"]})),s.register("ayLat",(function(t,r){e(t.exports,"create",(function(){return i})),e(t.exports,"fromValues",(function(){return a})),e(t.exports,"expandWithAABB",(function(){return o})),e(t.exports,"expandWithVec3",(function(){return l})),e(t.exports,"expandWithNestedArray",(function(){return u})),e(t.exports,"size",(function(){return d})),e(t.exports,"setMin",(function(){return h})),e(t.exports,"setMax",(function(){return y})),e(t.exports,"set",(function(){return v})),e(t.exports,"empty",(function(){return m})),e(t.exports,"NEGATIVE_INFINITY",(function(){return w})),e(t.exports,"fromRect",(function(){return g})),e(t.exports,"equals",(function(){return _}));var n=s("7qybv");s("gINRd"),s("8TwEW");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;return[e[0],e[1],e[2],e[3],e[4],e[5]]}function a(e,t,r,n,a,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:i();return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s[4]=a,s[5]=o,s}function o(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function l(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function u(e,t,r){var n=t.length,i=e[0],a=e[1],o=e[2],s=e[3],l=e[4],u=e[5];if(r)for(var c=0;c<n;c++){var f=t[c];i=Math.min(i,f[0]),a=Math.min(a,f[1]),o=Math.min(o,f[2]),s=Math.max(s,f[0]),l=Math.max(l,f[1]),u=Math.max(u,f[2])}else for(var p=0;p<n;p++){var d=t[p];i=Math.min(i,d[0]),a=Math.min(a,d[1]),s=Math.max(s,d[0]),l=Math.max(l,d[1])}e[0]=i,e[1]=a,e[2]=o,e[3]=s,e[4]=l,e[5]=u}function c(e){return e[0]>=e[3]?0:e[3]-e[0]}function f(e){return e[1]>=e[4]?0:e[4]-e[1]}function p(e){return e[2]>=e[5]?0:e[5]-e[2]}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return t[0]=c(e),t[1]=f(e),t[2]=p(e),t}function h(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function y(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function v(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function m(e){return e?v(e,w):i(w)}function g(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function b(e){return 6===e.length}function _(e,t,r){if((0,n.isNone)(e)||(0,n.isNone)(t))return e===t;if(!b(e)||!b(t))return!1;if(r){for(var i=0;i<e.length;i++)if(!r(e[i],t[i]))return!1}else for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}var w=[1/0,1/0,1/0,-1/0,-1/0,-1/0],x=[0,0,0,0,0,0];i()})),s.register("8TwEW",(function(t,r){e(t.exports,"create",(function(){return a})),e(t.exports,"clone",(function(){return o})),e(t.exports,"copy",(function(){return l})),e(t.exports,"fromValues",(function(){return u})),e(t.exports,"fromExtent",(function(){return c})),e(t.exports,"toExtent",(function(){return f})),e(t.exports,"expandPointInPlace",(function(){return p})),e(t.exports,"expand",(function(){return d})),e(t.exports,"expandWithNestedArray",(function(){return h})),e(t.exports,"width",(function(){return y})),e(t.exports,"height",(function(){return v})),e(t.exports,"area",(function(){return m})),e(t.exports,"containsPointWithMargin",(function(){return g})),e(t.exports,"intersects",(function(){return b})),e(t.exports,"contains",(function(){return _})),e(t.exports,"empty",(function(){return w})),e(t.exports,"NEGATIVE_INFINITY",(function(){return S})),s("2VlWd");s("iVfa0");var n=s("7qybv"),i=s("gINRd");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return[e[0],e[1],e[2],e[3]]}function o(e){return[e[0],e[1],e[2],e[3]]}function l(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function u(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a();return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a();return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function f(e,t){return new(0,i.default)({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function p(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function d(e,t,r){if((0,n.isNone)(t))l(r,e);else if("length"in t)x(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}}function h(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=t.length,i=e[0],a=e[1],o=e[2],s=e[3],l=0;l<n;l++){var u=t[l];i=Math.min(i,u[0]),a=Math.min(a,u[1]),o=Math.max(o,u[0]),s=Math.max(s,u[1])}return r[0]=i,r[1]=a,r[2]=o,r[3]=s,r}function y(e){return(0,n.isNone)(e)||e[0]>=e[2]?0:e[2]-e[0]}function v(e){return e[1]>=e[3]?0:e[3]-e[1]}function m(e){return y(e)*v(e)}function g(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r}function b(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function _(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function w(e){return e?l(e,S):a(S)}function x(e){return null!=e&&4===e.length}var S=[1/0,1/0,-1/0,-1/0],k=[0,0,0,0]})),s.register("2dm3Q",(function(t,r){e(t.exports,"default",(function(){return L})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jHOLN"),f=s("7qybv"),p=s("kYueh"),d=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var h,y=s("bSafx"),v=s("fcwIv"),m=s("bhaQX"),g=s("kG9wS"),b=s("c35Oi"),_=s("lKMFz"),w=s("ibNqK"),x=s("e9yNP"),S=s("8Ja5q"),k=c.default.getLogger("esri.symbols.IconSymbol3DLayer"),T=h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).material=null,n.resource=null,n.type="icon",n.size=12,n.anchor="center",n.anchorPosition=void 0,n.outline=void 0,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new h({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:(0,f.isSome)(this.material)?this.material.clone():null,outline:(0,f.isSome)(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}}],[{key:"fromSimpleMarkerSymbol",value:function(e){var t=e.color||g.white,r=E(e),n=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||g.white).clone()}:null;return new h({size:e.size,resource:{primitive:O(e.style)},material:{color:t},outline:n,anchor:r?"relative":void 0,anchorPosition:r})}},{key:"fromPictureMarkerSymbol",value:function(e){var t=!e.color||(0,g.isBlack)(e.color)?g.white:e.color,r=E(e);return new h({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}},{key:"fromCIMSymbol",value:function(e){return new h({resource:{href:(0,p.makeData)({mediaType:"application/json",data:JSON.stringify(e.data)})}})}}]),r}(m.default);function E(e){var t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,n=I(e.xoffset),i=I(e.yoffset);return(n||i)&&t&&r?{x:-n/t,y:i/r}:null}function I(e){return isFinite(e)?e:0}(0,u._)([(0,d.property)({type:S.Symbol3DMaterial,json:{write:!0}})],T.prototype,"material",void 0),(0,u._)([(0,d.property)({type:b.IconSymbol3DLayerResource,json:{write:!0}})],T.prototype,"resource",void 0),(0,u._)([(0,y.enumeration)({Icon:"icon"},{readOnly:!0})],T.prototype,"type",void 0),(0,u._)([(0,d.property)(_.screenSizeProperty)],T.prototype,"size",void 0),(0,u._)([(0,y.enumeration)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),(0,d.property)({json:{default:"center"}})],T.prototype,"anchor",void 0),(0,u._)([(0,d.property)({type:w.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:function(e){return new(0,w.Symbol3DAnchorPosition2D)({x:e[0],y:e[1]})}},write:{writer:function(e,t){t.anchorPosition=[e.x,e.y]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],T.prototype,"anchorPosition",void 0),(0,u._)([(0,d.property)({type:x.Symbol3DIconOutline,json:{write:!0}})],T.prototype,"outline",void 0),T=h=(0,u._)([(0,v.subclass)("esri.symbols.IconSymbol3DLayer")],T);var C={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function O(e){return C[e]||(k.warn("".concat(e,' cannot be mapped to Icon symbol. Fallback to "circle"')),"circle")}var L=T})),s.register("c35Oi",(function(t,r){e(t.exports,"IconSymbol3DLayerResource",(function(){return _})),e(t.exports,"defaultPrimitive",(function(){return w})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("jK9zx"),l=s("7eJjO"),u=s("79ASa"),c=s("1XAcN"),f=s("kYueh"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d,h=s("bSafx"),y=s("eB8sj"),v=s("fcwIv"),m=s("kced1"),g=s("9ELaA"),b=(0,u.strict)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"}),_=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){return a.default(this,r),t.call(this,e)}return o.default(r,[{key:"readHref",value:function(e,t,r){return e?(0,g.f)(e,r):t.dataURI}},{key:"writeHref",value:function(e,t,r,n){e&&((0,f.isDataProtocol)(e)?t.dataURI=e:(t.href=(0,g.t)(e,n),(0,f.isAbsolute)(t.href)&&(t.href=(0,f.normalize)(t.href))))}},{key:"clone",value:function(){return new d({href:this.href,primitive:this.primitive})}}]),r}(c.JSONSupport);(0,l._)([(0,p.property)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],_.prototype,"href",void 0),(0,l._)([(0,y.reader)("href")],_.prototype,"readHref",null),(0,l._)([(0,m.writer)("href",{href:{type:String},dataURI:{type:String}})],_.prototype,"writeHref",null),(0,l._)([(0,h.enumeration)(b)],_.prototype,"primitive",void 0),_=d=(0,l._)([(0,v.subclass)("esri.symbols.support.IconSymbol3DLayerResource")],_);var w="circle"})),s.register("ibNqK",(function(t,r){e(t.exports,"Symbol3DAnchorPosition2D",(function(){return h})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jymfC"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).x=0,e.y=0,o.default(e)}return l.default(r,[{key:"clone",value:function(){return new p({x:this.x,y:this.y})}}]),r}(c.default);(0,u._)([(0,f.property)({type:Number})],h.prototype,"x",void 0),(0,u._)([(0,f.property)({type:Number})],h.prototype,"y",void 0),h=p=(0,u._)([(0,d.subclass)("esri.symbols.support.Symbol3DAnchorPosition2D")],h)})),s.register("e9yNP",(function(t,r){e(t.exports,"Symbol3DIconOutline",(function(){return g})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jgs9n"),f=s("1XAcN"),p=s("7qybv"),d=s("iXlXu"),h=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var y,v=s("fcwIv"),m=s("lKMFz"),g=y=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).color=new(0,c.default)([0,0,0,1]),n.size=(0,d.px2pt)(1),o.default(n)}return l.default(r,[{key:"clone",value:function(){var e={color:(0,p.isSome)(this.color)?this.color.clone():null,size:this.size};return new y(e)}}]),r}(f.JSONSupport);(0,u._)([(0,h.property)(m.colorAndTransparencyProperty)],g.prototype,"color",void 0),(0,u._)([(0,h.property)(m.screenSizeProperty)],g.prototype,"size",void 0),g=y=(0,u._)([(0,v.subclass)("esri.symbols.support.Symbol3DIconOutline")],g)})),s.register("b1Ydy",(function(t,r){e(t.exports,"default",(function(){return T})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("7qybv"),f=s("iXlXu"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d,h=s("bSafx"),y=s("fcwIv"),v=s("42bA2"),m=s("bhaQX"),g=s("bnrJO"),b=s("9nt9h"),_=s("kG9wS"),w=s("lKMFz"),x=s("8Ja5q"),S=s("h9pmV"),k=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).material=null,n.type="line",n.join="miter",n.cap="butt",n.size=(0,f.px2pt)(1),n.pattern=null,n.marker=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){var e={enabled:this.enabled,material:(0,c.isSome)(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:(0,c.isSome)(this.pattern)?this.pattern.clone():null,marker:(0,c.isSome)(this.marker)?this.marker.clone():null};return new d(e)}}],[{key:"fromSimpleLineSymbol",value:function(e){var t,r,n,i={enabled:!0,size:null!=(t=e.width)?t:(0,f.px2pt)(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&"inside-frame"!==e.style?new(0,g.default)({style:e.style}):null,material:new(0,x.Symbol3DMaterial)({color:(e.color||_.white).clone()}),marker:e.marker?new(0,v.default)({placement:e.marker.placement,style:e.marker.style,color:null!=(r=null==(n=e.marker.color)?void 0:n.clone())?r:null}):null};return new d(i)}}]),r}(m.default);(0,u._)([(0,p.property)({type:x.Symbol3DMaterial,json:{write:!0}})],k.prototype,"material",void 0),(0,u._)([(0,h.enumeration)({Line:"line"},{readOnly:!0})],k.prototype,"type",void 0),(0,u._)([(0,p.property)({type:S.lineJoins,json:{write:!0,default:"miter"}})],k.prototype,"join",void 0),(0,u._)([(0,p.property)({type:S.lineCaps,json:{write:!0,default:"butt"}})],k.prototype,"cap",void 0),(0,u._)([(0,p.property)(w.screenSizeProperty)],k.prototype,"size",void 0),(0,u._)([(0,p.property)(b.symbol3dLinePatternProperty)],k.prototype,"pattern",void 0),(0,u._)([(0,p.property)({types:{key:"type",base:v.default,typeMap:{style:v.default}},json:{write:!0}})],k.prototype,"marker",void 0);var T=k=d=(0,u._)([(0,y.subclass)("esri.symbols.LineSymbol3DLayer")],k)})),s.register("42bA2",(function(t,r){e(t.exports,"default",(function(){return b})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jgs9n"),f=s("3SeOo"),p=s("1XAcN"),d=s("7qybv"),h=s("iho5X");s("lNwWH"),s("2VlWd");var y=s("iJAIC"),v=s("fcwIv"),m=s("goGNn"),g=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="style",n.placement="begin-end",n.style="arrow",n.color=null,o.default(n)}return l.default(r,[{key:"equals",value:function(e){return(0,d.isSome)(e)&&e.placement===this.placement&&e.style===this.style&&((0,d.isNone)(this.color)&&(0,d.isNone)(e.color)||(0,d.isSome)(this.color)&&(0,d.isSome)(e.color)&&this.color.toJSON()===e.color.toJSON())}}]),r}((0,f.ClonableMixin)(p.JSONSupport));(0,u._)([(0,h.property)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],g.prototype,"type",void 0),(0,u._)([(0,h.property)({type:m.lineMarkerPlacements,json:{default:"begin-end",write:!0}})],g.prototype,"placement",void 0),(0,u._)([(0,h.property)({type:m.lineMarkerStyles,json:{default:"arrow",write:!0}})],g.prototype,"style",void 0),(0,u._)([(0,h.property)({type:c.default,json:{type:[y.Integer],default:null,write:!0}})],g.prototype,"color",void 0);var b=g=(0,u._)([(0,v.subclass)("esri.symbols.LineStyleMarker3D")],g)})),s.register("3SeOo",(function(t,r){e(t.exports,"ClonableMixin",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("jK9zx"),l=s("iCnzh"),u=s("7eJjO"),c=s("jymfC");s("2VlWd");var f=s("flPLJ"),p=s("jHOLN"),d=s("7qybv"),h=s("Ej9Ns"),y=s("5h4Y4"),v=s("fcwIv");p.default.getLogger("esri.core.Clonable");var m=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,[{key:"clone",value:function(){var e=(0,d.unwrapOrThrow)((0,y.getProperties)(this),"unable to clone instance of non-accessor class"),t=e.metadatas,r=e.store,n={},i=new Map;for(var a in t){var o=t[a],s=null==r?void 0:r.originOf(a),u=o.clonable;if(!(o.readOnly||!1===u||s!==h.OriginId.USER&&s!==h.OriginId.DEFAULTS&&s!==h.OriginId.WEB_MAP&&s!==h.OriginId.WEB_SCENE)){var c,p=this[a];c="function"==typeof u?u(p):"reference"===u?p:(0,f.tryClone)(p),null!=p&&null==c||(s===h.OriginId.DEFAULTS?i.set(a,c):n[a]=c)}}var v=new(Object.getPrototypeOf(this).constructor)(n);if(i.size){var m,g=null==(m=(0,y.getProperties)(v))?void 0:m.store,b=!0,_=!1,w=void 0;if(g)try{for(var x,S=i[Symbol.iterator]();!(b=(x=S.next()).done);b=!0){var k=l.default(x.value,2),T=k[0],E=k[1];g.set(T,E,h.OriginId.DEFAULTS)}}catch(e){_=!0,w=e}finally{try{b||null==S.return||S.return()}finally{if(_)throw w}}}return v}}]),r}(e);return t=(0,u._)([(0,v.subclass)("esri.core.Clonable")],t)},g=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return r}(m(c.default));g=(0,u._)([(0,v.subclass)("esri.core.Clonable")],g)})),s.register("goGNn",(function(t,r){e(t.exports,"lineMarkerPlacements",(function(){return n})),e(t.exports,"lineMarkerStyles",(function(){return i}));var n=["begin","end","begin-end"],i=["arrow","circle","square","diamond","cross","x"]})),s.register("h5Ux5",(function(t,r){e(t.exports,"default",(function(){return _})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("7qybv"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("bSafx"),h=s("fcwIv"),y=s("bhaQX"),v=s("5craB"),m=s("i29m9"),g=s("8Ja5q"),b=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).material=null,n.castShadows=!0,n.resource=null,n.type="object",n.width=void 0,n.height=void 0,n.depth=void 0,n.anchor=void 0,n.anchorPosition=void 0,n.heading=void 0,n.tilt=void 0,n.roll=void 0,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:(0,c.isSome)(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}},{key:"isPrimitive",get:function(){return!this.resource||"string"!=typeof this.resource.href}}]),r}(y.default);(0,u._)([(0,f.property)({type:g.Symbol3DMaterial,json:{write:!0}})],b.prototype,"material",void 0),(0,u._)([(0,f.property)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0),(0,u._)([(0,f.property)({type:v.ObjectSymbol3DLayerResource,json:{write:!0}})],b.prototype,"resource",void 0),(0,u._)([(0,d.enumeration)({Object:"object"},{readOnly:!0})],b.prototype,"type",void 0),(0,u._)([(0,f.property)({type:Number,json:{write:!0}})],b.prototype,"width",void 0),(0,u._)([(0,f.property)({type:Number,json:{write:!0}})],b.prototype,"height",void 0),(0,u._)([(0,f.property)({type:Number,json:{write:!0}})],b.prototype,"depth",void 0),(0,u._)([(0,d.enumeration)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),(0,f.property)({json:{default:"origin"}})],b.prototype,"anchor",void 0),(0,u._)([(0,f.property)({type:m.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:function(e){return new(0,m.Symbol3DAnchorPosition3D)({x:e[0],y:e[1],z:e[2]})}},write:{writer:function(e,t){t.anchorPosition=[e.x,e.y,e.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0),(0,u._)([(0,f.property)({type:Number,json:{write:!0}})],b.prototype,"heading",void 0),(0,u._)([(0,f.property)({type:Number,json:{write:!0}})],b.prototype,"tilt",void 0),(0,u._)([(0,f.property)({type:Number,json:{write:!0}})],b.prototype,"roll",void 0),(0,u._)([(0,f.property)({readOnly:!0})],b.prototype,"isPrimitive",null);var _=b=p=(0,u._)([(0,h.subclass)("esri.symbols.ObjectSymbol3DLayer")],b)})),s.register("5craB",(function(t,r){e(t.exports,"ObjectSymbol3DLayerResource",(function(){return m})),e(t.exports,"defaultPrimitive",(function(){return g})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("jK9zx"),l=s("7eJjO"),u=s("79ASa"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("bSafx"),h=s("fcwIv"),y=s("9ELaA"),v=(0,u.strict)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"}),m=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,[{key:"clone",value:function(){return new p({href:this.href,primitive:this.primitive})}}]),r}(c.JSONSupport);(0,l._)([(0,f.property)({type:String,json:{read:y.r,write:y.w}})],m.prototype,"href",void 0),(0,l._)([(0,d.enumeration)(v)],m.prototype,"primitive",void 0),m=p=(0,l._)([(0,h.subclass)("esri.symbols.support.ObjectSymbol3DLayerResource")],m);var g="sphere"})),s.register("i29m9",(function(t,r){e(t.exports,"Symbol3DAnchorPosition3D",(function(){return h})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jymfC"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).x=0,e.y=0,e.z=0,o.default(e)}return l.default(r,[{key:"clone",value:function(){return new p({x:this.x,y:this.y,z:this.z})}}]),r}(c.default);(0,u._)([(0,f.property)({type:Number})],h.prototype,"x",void 0),(0,u._)([(0,f.property)({type:Number})],h.prototype,"y",void 0),(0,u._)([(0,f.property)({type:Number})],h.prototype,"z",void 0),h=p=(0,u._)([(0,d.subclass)("esri.symbols.support.Symbol3DAnchorPosition3D")],h)})),s.register("3FOE9",(function(t,r){e(t.exports,"default",(function(){return _})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("7qybv"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("bSafx"),h=s("eB8sj"),y=s("fcwIv"),v=s("bhaQX"),m=s("8Ja5q"),g=s("h9pmV"),b=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).material=null,n.castShadows=!0,n.type="path",n.profile="circle",n.join="miter",n.cap="butt",n.width=void 0,n.height=void 0,n.anchor="center",n.profileRotation="all",o.default(n)}return l.default(r,[{key:"readWidth",value:function(e,t){return null!=e?e:null==t.height&&null!=t.size?t.size:void 0}},{key:"readHeight",value:function(e,t){return null!=e?e:null==t.width&&null!=t.size?t.size:void 0}},{key:"clone",value:function(){return new p({enabled:this.enabled,material:(0,c.isSome)(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}}]),r}(v.default);(0,u._)([(0,f.property)({type:m.Symbol3DMaterial,json:{write:!0}})],b.prototype,"material",void 0),(0,u._)([(0,f.property)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0),(0,u._)([(0,d.enumeration)({Path:"path"},{readOnly:!0})],b.prototype,"type",void 0),(0,u._)([(0,f.property)({type:["circle","quad"],json:{write:!0,default:"circle"}})],b.prototype,"profile",void 0),(0,u._)([(0,f.property)({type:g.lineJoins,json:{write:!0,default:"miter"}})],b.prototype,"join",void 0),(0,u._)([(0,f.property)({type:g.pathCaps,json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0),(0,u._)([(0,f.property)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],b.prototype,"width",void 0),(0,u._)([(0,h.reader)("width",["width","size","height"])],b.prototype,"readWidth",null),(0,u._)([(0,f.property)({type:Number,json:{write:!0}})],b.prototype,"height",void 0),(0,u._)([(0,h.reader)("height",["height","size","width"])],b.prototype,"readHeight",null),(0,u._)([(0,f.property)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],b.prototype,"anchor",void 0),(0,u._)([(0,f.property)({type:["heading","all"],json:{write:!0,default:"all"}})],b.prototype,"profileRotation",void 0);var _=b=p=(0,u._)([(0,y.subclass)("esri.symbols.PathSymbol3DLayer")],b)})),s.register("gRFMr",(function(t,r){e(t.exports,"default",(function(){return E})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("ifq4M"),c=s("7eJjO"),f=s("flPLJ"),p=s("7qybv"),d=s("iho5X");s("iJAIC");var h,y=s("bSafx"),v=s("fcwIv"),m=s("kced1"),g=s("iOkFF"),b=s("bhaQX"),_=s("lKMFz"),w=s("lz7b0"),x=s("8Ja5q"),S=s("75q3C"),k=s("3wxMb"),T=h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e))._userSize=void 0,n.halo=null,n.horizontalAlignment="center",n.lineHeight=1,n.material=null,n.background=null,n.text=null,n.type="text",n.verticalAlignment="baseline",o.default(n)}return l.default(r,[{key:"font",get:function(){return this._get("font")||null},set:function(e){(0,p.isSome)(e)&&(0,p.isSome)(this._userSize)&&(e.size=this._userSize),this._set("font",e)}},{key:"writeFont",value:function(e,t,r,n){var i=u.default({},n,{textSymbol3D:!0});t.font=e.write({},i),delete t.font.size}},{key:"size",get:function(){return(0,p.isSome)(this._userSize)?this._userSize:(0,p.isSome)(this.font)&&null!=this.font.size?this.font.size:9},set:function(e){this._userSize=e,(0,p.isSome)(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}},{key:"clone",value:function(){var e=new h({enabled:this.enabled,font:this.font&&(0,f.clone)(this.font),halo:this.halo&&(0,f.clone)(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:(0,p.isSome)(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:(0,f.clone)(this.background)});return e._userSize=this._userSize,e}}],[{key:"fromTextSymbol",value:function(e){return new h({font:(0,p.isSome)(e.font)?e.font.clone():new(0,g.default),halo:(t=e.haloColor,r=e.haloSize,t&&r>0?new(0,w.Symbol3DHalo)({color:(0,f.clone)(t),size:r}):null),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new(0,x.Symbol3DMaterial)({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new(0,S.Symbol3DTextBackground)({color:e.backgroundColor.clone()}):null});var t,r}}]),r}(b.default);(0,c._)([(0,d.property)({type:g.default,json:{write:!0}})],T.prototype,"font",null),(0,c._)([(0,m.writer)("font")],T.prototype,"writeFont",null),(0,c._)([(0,d.property)({type:w.Symbol3DHalo,json:{write:!0}})],T.prototype,"halo",void 0),(0,c._)([(0,d.property)(u.default({},k.horizontalAlignmentProperty3D,{json:{default:"center",write:!0}}))],T.prototype,"horizontalAlignment",void 0),(0,c._)([(0,d.property)(u.default({},k.lineHeightProperty,{json:{default:1,write:!0}}))],T.prototype,"lineHeight",void 0),(0,c._)([(0,d.property)({type:x.Symbol3DMaterial,json:{write:!0}})],T.prototype,"material",void 0),(0,c._)([(0,d.property)({type:S.Symbol3DTextBackground,json:{write:!0}})],T.prototype,"background",void 0),(0,c._)([(0,d.property)(_.screenSizeProperty)],T.prototype,"size",null),(0,c._)([(0,d.property)({type:String,json:{write:!0}})],T.prototype,"text",void 0),(0,c._)([(0,y.enumeration)({Text:"text"},{readOnly:!0})],T.prototype,"type",void 0),(0,c._)([(0,d.property)(u.default({},k.verticalAlignmentProperty,{json:{default:"baseline",write:!0}}))],T.prototype,"verticalAlignment",void 0);var E=T=h=(0,c._)([(0,v.subclass)("esri.symbols.TextSymbol3DLayer")],T)})),s.register("iOkFF",(function(t,r){e(t.exports,"default",(function(){return g})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iXlXu"),p=s("iho5X");s("lNwWH"),s("2VlWd");var d,h=s("ba18L"),y=s("fcwIv"),v=s("3wxMb"),m=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).decoration="none",n.family="sans-serif",n.size=9,n.style="normal",n.weight="normal",o.default(n)}return l.default(r,[{key:"castSize",value:function(e){return(0,f.toPt)(e)}},{key:"clone",value:function(){return new d({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}},{key:"hash",value:function(){return"".concat(this.decoration,".").concat(this.family,".").concat(this.size,".").concat(this.style,".").concat(this.weight)}}]),r}(c.JSONSupport);(0,u._)([(0,p.property)({type:v.FONT_DECORATIONS,json:{default:"none",write:!0}})],m.prototype,"decoration",void 0),(0,u._)([(0,p.property)({type:String,json:{write:!0}})],m.prototype,"family",void 0),(0,u._)([(0,p.property)({type:Number,json:{write:{overridePolicy:function(e,t,r){return{enabled:!r||!r.textSymbol3D}}}}})],m.prototype,"size",void 0),(0,u._)([(0,h.cast)("size")],m.prototype,"castSize",null),(0,u._)([(0,p.property)({type:v.FONT_STYLES,json:{default:"normal",write:!0}})],m.prototype,"style",void 0),(0,u._)([(0,p.property)({type:v.FONT_WEIGHTS,json:{default:"normal",write:!0}})],m.prototype,"weight",void 0);var g=m=d=(0,u._)([(0,y.subclass)("esri.symbols.Font")],m)})),s.register("3wxMb",(function(t,r){e(t.exports,"FONT_DECORATIONS",(function(){return a})),e(t.exports,"FONT_STYLES",(function(){return o})),e(t.exports,"FONT_WEIGHTS",(function(){return l})),e(t.exports,"lineHeightProperty",(function(){return u})),e(t.exports,"horizontalAlignmentProperty",(function(){return c})),e(t.exports,"horizontalAlignmentProperty3D",(function(){return f})),e(t.exports,"verticalAlignmentProperty",(function(){return p}));var n=s("iVfa0"),i=s("iJAIC"),a=["none","underline","line-through"],o=["normal","italic","oblique"],l=["normal","lighter","bold","bolder"],u={type:Number,cast:function(e){var t=(0,i.ensureNumber)(e);return 0===t?1:(0,n.clamp)(t,.1,4)},nonNullable:!0},c={type:["left","right","center","justify"],nonNullable:!0},f={type:["left","right","center"],nonNullable:!0},p={type:["baseline","top","middle","bottom"],nonNullable:!0}})),s.register("lz7b0",(function(t,r){e(t.exports,"Symbol3DHalo",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jgs9n"),f=s("1XAcN"),p=s("flPLJ"),d=s("iho5X");s("iJAIC");var h,y=s("fcwIv"),v=s("lKMFz"),m=h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).color=new(0,c.default)([0,0,0,1]),e.size=0,o.default(e)}return l.default(r,[{key:"clone",value:function(){var e={color:(0,p.clone)(this.color),size:this.size};return new h(e)}}]),r}(f.JSONSupport);(0,u._)([(0,d.property)(v.colorAndTransparencyProperty)],m.prototype,"color",void 0),(0,u._)([(0,d.property)(v.screenSizeProperty)],m.prototype,"size",void 0),m=h=(0,u._)([(0,y.subclass)("esri.symbols.support.Symbol3DHalo")],m)})),s.register("75q3C",(function(t,r){e(t.exports,"Symbol3DTextBackground",(function(){return h})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("3SeOo"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p=s("fcwIv"),d=s("lKMFz"),h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).color=null,o.default(n)}return r}((0,u.ClonableMixin)(c.JSONSupport));(0,l._)([(0,f.property)(d.colorAndTransparencyProperty)],h.prototype,"color",void 0),h=(0,l._)([(0,p.subclass)("esri.symbols.support.Symbol3DTextBackground")],h)})),s.register("8EuSL",(function(t,r){e(t.exports,"default",(function(){return _})),s("8TSCy");var n,i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("7eJjO"),f=s("jgs9n"),p=s("flPLJ"),d=s("iho5X"),h=s("iJAIC"),y=s("bSafx"),v=s("fcwIv"),m=s("bhaQX"),g=n=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).color=b.clone(),n.type="water",n.waterbodySize="medium",n.waveDirection=null,n.waveStrength="moderate",l.default(n)}return u.default(r,[{key:"clone",value:function(){return new n({color:(0,p.clone)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}}]),r}(m.default);(0,c._)([(0,d.property)({type:f.default,nonNullable:!0,json:{type:[h.Integer],write:function(e,t,r){return t[r]=e.toArray(f.default.AlphaMode.UNLESS_OPAQUE)},default:function(){return b.clone()},defaultEquals:function(e){return e.toCss(!0)===b.toCss(!0)}}})],g.prototype,"color",void 0),(0,c._)([(0,y.enumeration)({Water:"water"},{readOnly:!0})],g.prototype,"type",void 0),(0,c._)([(0,d.property)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],g.prototype,"waterbodySize",void 0),(0,c._)([(0,d.property)({type:Number,json:{write:!0,default:null}})],g.prototype,"waveDirection",void 0),(0,c._)([(0,d.property)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],g.prototype,"waveStrength",void 0),g=n=(0,c._)([(0,v.subclass)("esri.symbols.WaterSymbol3DLayer")],g);var b=new(0,f.default)([0,119,190]),_=g})),s.register("97VC5",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jymfC"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=s("ajJOT"),y=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).portal=null,o.default(e)}return l.default(r,[{key:"clone",value:function(){return new p({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}}]),r}(c.default);(0,u._)([(0,f.property)({type:String})],y.prototype,"name",void 0),(0,u._)([(0,f.property)({type:String})],y.prototype,"styleUrl",void 0),(0,u._)([(0,f.property)({type:String})],y.prototype,"styleName",void 0),(0,u._)([(0,f.property)({type:h.default})],y.prototype,"portal",void 0);var v=y=p=(0,u._)([(0,d.subclass)("esri.symbols.support.StyleOrigin")],y)})),s.register("3Hb4Y",(function(t,r){e(t.exports,"Thumbnail",(function(){return d})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("jK9zx"),l=s("7eJjO"),u=s("jymfC"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,[{key:"clone",value:function(){return new f({url:this.url})}}]),r}(u.default);(0,l._)([(0,c.property)({type:String})],d.prototype,"url",void 0),d=f=(0,l._)([(0,p.subclass)("esri.symbols.support.Thumbnail")],d)})),s.register("i6U30",(function(t,r){e(t.exports,"hasVisibleVerticalOffset",(function(){return a})),e(t.exports,"hasVisibleCallout",(function(){return o})),e(t.exports,"calloutProperty",(function(){return l}));var n=s("8MV7l"),i=s("bG19W");function a(e){if(!e)return!1;var t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength<=0)}function o(e){if(!e)return!1;if(!e.supportsCallout||!e.supportsCallout())return!1;var t=e.callout;return!!t&&!!t.visible&&!!a(e)}var l={types:{key:"type",base:n.default,typeMap:{line:i.default}},json:{write:!0}}})),s.register("8MV7l",(function(t,r){e(t.exports,"default",(function(){return h})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p=s("fcwIv"),d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).visible=!0,o.default(n)}return l.default(r,[{key:"clone",value:function(){}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],d.prototype,"type",void 0),(0,u._)([(0,f.property)({readOnly:!0})],d.prototype,"visible",void 0);var h=d=(0,u._)([(0,p.subclass)("esri.symbols.callouts.Callout3D")],d)})),s.register("bG19W",(function(t,r){e(t.exports,"default",(function(){return x})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jgs9n"),f=s("flPLJ"),p=s("7qybv"),d=s("iXlXu"),h=s("iho5X");s("iJAIC");var y,v=s("bSafx"),m=s("fcwIv"),g=s("8MV7l"),b=s("fHBtj"),_=s("lKMFz"),w=y=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="line",n.color=new(0,c.default)([0,0,0,1]),n.size=(0,d.px2pt)(1),n.border=null,o.default(n)}return l.default(r,[{key:"visible",get:function(){return this.size>0&&(0,p.isSome)(this.color)&&this.color.a>0}},{key:"clone",value:function(){return new y({color:(0,f.clone)(this.color),size:this.size,border:(0,f.clone)(this.border)})}}]),r}(g.default);(0,u._)([(0,v.enumeration)({line:"line"},{readOnly:!0})],w.prototype,"type",void 0),(0,u._)([(0,h.property)(_.colorAndTransparencyProperty)],w.prototype,"color",void 0),(0,u._)([(0,h.property)(_.screenSizeProperty)],w.prototype,"size",void 0),(0,u._)([(0,h.property)({type:b.a,json:{write:!0}})],w.prototype,"border",void 0),(0,u._)([(0,h.property)({readOnly:!0})],w.prototype,"visible",null);var x=w=y=(0,u._)([(0,m.subclass)("esri.symbols.callouts.LineCallout3D")],w)})),s.register("fHBtj",(function(t,r){e(t.exports,"a",(function(){return g})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jgs9n"),f=s("1XAcN"),p=s("flPLJ"),d=s("iho5X");s("iJAIC");var h,y=s("fcwIv"),v=s("lKMFz"),m=h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).color=new(0,c.default)("white"),o.default(e)}return l.default(r,[{key:"clone",value:function(){return new h({color:(0,p.clone)(this.color)})}}]),r}(f.JSONSupport);(0,u._)([(0,d.property)(v.colorAndTransparencyProperty)],m.prototype,"color",void 0);var g=m=h=(0,u._)([(0,y.subclass)("esri.symbols.callouts.LineCallout3DBorder")],m);Object.freeze({__proto__:null,get LineCallout3DBorder(){return m},default:g})})),s.register("f3rsq",(function(t,r){e(t.exports,"Symbol3DVerticalOffset",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=s("lKMFz"),y=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).screenLength=0,e.minWorldLength=0,o.default(e)}return l.default(r,[{key:"clone",value:function(){return new p({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)(h.screenSizeProperty)],y.prototype,"screenLength",void 0),(0,u._)([(0,f.property)({type:Number,json:{write:!0,default:0}})],y.prototype,"minWorldLength",void 0),(0,u._)([(0,f.property)({type:Number,json:{write:!0}})],y.prototype,"maxWorldLength",void 0),y=p=(0,u._)([(0,d.subclass)("esri.symbols.support.Symbol3DVerticalOffset")],y)})),s.register("bo3au",(function(t,r){e(t.exports,"default",(function(){return x})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("d2yMj"),f=s("flPLJ"),p=s("iho5X");s("iJAIC");var d,h=s("bSafx"),y=s("fcwIv"),v=s("b1Ydy"),m=s("3FOE9"),g=s("7PS5g"),b=c.default.ofType({base:null,key:"type",typeMap:{line:v.default,path:m.default}}),_=c.default.ofType({base:null,key:"type",typeMap:{line:v.default,path:m.default}}),w=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).symbolLayers=new b,n.type="line-3d",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new d({styleOrigin:(0,f.clone)(this.styleOrigin),symbolLayers:(0,f.clone)(this.symbolLayers),thumbnail:(0,f.clone)(this.thumbnail)})}}],[{key:"fromSimpleLineSymbol",value:function(e){return new d({symbolLayers:[v.default.fromSimpleLineSymbol(e)]})}}]),r}(g.default);(0,u._)([(0,p.property)({type:b,json:{type:_}})],w.prototype,"symbolLayers",void 0),(0,u._)([(0,h.enumeration)({LineSymbol3D:"line-3d"},{readOnly:!0})],w.prototype,"type",void 0);var x=w=d=(0,u._)([(0,y.subclass)("esri.symbols.LineSymbol3D")],w)})),s.register("ht9M1",(function(t,r){e(t.exports,"default",(function(){return _})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("d2yMj"),f=s("flPLJ"),p=s("iho5X");s("iJAIC");var d,h=s("bSafx"),y=s("fcwIv"),v=s("iI9TW"),m=s("7PS5g"),g=c.default.ofType({base:null,key:"type",typeMap:{fill:v.default}}),b=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).symbolLayers=new g,n.type="mesh-3d",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new d({styleOrigin:(0,f.clone)(this.styleOrigin),symbolLayers:(0,f.clone)(this.symbolLayers),thumbnail:(0,f.clone)(this.thumbnail)})}}]),r}(m.default);(0,u._)([(0,p.property)({type:g})],b.prototype,"symbolLayers",void 0),(0,u._)([(0,h.enumeration)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],b.prototype,"type",void 0);var _=b=d=(0,u._)([(0,y.subclass)("esri.symbols.MeshSymbol3D")],b)})),s.register("iCL6D",(function(t,r){e(t.exports,"default",(function(){return x})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("bFSSc"),u=s("jK9zx"),c=s("8atho"),f=s("aNpz9"),p=s("7eJjO"),d=s("flPLJ"),h=s("iXlXu"),y=s("iho5X");s("iJAIC");var v,m=s("bSafx"),g=s("fcwIv"),b=s("aj6xu"),_=s("knfxI"),w=v=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;return a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).type="picture-fill",s.url=null,s.xscale=1,s.yscale=1,s.width=12,s.height=12,s.xoffset=0,s.yoffset=0,s.source=null,l.default(s)}return u.default(r,[{key:"normalizeCtorArgs",value:function(e,t,r,n){if(e&&"string"!=typeof e&&null==e.imageData)return e;var i={};return e&&(i.url=e),t&&(i.outline=t),null!=r&&(i.width=(0,h.toPt)(r)),null!=n&&(i.height=(0,h.toPt)(n)),i}},{key:"clone",value:function(){var e=new v({color:(0,d.clone)(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",(0,d.clone)(this.source)),e}},{key:"hash",value:function(){var e;return"".concat(c.default(f.default(r.prototype),"hash",this).call(this),".").concat(null==(e=this.color)?void 0:e.hash(),".").concat(this.height,".").concat(this.url,".").concat(this.width,".").concat(this.xoffset,".").concat(this.xscale,".").concat(this.yoffset,".").concat(this.yscale)}}]),r}(b.default);(0,p._)([(0,m.enumeration)({esriPFS:"picture-fill"},{readOnly:!0})],w.prototype,"type",void 0),(0,p._)([(0,y.property)(_.urlPropertyDefinition)],w.prototype,"url",void 0),(0,p._)([(0,y.property)({type:Number,json:{write:!0}})],w.prototype,"xscale",void 0),(0,p._)([(0,y.property)({type:Number,json:{write:!0}})],w.prototype,"yscale",void 0),(0,p._)([(0,y.property)({type:Number,cast:h.toPt,json:{write:!0}})],w.prototype,"width",void 0),(0,p._)([(0,y.property)({type:Number,cast:h.toPt,json:{write:!0}})],w.prototype,"height",void 0),(0,p._)([(0,y.property)({type:Number,cast:h.toPt,json:{write:!0}})],w.prototype,"xoffset",void 0),(0,p._)([(0,y.property)({type:Number,cast:h.toPt,json:{write:!0}})],w.prototype,"yoffset",void 0),(0,p._)([(0,y.property)(_.sourcePropertyDefinition)],w.prototype,"source",void 0);var x=w=v=(0,p._)([(0,g.subclass)("esri.symbols.PictureFillSymbol")],w)})),s.register("aj6xu",(function(t,r){e(t.exports,"default",(function(){return h})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f=s("fcwIv"),p=s("e6bLq"),d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).outline=null,n.type=null,o.default(n)}return l.default(r,[{key:"hash",value:function(){return"".concat(this.type,".").concat(this.outline&&this.outline.hash())}}]),r}(s("j9ZJv").default);(0,u._)([(0,c.property)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":p.default}},json:{default:null,write:!0}})],d.prototype,"outline",void 0),(0,u._)([(0,c.property)({type:["simple-fill","picture-fill"],readOnly:!0})],d.prototype,"type",void 0);var h=d=(0,u._)([(0,f.subclass)("esri.symbols.FillSymbol")],d)})),s.register("e6bLq",(function(t,r){e(t.exports,"default",(function(){return k})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("bFSSc"),u=s("jK9zx"),c=s("8atho"),f=s("aNpz9"),p=s("7eJjO"),d=s("79ASa"),h=s("flPLJ"),y=s("iXlXu"),v=s("iho5X");s("iJAIC");var m,g=s("bSafx"),b=s("fcwIv"),_=s("d0pqz"),w=s("zMsiD"),x=new(0,d.JSONMap)({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"}),S=m=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;return a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).type="simple-line",s.style="solid",s.cap="round",s.join="round",s.marker=null,s.miterLimit=2,l.default(s)}return u.default(r,[{key:"normalizeCtorArgs",value:function(e,t,r,n,i,a){if(e&&"string"!=typeof e)return e;var o={};return null!=e&&(o.style=e),null!=t&&(o.color=t),null!=r&&(o.width=(0,y.toPt)(r)),null!=n&&(o.cap=n),null!=i&&(o.join=i),null!=a&&(o.miterLimit=(0,y.toPt)(a)),o}},{key:"clone",value:function(){var e;return new m({color:(0,h.clone)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:null==(e=this.marker)?void 0:e.clone()})}},{key:"hash",value:function(){var e,t;return"".concat(c.default(f.default(r.prototype),"hash",this).call(this),".").concat(null==(e=this.color)?void 0:e.hash(),".").concat(this.style,".").concat(this.cap,".").concat(this.join,".").concat(this.miterLimit,".").concat(null==(t=this.marker)?void 0:t.hash())}}]),r}(_.default);(0,p._)([(0,g.enumeration)({esriSLS:"simple-line"},{readOnly:!0})],S.prototype,"type",void 0),(0,p._)([(0,v.property)({type:x.apiValues,json:{read:x.read,write:x.write}})],S.prototype,"style",void 0),(0,p._)([(0,v.property)({type:["butt","round","square"],json:{write:{overridePolicy:function(e,t,r){return{enabled:"round"!==e&&(null==r||null==r.origin)}}}}})],S.prototype,"cap",void 0),(0,p._)([(0,v.property)({type:["miter","round","bevel"],json:{write:{overridePolicy:function(e,t,r){return{enabled:"round"!==e&&(null==r||null==r.origin)}}}}})],S.prototype,"join",void 0),(0,p._)([(0,v.property)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":w.default}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],S.prototype,"marker",void 0),(0,p._)([(0,v.property)({type:Number,json:{read:!1,write:!1}})],S.prototype,"miterLimit",void 0);var k=S=m=(0,p._)([(0,b.subclass)("esri.symbols.SimpleLineSymbol")],S)})),s.register("d0pqz",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iXlXu"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p=s("bSafx"),d=s("fcwIv"),h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="simple-line",n.width=.75,o.default(n)}return l.default(r,[{key:"hash",value:function(){return"".concat(this.type,".").concat(this.width)}}]),r}(s("j9ZJv").default);(0,u._)([(0,p.enumeration)({esriSLS:"simple-line"},{readOnly:!0})],h.prototype,"type",void 0),(0,u._)([(0,f.property)({type:Number,cast:c.toPt,json:{write:!0}})],h.prototype,"width",void 0);var y=h=(0,u._)([(0,d.subclass)("esri.symbols.LineSymbol")],h)})),s.register("zMsiD",(function(t,r){e(t.exports,"default",(function(){return w})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jgs9n"),f=s("1XAcN"),p=s("flPLJ"),d=s("iho5X");s("iJAIC");var h,y=s("bSafx"),v=s("eB8sj"),m=s("fcwIv"),g=s("kced1"),b=s("goGNn"),_=h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).placement="begin-end",n.type="line-marker",n.style="arrow",o.default(n)}return l.default(r,[{key:"writeStyle",value:function(e,t,r,n){"web-map"===(null==n?void 0:n.origin)?t[r]="arrow":t[r]=e}},{key:"color",set:function(e){this._set("color",e)}},{key:"readColor",value:function(e){return e&&null!=e[0]?[e[0],e[1],e[2],e[3]/255]:e}},{key:"writeColor",value:function(e,t,r,n){"web-map"===(null==n?void 0:n.origin)||(t[r]=e)}},{key:"clone",value:function(){return new h({color:(0,p.clone)(this.color),placement:this.placement,style:this.style})}},{key:"hash",value:function(){var e;return"".concat(this.placement,".").concat(null==(e=this.color)?void 0:e.hash(),".").concat(this.style)}}]),r}(f.JSONSupport);(0,u._)([(0,d.property)({type:["begin","end","begin-end"],json:{write:!0}})],_.prototype,"placement",void 0),(0,u._)([(0,y.enumeration)({"line-marker":"line-marker"},{readOnly:!0}),(0,d.property)({json:{origins:{"web-map":{write:!1}}}})],_.prototype,"type",void 0),(0,u._)([(0,d.property)({type:b.lineMarkerStyles})],_.prototype,"style",void 0),(0,u._)([(0,g.writer)("style")],_.prototype,"writeStyle",null),(0,u._)([(0,d.property)({type:c.default,value:null,json:{write:{allowNull:!0}}})],_.prototype,"color",null),(0,u._)([(0,v.reader)("color")],_.prototype,"readColor",null),(0,u._)([(0,g.writer)("color")],_.prototype,"writeColor",null);var w=_=h=(0,u._)([(0,m.subclass)("esri.symbols.LineSymbolMarker")],_)})),s.register("knfxI",(function(t,r){e(t.exports,"urlPropertyDefinition",(function(){return o})),e(t.exports,"sourcePropertyDefinition",(function(){return l}));var n=s("kYueh"),i=s("9ELaA");function a(e,t){return!(r=t)||"service"!==r.origin&&"portal-item"!==r.origin||!r.layer||"feature"!==r.layer.type&&"stream"!==r.layer.type||(0,n.isAbsolute)(e)||!t.layer.parsedUrl?(0,i.f)(e,t):(0,n.join)(t.layer.parsedUrl.path,"images",e);var r}var o={json:{read:{source:["imageData","url"],reader:function(e,t,r){return t.imageData?(0,n.makeData)({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):a(t.url,r)}},write:{writer:function(e,t,r,a){!function(e,t,r,a){if((0,n.isDataProtocol)(e)){var o=(0,n.dataComponents)(e);t.contentType=o.mediaType,t.imageData=o.data,r&&r.imageData===t.imageData&&r.url&&(0,i.w)(r.url,t,"url",a)}else(0,i.w)(e,t,"url",a)}(e,t,this.source,a)}}}},l={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(e,t,r){var n={};return t.imageData&&(n.imageData=t.imageData),t.contentType&&(n.contentType=t.contentType),t.url&&(n.url=a(t.url,r)),n}}}}})),s.register("gb4f1",(function(t,r){e(t.exports,"default",(function(){return S})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("bFSSc"),u=s("jK9zx"),c=s("8atho"),f=s("aNpz9"),p=s("7eJjO"),d=s("flPLJ"),h=s("iXlXu"),y=s("iho5X");s("iJAIC");var v,m=s("bSafx"),g=s("eB8sj"),b=s("fcwIv"),_=s("b5Wv5"),w=s("knfxI"),x=v=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;return a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).color=null,s.type="picture-marker",s.url=null,s.source=null,s.height=12,s.width=12,s.size=null,l.default(s)}return u.default(r,[{key:"normalizeCtorArgs",value:function(e,t,r){if(e&&"string"!=typeof e&&null==e.imageData)return e;var n={};return e&&(n.url=e),null!=t&&(n.width=(0,h.toPt)(t)),null!=r&&(n.height=(0,h.toPt)(r)),n}},{key:"readHeight",value:function(e,t){return t.size||e}},{key:"readWidth",value:function(e,t){return t.size||e}},{key:"clone",value:function(){var e=new v({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",(0,d.clone)(this.source)),e}},{key:"hash",value:function(){return"".concat(c.default(f.default(r.prototype),"hash",this).call(this),".").concat(this.height,".").concat(this.url,".").concat(this.width)}}]),r}(_.default);(0,p._)([(0,y.property)({json:{write:!1}})],x.prototype,"color",void 0),(0,p._)([(0,m.enumeration)({esriPMS:"picture-marker"},{readOnly:!0})],x.prototype,"type",void 0),(0,p._)([(0,y.property)(w.urlPropertyDefinition)],x.prototype,"url",void 0),(0,p._)([(0,y.property)(w.sourcePropertyDefinition)],x.prototype,"source",void 0),(0,p._)([(0,y.property)({type:Number,cast:h.toPt,json:{write:!0}})],x.prototype,"height",void 0),(0,p._)([(0,g.reader)("height",["height","size"])],x.prototype,"readHeight",null),(0,p._)([(0,y.property)({type:Number,cast:h.toPt,json:{write:!0}})],x.prototype,"width",void 0),(0,p._)([(0,y.property)({json:{write:!1}})],x.prototype,"size",void 0);var S=x=v=(0,p._)([(0,b.subclass)("esri.symbols.PictureMarkerSymbol")],x)})),s.register("b5Wv5",(function(t,r){e(t.exports,"default",(function(){return h})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iXlXu"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p=s("fcwIv"),d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).angle=0,n.type=null,n.xoffset=0,n.yoffset=0,n.size=9,o.default(n)}return l.default(r,[{key:"hash",value:function(){return"".concat(this.type,".").concat(this.angle,".").concat(this.size,".").concat(this.xoffset,".").concat(this.yoffset)}}]),r}(s("j9ZJv").default);(0,u._)([(0,f.property)({type:Number,json:{read:function(e){return e&&-1*e},write:function(e,t){return t.angle=e&&-1*e}}})],d.prototype,"angle",void 0),(0,u._)([(0,f.property)({type:["simple-marker","picture-marker"],readOnly:!0})],d.prototype,"type",void 0),(0,u._)([(0,f.property)({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"xoffset",void 0),(0,u._)([(0,f.property)({type:Number,cast:c.toPt,json:{write:!0}})],d.prototype,"yoffset",void 0),(0,u._)([(0,f.property)({type:Number,cast:function(e){return"auto"===e?e:(0,c.toPt)(e)},json:{write:!0}})],d.prototype,"size",void 0);var h=d=(0,u._)([(0,p.subclass)("esri.symbols.MarkerSymbol")],d)})),s.register("d74xd",(function(t,r){e(t.exports,"default",(function(){return k})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("d2yMj"),f=s("flPLJ"),p=s("iho5X");s("iJAIC");var d,h=s("bSafx"),y=s("fcwIv"),v=s("2dm3Q"),m=s("h5Ux5"),g=s("7PS5g"),b=s("gRFMr"),_=s("i6U30"),w=s("f3rsq"),x=c.default.ofType({base:null,key:"type",typeMap:{icon:v.default,object:m.default,text:b.default}}),S=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).verticalOffset=null,n.callout=null,n.symbolLayers=new x,n.type="point-3d",o.default(n)}return l.default(r,[{key:"supportsCallout",value:function(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;var e=!0,t=!1,r=void 0;try{for(var n,i=this.symbolLayers.items[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){switch(n.value.type){case"icon":case"text":case"object":continue;default:return!1}}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}return!0}},{key:"hasVisibleCallout",value:function(){return(0,_.hasVisibleCallout)(this)}},{key:"hasVisibleVerticalOffset",value:function(){return(0,_.hasVisibleVerticalOffset)(this)}},{key:"clone",value:function(){return new d({verticalOffset:(0,f.clone)(this.verticalOffset),callout:(0,f.clone)(this.callout),styleOrigin:(0,f.clone)(this.styleOrigin),symbolLayers:(0,f.clone)(this.symbolLayers),thumbnail:(0,f.clone)(this.thumbnail)})}}],[{key:"fromSimpleMarkerSymbol",value:function(e){return new d({symbolLayers:[v.default.fromSimpleMarkerSymbol(e)]})}},{key:"fromPictureMarkerSymbol",value:function(e){return new d({symbolLayers:[v.default.fromPictureMarkerSymbol(e)]})}},{key:"fromCIMSymbol",value:function(e){var t,r;return"CIMPointSymbol"!==(null==(t=e.data)||null==(r=t.symbol)?void 0:r.type)?null:e.data.symbol.callout?new d({symbolLayers:[v.default.fromCIMSymbol(e)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new d({symbolLayers:[v.default.fromCIMSymbol(e)]})}},{key:"fromTextSymbol",value:function(e){return new d({symbolLayers:[b.default.fromTextSymbol(e)]})}}]),r}(g.default);(0,u._)([(0,p.property)({type:w.Symbol3DVerticalOffset,json:{write:!0}})],S.prototype,"verticalOffset",void 0),(0,u._)([(0,p.property)(_.calloutProperty)],S.prototype,"callout",void 0),(0,u._)([(0,p.property)({type:x,json:{origins:{"web-scene":{write:!0}}}})],S.prototype,"symbolLayers",void 0),(0,u._)([(0,h.enumeration)({PointSymbol3D:"point-3d"},{readOnly:!0})],S.prototype,"type",void 0);var k=S=d=(0,u._)([(0,y.subclass)("esri.symbols.PointSymbol3D")],S)})),s.register("9GCmF",(function(t,r){e(t.exports,"default",(function(){return L})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("d2yMj"),f=s("kyj08"),p=s("flPLJ"),d=s("7qybv"),h=s("iho5X");s("iJAIC");var y,v=s("bSafx"),m=s("fcwIv"),g=s("kced1"),b=s("jdPSN"),_=s("iI9TW"),w=s("2dm3Q"),x=s("b1Ydy"),S=s("h5Ux5"),k=s("7PS5g"),T=s("gRFMr"),E=s("8EuSL"),I=c.default.ofType({base:null,key:"type",typeMap:{extrude:b.default,fill:_.default,icon:w.default,line:x.default,object:S.default,text:T.default,water:E.default}}),C=c.default.ofType({base:null,key:"type",typeMap:{extrude:b.default,fill:_.default,icon:w.default,line:x.default,object:S.default,water:E.default}}),O=y=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).symbolLayers=new I,n.type="polygon-3d",o.default(n)}return l.default(r,[{key:"writeSymbolLayers",value:function(e,t,r,n){var i=e.filter((function(e){return"text"!==e.type}));if(n&&n.messages&&i.length<e.length){var a=e.find((function(e){return"text"===e.type}));n.messages.push(new(0,f.default)("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a}))}t[r]=i.map((function(e){return e.write({},n)})).toArray()}},{key:"clone",value:function(){return new y({styleOrigin:(0,p.clone)(this.styleOrigin),symbolLayers:(0,p.clone)(this.symbolLayers),thumbnail:(0,p.clone)(this.thumbnail)})}}],[{key:"fromJSON",value:function(e){var t=new y;if(t.read(e),2===t.symbolLayers.length&&"fill"===t.symbolLayers.getItemAt(0).type&&"line"===t.symbolLayers.getItemAt(1).type){var r=t.symbolLayers.getItemAt(0),n=t.symbolLayers.getItemAt(1);!n.enabled||e.symbolLayers&&e.symbolLayers[1]&&!1===e.symbolLayers[1].enable||(r.outline={size:n.size,color:(0,d.isSome)(n.material)?n.material.color:null}),t.symbolLayers.removeAt(1)}return t}},{key:"fromSimpleFillSymbol",value:function(e){return new y({symbolLayers:[_.default.fromSimpleFillSymbol(e)]})}}]),r}(k.default);(0,u._)([(0,h.property)({type:I,json:{type:C}})],O.prototype,"symbolLayers",void 0),(0,u._)([(0,g.writer)("web-scene","symbolLayers")],O.prototype,"writeSymbolLayers",null),(0,u._)([(0,v.enumeration)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],O.prototype,"type",void 0);var L=O=y=(0,u._)([(0,m.subclass)("esri.symbols.PolygonSymbol3D")],O)})),s.register("SVQ32",(function(t,r){e(t.exports,"default",(function(){return k})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("bFSSc"),u=s("jK9zx"),c=s("8atho"),f=s("aNpz9"),p=s("7eJjO"),d=s("jgs9n"),h=s("79ASa"),y=s("flPLJ"),v=s("iho5X");s("iJAIC");var m,g=s("bSafx"),b=s("fcwIv"),_=s("aj6xu"),w=s("e6bLq"),x=new(0,h.JSONMap)({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"}),S=m=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;return a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).color=new(0,d.default)([0,0,0,.25]),s.outline=new(0,w.default),s.type="simple-fill",s.style="solid",l.default(s)}return u.default(r,[{key:"normalizeCtorArgs",value:function(e,t,r){if(e&&"string"!=typeof e)return e;var n={};return e&&(n.style=e),t&&(n.outline=t),r&&(n.color=r),n}},{key:"clone",value:function(){return new m({color:(0,y.clone)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}},{key:"hash",value:function(){return"".concat(c.default(f.default(r.prototype),"hash",this).call(this)).concat(this.style,".").concat(this.color&&this.color.hash())}}]),r}(_.default);(0,p._)([(0,v.property)()],S.prototype,"color",void 0),(0,p._)([(0,v.property)()],S.prototype,"outline",void 0),(0,p._)([(0,g.enumeration)({esriSFS:"simple-fill"},{readOnly:!0})],S.prototype,"type",void 0),(0,p._)([(0,v.property)({type:x.apiValues,json:{read:x.read,write:x.write}})],S.prototype,"style",void 0);var k=S=m=(0,p._)([(0,b.subclass)("esri.symbols.SimpleFillSymbol")],S)})),s.register("ioNzP",(function(t,r){e(t.exports,"default",(function(){return E})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("bFSSc"),u=s("jK9zx"),c=s("8atho"),f=s("aNpz9"),p=s("7eJjO"),d=s("jgs9n"),h=s("79ASa"),y=s("flPLJ"),v=s("iXlXu"),m=s("iho5X");s("iJAIC");var g,b=s("bSafx"),_=s("fcwIv"),w=s("kced1"),x=s("b5Wv5"),S=s("e6bLq"),k=new(0,h.JSONMap)({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"}),T=g=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;return a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).color=new(0,d.default)([255,255,255,.25]),s.type="simple-marker",s.size=12,s.style="circle",s.outline=new(0,S.default),l.default(s)}return u.default(r,[{key:"normalizeCtorArgs",value:function(e,t,r,n){if(e&&"string"!=typeof e)return e;var i={};return e&&(i.style=e),null!=t&&(i.size=(0,v.toPt)(t)),r&&(i.outline=r),n&&(i.color=n),i}},{key:"writeColor",value:function(e,t){e&&"x"!==this.style&&"cross"!==this.style&&(t.color=e.toJSON()),null===e&&(t.color=null)}},{key:"path",set:function(e){this.style="path",this._set("path",e)}},{key:"clone",value:function(){return new g({angle:this.angle,color:(0,y.clone)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}},{key:"hash",value:function(){var e;return"".concat(c.default(f.default(r.prototype),"hash",this).call(this),".").concat(this.color&&this.color.hash(),".").concat(this.path,".").concat(this.style,".").concat(null==(e=this.outline)?void 0:e.hash())}}]),r}(x.default);(0,p._)([(0,m.property)()],T.prototype,"color",void 0),(0,p._)([(0,w.writer)("color")],T.prototype,"writeColor",null),(0,p._)([(0,b.enumeration)({esriSMS:"simple-marker"},{readOnly:!0})],T.prototype,"type",void 0),(0,p._)([(0,m.property)()],T.prototype,"size",void 0),(0,p._)([(0,m.property)({type:k.apiValues,json:{read:k.read,write:k.write}})],T.prototype,"style",void 0),(0,p._)([(0,m.property)({type:String,json:{write:!0}})],T.prototype,"path",null),(0,p._)([(0,m.property)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":S.default}},json:{default:null,write:!0}})],T.prototype,"outline",void 0);var E=T=g=(0,p._)([(0,_.subclass)("esri.symbols.SimpleMarkerSymbol")],T)})),s.register("d2yGf",(function(t,r){e(t.exports,"default",(function(){return T})),s("8TSCy");var n,i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("5Vgx8"),u=s("bFSSc"),c=s("jK9zx"),f=s("ifq4M"),p=s("7eJjO"),d=s("jgs9n"),h=s("flPLJ"),y=s("iXlXu"),v=s("iho5X"),m=s("ba18L"),g=s("bSafx"),b=s("fcwIv"),_=s("kced1"),w=s("iOkFF"),x=s("j9ZJv"),S=s("3wxMb"),k=n=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a;return o.default(this,r),(a=t.call.apply(t,[this].concat(l.default(n)))).backgroundColor=null,a.borderLineColor=null,a.borderLineSize=null,a.font=new(0,w.default),a.horizontalAlignment="center",a.kerning=!0,a.haloColor=null,a.haloSize=null,a.rightToLeft=null,a.rotated=!1,a.text="",a.type="text",a.verticalAlignment="baseline",a.xoffset=0,a.yoffset=0,a.angle=0,a.width=null,a.lineWidth=192,a.lineHeight=1,u.default(a)}return c.default(r,[{key:"normalizeCtorArgs",value:function(e,t,r){if(e&&"string"!=typeof e)return e;var n={};return e&&(n.text=e),t&&(n.font=t),r&&(n.color=r),n}},{key:"writeLineWidth",value:function(e,t,r,n){n&&"string"!=typeof n?n.origin:t[r]=e}},{key:"castLineWidth",value:function(e){return(0,y.toPt)(e)}},{key:"writeLineHeight",value:function(e,t,r,n){n&&"string"!=typeof n?n.origin:t[r]=e}},{key:"clone",value:function(){return new n({angle:this.angle,backgroundColor:(0,h.clone)(this.backgroundColor),borderLineColor:(0,h.clone)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,h.clone)(this.color),font:this.font&&this.font.clone(),haloColor:(0,h.clone)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}},{key:"hash",value:function(){return"".concat(this.backgroundColor&&this.backgroundColor.hash(),".").concat(this.borderLineColor,".").concat(this.borderLineSize,".").concat(this.color.hash(),".").concat(this.font&&this.font.hash(),".").concat(this.haloColor&&this.haloColor.hash(),".").concat(this.haloSize,".").concat(this.horizontalAlignment,".").concat(this.kerning,".").concat(this.rightToLeft,".").concat(this.rotated,".").concat(this.text,".").concat(this.verticalAlignment,".").concat(this.width,".").concat(this.xoffset,".").concat(this.yoffset,".").concat(this.lineHeight,".").concat(this.lineWidth,".").concat(this.angle)}}]),r}(x.default);(0,p._)([(0,v.property)({type:d.default,json:{write:!0}})],k.prototype,"backgroundColor",void 0),(0,p._)([(0,v.property)({type:d.default,json:{write:!0}})],k.prototype,"borderLineColor",void 0),(0,p._)([(0,v.property)({type:Number,json:{write:!0}})],k.prototype,"borderLineSize",void 0),(0,p._)([(0,v.property)({type:w.default,json:{write:!0}})],k.prototype,"font",void 0),(0,p._)([(0,v.property)(f.default({},S.horizontalAlignmentProperty,{json:{write:!0}}))],k.prototype,"horizontalAlignment",void 0),(0,p._)([(0,v.property)({type:Boolean,json:{write:!0}})],k.prototype,"kerning",void 0),(0,p._)([(0,v.property)({type:d.default,json:{write:!0}})],k.prototype,"haloColor",void 0),(0,p._)([(0,v.property)({type:Number,cast:y.toPt,json:{write:!0}})],k.prototype,"haloSize",void 0),(0,p._)([(0,v.property)({type:Boolean,json:{write:!0}})],k.prototype,"rightToLeft",void 0),(0,p._)([(0,v.property)({type:Boolean,json:{write:!0}})],k.prototype,"rotated",void 0),(0,p._)([(0,v.property)({type:String,json:{write:!0}})],k.prototype,"text",void 0),(0,p._)([(0,g.enumeration)({esriTS:"text"},{readOnly:!0})],k.prototype,"type",void 0),(0,p._)([(0,v.property)(f.default({},S.verticalAlignmentProperty,{json:{write:!0}}))],k.prototype,"verticalAlignment",void 0),(0,p._)([(0,v.property)({type:Number,cast:y.toPt,json:{write:!0}})],k.prototype,"xoffset",void 0),(0,p._)([(0,v.property)({type:Number,cast:y.toPt,json:{write:!0}})],k.prototype,"yoffset",void 0),(0,p._)([(0,v.property)({type:Number,json:{read:function(e){return e&&-1*e},write:function(e,t){return t.angle=e&&-1*e}}})],k.prototype,"angle",void 0),(0,p._)([(0,v.property)({type:Number,json:{write:!0}})],k.prototype,"width",void 0),(0,p._)([(0,v.property)({type:Number})],k.prototype,"lineWidth",void 0),(0,p._)([(0,_.writer)("lineWidth")],k.prototype,"writeLineWidth",null),(0,p._)([(0,m.cast)("lineWidth")],k.prototype,"castLineWidth",null),(0,p._)([(0,v.property)(S.lineHeightProperty)],k.prototype,"lineHeight",void 0),(0,p._)([(0,_.writer)("lineHeight")],k.prototype,"writeLineHeight",null);var T=k=n=(0,p._)([(0,b.subclass)("esri.symbols.TextSymbol")],k)})),s.register("22fTC",(function(t,r){e(t.exports,"default",(function(){return I})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("8atho"),f=s("aNpz9"),p=s("jcnGU"),d=s("2TvXO"),h=s("7eJjO"),y=s("jHOLN"),v=s("10vEZ"),m=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var g,b=s("bSafx"),_=s("fcwIv"),w=s("ajJOT"),x=s("9ELaA"),S=s("j9ZJv"),k=s("3Hb4Y"),T=y.default.getLogger("esri.symbols.WebStyleSymbol"),E=g=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).styleName=null,n.portal=null,n.styleUrl=null,n.thumbnail=null,n.name=null,n.type="web-style",l.default(n)}return u.default(r,[{key:"read",value:function(e,t){this.portal=t?t.portal:void 0,c.default(f.default(r.prototype),"read",this).call(this,e,t)}},{key:"clone",value:function(){return new g({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}},{key:"fetchSymbol",value:function(e){return this._fetchSymbol("webRef",e)}},{key:"fetchCIMSymbol",value:function(e){return this._fetchSymbol("cimRef",e)}},{key:"_fetchSymbol",value:function(e,t){var r=this;return p.default(n(d).mark((function i(){var a,o;return n(d).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s("dsc9S");case 2:return a=n.sent,(0,v.throwIfAborted)(t),o=a.resolveWebStyleSymbol(r,{portal:r.portal},e,t),n.abrupt("return",(o.catch((function(e){T.error("#fetchSymbol()","Failed to create symbol from style",e)})),o));case 6:case"end":return n.stop()}}),i)})))()}}]),r}(S.default);(0,h._)([(0,m.property)({json:{write:!1}})],E.prototype,"color",void 0),(0,h._)([(0,m.property)({type:String,json:{write:!0}})],E.prototype,"styleName",void 0),(0,h._)([(0,m.property)({type:w.default,json:{write:!1}})],E.prototype,"portal",void 0),(0,h._)([(0,m.property)({type:String,json:{read:x.r,write:x.w}})],E.prototype,"styleUrl",void 0),(0,h._)([(0,m.property)({type:k.Thumbnail,json:{read:!1}})],E.prototype,"thumbnail",void 0),(0,h._)([(0,m.property)({type:String,json:{write:!0}})],E.prototype,"name",void 0),(0,h._)([(0,b.enumeration)({styleSymbolReference:"web-style"},{readOnly:!0})],E.prototype,"type",void 0);var I=E=g=(0,h._)([(0,_.subclass)("esri.symbols.WebStyleSymbol")],E)})),s.register("dsc9S",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("j0WEn")).then((function(){return s("cVYSt")}))})),s.register("9UYxM",(function(t,r){e(t.exports,"default",(function(){return w})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("2iTel"),f=s("2ILM8"),p=s("1XAcN"),d=s("7qybv"),h=s("iho5X");s("lNwWH"),s("2VlWd");var y,v=s("ba18L"),m=s("fcwIv"),g=s("79LpT"),b=y=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).rotation=0,n.scale=0,n.targetGeometry=null,n.camera=null,o.default(n)}return l.default(r,[{key:"castRotation",value:function(e){return(e%=360)<0&&(e+=360),e}},{key:"clone",value:function(){return new y({rotation:this.rotation,scale:this.scale,targetGeometry:(0,d.isSome)(this.targetGeometry)?this.targetGeometry.clone():null,camera:(0,d.isSome)(this.camera)?this.camera.clone():null})}}]),r}(p.JSONSupport);function _(){return{enabled:!this.camera}}(0,u._)([(0,h.property)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:_}}}}})],b.prototype,"rotation",void 0),(0,u._)([(0,v.cast)("rotation")],b.prototype,"castRotation",null),(0,u._)([(0,h.property)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:_}}}}})],b.prototype,"scale",void 0),(0,u._)([(0,h.property)({types:f.geometryTypes,json:{read:g.fromJSON,write:!0,origins:{"web-scene":{read:g.fromJSON,write:{overridePolicy:_}}}}})],b.prototype,"targetGeometry",void 0),(0,u._)([(0,h.property)({type:c.default,json:{write:!0}})],b.prototype,"camera",void 0);var w=b=y=(0,u._)([(0,m.subclass)("esri.Viewpoint")],b)})),s.register("2iTel",(function(t,r){e(t.exports,"default",(function(){return S})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("bFSSc"),u=s("jK9zx"),c=s("7eJjO"),f=s("3SeOo"),p=s("1XAcN"),d=s("iVfa0"),h=s("iho5X");s("lNwWH"),s("2VlWd");var y=s("ba18L"),v=s("eB8sj"),m=s("fcwIv"),g=s("kced1"),b=s("iJAIC"),_=s("d1Fqh"),w=s("9EGCe"),x=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;return a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).position=new(0,_.default)([0,0,0]),s.heading=0,s.tilt=0,s.fov=55,l.default(s)}return u.default(r,[{key:"normalizeCtorArgs",value:function(e,t,r,n){if(e&&"object"==typeof e&&("x"in e||Array.isArray(e))){var i={position:e};return null!=t&&(i.heading=t),null!=r&&(i.tilt=r),null!=n&&(i.fov=n),i}return e}},{key:"writePosition",value:function(e,t,r,n){var i=e.clone();i.x=(0,b.ensureNumber)(e.x||0),i.y=(0,b.ensureNumber)(e.y||0),i.z=e.hasZ?(0,b.ensureNumber)(e.z||0):e.z,t[r]=i.write({},n)}},{key:"readPosition",value:function(e,t){var r=new(0,_.default);return r.read(e,t),r.x=(0,b.ensureNumber)(r.x||0),r.y=(0,b.ensureNumber)(r.y||0),r.z=r.hasZ?(0,b.ensureNumber)(r.z||0):r.z,r}},{key:"equals",value:function(e){return!!e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)}}]),r}((0,f.ClonableMixin)(p.JSONSupport));(0,c._)([(0,h.property)({type:_.default,json:{write:{isRequired:!0}}})],x.prototype,"position",void 0),(0,c._)([(0,g.writer)("position")],x.prototype,"writePosition",null),(0,c._)([(0,v.reader)("position")],x.prototype,"readPosition",null),(0,c._)([(0,h.property)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,y.cast)((function(e){return w.cyclicalDeg.normalize((0,b.ensureNumber)(e))}))],x.prototype,"heading",void 0),(0,c._)([(0,h.property)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,y.cast)((function(e){return(0,d.clamp)((0,b.ensureNumber)(e),-180,180)}))],x.prototype,"tilt",void 0),(0,c._)([(0,h.property)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],x.prototype,"fov",void 0);var S=x=(0,c._)([(0,m.subclass)("esri.Camera")],x)})),s.register("9EGCe",(function(t,r){e(t.exports,"cyclicalDeg",(function(){return c})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("iVfa0"),o=(s("e4Xv2"),s("5YMIf"));var l=function(){"use strict";function e(t,r){n.default(this,e),this.min=t,this.max=r,this.range=r-t}return i.default(e,[{key:"ndiff",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.ceil((e-t)/this.range)*this.range+t}},{key:"_normalize",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(r-=n)<e?r+=this.ndiff(e-r):r>t&&(r-=this.ndiff(r-t)),i&&r===t&&(r=e),r+n}},{key:"normalize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._normalize(this.min,this.max,e,t,r)}},{key:"clamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,a.clamp)(e-t,this.min,this.max)+t}},{key:"monotonic",value:function(e,t,r){return e<t?t:t+this.ndiff(e-t,r)}},{key:"minimalMonotonic",value:function(e,t,r){return this._normalize(e,e+this.range,t,r)}},{key:"center",value:function(e,t,r){return t=this.monotonic(e,t,r),this.normalize((e+t)/2,r)}},{key:"diff",value:function(e,t,r){return this.monotonic(e,t,r)-e}},{key:"shortestSignedDiff",value:function(e,t){e=this.normalize(e);var r=(t=this.normalize(t))-e,n=t<e?this.minimalMonotonic(e,t)-e:t-this.minimalMonotonic(t,e);return Math.abs(r)<Math.abs(n)?r:n}},{key:"contains",value:function(e,t,r){return t=this.minimalMonotonic(e,t),(r=this.minimalMonotonic(e,r))>e&&r<t}}]),e}();(0,o.c)(),(0,o.c)();function u(e){for(var t in e){var r=e[t];r instanceof Function&&(e[t]=r.bind(e))}return e}u(new l(0,2*Math.PI)),u(new l(-Math.PI,Math.PI));var c=u(new l(0,360));(0,o.c)(),(0,o.c)(),(0,o.c)()})),s.register("97KKx",(function(t,r){e(t.exports,"cache",(function(){return a})),e(t.exports,"find",(function(){return o})),e(t.exports,"isIterable",(function(){return l}));var i=s("2TvXO");function a(e){var t=[];return n(i).mark((function r(){var a,o,s,l,u,c;return n(i).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(t,"t0",1);case 1:a=!0,o=!1,s=void 0,r.prev=2,l=e[Symbol.iterator]();case 4:if(a=(u=l.next()).done){r.next=12;break}return c=u.value,t.push(c),r.next=9,c;case 9:a=!0,r.next=4;break;case 12:r.next=18;break;case 14:r.prev=14,r.t1=r.catch(2),o=!0,s=r.t1;case 18:r.prev=18,r.prev=19,a||null==l.return||l.return();case 21:if(r.prev=21,!o){r.next=24;break}throw s;case 24:return r.finish(21);case 25:return r.finish(18);case 26:case"end":return r.stop()}}),r,null,[[2,14,18,26],[19,,21,25]])}))}function o(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(null!=s&&t(s))return s}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}function l(e){return null!=e&&"function"==typeof e[Symbol.iterator]}})),s.register("gdXB3",(function(t,r){e(t.exports,"initialize",(function(){return m})),e(t.exports,"open",(function(){return _})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("kyj08"),u=s("2VlWd"),c=s("10vEZ"),f=s("hl4M0"),p=s("341hJ"),d=s("dC7OX"),h=(f=s("hl4M0"),p=s("341hJ"),(0,u.default)("esri-workers-debug")?1:(0,u.default)("host-browser")?navigator.hardwareConcurrency-1:0);h||(h=(0,u.default)("safari")&&(0,u.default)("mac")||(0,u.default)("trident")?7:2);var y=0,v=[];function m(){S()}function g(e,t){return b.apply(this,arguments)}function b(){return(b=i.default(n(o).mark((function e(t,r){var i;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new(0,f.default),e.next=3,i.open(t,r);case 3:return e.abrupt("return",(e.sent,i));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return w.apply(this,arguments)}function w(){return w=i.default(n(o).mark((function e(t){var r,i,s,f,d,m,b,_,w,x=arguments;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=x.length>1&&void 0!==x[1]?x[1]:{},"string"==typeof t){e.next=3;break}throw new(0,l.default)("workers:undefined-module","modulePath is missing");case 3:if(i=r.strategy||"distributed",(0,u.default)("host-webworker")&&!(0,u.default)("esri-workers")&&(i="local"),"local"!==i){e.next=16;break}return e.next=7,p.default.loadWorker(t);case 7:if(s=e.sent,e.t0=s,e.t0){e.next=13;break}return e.next=12,import(t);case 12:s=e.sent;case 13:return(0,c.throwIfAborted)(r.signal),f=r.client||s,e.abrupt("return",g([p.default.connect(s)],a.default({},r,{client:f})));case 16:return e.next=18,S();case 18:if((0,c.throwIfAborted)(r.signal),e.sent,"dedicated"!==i){e.next=28;break}return d=y++%h,e.t1=g,e.next=24,v[d].open(t,r);case 24:return e.t2=e.sent,e.t3=[e.t2],e.t4=r,e.abrupt("return",(0,e.t1)(e.t3,e.t4));case 28:if(!(r.maxNumWorkers&&r.maxNumWorkers>0)){e.next=34;break}if(!((m=Math.min(r.maxNumWorkers,h))<h)){e.next=34;break}for(b=new Array(m),_=0;_<m;++_)w=y++%h,b[_]=v[w].open(t,r);return e.abrupt("return",g(b,r));case 34:return e.abrupt("return",g(v.map((function(e){return e.open(t,r)})),r));case 35:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}var x=null;function S(){return k.apply(this,arguments)}function k(){return(k=i.default(n(o).mark((function e(){var t,r,i;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=2;break}return e.abrupt("return",x);case 2:for(new AbortController,t=[],r=0;r<h;r++)i=d.default.create(r).then((function(e){return v[r]=e,e})),t.push(i);return e.abrupt("return",x=Promise.all(t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),s.register("hl4M0",(function(t,r){e(t.exports,"default",(function(){return f})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("6ah52"),o=s("jHOLN"),l=s("10vEZ"),u=s("341hJ"),c=o.default.getLogger("esri.core.workers.Connection"),f=function(){"use strict";function e(){n.default(this,e),this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}return i.default(e,[{key:"destroy",value:function(){this.close()}},{key:"closed",get:function(){return!this._clients||!this._clients.length}},{key:"open",value:function(e,t){var r=this;return new Promise((function(n,i){var a=function(a){var o=r,c=e[a];(0,l.isPromiseLike)(c)?r._clientPromises[a]=c.then((function(e){return o._clients[a]=new(0,u.default)(e,t),s(n),o._clients[a]}),(function(){return s(i),null})):(r._clients[a]=new(0,u.default)(c,t),r._clientPromises[a]=Promise.resolve(r._clients[a]),s(n))},o=!0,s=function(e){(0,l.throwIfAborted)(t.signal),o&&(o=!1,e())};r._clients.length=e.length,r._clientPromises.length=e.length;for(var c=0;c<e.length;++c)a(c)}))}},{key:"broadcast",value:function(e,t,r){for(var n=new Array(this._clientPromises.length),i=0;i<this._clientPromises.length;++i){var a=this._clientPromises[i];n[i]=a.then((function(n){return n.invoke(e,t,r)}))}return n}},{key:"close",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this._clientPromises[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){n.value.then((function(e){return e.close()}))}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}this._clients.length=0,this._clientPromises.length=0}},{key:"getAvailableClient",value:function(){for(var e,t=0;t<this._clients.length;++t){var r=this._clients[t];if(r){if(!r.isBusy())return Promise.resolve(r)}else(e=e||[]).push(this._clientPromises[t])}return e?Promise.race(e):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))}},{key:"invoke",value:function(e,t,r){var n=null;return Array.isArray(r)?(c.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),n={transferList:r}):n=r,this.closed?Promise.reject(new Error("Connection closed")):this.getAvailableClient().then((function(r){return r.invoke(e,t,n)}))}},{key:"on",value:function(e,t){var r=this;return Promise.all(this._clientPromises).then((function(){return(0,a.handlesGroup)(r._clients.map((function(r){return r.on(e,t)})))}))}},{key:"openPorts",value:function(){var e=this;return new Promise((function(t){for(var r=function(r){e._clientPromises[r].then((function(e){n[r]=e.openPort(),0==--i&&t(n)}))},n=new Array(e._clientPromises.length),i=n.length,a=0;a<e._clientPromises.length;++a)r(a)}))}},{key:"test",get:function(){return{numClients:this._clients.length}}}]),e}()})),s.register("341hJ",(function(t,r){e(t.exports,"default",(function(){return w})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("dLARP"),o=s("kyj08"),l=s("cj7C1"),u=s("7qybv"),c=s("10vEZ"),f=s("cPUVC"),p=s("jsSHI"),d={statsWorker:function(){return s("hMKT4")},geometryEngineWorker:function(){return s("kGPPw")},CSVSourceWorker:function(){return s("b2F5H")},EdgeProcessingWorker:function(){return s("2PGgX")},ElevationSamplerWorker:function(){return s("dXjSX")},FeatureServiceSnappingSourceWorker:function(){return s("eXBTr")},GeoJSONSourceWorker:function(){return s("6TKy8")},LercWorker:function(){return s("4Lsxd")},MemorySourceWorker:function(){return s("3VEPt")},PBFDecoderWorker:function(){return s("g7mZ1")},Pipeline:function(){return s("fDuxU")},PointCloudWorker:function(){return s("cjdnV")},RasterWorker:function(){return s("h9Lmo")},SceneLayerWorker:function(){return s("ftK39")},WFSSourceWorker:function(){return s("iivUC")},WorkerTileHandler:function(){return s("ikJD0")}},h=f.MessageType.CLOSE,y=f.MessageType.ABORT,v=f.MessageType.INVOKE,m=f.MessageType.RESPONSE,g=f.MessageType.OPEN_PORT,b=f.MessageType.ON,_=function(){"use strict";function e(t){n.default(this,e),this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}return i.default(e,[{key:"push",value:function(e){e.type===f.MessageType.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}},{key:"clear",value:function(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}},{key:"_process",value:function(){this._timer=null;var e=!0,t=!1,r=void 0;try{for(var n,i=this._invokeMessages[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;this._cancelledJobIds.has(a.jobId)||this._invoke(a)}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}this._cancelledJobIds.clear(),this._invokeMessages.length=0}}]),e}(),w=function(){"use strict";function e(t,r){var i=this;n.default(this,e),this._port=t,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new _((function(e){return i._onInvokeMessage(e)})),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}return i.default(e,[{key:"close",value:function(){this._post({type:h}),this._close()}},{key:"isBusy",value:function(){return this._outJobs.size>0}},{key:"invoke",value:function(e,t,r){var n=this,i=r&&r.signal,a=r&&r.transferList;if(!this._port)return Promise.reject(new(0,o.default)("worker:port-closed","Cannot call invoke('".concat(e,"'), port is closed"),{methodName:e,data:t}));var s=(0,f.newJobId)();return new Promise((function(r,o){var l=n,u=(0,c.onAbortOrThrow)(i,(function(){var e,t=l._outJobs.get(s);t&&(l._outJobs.delete(s),null==(e=t.abortHandle)||e.remove(),l._post({type:y,jobId:s}),o((0,c.createAbortError)()))})),f={resolve:r,reject:o,abortHandle:u,debugInfo:e};n._outJobs.set(s,f),n._post({type:v,jobId:s,methodName:e,abortable:null!=i},t,a)}))}},{key:"on",value:function(e,t){var r=new MessageChannel;function n(e){t(e.data)}return this._port.postMessage({type:f.MessageType.ON,eventType:e,port:r.port2},[r.port2]),r.port1.addEventListener("message",n),r.port1.start(),{remove:function(){r.port1.postMessage({type:f.MessageType.CLOSE}),r.port1.close(),r.port1.removeEventListener("message",n)}}}},{key:"openPort",value:function(){var e=new MessageChannel;return this._post({type:g,port:e.port2}),e.port1}},{key:"_close",value:function(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach((function(e){var t;null==(t=e.abortHandle)||t.remove(),e.reject((0,c.createAbortError)("Worker closing, aborting job calling '".concat(e.debugInfo,"'")))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}},{key:"_onMessage",value:function(e){var t=this;(0,u.isSome)(this._schedule)?this._schedule((function(){return t._processMessage(e)})):this._processMessage(e)}},{key:"_processMessage",value:function(e){var t=(0,f.receiveMessage)(e);if(t)switch(t.type){case m:this._onResponseMessage(t);break;case v:this._invokeQueue.push(t);break;case y:this._onAbortMessage(t);break;case h:this._onCloseMessage();break;case g:this._onOpenPortMessage(t);break;case b:this._onOnMessage(t)}}},{key:"_onAbortMessage",value:function(e){var t=this._inJobs,r=e.jobId,n=t.get(r);this._invokeQueue.push(e),n&&(n.controller&&n.controller.abort(),t.delete(r))}},{key:"_onCloseMessage",value:function(){var t=this._client;this._close(),t&&"destroy"in t&&e.clients.get(this)===t&&t.destroy(),e.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}},{key:"_onInvokeMessage",value:function(e){var t,r=this,n=e.methodName,i=e.jobId,a=e.data,o=e.abortable?new AbortController:null,s=this._inJobs,l=this._client,u=l[n];try{if(!u&&n&&-1!==n.indexOf("."))for(var p=n.split("."),d=0;d<p.length-1;d++)u=(l=l[p[d]])[p[d+1]];if("function"!=typeof u)throw new TypeError("".concat(n," is not a function"));t=u.call(l,a,{client:this,signal:o?o.signal:null})}catch(e){return void this._post({type:m,jobId:i,error:(0,f.toInvokeError)(e)})}(0,c.isPromiseLike)(t)?(s.set(i,{controller:o,promise:t}),t.then((function(e){s.has(i)&&(s.delete(i),r._post({type:m,jobId:i},e))}),(function(e){s.has(i)&&(s.delete(i),(0,c.isAbortError)(e)||r._post({type:m,jobId:i,error:(0,f.toInvokeError)(e||{message:"Error encountered at method ".concat(n)})}))}))):this._post({type:m,jobId:i},t)}},{key:"_onOpenPortMessage",value:function(t){new e(t.port,{client:this._client})}},{key:"_onOnMessage",value:function(e){var t=e.port,r=this._client.on(e.eventType,(function(e){t.postMessage(e)})),n=(0,l.on)(e.port,"message",(function(e){(0,f.receiveMessage)(e).type===f.MessageType.CLOSE&&(n.remove(),r.remove(),t.close())}))}},{key:"_onResponseMessage",value:function(e){var t,r=e.jobId,n=e.error,i=e.data,a=this._outJobs;if(a.has(r)){var s=a.get(r);a.delete(r),null==(t=s.abortHandle)||t.remove(),n?s.reject(o.default.fromJSON(JSON.parse(n))):s.resolve(i)}}},{key:"_post",value:function(e,t,r){return(0,f.postMessage)(this._port,e,t,r)}}],[{key:"connect",value:function(t){var r,n=new MessageChannel;r="function"==typeof t?new t:"default"in t&&"function"==typeof t.default?new t.default:t;var i=new e(n.port1,{channel:n,client:r});return"object"==typeof r&&"remoteClient"in r&&(r.remoteClient=i),e.clients.set(i,r),n.port2}},{key:"loadWorker",value:function(e){var t=d[e];return t?t():Promise.resolve(null)}}]),e}();w.kernelInfo={revision:p.commitHash,version:a.version,buildDate:p.buildDate},w.clients=new Map})),s.register("cPUVC",(function(t,r){e(t.exports,"MessageType",(function(){return n})),e(t.exports,"newJobId",(function(){return l})),e(t.exports,"toInvokeError",(function(){return u})),e(t.exports,"postMessage",(function(){return c})),e(t.exports,"receiveMessage",(function(){return f}));var n,i,a=s("2VlWd");(i=n||(n={}))[i.HANDSHAKE=0]="HANDSHAKE",i[i.OPEN=1]="OPEN",i[i.OPENED=2]="OPENED",i[i.RESPONSE=3]="RESPONSE",i[i.INVOKE=4]="INVOKE",i[i.ABORT=5]="ABORT",i[i.CLOSE=6]="CLOSE",i[i.OPEN_PORT=7]="OPEN_PORT",i[i.ON=8]="ON";var o=0;function l(){return o++}function u(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function c(e,t,r,i){var a,o;t.type!==n.OPEN_PORT?t.type===n.INVOKE||t.type===n.RESPONSE?((o=r)&&"object"==typeof o&&("result"in o||"transferList"in o)?(a=p(r.transferList),t.data=r.result):(a=p(i),t.data=r),a?e.postMessage(t,a):e.postMessage(t)):e.postMessage(t):e.postMessage(t,[t.port])}function f(e){if(!e)return null;var t=e.data;return t?"string"==typeof t?JSON.parse(t):t:null}function p(e){if(!e||!e.length)return null;if((0,a.default)("esri-workers-arraybuffer-transfer"))return e;var t=e.filter((function(e){return!((t=e)instanceof ArrayBuffer||t&&t.constructor&&"ArrayBuffer"===t.constructor.name);var t}));return t.length?t:null}})),s.register("hMKT4",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9ZckW")).then((function(){return s("2t9rp")}))})),s.register("kGPPw",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("Km0rI")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Txsk"))]).then((function(){return s("hzNg5")}))})),s.register("b2F5H",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8c89X")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("6hdyD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("j5U2t")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("e9iZe")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9JJ0n"))]).then((function(){return s("lS8og")}))})),s.register("2PGgX",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9f5d1")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("epUi4"))]).then((function(){return s("gyhpX")}))})),s.register("dXjSX",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9f5d1")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ep82W")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("KN9dG"))]).then((function(){return s("iZfjq")}))})),s.register("eXBTr",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8c89X")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("6hdyD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("j5U2t")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("e9iZe")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8SHJF"))]).then((function(){return s("gJ4iC")}))})),s.register("6TKy8",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8c89X")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("6hdyD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("j5U2t")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("e9iZe")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("f96if")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("cUtJI"))]).then((function(){return s("jUMXJ")}))})),s.register("4Lsxd",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("dH36x")).then((function(){return s("aU4gB")}))})),s.register("3VEPt",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8c89X")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("6hdyD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("j5U2t")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("e9iZe")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2nD6L"))]).then((function(){return s("99E42")}))})),s.register("g7mZ1",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2eYgr")).then((function(){return s("hGFkp")}))})),s.register("fDuxU",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8c89X")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("6hdyD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("j5U2t")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("e9iZe")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("f96if")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("cz7gJ")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8EaKC")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8iwCO")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("b3gJV"))]).then((function(){return s("fXPOl")}))})),s.register("cjdnV",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("gt13X")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("k5oY2"))]).then((function(){return s("hG5rT")}))})),s.register("h9Lmo",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("894JC")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("33h8u")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jBpnf")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("fSCWj")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2wJZH"))]).then((function(){return s("4mBLQ")}))})),s.register("ftK39",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("25Kje")).then((function(){return s("eBjmH")}))})),s.register("iivUC",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8c89X")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("6hdyD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("j5U2t")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("e9iZe")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("f96if")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4cUy4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("cLFQp"))]).then((function(){return s("6XQc0")}))})),s.register("ikJD0",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4BbkU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("16ztO")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4V7yl"))]).then((function(){return s("iP6cg")}))})),s.register("dC7OX",(function(t,r){e(t.exports,"default",(function(){return w})),s("8TSCy");var i=s("f9pi5"),a=s("jK9zx"),o=s("jcnGU"),l=s("2TvXO"),u=s("dLARP"),c=s("kyj08"),f=s("jHOLN"),p=s("10vEZ"),d=s("cPUVC"),h=s("jvk8a"),y=f.default.getLogger("esri.core.workers"),v=d.MessageType.ABORT,m=d.MessageType.INVOKE,g=d.MessageType.OPEN,b=d.MessageType.OPENED,_=d.MessageType.RESPONSE,w=function(){"use strict";function e(t,r){i.default(this,e),this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",(function(e){e.preventDefault(),y.error(e)}))}return a.default(e,[{key:"terminate",value:function(){this.worker.terminate()}},{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return o.default(n(l).mark((function i(){var a,o;return n(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.signal,o=(0,d.newJobId)(),n.abrupt("return",new Promise((function(t,n){var i={resolve:t,reject:n,abortHandle:(0,p.onAbortOrThrow)(a,(function(){r._outJobs.delete(o),r._post({type:v,jobId:o})}))};r._outJobs.set(o,i),r._post({type:g,jobId:o,modulePath:e})})));case 2:case"end":return n.stop()}}),i)})))()}},{key:"_onMessage",value:function(e){var t=(0,d.receiveMessage)(e);if(t)switch(t.type){case b:this._onOpenedMessage(t);break;case _:this._onResponseMessage(t);break;case v:this._onAbortMessage(t);break;case m:this._onInvokeMessage(t)}}},{key:"_onAbortMessage",value:function(e){var t=this._inJobs,r=e.jobId,n=t.get(r);n&&(n.controller&&n.controller.abort(),t.delete(r))}},{key:"_onInvokeMessage",value:function(e){var t,r=this,n=e.methodName,i=e.jobId,a=e.data,o=e.abortable?new AbortController:null,s=this._inJobs,l=u.workerMessages[n];try{if("function"!=typeof l)throw new TypeError("".concat(n," is not a function"));t=l.call(null,a,{signal:o?o.signal:null})}catch(e){return void this._post({type:_,jobId:i,error:(0,d.toInvokeError)(e)})}(0,p.isPromiseLike)(t)?(s.set(i,{controller:o,promise:t}),t.then((function(e){s.has(i)&&(s.delete(i),r._post({type:_,jobId:i},e))}),(function(e){s.has(i)&&(s.delete(i),e||(e={message:"Error encountered at method"+n}),(0,p.isAbortError)(e)||r._post({type:_,jobId:i,error:(0,d.toInvokeError)(e||{message:"Error encountered at method ".concat(n)})}))}))):this._post({type:_,jobId:i},t)}},{key:"_onOpenedMessage",value:function(e){var t,r=e.jobId,n=e.data,i=this._outJobs.get(r);i&&(this._outJobs.delete(r),null==(t=i.abortHandle)||t.remove(),i.resolve(n))}},{key:"_onResponseMessage",value:function(e){var t,r=e.jobId,n=e.error,i=e.data,a=this._outJobs.get(r);a&&(this._outJobs.delete(r),null==(t=a.abortHandle)||t.remove(),n?a.reject(c.default.fromJSON(JSON.parse(n))):a.resolve(i))}},{key:"_post",value:function(e,t,r){return(0,d.postMessage)(this.worker,e,t,r)}}],[{key:"create",value:function(t){return o.default(n(l).mark((function r(){var i;return n(l).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,h.createWorker)();case 2:return i=r.sent,r.abrupt("return",new e(i,t));case 4:case"end":return r.stop()}}),r)})))()}}]),e}()})),s.register("jvk8a",(function(t,r){e(t.exports,"createWorker",(function(){return T})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("i9j5X"),u=s("cu9iz");s("4M5RN");var c,f,p=s("dLARP"),d=s("2VlWd"),h=s("jHOLN"),y=s("kYueh"),v=s("gZE4k"),m=s("cPUVC"),g=s("1nfdj"),b=s("86CDN"),_=s("jsSHI"),w=h.default.getLogger("esri.core.workers"),x=m.MessageType.HANDSHAKE,S='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});',k="Failed to create Worker. Fallback to execute module in main thread";function T(){return E.apply(this,arguments)}function E(){return(E=i.default(n(o).mark((function e(){var t,r;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,d.default)("esri-workers")&&((0,d.default)("mozilla"),1)){e.next=2;break}return e.abrupt("return",I(new(0,g.default)));case 2:if(!c&&!f)try{t=S.replace('"{CONFIGURATION}"',"'".concat(O(),"'")),c=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(e){f=e||{}}if(c)try{r=new Worker(c,{name:"esri-worker-"+L++})}catch(e){w.warn(k,f),r=new(0,g.default)}else w.warn(k,f),r=new(0,g.default);return e.abrupt("return",I(r));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return C.apply(this,arguments)}function C(){return(C=i.default(n(o).mark((function e(t){return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){function r(i){var a=(0,m.receiveMessage)(i);a&&a.type===x&&(t.removeEventListener("message",r),t.removeEventListener("error",n),e(t))}function n(e){e.preventDefault(),t.removeEventListener("message",r),t.removeEventListener("error",n),w.warn("Failed to create Worker. Fallback to execute module in main thread",e),(t=new(0,g.default)).addEventListener("message",r),t.addEventListener("error",n)}t.addEventListener("message",r),t.addEventListener("error",n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){var e;if(null!=u.default.default){var t=a.default({},u.default);delete t.default,e=JSON.parse(JSON.stringify(t))}else e=JSON.parse(JSON.stringify(u.default));e.assetsPath=(0,y.makeAbsolute)(e.assetsPath),e.request.interceptors=[],e.log.interceptors=[],e.locale=(0,b.getLocale)(),e.has={"esri-csp-restrictions":(0,d.default)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,d.default)("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":(0,d.default)("esri-2d-query-centroid-enabled"),"featurelayer-pbf":(0,d.default)("featurelayer-pbf"),"featurelayer-simplify-thresholds":(0,d.default)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,d.default)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,d.default)("featurelayer-simplify-mobile-factor"),"esri-atomics":(0,d.default)("esri-atomics"),"esri-shared-array-buffer":(0,d.default)("esri-shared-array-buffer"),"esri-tiles-debug":(0,d.default)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,d.default)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,d.default)("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=(0,y.makeAbsolute)(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=(0,y.makeAbsolute)(e.workers.workerPath):e.workers.workerPath=(0,y.makeAbsolute)((0,l.getAssetUrl)("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;var r=u.default.workers.loaderConfig,n=(0,v.loaderConfig)({baseUrl:null==r?void 0:r.baseUrl,locale:(0,b.getLocale)(),has:a.default({"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1},null==r?void 0:r.has),map:a.default({},null==r?void 0:r.map),paths:a.default({},null==r?void 0:r.paths),packages:(null==r?void 0:r.packages)||[]}),i={version:p.version,buildDate:_.buildDate,revision:_.commitHash};return JSON.stringify({esriConfig:e,loaderConfig:n,kernelInfo:i})}var L=0})),s.register("4M5RN",(function(e,t){var r=s("hxKVa"),n=s("NKyXM"),i=s("i9j5X");s("8lxrq"),s("1RkqB"),s("aBds0"),s("86CDN"),r=s("hxKVa"),n=s("NKyXM");(0,r.registerMessageBundleLoader)((0,n.createJSONLoader)({pattern:"esri/",location:i.getAssetUrl}))})),s.register("NKyXM",(function(t,r){e(t.exports,"createJSONLoader",(function(){return m})),s("8TSCy");var i=s("jcnGU"),a=s("f9pi5"),o=s("jK9zx"),l=s("2TvXO"),u=s("9pNSx"),c=s("kyj08"),f=s("7qybv"),p=s("hxKVa");function d(){return(d=i.default(n(l).mark((function e(t,r,i,a){var o,s,u,f,d,y,v;return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.exec(i)){e.next=3;break}throw new(0,c.default)("esri-intl:invalid-bundle",'Bundle id "'.concat(i,'" is not compatible with the pattern "').concat(r,'"'));case 3:return s=o[1]?"".concat(o[1],"/"):"",u=o[2],f=(0,p.normalizeMessageBundleLocale)(a),d="".concat(s).concat(u,".json"),y=f?"".concat(s).concat(u,"_").concat(f,".json"):d,e.prev=5,e.next=8,h(t(y));case 8:case 18:v=e.sent,e.next=24;break;case 11:if(e.prev=11,e.t0=e.catch(5),y!==d){e.next=15;break}throw new(0,c.default)("intl:unknown-bundle",'Bundle "'.concat(i,'" cannot be loaded'),{error:e.t0});case 15:return e.prev=15,e.next=18,h(t(d));case 21:throw e.prev=21,e.t1=e.catch(15),new(0,c.default)("intl:unknown-bundle",'Bundle "'.concat(i,'" cannot be loaded'),{error:e.t1});case 24:return e.abrupt("return",v);case 25:case"end":return e.stop()}}),e,null,[[5,11],[15,21]])})))).apply(this,arguments)}function h(e){return y.apply(this,arguments)}function y(){return(y=i.default(n(l).mark((function e(t){var r;return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,f.isSome)(g.fetchBundleAsset)){e.next=2;break}return e.abrupt("return",g.fetchBundleAsset(t));case 2:return e.next=4,(0,u.default)(t,{responseType:"text"});case 4:return r=e.sent,e.abrupt("return",JSON.parse(r.data));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(){"use strict";function e(t){var r,n=t.base,i=void 0===n?"":n,o=t.pattern,s=t.location,l=void 0===s?new URL(window.location.href):s;a.default(this,e),r="string"==typeof l?function(e){return new URL(e,new URL(l,window.location.href)).href}:l instanceof URL?function(e){return new URL(e,l).href}:l,this.pattern="string"==typeof o?new RegExp("^".concat(o)):o,this.getAssetUrl=r,i=i?i.endsWith("/")?i:i+"/":"",this.matcher=new RegExp("^".concat(i,"(?:(.*)/)?(.*)$"))}return o.default(e,[{key:"fetchMessageBundle",value:function(e,t){return function(e,t,r,n){return d.apply(this,arguments)}(this.getAssetUrl,this.matcher,e,t)}}]),e}();function m(e){return new v(e)}var g={}})),s.register("aBds0",(function(t,r){e(t.exports,"substitute",(function(){return f})),s("8TSCy");var n=s("kswSi"),i=s("jHOLN"),a=s("8EPEw"),o=s("1TSdR"),l=s("8lxrq"),u=s("1RkqB"),c=i.default.getLogger("esri.intl");function f(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.format,i=void 0===n?{}:n;return(0,o.replace)(e,(function(e){return p(e,t,i)}))}function p(e,t,r){var n,i,o=e.indexOf(":");if(-1===o?n=e.trim():(n=e.slice(0,o).trim(),i=e.slice(o+1).trim()),!n)return"";var s=(0,a.getDeepValue)(n,t);if(null==s)return"";var f=r[i]||r[n];return f?function(e,t){switch(t.type){case"date":return(0,l.formatDate)(e,t.intlOptions);case"number":return(0,u.formatNumber)(e,t.intlOptions);default:return c.warn("missing format descriptor for key {key}"),d(e)}}(s,f):i?function(e,t){switch(t.toLowerCase()){case"dateformat":return(0,l.formatDate)(e);case"numberformat":return(0,u.formatNumber)(e);default:return c.warn("inline format is unsupported since 4.12: ".concat(t)),/^(dateformat|datestring)/i.test(t)?(0,l.formatDate)(e):/^numberformat/i.test(t)?(0,u.formatNumber)(e):d(e)}}(s,i):d(s)}function d(e){switch(void 0===e?"undefined":n.default(e)){case"string":return e;case"number":return(0,u.formatNumber)(e);case"boolean":return""+e;default:return e instanceof Date?(0,l.formatDate)(e):""}}})),s.register("gZE4k",(function(t,r){e(t.exports,"loaderConfig",(function(){return a})),s("8TSCy");var n=s("ifq4M");s("i9j5X"),s("2VlWd"),s("kYueh");var i={};function a(e){var t,r={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:n.default({},e.has),map:n.default({},e.map),packages:e.packages&&e.packages.concat()||[],paths:n.default({},e.paths)};return e.hasOwnProperty("async")||(r.async=!0),e.hasOwnProperty("isDebug")||(r.isDebug=!1),e.baseUrl||(r.baseUrl=i.baseUrl),null==(t=i.packages)||t.forEach((function(e){!function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0)if(a.value.name===t.name)return}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}e.push(t)}(r.packages,e)})),r}})),s.register("1nfdj",(function(t,r){e(t.exports,"default",(function(){return h})),s("8TSCy");var i=s("f9pi5"),a=s("5Vgx8"),o=s("jK9zx"),l=s("jcnGU"),u=s("2TvXO"),c=s("e02MS"),f=s("341hJ"),p=s("cPUVC"),d=function e(){"use strict";var t=this;i.default(this,e);var r=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach((function(e){var n;t[e]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=r)[e].apply(n,a.default(i))}}))},h=function(){"use strict";function e(){i.default(this,e),this._dispatcher=new d,this._workerPostMessage({type:p.MessageType.HANDSHAKE})}return o.default(e,[{key:"terminate",value:function(){}},{key:"onmessage",get:function(){return this._onmessageHandler},set:function(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}},{key:"onmessageerror",get:function(){return this._onmessageerrorHandler},set:function(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}},{key:"onerror",get:function(){return this._onerrorHandler},set:function(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}},{key:"postMessage",value:function(e){var t=this;(0,c.nextTick)((function(){t._workerMessageHandler(new MessageEvent("message",{data:e}))}))}},{key:"dispatchEvent",value:function(e){return this._dispatcher.dispatchEvent(e)}},{key:"addEventListener",value:function(e,t,r){this._dispatcher.addEventListener(e,t,r)}},{key:"removeEventListener",value:function(e,t,r){this._dispatcher.removeEventListener(e,t,r)}},{key:"_workerPostMessage",value:function(e){var t=this;(0,c.nextTick)((function(){t.dispatchEvent(new MessageEvent("message",{data:e}))}))}},{key:"_workerMessageHandler",value:function(e){var t=this;return l.default(n(u).mark((function r(){var i,a,o,s,l;return n(u).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(i=(0,p.receiveMessage)(e))||i.type!==p.MessageType.OPEN){r.next=13;break}return a=i.modulePath,o=i.jobId,r.next=5,f.default.loadWorker(a);case 5:if(s=r.sent,r.t0=s,r.t0){r.next=11;break}return r.next=10,import(a);case 10:s=r.sent;case 11:l=f.default.connect(s),t._workerPostMessage({type:p.MessageType.OPENED,jobId:o,data:l});case 13:case"end":return r.stop()}}),r)})))()}}]),e}()})),s.register("7RvA5",(function(t,r){e(t.exports,"isLoaded",(function(){return P})),e(t.exports,"load",(function(){return F})),e(t.exports,"project",(function(){return j})),e(t.exports,"projectMany",(function(){return D})),e(t.exports,"canProjectWithoutEngine",(function(){return z})),e(t.exports,"getTransformation",(function(){return U})),e(t.exports,"initializeProjection",(function(){return W})),e(t.exports,"projectBuffer",(function(){return te})),e(t.exports,"projectPolygon",(function(){return $})),e(t.exports,"projectPointToVector",(function(){return Q})),e(t.exports,"computeTranslationToOriginAndRotation",(function(){return ne})),s("8TSCy");var i=s("iCnzh"),a=s("g9uIT"),o=s("dap1g"),l=s("f9pi5"),u=s("jcnGU"),c=s("aNiFM"),f=s("2TvXO"),p=s("kyj08"),d=s("iVfa0"),h=s("7qybv"),y=s("10vEZ"),v=s("5vzSQ"),m=s("gEEzE"),g=(s("e4Xv2"),s("5YMIf")),b=s("gINRd"),_=s("eaHvJ"),w=s("eIIVb"),x=s("d1Fqh"),S=s("fTq43"),k=s("95Tg0"),T=s("7USIy"),E=(s("8TwEW"),s("8NvwW")),I=s("4dNPA"),C=s("8fZmy"),O=s("eY5Yp"),L=s("bow8S"),A=(s("bRuRM"),null),M=null,N=null,R={};function P(){return!!A&&(0,w.i)()}function F(e){return(0,h.isNone)(N)&&(N=Promise.all([(0,w.l)(),s("3V3RI").then((function(e){return e.g})),s("bA7lO")])),N.then((function(t){var r=i.default(t,3),n=r[1],a=r[2].hydratedAdapter;(0,y.throwIfAborted)(e),M=a,(A=n.default)._enableProjection(w.p)}))}function j(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Array.isArray(e)?0===e.length?[]:D(M,e,e[0].spatialReference,t,r):D(M,[e],e.spatialReference,t,r)[0]}function D(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if((0,h.isNone)(r)||(0,h.isNone)(n))return t;if(z(r,n,i))return t.map((function(e){return(0,h.unwrap)(J(e,r,n))}));if((0,h.isNone)(i)){var a=C.default.cacheKey(r,n);void 0!==R[a]?i=R[a]:(i=U(r,n,null),(0,h.isNone)(i)&&(i=new(0,C.default)),R[a]=i)}if((0,h.isNone)(A))throw new H;return A._project(e,t,r,n,i)}function U(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if((0,h.isNone)(A))throw new H;if((0,h.isNone)(e)||(0,h.isNone)(t))return null;var n=A._getTransformation(M,e,t,r,null==r?void 0:r.spatialReference);return null!==n?C.default.fromGE(n):null}var V,B,H=function(e){"use strict";a.default(r,e);var t=o.default(r);function r(){return l.default(this,r),t.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")}return r}(p.default);function z(e,t,r){return!r&&(!!(0,O.equals)(e,t)||(0,O.isValid)(e)&&(0,O.isValid)(t)&&!!Je(e,t,Ye))}function W(e,t,r,n){return G.apply(this,arguments)}function G(){return(G=u.default(n(f).mark((function e(t,r,i,a){var o,s,l,u,c,p,d,h,y;return n(f).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P()){e.next=30;break}if(!Array.isArray(t)){e.next=28;break}o=!0,s=!1,l=void 0,e.prev=3,u=t[Symbol.iterator]();case 5:if(o=(c=u.next()).done){e.next=12;break}if(p=c.value,d=p.source,h=p.dest,y=p.geographicTransformation,z(d,h,y)){e.next=9;break}return e.abrupt("return",F(a));case 9:o=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),s=!0,l=e.t0;case 18:e.prev=18,e.prev=19,o||null==u.return||u.return();case 21:if(e.prev=21,!s){e.next=24;break}throw l;case 24:return e.finish(21);case 25:return e.finish(18);case 26:e.next=30;break;case 28:if(z(t,r,i)){e.next=30;break}return e.abrupt("return",F(a));case 30:case"end":return e.stop()}}),e,null,[[3,14,18,26],[19,,21,25]])})))).apply(this,arguments)}function J(e,t,r){return e?"x"in e?q(e,t,new(0,x.default),r,0):"xmin"in e?Z(e,t,new(0,b.default),r,0):"rings"in e?Y(e,t,new(0,S.default),r,0):"paths"in e?K(e,t,new(0,k.default),r,0):"points"in e?X(e,t,new(0,_.default),r,0):null:null}function q(e,t,r,n,i){nt[0]=e.x,nt[1]=e.y;var a=e.z;return nt[2]=void 0!==a?a:i,te(nt,t,0,nt,n,0,1)?(r.x=nt[0],r.y=nt[1],r.spatialReference=n,void 0===a?(r.z=void 0,r.hasZ=!1):(r.z=nt[2],r.hasZ=!0),void 0===e.m?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function X(e,t,r,n,i){var a=e.points,o=e.hasZ,s=e.hasM,l=[],u=a.length,c=[],f=!0,p=!1,d=void 0;try{for(var h,y=a[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var v=h.value;c.push(v[0],v[1],o?v[2]:i)}}catch(e){p=!0,d=e}finally{try{f||null==y.return||y.return()}finally{if(p)throw d}}if(!te(c,t,0,c,n,0,u))return null;for(var m=0;m<u;++m){var g=3*m,b=c[g],_=c[g+1];o&&s?l.push([b,_,c[g+2],a[m][3]]):o?l.push([b,_,c[g+2]]):s?l.push([b,_,a[m][2]]):l.push([b,_])}return r.points=l,r.spatialReference=n,r.hasZ=o,r.hasM=s,r}function K(e,t,r,n,i){var a=e.paths,o=e.hasZ,s=e.hasM,l=[];return re(a,o,s,t,l,n,i)?(r.paths=l,r.spatialReference=n,r.hasZ=o,r.hasM=s,r):null}function $(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.spatialReference,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return(0,h.isSome)(r)&&(0,h.isSome)(Y(e,e.spatialReference,t,r,n))}function Y(e,t,r,n,i){var a=e.rings,o=e.hasZ,s=e.hasM,l=[];return re(a,o,s,t,l,n,i)?(r.rings=l,r.spatialReference=n,r.hasZ=o,r.hasM=s,r):null}function Z(e,t,r,n,i){var a=e.xmin,o=e.ymin,s=e.xmax,l=e.ymax,u=e.hasZ,c=e.hasM;return ee(a,o,u?e.zmin:i,t,nt,n)?(r.xmin=nt[0],r.ymin=nt[1],u&&(r.zmin=nt[2]),ee(s,l,u?e.zmax:i,t,nt,n)?(r.xmax=nt[0],r.ymax=nt[1],u&&(r.zmax=nt[2]),c&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=n,r):null):null}function Q(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;nt[0]=e.x,nt[1]=e.y;var i=e.z;return nt[2]=void 0!==i?i:n,te(nt,e.spatialReference,0,t,r,0,1)}function ee(e,t,r,n,i,a){return et[0]=e,et[1]=t,et[2]=r,te(et,n,0,i,a,0,1)}function te(e,t,r,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=Je(t,i,Ye);if((0,h.isNone)(s))return!1;if(s===se){if(e===n&&r===a)return!0;for(var l=r+3*o,u=r,c=a;u<l;u++,c++)n[c]=e[u];return!0}for(var f=r+3*o,p=r,d=a;p<f;p+=3,d+=3)s(e,p,n,d);return!0}function re(e,t,r,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=new Array,l=!0,u=!1,c=void 0,f=!0,p=!1,d=void 0;try{for(var h,y=e[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var v=h.value;try{for(var m,g=v[Symbol.iterator]();!(l=(m=g.next()).done);l=!0){var b=m.value;s.push(b[0],b[1],t?b[2]:o)}}catch(e){u=!0,c=e}finally{try{l||null==g.return||g.return()}finally{if(u)throw c}}}}catch(e){p=!0,d=e}finally{try{f||null==y.return||y.return()}finally{if(p)throw d}}if(!te(s,n,0,s,a,0,s.length/3))return!1;var _=0;i.length=0;var w=!0,x=!1,S=void 0;try{for(var k,T=e[Symbol.iterator]();!(w=(k=T.next()).done);w=!0){var E=k.value,I=new Array,C=!0,O=!1,L=void 0;try{for(var A,M=E[Symbol.iterator]();!(C=(A=M.next()).done);C=!0){var N=A.value;t&&r?I.push([s[_++],s[_++],s[_++],N[3]]):t?I.push([s[_++],s[_++],s[_++]]):r?(I.push([s[_++],s[_++],N[2]]),_++):(I.push([s[_++],s[_++]]),_++)}}catch(e){O=!0,L=e}finally{try{C||null==M.return||M.return()}finally{if(O)throw L}}i.push(I)}}catch(e){x=!0,S=e}finally{try{w||null==T.return||T.return()}finally{if(x)throw S}}return!0}function ne(e,t,r,n){if((0,h.isNone)(e)||(0,h.isNone)(n))return!1;var i,a,o,s=oe(e,Ke),l=oe(n,$e);if(s===l&&!ie(l)&&(s!==V.UNKNOWN||(0,O.equals)(e,n)))return(0,m.f)(r,t),!0;if(ie(l)){var u=Ge[s][V.LON_LAT],c=Ge[V.LON_LAT][l];return!(0,h.isNone)(u)&&!(0,h.isNone)(c)&&(u(t,0,tt,0),c(tt,0,rt,0),ae(Ze*tt[0],Ze*tt[1],r),r[12]=rt[0],r[13]=rt[1],r[14]=rt[2],!0)}if((l===V.WEB_MERCATOR||l===V.PLATE_CARREE)&&(s===V.WGS84||s===V.CGCS2000&&l===V.PLATE_CARREE||s===V.SPHERICAL_ECEF||s===V.WEB_MERCATOR)){var f=Ge[s][V.LON_LAT],p=Ge[V.LON_LAT][l];return!(0,h.isNone)(f)&&!(0,h.isNone)(p)&&(f(t,0,tt,0),p(tt,0,rt,0),s===V.SPHERICAL_ECEF?(i=Ze*tt[0],a=Ze*tt[1],ae(i,a,o=r),(0,m.t)(o,o)):(0,m.i)(r),r[12]=rt[0],r[13]=rt[1],r[14]=rt[2],!0)}return!1}function ie(e){return e===V.SPHERICAL_ECEF||e===V.SPHERICAL_MARS_PCPF||e===V.SPHERICAL_MOON_PCPF}function ae(e,t,r){var n=Math.sin(e),i=Math.cos(e),a=Math.sin(t),o=Math.cos(t),s=r;return s[0]=-n,s[4]=-a*i,s[8]=o*i,s[12]=0,s[1]=i,s[5]=-a*n,s[9]=o*n,s[13]=0,s[2]=0,s[6]=o,s[10]=a,s[14]=0,s[3]=0,s[7]=0,s[11]=0,s[15]=1,s}function oe(e,t){return t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=(0,v.getMetersPerUnitForSR)(e,1)),e.wkt===T.SphericalECEFSpatialReference.wkt?t.spatialReferenceId=V.SPHERICAL_ECEF:(0,O.isWGS84)(e)?t.spatialReferenceId=V.WGS84:(0,O.isWebMercator)(e)?t.spatialReferenceId=V.WEB_MERCATOR:(0,O.isPlateCarree)(e)?t.spatialReferenceId=V.PLATE_CARREE:e.wkt===T.WGS84ECEFSpatialReference.wkt?t.spatialReferenceId=V.WGS84_ECEF:e.wkid===L.SupportedGCSWkids.CGCS2000?t.spatialReferenceId=V.CGCS2000:e.wkt===T.SphericalPCPFMars.wkt?t.spatialReferenceId=V.SPHERICAL_MARS_PCPF:e.wkt===T.SphericalPCPFMoon.wkt?t.spatialReferenceId=V.SPHERICAL_MOON_PCPF:(0,O.isMars)(e)?t.spatialReferenceId=V.GCSMARS2000:(0,O.isMoon)(e)?t.spatialReferenceId=V.GCSMOON2000:t.spatialReferenceId=V.UNKNOWN)}function se(e,t,r,n){e!==r&&(r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t])}function le(e,t,r,n){r[n++]=Qe*(e[t++]/E.earth.radius),r[n++]=Qe*(Math.PI/2-2*Math.atan(Math.exp(-e[t++]/E.earth.radius))),r[n]=e[t]}function ue(e,t,r,n){le(e,t,r,n),Re(r,n,r,n)}function ce(e,t,r,n){le(e,t,r,n),Be(r,n,r,n)}function fe(e,t,r,n){var i,a,o,s,l,u,c,f;i=e,a=t,o=r,s=n,l=E.earth,u=.4999999*Math.PI,c=(0,d.clamp)(Ze*i[a+1],-u,u),f=Math.sin(c),o[s++]=Ze*i[a]*l.radius,o[s++]=l.halfSemiMajorAxis*Math.log((1+f)/(1-f)),o[s]=i[a+2]}(B=V||(V={}))[B.UNKNOWN=0]="UNKNOWN",B[B.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",B[B.WGS84=2]="WGS84",B[B.WEB_MERCATOR=3]="WEB_MERCATOR",B[B.WGS84_ECEF=4]="WGS84_ECEF",B[B.CGCS2000=5]="CGCS2000",B[B.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",B[B.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",B[B.GCSMARS2000=8]="GCSMARS2000",B[B.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",B[B.GCSMOON2000=10]="GCSMOON2000",B[B.LON_LAT=11]="LON_LAT",B[B.PLATE_CARREE=12]="PLATE_CARREE";var pe,de,he,ye,ve,me,ge,be,_e,we,xe,Se,ke,Te,Ee=E.earth.radius*Math.PI/180,Ie=180/(E.earth.radius*Math.PI);function Ce(e,t,r,n){r[n]=e[t]*Ee,r[n+1]=e[t+1]*Ee,r[n+2]=e[t+2]}function Oe(e,t,r,n){r[n]=e[t]*Ie,r[n+1]=e[t+1]*Ie,r[n+2]=e[t+2]}function Le(e,t,r,n){le(e,t,r,n),Ce(r,n,r,n)}function Ae(e,t,r,n,i){var a=i+e[t+2],o=Ze*e[t+1],s=Ze*e[t],l=Math.cos(o);r[n++]=Math.cos(s)*l*a,r[n++]=Math.sin(s)*l*a,r[n]=Math.sin(o)*a}function Me(e,t,r,n){Ae(e,t,r,n,E.moon.radius)}function Ne(e,t,r,n){Ae(e,t,r,n,E.mars.radius)}function Re(e,t,r,n){Ae(e,t,r,n,E.earth.radius)}function Pe(e,t,r,n,i){var a=e[t],o=e[t+1],s=e[t+2],l=Math.sqrt(a*a+o*o+s*s),u=(0,d.asinClamped)(s/(0===l?1:l)),c=Math.atan2(o,a);r[n++]=Qe*c,r[n++]=Qe*u,r[n]=l-i}function Fe(e,t,r,n){Pe(e,t,r,n,E.moon.radius)}function je(e,t,r,n){Pe(e,t,r,n,E.mars.radius)}function De(e,t,r,n){Pe(e,t,r,n,E.earth.radius)}function Ue(e,t,r,n){De(e,t,r,n),fe(r,n,r,n)}function Ve(e,t,r,n){De(e,t,r,n),Be(r,n,r,n)}function Be(e,t,r,n){var i,a,o,s,l,u,c,f,p,d,h;i=e,a=t,o=r,s=n,l=E.earth,u=Ze*i[a],c=Ze*i[a+1],f=i[a+2],p=Math.sin(c),d=Math.cos(c),h=l.radius/Math.sqrt(1-l.eccentricitySquared*p*p),o[s++]=(h+f)*d*Math.cos(u),o[s++]=(h+f)*d*Math.sin(u),o[s++]=(h*(1-l.eccentricitySquared)+f)*p}function He(e,t,r,n){var i,a,o,s,l,u,c,f,p,d,h,y,v,m,g,b,_,w,x,S,k,T=I.earthEllipsoidConstants,C=e[t],O=e[t+1],L=e[t+2];i=Math.abs(L),a=C*C+O*O,o=Math.sqrt(a),s=a+L*L,l=Math.sqrt(s),S=Math.atan2(O,C),u=L*L/s,c=a/s,m=T.a2/l,g=T.a3-T.a4/l,c>.3?(f=i/l*(1+c*(T.a1+m+u*g)/l),x=Math.asin(f),d=f*f,p=Math.sqrt(1-d)):(p=o/l*(1-u*(T.a5-m-c*g)/l),x=Math.acos(p),d=1-p*p,f=Math.sqrt(d)),h=1-E.earth.eccentricitySquared*d,y=E.earth.radius/Math.sqrt(h),x+=w=(b=p*(g=i-(v=T.a6*y)*f)-f*(m=o-y*p))/(v/h+(_=p*m+f*g)),k=_+b*w/2,L<0&&(x=-x),r[n++]=Qe*S,r[n++]=Qe*x,r[n]=k}function ze(e,t,r,n){He(e,t,r,n),Re(r,n,r,n)}function We(e,t,r,n){He(e,t,r,n),fe(r,n,r,n)}var Ge=(Te={},c.default(Te,V.WGS84,(pe={},c.default(pe,V.CGCS2000,null),c.default(pe,V.GCSMARS2000,null),c.default(pe,V.GCSMOON2000,null),c.default(pe,V.LON_LAT,se),c.default(pe,V.WGS84_COMPARABLE_LON_LAT,se),c.default(pe,V.SPHERICAL_ECEF,Re),c.default(pe,V.SPHERICAL_MARS_PCPF,null),c.default(pe,V.SPHERICAL_MOON_PCPF,null),c.default(pe,V.UNKNOWN,null),c.default(pe,V.WEB_MERCATOR,fe),c.default(pe,V.PLATE_CARREE,Ce),c.default(pe,V.WGS84,se),c.default(pe,V.WGS84_ECEF,Be),pe)),c.default(Te,V.CGCS2000,(de={},c.default(de,V.CGCS2000,se),c.default(de,V.GCSMARS2000,null),c.default(de,V.GCSMOON2000,null),c.default(de,V.LON_LAT,se),c.default(de,V.WGS84_COMPARABLE_LON_LAT,se),c.default(de,V.SPHERICAL_ECEF,Re),c.default(de,V.SPHERICAL_MARS_PCPF,null),c.default(de,V.SPHERICAL_MOON_PCPF,null),c.default(de,V.UNKNOWN,null),c.default(de,V.WEB_MERCATOR,null),c.default(de,V.PLATE_CARREE,Ce),c.default(de,V.WGS84,null),c.default(de,V.WGS84_ECEF,Be),de)),c.default(Te,V.GCSMARS2000,(he={},c.default(he,V.CGCS2000,null),c.default(he,V.GCSMARS2000,se),c.default(he,V.GCSMOON2000,null),c.default(he,V.LON_LAT,se),c.default(he,V.WGS84_COMPARABLE_LON_LAT,null),c.default(he,V.SPHERICAL_ECEF,null),c.default(he,V.SPHERICAL_MARS_PCPF,Ne),c.default(he,V.SPHERICAL_MOON_PCPF,null),c.default(he,V.UNKNOWN,null),c.default(he,V.WEB_MERCATOR,null),c.default(he,V.PLATE_CARREE,null),c.default(he,V.WGS84,null),c.default(he,V.WGS84_ECEF,null),he)),c.default(Te,V.GCSMOON2000,(ye={},c.default(ye,V.CGCS2000,null),c.default(ye,V.GCSMARS2000,null),c.default(ye,V.GCSMOON2000,se),c.default(ye,V.LON_LAT,se),c.default(ye,V.WGS84_COMPARABLE_LON_LAT,null),c.default(ye,V.SPHERICAL_ECEF,null),c.default(ye,V.SPHERICAL_MARS_PCPF,null),c.default(ye,V.SPHERICAL_MOON_PCPF,Me),c.default(ye,V.UNKNOWN,null),c.default(ye,V.WEB_MERCATOR,null),c.default(ye,V.PLATE_CARREE,null),c.default(ye,V.WGS84,null),c.default(ye,V.WGS84_ECEF,null),ye)),c.default(Te,V.WEB_MERCATOR,(ve={},c.default(ve,V.CGCS2000,null),c.default(ve,V.GCSMARS2000,null),c.default(ve,V.GCSMOON2000,null),c.default(ve,V.LON_LAT,le),c.default(ve,V.WGS84_COMPARABLE_LON_LAT,le),c.default(ve,V.SPHERICAL_ECEF,ue),c.default(ve,V.SPHERICAL_MARS_PCPF,null),c.default(ve,V.SPHERICAL_MOON_PCPF,null),c.default(ve,V.UNKNOWN,null),c.default(ve,V.WEB_MERCATOR,se),c.default(ve,V.PLATE_CARREE,Le),c.default(ve,V.WGS84,le),c.default(ve,V.WGS84_ECEF,ce),ve)),c.default(Te,V.WGS84_ECEF,(me={},c.default(me,V.CGCS2000,He),c.default(me,V.GCSMARS2000,null),c.default(me,V.GCSMOON2000,null),c.default(me,V.LON_LAT,He),c.default(me,V.WGS84_COMPARABLE_LON_LAT,He),c.default(me,V.SPHERICAL_ECEF,ze),c.default(me,V.SPHERICAL_MARS_PCPF,null),c.default(me,V.SPHERICAL_MOON_PCPF,null),c.default(me,V.UNKNOWN,null),c.default(me,V.WEB_MERCATOR,We),c.default(me,V.PLATE_CARREE,(function(e,t,r,n){He(e,t,r,n),Ce(r,n,r,n)})),c.default(me,V.WGS84,He),c.default(me,V.WGS84_ECEF,se),me)),c.default(Te,V.SPHERICAL_ECEF,(ge={},c.default(ge,V.CGCS2000,De),c.default(ge,V.GCSMARS2000,null),c.default(ge,V.GCSMOON2000,null),c.default(ge,V.LON_LAT,De),c.default(ge,V.WGS84_COMPARABLE_LON_LAT,De),c.default(ge,V.SPHERICAL_ECEF,se),c.default(ge,V.SPHERICAL_MARS_PCPF,null),c.default(ge,V.SPHERICAL_MOON_PCPF,null),c.default(ge,V.UNKNOWN,null),c.default(ge,V.WEB_MERCATOR,Ue),c.default(ge,V.PLATE_CARREE,(function(e,t,r,n){De(e,t,r,n),Ce(r,n,r,n)})),c.default(ge,V.WGS84,De),c.default(ge,V.WGS84_ECEF,Ve),ge)),c.default(Te,V.SPHERICAL_MARS_PCPF,(be={},c.default(be,V.CGCS2000,null),c.default(be,V.GCSMARS2000,je),c.default(be,V.GCSMOON2000,null),c.default(be,V.LON_LAT,je),c.default(be,V.WGS84_COMPARABLE_LON_LAT,null),c.default(be,V.SPHERICAL_ECEF,null),c.default(be,V.SPHERICAL_MARS_PCPF,se),c.default(be,V.SPHERICAL_MOON_PCPF,null),c.default(be,V.UNKNOWN,null),c.default(be,V.WEB_MERCATOR,null),c.default(be,V.PLATE_CARREE,null),c.default(be,V.WGS84,null),c.default(be,V.WGS84_ECEF,null),be)),c.default(Te,V.SPHERICAL_MOON_PCPF,(_e={},c.default(_e,V.CGCS2000,null),c.default(_e,V.GCSMARS2000,null),c.default(_e,V.GCSMOON2000,Fe),c.default(_e,V.LON_LAT,Fe),c.default(_e,V.WGS84_COMPARABLE_LON_LAT,null),c.default(_e,V.SPHERICAL_ECEF,null),c.default(_e,V.SPHERICAL_MARS_PCPF,null),c.default(_e,V.SPHERICAL_MOON_PCPF,se),c.default(_e,V.UNKNOWN,null),c.default(_e,V.WEB_MERCATOR,null),c.default(_e,V.PLATE_CARREE,null),c.default(_e,V.WGS84,null),c.default(_e,V.WGS84_ECEF,null),_e)),c.default(Te,V.UNKNOWN,(we={},c.default(we,V.CGCS2000,null),c.default(we,V.GCSMARS2000,null),c.default(we,V.GCSMOON2000,null),c.default(we,V.LON_LAT,null),c.default(we,V.WGS84_COMPARABLE_LON_LAT,null),c.default(we,V.SPHERICAL_ECEF,null),c.default(we,V.SPHERICAL_MARS_PCPF,null),c.default(we,V.SPHERICAL_MOON_PCPF,null),c.default(we,V.UNKNOWN,se),c.default(we,V.WEB_MERCATOR,null),c.default(we,V.PLATE_CARREE,null),c.default(we,V.WGS84,null),c.default(we,V.WGS84_ECEF,null),we)),c.default(Te,V.LON_LAT,(xe={},c.default(xe,V.CGCS2000,se),c.default(xe,V.GCSMARS2000,se),c.default(xe,V.GCSMOON2000,se),c.default(xe,V.LON_LAT,se),c.default(xe,V.WGS84_COMPARABLE_LON_LAT,se),c.default(xe,V.SPHERICAL_ECEF,Re),c.default(xe,V.SPHERICAL_MARS_PCPF,Ne),c.default(xe,V.SPHERICAL_MOON_PCPF,Me),c.default(xe,V.UNKNOWN,null),c.default(xe,V.WEB_MERCATOR,fe),c.default(xe,V.PLATE_CARREE,Ce),c.default(xe,V.WGS84,se),c.default(xe,V.WGS84_ECEF,Be),xe)),c.default(Te,V.WGS84_COMPARABLE_LON_LAT,(Se={},c.default(Se,V.CGCS2000,null),c.default(Se,V.GCSMARS2000,null),c.default(Se,V.GCSMOON2000,null),c.default(Se,V.LON_LAT,se),c.default(Se,V.WGS84_COMPARABLE_LON_LAT,se),c.default(Se,V.SPHERICAL_ECEF,Re),c.default(Se,V.SPHERICAL_MARS_PCPF,null),c.default(Se,V.SPHERICAL_MOON_PCPF,null),c.default(Se,V.UNKNOWN,null),c.default(Se,V.WEB_MERCATOR,null),c.default(Se,V.PLATE_CARREE,Ce),c.default(Se,V.WGS84,se),c.default(Se,V.WGS84_ECEF,Be),Se)),c.default(Te,V.PLATE_CARREE,(ke={},c.default(ke,V.CGCS2000,Oe),c.default(ke,V.GCSMARS2000,null),c.default(ke,V.GCSMOON2000,null),c.default(ke,V.LON_LAT,Oe),c.default(ke,V.WGS84_COMPARABLE_LON_LAT,Oe),c.default(ke,V.SPHERICAL_ECEF,(function(e,t,r,n){Oe(e,t,r,n),Re(r,n,r,n)})),c.default(ke,V.SPHERICAL_MARS_PCPF,null),c.default(ke,V.SPHERICAL_MOON_PCPF,null),c.default(ke,V.UNKNOWN,null),c.default(ke,V.WEB_MERCATOR,(function(e,t,r,n){Oe(e,t,r,n),fe(r,n,r,n)})),c.default(ke,V.PLATE_CARREE,se),c.default(ke,V.WGS84,Oe),c.default(ke,V.WGS84_ECEF,(function(e,t,r,n){Oe(e,t,r,n),Be(r,n,r,n)})),ke)),Te);function Je(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xe();return(0,h.isNone)(e)||(0,h.isNone)(t)?null:qe(e,t,r).projector}function qe(e,t,r){if((0,h.isNone)(e)||(0,h.isNone)(t)||r.source.spatialReference===e&&r.dest.spatialReference===t)return r;var n=oe(e,r.source),i=oe(t,r.dest);return n===V.UNKNOWN&&i===V.UNKNOWN?(0,O.equals)(e,t)?r.projector=se:r.projector=null:r.projector=Ge[n][i],r}function Xe(){return{source:{spatialReference:null,spatialReferenceId:V.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:V.UNKNOWN,metersPerUnit:1},projector:se}}var Ke={spatialReference:null,spatialReferenceId:V.UNKNOWN},$e={spatialReference:null,spatialReferenceId:V.UNKNOWN},Ye=Xe(),Ze=(Xe(),(0,d.deg2rad)(1)),Qe=(0,d.rad2deg)(1),et=(0,g.c)(),tt=(0,g.c)(),rt=(0,g.c)(),nt=(0,g.c)();(0,g.c)()})),s.register("5vzSQ",(function(t,r){e(t.exports,"inchesPerMeter",(function(){return p})),e(t.exports,"convertUnit",(function(){return T})),e(t.exports,"preferredMetricLengthUnit",(function(){return E})),e(t.exports,"preferredImperialLengthUnit",(function(){return C})),e(t.exports,"preferredMetricVerticalLengthUnit",(function(){return I})),e(t.exports,"preferredImperialVerticalLengthUnit",(function(){return O})),e(t.exports,"preferredMetricAreaUnit",(function(){return L})),e(t.exports,"preferredImperialAreaUnit",(function(){return A})),e(t.exports,"lengthToDegrees",(function(){return M})),e(t.exports,"unitFromRESTJSON",(function(){return N})),e(t.exports,"getMetersPerVerticalUnitForSR",(function(){return R})),e(t.exports,"getMetersPerUnitForSR",(function(){return F})),e(t.exports,"getVerticalUnitStringForSR",(function(){return P})),e(t.exports,"getUnitString",(function(){return V})),e(t.exports,"getMetersPerUnit",(function(){return j})),e(t.exports,"areaUnitsJSONMap",(function(){return G})),e(t.exports,"lengthUnitsJSONMap",(function(){return J})),s("8TSCy");var n=s("ifq4M");s("2VlWd");var i=s("79ASa"),a=s("7qybv"),o=s("7USIy"),l=s("j40xv"),u=s("8NvwW"),c=s("eY5Yp"),f=s("b6801"),p=39.37,d=u.earth.radius*Math.PI/200,h=/UNIT\[([^\]]+)\]\]$/i,y=f.default,v=/UNIT\[([^\]]+)\]/i,m=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),g=(0,i.strict)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),b=function(e){return e*e},_=function(e){return e*e*e},w={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:b(.001)},"square-centimeters":{inBaseUnits:b(.01)},"square-decimeters":{inBaseUnits:b(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:b(1e3)},"square-inches":{inBaseUnits:b(.0254)},"square-feet":{inBaseUnits:b(.3048)},"square-yards":{inBaseUnits:b(.9144)},"square-miles":{inBaseUnits:b(1609.344)},"square-us-feet":{inBaseUnits:b(1200/3937)},acres:{inBaseUnits:.0015625*b(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*_(.001)},"cubic-centimeters":{inBaseUnits:1e3*_(.01)},"cubic-decimeters":{inBaseUnits:1e3*_(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*_(1e3)},"cubic-inches":{inBaseUnits:1e3*_(.0254)},"cubic-feet":{inBaseUnits:1e3*_(.3048)},"cubic-yards":{inBaseUnits:1e3*_(.9144)},"cubic-miles":{inBaseUnits:1e3*_(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},x=function(){var e={};for(var t in w)for(var r in w[t].units)e[r]=t;return e}();function S(e){var t=x[e];if(t)return t;throw new Error("unknown type")}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t=t||S(e),w[t].baseUnit===e}function T(e,t,r){if(t===r)return e;var n=S(t);if(n!==S(r))throw new Error("incompatible units");var i,a,o=k(t,n)?e:(i=t,e*w[n].units[i].inBaseUnits);return k(r,n)?o:(a=r,o/w[n].units[a].inBaseUnits)}function E(e,t){return T(e,t,"meters")<3e3?"meters":"kilometers"}function I(e,t){return T(e,t,"meters")<1e5?"meters":"kilometers"}function C(e,t){return T(e,t,"feet")<1e3?"feet":"miles"}function O(e,t){return T(e,t,"feet")<1e5?"feet":"miles"}function L(e,t){return T(e,t,"square-meters")<3e6?"square-meters":"square-kilometers"}function A(e,t){return T(e,t,"square-feet")<1e6?"square-feet":"square-miles"}function M(e,t,r){return T(e,t,"meters")/(r*Math.PI/180)}function N(e){return g.fromJSON(e.toLowerCase())||null}function R(e){if(e&&"object"==typeof e&&!(0,c.isEarth)(e))return 1;var t=F(e);return t>1e5?1:t}function P(e){return F(e)>=(e instanceof l.default?(0,o.getReferenceEllipsoid)(e).metersPerDegree:1e5)?"meters":V(e)}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.earth.metersPerDegree;return j(e,!0)||t}function j(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null;if(null!=e&&("object"==typeof e?(t=e.wkid,r=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(r=e)),t){if((0,c.isWKIDFromMars)(t))return u.mars.metersPerDegree;if((0,c.isWKIDFromMoon)(t))return u.moon.metersPerDegree;!(i=y.values[y[t]])&&n&&m.has(t)&&(i=d)}else r&&(H(r)?i=D(h.exec(r),i):B(r)&&(i=D(v.exec(r),i)));return i}function D(e,t){return e&&e[1]?U(e[1]):t}function U(e){return parseFloat(e.split(",")[1])}function V(e){var t,r,n=null;if(null!=e&&("object"==typeof e?(t=e.wkid,r=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(r=e)),t)n=y.units[y[t]];else if(r){var i=H(r)?h:B(r)?v:null;if(i){var o=i.exec(r);o&&o[1]&&(n=function(e){var t=/[\\"\\']{1}([^\\"\\']+)/.exec(e),r=t&&t[1];if(!r||-1===y.units.indexOf(r)){var n=U(e);r=null;for(var i=y.values,a=0;a<i.length;++a)if(Math.abs(n-i[a])<1e-7){r=y.units[a];break}}return r}(o[1]))}}return(0,a.isSome)(n)?N(n):null}function B(e){return/^GEOCCS/i.test(e)}function H(e){return/^PROJCS/i.test(e)}var z={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},W={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},G=(0,i.strict)()(z),J=(0,i.strict)()(W);(0,i.strict)()(n.default({},z,W))})),s.register("7USIy",(function(t,r){e(t.exports,"SphericalECEFSpatialReference",(function(){return l})),e(t.exports,"SphericalPCPFMars",(function(){return u})),e(t.exports,"SphericalPCPFMoon",(function(){return c})),e(t.exports,"WGS84ECEFSpatialReference",(function(){return f})),e(t.exports,"getSphericalPCPF",(function(){return p})),e(t.exports,"getReferenceEllipsoid",(function(){return d})),e(t.exports,"getReferenceEllipsoidFromWKID",(function(){return h}));var n=s("j40xv"),i=s("8NvwW"),a=s("eY5Yp");function o(e){return new(0,n.default)({wkt:'GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",'.concat(e.radius,',0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]')})}var l=o(i.earth),u=o(i.mars),c=o(i.moon),f=new(0,n.default)({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",'.concat(i.earth.radius,',298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]')});function p(e){return e&&((0,a.isMars)(e)||e===u)?u:e&&((0,a.isMoon)(e)||e===c)?c:l}function d(e){return e&&((0,a.isMars)(e)||e===u)?i.mars:e&&((0,a.isMoon)(e)||e===c)?i.moon:i.earth}function h(e){return(0,a.isWKIDFromMars)(e)?i.mars:(0,a.isWKIDFromMoon)(e)?i.moon:i.earth}})),s.register("gEEzE",(function(t,r){e(t.exports,"c",(function(){return a})),e(t.exports,"s",(function(){return o})),e(t.exports,"i",(function(){return l})),e(t.exports,"t",(function(){return u})),e(t.exports,"a",(function(){return c})),e(t.exports,"m",(function(){return f})),e(t.exports,"j",(function(){return p})),e(t.exports,"h",(function(){return d})),e(t.exports,"e",(function(){return h})),e(t.exports,"f",(function(){return y})),e(t.exports,"u",(function(){return v})),e(t.exports,"d",(function(){return m})),e(t.exports,"y",(function(){return g})),e(t.exports,"w",(function(){return x})),e(t.exports,"v",(function(){return S})),e(t.exports,"p",(function(){return k}));var n=s("5YMIf"),i=s("1CBkz");function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function o(e,t,r,n,i,a,o,s,l,u,c,f,p,d,h,y,v){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=l,e[8]=u,e[9]=c,e[10]=f,e[11]=p,e[12]=d,e[13]=h,e[14]=y,e[15]=v,e}function l(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function u(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function c(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],p=t[10],d=t[11],h=t[12],y=t[13],v=t[14],m=t[15],g=r*s-n*o,b=r*l-i*o,_=r*u-a*o,w=n*l-i*s,x=n*u-a*s,S=i*u-a*l,k=c*y-f*h,T=c*v-p*h,E=c*m-d*h,I=f*v-p*y,C=f*m-d*y,O=p*m-d*v,L=g*O-b*C+_*I+w*E-x*T+S*k;return L?(L=1/L,e[0]=(s*O-l*C+u*I)*L,e[1]=(i*C-n*O-a*I)*L,e[2]=(y*S-v*x+m*w)*L,e[3]=(p*x-f*S-d*w)*L,e[4]=(l*E-o*O-u*T)*L,e[5]=(r*O-i*E+a*T)*L,e[6]=(v*_-h*S-m*b)*L,e[7]=(c*S-p*_+d*b)*L,e[8]=(o*C-s*E+u*k)*L,e[9]=(n*E-r*C-a*k)*L,e[10]=(h*x-y*_+m*g)*L,e[11]=(f*_-c*x-d*g)*L,e[12]=(s*T-o*I-l*k)*L,e[13]=(r*I-n*T+i*k)*L,e[14]=(y*b-h*w-v*g)*L,e[15]=(c*w-f*b+p*g)*L,e):null}function f(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],p=t[9],d=t[10],h=t[11],y=t[12],v=t[13],m=t[14],g=t[15],b=r[0],_=r[1],w=r[2],x=r[3];return e[0]=b*n+_*s+w*f+x*y,e[1]=b*i+_*l+w*p+x*v,e[2]=b*a+_*u+w*d+x*m,e[3]=b*o+_*c+w*h+x*g,b=r[4],_=r[5],w=r[6],x=r[7],e[4]=b*n+_*s+w*f+x*y,e[5]=b*i+_*l+w*p+x*v,e[6]=b*a+_*u+w*d+x*m,e[7]=b*o+_*c+w*h+x*g,b=r[8],_=r[9],w=r[10],x=r[11],e[8]=b*n+_*s+w*f+x*y,e[9]=b*i+_*l+w*p+x*v,e[10]=b*a+_*u+w*d+x*m,e[11]=b*o+_*c+w*h+x*g,b=r[12],_=r[13],w=r[14],x=r[15],e[12]=b*n+_*s+w*f+x*y,e[13]=b*i+_*l+w*p+x*v,e[14]=b*a+_*u+w*d+x*m,e[15]=b*o+_*c+w*h+x*g,e}function p(e,t,r){var n,i,a,o,s,l,u,c,f,p,d,h,y=r[0],v=r[1],m=r[2];return t===e?(e[12]=t[0]*y+t[4]*v+t[8]*m+t[12],e[13]=t[1]*y+t[5]*v+t[9]*m+t[13],e[14]=t[2]*y+t[6]*v+t[10]*m+t[14],e[15]=t[3]*y+t[7]*v+t[11]*m+t[15]):(n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],p=t[9],d=t[10],h=t[11],e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=f,e[9]=p,e[10]=d,e[11]=h,e[12]=n*y+s*v+f*m+t[12],e[13]=i*y+l*v+p*m+t[13],e[14]=a*y+u*v+d*m+t[14],e[15]=o*y+c*v+h*m+t[15]),e}function d(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function h(e,t,r,n){var a,o,s,l,u,c,f,p,d,h,y,v,m,g,b,_,w,x,S,k,T,E,I,C,O=n[0],L=n[1],A=n[2],M=Math.sqrt(O*O+L*L+A*A);return M<i.E?null:(O*=M=1/M,L*=M,A*=M,a=Math.sin(r),s=1-(o=Math.cos(r)),l=t[0],u=t[1],c=t[2],f=t[3],p=t[4],d=t[5],h=t[6],y=t[7],v=t[8],m=t[9],g=t[10],b=t[11],_=O*O*s+o,w=L*O*s+A*a,x=A*O*s-L*a,S=O*L*s-A*a,k=L*L*s+o,T=A*L*s+O*a,E=O*A*s+L*a,I=L*A*s-O*a,C=A*A*s+o,e[0]=l*_+p*w+v*x,e[1]=u*_+d*w+m*x,e[2]=c*_+h*w+g*x,e[3]=f*_+y*w+b*x,e[4]=l*S+p*k+v*T,e[5]=u*S+d*k+m*T,e[6]=c*S+h*k+g*T,e[7]=f*S+y*k+b*T,e[8]=l*E+p*I+v*C,e[9]=u*E+d*I+m*C,e[10]=c*E+h*I+g*C,e[11]=f*E+y*I+b*C,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function y(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function v(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function m(e,t,r){var n,a,o,s=r[0],l=r[1],u=r[2],c=Math.sqrt(s*s+l*l+u*u);return c<i.E?null:(s*=c=1/c,l*=c,u*=c,n=Math.sin(t),o=1-(a=Math.cos(t)),e[0]=s*s*o+a,e[1]=l*s*o+u*n,e[2]=u*s*o-l*n,e[3]=0,e[4]=s*l*o-u*n,e[5]=l*l*o+a,e[6]=u*l*o+s*n,e[7]=0,e[8]=s*u*o+l*n,e[9]=l*u*o-s*n,e[10]=u*u*o+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function g(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function b(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=n+n,l=i+i,u=a+a,c=n*s,f=n*l,p=n*u,d=i*l,h=i*u,y=a*u,v=o*s,m=o*l,g=o*u;return e[0]=1-(d+y),e[1]=f+g,e[2]=p-m,e[3]=0,e[4]=f-g,e[5]=1-(c+y),e[6]=h+v,e[7]=0,e[8]=p+m,e[9]=h-v,e[10]=1-(c+d),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}var _=(0,n.c)();function w(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function x(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function S(e,t){if(e===t)return!0;var r=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],p=e[9],d=e[10],h=e[11],y=e[12],v=e[13],m=e[14],g=e[15],b=t[0],_=t[1],w=t[2],x=t[3],S=t[4],k=t[5],T=t[6],E=t[7],I=t[8],C=t[9],O=t[10],L=t[11],A=t[12],M=t[13],N=t[14],R=t[15];return Math.abs(r-b)<=i.E*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(n-_)<=i.E*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(a-w)<=i.E*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(o-x)<=i.E*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(s-S)<=i.E*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-k)<=i.E*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(u-T)<=i.E*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(c-E)<=i.E*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(f-I)<=i.E*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(p-C)<=i.E*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(d-O)<=i.E*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(h-L)<=i.E*Math.max(1,Math.abs(h),Math.abs(L))&&Math.abs(y-A)<=i.E*Math.max(1,Math.abs(y),Math.abs(A))&&Math.abs(v-M)<=i.E*Math.max(1,Math.abs(v),Math.abs(M))&&Math.abs(m-N)<=i.E*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(g-R)<=i.E*Math.max(1,Math.abs(g),Math.abs(R))}function k(e){var t=i.E,r=e[0],n=e[1],a=e[2],o=e[4],s=e[5],l=e[6],u=e[8],c=e[9],f=e[10];return Math.abs(1-(r*r+o*o+u*u))<=t&&Math.abs(1-(n*n+s*s+c*c))<=t&&Math.abs(1-(a*a+l*l+f*f))<=t}var T=f,E=w;Object.freeze({__proto__:null,copy:a,set:o,identity:l,transpose:u,invert:c,adjoint:function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],p=t[10],d=t[11],h=t[12],y=t[13],v=t[14],m=t[15];return e[0]=s*(p*m-d*v)-f*(l*m-u*v)+y*(l*d-u*p),e[1]=-(n*(p*m-d*v)-f*(i*m-a*v)+y*(i*d-a*p)),e[2]=n*(l*m-u*v)-s*(i*m-a*v)+y*(i*u-a*l),e[3]=-(n*(l*d-u*p)-s*(i*d-a*p)+f*(i*u-a*l)),e[4]=-(o*(p*m-d*v)-c*(l*m-u*v)+h*(l*d-u*p)),e[5]=r*(p*m-d*v)-c*(i*m-a*v)+h*(i*d-a*p),e[6]=-(r*(l*m-u*v)-o*(i*m-a*v)+h*(i*u-a*l)),e[7]=r*(l*d-u*p)-o*(i*d-a*p)+c*(i*u-a*l),e[8]=o*(f*m-d*y)-c*(s*m-u*y)+h*(s*d-u*f),e[9]=-(r*(f*m-d*y)-c*(n*m-a*y)+h*(n*d-a*f)),e[10]=r*(s*m-u*y)-o*(n*m-a*y)+h*(n*u-a*s),e[11]=-(r*(s*d-u*f)-o*(n*d-a*f)+c*(n*u-a*s)),e[12]=-(o*(f*v-p*y)-c*(s*v-l*y)+h*(s*p-l*f)),e[13]=r*(f*v-p*y)-c*(n*v-i*y)+h*(n*p-i*f),e[14]=-(r*(s*v-l*y)-o*(n*v-i*y)+h*(n*l-i*s)),e[15]=r*(s*p-l*f)-o*(n*p-i*f)+c*(n*l-i*s),e},determinant:function(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],p=e[11],d=e[12],h=e[13],y=e[14],v=e[15];return(t*o-r*a)*(f*v-p*y)-(t*s-n*a)*(c*v-p*h)+(t*l-i*a)*(c*y-f*h)+(r*s-n*o)*(u*v-p*d)-(r*l-i*o)*(u*y-f*d)+(n*l-i*s)*(u*h-c*d)},multiply:f,translate:p,scale:d,rotate:h,rotateX:function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+u*n,e[5]=o*i+c*n,e[6]=s*i+f*n,e[7]=l*i+p*n,e[8]=u*i-a*n,e[9]=c*i-o*n,e[10]=f*i-s*n,e[11]=p*i-l*n,e},rotateY:function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],l=t[3],u=t[8],c=t[9],f=t[10],p=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-u*n,e[1]=o*i-c*n,e[2]=s*i-f*n,e[3]=l*i-p*n,e[8]=a*n+u*i,e[9]=o*n+c*i,e[10]=s*n+f*i,e[11]=l*n+p*i,e},rotateZ:function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],l=t[3],u=t[4],c=t[5],f=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+u*n,e[1]=o*i+c*n,e[2]=s*i+f*n,e[3]=l*i+p*n,e[4]=u*i-a*n,e[5]=c*i-o*n,e[6]=f*i-s*n,e[7]=p*i-l*n,e},fromTranslation:y,fromScaling:v,fromRotation:m,fromXRotation:g,fromYRotation:function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromZRotation:function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromRotationTranslation:b,fromQuat2:function(e,t){var r=_,n=-t[0],i=-t[1],a=-t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=n*n+i*i+a*a+o*o;return f>0?(r[0]=2*(s*o+c*n+l*a-u*i)/f,r[1]=2*(l*o+c*i+u*n-s*a)/f,r[2]=2*(u*o+c*a+s*i-l*n)/f):(r[0]=2*(s*o+c*n+l*a-u*i),r[1]=2*(l*o+c*i+u*n-s*a),r[2]=2*(u*o+c*a+s*i-l*n)),b(e,t,r),e},getTranslation:function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},getScaling:function(e,t){var r=t[0],n=t[1],i=t[2],a=t[4],o=t[5],s=t[6],l=t[8],u=t[9],c=t[10];return e[0]=Math.sqrt(r*r+n*n+i*i),e[1]=Math.sqrt(a*a+o*o+s*s),e[2]=Math.sqrt(l*l+u*u+c*c),e},getRotation:function(e,t){var r=t[0]+t[5]+t[10],n=0;return r>0?(n=2*Math.sqrt(r+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e},fromRotationTranslationScale:function(e,t,r,n){var i=t[0],a=t[1],o=t[2],s=t[3],l=i+i,u=a+a,c=o+o,f=i*l,p=i*u,d=i*c,h=a*u,y=a*c,v=o*c,m=s*l,g=s*u,b=s*c,_=n[0],w=n[1],x=n[2];return e[0]=(1-(h+v))*_,e[1]=(p+b)*_,e[2]=(d-g)*_,e[3]=0,e[4]=(p-b)*w,e[5]=(1-(f+v))*w,e[6]=(y+m)*w,e[7]=0,e[8]=(d+g)*x,e[9]=(y-m)*x,e[10]=(1-(f+h))*x,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e},fromRotationTranslationScaleOrigin:function(e,t,r,n,i){var a=t[0],o=t[1],s=t[2],l=t[3],u=a+a,c=o+o,f=s+s,p=a*u,d=a*c,h=a*f,y=o*c,v=o*f,m=s*f,g=l*u,b=l*c,_=l*f,w=n[0],x=n[1],S=n[2],k=i[0],T=i[1],E=i[2],I=(1-(y+m))*w,C=(d+_)*w,O=(h-b)*w,L=(d-_)*x,A=(1-(p+m))*x,M=(v+g)*x,N=(h+b)*S,R=(v-g)*S,P=(1-(p+y))*S;return e[0]=I,e[1]=C,e[2]=O,e[3]=0,e[4]=L,e[5]=A,e[6]=M,e[7]=0,e[8]=N,e[9]=R,e[10]=P,e[11]=0,e[12]=r[0]+k-(I*k+L*T+N*E),e[13]=r[1]+T-(C*k+A*T+R*E),e[14]=r[2]+E-(O*k+M*T+P*E),e[15]=1,e},fromQuat:function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r+r,s=n+n,l=i+i,u=r*o,c=n*o,f=n*s,p=i*o,d=i*s,h=i*l,y=a*o,v=a*s,m=a*l;return e[0]=1-f-h,e[1]=c+m,e[2]=p-v,e[3]=0,e[4]=c-m,e[5]=1-u-h,e[6]=d+y,e[7]=0,e[8]=p+v,e[9]=d-y,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},frustum:function(e,t,r,n,i,a,o){var s=1/(r-t),l=1/(i-n),u=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*l,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(i+n)*l,e[10]=(o+a)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*u,e[15]=0,e},perspective:function(e,t,r,n,i){var a,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(n-i),e[10]=(i+n)*a,e[14]=2*i*n*a):(e[10]=-1,e[14]=-2*n),e},perspectiveFromFieldOfView:function(e,t,r,n){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+s),u=2/(i+a);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(o-s)*l*.5,e[9]=(i-a)*u*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e},ortho:function(e,t,r,n,i,a,o){var s=1/(t-r),l=1/(n-i),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*l,e[14]=(o+a)*u,e[15]=1,e},lookAt:function(e,t,r,n){var a,o,s,u,c,f,p,d,h,y,v=t[0],m=t[1],g=t[2],b=n[0],_=n[1],w=n[2],x=r[0],S=r[1],k=r[2];return Math.abs(v-x)<i.E&&Math.abs(m-S)<i.E&&Math.abs(g-k)<i.E?l(e):(p=v-x,d=m-S,h=g-k,a=_*(h*=y=1/Math.sqrt(p*p+d*d+h*h))-w*(d*=y),o=w*(p*=y)-b*h,s=b*d-_*p,(y=Math.sqrt(a*a+o*o+s*s))?(a*=y=1/y,o*=y,s*=y):(a=0,o=0,s=0),u=d*s-h*o,c=h*a-p*s,f=p*o-d*a,(y=Math.sqrt(u*u+c*c+f*f))?(u*=y=1/y,c*=y,f*=y):(u=0,c=0,f=0),e[0]=a,e[1]=u,e[2]=p,e[3]=0,e[4]=o,e[5]=c,e[6]=d,e[7]=0,e[8]=s,e[9]=f,e[10]=h,e[11]=0,e[12]=-(a*v+o*m+s*g),e[13]=-(u*v+c*m+f*g),e[14]=-(p*v+d*m+h*g),e[15]=1,e)},targetTo:function(e,t,r,n){var i=t[0],a=t[1],o=t[2],s=n[0],l=n[1],u=n[2],c=i-r[0],f=a-r[1],p=o-r[2],d=c*c+f*f+p*p;d>0&&(c*=d=1/Math.sqrt(d),f*=d,p*=d);var h=l*p-u*f,y=u*c-s*p,v=s*f-l*c;return(d=h*h+y*y+v*v)>0&&(h*=d=1/Math.sqrt(d),y*=d,v*=d),e[0]=h,e[1]=y,e[2]=v,e[3]=0,e[4]=f*v-p*y,e[5]=p*h-c*v,e[6]=c*y-f*h,e[7]=0,e[8]=c,e[9]=f,e[10]=p,e[11]=0,e[12]=i,e[13]=a,e[14]=o,e[15]=1,e},str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},frob:function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},add:function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e},subtract:w,multiplyScalar:function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e},multiplyScalarAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e},exactEquals:x,equals:S,isOrthoNormal:k,mul:T,sub:E})})),s.register("eIIVb",(function(t,r){e(t.exports,"i",(function(){return v})),e(t.exports,"l",(function(){return m})),e(t.exports,"g",(function(){return i})),e(t.exports,"f",(function(){return a})),e(t.exports,"e",(function(){return o})),e(t.exports,"h",(function(){return _})),e(t.exports,"j",(function(){return T})),e(t.exports,"p",(function(){return z})),s("8TSCy");var n,i,a,o,l,u=s("g9uIT"),c=s("dap1g"),f=s("f9pi5"),p=s("jK9zx"),d=s("i9j5X"),h=s("2VlWd"),y=null;function v(){return!!y}function m(){return n||(n=s("3C9Zf").then((function(e){return e.p})).then((function(e){return(0,e.default)({locateFile:function(e){return(0,d.getAssetUrl)("esri/geometry/support/".concat(e))}})})).then((function(e){D(e)})))}!function(e){function t(e,t,r){y.ensureCache.prepare();var n=B(r),i=r===n,a=y.ensureFloat64(n),o=y._pe_geog_to_proj(y.getPointer(e),t,a);return o&&H(r,t,a,i),o}function r(e,t,r){return n(e,t,r,0)}function n(e,t,r,n){y.ensureCache.prepare();var i=B(r),a=r===i,o=y.ensureFloat64(i),s=y._pe_proj_to_geog_center(y.getPointer(e),t,o,n);return s&&H(r,t,o,a),s}e.geogToProj=t,e.projGeog=function(e,n,i,o){switch(o){case a.PE_TRANSFORM_P_TO_G:return r(e,n,i);case a.PE_TRANSFORM_G_TO_P:return t(e,n,i)}return 0},e.projToGeog=r,e.projToGeogCenter=n}(i||(i={})),(l=a||(a={})).init=function(){l.PE_BUFFER_MAX=y.PeDefs.prototype.PE_BUFFER_MAX,l.PE_NAME_MAX=y.PeDefs.prototype.PE_NAME_MAX,l.PE_MGRS_MAX=y.PeDefs.prototype.PE_MGRS_MAX,l.PE_USNG_MAX=y.PeDefs.prototype.PE_USNG_MAX,l.PE_DD_MAX=y.PeDefs.prototype.PE_DD_MAX,l.PE_DDM_MAX=y.PeDefs.prototype.PE_DDM_MAX,l.PE_DMS_MAX=y.PeDefs.prototype.PE_DMS_MAX,l.PE_UTM_MAX=y.PeDefs.prototype.PE_UTM_MAX,l.PE_PARM_MAX=y.PeDefs.prototype.PE_PARM_MAX,l.PE_TYPE_NONE=y.PeDefs.prototype.PE_TYPE_NONE,l.PE_TYPE_GEOGCS=y.PeDefs.prototype.PE_TYPE_GEOGCS,l.PE_TYPE_PROJCS=y.PeDefs.prototype.PE_TYPE_PROJCS,l.PE_TYPE_GEOGTRAN=y.PeDefs.prototype.PE_TYPE_GEOGTRAN,l.PE_TYPE_COORDSYS=y.PeDefs.prototype.PE_TYPE_COORDSYS,l.PE_TYPE_UNIT=y.PeDefs.prototype.PE_TYPE_UNIT,l.PE_TYPE_LINUNIT=y.PeDefs.prototype.PE_TYPE_LINUNIT,l.PE_STR_OPTS_NONE=y.PeDefs.prototype.PE_STR_OPTS_NONE,l.PE_STR_AUTH_NONE=y.PeDefs.prototype.PE_STR_AUTH_NONE,l.PE_STR_AUTH_TOP=y.PeDefs.prototype.PE_STR_AUTH_TOP,l.PE_STR_NAME_CANON=y.PeDefs.prototype.PE_STR_NAME_CANON,l.PE_PARM_X0=y.PeDefs.prototype.PE_PARM_X0,l.PE_PARM_ND=y.PeDefs.prototype.PE_PARM_ND,l.PE_TRANSFORM_1_TO_2=y.PeDefs.prototype.PE_TRANSFORM_1_TO_2,l.PE_TRANSFORM_2_TO_1=y.PeDefs.prototype.PE_TRANSFORM_2_TO_1,l.PE_TRANSFORM_P_TO_G=y.PeDefs.prototype.PE_TRANSFORM_P_TO_G,l.PE_TRANSFORM_G_TO_P=y.PeDefs.prototype.PE_TRANSFORM_G_TO_P,l.PE_HORIZON_RECT=y.PeDefs.prototype.PE_HORIZON_RECT,l.PE_HORIZON_POLY=y.PeDefs.prototype.PE_HORIZON_POLY,l.PE_HORIZON_LINE=y.PeDefs.prototype.PE_HORIZON_LINE,l.PE_HORIZON_DELTA=y.PeDefs.prototype.PE_HORIZON_DELTA},function(e){var t={},r={},n=function(e){if(e){var t=e.getType();switch(t){case a.PE_TYPE_GEOGCS:e=y.castObject(e,y.PeGeogcs);break;case a.PE_TYPE_PROJCS:e=y.castObject(e,y.PeProjcs);break;case a.PE_TYPE_GEOGTRAN:e=y.castObject(e,y.PeGeogtran);break;default:t&a.PE_TYPE_UNIT&&(e=y.castObject(e,y.PeUnit))}}return e};function i(e,r){var i=null,a=t[e];if(a||(a={},t[e]=a),a.hasOwnProperty(String(r)))i=a[r];else{var o=y.PeFactory.prototype.factoryByType(e,r);y.compare(o,y.NULL)||(i=o,a[r]=i)}return i=n(i)}e.initialize=function(){y.PeFactory.prototype.initialize(null)},e.coordsys=function(e){return i(a.PE_TYPE_COORDSYS,e)},e.factoryByType=i,e.fromString=function(e,t){var i=null,a=r[e];if(a||(a={},r[e]=a),a.hasOwnProperty(t))i=a[t];else{var o=y.PeFactory.prototype.fromString(e,t);y.compare(o,y.NULL)||(i=o,a[t]=i)}return i=n(i)},e.geogcs=function(e){return i(a.PE_TYPE_GEOGCS,e)},e.geogtran=function(e){return i(a.PE_TYPE_GEOGTRAN,e)},e.getCode=function(e){return y.PeFactory.prototype.getCode(e)},e.projcs=function(e){return i(a.PE_TYPE_PROJCS,e)},e.unit=function(e){return i(a.PE_TYPE_UNIT,e)}}(o||(o={}));var g,b,_,w,x,S,k,T,E,I,C,O,L,A,M,N,R,P,F,j=null;function D(e){function t(e,t,r){e[t]=r(e[t])}y=e,a.init(),g.init(),x.init(),k.init(),T.init(),j=function(e){"use strict";u.default(r,e);var t=c.default(r);function r(){return f.default(this,r),t.apply(this,arguments)}return p.default(r,[{key:"destroy",value:function(){y.destroy(this)}}]),r}(y.PeGCSExtent);var r=[y.PeDatum,y.PeGeogcs,y.PeGeogtran,y.PeObject,y.PeParameter,y.PePrimem,y.PeProjcs,y.PeSpheroid,y.PeUnit],n=!0,i=!1,o=void 0;try{for(var s,l=r[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){t(s.value.prototype,"getName",(function(e){return function(){return e.call(this,new Array(a.PE_NAME_MAX))}}))}}catch(e){i=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}var d=!0,h=!1,v=void 0;try{for(var m,b=[y.PeGeogtran,y.PeProjcs][Symbol.iterator]();!(d=(m=b.next()).done);d=!0){t(m.value.prototype,"getParameters",(function(e){return function(){for(var t=new Array(a.PE_PARM_MAX),r=e.call(this),n=0;n<t.length;n++){var i=y.getValue(r,"*");t[n]=i?y.wrapPointer(i,y.PeParameter):null,r+=Int32Array.BYTES_PER_ELEMENT}return t}}))}}catch(e){h=!0,v=e}finally{try{d||null==b.return||b.return()}finally{if(h)throw v}}t(y.PeHorizon.prototype,"getCoord",(function(e){return function(){var t=this.getSize();if(!t)return null;var r=[];return H(r,t,e.call(this)),r}})),t(y.PeGTlistExtendedEntry.prototype,"getEntries",(function(e){var t=y._pe_getPeGTlistExtendedGTsSize();return function(){var r=null,n=e.call(this);if(!y.compare(n,y.NULL)){r=[n];var i=this.getSteps();if(i>1)for(var a=y.getPointer(n),o=1;o<i;o++)r.push(y.wrapPointer(a+t*o,y.PeGTlistExtendedGTs))}return r}}));var _=y._pe_getPeHorizonSize(),w=function(e){return function(){var t=this._cache;if(t||(t=new Map,this._cache=t),t.has(e))return t.get(e);var r=null,n=e.call(this);if(!y.compare(n,y.NULL)){r=[n];var i=n.getNump();if(i>1)for(var a=y.getPointer(n),o=1;o<i;o++)r.push(y.wrapPointer(a+_*o,y.PeHorizon))}return t.set(e,r),r}};t(y.PeProjcs.prototype,"horizonGcsGenerate",w),t(y.PeProjcs.prototype,"horizonPcsGenerate",w),y.PeObject.prototype.toString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.PE_STR_OPTS_NONE;y.ensureCache.prepare();var t=y.getPointer(this),r=y.ensureInt8(new Array(a.PE_BUFFER_MAX));return y.UTF8ToString(y._pe_object_to_string_ext(t,e,r))}}function U(e){if(e){var t=y.getClass(e);if(t){var r=y.getCache(t);if(r){var n=y.getPointer(e);n&&delete r[n]}}}}function V(e,t){for(var r=[],n=new Array(t),i=0;i<e;i++)r.push(y.ensureInt8(n));return r}function B(e){var t;return Array.isArray(e[0])?(t=[],e.forEach((function(e){t.push(e[0],e[1])}))):t=e,t}function H(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n)for(var i=0;i<2*t;i++)e[i]=y.getValue(r+i*Float64Array.BYTES_PER_ELEMENT,"double");else for(var a=0===e.length,o=0;o<t;o++)a&&(e[o]=new Array(2)),e[o][0]=y.getValue(r,"double"),e[o][1]=y.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}(P=g||(g={})).init=function(){P.PE_GTLIST_OPTS_COMMON=y.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,F=y._pe_getPeGTlistExtendedEntrySize()},P.getGTlist=function(e,t,r,n,i,a){var o=null,s=new y.PeInteger(a);try{var l=y.PeGTlistExtended.prototype.getGTlist(e,t,r,n,i,s);if((a=s.val)&&(o=[l],a>1))for(var u=y.getPointer(l),c=1;c<a;c++)o.push(y.wrapPointer(u+F*c,y.PeGTlistExtendedEntry))}finally{y.destroy(s)}return o},(b||(b={})).destroy=function(e){if(e&&e.length){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;U(o),o.getEntries().forEach((function(e){U(e);var t=e.getGeogtran();U(t),t.getParameters().forEach(U),[t.getGeogcs1(),t.getGeogcs2()].forEach((function(e){U(e);var t=e.getDatum();U(t),U(t.getSpheroid()),U(e.getPrimem()),U(e.getUnit())}))}))}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}y.PeGTlistExtendedEntry.prototype.Delete(e[0])}},(_||(_={})).geogToGeog=function(e,t,r,n,i){y.ensureCache.prepare();var a=B(r),o=r===a,s=y.ensureFloat64(a),l=0;n&&(l=y.ensureFloat64(n));var u=y._pe_geog_to_geog(y.getPointer(e),t,s,l,i);return u&&H(r,t,s,o),u},M=w||(w={}),N=function(e,t,r,n,i,o){var s,l;switch(y.ensureCache.prepare(),e){case"dd":s=y._pe_geog_to_dd,l=a.PE_DD_MAX;break;case"ddm":s=y._pe_geog_to_ddm,l=a.PE_DDM_MAX;break;case"dms":s=y._pe_geog_to_dms,l=a.PE_DMS_MAX}var u=0;t&&(u=y.getPointer(t));var c=B(n),f=y.ensureFloat64(c),p=V(r,l),d=s(u,r,f,i,y.ensureInt32(p));if(d)for(var h=0;h<r;h++)o[h]=y.UTF8ToString(p[h]);return d},R=function(e,t,r,n,i){var a;switch(y.ensureCache.prepare(),e){case"dd":a=y._pe_dd_to_geog;break;case"ddm":a=y._pe_ddm_to_geog;break;case"dms":a=y._pe_dms_to_geog}var o=0;t&&(o=y.getPointer(t));var s=n.map((function(e){return y.ensureString(e)})),l=y.ensureInt32(s),u=y.ensureFloat64(new Array(2*r)),c=a(o,r,l,u);return c&&H(i,r,u),c},M.geogToDms=function(e,t,r,n,i){return N("dms",e,t,r,n,i)},M.dmsToGeog=function(e,t,r,n){return R("dms",e,t,r,n)},M.geogToDdm=function(e,t,r,n,i){return N("ddm",e,t,r,n,i)},M.ddmToGeog=function(e,t,r,n){return R("ddm",e,t,r,n)},M.geogToDd=function(e,t,r,n,i){return N("dd",e,t,r,n,i)},M.ddToGeog=function(e,t,r,n){return R("dd",e,t,r,n)},(A=x||(x={})).init=function(){A.PE_MGRS_STYLE_NEW=y.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,A.PE_MGRS_STYLE_OLD=y.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,A.PE_MGRS_STYLE_AUTO=y.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,A.PE_MGRS_180_ZONE_1_PLUS=y.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,A.PE_MGRS_ADD_SPACES=y.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},A.geogToMgrsExtended=function(e,t,r,n,i,o,s){y.ensureCache.prepare();var l=0;e&&(l=y.getPointer(e));var u=B(r),c=y.ensureFloat64(u),f=V(t,a.PE_MGRS_MAX),p=y.ensureInt32(f),d=y._pe_geog_to_mgrs_extended(l,t,c,n,i,o,p);if(d)for(var h=0;h<t;h++)s[h]=y.UTF8ToString(f[h]);return d},A.mgrsToGeogExtended=function(e,t,r,n,i){y.ensureCache.prepare();var a=0;e&&(a=y.getPointer(e));var o=r.map((function(e){return y.ensureString(e)})),s=y.ensureInt32(o),l=y.ensureFloat64(new Array(2*t)),u=y._pe_mgrs_to_geog_extended(a,t,s,n,l);return u&&H(i,t,l),u},(L=S||(S={})).geogToUsng=function(e,t,r,n,i,o,s){y.ensureCache.prepare();var l=0;e&&(l=y.getPointer(e));var u=B(r),c=y.ensureFloat64(u),f=V(t,a.PE_MGRS_MAX),p=y.ensureInt32(f),d=y._pe_geog_to_usng(l,t,c,n,i,o,p);if(d)for(var h=0;h<t;h++)s[h]=y.UTF8ToString(f[h]);return d},L.usngToGeog=function(e,t,r,n){y.ensureCache.prepare();var i=0;e&&(i=y.getPointer(e));var a=r.map((function(e){return y.ensureString(e)})),o=y.ensureInt32(a),s=y.ensureFloat64(new Array(2*t)),l=y._pe_usng_to_geog(i,t,o,s);return l&&H(n,t,s),l},(O=k||(k={})).init=function(){O.PE_UTM_OPTS_NONE=y.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,O.PE_UTM_OPTS_ADD_SPACES=y.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,O.PE_UTM_OPTS_NS=y.PeNotationUtm.prototype.PE_UTM_OPTS_NS},O.geogToUtm=function(e,t,r,n,i){y.ensureCache.prepare();var o=0;e&&(o=y.getPointer(e));var s=B(r),l=y.ensureFloat64(s),u=V(t,a.PE_UTM_MAX),c=y.ensureInt32(u),f=y._pe_geog_to_utm(o,t,l,n,c);if(f)for(var p=0;p<t;p++)i[p]=y.UTF8ToString(u[p]);return f},O.utmToGeog=function(e,t,r,n,i){y.ensureCache.prepare();var a=0;e&&(a=y.getPointer(e));var o=r.map((function(e){return y.ensureString(e)})),s=y.ensureInt32(o),l=y.ensureFloat64(new Array(2*t)),u=y._pe_utm_to_geog(a,t,s,n,l);return u&&H(i,t,l),u},I=T||(T={}),C=new Map,I.init=function(){I.PE_PCSINFO_OPTION_NONE=y.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,I.PE_PCSINFO_OPTION_DOMAIN=y.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,I.PE_POLE_OUTSIDE_BOUNDARY=y.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,I.PE_POLE_POINT=y.PePCSInfo.prototype.PE_POLE_POINT},I.generate=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.PE_PCSINFO_OPTION_DOMAIN;return C.has(e)&&(r=C.get(e))[n]&&(t=r[n]),t||(t=y.PePCSInfo.prototype.generate(e,n),r||(r=[],C.set(e,r)),r[n]=t),t},(E||(E={})).versionString=function(){return y.PeVersion.prototype.version_string()};var z=Object.freeze({__proto__:null,get _pe(){return y},isLoaded:v,isSupported:function(){return!!(0,h.default)("esri-wasm")},load:m,get PeCSTransformations(){return i},get PeDefs(){return a},get PeFactory(){return o},get PeGCSExtent(){return j},get PeGTlistExtended(){return g},get PeGTlistExtendedEntry(){return b},get PeGTTransformations(){return _},get PeNotationDms(){return w},get PeNotationMgrs(){return x},get PeNotationUsng(){return S},get PeNotationUtm(){return k},get PePCSInfo(){return T},get PeVersion(){return E},_init:D})})),s.register("3C9Zf",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("enCB8")).then((function(){return s("lb5Pb")}))})),s.register("4dNPA",(function(t,r){e(t.exports,"toRadians",(function(){return i})),e(t.exports,"WKT_SPHEROID_REGEX",(function(){return a})),e(t.exports,"earthEllipsoidConstants",(function(){return u})),e(t.exports,"spheroids",(function(){return c}));var n=s("8NvwW"),i=Math.PI/180,a=/SPHEROID\[([^\]]+)]/i,o=n.earth.radius,l=n.earth.eccentricitySquared,u={a1:o*l,a2:o*l*o*l,a3:o*l*l/2,a4:o*l*o*l*2.5,a5:o*l+o*l*l/2,a6:1-l},c={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:n.earth.radius,f:n.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:n.moon.radius,f:n.moon.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:n.mars.radius,f:n.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:n.mars.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}})),s.register("8fZmy",(function(t,r){e(t.exports,"default",(function(){return o})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("klzaK"),o=function(){"use strict";function e(t){n.default(this,e);var r=!0,i=!1,o=void 0;if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,t&&t.steps)try{for(var s,l=t.steps[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;u instanceof a.default?this.steps.push(u):this.steps.push(new(0,a.default)({wkid:u.wkid,wkt:u.wkt,isInverse:u.isInverse}))}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}}return i.default(e,[{key:"getInverse",value:function(){var t=new e;t.steps=[];for(var r=this.steps.length-1;r>=0;r--){var n=this.steps[r];t.steps.push(n.getInverse())}return t}},{key:"getGTListEntry",value:function(){var e="",t=!0,r=!1,n=void 0;try{for(var i,a=this.steps[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){e+=i.value.uid.toString()+","}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return e!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=e),this._gtlistentry}},{key:"assignCachedGe",value:function(t,r,n){this._cached_projection[e.cacheKey(t,r)]=n}},{key:"getCachedGeTransformation",value:function(t,r){var n="",i=!0,a=!1,o=void 0;try{for(var s,l=this.steps[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){n+=s.value.uid.toString()+","}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}n!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=n);var u=this._cached_projection[e.cacheKey(t,r)];return void 0===u?null:u}}],[{key:"cacheKey",value:function(e,t){return[void 0!==e.wkid&&null!==e.wkid?e.wkid.toString():"-1",void 0!==e.wkt&&null!==e.wkt?e.wkt.toString():"",void 0!==t.wkid&&null!==t.wkid?t.wkid.toString():"-1",void 0!==t.wkt&&null!==t.wkt?t.wkt.toString():""].join(",")}},{key:"fromGE",value:function(t){var r=new e,n="",i=!0,o=!1,s=void 0;try{for(var l,u=t.steps[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value,f=a.default.fromGE(c);r.steps.push(f),n+=f.uid.toString()+","}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}return r._cached_projection={},r._gtlistentry=null,r._chain=n,r}}]),e}()})),s.register("klzaK",(function(t,r){e(t.exports,"default",(function(){return o})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=0,o=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n.default(this,e),this.uid=a++,t?(this._wkt=void 0!==t.wkt?t.wkt:null,this._wkid=void 0!==t.wkid?t.wkid:-1,this._isInverse=void 0!==t.isInverse&&!0===t.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}return i.default(e,[{key:"wkt",get:function(){return this._wkt},set:function(e){this._wkt=e,this.uid=a++}},{key:"wkid",get:function(){return this._wkid},set:function(e){this._wkid=e,this.uid=a++}},{key:"isInverse",get:function(){return this._isInverse},set:function(e){this._isInverse=e,this.uid=a++}},{key:"getInverse",value:function(){var t=new e;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}],[{key:"fromGE",value:function(t){var r=new e;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r}}]),e}()})),s.register("bRuRM",(function(t,r){e(t.exports,"getGeometryZScaler",(function(){return o}));var n=s("7qybv"),i=s("5vzSQ"),a=s("eY5Yp");function o(e,t,r){if((0,n.isNone)(t)||(0,n.isNone)(r)||r.vcsWkid||(0,a.equals)(t,r))return null;var o=(0,i.getMetersPerVerticalUnitForSR)(t)/(0,i.getMetersPerVerticalUnitForSR)(r);if(1===o)return null;switch(e){case"point":case"esriGeometryPoint":return function(e){return r=o,void((t=e)&&null!=t.z&&(t.z*=r));var t,r};case"polyline":case"esriGeometryPolyline":return function(e){return function(e,t){var r=!0,n=!1,i=void 0,a=!0,o=!1,s=void 0;if(e)try{for(var l,u=e.paths[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;try{for(var f,p=c[Symbol.iterator]();!(r=(f=p.next()).done);r=!0){var d=f.value;d.length>2&&(d[2]*=t)}}catch(e){n=!0,i=e}finally{try{r||null==p.return||p.return()}finally{if(n)throw i}}}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}}(e,o)};case"polygon":case"esriGeometryPolygon":return function(e){return function(e,t){var r=!0,n=!1,i=void 0,a=!0,o=!1,s=void 0;if(e)try{for(var l,u=e.rings[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;try{for(var f,p=c[Symbol.iterator]();!(r=(f=p.next()).done);r=!0){var d=f.value;d.length>2&&(d[2]*=t)}}catch(e){n=!0,i=e}finally{try{r||null==p.return||p.return()}finally{if(n)throw i}}}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}}(e,o)};case"multipoint":case"esriGeometryMultipoint":return function(e){return function(e,t){var r=!0,n=!1,i=void 0;if(e)try{for(var a,o=e.points[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s.length>2&&(s[2]*=t)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}(e,o)};case"extent":case"esriGeometryExtent":return function(e){return r=o,void((t=e)&&null!=t.zmin&&null!=t.zmax&&(t.zmin*=r,t.zmax*=r));var t,r};default:return null}}})),s.register("3V3RI",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9ESom")).then((function(){return s("bToqq")}))})),s.register("bA7lO",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("20VjG")).then((function(){return s("eiYTg")}))})),s.register("xQ42o",(function(t,r){e(t.exports,"default",(function(){return A})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("ifq4M"),c=s("7eJjO"),f=s("79ASa"),p=s("1XAcN"),d=s("7qybv"),h=s("5vzSQ"),y=s("iho5X");s("lNwWH"),s("2VlWd");var v,m,g,b=s("iJAIC"),_=s("eB8sj"),w=s("fcwIv"),x=s("kced1"),S=s("d1Fqh"),k=s("j40xv"),T=s("8TwEW"),E=s("eY5Yp"),I=s("eF88h"),C=s("he5Ty"),O=new(0,f.JSONMap)({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"}),L=v=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).dpi=96,n.format=null,n.origin=null,n.minScale=0,n.maxScale=0,n.size=null,n.spatialReference=null,o.default(n)}return l.default(r,[{key:"isWrappable",get:function(){var e=this.spatialReference,t=this.origin;if(e&&t){var r=(0,E.getInfo)(e);return e.isWrappable&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1}},{key:"readOrigin",value:function(e,t){return S.default.fromJSON(u.default({spatialReference:t.spatialReference},e))}},{key:"lods",set:function(e){var t=this,r=0,n=0,i=[];this._levelToLOD={},e&&(r=-1/0,n=1/0,e.forEach((function(e){i.push(e.scale),r=e.scale>r?e.scale:r,n=e.scale<n?e.scale:n,t._levelToLOD[e.level]=e}))),this._set("scales",i),this._set("minScale",r),this._set("maxScale",n),this._set("lods",e),this._initializeUpsampleLevels()}},{key:"readSize",value:function(e,t){return[t.cols,t.rows]}},{key:"writeSize",value:function(e,t){t.cols=e[0],t.rows=e[1]}},{key:"zoomToScale",value:function(e){var t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];var r=Math.floor(e),n=r+1;return t[r]/Math.pow(t[r]/t[n],e-r)}},{key:"scaleToZoom",value:function(e){for(var t=this.scales,r=t.length-1,n=0;n<r;n++){var i=t[n],a=t[n+1];if(i<=e)return n;if(a===e)return n+1;if(i>e&&a<e)return n+Math.log(i/e)/Math.log(i/a)}return n}},{key:"snapScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,r=this.scaleToZoom(e);return r%Math.floor(r)>=t?this.zoomToScale(Math.ceil(r)):this.zoomToScale(Math.floor(r))}},{key:"tileAt",value:function(e,t,r,n){var i,a,o=this.lodAt(e);if(!o)return null;if("number"==typeof t)i=t,a=r;else if((0,E.equals)(t.spatialReference,this.spatialReference))i=t.x,a=t.y,n=r;else{var s=(0,I.project)(t,this.spatialReference);if((0,d.isNone)(s))return null;i=s.x,a=s.y,n=r}var l=o.resolution*this.size[0],u=o.resolution*this.size[1];return n||(n={id:null,level:0,row:0,col:0,extent:(0,T.create)()}),n.level=e,n.row=Math.floor((this.origin.y-a)/u+.001),n.col=Math.floor((i-this.origin.x)/l+.001),this.updateTileInfo(n),n}},{key:"updateTileInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.ExtrapolateOptions.NONE,r=this.lodAt(e.level);if(!r&&t===v.ExtrapolateOptions.POWER_OF_TWO){var n=this.lods[this.lods.length-1];n.level<e.level&&(r=n)}if(r){var i=e.level-r.level,a=r.resolution*this.size[0]/Math.pow(2,i),o=r.resolution*this.size[1]/Math.pow(2,i);e.id="".concat(e.level,"/").concat(e.row,"/").concat(e.col),e.extent||(e.extent=(0,T.create)()),e.extent[0]=this.origin.x+e.col*a,e.extent[1]=this.origin.y-(e.row+1)*o,e.extent[2]=e.extent[0]+a,e.extent[3]=e.extent[1]+o}}},{key:"upsampleTile",value:function(e){var t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel||(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),0))}},{key:"getTileBounds",value:function(e,t){var r=this.lodAt(t.level).resolution,n=r*this.size[0],i=r*this.size[1];return e[0]=this.origin.x+t.col*n,e[1]=this.origin.y-(t.row+1)*i,e[2]=e[0]+n,e[3]=e[1]+i,e}},{key:"lodAt",value:function(e){return this._levelToLOD&&this._levelToLOD[e]||null}},{key:"clone",value:function(){return v.fromJSON(this.write({}))}},{key:"getOrCreateCompatible",value:function(e,t){if(256===this.size[0]&&256===this.size[1])return 256===e?this:null;for(var r=[],n=this.lods.length,i=0;i<n;i++){var a=this.lods[i],o=a.resolution*t;r.push(new(0,C.default)({level:a.level,scale:a.scale,resolution:o}))}return new v({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}},{key:"_initializeUpsampleLevels",value:function(){var e=this.lods;this._upsampleLevels=[];for(var t=null,r=0;r<e.length;r++){var n=e[r];this._upsampleLevels[n.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/n.resolution:0},t=n}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resolutionFactor,r=void 0===t?1:t,n=e.scales,i=e.size,a=void 0===i?256:i,o=e.spatialReference,s=void 0===o?k.default.WebMercator:o,l=e.numLODs,u=void 0===l?24:l;if(!(0,E.isValid)(s)){var c=[];if(n)for(var f=0;f<n.length;f++){var p=n[f];c.push({level:f,scale:p,resolution:p})}else for(var d=5e-4,y=u-1;y>=0;y--)c.unshift({level:y,scale:d,resolution:d}),d*=2;return new v({dpi:96,lods:c,origin:new(0,S.default)(0,0,s),size:[a,a],spatialReference:s})}var m=(0,E.getInfo)(s),g=e.origin?new(0,S.default)({x:e.origin.x,y:e.origin.y,spatialReference:s}):new(0,S.default)(m?{x:m.origin[0],y:m.origin[1],spatialReference:s}:{x:0,y:0,spatialReference:s}),b=96,_=1/(39.37*(0,h.getMetersPerUnitForSR)(s)*b),w=[];if(n)for(var x=0;x<n.length;x++){var T=n[x],I=T*_;w.push({level:x,scale:T,resolution:I})}else{var C=(0,E.isGeographic)(s)?512/a*591657527.5917094:256/a*591657527.591555,O=Math.ceil(u/r);w.push({level:0,scale:C,resolution:C*_});for(var L=1;L<O;L++){var A=C/Math.pow(2,r),M=A*_;w.push({level:L,scale:A,resolution:M}),C=A}}return new v({dpi:b,lods:w,origin:g,size:[a,a],spatialReference:s})}}]),r}(p.JSONSupport);(0,c._)([(0,y.property)({type:Number,json:{write:!0}})],L.prototype,"compressionQuality",void 0),(0,c._)([(0,y.property)({type:Number,json:{write:!0}})],L.prototype,"dpi",void 0),(0,c._)([(0,y.property)({type:String,json:{read:O.read,write:O.write,origins:{"web-scene":{read:!1,write:!1}}}})],L.prototype,"format",void 0),(0,c._)([(0,y.property)({readOnly:!0})],L.prototype,"isWrappable",null),(0,c._)([(0,y.property)({type:S.default,json:{write:!0}})],L.prototype,"origin",void 0),(0,c._)([(0,_.reader)("origin")],L.prototype,"readOrigin",null),(0,c._)([(0,y.property)({type:[C.default],value:null,json:{write:!0}})],L.prototype,"lods",null),(0,c._)([(0,y.property)({readOnly:!0})],L.prototype,"minScale",void 0),(0,c._)([(0,y.property)({readOnly:!0})],L.prototype,"maxScale",void 0),(0,c._)([(0,y.property)({readOnly:!0})],L.prototype,"scales",void 0),(0,c._)([(0,y.property)({cast:function(e){return Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]}})],L.prototype,"size",void 0),(0,c._)([(0,_.reader)("size",["rows","cols"])],L.prototype,"readSize",null),(0,c._)([(0,x.writer)("size",{cols:{type:b.Integer},rows:{type:b.Integer}})],L.prototype,"writeSize",null),(0,c._)([(0,y.property)({type:k.default,json:{write:!0}})],L.prototype,"spatialReference",void 0),L=v=(0,c._)([(0,w.subclass)("esri.layers.support.TileInfo")],L),m=L||(L={}),(g=m.ExtrapolateOptions||(m.ExtrapolateOptions={}))[g.NONE=0]="NONE",g[g.POWER_OF_TWO=1]="POWER_OF_TWO";var A=L})),s.register("he5Ty",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd");var p,d=s("iJAIC"),h=s("fcwIv"),y=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).cols=null,n.level=0,n.levelValue=null,n.origin=null,n.resolution=0,n.rows=null,n.scale=0,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],y.prototype,"cols",void 0),(0,u._)([(0,f.property)({type:d.Integer,json:{write:!0}})],y.prototype,"level",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],y.prototype,"levelValue",void 0),(0,u._)([(0,f.property)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],y.prototype,"origin",void 0),(0,u._)([(0,f.property)({type:Number,json:{write:!0}})],y.prototype,"resolution",void 0),(0,u._)([(0,f.property)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],y.prototype,"rows",void 0),(0,u._)([(0,f.property)({type:Number,json:{write:!0}})],y.prototype,"scale",void 0);var v=y=p=(0,u._)([(0,h.subclass)("esri.layers.support.LOD")],y)})),s.register("6zpox",(function(t,r){e(t.exports,"classes",(function(){return v})),e(t.exports,"isRTL",(function(){return b})),e(t.exports,"discardNode",(function(){return _})),e(t.exports,"storeNode",(function(){return w})),e(t.exports,"cssTransition",(function(){return x})),e(t.exports,"renderingSanitizer",(function(){return T})),e(t.exports,"isActivationKey",(function(){return E})),s("8TSCy");var n=s("kswSi"),i=s("8reRt"),a=s("8IgiO"),o=s("6ah52");s("2VlWd");var l,u,c=s("jHOLN"),f=s("36tCW"),p=function(e){l||function(e){if("WebkitTransition"in e.style)l="webkitTransitionEnd",u="webkitAnimationEnd";else{if(!("transition"in e.style))throw new Error("Your browser is not supported!");l="transitionend",u="animationend"}}(e)},d=function(e,t){return void 0===t&&(t=e+"-active"),function(r){p(r);var n=!1,i=function(a){n||(n=!0,r.removeEventListener(l,i),r.removeEventListener(u,i),r.classList.remove(e),r.classList.remove(t))};r.classList.add(e),r.addEventListener(l,i),r.addEventListener(u,i),requestAnimationFrame((function(){r.classList.add(t)}))}},h=function(e,t){return void 0===t&&(t=e+"-active"),function(r,n){p(r);var i=!1,a=function(e){i||(i=!0,r.removeEventListener(l,a),r.removeEventListener(u,a),n())};r.classList.add(e),r.addEventListener(l,a),r.addEventListener(u,a),requestAnimationFrame((function(){r.classList.add(t)}))}},y=c.default.getLogger("esri.widgets.support.widgetUtils");function v(e){for(var t=a.default.acquire(),r=0;r<arguments.length;r++){var i=arguments[r],o=void 0===i?"undefined":n.default(i);if("string"===o)t.push(i);else if(Array.isArray(i))t.push.apply(t,i);else if("object"===o)for(var s in i)i[s]&&t.push(s)}var l=t.join(" ");return a.default.release(t),l}var m,g;m=new Map,g=new ResizeObserver((function(e){(0,f.clearVNodeCache)();var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;m.get(o.target)(o)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}));function b(e){var t=null==e?void 0:e.closest("[dir]");return null!==t&&t instanceof HTMLElement&&"rtl"===t.dir||"rtl"===document.dir}function _(e){this[e.getAttribute("data-node-ref")]=null}function w(e){this[e.getAttribute("data-node-ref")]=e}function x(e,t){return("enter"===e?d:h)(t)}var S=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce((function(e,t){return e[t]=[],e}),{}),k=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],T=new(0,i.default)({whiteList:S,onTagAttr:function(e,t,r){var n="".concat(t,'="').concat(r,'"');if(k.includes(t))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function E(e){return"Enter"===e||" "===e}})),s.register("8reRt",(function(t,r){e(t.exports,"default",(function(){return he})),s("8TSCy");var n=s("kswSi");
/*!
 * @esri/arcgis-html-sanitizer - v2.9.0 - Mon Dec 13 2021 15:07:01 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2021 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2017 Zongmin Lei(é·å®æ°) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 * 
 * Lodash/isPlainObject
 * Copyright (c) JS Foundation and other contributors <https://js.foundation/>
 * MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details
 */var i,a,o=Function.prototype,l=Object.prototype,u=o.toString,c=l.hasOwnProperty,f=u.call(Object),p=l.toString,d=(i=Object.getPrototypeOf,a=Object,function(e){return i(a(e))});var h=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=p.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=d(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==f},y={exports:{}},v={},m={exports:{}},g={};function b(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var _=/javascript\s*\:/gim;g.whiteList=b(),g.getDefaultWhiteList=b,g.onAttr=function(e,t,r){},g.onIgnoreAttr=function(e,t,r){},g.safeAttrValue=function(e,t){return _.test(t)?"":t};var w={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}};var x=g,S=function(e,t){";"!==(e=w.trimRight(e))[e.length-1]&&(e+=";");var r=e.length,n=!1,i=0,a=0,o="";function s(){if(!n){var r=w.trim(e.slice(i,a)),s=r.indexOf(":");if(-1!==s){var l=w.trim(r.slice(0,s)),u=w.trim(r.slice(s+1));if(l){var c=t(i,o.length,l,u,r);c&&(o+=c+"; ")}}}i=a+1}for(;a<r;a++){var l=e[a];if("/"===l&&"*"===e[a+1]){var u=e.indexOf("*/",a+2);if(-1===u)break;i=(a=u+1)+1,n=!1}else"("===l?n=!0:")"===l?n=!1:";"===l?n||s():"\n"===l&&s()}return w.trim(o)};function k(e){return null==e}function T(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||x.whiteList,e.onAttr=e.onAttr||x.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||x.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||x.safeAttrValue,this.options=e}T.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onAttr,i=t.onIgnoreAttr,a=t.safeAttrValue;return S(e,(function(e,t,o,s,l){var u=r[o],c=!1;if(!0===u?c=u:"function"==typeof u?c=u(s):u instanceof RegExp&&(c=u.test(s)),!0!==c&&(c=!1),s=a(o,s)){var f,p={position:t,sourcePosition:e,source:l,isWhite:c};return c?k(f=n(o,s,p))?o+":"+s:f:k(f=i(o,s,p))?void 0:f}}))};var E=T;!function(e,t){var r=g,n=E;for(var i in(t=e.exports=function(e,t){return new n(t).process(e)}).FilterCSS=n,r)t[i]=r[i]}(m,m.exports);var I={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}},C=m.exports.FilterCSS,O=m.exports.getDefaultWhiteList,L=I;function A(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var M=new C;function N(e){return e.replace(R,"&lt;").replace(P,"&gt;")}var R=/</g,P=/>/g,F=/"/g,j=/&quot;/g,D=/&#([a-zA-Z0-9]*);?/gim,U=/&colon;?/gim,V=/&newline;?/gim,B=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,H=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,z=/u\s*r\s*l\s*\(.*/gi;function W(e){return e.replace(F,"&quot;")}function G(e){return e.replace(j,'"')}function J(e){return e.replace(D,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function q(e){return e.replace(U,":").replace(V," ")}function X(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return L.trim(t)}function K(e){return e=X(e=q(e=J(e=G(e))))}function $(e){return e=N(e=W(e))}v.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},v.getDefaultWhiteList=A,v.onTag=function(e,t,r){},v.onIgnoreTag=function(e,t,r){},v.onTagAttr=function(e,t,r){},v.onIgnoreTagAttr=function(e,t,r){},v.safeAttrValue=function(e,t,r,n){if(r=K(r),"href"===t||"src"===t){if("#"===(r=L.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(B.lastIndex=0,B.test(r))return""}else if("style"===t){if(H.lastIndex=0,H.test(r))return"";if(z.lastIndex=0,z.test(r)&&(B.lastIndex=0,B.test(r)))return"";!1!==n&&(r=(n=n||M).process(r))}return r=$(r)},v.escapeHtml=N,v.escapeQuote=W,v.unescapeQuote=G,v.escapeHtmlEntities=J,v.escapeDangerHtml5Entities=q,v.clearNonPrintableCharacter=X,v.friendlyAttrValue=K,v.escapeAttrValue=$,v.onIgnoreTagStripAll=function(){return""},v.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),n=[],i=!1;return{onIgnoreTag:function(a,o,s){if(function(t){return!!r||-1!==L.indexOf(e,t)}(a)){if(s.isClosing){var l="[/removed]",u=s.position+l.length;return n.push([!1!==i?i:s.position,u]),i=!1,l}return i||(i=s.position),"[removed]"}return t(a,o,s)},remove:function(e){var t="",r=0;return L.forEach(n,(function(n){t+=e.slice(r,n[0]),r=n[1]})),t+=e.slice(r)}}},v.stripCommentTag=function(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("\x3c!--",r);if(-1===n){t+=e.slice(r);break}t+=e.slice(r,n);var i=e.indexOf("--\x3e",n);if(-1===i)break;r=i+3}return t},v.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},v.cssFilter=M,v.getDefaultCSSWhiteList=O;var Y={},Z=I;function Q(e){var t=Z.spaceIndex(e);if(-1===t)var r=e.slice(1,-1);else r=e.slice(1,t+1);return"/"===(r=Z.trim(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function ee(e){return"</"===e.slice(0,2)}var te=/[^a-zA-Z0-9_:\.\-]/gim;function re(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function ne(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function ie(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}Y.parseTag=function(e,t,r){var n="",i=0,a=!1,o=!1,s=0,l=e.length,u="",c="";e:for(s=0;s<l;s++){var f=e.charAt(s);if(!1===a){if("<"===f){a=s;continue}}else if(!1===o){if("<"===f){n+=r(e.slice(i,s)),a=s,i=s;continue}if(">"===f){n+=r(e.slice(i,a)),u=Q(c=e.slice(a,s+1)),n+=t(a,n.length,u,c,ee(c)),i=s+1,a=!1;continue}if('"'===f||"'"===f)for(var p=1,d=e.charAt(s-p);""===d.trim()||"="===d;){if("="===d){o=f;continue e}d=e.charAt(s-++p)}}else if(f===o){o=!1;continue}}return i<e.length&&(n+=r(e.substr(i))),n},Y.parseAttr=function(e,t){var r=0,n=[],i=!1,a=e.length;function o(e,r){if(!((e=(e=Z.trim(e)).replace(te,"").toLowerCase()).length<1)){var i=t(e,r||"");i&&n.push(i)}}for(var s=0;s<a;s++){var l,u=e.charAt(s);if(!1!==i||"="!==u)if(!1===i||s!==r||'"'!==u&&"'"!==u||"="!==e.charAt(s-1))if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(l=re(e,s))){o(Z.trim(e.slice(r,s))),i=!1,r=s+1;continue}s=l-1;continue}if(-1===(l=ne(e,s-1))){o(i,ie(Z.trim(e.slice(r,s)))),i=!1,r=s+1;continue}}else;else{if(-1===(l=e.indexOf(u,s+1)))break;o(i,Z.trim(e.slice(r+1,l))),i=!1,r=(s=l)+1}else i=e.slice(r,s),r=s+1}return r<e.length&&(!1===i?o(e.slice(r)):o(i,ie(Z.trim(e.slice(r))))),Z.trim(n.join(" "))};var ae=m.exports.FilterCSS,oe=v,se=Y,le=se.parseTag,ue=se.parseAttr,ce=I;function fe(e){return null==e}function pe(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=oe.onIgnoreTagStripAll),e.whiteList=e.whiteList||oe.whiteList,e.onTag=e.onTag||oe.onTag,e.onTagAttr=e.onTagAttr||oe.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||oe.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||oe.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||oe.safeAttrValue,e.escapeHtml=e.escapeHtml||oe.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new ae(e.css))}pe.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onTag,i=t.onIgnoreTag,a=t.onTagAttr,o=t.onIgnoreTagAttr,s=t.safeAttrValue,l=t.escapeHtml,u=this.cssFilter;t.stripBlankChar&&(e=oe.stripBlankChar(e)),t.allowCommentTag||(e=oe.stripCommentTag(e));var c=!1;if(t.stripIgnoreTagBody){c=oe.StripTagBody(t.stripIgnoreTagBody,i);i=c.onIgnoreTag}var f=le(e,(function(e,t,c,f,p){var d,h={sourcePosition:e,position:t,isClosing:p,isWhite:r.hasOwnProperty(c)};if(!fe(d=n(c,f,h)))return d;if(h.isWhite){if(h.isClosing)return"</"+c+">";var y=function(e){var t=ce.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=ce.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=ce.trim(e.slice(0,-1))),{html:e,closing:r}}(f),v=r[c],m=ue(y.html,(function(e,t){var r,n=-1!==ce.indexOf(v,e);return fe(r=a(c,e,t,n))?n?(t=s(c,e,t,u))?e+'="'+t+'"':e:fe(r=o(c,e,t,n))?void 0:r:r}));f="<"+c;return m&&(f+=" "+m),y.closing&&(f+=" /"),f+=">"}return fe(d=i(c,f,h))?l(f):d}),l);return c&&(f=c.remove(f)),f};var de=pe;!function(e,t){var r=v,n=Y,i=de;function a(e,t){return new i(t).process(e)}for(var o in(t=e.exports=a).filterXSS=a,t.FilterXSS=i,r)t[o]=r[o];for(var o in n)t[o]=n[o];"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(y,y.exports);var he=function(){function e(e,t){var r,n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,r,i){return"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?n.sanitizeUrl(r):y.exports.safeAttrValue(e,t,r,i)}},e&&!t?r=e:e&&t?(r=Object.create(this.arcgisFilterOptions),Object.keys(e).forEach((function(t){"whiteList"===t?r.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,e.whiteList||{}]):r[t]=e[t]}))):(r=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=r,this._xssFilter=new y.exports.FilterXSS(r)}return e.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),void 0===e?"undefined":n.default(e)){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:if(t.allowUndefined&&void 0===e)return;return null}},e.prototype.sanitizeUrl=function(e){var t=this._trim(e.substring(0,e.indexOf(":")));return"/"===e||"#"===e||"#"===e[0]||this.allowedProtocols.indexOf(t.toLowerCase())>-1?y.exports.escapeAttrValue(e):""},e.prototype.sanitizeHTMLAttribute=function(e,t,r,n){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(e,t,r,n):y.exports.safeAttrValue(e,t,r,n)},e.prototype.validate=function(e,t){void 0===t&&(t={});var r=this.sanitize(e,t);return{isValid:e===r,sanitized:r}},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(r){Array.isArray(e[r])&&Array.isArray(t[r])?t[r]=t[r].concat(e[r]):t[r]=e[r]}))})),t},e.prototype._iterateOverObject=function(e,t){var r=this;void 0===t&&(t={});try{var n=!1,i=void 0;if(Array.isArray(e))i=e.reduce((function(e,i){var a=r.validate(i,t);return a.isValid?e.concat([i]):(n=!0,e.concat([a.sanitized]))}),[]);else{if(!h(e)){if(t.allowUndefined&&void 0===e)return;return null}i=Object.keys(e).reduce((function(i,a){var o=e[a],s=r.validate(o,t);return s.isValid?i[a]=o:(n=!0,i[a]=s.sanitized),i}),{})}return n?i:e}catch(e){return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}()})),s.register("36tCW",(function(t,r){e(t.exports,"clearVNodeCache",(function(){return i})),e(t.exports,"getVNodeCache",(function(){return a})),e(t.exports,"setVNodeCache",(function(){return o})),e(t.exports,"deleteVNodeCache",(function(){return s}));var n=new Map;function i(){n.clear()}function a(e){return n.get(e)}function o(e,t){n.set(e,t)}function s(e){n.delete(e)}})),s.register("9uTTh",(function(t,r){function n(e,t,r,n){var i=null,a=1e3;"number"==typeof t?(a=t,n=r):(i=null!=t?t:null,a=r);var o,s=0,l=function(){s=0,e.apply(n,o)},u=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i&&i.apply(n,t),o=t,a?s||(s=setTimeout(l,a)):l()};return u.remove=function(){s&&(clearTimeout(s),s=0)},u.forceUpdate=function(){s&&(clearTimeout(s),l())},u.hasPendingUpdates=function(){return!!s},u}e(t.exports,"throttle",(function(){return n}))})),s.register("5qZXj",(function(t,r){e(t.exports,"init",(function(){return o})),e(t.exports,"watch",(function(){return l})),e(t.exports,"when",(function(){return u})),e(t.exports,"whenNot",(function(){return c})),e(t.exports,"whenNotOnce",(function(){return f})),e(t.exports,"whenTrue",(function(){return p})),e(t.exports,"whenFalse",(function(){return d})),e(t.exports,"whenFalseOnce",(function(){return h})),e(t.exports,"pausable",(function(){return y})),e(t.exports,"on",(function(){return v}));var n=s("cj7C1"),i=(s("flPLJ"),s("10vEZ")),a=/\?(\.|$)/g;function o(e,t,r,n){var i=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],o=l(e,t,r,n),s=!0,u=!1,c=void 0;try{for(var f,p=i[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var d=f.value.trim().replace(a,"$1"),h=e.get(d);r.call(e,h,h,d,e)}}catch(e){u=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(u)throw c}}return o}function l(e,t,r,n){return e.watch(t,r,n)}function u(e,t,r,n){return m(e,t,b,r,n)}function c(e,t,r,n){return m(e,t,_,r,n)}function f(e,t,r,n){return g(e,t,_,r,n)}function p(e,t,r,n){return m(e,t,w,r,n)}function d(e,t,r,n){return m(e,t,x,r,n)}function h(e,t,r,n){return g(e,t,x,r,n)}function y(e,t,r,n){var i=!1,a=e.watch(t,(function(t,n,a,o){i||r.call(e,t,n,a,o)}),n);return{remove:function(){a.remove()},pause:function(){i=!0},resume:function(){i=!1}}}function v(e,t,r,i,a,s,l){var u={};function c(t){var n=u[t];n&&(s&&s(n.target,t,e,r),n.handle.remove(),delete u[t])}var f=o(e,t,(function(t,o,s){c(s),(0,n.isEventTarget)(t)&&(u[s]={handle:(0,n.on)(t,r,i),target:t},a&&a(t,s,e,r))}),l);return{remove:function(){for(var e in f.remove(),u)c(e)}}}function m(e,t,r,n,i){var a=e.watch(t,(function(t,i,a,o){r&&!r(t)||null==n||n.call(e,t,i,a,o)}),i),o=!0,s=!1,l=void 0;if(Array.isArray(t))try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value,p=e.get(f);r&&r(p)&&(null==n||n.call(e,p,p,t,e))}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}else{var d=e.get(t);r&&r(d)&&(null==n||n.call(e,d,d,t,e))}return a}function g(e,t,r,n,a){var o="function"==typeof n?n:null,s="object"==typeof n?n:null;"boolean"==typeof n&&(a=n);var l,u=!1;function c(){l&&(l.remove(),l=null)}var f=(0,i.createDeferred)();(0,i.onAbort)(s,(function(){c(),f.reject((0,i.createAbortError)())}));var p={then:f.promise.then.bind(f.promise),catch:f.promise.catch.bind(f.promise),remove:c};return Object.freeze(p),l=m(e,t,r,(function(t,r,n,i){u=!0,c(),o&&o.call(e,t,r,n,i),f.resolve({value:t,oldValue:r,propertyName:n,target:i})}),a),u&&c(),p}function b(e){return!!e}function _(e){return!e}function w(e){return!0===e}function x(e){return!1===e}})),s.register("kDa5L",(function(t,r){e(t.exports,"aliasOf",(function(){return a})),s("8TSCy");var n=s("ifq4M"),i=s("iho5X");function a(e,t){var r=t?n.default({},t,{source:e}):e;return(0,i.property)({aliasOf:r})}})),s.register("kXohW",(function(t,r){e(t.exports,"default",(function(){return q})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("Kn7R4"),u=s("jcnGU"),c=s("bFSSc"),f=s("jK9zx"),p=s("ifq4M"),d=s("2TvXO"),h=s("7eJjO");s("4M5RN");var y=s("2l1wP"),v=s("285ef"),m=s("amfHf"),g=s("qhgF7");s("2VlWd");var b=s("flPLJ"),_=s("jHOLN"),w=s("7qybv"),x=s("hmHbS"),S=s("10vEZ"),k=s("lKPaD"),T=s("9Rl0r"),E=s("iho5X"),I=s("ba18L"),C=s("fcwIv"),O=s("8wQ0D"),L=s("47Ogg"),A=s("9yjyy"),M=s("7sGAE"),N=s("TRklF"),R=s("36tCW"),P=s("6zpox"),F=s("bnSL3"),j=s("86CDN"),D=s("hxKVa"),U="esri.widgets.Widget",V=_.default.getLogger(U),B=0,H="esri-icon-checkbox-unchecked";function z(e,t){for(var r in t)null!=e[r]&&("object"==typeof e[r]&&"object"==typeof t[r]?z(e[r],t[r]):e[r]=t[r]);return e}var W=(0,A.createAdvancedProjector)({postProcessProjectionOptions:function(e){var t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=function(e,n,i,a){var o=t(e,n,i,a),s=r.test(e);if(!((e=e.replace(r,"")).toLowerCase()in i)||s){var l=e[2].toLowerCase()+e.slice(3),u=function(e){return o.call(i,e)};i.addEventListener(l,u,s);var c=a.afterRemoved;a.afterRemoved=function(e){null==c||c(e),i.removeEventListener(l,u,s)}}return o}},handleInterceptedEvent:function(e,t,r,n){var i=n.eventPhase,a=n.type,o=i===Event.CAPTURING_PHASE,s="on".concat(a).concat(o?"capture":""),l=t.properties;(s in l||(s="on".concat(a[0].toUpperCase()).concat(a.slice(1)).concat(o?"Capture":""))in l)&&((0,R.clearVNodeCache)(),e.scheduleRender(),l[s].call(l.bind||r,n))}}),G=!1,J=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e,i){var a;o.default(this,r);var s=l.default(a);(a=t.call(this,e,i))._attached=!1,a._internalHandles=new(0,g.default),a._projector=W,a._readyForTrueRender=!1,a.domNode=null,a.iconClass=H,a.label=a.declaredClass.split(".").pop(),a.visible=!0,a.key=l.default(a),a._loadLocale=(0,S.debounce)(u.default(n(d).mark((function e(){var t,r,i,a,o,l,c;return n(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s._messageBundleProps||!s._messageBundleProps.length){e.next=21;break}return e.next=3,(0,S.eachAlways)(s._messageBundleProps.map(function(){var e=u.default(n(d).mark((function e(t){var r,i,a;return n(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.bundlePath,i=t.propertyName,e.next=3,(0,D.fetchMessageBundle)(r);case 3:a=e.sent,s.uiStrings&&Object.keys(s.uiStrings)&&(a=z((0,b.clone)(a),s.uiStrings)),s[i]=a;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:for(t=e.sent,r=!0,i=!1,a=void 0,e.prev=5,o=t[Symbol.iterator]();!(r=(l=o.next()).done);r=!0)(c=l.value).error&&V.error("widget-intl:locale-error",s.declaredClass,c.error);e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),i=!0,a=e.t0;case 13:e.prev=13,e.prev=14,r||null==o.return||o.return();case 16:if(e.prev=16,!i){e.next=19;break}throw a;case 19:return e.finish(16);case 20:return e.finish(13);case 21:return e.next=23,s.loadLocale();case 23:case"end":return e.stop()}}),e,null,[[5,9,13,21],[14,,16,20]])})))),(0,M.commitAssetPath)();var f=(0,F.getThemeName)()||"light";["light","dark"].includes(f)||(0,y.deprecated)(V,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});var p="esri-widget-uid-"+(0,T.generateUUID)(),h=a.render.bind(l.default(a));a._trackingTarget=new(0,L.SimpleTrackingTarget)((function(){return a.scheduleRender()}));var v=function(){var e;if(!a._readyForTrueRender||a.destroyed)return null;if(!a.visible)return{vnodeSelector:"div",properties:{key:p,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};var t=h(),r=t.properties;r||(t.properties=r={});var n=r.key,i=r.styles;n||(r.key=p),i||(r.styles=i={}),i.display||(i.display="");var o=0;return null==(e=t.children)||e.forEach((function(e){if(!(0,N.isWidgetConstructor)(e.vnodeSelector)){var t=e.properties;t||(e.properties=t={}),t.key||(t.key="".concat(a.id,"--").concat(o++))}})),(0,N.processWidgets)(l.default(a),t)};return a.render=function(){if(G)return v();var e=(0,R.getVNodeCache)(l.default(a));if(e)return e;a._trackingTarget.clear(),G=!0;try{e=(0,O.runTracked)(a._trackingTarget,v)}finally{G=!1}return(0,R.setVNodeCache)(l.default(a),e),e},a.addResolvingPromise(a._resourcesFetch=a.beforeFirstRender().then((function(){a._readyForTrueRender=!0,a._postInitialize()}))),c.default(a)}return f.default(r,[{key:"normalizeCtorArgs",value:function(e,t){var r=p.default({},e);return t&&(r.container=t),r}},{key:"postInitialize",value:function(){}},{key:"beforeFirstRender",value:function(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then((function(){})).catch(S.throwIfNotAbortError)}},{key:"loadDependencies",value:function(){return u.default(n(d).mark((function e(){return n(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},{key:"loadLocale",value:function(){return u.default(n(d).mark((function e(){return n(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},{key:"destroy",value:function(){this.destroyed||(this._trackingTarget=(0,w.destroyMaybe)(this._trackingTarget),this.viewModel=(0,w.destroyMaybe)(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=function(){return null},this._projector=null,(0,R.deleteVNodeCache)(this))}},{key:"container",set:function(e){this._get("container")||this._set("container",e)}},{key:"castContainer",value:function(e){return(0,v.byId)(e)}},{key:"id",get:function(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+B++},set:function(e){e&&this._set("id",e)}},{key:"renderable",get:function(){return this._resourcesFetch}},{key:"test",get:function(){return{projector:this._projector,handles:this._internalHandles}}},{key:"render",value:function(){throw new Error("not implemented")}},{key:"scheduleRender",value:function(){this.destroyed||((0,R.deleteVNodeCache)(this),this._projector.scheduleRender())}},{key:"classes",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return P.classes.apply(this,t)}},{key:"own",value:function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments)),this._internalHandles.add(e)}},{key:"renderNow",value:function(){(0,R.deleteVNodeCache)(this),this._projector.renderNow()}},{key:"_postInitialize",value:function(){var e,t=this;if(!this.destroyed){this.scheduleRender(),null!=(e=this._delegatedEventNames)&&e.length&&this._internalHandles.add((0,k.watch)((function(){return t.viewModel}),(function(e,r){var n=t;r&&t._internalHandles.remove("delegated-events"),e&&t._internalHandles.add(t._delegatedEventNames.map((function(t){return e.on(t,(function(e){n.emit(t,e)}))})),"delegated-events")}),k.initial)),this.postInitialize();var r,i=this,a=(r=u.default(n(d).mark((function e(){return n(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i._loadLocale().catch(S.throwIfNotAbortError);case 2:i.scheduleRender();case 3:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)});this._internalHandles.add([(0,j.onLocaleChange)(a),(0,k.watch)((function(){return t.uiStrings}),a),(0,k.when)((function(){return t.container}),(function(e){t.destroyed||t._attach(e)}),{initial:!0,once:!0})])}}},{key:"_attach",value:function(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}},{key:"_detach",value:function(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}}]),r}((0,x.EsriPromiseMixin)(m.default.EventedAccessor));J[N.WIDGET_SYMBOL]=!0,(0,h._)([(0,E.property)()],J.prototype,"_readyForTrueRender",void 0),(0,h._)([(0,E.property)({value:null})],J.prototype,"container",null),(0,h._)([(0,I.cast)("container")],J.prototype,"castContainer",null),(0,h._)([(0,E.property)({aliasOf:"container"})],J.prototype,"domNode",void 0),(0,h._)([(0,E.property)()],J.prototype,"iconClass",void 0),(0,h._)([(0,E.property)()],J.prototype,"id",null),(0,h._)([(0,E.property)()],J.prototype,"label",void 0),(0,h._)([(0,E.property)()],J.prototype,"renderable",null),(0,h._)([(0,E.property)()],J.prototype,"uiStrings",void 0),(0,h._)([(0,E.property)()],J.prototype,"viewModel",void 0),(0,h._)([(0,E.property)()],J.prototype,"visible",void 0),(0,h._)([(0,E.property)()],J.prototype,"key",void 0),(0,h._)([(0,E.property)()],J.prototype,"children",void 0),(0,h._)([(0,E.property)()],J.prototype,"afterCreate",void 0),(0,h._)([(0,E.property)()],J.prototype,"afterUpdate",void 0),(0,h._)([(0,E.property)()],J.prototype,"afterRemoved",void 0);var q=J=(0,h._)([(0,C.subclass)(U)],J)})),s.register("285ef",(function(t,r){function n(e){return"string"==typeof e?document.getElementById(e):e}function i(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function a(e,t){var r=t.parentNode;r&&r.insertBefore(e,t)}function o(e,t){for(;;){var r=e.firstChild;if(!r)break;t.appendChild(r)}}e(t.exports,"byId",(function(){return n})),e(t.exports,"empty",(function(){return i})),e(t.exports,"insertBefore",(function(){return a})),e(t.exports,"reparent",(function(){return o}));!function(){if("function"==typeof Element.prototype.closest)return function(e,t){return e.closest(t)};var e=Element.prototype.matches||Element.prototype.msMatchesSelector}()})),s.register("9Rl0r",(function(t,r){function n(){var e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var t=function(t){return e[t].toString(16)};return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}e(t.exports,"generateUUID",(function(){return n}))})),s.register("9yjyy",(function(t,r){e(t.exports,"createAdvancedProjector",(function(){return c})),s("8TSCy");var n=s("ifq4M"),i=s("eE9ZS");s("lvmVw");var a=s("5TR3i"),o=s("8JrJF"),l=function(e,t){return e.find(t)},u=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e;return t.forEach((function(e,i){var a,o=null!=(a=n)&&a.children?l(n.children,(function(t){return t.domNode===e})):void 0;r&&!o&&i!==t.length-1||(n=o)})),n},c=function(e){var t,r,s=n.default({},a.defaultAdvancedProjectorOptions,e),l=(0,o.applyDefaultProjectionOptions)(s),c=l.performanceLogger,f=!0,p=!1,d=[],h=[],y=function(e,r,n){var i;l.eventHandlerInterceptor=function(e,r,n,a){return function(e){var r;c("domEvent",e);var n,a=function(e,t){for(var r=[];e&&e!==t;)r.push(e),e=e.parentNode;return r}(e.currentTarget,i.domNode),o=a.some((function(e){var t;return customElements.get(null==e||null==(t=e.tagName)?void 0:t.toLowerCase())}));if(e.eventPhase!==Event.CAPTURING_PHASE&&o){var l=e.composedPath(),f=l.slice(l.indexOf(e.currentTarget),l.indexOf(i.domNode)).filter((function(e){return e.getRootNode()===e.ownerDocument})).reverse();r=u(i.getLastRender(),f,!0)}else a.reverse(),r=u(i.getLastRender(),a);return r&&(n=s.handleInterceptedEvent(t,r,this,e)),c("domEventProcessed",e),n}},null==s.postProcessProjectionOptions||s.postProcessProjectionOptions(l);var a=n();i=e(r,a,l),d.push(i),h.push(n),s.afterFirstVNodeRendered&&s.afterFirstVNodeRendered(i,a)},v=function(){if(r=void 0,f){f=!1,c("renderStart",void 0);for(var e=0;e<d.length;e++){var t=h[e]();c("rendered",void 0),d[e].update(t),c("patched",void 0)}c("renderDone",void 0),f=!0}};return s.modifyDoRenderImplementation&&(v=s.modifyDoRenderImplementation(v,d,h)),t={renderNow:v,scheduleRender:function(){r||p||(r=requestAnimationFrame(v))},stop:function(){r&&(cancelAnimationFrame(r),r=void 0),p=!0},resume:function(){p=!1,f=!0,t.scheduleRender()},append:function(e,t){y(i.dom.append,e,t)},insertBefore:function(e,t){y(i.dom.insertBefore,e,t)},merge:function(e,t){y(i.dom.merge,e,t)},replace:function(e,t){y(i.dom.replace,e,t)},detach:function(e){for(var t=0;t<h.length;t++)if(h[t]===e)return h.splice(t,1),d.splice(t,1)[0];throw new Error("renderFunction was not found")}}}})),s.register("eE9ZS",(function(t,r){e(t.exports,"applyDefaultProjectionOptions",(function(){return a})),e(t.exports,"dom",(function(){return o}));var n=s("axJY9"),i={namespace:void 0,performanceLogger:function(){},eventHandlerInterceptor:void 0,styleApplyer:function(e,t,r){"-"===t.charAt(0)?e.style.setProperty(t,r):e.style[t]=r}},a=function(e){return(0,n.extend)(i,e)},o={create:function(e,t){return t=a(t),(0,n.createDom)(e,document.createElement("div"),void 0,t),(0,n.createProjection)(e,t)},append:function(e,t,r){return r=a(r),(0,n.createDom)(t,e,void 0,r),(0,n.createProjection)(t,r)},insertBefore:function(e,t,r){return r=a(r),(0,n.createDom)(t,e.parentNode,e,r),(0,n.createProjection)(t,r)},merge:function(e,t,r){return r=a(r),t.domNode=e,(0,n.initPropertiesAndChildren)(e,t,r),(0,n.createProjection)(t,r)},replace:function(e,t,r){return r=a(r),(0,n.createDom)(t,e.parentNode,e,r),e.parentNode.removeChild(e),(0,n.createProjection)(t,r)}}})),s.register("axJY9",(function(t,r){e(t.exports,"extend",(function(){return f})),e(t.exports,"createDom",(function(){return k})),e(t.exports,"initPropertiesAndChildren",(function(){return S})),e(t.exports,"createProjection",(function(){return E})),s("8TSCy");var n,i=s("kswSi"),a=s("6zpox"),o="http://www.w3.org/",l="".concat(o,"2000/svg"),u="".concat(o,"1999/xlink"),c=[],f=function(e,t){var r={};return Object.keys(e).forEach((function(t){r[t]=e[t]})),t&&Object.keys(t).forEach((function(e){r[e]=t[e]})),r},p=function(e,t){return e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties)},d=function(e){if("string"!=typeof e)throw new Error("Style values must be strings")},h=function(e,t,r){if(""!==t.vnodeSelector)for(var n=r;n<e.length;n++)if(p(e[n],t))return n;return-1},y=function(e,t,r,n){var i=e[t];if(""!==i.vnodeSelector){var a=i.properties;if(!(a?void 0===a.key?a.bind:a.key:void 0))for(var o=0;o<e.length;o++)if(o!==t){var s=e[o];if(p(s,i))throw new Error("".concat(r.vnodeSelector," had a ").concat(i.vnodeSelector," child ").concat("added"===n?n:"removed",", but there is now more than one. You must add unique key properties to make them distinguishable."))}}},v=function(e){if(e.properties){var t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},m=[],g=!1,b=function(e){(e.children||[]).forEach(b),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},_=function(){g=!1,m.forEach(b),m.length=0},w=function(e){m.push(e),g||(g=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(_,{timeout:16}):setTimeout(_,16))},x=function(e){var t=e.domNode;if(e.properties){var r=e.properties.exitAnimation;if(r){t.style.pointerEvents="none";return void r(t,(function(){t.parentNode&&(t.parentNode.removeChild(t),w(e))}),e.properties)}}t.parentNode&&(t.parentNode.removeChild(t),w(e))},S=function(e,t,r){(function(e,t,r){var n=!0,i=!1,a=void 0;if(t)try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;k(l,e,void 0,r)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}})(e,t.children,r),t.text&&(e.textContent=t.text),function(e,t,r){var n=function(n){var c=s[n],f=t[c];if("className"===c)throw new Error('Property "className" is not supported, use "class".');if("class"===c)T(e,f,!0);else if("classes"===c)for(var p=Object.keys(f),h=p.length,y=0;y<h;y++){var v=p[y];f[v]&&e.classList.add(v)}else if("styles"===c)for(var m=Object.keys(f),g=m.length,b=0;b<g;b++){var _=m[b],w=f[_];w&&(d(w),r.styleApplyer(e,_,w))}else if("key"!==c&&null!=f){var x=void 0===f?"undefined":i.default(f);"function"===x?(0===c.lastIndexOf("on",0)&&(o&&(f=o(c,f,e,t)),"oninput"===c&&function(){var e=f;f=function(t){e.apply(this,[t]),t.target["oninput-value"]=t.target.value}}()),e[c]=f):r.namespace===l?"href"===c?e.setAttributeNS(u,c,f):e.setAttribute(c,f):"string"===x&&"value"!==c?"innerHTML"===c?e[c]=a.renderingSanitizer.sanitize(f):e.setAttribute(c,f):e[c]=f}};if(t)for(var o=r.eventHandlerInterceptor,s=Object.keys(t),c=s.length,f=0;f<c;f++)n(f)}(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},k=function(e,t,r,n){var i,a=0,o=e.vnodeSelector,s=t.ownerDocument;if(""===o)i=e.domNode=s.createTextNode(e.text),void 0!==r?t.insertBefore(i,r):t.appendChild(i);else{for(var u=0;u<=o.length;++u){var c=o.charAt(u);if(u===o.length||"."===c||"#"===c){var p=o.charAt(a-1),d=o.slice(a,u);"."===p?i.classList.add(d):"#"===p?i.id=d:("svg"===d&&(n=f(n,{namespace:l})),void 0!==n.namespace?i=e.domNode=s.createElementNS(n.namespace,d):(i=e.domNode=e.domNode||s.createElement(d),"input"===d&&e.properties&&void 0!==e.properties.type&&i.setAttribute("type",e.properties.type)),void 0!==r?t.insertBefore(i,r):i.parentNode!==t&&t.appendChild(i)),a=u+1}}S(i,e,n)}},T=function(e,t,r){t&&t.split(" ").forEach((function(t){t&&e.classList.toggle(t,r)}))};n=function(e,t,r){var o=e.domNode,s=!1;if(e===t)return!1;var m=!1;if(""===t.vnodeSelector){if(t.text!==e.text){var g=o.ownerDocument.createTextNode(t.text);return o.parentNode.replaceChild(g,o),t.domNode=g,s=!0}t.domNode=o}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(r=f(r,{namespace:l})),e.text!==t.text&&(m=!0,void 0===t.text?o.removeChild(o.firstChild):o.textContent=t.text),t.domNode=o,m=function(e,t,r,i,a){if(r===i)return!1;i=i||c;for(var o,s=(r=r||c).length,l=i.length,u=0,f=0,d=!1;f<l;){var m=u<s?r[u]:void 0,g=i[f];if(void 0!==m&&p(m,g))d=n(m,g,a)||d,u++;else{var b=h(r,g,u+1);if(b>=0){for(o=u;o<b;o++)x(r[o]),y(r,o,e,"removed");d=n(r[b],g,a)||d,u=b+1}else k(g,t,u<s?r[u].domNode:void 0,a),v(g),y(i,f,e,"added")}f++}if(s>u)for(o=u;o<s;o++)x(r[o]),y(r,o,e,"removed");return d}(t,o,e.children,t.children,r)||m,m=function(e,t,r,n){if(r){for(var o=!1,s=Object.keys(r),c=s.length,f=0;f<c;f++){var p=s[f],h=r[p],y=t[p];if("class"===p)y!==h&&(T(e,y,!1),T(e,h,!0));else if("classes"===p)for(var v=e.classList,m=Object.keys(h),g=m.length,b=0;b<g;b++){var _=m[b],w=!!h[_];w!==!!y[_]&&(o=!0,w?v.add(_):v.remove(_))}else if("styles"===p)for(var x=Object.keys(h),S=x.length,k=0;k<S;k++){var E=x[k],I=h[E];I!==y[E]&&(o=!0,I?(d(I),n.styleApplyer(e,E,I)):n.styleApplyer(e,E,""))}else if(h||"string"!=typeof y||(h=""),"value"===p){var C=e[p];C!==h&&(e["oninput-value"]?C===e["oninput-value"]:h!==y)&&(e[p]=h,e["oninput-value"]=void 0),h!==y&&(o=!0)}else if(h!==y){var O=void 0===h?"undefined":i.default(h);"function"===O&&n.eventHandlerInterceptor||(n.namespace===l?"href"===p?e.setAttributeNS(u,p,h):e.setAttribute(p,h):"string"===O?"innerHTML"===p?e[p]=a.renderingSanitizer.sanitize(h):"role"===p&&""===h?e.removeAttribute(p):e.setAttribute(p,h):e[p]!==h&&(e[p]=h),o=!0)}}return o}}(o,e.properties,t.properties,r)||m,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[o,r,t.vnodeSelector,t.properties,t.children]);return m&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(o,t.properties,e.properties),s};var E=function(e,t){return{getLastRender:function(){return e},update:function(r){if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");var i=e;e=r,n(i,r,t)},domNode:e.domNode}}})),s.register("lvmVw",(function(t,r){e(t.exports,"createProjector",(function(){return l}));var n,i=s("eE9ZS"),a=function(e,t){for(var r=[];e&&e!==t;)r.push(e),e=e.parentNode;return r};n=Array.prototype.find?function(e,t){return e.find(t)}:function(e,t){return e.filter(t)[0]};var o=function(e,t){var r=e;return t.forEach((function(e){r=r&&r.children?n(r.children,(function(t){return t.domNode===e})):void 0})),r},l=function(e){var t,r,n=(0,i.applyDefaultProjectionOptions)(e),s=n.performanceLogger,l=!0,u=!1,c=[],f=[],p=function(e,r,i){var l,u,p,d,h;n.eventHandlerInterceptor=(u=t,p=function(){return l},d=s,h=function(e){d("domEvent",e);var t=p(),r=a(e.currentTarget,t.domNode);r.reverse();var n,i=o(t.getLastRender(),r);return u.scheduleRender(),i&&(n=i.properties["on".concat(e.type)].apply(i.properties.bind||this,arguments)),d("domEventProcessed",e),n},function(e,t,r,n){return h}),l=e(r,i(),n),c.push(l),f.push(i)},d=function(){if(r=void 0,l){l=!1,s("renderStart",void 0);for(var e=0;e<c.length;e++){var t=f[e]();s("rendered",void 0),c[e].update(t),s("patched",void 0)}s("renderDone",void 0),l=!0}};return t={renderNow:d,scheduleRender:function(){r||u||(r=requestAnimationFrame(d))},stop:function(){r&&(cancelAnimationFrame(r),r=void 0),u=!0},resume:function(){u=!1,l=!0,t.scheduleRender()},append:function(e,t){p(i.dom.append,e,t)},insertBefore:function(e,t){p(i.dom.insertBefore,e,t)},merge:function(e,t){p(i.dom.merge,e,t)},replace:function(e,t){p(i.dom.replace,e,t)},detach:function(e){for(var t=0;t<f.length;t++)if(f[t]===e)return f.splice(t,1),c.splice(t,1)[0];throw new Error("renderFunction was not found")}}}})),s.register("5TR3i",(function(t,r){e(t.exports,"defaultAdvancedProjectorOptions",(function(){return n}));var n={handleInterceptedEvent:function(e,t,r,n){return e.scheduleRender(),t.properties["on".concat(n.type)].apply(t.properties.bind||r,[n])}}})),s.register("8JrJF",(function(t,r){e(t.exports,"applyDefaultProjectionOptions",(function(){return a})),s("8TSCy");var n=s("ifq4M"),i={namespace:void 0,performanceLogger:function(){},eventHandlerInterceptor:void 0,styleApplyer:function(e,t,r){e.style[t]=r}},a=function(e){return n.default({},i,e)}})),s.register("7sGAE",(function(t,r){e(t.exports,"commitAssetPath",(function(){return l})),s("i9DDs");var n=s("26s6X"),i=s("i9j5X");s("2VlWd");var a,o=s("kYueh");function l(){(0,n.setAssetPath)((0,o.makeAbsolute)((0,i.getAssetUrl)(a)))}a="components/assets"})),s.register("i9DDs",(function(t,r){e(t.exports,"setAssetPath",(function(){return s("26s6X").setAssetPath}));s("26s6X")})),s.register("26s6X",(function(t,r){e(t.exports,"h",(function(){return Y})),e(t.exports,"Host",(function(){return Q})),e(t.exports,"createEvent",(function(){return Te})),e(t.exports,"forceUpdate",(function(){return Ne})),e(t.exports,"proxyCustomElement",(function(){return Ke})),e(t.exports,"getAssetPath",(function(){return $e})),e(t.exports,"setAssetPath",(function(){return Ye})),e(t.exports,"Build",(function(){return bt})),e(t.exports,"HTMLElement",(function(){return C})),s("8TSCy");var i,a,o,l,u,c,f,p=s("f9pi5"),d=s("iCnzh"),h=(s("aNiFM"),s("5Vgx8")),y=s("kswSi"),v=s("jcnGU"),m=(s("g9uIT"),s("dap1g"),s("jK9zx"),s("39bC9"),s("Kn7R4"),s("2TvXO")),g=s("21yRN"),b=(g=s("21yRN"),0),_=!1,w=!1,x=!1,S=!1,k=0,T=!1,E="undefined"!=typeof window?window:{},I=(g.BUILD.cssVarShim&&E.CSS,E.document||{head:{}}),C=E.HTMLElement||function e(){"use strict";p.default(this,e)},O={$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,r,n){return e.addEventListener(t,r,n)},rel:function(e,t,r,n){return e.removeEventListener(t,r,n)},ce:function(e,t){return new CustomEvent(e,t)}},L=!g.BUILD.shadowDomShim||!g.BUILD.shadowDom||function(){return(I.head.attachShadow+"").indexOf("[native")>-1}(),A=function(){var e=!1;try{I.addEventListener("e",null,Object.defineProperty({},"passive",{get:function(){e=!0}}))}catch(e){}return e}(),M=!!g.BUILD.constructableCSS&&function(){try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(e){}return!1}(),N=function(e,t,r,n){g.BUILD.hostListener&&r&&(g.BUILD.hostListenerTargetParent&&(r=n?r.filter((function(e){return 32&d.default(e,1)[0]})):r.filter((function(e){return!(32&d.default(e,1)[0])}))),r.map((function(r){var n=d.default(r,3),i=n[0],a=n[1],o=n[2],s=g.BUILD.hostListenerTarget?P(e,i):e,l=R(t,o),u=F(i);O.ael(s,a,l,u),(t.$rmListeners$=t.$rmListeners$||[]).push((function(){return O.rel(s,a,l,u)}))})))},R=function(e,t){return function(r){try{g.BUILD.lazyLoad?256&e.$flags$?e.$lazyInstance$[t](r):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,r]):e.$hostElement$[t](r)}catch(e){rt(e)}}},P=function(e,t){return g.BUILD.hostListenerTargetDocument&&4&t?I:g.BUILD.hostListenerTargetWindow&&8&t?E:g.BUILD.hostListenerTargetBody&&16&t?I.body:g.BUILD.hostListenerTargetParent&&32&t?e.parentElement:e},F=function(e){return A?{passive:0!=(1&e),capture:0!=(2&e)}:0!=(2&e)},j="s-id",D="sty-id",U="c-id",V="http://www.w3.org/1999/xlink",B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(g.BUILD.profile&&performance.mark){var r="st:".concat(e,":").concat(t,":").concat(b++);return performance.mark(r),function(){return performance.measure("[Stencil] ".concat(e,"() <").concat(t,">"),r)}}return function(){}},H=function(e,t){return g.BUILD.profile&&performance.mark?(0===performance.getEntriesByName(e).length&&performance.mark(e),function(){0===performance.getEntriesByName(t).length&&performance.measure(t,e)}):function(){}},z=new WeakMap,W=function(e,t,r){var n=lt.get(e);M&&r?(n=n||new CSSStyleSheet).replace(t):n=t,lt.set(e,n)},G=function(e,t,r,n){var i=q(t,r),a=lt.get(i);if(!g.BUILD.attachStyles)return i;if(e=11===e.nodeType?e:I,a)if("string"==typeof a){e=e.head||e;var o,s=z.get(e);if(s||z.set(e,s=new Set),!s.has(i)){if(g.BUILD.hydrateClientSide&&e.host&&(o=e.querySelector("[".concat(D,'="').concat(i,'"]'))))o.innerHTML=a;else{if(g.BUILD.cssVarShim&&O.$cssShim$){var l=(o=O.$cssShim$.createHostStyle(n,i,a,!!(10&t.$flags$)))["s-sc"];l&&(i=l,s=null)}else(o=I.createElement("style")).innerHTML=a;(g.BUILD.hydrateServerSide||g.BUILD.hotModuleReplacement)&&o.setAttribute(D,i),e.insertBefore(o,e.querySelector("link"))}s&&s.add(i)}}else g.BUILD.constructableCSS&&!e.adoptedStyleSheets.includes(a)&&(e.adoptedStyleSheets=h.default(e.adoptedStyleSheets).concat([a]));return i},J=function(e){var t=e.$cmpMeta$,r=e.$hostElement$,n=t.$flags$,i=B("attachStyles",t.$tagName$),a=G(g.BUILD.shadowDom&&L&&r.shadowRoot?r.shadowRoot:r.getRootNode(),t,e.$modeName$,r);(g.BUILD.shadowDom||g.BUILD.scoped)&&g.BUILD.cssAnnotations&&10&n&&(r["s-sc"]=a,r.classList.add(a+"-h"),g.BUILD.scoped&&2&n&&r.classList.add(a+"-s")),i()},q=function(e,t){return"sc-"+(g.BUILD.mode&&t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$)},X=function(e){return ut.map((function(t){return t(e)})).find((function(e){return!!e}))},K={},$=function(e){return"object"===(e=void 0===e?"undefined":y.default(e))||"function"===e},Y=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var a=null,o=null,s=null,l=!1,u=!1,c=[],f=function(t){for(var r=0;r<t.length;r++)a=t[r],Array.isArray(a)?f(a):null!=a&&"boolean"!=typeof a&&((l="function"!=typeof e&&!$(a))?a=String(a):g.BUILD.isDev&&"function"!=typeof e&&void 0===a.$flags$&&it("vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects."),l&&u?c[c.length-1].$text$+=a:c.push(l?Z(null,a):a),u=l)};if(f(n),t&&(g.BUILD.isDev&&"input"===e&&ie(t),g.BUILD.vdomKey&&t.key&&(o=t.key),g.BUILD.slotRelocation&&t.name&&(s=t.name),g.BUILD.vdomClass)){var p=t.className||t.class;p&&(t.class="object"!=typeof p?p:Object.keys(p).filter((function(e){return p[e]})).join(" "))}if(g.BUILD.isDev&&c.some(ee)&&it("The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function."),g.BUILD.vdomFunctional&&"function"==typeof e)return e(null===t?{}:t,c,te);var d=Z(e,null);return d.$attrs$=t,c.length>0&&(d.$children$=c),g.BUILD.vdomKey&&(d.$key$=o),g.BUILD.slotRelocation&&(d.$name$=s),d},Z=function(e,t){var r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return g.BUILD.vdomAttribute&&(r.$attrs$=null),g.BUILD.vdomKey&&(r.$key$=null),g.BUILD.slotRelocation&&(r.$name$=null),r},Q={},ee=function(e){return e&&e.$tag$===Q},te={forEach:function(e,t){return e.map(re).forEach(t)},map:function(e,t){return e.map(re).map(t).map(ne)}},re=function(e){return{vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}},ne=function(e){if("function"==typeof e.vtag){var t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),Y.apply(void 0,[e.vtag,t].concat(h.default(e.vchildren||[])))}var r=Z(e.vtag,e.vtext);return r.$attrs$=e.vattrs,r.$children$=e.vchildren,r.$key$=e.vkey,r.$name$=e.vname,r},ie=function(e){var t=Object.keys(e),r=t.indexOf("value");if(-1!==r){var n=t.indexOf("type"),i=t.indexOf("min"),a=t.indexOf("max"),o=t.indexOf("step");(r<n||r<i||r<a||r<o)&&at('The "value" prop of <input> should be set after "min", "max", "type" and "step"')}},ae=function(e,t,r,n,i,a){if(r!==n){var o=tt(e,t),s=t.toLowerCase();if(g.BUILD.vdomClass&&"class"===t){var l,u,c=e.classList,f=se(r),p=se(n);(l=c).remove.apply(l,h.default(f.filter((function(e){return e&&!p.includes(e)})))),(u=c).add.apply(u,h.default(p.filter((function(e){return e&&!f.includes(e)}))))}else if(g.BUILD.vdomStyle&&"style"===t){if(g.BUILD.updatable)for(var d in r)n&&null!=n[d]||(!g.BUILD.hydrateServerSide&&d.includes("-")?e.style.removeProperty(d):e.style[d]="");for(var y in n)r&&n[y]===r[y]||(!g.BUILD.hydrateServerSide&&y.includes("-")?e.style.setProperty(y,n[y]):e.style[y]=n[y])}else if(g.BUILD.vdomKey&&"key"===t);else if(g.BUILD.vdomRef&&"ref"===t)n&&n(e);else if(!g.BUILD.vdomListener||(g.BUILD.lazyLoad?o:e.__lookupSetter__(t))||"o"!==t[0]||"n"!==t[1]){if(g.BUILD.vdomPropOrAttr){var v=$(n);if((o||v&&null!==n)&&!i)try{if(e.tagName.includes("-"))e[t]=n;else{var m=null==n?"":n;"list"===t?o=!1:null!=r&&e[t]==m||(e[t]=m)}}catch(e){}var b=!1;g.BUILD.vdomXlink&&s!==(s=s.replace(/^xlink\:?/,""))&&(t=s,b=!0),null==n||!1===n?!1===n&&""!==e.getAttribute(t)||(g.BUILD.vdomXlink&&b?e.removeAttributeNS(V,t):e.removeAttribute(t)):(!o||4&a||i)&&!v&&(n=!0===n?"":n,g.BUILD.vdomXlink&&b?e.setAttributeNS(V,t,n):e.setAttribute(t,n))}}else t="-"===t[2]?t.slice(3):tt(E,s)?s.slice(2):s[2]+t.slice(3),r&&O.rel(e,t,r,!1),n&&O.ael(e,t,n,!1)}},oe=/\s/,se=function(e){return e?e.split(oe):[]},le=function(e,t,r,n){var i=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,a=e&&e.$attrs$||K,o=t.$attrs$||K;if(g.BUILD.updatable)for(n in a)n in o||ae(i,n,a[n],void 0,r,t.$flags$);for(n in o)ae(i,n,a[n],o[n],r,t.$flags$)},ue=function(e,t,r,n){var i,a,s,c=t.$children$[r],f=0;if(g.BUILD.slotRelocation&&!_&&(x=!0,"slot"===c.$tag$&&(o&&n.classList.add(o+"-s"),c.$flags$|=c.$children$?2:1)),g.BUILD.isDev&&c.$elm$&&it("The JSX ".concat(null!==c.$text$?'"'.concat(c.$text$,'" text'):'"'.concat(c.$tag$,'" element')," node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes")),g.BUILD.vdomText&&null!==c.$text$)i=c.$elm$=I.createTextNode(c.$text$);else if(g.BUILD.slotRelocation&&1&c.$flags$)i=c.$elm$=g.BUILD.isDebug||g.BUILD.hydrateServerSide?Se(c):I.createTextNode("");else{if(g.BUILD.svg&&!S&&(S="svg"===c.$tag$),i=c.$elm$=g.BUILD.svg?I.createElementNS(S?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",g.BUILD.slotRelocation&&2&c.$flags$?"slot-fb":c.$tag$):I.createElement(g.BUILD.slotRelocation&&2&c.$flags$?"slot-fb":c.$tag$),g.BUILD.svg&&S&&"foreignObject"===c.$tag$&&(S=!1),g.BUILD.vdomAttribute&&le(null,c,S),(g.BUILD.shadowDom||g.BUILD.scoped)&&null!=o&&i["s-si"]!==o&&i.classList.add(i["s-si"]=o),c.$children$)for(f=0;f<c.$children$.length;++f)(a=ue(e,c,f,i))&&i.appendChild(a);g.BUILD.svg&&("svg"===c.$tag$?S=!1:"foreignObject"===i.tagName&&(S=!0))}return g.BUILD.slotRelocation&&(i["s-hn"]=u,3&c.$flags$&&(i["s-sr"]=!0,i["s-cr"]=l,i["s-sn"]=c.$name$||"",(s=e&&e.$children$&&e.$children$[r])&&s.$tag$===c.$tag$&&e.$elm$&&ce(e.$elm$,!1))),i},ce=function(e,t){O.$flags$|=1;for(var r=e.childNodes,n=r.length-1;n>=0;n--){var i=r[n];i["s-hn"]!==u&&i["s-ol"]&&(ye(i).insertBefore(i,he(i)),i["s-ol"].remove(),i["s-ol"]=void 0,x=!0),t&&ce(i,t)}O.$flags$&=-2},fe=function(e,t,r,n,i,a){var o,s=g.BUILD.slotRelocation&&e["s-cr"]&&e["s-cr"].parentNode||e;for(g.BUILD.shadowDom&&s.shadowRoot&&s.tagName===u&&(s=s.shadowRoot);i<=a;++i)n[i]&&(o=ue(null,r,i,e))&&(n[i].$elm$=o,s.insertBefore(o,g.BUILD.slotRelocation?he(t):t))},pe=function(e,t,r,n,i){for(;t<=r;++t)(n=e[t])&&(i=n.$elm$,we(n),g.BUILD.slotRelocation&&(w=!0,i["s-ol"]?i["s-ol"].remove():ce(i,!0)),i.remove())},de=function(e,t){return e.$tag$===t.$tag$&&(g.BUILD.slotRelocation&&"slot"===e.$tag$?e.$name$===t.$name$:!g.BUILD.vdomKey||e.$key$===t.$key$)},he=function(e){return e&&e["s-ol"]||e},ye=function(e){return(e["s-ol"]?e["s-ol"]:e).parentNode},ve=function(e,t){var r,n=t.$elm$=e.$elm$,i=e.$children$,a=t.$children$,o=t.$tag$,s=t.$text$;g.BUILD.vdomText&&null!==s?g.BUILD.vdomText&&g.BUILD.slotRelocation&&(r=n["s-cr"])?r.parentNode.textContent=s:g.BUILD.vdomText&&e.$text$!==s&&(n.data=s):(g.BUILD.svg&&(S="svg"===o||"foreignObject"!==o&&S),(g.BUILD.vdomAttribute||g.BUILD.reflect)&&(g.BUILD.slot&&"slot"===o||le(e,t,S)),g.BUILD.updatable&&null!==i&&null!==a?function(e,t,r,n){for(var i,a,o=0,s=0,l=0,u=0,c=t.length-1,f=t[0],p=t[c],d=n.length-1,h=n[0],y=n[d];o<=c&&s<=d;)if(null==f)f=t[++o];else if(null==p)p=t[--c];else if(null==h)h=n[++s];else if(null==y)y=n[--d];else if(de(f,h))ve(f,h),f=t[++o],h=n[++s];else if(de(p,y))ve(p,y),p=t[--c],y=n[--d];else if(de(f,y))!g.BUILD.slotRelocation||"slot"!==f.$tag$&&"slot"!==y.$tag$||ce(f.$elm$.parentNode,!1),ve(f,y),e.insertBefore(f.$elm$,p.$elm$.nextSibling),f=t[++o],y=n[--d];else if(de(p,h))!g.BUILD.slotRelocation||"slot"!==f.$tag$&&"slot"!==y.$tag$||ce(p.$elm$.parentNode,!1),ve(p,h),e.insertBefore(p.$elm$,f.$elm$),p=t[--c],h=n[++s];else{if(l=-1,g.BUILD.vdomKey)for(u=o;u<=c;++u)if(t[u]&&null!==t[u].$key$&&t[u].$key$===h.$key$){l=u;break}g.BUILD.vdomKey&&l>=0?((a=t[l]).$tag$!==h.$tag$?i=ue(t&&t[s],r,l,e):(ve(a,h),t[l]=void 0,i=a.$elm$),h=n[++s]):(i=ue(t&&t[s],r,s,e),h=n[++s]),i&&(g.BUILD.slotRelocation?ye(f.$elm$).insertBefore(i,he(f.$elm$)):f.$elm$.parentNode.insertBefore(i,f.$elm$))}o>c?fe(e,null==n[d+1]?null:n[d+1].$elm$,r,n,s,d):g.BUILD.updatable&&s>d&&pe(t,o,c)}(n,i,t,a):null!==a?(g.BUILD.updatable&&g.BUILD.vdomText&&null!==e.$text$&&(n.textContent=""),fe(n,null,t,a,0,a.length-1)):g.BUILD.updatable&&null!==i&&pe(i,0,i.length-1),g.BUILD.svg&&S&&"svg"===o&&(S=!1))},me=function(e){var t,r,n,i,a,o,s=e.childNodes;for(r=0,n=s.length;r<n;r++)if(1===(t=s[r]).nodeType){if(t["s-sr"])for(a=t["s-sn"],t.hidden=!1,i=0;i<n;i++)if(o=s[i].nodeType,s[i]["s-hn"]!==t["s-hn"]||""!==a){if(1===o&&a===s[i].getAttribute("slot")){t.hidden=!0;break}}else if(1===o||3===o&&""!==s[i].textContent.trim()){t.hidden=!0;break}me(t)}},ge=[],be=function(e){for(var t,r,n,i,a,o,s=0,l=e.childNodes,u=l.length;s<u;s++){if((t=l[s])["s-sr"]&&(r=t["s-cr"])&&r.parentNode)for(n=r.parentNode.childNodes,i=t["s-sn"],o=n.length-1;o>=0;o--)(r=n[o])["s-cn"]||r["s-nr"]||r["s-hn"]===t["s-hn"]||(_e(r,i)?(a=ge.find((function(e){return e.$nodeToRelocate$===r})),w=!0,r["s-sn"]=r["s-sn"]||i,a?a.$slotRefNode$=t:ge.push({$slotRefNode$:t,$nodeToRelocate$:r}),r["s-sr"]&&ge.map((function(e){_e(e.$nodeToRelocate$,r["s-sn"])&&(a=ge.find((function(e){return e.$nodeToRelocate$===r})))&&!e.$slotRefNode$&&(e.$slotRefNode$=a.$slotRefNode$)}))):ge.some((function(e){return e.$nodeToRelocate$===r}))||ge.push({$nodeToRelocate$:r}));1===t.nodeType&&be(t)}},_e=function(e,t){return 1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t},we=function(e){g.BUILD.vdomRef&&(e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(we))},xe=function(e,t){var r=e.$hostElement$,n=e.$cmpMeta$,i=e.$vnode$||Z(null,null),a=ee(t)?t:Y(null,null,t);if(u=r.tagName,g.BUILD.isDev&&Array.isArray(t)&&t.some(ee))throw new Error('The <Host> must be the single root component.\nLooks like the render() function of "'.concat(u.toLowerCase(),'" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  '));if(g.BUILD.reflect&&n.$attrsToReflect$&&(a.$attrs$=a.$attrs$||{},n.$attrsToReflect$.map((function(e){var t=d.default(e,2),n=t[0],i=t[1];return a.$attrs$[i]=r[n]}))),a.$tag$=null,a.$flags$|=4,e.$vnode$=a,a.$elm$=i.$elm$=g.BUILD.shadowDom&&r.shadowRoot||r,(g.BUILD.scoped||g.BUILD.shadowDom)&&(o=r["s-sc"]),g.BUILD.slotRelocation&&(l=r["s-cr"],_=L&&0!=(1&n.$flags$),w=!1),ve(i,a),g.BUILD.slotRelocation){if(O.$flags$|=1,x){var s,c,f,p,h,y;be(a.$elm$);for(var v=0;v<ge.length;v++)(c=(s=ge[v]).$nodeToRelocate$)["s-ol"]||((f=g.BUILD.isDebug||g.BUILD.hydrateServerSide?ke(c):I.createTextNode(""))["s-nr"]=c,c.parentNode.insertBefore(c["s-ol"]=f,c));for(v=0;v<ge.length;v++)if(c=(s=ge[v]).$nodeToRelocate$,s.$slotRefNode$){for(p=s.$slotRefNode$.parentNode,h=s.$slotRefNode$.nextSibling,f=c["s-ol"];f=f.previousSibling;)if((y=f["s-nr"])&&y["s-sn"]===c["s-sn"]&&p===y.parentNode&&(!(y=y.nextSibling)||!y["s-nr"])){h=y;break}(!h&&p!==c.parentNode||c.nextSibling!==h)&&c!==h&&(!c["s-hn"]&&c["s-ol"]&&(c["s-hn"]=c["s-ol"].parentNode.nodeName),p.insertBefore(c,h))}else 1===c.nodeType&&(c.hidden=!0)}w&&me(a.$elm$),O.$flags$&=-2,ge.length=0}},Se=function(e){return I.createComment("<slot".concat(e.$name$?' name="'+e.$name$+'"':"","> (host=").concat(u.toLowerCase(),")"))},ke=function(e){return I.createComment("org-location for "+(e.localName?"<".concat(e.localName,"> (host=").concat(e["s-hn"],")"):"[".concat(e.textContent,"]")))},Te=function(e,t,r){var n=function(e){return g.BUILD.lazyLoad?Qe(e).$hostElement$:e}(e);return{emit:function(e){return g.BUILD.isDev&&!n.isConnected&&at('The "'.concat(t,'" event was emitted, but the dispatcher node is no longer connected to the dom.')),Ee(n,t,{bubbles:!!(4&r),composed:!!(2&r),cancelable:!!(1&r),detail:e})}}},Ee=function(e,t,r){var n=O.ce(t,r);return e.dispatchEvent(n),n},Ie=function(e,t){g.BUILD.asyncLoading&&t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((function(t){return e.$onRenderResolve$=t})))},Ce=function(e,t){if(g.BUILD.taskQueue&&g.BUILD.updatable&&(e.$flags$|=16),!(g.BUILD.asyncLoading&&4&e.$flags$)){Ie(e,e.$ancestorComponent$);var r=function(){return Oe(e,t)};return g.BUILD.taskQueue?gt(r):r()}e.$flags$|=512},Oe=function(e,t){var r,n=e.$hostElement$,i=B("scheduleUpdate",e.$cmpMeta$.$tagName$),a=g.BUILD.lazyLoad?e.$lazyInstance$:n;return t?(g.BUILD.lazyLoad&&g.BUILD.hostListener&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((function(e){var t=d.default(e,2),r=t[0],n=t[1];return Pe(a,r,n)})),e.$queuedListeners$=null)),je(n,"componentWillLoad"),g.BUILD.cmpWillLoad&&(r=Pe(a,"componentWillLoad"))):(je(n,"componentWillUpdate"),g.BUILD.cmpWillUpdate&&(r=Pe(a,"componentWillUpdate"))),je(n,"componentWillRender"),g.BUILD.cmpWillRender&&(r=Fe(r,(function(){return Pe(a,"componentWillRender")}))),i(),Fe(r,(function(){return Le(e,a,t)}))},Le=(f=v.default(n(m).mark((function e(t,r,i){var a,o,s,l,u,c;return n(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.$hostElement$,o=B("update",t.$cmpMeta$.$tagName$),s=a["s-rc"],g.BUILD.style&&i&&J(t),l=B("render",t.$cmpMeta$.$tagName$),g.BUILD.isDev&&(t.$flags$|=1024),!g.BUILD.hydrateServerSide){e.next=11;break}return e.next=9,Ae(t,r,a);case 9:e.next=12;break;case 11:Ae(t,r,a);case 12:if(g.BUILD.cssVarShim&&O.$cssShim$&&O.$cssShim$.updateHost(a),g.BUILD.isDev&&(t.$renderCount$++,t.$flags$&=-1025),g.BUILD.hydrateServerSide)try{Ue(a),i&&(1&t.$cmpMeta$.$flags$?a["s-en"]="":2&t.$cmpMeta$.$flags$&&(a["s-en"]="c"))}catch(e){rt(e,a)}g.BUILD.asyncLoading&&s&&(s.map((function(e){return e()})),a["s-rc"]=void 0),l(),o(),g.BUILD.asyncLoading?(u=a["s-p"],c=function(){return Me(t)},0===u.length?c():(Promise.all(u).then(c),t.$flags$|=4,u.length=0)):Me(t);case 19:case"end":return e.stop()}}),e)}))),function(e,t,r){return f.apply(this,arguments)}),Ae=function(e,t,r){var n=!!g.BUILD.allRenderFn,i=!!g.BUILD.lazyLoad,a=!!g.BUILD.taskQueue,o=!!g.BUILD.updatable;try{if(t,t=(n||t.render)&&t.render(),o&&a&&(e.$flags$&=-17),(o||i)&&(e.$flags$|=2),g.BUILD.hasRenderFn||g.BUILD.reflect)if(g.BUILD.vdomRender||g.BUILD.reflect){if(g.BUILD.hydrateServerSide)return Promise.resolve(t).then((function(t){return xe(e,t)}));xe(e,t)}else r.textContent=t}catch(t){rt(t,e.$hostElement$)}return null,null},Me=function(e){var t=e.$cmpMeta$.$tagName$,r=e.$hostElement$,n=B("postUpdate",t),i=g.BUILD.lazyLoad?e.$lazyInstance$:r,a=e.$ancestorComponent$;g.BUILD.cmpDidRender&&(g.BUILD.isDev&&(e.$flags$|=1024),Pe(i,"componentDidRender"),g.BUILD.isDev&&(e.$flags$&=-1025)),je(r,"componentDidRender"),64&e.$flags$?(g.BUILD.cmpDidUpdate&&(g.BUILD.isDev&&(e.$flags$|=1024),Pe(i,"componentDidUpdate"),g.BUILD.isDev&&(e.$flags$&=-1025)),je(r,"componentDidUpdate"),n()):(e.$flags$|=64,g.BUILD.asyncLoading&&g.BUILD.cssAnnotations&&De(r),g.BUILD.cmpDidLoad&&(g.BUILD.isDev&&(e.$flags$|=2048),Pe(i,"componentDidLoad"),g.BUILD.isDev&&(e.$flags$&=-2049)),je(r,"componentDidLoad"),n(),g.BUILD.asyncLoading&&(e.$onReadyResolve$(r),a||Re(t))),g.BUILD.hotModuleReplacement&&r["s-hmr-load"]&&r["s-hmr-load"](),g.BUILD.method&&g.BUILD.lazyLoad&&e.$onInstanceResolve$(r),g.BUILD.asyncLoading&&(e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&mt((function(){return Ce(e,!1)})),e.$flags$&=-517)},Ne=function(e){if(g.BUILD.updatable){var t=Qe(e),r=t.$hostElement$.isConnected;return r&&2==(18&t.$flags$)&&Ce(t,!1),r}return!1},Re=function(e){g.BUILD.cssAnnotations&&De(I.documentElement),g.BUILD.asyncQueue&&(O.$flags$|=2),mt((function(){return Ee(E,"appload",{detail:{namespace:g.NAMESPACE}})})),g.BUILD.profile&&performance.measure&&performance.measure("[Stencil] ".concat(g.NAMESPACE," initial load (by ").concat(e,")"),"st:app:start")},Pe=function(e,t,r){if(e&&e[t])try{return e[t](r)}catch(e){rt(e)}},Fe=function(e,t){return e&&e.then?e.then(t):t()},je=function(e,t){g.BUILD.lifecycleDOMEvents&&Ee(e,"stencil_"+t,{bubbles:!0,composed:!0,detail:{namespace:g.NAMESPACE}})},De=function(e){return g.BUILD.hydratedClass?e.classList.add("hydrated"):g.BUILD.hydratedAttribute?e.setAttribute("hydrated",""):void 0},Ue=function(e){var t=e.children;if(null!=t)for(var r=0,n=t.length;r<n;r++){var i=t[r];"function"==typeof i.connectedCallback&&i.connectedCallback(),Ue(i)}},Ve=function(e,t,r,n,i,a,o){var s,l,u,c;if(1===a.nodeType){for((s=a.getAttribute(U))&&((l=s.split("."))[0]!==o&&"0"!==l[0]||(u={$flags$:0,$hostId$:l[0],$nodeId$:l[1],$depth$:l[2],$index$:l[3],$tag$:a.tagName.toLowerCase(),$elm$:a,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},t.push(u),a.removeAttribute(U),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u,e=u,n&&"0"===u.$depth$&&(n[u.$index$]=u.$elm$))),c=a.childNodes.length-1;c>=0;c--)Ve(e,t,r,n,i,a.childNodes[c],o);if(a.shadowRoot)for(c=a.shadowRoot.childNodes.length-1;c>=0;c--)Ve(e,t,r,n,i,a.shadowRoot.childNodes[c],o)}else if(8===a.nodeType)(l=a.nodeValue.split("."))[1]!==o&&"0"!==l[1]||(s=l[0],u={$flags$:0,$hostId$:l[1],$nodeId$:l[2],$depth$:l[3],$index$:l[4],$elm$:a,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===s?(u.$elm$=a.nextSibling,u.$elm$&&3===u.$elm$.nodeType&&(u.$text$=u.$elm$.textContent,t.push(u),a.remove(),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u,n&&"0"===u.$depth$&&(n[u.$index$]=u.$elm$))):u.$hostId$===o&&("s"===s?(u.$tag$="slot",l[5]?a["s-sn"]=u.$name$=l[5]:a["s-sn"]="",a["s-sr"]=!0,g.BUILD.shadowDom&&n&&(u.$elm$=I.createElement(u.$tag$),u.$name$&&u.$elm$.setAttribute("name",u.$name$),a.parentNode.insertBefore(u.$elm$,a),a.remove(),"0"===u.$depth$&&(n[u.$index$]=u.$elm$)),r.push(u),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u):"r"===s&&(g.BUILD.shadowDom&&n?a.remove():g.BUILD.slotRelocation&&(i["s-cr"]=a,a["s-cn"]=!0))));else if(e&&"style"===e.$tag$){var f=Z(null,a.textContent);f.$elm$=a,f.$index$="0",e.$children$=[f]}},Be=function(e,t){if(1===e.nodeType){for(var r=0;r<e.childNodes.length;r++)Be(e.childNodes[r],t);if(e.shadowRoot)for(r=0;r<e.shadowRoot.childNodes.length;r++)Be(e.shadowRoot.childNodes[r],t)}else if(8===e.nodeType){var n=e.nodeValue.split(".");"o"===n[0]&&(t.set(n[1]+"."+n[2],e),e.nodeValue="",e["s-en"]=n[3])}},He=function(e,t,r,n){var i,a,o=Qe(e),s=g.BUILD.lazyLoad?o.$hostElement$:e,l=o.$instanceValues$.get(t),u=o.$flags$,c=g.BUILD.lazyLoad?o.$lazyInstance$:s;if(i=r,a=n.$members$[t][0],r=null==i||$(i)?i:g.BUILD.propBoolean&&4&a?"false"!==i&&(""===i||!!i):g.BUILD.propNumber&&2&a?parseFloat(i):g.BUILD.propString&&1&a?String(i):i,!(g.BUILD.lazyLoad&&8&u&&void 0!==l||r===l)&&(o.$instanceValues$.set(t,r),g.BUILD.isDev&&(1024&o.$flags$?at('The state/prop "'.concat(t,'" changed during rendering. This can potentially lead to infinite-loops and other bugs.'),"\nElement",s,"\nNew value",r,"\nOld value",l):2048&o.$flags$&&at('The state/prop "'.concat(t,'" changed during "componentDidLoad()", this triggers extra re-renders, try to setup on "componentWillLoad()"'),"\nElement",s,"\nNew value",r,"\nOld value",l)),!g.BUILD.lazyLoad||c)){if(g.BUILD.watchCallback&&n.$watchers$&&128&u){var f=n.$watchers$[t];f&&f.map((function(e){try{c[e](r,l,t)}catch(e){rt(e,s)}}))}if(g.BUILD.updatable&&2==(18&u)){if(g.BUILD.cmpShouldUpdate&&c.componentShouldUpdate&&!1===c.componentShouldUpdate(r,l,t))return;Ce(o,!1)}}},ze=function(e,t,r){if(g.BUILD.member&&t.$members$){g.BUILD.watchCallback&&e.watchers&&(t.$watchers$=e.watchers);var n=Object.entries(t.$members$),i=e.prototype;if(n.map((function(e){var n=d.default(e,2),a=n[0],o=d.default(n[1],1)[0];(g.BUILD.prop||g.BUILD.state)&&(31&o||(!g.BUILD.lazyLoad||2&r)&&32&o)?Object.defineProperty(i,a,{get:function(){return e=a,Qe(this).$instanceValues$.get(e);var e},set:function(e){if(g.BUILD.isDev){var n=Qe(this);0==(1&r)&&0==(8&n.$flags$)&&0!=(31&o)&&0==(1024&o)&&at('@Prop() "'.concat(a,'" on <').concat(t.$tagName$,"> is immutable but was modified from within the component.\nMore information: https://stenciljs.com/docs/properties#prop-mutability"))}He(this,a,e,t)},configurable:!0,enumerable:!0}):g.BUILD.lazyLoad&&g.BUILD.method&&1&r&&64&o&&Object.defineProperty(i,a,{value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=Qe(this);return i.$onInstancePromise$.then((function(){return(n=i.$lazyInstance$)[a].apply(n,h.default(t))}))}})})),g.BUILD.observeAttribute&&(!g.BUILD.lazyLoad||1&r)){var a=new Map;i.attributeChangedCallback=function(e,t,r){var n=this;O.jmp((function(){var t=a.get(e);if(n.hasOwnProperty(t))r=n[t],delete n[t];else if(i.hasOwnProperty(t)&&"number"==typeof n[t]&&n[t]==r)return;n[t]=(null!==r||"boolean"!=typeof n[t])&&r}))},e.observedAttributes=n.filter((function(e){var t=d.default(e,2);t[0];return 15&t[1][0]})).map((function(e){var r=d.default(e,2),n=r[0],i=r[1],o=i[1]||n;return a.set(o,n),g.BUILD.reflect&&512&i[0]&&t.$attrsToReflect$.push([n,o]),o}))}}return e},We=function(){var e=v.default(n(m).mark((function e(t,r,i,a,o){var l,u,c,f,p,d,h;return n(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(g.BUILD.lazyLoad||g.BUILD.hydrateServerSide||g.BUILD.style)||0!=(32&r.$flags$)){e.next=35;break}if(!g.BUILD.lazyLoad&&!g.BUILD.hydrateClientSide){e.next=22;break}if(r.$flags$|=32,!(o=st(i,r,a)).then){e.next=10;break}return l=H("st:load:".concat(i.$tagName$,":").concat(r.$modeName$),"[Stencil] Load module for <".concat(i.$tagName$,">")),e.next=8,o;case 8:o=e.sent,l();case 10:if(!g.BUILD.isDev&&!g.BUILD.isDebug||o){e.next=12;break}throw new Error('Constructor for "'.concat(i.$tagName$,"#").concat(r.$modeName$,'" was not found'));case 12:g.BUILD.member&&!o.isProxied&&(g.BUILD.watchCallback&&(i.$watchers$=o.watchers),ze(o,i,2),o.isProxied=!0),u=B("createInstance",i.$tagName$),g.BUILD.member&&(r.$flags$|=8);try{new o(r)}catch(e){rt(e)}g.BUILD.member&&(r.$flags$&=-9),g.BUILD.watchCallback&&(r.$flags$|=128),u(),Ge(r.$lazyInstance$),e.next=23;break;case 22:o=t.constructor,r.$flags$|=32,customElements.whenDefined(i.$tagName$).then((function(){return r.$flags$|=128}));case 23:if(!g.BUILD.style||!o.style){e.next=35;break}if(c=o.style,g.BUILD.mode&&"string"!=typeof c&&(c=c[r.$modeName$=X(t)],g.BUILD.hydrateServerSide&&r.$modeName$&&t.setAttribute("s-mode",r.$modeName$)),f=q(i,r.$modeName$),lt.has(f)){e.next=35;break}if(p=B("registerStyles",i.$tagName$),!(!g.BUILD.hydrateServerSide&&g.BUILD.shadowDom&&g.BUILD.shadowDomShim&&8&i.$flags$)){e.next=33;break}return e.next=32,s("fsTOq").then((function(e){return e.scopeCss(c,f,!1)}));case 32:c=e.sent;case 33:W(f,c,!!(1&i.$flags$)),p();case 35:d=r.$ancestorComponent$,h=function(){return Ce(r,!0)},g.BUILD.asyncLoading&&d&&d["s-rc"]?d["s-rc"].push(h):h();case 38:case"end":return e.stop()}}),e)})));return function(t,r,n,i,a){return e.apply(this,arguments)}}(),Ge=function(e){g.BUILD.lazyLoad&&g.BUILD.connectedCallback&&Pe(e,"connectedCallback")},Je=function(e){if(0==(1&O.$flags$)){var t=Qe(e),r=t.$cmpMeta$,n=B("connectedCallback",r.$tagName$);if(g.BUILD.hostListenerTargetParent&&N(e,t,r.$listeners$,!0),1&t.$flags$)N(e,t,r.$listeners$,!1),Ge(t.$lazyInstance$);else{var i;if(t.$flags$|=1,g.BUILD.hydrateClientSide&&(i=e.getAttribute(j))){if(g.BUILD.shadowDom&&L&&1&r.$flags$){var a=g.BUILD.mode?G(e.shadowRoot,r,e.getAttribute("s-mode")):G(e.shadowRoot,r);e.classList.remove(a+"-h",a+"-s")}!function(e,t,r,n){var i=B("hydrateClient",t),a=e.shadowRoot,o=[],s=g.BUILD.shadowDom&&a?[]:null,l=n.$vnode$=Z(t,null);O.$orgLocNodes$||Be(I.body,O.$orgLocNodes$=new Map),e["s-id"]=r,e.removeAttribute(j),Ve(l,o,[],s,e,e,r),o.map((function(e){var r=e.$hostId$+"."+e.$nodeId$,n=O.$orgLocNodes$.get(r),i=e.$elm$;n&&L&&""===n["s-en"]&&n.parentNode.insertBefore(i,n.nextSibling),a||(i["s-hn"]=t,n&&(i["s-ol"]=n,i["s-ol"]["s-nr"]=i)),O.$orgLocNodes$.delete(r)})),g.BUILD.shadowDom&&a&&s.map((function(e){e&&a.appendChild(e)})),i()}(e,r.$tagName$,i,t)}if(g.BUILD.slotRelocation&&!i&&(g.BUILD.hydrateServerSide||(g.BUILD.slot||g.BUILD.shadowDom)&&12&r.$flags$)&&qe(e),g.BUILD.asyncLoading)for(var o=e;o=o.parentNode||o.host;)if(g.BUILD.hydrateClientSide&&1===o.nodeType&&o.hasAttribute("s-id")&&o["s-p"]||o["s-p"]){Ie(t,t.$ancestorComponent$=o);break}g.BUILD.prop&&!g.BUILD.hydrateServerSide&&r.$members$&&Object.entries(r.$members$).map((function(t){var r=d.default(t,2),n=r[0];if(31&d.default(r[1],1)[0]&&e.hasOwnProperty(n)){var i=e[n];delete e[n],e[n]=i}})),g.BUILD.initializeNextTick?mt((function(){return We(e,t,r)})):We(e,t,r)}n()}},qe=function(e){var t=e["s-cr"]=I.createComment(g.BUILD.isDebug?"content-ref (host=".concat(e.localName,")"):"");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Xe=function(e){if(0==(1&O.$flags$)){var t=Qe(e),r=g.BUILD.lazyLoad?t.$lazyInstance$:e;g.BUILD.hostListener&&t.$rmListeners$&&(t.$rmListeners$.map((function(e){return e()})),t.$rmListeners$=void 0),g.BUILD.cssVarShim&&O.$cssShim$&&O.$cssShim$.removeHost(e),g.BUILD.lazyLoad&&g.BUILD.disconnectedCallback&&Pe(r,"disconnectedCallback"),g.BUILD.cmpDidUnload&&Pe(r,"componentDidUnload")}},Ke=function(e,t){var r={$flags$:t[0],$tagName$:t[1]};g.BUILD.member&&(r.$members$=t[2]),g.BUILD.hostListener&&(r.$listeners$=t[3]),g.BUILD.watchCallback&&(r.$watchers$=e.$watchers$),g.BUILD.reflect&&(r.$attrsToReflect$=[]),g.BUILD.shadowDom&&!L&&1&r.$flags$&&(r.$flags$|=8);var n=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost:function(){et(this,r)},connectedCallback:function(){Je(this),g.BUILD.connectedCallback&&n&&n.call(this)},disconnectedCallback:function(){Xe(this),g.BUILD.disconnectedCallback&&i&&i.call(this)},__attachShadow:function(){L?g.BUILD.shadowDelegatesFocus?this.attachShadow({mode:"open",delegatesFocus:!!(16&r.$flags$)}):this.attachShadow({mode:"open"}):this.shadowRoot=this}}),e.is=r.$tagName$,ze(e,r,3)},$e=function(e){var t=new URL(e,O.$resourcesUrl$);return t.origin!==E.location.origin?t.href:t.pathname},Ye=function(e){return O.$resourcesUrl$=e},Ze=new WeakMap,Qe=function(e){return Ze.get(e)},et=function(e,t){var r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return g.BUILD.isDev&&(r.$renderCount$=0),g.BUILD.method&&g.BUILD.lazyLoad&&(r.$onInstancePromise$=new Promise((function(e){return r.$onInstanceResolve$=e}))),g.BUILD.asyncLoading&&(r.$onReadyPromise$=new Promise((function(e){return r.$onReadyResolve$=e})),e["s-p"]=[],e["s-rc"]=[]),N(e,r,t.$listeners$,!1),Ze.set(e,r)},tt=function(e,t){return t in e},rt=function(e,t){return(c||console.error)(e,t)},nt=g.BUILD.isTesting?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],it=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(i=console).error.apply(i,h.default(nt).concat(h.default(t)))},at=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(a=console).warn.apply(a,h.default(nt).concat(h.default(t)))},ot=new Map,st=function(e,t,r){var n=e.$tagName$.replace(/-/g,"_"),i=e.$lazyBundleId$;if(!g.BUILD.isDev||"string"==typeof i){var a=!g.BUILD.hotModuleReplacement&&ot.get(i);return a?a[n]:import("./".concat(i,".entry.js").concat(g.BUILD.hotModuleReplacement&&r?"?s-hmr="+r:"")).then((function(e){return g.BUILD.hotModuleReplacement||ot.set(i,e),e[n]}),rt)}it("Trying to lazily load component <".concat(e.$tagName$,'> with style mode "').concat(t.$modeName$,'", but it does not exist.'))},lt=new Map,ut=[],ct=[],ft=[],pt=[],dt=function(e,t){return function(r){e.push(r),T||(T=!0,t&&4&O.$flags$?mt(vt):O.raf(vt))}},ht=function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){rt(e)}e.length=0},yt=function(e,t){for(var r=0,n=0;r<e.length&&(n=performance.now())<t;)try{e[r++](n)}catch(e){rt(e)}r===e.length?e.length=0:0!==r&&e.splice(0,r)},vt=function(){if(g.BUILD.asyncQueue&&k++,ht(ct),g.BUILD.asyncQueue){var e,t=2==(6&O.$flags$)?performance.now()+14*Math.ceil(.1*k):1/0;if(yt(ft,t),yt(pt,t),ft.length>0)(e=pt).push.apply(e,h.default(ft)),ft.length=0;(T=ct.length+ft.length+pt.length>0)?O.raf(vt):k=0}else ht(ft),(T=ct.length>0)&&O.raf(vt)},mt=function(e){return Promise.resolve(t).then(e);var t},gt=dt(ft,!0),bt={isDev:!!g.BUILD.isDev,isBrowser:!0,isServer:!1,isTesting:!!g.BUILD.isTesting}})),s.register("21yRN",(function(t,r){e(t.exports,"BUILD",(function(){return n})),e(t.exports,"NAMESPACE",(function(){return i}));var n={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0},i="app"})),s.register("fsTOq",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("k4uMW")).then((function(){return s("alTM6")}))})),s.register("TRklF",(function(t,r){e(t.exports,"WIDGET_SYMBOL",(function(){return a})),e(t.exports,"processWidgets",(function(){return c})),e(t.exports,"isWidgetConstructor",(function(){return h})),s("8TSCy");var n=s("ifq4M"),i=s("6ah52"),a=Symbol("widget"),o=[],l={},u=new WeakMap;function c(e,t){var r=t.children;if(r&&r.length)for(var i=0;i<r.length;++i)r[i]=c(e,r[i]);else r=o;var a=t.vnodeSelector;if(h(a)){var s=t.properties||l,u=s.key||a;return{vnodeSelector:"div",properties:{key:u,afterCreate:f,afterUpdate:p,afterRemoved:d,parentWidget:e,widgetConstructor:a,widgetProperties:n.default({},s,{key:u,children:r})},children:void 0,text:void 0,domNode:null}}return t}function f(e,t,r,n){var a=n.parentWidget,o=new(0,n.widgetConstructor)(n.widgetProperties);o.container=e,u.set(e,o),null==o.afterCreate||o.afterCreate(o,e),a._internalHandles.add((0,i.makeHandle)((function(){return d(e)})))}function p(e,t,r,n){var i=n.widgetProperties,a=u.get(e);a&&(a.set(i),null==a.afterUpdate||a.afterUpdate(a,e))}function d(e){var t=u.get(e);t&&(t.destroy(),u.delete(e))}function h(e){return"function"==typeof e&&e[a]}})),s.register("bnSL3",(function(t,r){function n(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function i(){return n().startsWith("dark")}function a(){return"calcite-theme-"+(i()?"dark":"light")}e(t.exports,"getThemeName",(function(){return n})),e(t.exports,"isDarkTheme",(function(){return i})),e(t.exports,"getCalciteThemeClass",(function(){return a}))})),s.register("dbxRf",(function(t,r){e(t.exports,"estimateAttributesObjectSize",(function(){return o})),e(t.exports,"estimateFixedArraySize",(function(){return l})),e(t.exports,"ByteSizeUnit",(function(){return n})),s("8TSCy");var n,i,a=s("kswSi");function o(e){if(!e)return 0;var t=32;for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];switch(void 0===n?"undefined":a.default(n)){case"string":t+=32+n.length;break;case"number":t+=16;break;case"boolean":t+=4}}return t}function l(e,t){return 32+e.length*t}(i=n||(n={}))[i.KILOBYTES=1024]="KILOBYTES",i[i.MEGABYTES=1048576]="MEGABYTES",i[i.GIGABYTES=1073741824]="GIGABYTES"})),s.register("crcVj",(function(t,r){e(t.exports,"default",(function(){return g})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd");var p,d=s("iJAIC"),h=s("fcwIv"),y=s("gYimS"),v={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}},m=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).contentType=null,n.exifInfo=null,n.id=null,n.globalId=null,n.keywords=null,n.name=null,n.parentGlobalId=null,n.parentObjectId=null,n.size=null,n.url=null,o.default(n)}return l.default(r,[{key:"orientationInfo",get:function(){var e=this.exifInfo,t=(0,y.getExifValue)({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:e});return v[t]||null}},{key:"clone",value:function(){return new p({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:String})],m.prototype,"contentType",void 0),(0,u._)([(0,f.property)()],m.prototype,"exifInfo",void 0),(0,u._)([(0,f.property)({readOnly:!0})],m.prototype,"orientationInfo",null),(0,u._)([(0,f.property)({type:d.Integer})],m.prototype,"id",void 0),(0,u._)([(0,f.property)({type:String})],m.prototype,"globalId",void 0),(0,u._)([(0,f.property)({type:String})],m.prototype,"keywords",void 0),(0,u._)([(0,f.property)({type:String})],m.prototype,"name",void 0),(0,u._)([(0,f.property)({json:{read:!1}})],m.prototype,"parentGlobalId",void 0),(0,u._)([(0,f.property)({json:{read:!1}})],m.prototype,"parentObjectId",void 0),(0,u._)([(0,f.property)({type:d.Integer})],m.prototype,"size",void 0),(0,u._)([(0,f.property)({json:{read:!1}})],m.prototype,"url",void 0);var g=m=p=(0,u._)([(0,h.subclass)("esri.layers.support.AttachmentInfo")],m)})),s.register("gYimS",(function(t,r){function n(e){var t=e.exifInfo,r=e.exifName,n=e.tagName;if(!t||!r||!n)return null;var i=t.find((function(e){return e.name===r}));return i?function(e){var t=e.tagName,r=e.tags;if(!r||!t)return null;var n=r.find((function(e){return e.name===t}));return n&&n.value||null}({tagName:n,tags:i.tags}):null}e(t.exports,"getExifValue",(function(){return n}))})),s.register("lYvo2",(function(t,r){e(t.exports,"default",(function(){return g})),s("8TSCy");var n,i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("7eJjO"),f=s("1XAcN"),p=s("flPLJ"),d=s("iho5X"),h=s("iJAIC"),y=s("fcwIv"),v=s("kced1"),m=n=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).attachmentTypes=null,n.attachmentsWhere=null,n.keywords=null,n.globalIds=null,n.name=null,n.num=null,n.objectIds=null,n.returnMetadata=!1,n.size=null,n.start=null,n.where=null,l.default(n)}return u.default(r,[{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}},{key:"clone",value:function(){return new n((0,p.clone)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}}]),r}(f.JSONSupport);(0,c._)([(0,d.property)({type:[String],json:{write:!0}})],m.prototype,"attachmentTypes",void 0),(0,c._)([(0,d.property)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],m.prototype,"attachmentsWhere",void 0),(0,c._)([(0,d.property)({type:[String],json:{write:!0}})],m.prototype,"keywords",void 0),(0,c._)([(0,d.property)({type:[Number],json:{write:!0}})],m.prototype,"globalIds",void 0),(0,c._)([(0,d.property)({json:{write:!0}})],m.prototype,"name",void 0),(0,c._)([(0,d.property)({type:Number,json:{read:{source:"resultRecordCount"}}})],m.prototype,"num",void 0),(0,c._)([(0,d.property)({type:[Number],json:{write:!0}})],m.prototype,"objectIds",void 0),(0,c._)([(0,d.property)({type:Boolean,json:{default:!1,write:!0}})],m.prototype,"returnMetadata",void 0),(0,c._)([(0,d.property)({type:[Number],json:{write:!0}})],m.prototype,"size",void 0),(0,c._)([(0,d.property)({type:Number,json:{read:{source:"resultOffset"}}})],m.prototype,"start",void 0),(0,c._)([(0,v.writer)("start"),(0,v.writer)("num")],m.prototype,"writeStart",null),(0,c._)([(0,d.property)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],m.prototype,"where",void 0),(m=n=(0,c._)([(0,y.subclass)("esri.rest.support.AttachmentQuery")],m)).from=(0,h.ensureType)(m);var g=m})),s.register("dKwUH",(function(t,r){function n(e){return function(t,r){t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}e(t.exports,"messageBundle",(function(){return n}))})),s.register("yibdR",(function(t,r){e(t.exports,"tsx",(function(){return l})),s("8TSCy");var n=s("5Vgx8"),i=s("TRklF"),a=function(e,t){for(var r=0,n=e.length;r<n;r++){var i=e[r];Array.isArray(i)?a(i,t):null!=i&&!1!==i&&(i.hasOwnProperty("vnodeSelector")||(i={vnodeSelector:"",properties:void 0,children:void 0,text:i.toString(),domNode:null}),t.push(i))}},o=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(1===r.length&&"string"==typeof r[0])return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var i=[];return a(r,i),{vnodeSelector:e,properties:t||void 0,children:i,text:void 0,domNode:null}};function l(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];return"function"!=typeof e||(0,i.isWidgetConstructor)(e)?o.apply(void 0,[e,t].concat(n.default(a))):e.apply(void 0,[t].concat(n.default(a)))}})),s.register("fSvdV",(function(t,r){e(t.exports,"isWidget",(function(){return n})),e(t.exports,"hasDomNode",(function(){return i}));s("9FnE2"),s("dKwUH"),s("jw7QI"),s("4S8Bn"),s("yibdR"),s("6zpox"),s("bnSL3");function n(e){return e&&"function"==typeof e.render}function i(e){return e&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}})),s.register("9FnE2",(function(t,r){e(t.exports,"accessibleHandler",(function(){return a})),s("8TSCy");var n=s("5Vgx8"),i=s("6zpox");function a(){return function(e,t){if(!e[t])throw new TypeError("Cannot auto bind undefined function '".concat(t,"'"));return{value:(r=e[t],function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];var l;o(e)?(0,i.isActivationKey)(e.key)&&(e.preventDefault(),e.stopPropagation(),e.target.click()):(l=r).call.apply(l,[this,e].concat(n.default(a)))})};var r}}function o(e){var t=e.type;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}})),s.register("jw7QI",(function(e,t){s("2l1wP"),s("2VlWd"),s("jHOLN")})),s.register("4S8Bn",(function(t,r){e(t.exports,"vmEvent",(function(){return a})),s("8TSCy");var n=s("5Vgx8"),i=s("9UiOt");function a(e){return function(t){var r;t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);var a=t._delegatedEventNames,o=Array.isArray(e)?e:(0,i.splitProps)(e);(r=a).push.apply(r,n.default(o))}}})),s.register("9UiOt",(function(t,r){function n(e){return e.split(",").map((function(e){return e.trim()}))}e(t.exports,"splitProps",(function(){return n}))})),s.register("cRlei",(function(t,r){e(t.exports,"default",(function(){return M})),s("8TSCy");var n,i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("7eJjO"),f=s("2ILM8"),p=s("9DeZf"),d=s("79ASa"),h=s("1XAcN"),y=s("flPLJ"),v=s("7qybv"),m=s("iho5X"),g=s("ba18L"),b=s("bSafx"),_=s("fcwIv"),w=s("kced1"),x=s("iJAIC"),S=s("79LpT"),k=s("eSq8i"),T=s("gPYCp"),E=s("0L5NP"),I=s("j40xv"),C=s("d1Fqh"),O=new(0,d.JSONMap)({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),L=new(0,d.JSONMap)({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),A=n=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).aggregateIds=null,n.cacheHint=void 0,n.compactGeometryEnabled=!1,n.datumTransformation=null,n.defaultSpatialReferenceEnabled=!1,n.distance=void 0,n.dynamicDataSource=void 0,n.formatOf3DObjects=null,n.gdbVersion=null,n.geometry=null,n.geometryPrecision=void 0,n.groupByFieldsForStatistics=null,n.having=null,n.historicMoment=null,n.maxAllowableOffset=void 0,n.maxRecordCountFactor=1,n.multipatchOption=null,n.num=void 0,n.objectIds=null,n.orderByFields=null,n.outFields=null,n.outSpatialReference=null,n.outStatistics=null,n.parameterValues=null,n.pixelSize=null,n.quantizationParameters=null,n.rangeValues=null,n.relationParameter=null,n.resultType=null,n.returnCentroid=!1,n.returnDistinctValues=!1,n.returnExceededLimitFeatures=!0,n.returnGeometry=!1,n.returnQueryGeometry=!1,n.returnM=void 0,n.returnZ=void 0,n.sourceSpatialReference=null,n.spatialRelationship="intersects",n.start=void 0,n.sqlFormat=null,n.text=null,n.timeExtent=null,n.timeReferenceUnknownClient=!1,n.units=null,n.where=null,l.default(n)}return u.default(r,[{key:"castDatumTransformation",value:function(e){return"number"==typeof e||"object"==typeof e?e:null}},{key:"writeHistoricMoment",value:function(e,t){t.historicMoment=e&&e.getTime()}},{key:"writeParameterValues",value:function(e,t){if(e){var r={};for(var n in e){var i=e[n];Array.isArray(i)?r[n]=i.map((function(e){return e instanceof Date?e.getTime():e})):i instanceof Date?r[n]=i.getTime():r[n]=i}t.parameterValues=r}}},{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}},{key:"writeWhere",value:function(e,t){t.where=e||"1=1"}},{key:"clone",value:function(){return new n((0,y.clone)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:(0,v.isSome)(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}}],[{key:"from",value:function(e){return(0,x.ensureClass)(n,e)}}]),r}(h.JSONSupport);A.MAX_MAX_RECORD_COUNT_FACTOR=5,(0,c._)([(0,m.property)({json:{write:!0}})],A.prototype,"aggregateIds",void 0),(0,c._)([(0,m.property)({type:Boolean,json:{write:!0}})],A.prototype,"cacheHint",void 0),(0,c._)([(0,m.property)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"compactGeometryEnabled",void 0),(0,c._)([(0,m.property)({json:{write:!0}})],A.prototype,"datumTransformation",void 0),(0,c._)([(0,g.cast)("datumTransformation")],A.prototype,"castDatumTransformation",null),(0,c._)([(0,m.property)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"defaultSpatialReferenceEnabled",void 0),(0,c._)([(0,m.property)({type:Number,json:{write:{overridePolicy:function(e){return{enabled:e>0}}}}})],A.prototype,"distance",void 0),(0,c._)([(0,m.property)({type:k.DataLayerSource,json:{write:!0}})],A.prototype,"dynamicDataSource",void 0),(0,c._)([(0,m.property)({type:String,json:{write:!0}})],A.prototype,"formatOf3DObjects",void 0),(0,c._)([(0,m.property)({type:String,json:{write:!0}})],A.prototype,"gdbVersion",void 0),(0,c._)([(0,m.property)({types:f.geometryTypes,json:{read:S.fromJSON,write:!0}})],A.prototype,"geometry",void 0),(0,c._)([(0,m.property)({type:Number,json:{write:!0}})],A.prototype,"geometryPrecision",void 0),(0,c._)([(0,m.property)({type:[String],json:{write:!0}})],A.prototype,"groupByFieldsForStatistics",void 0),(0,c._)([(0,m.property)({type:String,json:{write:!0}})],A.prototype,"having",void 0),(0,c._)([(0,m.property)({type:Date})],A.prototype,"historicMoment",void 0),(0,c._)([(0,w.writer)("historicMoment")],A.prototype,"writeHistoricMoment",null),(0,c._)([(0,m.property)({type:Number,json:{write:!0}})],A.prototype,"maxAllowableOffset",void 0),(0,c._)([(0,m.property)({type:Number,cast:function(e){return e<1?1:e>n.MAX_MAX_RECORD_COUNT_FACTOR?n.MAX_MAX_RECORD_COUNT_FACTOR:e},json:{write:{overridePolicy:function(e){return{enabled:e>1}}}}})],A.prototype,"maxRecordCountFactor",void 0),(0,c._)([(0,m.property)({type:["xyFootprint"],json:{write:!0}})],A.prototype,"multipatchOption",void 0),(0,c._)([(0,m.property)({type:Number,json:{read:{source:"resultRecordCount"}}})],A.prototype,"num",void 0),(0,c._)([(0,m.property)({json:{write:!0}})],A.prototype,"objectIds",void 0),(0,c._)([(0,m.property)({type:[String],json:{write:!0}})],A.prototype,"orderByFields",void 0),(0,c._)([(0,m.property)({type:[String],json:{write:!0}})],A.prototype,"outFields",void 0),(0,c._)([(0,m.property)({type:I.default,json:{name:"outSR",write:!0}})],A.prototype,"outSpatialReference",void 0),(0,c._)([(0,m.property)({type:[E.default],json:{write:{enabled:!0,overridePolicy:function(){return{enabled:(0,v.isSome)(this.outStatistics)&&this.outStatistics.length>0}}}}})],A.prototype,"outStatistics",void 0),(0,c._)([(0,m.property)({json:{write:!0}})],A.prototype,"parameterValues",void 0),(0,c._)([(0,w.writer)("parameterValues")],A.prototype,"writeParameterValues",null),(0,c._)([(0,m.property)({type:C.default,json:{write:!0}})],A.prototype,"pixelSize",void 0),(0,c._)([(0,m.property)({type:T.default,json:{write:!0}})],A.prototype,"quantizationParameters",void 0),(0,c._)([(0,m.property)({type:[Object],json:{write:!0}})],A.prototype,"rangeValues",void 0),(0,c._)([(0,m.property)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy:function(){return{enabled:"relation"===this.spatialRelationship}}}}})],A.prototype,"relationParameter",void 0),(0,c._)([(0,m.property)({type:String,json:{write:!0}})],A.prototype,"resultType",void 0),(0,c._)([(0,m.property)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"returnCentroid",void 0),(0,c._)([(0,m.property)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"returnDistinctValues",void 0),(0,c._)([(0,m.property)({type:Boolean,json:{default:!0,write:!0}})],A.prototype,"returnExceededLimitFeatures",void 0),(0,c._)([(0,m.property)({type:Boolean,json:{write:!0}})],A.prototype,"returnGeometry",void 0),(0,c._)([(0,m.property)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"returnQueryGeometry",void 0),(0,c._)([(0,m.property)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"returnM",void 0),(0,c._)([(0,m.property)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],A.prototype,"returnZ",void 0),(0,c._)([(0,m.property)({type:I.default,json:{write:!0}})],A.prototype,"sourceSpatialReference",void 0),(0,c._)([(0,b.enumeration)(O,{ignoreUnknown:!1,name:"spatialRel"})],A.prototype,"spatialRelationship",void 0),(0,c._)([(0,m.property)({type:Number,json:{read:{source:"resultOffset"}}})],A.prototype,"start",void 0),(0,c._)([(0,w.writer)("start"),(0,w.writer)("num")],A.prototype,"writeStart",null),(0,c._)([(0,m.property)({type:String,json:{write:!0}})],A.prototype,"sqlFormat",void 0),(0,c._)([(0,m.property)({type:String,json:{write:!0}})],A.prototype,"text",void 0),(0,c._)([(0,m.property)({type:p.default,json:{write:!0}})],A.prototype,"timeExtent",void 0),(0,c._)([(0,m.property)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"timeReferenceUnknownClient",void 0),(0,c._)([(0,b.enumeration)(L,{ignoreUnknown:!1}),(0,m.property)({json:{write:{overridePolicy:function(e){return{enabled:e&&this.distance>0}}}}})],A.prototype,"units",void 0),(0,c._)([(0,m.property)({type:String,json:{write:{overridePolicy:function(e){return{enabled:null!=e||this.start>0}}}}})],A.prototype,"where",void 0),(0,c._)([(0,w.writer)("where")],A.prototype,"writeWhere",null);var M=A=n=(0,c._)([(0,_.subclass)("esri.rest.support.Query")],A)})),s.register("9DeZf",(function(t,r){e(t.exports,"default",(function(){return w})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("7qybv"),p=s("l0evm"),d=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var h,y=s("eB8sj"),v=s("fcwIv"),m=s("kced1"),g=h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).end=null,n.start=null,o.default(n)}return l.default(r,[{key:"readEnd",value:function(e,t){return null!=t.end?new Date(t.end):null}},{key:"writeEnd",value:function(e,t){t.end=e?e.getTime():null}},{key:"isAllTime",get:function(){return this.equals(h.allTime)}},{key:"isEmpty",get:function(){return this.equals(h.empty)}},{key:"readStart",value:function(e,t){return null!=t.start?new Date(t.start):null}},{key:"writeStart",value:function(e,t){t.start=e?e.getTime():null}},{key:"clone",value:function(){return new h({end:this.end,start:this.start})}},{key:"equals",value:function(e){if(!e)return!1;var t=(0,f.isSome)(this.start)?this.start.getTime():this.start,r=(0,f.isSome)(this.end)?this.end.getTime():this.end,n=(0,f.isSome)(e.start)?e.start.getTime():e.start,i=(0,f.isSome)(e.end)?e.end.getTime():e.end;return t===n&&r===i}},{key:"expandTo",value:function(e){if(this.isEmpty||this.isAllTime)return this.clone();var t=(0,f.applySome)(this.start,(function(t){return(0,p.truncateDate)(t,e)})),r=(0,f.applySome)(this.end,(function(t){return(0,p.offsetDate)((0,p.truncateDate)(t,e),1,e)}));return new h({start:t,end:r})}},{key:"intersection",value:function(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return h.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();var t,r,n=(0,f.mapOr)(this.start,-1/0,(function(e){return e.getTime()})),i=(0,f.mapOr)(this.end,1/0,(function(e){return e.getTime()})),a=(0,f.mapOr)(e.start,-1/0,(function(e){return e.getTime()})),o=(0,f.mapOr)(e.end,1/0,(function(e){return e.getTime()}));if(a>=n&&a<=i?t=a:n>=a&&n<=o&&(t=n),i>=a&&i<=o?r=i:o>=n&&o<=i&&(r=o),!isNaN(t)&&!isNaN(r)){var s=new h;return s.start=t===-1/0?null:new Date(t),s.end=r===1/0?null:new Date(r),s}return h.empty}},{key:"offset",value:function(e,t){if(this.isEmpty||this.isAllTime)return this.clone();var r=new h,n=this.start,i=this.end;return(0,f.isSome)(n)&&(r.start=(0,p.offsetDate)(n,e,t)),(0,f.isSome)(i)&&(r.end=(0,p.offsetDate)(i,e,t)),r}},{key:"union",value:function(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return b.clone();var t=(0,f.isSome)(this.start)&&(0,f.isSome)(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=(0,f.isSome)(this.end)&&(0,f.isSome)(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new h({start:t,end:r})}}],[{key:"allTime",get:function(){return b}},{key:"empty",get:function(){return _}}]),r}(c.JSONSupport);(0,u._)([(0,d.property)({type:Date,json:{write:{allowNull:!0}}})],g.prototype,"end",void 0),(0,u._)([(0,y.reader)("end")],g.prototype,"readEnd",null),(0,u._)([(0,m.writer)("end")],g.prototype,"writeEnd",null),(0,u._)([(0,d.property)({readOnly:!0,json:{read:!1}})],g.prototype,"isAllTime",null),(0,u._)([(0,d.property)({readOnly:!0,json:{read:!1}})],g.prototype,"isEmpty",null),(0,u._)([(0,d.property)({type:Date,json:{write:{allowNull:!0}}})],g.prototype,"start",void 0),(0,u._)([(0,y.reader)("start")],g.prototype,"readStart",null),(0,u._)([(0,m.writer)("start")],g.prototype,"writeStart",null);var b=new(g=h=(0,u._)([(0,v.subclass)("esri.TimeExtent")],g)),_=new g({start:void 0,end:void 0}),w=g})),s.register("l0evm",(function(t,r){e(t.exports,"offsetDate",(function(){return a})),e(t.exports,"convertTime",(function(){return l})),e(t.exports,"truncateDate",(function(){return o})),s("2VlWd");var n={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},i={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function a(e,t,r){var n,a,o,s=new Date(e.getTime());if(t&&r){var l=i[r],u=l.getter,c=l.setter,f=l.multiplier;if("months"===r){var p=(n=s.getFullYear(),a=s.getMonth()+t,(o=new Date(n,a+1,1)).setDate(0),o.getDate());s.getDate()>p&&s.setDate(p)}s[c](s[u]()+t*f)}return s}function o(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function l(e,t,r){return 0===e?0:e*n[t]/n[r]}})),s.register("eSq8i",(function(t,r){e(t.exports,"DataLayerSource",(function(){return N})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("79ASa"),f=s("1XAcN"),p=s("iho5X");s("lNwWH"),s("2VlWd");var d,h,y=s("ba18L"),v=s("bSafx"),m=s("eB8sj"),g=s("fcwIv"),b=s("iJAIC"),_=s("bVD6V"),w=s("buMuJ"),x=s("9TrWV"),S=s("9CECV"),k=s("2txXL"),T=s("8Eqee"),E=(0,c.strict)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"}),I=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="join-table",o.default(n)}return l.default(r,[{key:"readLeftTableSource",value:function(e,t,r){return O()(e,t,r)}},{key:"castLeftTableSource",value:function(e){return(0,b.ensureOneOfType)(A(),e)}},{key:"readRightTableSource",value:function(e,t,r){return O()(e,t,r)}},{key:"castRightTableSource",value:function(e){return(0,b.ensureOneOfType)(A(),e)}},{key:"clone",value:function(){var e,t,r=this,n=r.leftTableKey,i=r.rightTableKey,a=r.leftTableSource,o=r.rightTableSource,s=r.joinType,l={leftTableKey:n,rightTableKey:i,leftTableSource:null!=(e=null==a?void 0:a.clone())?e:void 0,rightTableSource:null!=(t=null==o?void 0:o.clone())?t:void 0,joinType:s};return new d(l)}}]),r}(f.JSONSupport);(0,u._)([(0,v.enumeration)({joinTable:"join-table"})],I.prototype,"type",void 0),(0,u._)([(0,p.property)({type:String,json:{write:!0}})],I.prototype,"leftTableKey",void 0),(0,u._)([(0,p.property)({type:String,json:{write:!0}})],I.prototype,"rightTableKey",void 0),(0,u._)([(0,p.property)({json:{write:!0}})],I.prototype,"leftTableSource",void 0),(0,u._)([(0,m.reader)("leftTableSource")],I.prototype,"readLeftTableSource",null),(0,u._)([(0,y.cast)("leftTableSource")],I.prototype,"castLeftTableSource",null),(0,u._)([(0,p.property)({json:{write:!0}})],I.prototype,"rightTableSource",void 0),(0,u._)([(0,m.reader)("rightTableSource")],I.prototype,"readRightTableSource",null),(0,u._)([(0,y.cast)("rightTableSource")],I.prototype,"castRightTableSource",null),(0,u._)([(0,v.enumeration)(E)],I.prototype,"joinType",void 0),I=d=(0,u._)([(0,g.subclass)("esri.layers.support.source.JoinTableDataSource")],I);var C=null;function O(){return C||(C=(0,_.createTypeReader)({types:A()})),C}var L=null;function A(){return L||(L={key:"type",base:null,typeMap:{"data-layer":N,"map-layer":x.MapLayerSource}}),L}var M={key:"type",base:null,typeMap:{"join-table":I,"query-table":S.QueryTableDataSource,raster:k.RasterDataSource,table:T.TableDataSource}},N=h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="data-layer",o.default(n)}return l.default(r,[{key:"clone",value:function(){var e=this.fields,t=this.dataSource;return new h({fields:e,dataSource:t})}}]),r}(f.JSONSupport);(0,u._)([(0,v.enumeration)({dataLayer:"data-layer"})],N.prototype,"type",void 0),(0,u._)([(0,p.property)({type:[w.default],json:{write:!0}})],N.prototype,"fields",void 0),(0,u._)([(0,p.property)({types:M,json:{write:!0}})],N.prototype,"dataSource",void 0),(N=h=(0,u._)([(0,g.subclass)("esri.layers.support.source.DataLayerSource")],N)).from=(0,b.ensureType)(N)})),s.register("buMuJ",(function(t,r){e(t.exports,"default",(function(){return x})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("79ASa"),f=s("1XAcN"),p=s("iho5X");s("lNwWH"),s("2VlWd");var d,h=s("iJAIC"),y=s("bSafx"),v=s("eB8sj"),m=s("fcwIv"),g=s("895QH"),b=s("82Efb"),_=new(0,c.JSONMap)({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),w=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).alias=null,n.defaultValue=void 0,n.description=null,n.domain=null,n.editable=!0,n.length=-1,n.name=null,n.nullable=!0,n.type=null,n.valueType=null,o.default(n)}return l.default(r,[{key:"readDescription",value:function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(e){}return r?r.value:null}},{key:"readValueType",value:function(e,t){var r,n=t.description;try{r=JSON.parse(n)}catch(e){}return r?_.fromJSON(r.fieldValueType):null}},{key:"clone",value:function(){return new d({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}}]),r}(f.JSONSupport);(0,u._)([(0,p.property)({type:String,json:{write:!0}})],w.prototype,"alias",void 0),(0,u._)([(0,p.property)({type:[String,Number],json:{write:{allowNull:!0}}})],w.prototype,"defaultValue",void 0),(0,u._)([(0,p.property)()],w.prototype,"description",void 0),(0,u._)([(0,v.reader)("description")],w.prototype,"readDescription",null),(0,u._)([(0,p.property)({types:g.types,json:{read:{reader:g.fromJSON},write:!0}})],w.prototype,"domain",void 0),(0,u._)([(0,p.property)({type:Boolean,json:{write:!0}})],w.prototype,"editable",void 0),(0,u._)([(0,p.property)({type:h.Integer,json:{write:!0}})],w.prototype,"length",void 0),(0,u._)([(0,p.property)({type:String,json:{write:!0}})],w.prototype,"name",void 0),(0,u._)([(0,p.property)({type:Boolean,json:{write:!0}})],w.prototype,"nullable",void 0),(0,u._)([(0,y.enumeration)(b.kebabDict)],w.prototype,"type",void 0),(0,u._)([(0,p.property)()],w.prototype,"valueType",void 0),(0,u._)([(0,v.reader)("valueType",["description"])],w.prototype,"readValueType",null);var x=w=d=(0,u._)([(0,m.subclass)("esri.layers.support.Field")],w)})),s.register("895QH",(function(t,r){e(t.exports,"types",(function(){return l})),e(t.exports,"fromJSON",(function(){return u})),s("2VlWd");var n=s("ewnDJ"),i=s("ch7il"),a=s("9FO8w"),o=s("ehaPH"),l=(n=s("ewnDJ"),i=s("ch7il"),a=s("9FO8w"),o=s("ehaPH"),{key:"type",base:i.default,typeMap:{range:o.default,"coded-value":n.default,inherited:a.default}});function u(e){if(!e||!e.type)return null;switch(e.type){case"range":return o.default.fromJSON(e);case"codedValue":return n.default.fromJSON(e);case"inherited":return a.default.fromJSON(e)}return null}})),s.register("ewnDJ",(function(t,r){e(t.exports,"default",(function(){return g})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("flPLJ"),f=s("iho5X");s("iJAIC");var p,d=s("bSafx"),h=s("fcwIv"),y=s("jcIvB"),v=s("ch7il"),m=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).codedValues=null,n.type="coded-value",o.default(n)}return l.default(r,[{key:"getName",value:function(e){var t=null;if(this.codedValues){var r=String(e);this.codedValues.some((function(e){return String(e.code)===r&&(t=e.name),!!t}))}return t}},{key:"clone",value:function(){return new p({codedValues:(0,c.clone)(this.codedValues),name:this.name})}}]),r}(v.default);(0,u._)([(0,f.property)({type:[y.default],json:{write:!0}})],m.prototype,"codedValues",void 0),(0,u._)([(0,d.enumeration)({codedValue:"coded-value"})],m.prototype,"type",void 0);var g=m=p=(0,u._)([(0,h.subclass)("esri.layers.support.CodedValueDomain")],m)})),s.register("jcIvB",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).name=null,n.code=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({name:this.name,code:this.code})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"name",void 0),(0,u._)([(0,f.property)({type:[String,Number],json:{write:!0}})],h.prototype,"code",void 0);var y=h=p=(0,u._)([(0,d.subclass)("esri.layers.support.CodedValue")],h)})),s.register("ch7il",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("79ASa"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p=s("bSafx"),d=s("fcwIv"),h=new(0,u.JSONMap)({inherited:"inherited",codedValue:"coded-value",range:"range"}),y=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).name=null,n.type=null,o.default(n)}return r}(c.JSONSupport);(0,l._)([(0,f.property)({type:String,json:{write:!0}})],y.prototype,"name",void 0),(0,l._)([(0,p.enumeration)(h)],y.prototype,"type",void 0);var v=y=(0,l._)([(0,d.subclass)("esri.layers.support.Domain")],y)})),s.register("9FO8w",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO");s("jHOLN"),s("iJAIC"),s("lNwWH"),s("2VlWd"),s("62edV");var c,f=s("bSafx"),p=s("fcwIv"),d=s("ch7il"),h=c=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="inherited",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new c}}]),r}(d.default);(0,u._)([(0,f.enumeration)({inherited:"inherited"})],h.prototype,"type",void 0);var y=h=c=(0,u._)([(0,p.subclass)("esri.layers.support.InheritedDomain")],h)})),s.register("ehaPH",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("bSafx"),d=s("fcwIv"),h=s("ch7il"),y=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).maxValue=null,n.minValue=null,n.type="range",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}}]),r}(h.default);(0,u._)([(0,c.property)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(e,t,r){t[r]=[this.minValue||0,e]}}}})],y.prototype,"maxValue",void 0),(0,u._)([(0,c.property)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[0]}},write:{target:"range",writer:function(e,t,r){t[r]=[e,this.maxValue||0]}}}})],y.prototype,"minValue",void 0),(0,u._)([(0,p.enumeration)({range:"range"})],y.prototype,"type",void 0);var v=y=f=(0,u._)([(0,d.subclass)("esri.layers.support.RangeDomain")],y)})),s.register("82Efb",(function(t,r){e(t.exports,"kebabDict",(function(){return n}));var n=new(0,s("79ASa").JSONMap)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})})),s.register("9TrWV",(function(t,r){e(t.exports,"MapLayerSource",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd");var p,d=s("iJAIC"),h=s("bSafx"),y=s("fcwIv"),v=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="map-layer",o.default(n)}return l.default(r,[{key:"clone",value:function(){var e=this.mapLayerId,t=this.gdbVersion;return new p({mapLayerId:e,gdbVersion:t})}}]),r}(c.JSONSupport);(0,u._)([(0,h.enumeration)({mapLayer:"map-layer"})],v.prototype,"type",void 0),(0,u._)([(0,f.property)({type:d.Integer,json:{write:!0}})],v.prototype,"mapLayerId",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],v.prototype,"gdbVersion",void 0),v=p=(0,u._)([(0,y.subclass)("esri.layers.support.source.MapLayerSource")],v)})),s.register("9CECV",(function(t,r){e(t.exports,"QueryTableDataSource",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO");s("2ILM8");var c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("bSafx"),h=s("fcwIv"),y=s("j40xv"),v=s("7LVgC"),m=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="query-table",o.default(n)}return l.default(r,[{key:"clone",value:function(){var e,t=this,r=t.workspaceId,n=t.query,i=t.oidFields,a=t.spatialReference,o=t.geometryType,s={workspaceId:r,query:n,oidFields:i,spatialReference:null!=(e=null==a?void 0:a.clone())?e:void 0,geometryType:o};return new p(s)}}]),r}(c.JSONSupport);(0,u._)([(0,d.enumeration)({queryTable:"query-table"})],m.prototype,"type",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],m.prototype,"workspaceId",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],m.prototype,"query",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],m.prototype,"oidFields",void 0),(0,u._)([(0,f.property)({type:y.default,json:{write:!0}})],m.prototype,"spatialReference",void 0),(0,u._)([(0,d.enumeration)(v.featureGeometryTypeKebabDictionary)],m.prototype,"geometryType",void 0),m=p=(0,u._)([(0,h.subclass)("esri.layers.support.source.QueryTableDataSource")],m)})),s.register("2txXL",(function(t,r){e(t.exports,"RasterDataSource",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("bSafx"),h=s("fcwIv"),y=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="raster",o.default(n)}return l.default(r,[{key:"clone",value:function(){var e=this.workspaceId,t=this.dataSourceName;return new p({workspaceId:e,dataSourceName:t})}}]),r}(c.JSONSupport);(0,u._)([(0,d.enumeration)({raster:"raster"})],y.prototype,"type",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],y.prototype,"dataSourceName",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],y.prototype,"workspaceId",void 0),y=p=(0,u._)([(0,h.subclass)("esri.layers.support.source.RasterDataSource")],y)})),s.register("8Eqee",(function(t,r){e(t.exports,"TableDataSource",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("bSafx"),h=s("fcwIv"),y=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="table",o.default(n)}return l.default(r,[{key:"clone",value:function(){var e=this,t=e.workspaceId,r=e.gdbVersion,n=e.dataSourceName;return new p({workspaceId:t,gdbVersion:r,dataSourceName:n})}}]),r}(c.JSONSupport);(0,u._)([(0,d.enumeration)({table:"table"})],y.prototype,"type",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],y.prototype,"workspaceId",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],y.prototype,"gdbVersion",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],y.prototype,"dataSourceName",void 0),y=p=(0,u._)([(0,h.subclass)("esri.layers.support.source.TableDataSource")],y)})),s.register("gPYCp",(function(t,r){e(t.exports,"default",(function(){return b})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO");s("2ILM8");var c=s("79ASa"),f=s("1XAcN"),p=s("flPLJ"),d=s("iho5X");s("iJAIC");var h,y=s("fcwIv"),v=s("gINRd"),m=new(0,c.JSONMap)({upperLeft:"upper-left",lowerLeft:"lower-left"}),g=h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).extent=null,n.mode="view",n.originPosition="upper-left",n.tolerance=1,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new h((0,p.clone)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}}]),r}(f.JSONSupport);(0,u._)([(0,d.property)({type:v.default,json:{write:{overridePolicy:function(){return{enabled:"view"===this.mode}}}}})],g.prototype,"extent",void 0),(0,u._)([(0,d.property)({type:["view","edit"],json:{write:!0}})],g.prototype,"mode",void 0),(0,u._)([(0,d.property)({type:String,json:{read:m.read,write:m.write}})],g.prototype,"originPosition",void 0),(0,u._)([(0,d.property)({type:Number,json:{write:{overridePolicy:function(){return{enabled:"view"===this.mode}}}}})],g.prototype,"tolerance",void 0);var b=g=h=(0,u._)([(0,y.subclass)("esri.rest.support.QuantizationParameters")],g)})),s.register("0L5NP",(function(t,r){e(t.exports,"default",(function(){return b})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("79ASa"),f=s("1XAcN"),p=s("flPLJ"),d=s("iho5X");s("iJAIC");var h,y=s("fcwIv"),v=s("kced1"),m=new(0,c.JSONMap)({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"}),g=h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).maxPointCount=void 0,n.maxRecordCount=void 0,n.maxVertexCount=void 0,n.onStatisticField=null,n.outStatisticFieldName=null,n.statisticType=null,n.statisticParameters=null,o.default(n)}return l.default(r,[{key:"writeStatisticParameters",value:function(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=(0,p.clone)(e))}},{key:"clone",value:function(){return new h({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,p.clone)(this.statisticParameters)})}}]),r}(f.JSONSupport);(0,u._)([(0,d.property)({type:Number,json:{write:!0}})],g.prototype,"maxPointCount",void 0),(0,u._)([(0,d.property)({type:Number,json:{write:!0}})],g.prototype,"maxRecordCount",void 0),(0,u._)([(0,d.property)({type:Number,json:{write:!0}})],g.prototype,"maxVertexCount",void 0),(0,u._)([(0,d.property)({type:String,json:{write:!0}})],g.prototype,"onStatisticField",void 0),(0,u._)([(0,d.property)({type:String,json:{write:!0}})],g.prototype,"outStatisticFieldName",void 0),(0,u._)([(0,d.property)({type:String,json:{read:{source:"statisticType",reader:m.read},write:{target:"statisticType",writer:m.write}}})],g.prototype,"statisticType",void 0),(0,u._)([(0,d.property)({type:Object})],g.prototype,"statisticParameters",void 0),(0,u._)([(0,v.writer)("statisticParameters")],g.prototype,"writeStatisticParameters",null);var b=g=h=(0,u._)([(0,y.subclass)("esri.rest.support.StatisticDefinition")],g)})),s.register("8g8vH",(function(t,r){e(t.exports,"default",(function(){return _})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO");s("2ILM8");var c,f=s("1XAcN"),p=s("flPLJ"),d=s("iho5X"),h=s("iJAIC"),y=s("fcwIv"),v=s("kced1"),m=s("eSq8i"),g=s("j40xv"),b=c=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).dynamicDataSource=void 0,n.gdbVersion=null,n.geometryPrecision=void 0,n.historicMoment=null,n.maxAllowableOffset=void 0,n.objectIds=null,n.orderByFields=null,n.outFields=null,n.outSpatialReference=null,n.relationshipId=void 0,n.start=void 0,n.num=void 0,n.returnGeometry=!1,n.returnM=void 0,n.returnZ=void 0,n.where=null,o.default(n)}return l.default(r,[{key:"_writeHistoricMoment",value:function(e,t){t.historicMoment=e&&e.getTime()}},{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(t.definitionExpression="1=1")}},{key:"clone",value:function(){return new c((0,p.clone)({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}}]),r}(f.JSONSupport);(0,u._)([(0,d.property)({type:m.DataLayerSource,json:{write:!0}})],b.prototype,"dynamicDataSource",void 0),(0,u._)([(0,d.property)({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0),(0,u._)([(0,d.property)({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0),(0,u._)([(0,d.property)({type:Date})],b.prototype,"historicMoment",void 0),(0,u._)([(0,v.writer)("historicMoment")],b.prototype,"_writeHistoricMoment",null),(0,u._)([(0,d.property)({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0),(0,u._)([(0,d.property)({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0),(0,u._)([(0,d.property)({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0),(0,u._)([(0,d.property)({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0),(0,u._)([(0,d.property)({type:g.default,json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0),(0,u._)([(0,d.property)({json:{write:!0}})],b.prototype,"relationshipId",void 0),(0,u._)([(0,d.property)({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0),(0,u._)([(0,v.writer)("start"),(0,v.writer)("num")],b.prototype,"writeStart",null),(0,u._)([(0,d.property)({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0),(0,u._)([(0,d.property)({json:{write:!0}})],b.prototype,"returnGeometry",void 0),(0,u._)([(0,d.property)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],b.prototype,"returnM",void 0),(0,u._)([(0,d.property)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],b.prototype,"returnZ",void 0),(0,u._)([(0,d.property)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0),(b=c=(0,u._)([(0,y.subclass)("esri.rest.support.RelationshipQuery")],b)).from=(0,h.ensureType)(b);var _=b})),s.register("ky1Bg",(function(t,r){e(t.exports,"default",(function(){return F})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("jcnGU"),f=s("ifq4M"),p=s("2TvXO"),d=s("7eJjO"),h=s("kyj08"),y=s("2VlWd"),v=s("7qybv"),m=s("10vEZ"),g=s("iho5X");s("lNwWH"),s("iJAIC");var b=s("fcwIv"),_=s("eSq8i"),w=s("fl6qy"),x=s("8iXHs"),S=s("127at"),k=s("1d1jX"),T=s("3UMgP"),E=s("eAfIf"),I=s("eKCA3"),C=s("jUdRy"),O=s("3yEtJ"),L=s("4g04v"),A=s("24qsJ"),M=s("f4h86"),N=s("cRlei"),R=s("8g8vH"),P=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).dynamicDataSource=null,n.fieldsIndex=null,n.format="json",n.gdbVersion=null,n.infoFor3D=null,n.sourceSpatialReference=null,l.default(n)}return u.default(r,[{key:"execute",value:function(e,t){var r=this;return this.executeJSON(e,t).then((function(n){return r.featureSetFromJSON(e,n,t)}))}},{key:"executeJSON",value:function(e,t){var r=this;return c.default(n(p).mark((function i(){var a,o,s,l,u,c,d;return n(p).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=f.default({},r.requestOptions,t),s=r._normalizeQuery(e),l=null!=(null==(a=e.outStatistics)?void 0:a[0]),u=(0,y.default)("featurelayer-pbf-statistics"),c=!l||u,"pbf"!==r.format||!c){n.next=15;break}return n.prev=4,n.next=7,(0,E.executeRawQueryPBF)(r.url,s,o);case 7:d=n.sent,n.next=15;break;case 10:if(n.prev=10,n.t0=n.catch(4),"query:parsing-pbf"===n.t0.name){n.next=14;break}throw n.t0;case 14:r.format="json";case 15:if(n.t1="json"!==r.format&&c,n.t1){n.next=20;break}return n.next=19,(0,T.executeRawQueryJSON)(r.url,s,o);case 19:d=n.sent;case 20:return r._normalizeFields(d.fields),n.abrupt("return",(n.t1,d));case 22:case"end":return n.stop()}}),i,null,[[4,10]])})))()}},{key:"featureSetFromJSON",value:function(e,t,r){var i=this;return c.default(n(p).mark((function a(){var o,l;return n(p).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i._queryIs3DObjectFormat(e)&&(0,v.isSome)(i.infoFor3D)&&t.features&&t.features.length){n.next=2;break}return n.abrupt("return",M.default.fromJSON(t));case 2:return n.next=4,(0,m.whenOrAbort)(s("cJrLr"),r);case 4:return o=n.sent,l=o.meshFeatureSetFromJSON,n.abrupt("return",l(e,i.infoFor3D,t));case 7:case"end":return n.stop()}}),a)})))()}},{key:"executeForCount",value:function(e,t){var r=f.default({},this.requestOptions,t),n=this._normalizeQuery(e);return(0,x.executeForCount)(this.url,n,r)}},{key:"executeForExtent",value:function(e,t){var r=f.default({},this.requestOptions,t),n=this._normalizeQuery(e);return(0,S.executeForExtent)(this.url,n,r)}},{key:"executeForIds",value:function(e,t){var r=f.default({},this.requestOptions,t),n=this._normalizeQuery(e);return(0,k.executeForIds)(this.url,n,r)}},{key:"executeRelationshipQuery",value:function(e,t){e=R.default.from(e);var r=f.default({},this.requestOptions,t);return(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),(0,I.executeRelationshipQuery)(this.url,e,r)}},{key:"executeRelationshipQueryForCount",value:function(e,t){e=R.default.from(e);var r=f.default({},this.requestOptions,t);return(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),(0,I.executeRelationshipQueryForCount)(this.url,e,r)}},{key:"executeAttachmentQuery",value:function(e,t){var r=f.default({},this.requestOptions,t);return(0,w.executeAttachmentQuery)(this.url,e,r)}},{key:"executeTopFeaturesQuery",value:function(e,t){var r=f.default({},this.requestOptions,t);return(0,C.executeTopFeaturesQuery)(this.parsedUrl,e,this.sourceSpatialReference,r)}},{key:"executeForTopIds",value:function(e,t){var r=f.default({},this.requestOptions,t);return(0,O.executeForTopIds)(this.parsedUrl,e,r)}},{key:"executeForTopExtents",value:function(e,t){var r=f.default({},this.requestOptions,t);return(0,L.executeForTopExtents)(this.parsedUrl,e,r)}},{key:"executeForTopCount",value:function(e,t){var r=f.default({},this.requestOptions,t);return(0,A.executeForTopCount)(this.parsedUrl,e,r)}},{key:"_normalizeQuery",value:function(e){var t=N.default.from(e);if(t.sourceSpatialReference=t.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&((t=t===e?t.clone():t).gdbVersion=e.gdbVersion||this.gdbVersion,t.dynamicDataSource=e.dynamicDataSource?_.DataLayerSource.from(e.dynamicDataSource):this.dynamicDataSource),(0,v.isSome)(this.infoFor3D)&&this._queryIs3DObjectFormat(e)){(t=t===e?t.clone():t).formatOf3DObjects=null;var r=!0,n=!1,i=void 0;try{for(var a,o=this.infoFor3D.queryFormats[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if("3D_glb"===s.id){t.formatOf3DObjects=s.id;break}"3D_gltf"!==s.id||t.formatOf3DObjects||(t.formatOf3DObjects=s.id)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}if(!t.formatOf3DObjects)throw new(0,h.default)("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if((0,v.isNone)(t.outFields)||!t.outFields.includes("*")){t=t===e?t.clone():t,(0,v.isNone)(t.outFields)&&(t.outFields=[]);var l=this.infoFor3D.transformFieldRoles,u=l.originX,c=l.originY,f=l.originZ,p=l.translationX,d=l.translationY,y=l.translationZ,m=l.scaleX,g=l.scaleY,b=l.scaleZ,w=l.rotationX,x=l.rotationY,S=l.rotationZ,k=l.rotationDeg;t.outFields.push(u,c,f,p,d,y,m,g,b,w,x,S,k)}}return t}},{key:"_normalizeFields",value:function(e){var t=!0,r=!1,n=void 0;if((0,v.isSome)(this.fieldsIndex)&&(0,v.isSome)(e))try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,s=this.fieldsIndex.get(o.name);s&&Object.assign(o,s.toJSON())}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"_queryIs3DObjectFormat",value:function(e){return(0,v.isSome)(this.infoFor3D)&&e.returnGeometry&&"xyFootprint"!==e.multipatchOption&&!e.outStatistics}}]),r}(s("hAlVw").default);(0,d._)([(0,g.property)({type:_.DataLayerSource})],P.prototype,"dynamicDataSource",void 0),(0,d._)([(0,g.property)()],P.prototype,"fieldsIndex",void 0),(0,d._)([(0,g.property)()],P.prototype,"format",void 0),(0,d._)([(0,g.property)()],P.prototype,"gdbVersion",void 0),(0,d._)([(0,g.property)()],P.prototype,"infoFor3D",void 0),(0,d._)([(0,g.property)()],P.prototype,"sourceSpatialReference",void 0);var F=P=(0,d._)([(0,b.subclass)("esri.tasks.QueryTask")],P)})),s.register("fl6qy",(function(t,r){e(t.exports,"executeAttachmentQuery",(function(){return f})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("dsJ7q"),u=s("5EgUN"),c=s("lYvo2");function f(e,t,r){return p.apply(this,arguments)}function p(){return(p=i.default(n(o).mark((function e(t,r,i){var s;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,l.parseUrl)(t),e.abrupt("return",(0,u.executeAttachmentQuery)(s,c.default.from(r),a.default({},i)).then((function(e){return(0,u.processAttachmentQueryResult)(e.data.attachmentGroups,s.path)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),s.register("dsJ7q",(function(t,r){e(t.exports,"asValidOptions",(function(){return a})),e(t.exports,"parseUrl",(function(){return o})),e(t.exports,"encode",(function(){return l})),s("8TSCy");var n=s("ifq4M"),i=(s("7qybv"),s("kYueh"));s("k0Vu4"),s("eMbRX");function a(e,t){return t?n.default({},t,{query:n.default({},e,t.query)}):{query:e}}function o(e){return"string"==typeof e?(0,i.urlToObject)(e):e}function l(e,t,r){var n={};for(var i in e)if("declaredClass"!==i){var a=e[i];if(null!=a&&"function"!=typeof a)if(Array.isArray(a)){n[i]=[];for(var o=0;o<a.length;o++)n[i][o]=l(a[o])}else if("object"==typeof a)if(a.toJSON){var s=a.toJSON(r&&r[i]);n[i]=t?s:JSON.stringify(s)}else n[i]=t?a:JSON.stringify(a);else n[i]=a}return n}})),s.register("k0Vu4",(function(t,r){e(t.exports,"getScale",(function(){return i}));var n=s("5vzSQ");function i(e,t){var r=t||e.extent,i=e.width,a=(0,n.getMetersPerUnitForSR)(r&&r.spatialReference);return r&&i?r.width/i*a*n.inchesPerMeter*96:0}})),s.register("eMbRX",(function(t,r){function n(e){var t,r=e.layer;return"floorInfo"in r&&null!=(t=r.floorInfo)&&t.floorField&&"floors"in e.view?o(e.view.floors,r.floorInfo.floorField):null}function i(e,t){var r;return"floorInfo"in t&&null!=(r=t.floorInfo)&&r.floorField?o(e,t.floorInfo.floorField):null}function a(e,t){var r=t.definitionExpression;return e?r?"(".concat(r,") AND (").concat(e,")"):e:r}function o(e,t){if(null==e||!e.length)return null;var r=e.filter((function(e){return""!==e})).map((function(e){return"'".concat(e,"'")}));return r.push("''"),"".concat(t," IN (").concat(r.join(","),") OR ").concat(t," IS NULL")}e(t.exports,"getFloorFilterClause",(function(){return n})),e(t.exports,"getLayerFloorFilterClause",(function(){return i})),e(t.exports,"combineFloorsDefinitionExpression",(function(){return a}))})),s.register("5EgUN",(function(t,r){e(t.exports,"processAttachmentQueryResult",(function(){return c})),e(t.exports,"executeAttachmentQuery",(function(){return f})),s("8TSCy");var n=s("ifq4M"),i=s("dLARP"),a=s("9pNSx"),o=s("kYueh"),l=s("bPDFo"),u=s("crcVj");function c(e,t){var r={},n=!0,a=!1,s=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var f=l.value,p=f.parentObjectId,d=f.parentGlobalId,h=f.attachmentInfos,y=!0,v=!1,m=void 0;try{for(var g,b=h[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var _=g.value,w=_.id,x=(0,o.addProxy)((0,i.addTokenParameter)("".concat(t,"/").concat(p,"/attachments/").concat(w))),S=u.default.fromJSON(_);S.set({url:x,parentObjectId:p,parentGlobalId:d}),r[p]?r[p].push(S):r[p]=[S]}}catch(e){v=!0,m=e}finally{try{y||null==b.return||b.return()}finally{if(v)throw m}}}}catch(e){a=!0,s=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw s}}return r}function f(e,t,r){var i,o,s={query:(0,l.mapParameters)(n.default({},e.query,{f:"json"},(i=t,o=i.toJSON(),o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(",")),o.keywords&&(o.keywords=o.keywords.join(",")),o.globalIds&&(o.globalIds=o.globalIds.join(",")),o.objectIds&&(o.objectIds=o.objectIds.join(",")),o.size&&(o.size=o.size.join(",")),o)))};return r&&(s=n.default({},r,s,{query:n.default({},r.query,s.query)})),(0,a.default)(e.path+"/queryAttachments",s)}})),s.register("bPDFo",(function(t,r){function n(e){var t={};for(var r in e)if("declaredClass"!==r){var i=e[r];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){t[r]=[];for(var a=0;a<i.length;a++)t[r][a]=n(i[a])}else"object"==typeof i?i.toJSON&&(t[r]=JSON.stringify(i)):t[r]=i}return t}e(t.exports,"mapParameters",(function(){return n}))})),s.register("8iXHs",(function(t,r){e(t.exports,"executeForCount",(function(){return f})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("dsJ7q"),u=s("j6c7r"),c=s("cRlei");function f(e,t,r){return p.apply(this,arguments)}function p(){return(p=i.default(n(o).mark((function e(t,r,i){var s;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,l.parseUrl)(t),e.abrupt("return",(0,u.executeQueryForCount)(s,c.default.from(r),a.default({},i)).then((function(e){return e.data.count})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),s.register("j6c7r",(function(t,r){e(t.exports,"encodeGeometry",(function(){return m})),e(t.exports,"queryToQueryStringParameters",(function(){return g})),e(t.exports,"executeQuery",(function(){return b})),e(t.exports,"runQuery",(function(){return I})),e(t.exports,"executeQueryPBF",(function(){return w})),e(t.exports,"executeQueryPBFBuffer",(function(){return S})),e(t.exports,"executeQueryForIds",(function(){return k})),e(t.exports,"executeQueryForCount",(function(){return T})),e(t.exports,"executeQueryForExtent",(function(){return E})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("9pNSx"),u=s("7qybv"),c=s("kYueh"),f=s("79LpT"),p=s("5On35"),d=s("bPDFo"),h=s("6JnOG"),y=s("4JATB"),v="Layer does not support extent calculation.";function m(e,t){if(t&&"extent"===e.type)return"".concat(e.xmin,",").concat(e.ymin,",").concat(e.xmax,",").concat(e.ymax);if(t&&"point"===e.type)return"".concat(e.x,",").concat(e.y);var r=e.toJSON();return delete r.spatialReference,JSON.stringify(r)}function g(e,t){var r=e.geometry,n=e.toJSON();delete n.compactGeometryEnabled,delete n.defaultSpatialReferenceEnabled;var i,a,o=n,s=e.outSpatialReference;if((0,u.isSome)(r)&&(i=r.spatialReference,a=r.spatialReference.wkid||JSON.stringify(r.spatialReference),o.geometryType=(0,f.getJsonType)(r),o.geometry=m(r,e.compactGeometryEnabled),o.inSR=a),n.groupByFieldsForStatistics&&(o.groupByFieldsForStatistics=n.groupByFieldsForStatistics.join(",")),n.objectIds&&(o.objectIds=n.objectIds.join(",")),n.orderByFields&&(o.orderByFields=n.orderByFields.join(",")),!n.outFields||!n.returnDistinctValues&&(null!=t&&t.returnCountOnly||null!=t&&t.returnExtentOnly||null!=t&&t.returnIdsOnly)?delete o.outFields:-1!==n.outFields.indexOf("*")?o.outFields="*":o.outFields=n.outFields.join(","),n.outSR?o.outSR=n.outSR.wkid||JSON.stringify(n.outSR):r&&(n.returnGeometry||n.returnCentroid)&&(o.outSR=o.inSR),n.returnGeometry&&delete n.returnGeometry,n.outStatistics&&(o.outStatistics=JSON.stringify(n.outStatistics)),n.pixelSize&&(o.pixelSize=JSON.stringify(n.pixelSize)),n.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&(0,u.isSome)(i)&&(0,u.isSome)(e.quantizationParameters)&&(0,u.isSome)(e.quantizationParameters.extent)&&i.equals(e.quantizationParameters.extent.spatialReference)&&delete n.quantizationParameters.extent.spatialReference,o.quantizationParameters=JSON.stringify(n.quantizationParameters)),n.parameterValues&&(o.parameterValues=JSON.stringify(n.parameterValues)),n.rangeValues&&(o.rangeValues=JSON.stringify(n.rangeValues)),n.dynamicDataSource&&(o.layer=JSON.stringify({source:n.dynamicDataSource}),delete n.dynamicDataSource),n.timeExtent){var l=n.timeExtent,c=l.start,p=l.end;null==c&&null==p||(o.time=c===p?c:"".concat(null==c?"null":c,",").concat(null==p?"null":p)),delete n.timeExtent}return e.defaultSpatialReferenceEnabled&&(0,u.isSome)(i)&&(0,u.isSome)(s)&&i.equals(s)&&(o.defaultSR=o.inSR,delete o.inSR,delete o.outSR),o}function b(e,t,r,n){return _.apply(this,arguments)}function _(){return(_=i.default(n(o).mark((function e(t,r,i,a){var s;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.isSome)(r.timeExtent)||!r.timeExtent.isEmpty){e.next=4;break}e.t0={data:{features:[]}},e.next=7;break;case 4:return e.next=6,I(t,r,"json",a);case 6:e.t0=e.sent;case 7:return s=e.t0,e.abrupt("return",((0,y.applyFeatureSetZUnitScaling)(r,i,s.data),s));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,r,n){return x.apply(this,arguments)}function x(){return(x=i.default(n(o).mark((function e(t,r,i,a){var s,l;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.isSome)(r.timeExtent)||!r.timeExtent.isEmpty){e.next=2;break}return e.abrupt("return",Promise.resolve({data:i.createFeatureResult()}));case 2:return e.next=4,S(t,r,a);case 4:return s=e.sent,l=s,e.abrupt("return",(l.data=(0,h.parsePBFFeatureQuery)(s.data,i),l));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,r){return I(e,t,"pbf",r)}function k(e,t,r){return(0,u.isSome)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):I(e,t,"json",r,{returnIdsOnly:!0})}function T(e,t,r){return(0,u.isSome)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):I(e,t,"json",r,{returnIdsOnly:!0,returnCountOnly:!0})}function E(e,t,r){return(0,u.isSome)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):I(e,t,"json",r,{returnExtentOnly:!0,returnCountOnly:!0}).then((function(e){var t=e.data;if(t.hasOwnProperty("extent"))return e;if(t.features)throw new Error(v);if(t.hasOwnProperty("count"))throw new Error(v);return e}))}function I(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o="string"==typeof e?(0,c.urlToObject)(e):e,s=t.geometry?[t.geometry]:[];return n.responseType="pbf"===r?"array-buffer":"json",(0,p.normalizeCentralMeridian)(s,null,n).then((function(e){var s=e&&e[0];(0,u.isSome)(s)&&((t=t.clone()).geometry=s);var f=(0,d.mapParameters)(a.default({},o.query,{f:r},i,g(t,i)));return(0,l.default)((0,c.join)(o.path,"query"),a.default({},n,{query:a.default({},f,n.query)}))}))}})),s.register("5On35",(function(t,r){e(t.exports,"straightLineDensify",(function(){return _})),e(t.exports,"normalizeCentralMeridian",(function(){return k})),e(t.exports,"normalizeMapX",(function(){return E})),s("8TSCy");var i=s("jcnGU"),a=s("iCnzh"),o=s("2TvXO"),l=s("cu9iz"),u=s("kyj08"),c=s("jHOLN"),f=s("7qybv"),p=s("fTq43"),d=s("95Tg0"),h=s("7E1SV"),y=s("eY5Yp"),v=s("eF88h"),m=s("9FWk7"),g=s("fDIXk"),b=c.default.getLogger("esri.geometry.support.normalizeUtils");function _(e,t){if(!(e instanceof d.default||e instanceof p.default)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw b.error(r),new(0,u.default)(r)}var n=(0,h.getGeometryParts)(e),i=[],a=!0,o=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value,y=[];i.push(y),y.push([f[0][0],f[0][1]]);for(var v=0;v<f.length-1;v++){var m=f[v][0],g=f[v][1],_=f[v+1][0],w=f[v+1][1],x=Math.sqrt((_-m)*(_-m)+(w-g)*(w-g)),S=(w-g)/x,k=(_-m)/x,T=x/t;if(T>1){for(var E=1;E<=T-1;E++){var I=E*t,C=k*I+m,O=S*I+g;y.push([C,O])}var L=(x+Math.floor(T-1)*t)/2,A=k*L+m,M=S*L+g;y.push([A,M])}y.push([_,w])}}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return"polygon"===e.type?new(0,p.default)({rings:i,spatialReference:e.spatialReference}):new(0,d.default)({paths:i,spatialReference:e.spatialReference})}function w(e,t,r){if(t){var n=_(e,1e6);e=(0,v.webMercatorToGeographic)(n,!0)}return r&&(e=(0,h.updatePolyGeometry)(e,r)),e}function x(e,t,r){if(Array.isArray(e)){var n=e[0];if(n>t){var i=(0,h.offsetMagnitude)(n,t);e[0]=n+i*(-2*t)}else if(n<r){var a=(0,h.offsetMagnitude)(n,r);e[0]=n+a*(-2*r)}}else{var o=e.x;if(o>t){var s=(0,h.offsetMagnitude)(o,t);e=e.clone().offset(s*(-2*t),0)}else if(o<r){var l=(0,h.offsetMagnitude)(o,r);e=e.clone().offset(l*(-2*r),0)}}return e}function S(e,t){for(var r=function(r){for(var i=function(e){var t=s[e];t.some((function(r){if(r[0]<180)return!0;for(var n=0,i=0;i<t.length;i++){var a=t[i][0];n=a>n?a:n}n=Number(n.toFixed(9));for(var s=-360*(0,h.offsetMagnitude)(n,180),l=0;l<t.length;l++){var u=o.getPoint(e,l);o.setPoint(e,l,u.clone().offset(s,0))}return!0}))},a=t.cutIndexes[r],o=t.geometries[r],s=(0,h.getGeometryParts)(o),l=0;l<s.length;l++)i(l);if(a===n){var u=!0,c=!1,f=void 0,p=!0,d=!1,y=void 0;if("polygon"===e[0].type)try{for(var v,m=(0,h.getGeometryParts)(o)[Symbol.iterator]();!(u=(v=m.next()).done);u=!0){var g=v.value;e[a]=e[a].addRing(g)}}catch(e){c=!0,f=e}finally{try{u||null==m.return||m.return()}finally{if(c)throw f}}else if("polyline"===e[0].type)try{for(var b,_=(0,h.getGeometryParts)(o)[Symbol.iterator]();!(p=(b=_.next()).done);p=!0){var w=b.value;e[a]=e[a].addPath(w)}}catch(e){d=!0,y=e}finally{try{p||null==_.return||_.return()}finally{if(d)throw y}}}else n=a,e[a]=o},n=-1,i=0;i<t.cutIndexes.length;i++)r(i);return e}function k(e,t,r){return T.apply(this,arguments)}function T(){return(T=i.default(n(o).mark((function e(t,r,i){var a,s,u,c,b,_,T,E,I,C,O,L,A,M,N,R,P,F,j,D,U,V,B,H,z,W,G,J,q,X,K,$,Y,Z,Q,ee,te,re,ne,ie,ae,oe,se,le;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=3;break}return e.abrupt("return",k([t],r));case 3:for(s=null!=(a=null==r?void 0:r.url)?a:l.default.geometryServiceUrl,O=0,L=[],A=[],M=!0,N=!1,R=void 0,e.prev=7,P=t[Symbol.iterator]();!(M=(F=P.next()).done);M=!0)j=F.value,(0,f.isNone)(j)?A.push(j):(u||(u=j.spatialReference,c=(0,y.getInfo)(u),b=u.isWebMercator,E=b?102100:4326,_=h.cutParams[E].maxX,T=h.cutParams[E].minX,I=h.cutParams[E].plus180Line,C=h.cutParams[E].minus180Line),c?"mesh"===j.type?A.push(j):"point"===j.type?A.push(x(j.clone(),_,T)):"multipoint"===j.type?((D=j.clone()).points=D.points.map((function(e){return x(e,_,T)})),A.push(D)):"extent"===j.type?(U=j.clone()._normalize(!1,!1,c),A.push(U.rings?new(0,p.default)(U):U)):j.extent?(V=j.extent,B=(0,h.offsetMagnitude)(V.xmin,T)*(2*_),H=0===B?j.clone():(0,h.updatePolyGeometry)(j.clone(),B),V.offset(B,0),V.intersects(I)&&V.xmax!==_?(O=V.xmax>O?V.xmax:O,H=w(H,b),L.push(H),A.push("cut")):V.intersects(C)&&V.xmin!==T?(O=V.xmax*(2*_)>O?V.xmax*(2*_):O,H=w(H,b,360),L.push(H),A.push("cut")):A.push(H)):A.push(j.clone()):A.push(j));e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),N=!0,R=e.t0;case 15:e.prev=15,e.prev=16,M||null==P.return||P.return();case 18:if(e.prev=18,!N){e.next=21;break}throw R;case 21:return e.finish(18);case 22:return e.finish(15);case 23:for(z=(0,h.offsetMagnitude)(O,_),W=-90,G=z,J=new(0,d.default);z>0;)q=360*z-180,J.addPath([[q,W],[q,-1*W]]),W*=-1,z--;if(!(L.length>0&&G>0)){e.next=44;break}return e.t1=S,e.t2=L,e.next=31,(0,m.cut)(s,L,J,i);case 31:for(e.t3=e.sent,X=(0,e.t1)(e.t2,e.t3),K=[],$=[],Y=0;Y<A.length;Y++)"cut"!==(Z=A[Y])?$.push(Z):(Q=X.shift(),ee=t[Y],(0,f.isSome)(ee)&&"polygon"===ee.type&&ee.rings&&ee.rings.length>1&&Q.rings.length>=ee.rings.length?(K.push(Q),$.push("simplify")):$.push(b?(0,v.geographicToWebMercator)(Q):Q));if(K.length){e.next=38;break}return e.abrupt("return",$);case 38:return e.next=40,(0,g.simplify)(s,K,i);case 40:for(te=e.sent,re=[],ne=0;ne<$.length;ne++)"simplify"!==(ie=$[ne])?re.push(ie):re.push(b?(0,v.geographicToWebMercator)(te.shift()):te.shift());return e.abrupt("return",re);case 44:for(ae=[],oe=0;oe<A.length;oe++)"cut"!==(se=A[oe])?ae.push(se):(le=L.shift(),ae.push(!0===b?(0,v.geographicToWebMercator)(le):le));return e.abrupt("return",Promise.resolve(ae));case 47:case"end":return e.stop()}}),e,null,[[7,11,15,23],[16,,18,22]])})))).apply(this,arguments)}function E(e,t){var r=(0,y.getInfo)(t);if(r){var n=a.default(r.valid,2),i=n[0],o=n[1],s=o-i;if(e<i)for(;e<i;)e+=s;if(e>o)for(;e>o;)e-=s}return e}})),s.register("7E1SV",(function(t,r){e(t.exports,"cutParams",(function(){return o})),e(t.exports,"offsetMagnitude",(function(){return l})),e(t.exports,"updatePolyGeometry",(function(){return u})),e(t.exports,"getGeometryParts",(function(){return c})),e(t.exports,"getSpatialReferenceMinMaxX",(function(){return f}));var n=s("95Tg0"),i=s("j40xv"),a=s("79LpT"),o={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new(0,n.default)({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:i.default.WebMercator}),minus180Line:new(0,n.default)({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:i.default.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new(0,n.default)({paths:[[[180,-180],[180,180]]],spatialReference:i.default.WGS84}),minus180Line:new(0,n.default)({paths:[[[-180,-180],[-180,180]]],spatialReference:i.default.WGS84})}};function l(e,t){return Math.ceil((e-t)/(2*t))}function u(e,t){var r=c(e),n=!0,i=!1,a=void 0,o=!0,s=!1,l=void 0;try{for(var u,f=r[Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var p=u.value;try{for(var d,h=p[Symbol.iterator]();!(n=(d=h.next()).done);n=!0){d.value[0]+=t}}catch(e){i=!0,a=e}finally{try{n||null==h.return||h.return()}finally{if(i)throw a}}}}catch(e){s=!0,l=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw l}}return e}function c(e){return(0,a.isPolygon)(e)?e.rings:e.paths}function f(e){var t=(null==e?void 0:e.isWebMercator)?102100:4326;return[o[t].minX,o[t].maxX]}})),s.register("9FWk7",(function(t,r){e(t.exports,"cut",(function(){return f})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO");s("2ILM8");var l=s("9pNSx"),u=s("kYueh"),c=s("79LpT");function f(e,t,r,n){return p.apply(this,arguments)}function p(){return(p=i.default(n(o).mark((function e(t,r,i,s){var f,p,d,h,y,v,m,g;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f="string"==typeof t?(0,u.urlToObject)(t):t,p=r[0].spatialReference,d=a.default({},s,{query:a.default({},f.query,{f:"json",sr:JSON.stringify(p),target:JSON.stringify({geometryType:(0,c.getJsonType)(r[0]),geometries:r}),cutter:JSON.stringify(i)})}),e.next=5,(0,l.default)(f.path+"/cut",d);case 5:return h=e.sent,y=h.data,v=y.cutIndexes,m=y.geometries,g=void 0===m?[]:m,e.abrupt("return",{cutIndexes:v,geometries:g.map((function(e){var t=(0,c.fromJSON)(e);return t.spatialReference=p,t}))});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),s.register("fDIXk",(function(t,r){e(t.exports,"simplify",(function(){return f})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("9pNSx"),u=s("kYueh"),c=s("79LpT");function f(e,t,r){return p.apply(this,arguments)}function p(){return(p=i.default(n(o).mark((function e(t,r,i){var s,f,p,y;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="string"==typeof t?(0,u.urlToObject)(t):t,f=r[0].spatialReference,p=(0,c.getJsonType)(r[0]),y=a.default({},i,{query:a.default({},s.query,{f:"json",sr:f.wkid?f.wkid:JSON.stringify(f),geometries:JSON.stringify(d(r))})}),e.t0=h,e.next=4,(0,l.default)(s.path+"/simplify",y);case 4:return e.t1=e.sent.data,e.t2=p,e.t3=f,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return{geometryType:(0,c.getJsonType)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function h(e,t,r){var n=(0,c.getGeometryType)(t);return e.map((function(e){var t=n.fromJSON(e);return t.spatialReference=r,t}))}})),s.register("6JnOG",(function(t,r){e(t.exports,"parsePBFFeatureQuery",(function(){return i}));var n=s("gIye9");function i(e,t){var r=(0,n.parseFeatureQuery)(e,t),i=r.queryResult.featureResult,a=r.queryResult.queryGeometry,o=r.queryResult.queryGeometryType;if(i&&i.features&&i.features.length&&i.objectIdFieldName){var s=i.objectIdFieldName,l=!0,u=!1,c=void 0;try{for(var f,p=i.features[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var d=f.value;d.attributes&&(d.objectId=d.attributes[s])}}catch(e){u=!0,c=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}}return i&&(i.queryGeometry=a,i.queryGeometryType=o),i}})),s.register("gIye9",(function(t,r){e(t.exports,"parseFieldType",(function(){return p})),e(t.exports,"parseTransform",(function(){return k})),e(t.exports,"parseFeatureQuery",(function(){return O}));var n=s("kyj08"),i=s("7qybv"),a=s("acan7"),o=s("awxBI"),l=s("7zyiu"),u=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],c=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],f=["upperLeft","lowerLeft"];function p(e){return e>=u.length?null:u[e]}function d(e){return e>=f.length?null:f[e]}function h(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function y(e,t,r){for(var n=t.createPointGeometry(r);e.next();)if(3===e.tag())for(var i=e.getUInt32(),a=e.pos()+i,o=0;e.pos()<a;)t.addCoordinatePoint(n,e.getSInt64(),o++);else e.skip();return n}function v(e,t,r){for(var n=t.createGeometry(r),i=2+(r.hasZ?1:0)+(r.hasM?1:0);e.next();)switch(e.tag()){case 2:for(var a=e.getUInt32(),o=e.pos()+a,s=0;e.pos()<o;)t.addLength(n,e.getUInt32(),s++);break;case 3:var l=e.getUInt32(),u=e.pos()+l,c=0;for(t.allocateCoordinates(n);e.pos()<u;)t.addCoordinate(n,e.getSInt64(),c),++c===i&&(c=0);break;default:e.skip()}return n}function m(e){for(var t=new(0,o.default),r="esriGeometryPoint";e.next();)switch(e.tag()){case 2:for(var n=e.getUInt32(),i=e.pos()+n;e.pos()<i;)t.lengths.push(e.getUInt32());break;case 3:for(var a=e.getUInt32(),s=e.pos()+a;e.pos()<s;)t.coords.push(e.getSInt64());break;case 1:r=l.OPTIMIZED_GEOMETRY_TYPES[e.getEnum()];break;default:e.skip()}return{queryGeometry:t,queryGeometryType:r}}function g(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getSInt32();case 5:return e.getUInt32();case 6:return e.getInt64();case 7:return e.getUInt64();case 8:return e.getSInt64();case 9:return e.getBool();default:return e.skip(),null}return null}function b(e){for(var t,r={type:p(0)};e.next();)switch(e.tag()){case 1:r.name=e.getString();break;case 2:r.type=p(e.getEnum());break;case 3:r.alias=e.getString();break;case 4:r.sqlType=(t=e.getEnum())>=c.length?null:c[t];break;case 5:default:e.skip();break;case 6:r.defaultValue=e.getString()}return r}function _(e){for(var t={};e.next();)switch(e.tag()){case 1:t.name=e.getString();break;case 2:t.isSystemMaintained=e.getBool();break;default:e.skip()}return t}function w(e,t,r,n){for(var i=t.createFeature(r),a=0;e.next();)switch(e.tag()){case 1:var o=n[a++].name;i.attributes[o]=e.processMessage(g);break;case 2:i.geometry=e.processMessageWithArgs(v,t,r);break;case 4:i.centroid=e.processMessageWithArgs(y,t,r);break;default:e.skip()}return i}function x(e){for(var t=[1,1,1,1];e.next();)switch(e.tag()){case 1:t[0]=e.getDouble();break;case 2:t[1]=e.getDouble();break;case 4:t[2]=e.getDouble();break;case 3:t[3]=e.getDouble();break;default:e.skip()}return t}function S(e){for(var t=[0,0,0,0];e.next();)switch(e.tag()){case 1:t[0]=e.getDouble();break;case 2:t[1]=e.getDouble();break;case 4:t[2]=e.getDouble();break;case 3:t[3]=e.getDouble();break;default:e.skip()}return t}function k(e){for(var t={originPosition:d(0)};e.next();)switch(e.tag()){case 1:t.originPosition=d(e.getEnum());break;case 2:t.scale=e.processMessage(x);break;case 3:t.translate=e.processMessage(S);break;default:e.skip()}return t}function T(e){for(var t={};e.next();)switch(e.tag()){case 1:t.shapeAreaFieldName=e.getString();break;case 2:t.shapeLengthFieldName=e.getString();break;case 3:t.units=e.getString();break;default:e.skip()}return t}function E(e,t){for(var r=t.createSpatialReference();e.next();)switch(e.tag()){case 1:r.wkid=e.getUInt32();break;case 5:r.wkt=e.getString();break;case 2:r.latestWkid=e.getUInt32();break;case 3:r.vcsWkid=e.getUInt32();break;case 4:r.latestVcsWkid=e.getUInt32();break;default:e.skip()}return r}function I(e,t){var r=t.createFeatureResult();r.geometryType=h(t,0);for(var n=!1;e.next();)switch(e.tag()){case 1:r.objectIdFieldName=e.getString();break;case 3:r.globalIdFieldName=e.getString();break;case 4:r.geohashFieldName=e.getString();break;case 5:r.geometryProperties=e.processMessage(T);break;case 7:r.geometryType=h(t,e.getEnum());break;case 8:r.spatialReference=e.processMessageWithArgs(E,t);break;case 10:r.hasZ=e.getBool();break;case 11:r.hasM=e.getBool();break;case 12:r.transform=e.processMessage(k);break;case 9:var i=e.getBool();r.exceededTransferLimit=i;break;case 13:t.addField(r,e.processMessage(b));break;case 15:n||(t.prepareFeatures(r),n=!0),t.addFeature(r,e.processMessageWithArgs(w,t,r,r.fields));break;case 2:r.uniqueIdField=e.processMessage(_);break;default:e.skip()}return t.finishFeatureResult(r),r}function C(e,t){for(var r={},n=null;e.next();)switch(e.tag()){case 4:n=e.processMessageWithArgs(m);break;case 1:r.featureResult=e.processMessageWithArgs(I,t);break;default:e.skip()}return(0,i.isSome)(n)&&r.featureResult&&t.addQueryGeometry(r,n),r}function O(e,t){try{for(var r=new(0,a.default)(new Uint8Array(e),new DataView(e)),i={};r.next();)2===r.tag()?i.queryResult=r.processMessageWithArgs(C,t):r.skip();return i}catch(e){throw new(0,n.default)("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:e})}}})),s.register("acan7",(function(t,r){e(t.exports,"default",(function(){return d})),s("8TSCy");var n,i,a=s("f9pi5"),o=s("jK9zx"),l=s("2VlWd"),u=s("7Pyz4");(i=n||(n={}))[i.varint=0]="varint",i[i.fixed64=1]="fixed64",i[i.delimited=2]="delimited",i[i.fixed32=5]="fixed32",i[i.unknown=99]="unknown";var c=4294967296,f=new TextDecoder("utf-8"),p=(0,l.default)("safari")||(0,l.default)("ios")?6:(0,l.default)("ff")?12:32,d=function(){"use strict";function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t?t.byteLength:0;a.default(this,e),this._tag=0,this._dataType=n.unknown,this._init(t,r,i,o)}return o.default(e,[{key:"_init",value:function(e,t,r,n){this._data=e,this._dataView=t,this._pos=r,this._end=n}},{key:"clone",value:function(){return new e(this._data,this._dataView,this._pos,this._end)}},{key:"pos",value:function(){return this._pos}},{key:"move",value:function(e){this._pos=e}},{key:"nextTag",value:function(e){for(;;){if(this._pos===this._end)return!1;var t=this._decodeVarint();if(this._tag=t>>3,this._dataType=7&t,!e||e===this._tag)break;this.skip()}return!0}},{key:"next",value:function(){if(this._pos===this._end)return!1;var e=this._decodeVarint();return this._tag=e>>3,this._dataType=7&e,!0}},{key:"empty",value:function(){return this._pos>=this._end}},{key:"tag",value:function(){return this._tag}},{key:"getInt32",value:function(){return this._decodeVarint()}},{key:"getInt64",value:function(){return this._decodeVarint()}},{key:"getUInt32",value:function(){var e=4294967295;return e=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?e:(e=(e|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?e:(e=(e|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?e:void 0))))}},{key:"getUInt64",value:function(){return this._decodeVarint()}},{key:"getSInt32",value:function(){var e=this.getUInt32();return e>>>1^-(1&e)|0}},{key:"getSInt64",value:function(){return this._decodeSVarint()}},{key:"getBool",value:function(){var e=0!==this._data[this._pos];return this._skip(1),e}},{key:"getEnum",value:function(){return this._decodeVarint()}},{key:"getFixed64",value:function(){var e=this._dataView,t=this._pos,r=e.getUint32(t,!0)+e.getUint32(t+4,!0)*c;return this._skip(8),r}},{key:"getSFixed64",value:function(){var e=this._dataView,t=this._pos,r=e.getUint32(t,!0)+e.getInt32(t+4,!0)*c;return this._skip(8),r}},{key:"getDouble",value:function(){var e=this._dataView.getFloat64(this._pos,!0);return this._skip(8),e}},{key:"getFixed32",value:function(){var e=this._dataView.getUint32(this._pos,!0);return this._skip(4),e}},{key:"getSFixed32",value:function(){var e=this._dataView.getInt32(this._pos,!0);return this._skip(4),e}},{key:"getFloat",value:function(){var e=this._dataView.getFloat32(this._pos,!0);return this._skip(4),e}},{key:"getString",value:function(){var e=this._getLength(),t=this._pos,r=this._toString(this._data,t,t+e);return this._skip(e),r}},{key:"getBytes",value:function(){var e=this._getLength(),t=this._pos,r=this._toBytes(this._data,t,t+e);return this._skip(e),r}},{key:"getLength",value:function(){return this._getLengthUnsafe()}},{key:"processMessageWithArgs",value:function(e,t,r,n){var i=this.getMessage(),a=e(i,t,r,n);return i.release(),a}},{key:"processMessage",value:function(e){var t=this.getMessage(),r=e(t);return t.release(),r}},{key:"getMessage",value:function(){var t=this._getLength(),r=e.pool.acquire();return r._init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),r}},{key:"release",value:function(){e.pool.release(this)}},{key:"dataType",value:function(){return this._dataType}},{key:"skip",value:function(){switch(this._dataType){case n.varint:this._decodeVarint();break;case n.fixed64:this._skip(8);break;case n.delimited:this._skip(this._getLength());break;case n.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}},{key:"skipLen",value:function(e){this._skip(e)}},{key:"_skip",value:function(e){if(this._pos+e>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=e}},{key:"_decodeVarint",value:function(){var e,t=this._data,r=this._pos,n=0;if(this._end-r>=10)do{if(n|=127&(e=t[r++]),0==(128&e))break;if(n|=(127&(e=t[r++]))<<7,0==(128&e))break;if(n|=(127&(e=t[r++]))<<14,0==(128&e))break;if(n|=(127&(e=t[r++]))<<21,0==(128&e))break;if(n+=268435456*(127&(e=t[r++])),0==(128&e))break;if(n+=34359738368*(127&(e=t[r++])),0==(128&e))break;if(n+=4398046511104*(127&(e=t[r++])),0==(128&e))break;if(n+=562949953421312*(127&(e=t[r++])),0==(128&e))break;if(n+=72057594037927940*(127&(e=t[r++])),0==(128&e))break;if(n+=0x8000000000000000*(127&(e=t[r++])),0==(128&e))break;throw new Error("Varint too long!")}while(0);else{for(var i=1;r!==this._end&&0!=(128&(e=t[r]));)++r,n+=(127&e)*i,i*=128;if(r===this._end)throw new Error("Varint overrun!");++r,n+=e*i}return this._pos=r,n}},{key:"_decodeSVarint",value:function(){var e=this._decodeVarint();return e%2?-(e+1)/2:e/2}},{key:"_getLength",value:function(){if(this._dataType!==n.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}},{key:"_getLengthUnsafe",value:function(){return this.getUInt32()}},{key:"_toString",value:function(e,t,r){if((r=Math.min(this._end,r))-t>p){var n=e.subarray(t,r);return f.decode(n)}for(var i="",a="",o=t;o<r;++o){var s=e[o];128&s?a+="%"+s.toString(16):(i+=decodeURIComponent(a)+String.fromCharCode(s),a="")}return a.length&&(i+=decodeURIComponent(a)),i}},{key:"_toBytes",value:function(e,t,r){return r=Math.min(this._end,r),new Uint8Array(e.buffer,t,r-t)}}]),e}();d.pool=new(0,u.default)(d,null,(function(e){e._data=null,e._dataView=null}))})),s.register("awxBI",(function(t,r){e(t.exports,"default",(function(){return o})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("5Vgx8"),o=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.default(this,e),this.lengths=null!=t?t:[],this.coords=null!=r?r:[],this.hasIndeterminateRingOrder=i}return i.default(e,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){var e;return(e=Math).max.apply(e,a.default(this.lengths))}},{key:"size",get:function(){return this.lengths.reduce((function(e,t){return e+t}))}},{key:"forEachVertex",value:function(e){var t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(var r=0;r<this.lengths.length;r++){for(var n=this.lengths[r],i=0;i<n;i++)e(this.coords[2*(i+t)],this.coords[2*(i+t)+1]);t+=n}}},{key:"clone",value:function(t){return t?(t.set(this.coords),new e(this.lengths.slice(),t,this.hasIndeterminateRingOrder)):new e(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}]),e}()})),s.register("7zyiu",(function(t,r){e(t.exports,"OPTIMIZED_GEOMETRY_TYPES",(function(){return f})),e(t.exports,"OptimizedFeatureSetParserContext",(function(){return p})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("5vzSQ"),o=s("eY5Yp"),l=s("ft2bT"),u=s("awJRz"),c=s("awxBI"),f=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],p=function(){"use strict";function e(t){n.default(this,e),this.options=t,this.geometryTypes=f,this._coordinatePtr=0,this._vertexDimension=0}return i.default(e,[{key:"createFeatureResult",value:function(){return new(0,u.default)}},{key:"prepareFeatures",value:function(e){this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++}},{key:"finishFeatureResult",value:function(e){if(e&&e.features&&e.hasZ&&this.options.sourceSpatialReference&&e.spatialReference&&!(0,o.equals)(e.spatialReference,this.options.sourceSpatialReference)&&!e.spatialReference.vcsWkid){var t=(0,a.getMetersPerVerticalUnitForSR)(this.options.sourceSpatialReference)/(0,a.getMetersPerVerticalUnitForSR)(e.spatialReference),r=!0,n=!1,i=void 0;if(1!==t)try{for(var s,u=e.features[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if((0,l.hasGeometry)(c))for(var f=c.geometry.coords,p=2;p<f.length;p+=3)f[p]*=t}}catch(e){n=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(n)throw i}}}}},{key:"addFeature",value:function(e,t){e.features.push(t)}},{key:"createFeature",value:function(){return new(0,l.OptimizedFeature)}},{key:"createSpatialReference",value:function(){return{wkid:0}}},{key:"createGeometry",value:function(){return new(0,c.default)}},{key:"addField",value:function(e,t){e.fields.push(t)}},{key:"allocateCoordinates",value:function(e){e.coords.length=e.lengths.reduce((function(e,t){return e+t}),0)*this._vertexDimension,this._coordinatePtr=0}},{key:"addCoordinate",value:function(e,t){e.coords[this._coordinatePtr++]=t}},{key:"addCoordinatePoint",value:function(e,t){e.coords.push(t)}},{key:"addLength",value:function(e,t){e.lengths.push(t)}},{key:"addQueryGeometry",value:function(e,t){e.queryGeometry=t.queryGeometry,e.queryGeometryType=t.queryGeometryType}},{key:"createPointGeometry",value:function(){return new(0,c.default)}}]),e}()})),s.register("ft2bT",(function(t,r){e(t.exports,"OptimizedFeature",(function(){return u})),e(t.exports,"hasGeometry",(function(){return c})),e(t.exports,"OptimizedFeatureWithGeometry",(function(){return f})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("g9uIT"),o=s("dap1g"),l=s("7qybv"),u=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;n.default(this,e),this.geometry=t,this.attributes=r,this.centroid=i,this.objectId=a,this.displayId=0,this.geohashX=0,this.geohashY=0}return i.default(e,[{key:"weakClone",value:function(){var t=new e(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}]),e}();function c(e){return!((0,l.isNone)(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}var f=function(e){"use strict";a.default(r,e);var t=o.default(r);function r(){return n.default(this,r),t.apply(this,arguments)}return r}(u)})),s.register("awJRz",(function(t,r){e(t.exports,"default",(function(){return a})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=function(){"use strict";function e(){n.default(this,e),this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}return i.default(e,[{key:"weakClone",value:function(){var t=new e;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}]),e}()})),s.register("4JATB",(function(t,r){e(t.exports,"applyFeatureSetZUnitScaling",(function(){return a}));var n=s("7qybv"),i=s("bRuRM");function a(e,t,r){if(r&&r.features&&r.hasZ){var a=(0,i.getGeometryZScaler)(r.geometryType,t,e.outSpatialReference),o=!0,s=!1,l=void 0;if(!(0,n.isNone)(a))try{for(var u,c=r.features[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){a(u.value.geometry)}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}}}})),s.register("127at",(function(t,r){e(t.exports,"executeForExtent",(function(){return p})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO");s("2ILM8");var l=s("dsJ7q"),u=s("j6c7r"),c=s("cRlei"),f=s("gINRd");function p(e,t,r){return d.apply(this,arguments)}function d(){return(d=i.default(n(o).mark((function e(t,r,i){var s;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,l.parseUrl)(t),e.abrupt("return",(0,u.executeQueryForExtent)(s,c.default.from(r),a.default({},i)).then((function(e){return{count:e.data.count,extent:f.default.fromJSON(e.data.extent)}})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),s.register("1d1jX",(function(t,r){e(t.exports,"executeForIds",(function(){return f})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("dsJ7q"),u=s("j6c7r"),c=s("cRlei");function f(e,t,r){return p.apply(this,arguments)}function p(){return(p=i.default(n(o).mark((function e(t,r,i){var s;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,l.parseUrl)(t),e.abrupt("return",(0,u.executeQueryForIds)(s,c.default.from(r),a.default({},i)).then((function(e){return e.data.objectIds})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),s.register("3UMgP",(function(t,r){e(t.exports,"executeQueryJSON",(function(){return p})),e(t.exports,"executeRawQueryJSON",(function(){return h})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("dsJ7q"),u=s("j6c7r"),c=s("f4h86"),f=s("cRlei");function p(e,t,r){return d.apply(this,arguments)}function d(){return(d=i.default(n(o).mark((function e(t,r,i){var a;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,r,i);case 2:return a=e.sent,e.abrupt("return",c.default.fromJSON(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,r){return y.apply(this,arguments)}function y(){return(y=i.default(n(o).mark((function e(t,r,i){var s,c,p,d,h;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,l.parseUrl)(t),c=a.default({},i),p=f.default.from(r),e.next=5,(0,u.executeQuery)(s,p,p.sourceSpatialReference,c);case 5:return d=e.sent,h=d.data,e.abrupt("return",h);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),s.register("f4h86",(function(t,n){r(t.exports),e(t.exports,"default",(function(){return C})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("iCnzh"),f=s("7eJjO"),p=s("2ILM8"),d=s("bsvXr"),h=s("79ASa"),y=s("1XAcN"),v=s("flPLJ"),m=s("7qybv"),g=s("iho5X");s("iJAIC");var b,_=s("eB8sj"),w=s("fcwIv"),x=s("kced1"),S=s("j40xv"),k=s("79LpT"),T=s("buMuJ"),E=new(0,h.JSONMap)({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null}),I=b=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).displayFieldName=null,n.exceededTransferLimit=!1,n.features=[],n.fields=null,n.geometryType=null,n.hasM=!1,n.hasZ=!1,n.queryGeometry=null,n.spatialReference=null,l.default(n)}return u.default(r,[{key:"readFeatures",value:function(e,t){for(var r=S.default.fromJSON(t.spatialReference),n=[],i=0;i<e.length;i++){var a=e[i],o=d.default.fromJSON(a),s=a.geometry&&a.geometry.spatialReference;(0,m.isSome)(o.geometry)&&!s&&(o.geometry.spatialReference=r);var l=a.aggregateGeometries,u=o.aggregateGeometries;if(l&&(0,m.isSome)(u))for(var c in u){var f=u[c],p=l[c],h=null==p?void 0:p.spatialReference;(0,m.isSome)(f)&&!h&&(f.spatialReference=r)}n.push(o)}return n}},{key:"writeGeometryType",value:function(e,t,r,n){if(e)E.write(e,t,r,n);else{var i=this.features;if(i){var a=!0,o=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;if(c&&(0,m.isSome)(c.geometry))return void E.write(c.geometry.type,t,r,n)}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var r=!!e.spatialReference,n=(0,k.fromJSON)(e);return!r&&t.spatialReference&&(n.spatialReference=S.default.fromJSON(t.spatialReference)),n}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r){var n=!0,i=!1,a=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;if(l&&(0,m.isSome)(l.geometry)&&l.geometry.spatialReference)return void(t.spatialReference=l.geometry.spatialReference.toJSON())}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}}}},{key:"clone",value:function(){return new b(this.cloneProperties())}},{key:"cloneProperties",value:function(){return(0,v.clone)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}},{key:"toJSON",value:function(e){var t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var n=t.features[r];if(n.geometry){var i=e&&e[r];n.geometry=i&&i.toJSON()||n.geometry}}return t}},{key:"quantize",value:function(e){for(var t=c.default(e.scale,2),r=t[0],n=t[1],i=c.default(e.translate,2),a=i[0],o=i[1],s=this.features,l=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-a)/r)}),(function(e){return Math.round((o-e)/n)})),u=0,f=s.length;u<f;u++)l((0,m.unwrap)(s[u].geometry))||(s.splice(u,1),u--,f--);return this.transform=e,this}},{key:"unquantize",value:function(){var e=this,t=e.geometryType,r=e.features,n=e.transform;if(!n)return this;var i=c.default(n.translate,2),a=i[0],o=i[1],s=c.default(n.scale,2),l=s[0],u=s[1],f=this._getHydrationFunction(t,(function(e){return e*l+a}),(function(e){return o-e*u})),p=!0,d=!1,h=void 0;try{for(var y,v=r[Symbol.iterator]();!(p=(y=v.next()).done);p=!0){var g=y.value.geometry;(0,m.isSome)(g)&&f(g)}}catch(e){d=!0,h=e}finally{try{p||null==v.return||v.return()}finally{if(d)throw h}}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,r){for(var n,i,a=[],o=0,s=e.length;o<s;o++){var l=e[o];if(o>0){var u=t(l[0]),c=r(l[1]);u===n&&c===i||(a.push([u-n,c-i]),n=u,i=c)}else n=t(l[0]),i=r(l[1]),a.push([n,i])}return a.length>0?a:null}},{key:"_getQuantizationFunction",value:function(e,t,r){var n=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var i=(0,k.isPolygon)(e)?e.rings:e.paths,a=[],o=0,s=i.length;o<s;o++){var l=i[o],u=n._quantizePoints(l,t,r);u&&a.push(u)}return a.length>0?((0,k.isPolygon)(e)?e.rings=a:e.paths=a,e):null}:"multipoint"===e?function(e){var i=n._quantizePoints(e.points,t,r);return i.length>0?(e.points=i,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,r){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var n,i,a=(0,k.isPolygon)(e)?e.rings:e.paths,o=0,s=a.length;o<s;o++)for(var l=a[o],u=0,c=l.length;u<c;u++){var f=l[u];u>0?(n+=f[0],i+=f[1]):(n=f[0],i=f[1]),f[0]=t(n),f[1]=r(i)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?function(e){for(var n,i,a=e.points,o=0,s=a.length;o<s;o++){var l=a[o];o>0?(n+=l[0],i+=l[1]):(n=l[0],i=l[1]),l[0]=t(n),l[1]=r(i)}}:void 0}}]),r}(y.JSONSupport);(0,f._)([(0,g.property)({type:String,json:{write:!0}})],I.prototype,"displayFieldName",void 0),(0,f._)([(0,g.property)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],I.prototype,"exceededTransferLimit",void 0),(0,f._)([(0,g.property)({type:[d.default],json:{write:!0}})],I.prototype,"features",void 0),(0,f._)([(0,_.reader)("features")],I.prototype,"readFeatures",null),(0,f._)([(0,g.property)({type:[T.default],json:{write:!0}})],I.prototype,"fields",void 0),(0,f._)([(0,g.property)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:E.read}}})],I.prototype,"geometryType",void 0),(0,f._)([(0,x.writer)("geometryType")],I.prototype,"writeGeometryType",null),(0,f._)([(0,g.property)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],I.prototype,"hasM",void 0),(0,f._)([(0,g.property)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],I.prototype,"hasZ",void 0),(0,f._)([(0,g.property)({types:p.geometryTypes,json:{write:!0}})],I.prototype,"queryGeometry",void 0),(0,f._)([(0,_.reader)("queryGeometry")],I.prototype,"readQueryGeometry",null),(0,f._)([(0,g.property)({type:S.default,json:{write:!0}})],I.prototype,"spatialReference",void 0),(0,f._)([(0,x.writer)("spatialReference")],I.prototype,"writeSpatialReference",null),(0,f._)([(0,g.property)({json:{write:!0}})],I.prototype,"transform",void 0),(I=b=(0,f._)([(0,w.subclass)("esri.rest.support.FeatureSet")],I)).prototype.toJSON.isDefaultToJSON=!0;var C=I})),s.register("eAfIf",(function(t,r){e(t.exports,"executeRawQueryPBF",(function(){return p})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("dsJ7q"),u=s("gO17t"),c=s("j6c7r"),f=(s("f4h86"),s("cRlei"));function p(e,t,r){return d.apply(this,arguments)}function d(){return(d=i.default(n(o).mark((function e(t,r,i){var s,p,d,h,y,v;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,l.parseUrl)(t),p=a.default({},i),d=f.default.from(r),h=!d.quantizationParameters,e.next=6,(0,c.executeQueryPBF)(s,d,new(0,u.JSONFeatureSetParserContext)({sourceSpatialReference:d.sourceSpatialReference,applyTransform:h}),p);case 6:return y=e.sent,v=y.data,e.abrupt("return",v);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),s.register("gO17t",(function(t,r){e(t.exports,"JSONFeatureSetParserContext",(function(){return m})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("ifq4M"),o=s("dMFG2"),l=s("7qybv"),u=s("bRuRM"),c=s("akQYU");function f(e,t){return t}function p(e,t,r,n){switch(r){case 0:return v(e,t+n,0);case 1:return"lowerLeft"===e.originPosition?v(e,t+n,1):(a=t+n,o=1,s=(i=e).translate,l=i.scale,s[o]-a*l[o])}var i,a,o,s,l}function d(e,t,r,n){return 2===r?v(e,t,2):p(e,t,r,n)}function h(e,t,r,n){return 2===r?v(e,t,3):p(e,t,r,n)}function y(e,t,r,n){return 3===r?v(e,t,3):d(e,t,r,n)}function v(e,t,r){var n=e.translate,i=e.scale;return n[r]+t*i[r]}var m=function(){"use strict";function e(t){n.default(this,e),this.options=t,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this.previousCoordinate=[0,0],this.transform=null,this.applyTransform=f,this.lengths=[],this.currentLengthIndex=0,this.toAddInCurrentPath=0,this.vertexDimension=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,this._attributesConstructor=function(){}}return i.default(e,[{key:"createFeatureResult",value:function(){return{fields:[],features:[]}}},{key:"finishFeatureResult",value:function(e){if(this.options.applyTransform&&(e.transform=null),this._attributesConstructor=function(){},this.coordinateBuffer=null,this.lengths.length=0,e.hasZ){var t=(0,u.getGeometryZScaler)(e.geometryType,this.options.sourceSpatialReference,e.spatialReference),r=!0,n=!1,i=void 0;if(!(0,l.isNone)(t))try{for(var a,o=e.features[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){t(a.value.geometry)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}}},{key:"createSpatialReference",value:function(){return{}}},{key:"addField",value:function(e,t){e.fields.push(t);var r=e.fields.map((function(e){return e.name}));this._attributesConstructor=function(){var e=!0,t=!1,n=void 0;try{for(var i,a=r[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){this[i.value]=null}}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}}}},{key:"addFeature",value:function(e,t){e.features.push(t)}},{key:"prepareFeatures",value:function(e){switch(this.transform=e.transform,this.options.applyTransform&&e.transform&&(this.applyTransform=this._deriveApplyTransform(e)),this.vertexDimension=2,e.hasZ&&this.vertexDimension++,e.hasM&&this.vertexDimension++,e.geometryType){case"esriGeometryPoint":var t=this;this.addCoordinate=function(e,r,n){return t.addCoordinatePoint(e,r,n)},this.createGeometry=function(e){return t.createPointGeometry(e)};break;case"esriGeometryPolygon":var r=this;this.addCoordinate=function(e,t,n){return r._addCoordinatePolygon(e,t,n)},this.createGeometry=function(e){return r._createPolygonGeometry(e)};break;case"esriGeometryPolyline":var n=this;this.addCoordinate=function(e,t,r){return n._addCoordinatePolyline(e,t,r)},this.createGeometry=function(e){return n._createPolylineGeometry(e)};break;case"esriGeometryMultipoint":var i=this;this.addCoordinate=function(e,t,r){return i._addCoordinateMultipoint(e,t,r)},this.createGeometry=function(e){return i._createMultipointGeometry(e)};break;default:(0,o.neverReached)(e.geometryType)}}},{key:"createFeature",value:function(){return this.lengths.length=0,this.currentLengthIndex=0,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,{attributes:new this._attributesConstructor}}},{key:"allocateCoordinates",value:function(){}},{key:"addLength",value:function(e,t,r){0===this.lengths.length&&(this.toAddInCurrentPath=t),this.lengths.push(t)}},{key:"addQueryGeometry",value:function(e,t){var r=t.queryGeometry,n=t.queryGeometryType,i=(0,c.unquantizeOptimizedGeometry)(r.clone(),r,!1,!1,this.transform),o=(0,c.convertToGeometry)(i,n,!1,!1);e.queryGeometryType=n,e.queryGeometry=a.default({},o)}},{key:"createPointGeometry",value:function(e){var t={x:0,y:0,spatialReference:e.spatialReference};return e.hasZ&&(t.z=0),e.hasM&&(t.m=0),t}},{key:"addCoordinatePoint",value:function(e,t,r){switch(t=this.applyTransform(this.transform,t,r,0),r){case 0:e.x=t;break;case 1:e.y=t;break;case 2:"z"in e?e.z=t:e.m=t;break;case 3:e.m=t}}},{key:"_transformPathLikeValue",value:function(e,t){var r=0;return t<=1&&(r=this.previousCoordinate[t],this.previousCoordinate[t]+=e),this.applyTransform(this.transform,e,t,r)}},{key:"_addCoordinatePolyline",value:function(e,t,r){this._dehydratedAddPointsCoordinate(e.paths,t,r)}},{key:"_addCoordinatePolygon",value:function(e,t,r){this._dehydratedAddPointsCoordinate(e.rings,t,r)}},{key:"_addCoordinateMultipoint",value:function(e,t,r){0===r&&e.points.push([]);var n=this._transformPathLikeValue(t,r);e.points[e.points.length-1].push(n)}},{key:"_createPolygonGeometry",value:function(e){return{rings:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}},{key:"_createPolylineGeometry",value:function(e){return{paths:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}},{key:"_createMultipointGeometry",value:function(e){return{points:[],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}},{key:"_dehydratedAddPointsCoordinate",value:function(e,t,r){0===r&&0==this.toAddInCurrentPath--&&(e.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);var n=this._transformPathLikeValue(t,r),i=e[e.length-1];0===r&&(this.coordinateBufferPtr=0,this.coordinateBuffer=new Array(this.vertexDimension),i.push(this.coordinateBuffer)),this.coordinateBuffer[this.coordinateBufferPtr++]=n}},{key:"_deriveApplyTransform",value:function(e){var t=e.hasZ,r=e.hasM;return t&&r?y:t?d:r?h:p}}]),e}()})),s.register("akQYU",(function(t,r){e(t.exports,"quantizeX",(function(){return w})),e(t.exports,"quantizeY",(function(){return x})),e(t.exports,"convertToPoint",(function(){return T})),e(t.exports,"convertToMultipoint",(function(){return F})),e(t.exports,"convertToPolyline",(function(){return U})),e(t.exports,"convertFromPolyline",(function(){return B})),e(t.exports,"convertToPolygon",(function(){return H})),e(t.exports,"convertFromPolygon",(function(){return W})),e(t.exports,"convertFromNestedArray",(function(){return G})),e(t.exports,"convertFromFeature",(function(){return X})),e(t.exports,"convertFromFeatures",(function(){return K})),e(t.exports,"convertFromGraphics",(function(){return $})),e(t.exports,"convertToFeature",(function(){return Y})),e(t.exports,"convertFromGeometry",(function(){return Z})),e(t.exports,"convertToGeometry",(function(){return Q})),e(t.exports,"convertToFeatureSet",(function(){return te})),e(t.exports,"convertFromFeatureSet",(function(){return re})),e(t.exports,"unquantizeOptimizedFeatureSet",(function(){return ne})),e(t.exports,"unquantizeOptimizedGeometry",(function(){return ce})),e(t.exports,"quantizeOptimizedFeatureSet",(function(){return ie})),e(t.exports,"quantizeOptimizedGeometry",(function(){return ae})),e(t.exports,"generalizeOptimizedGeometry",(function(){return oe})),e(t.exports,"getBoundsOptimizedGeometry",(function(){return ue})),e(t.exports,"removeZMValues",(function(){return fe})),e(t.exports,"getQuantizedArea",(function(){return de})),e(t.exports,"deltaDecodeGeometry",(function(){return he})),s("8TSCy");var n=s("iCnzh"),i=s("5Vgx8"),a=s("kyj08"),o=s("jHOLN"),l=s("7qybv"),u=s("79LpT"),c=s("ft2bT"),f=s("awJRz"),p=s("awxBI");function d(e,t){return e?t?4:3:t?3:2}var h=o.default.getLogger("esri.layers.graphics.featureConversionUtils"),y={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},v=function(e,t,r,n,i,a){e[r]=i,e[r+1]=a},m=function(e,t,r,n,i,a){e[r]=i,e[r+1]=a,e[r+2]=t[n+2]},g=function(e,t,r,n,i,a){e[r]=i,e[r+1]=a,e[r+2]=t[n+3]},b=function(e,t,r,n,i,a){e[r]=i,e[r+1]=a,e[r+2]=t[n+2],e[r+3]=t[n+3]};function _(e,t,r,n){if(e){if(r)return t&&n?b:m;if(t&&n)return g}else if(t&&n)return m;return v}function w(e,t){var r=e.scale,n=e.translate;return Math.round((t-n[0])/r[0])}function x(e,t){var r=e.scale,n=e.translate;return Math.round((n[1]-t)/r[1])}function S(e,t){var r=e.scale,n=e.translate;return t*r[0]+n[0]}function k(e,t){var r=e.scale;return e.translate[1]-t*r[1]}function T(e,t,r){return e?t?r?M(e):C(e):r?L(e):E(e):null}function E(e){var t=e.coords;return{x:t[0],y:t[1]}}function I(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function C(e){var t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function O(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function L(e){var t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function A(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function M(e){var t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function N(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function R(e,t){return e&&t?N:e?O:t?A:I}function P(e,t,r,n,i){var a=R(r,n),o=!0,s=!1,l=void 0;try{for(var u,f=t[Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var d=u.value,h=d.geometry,y=d.attributes,v=void 0;h&&(v=a(new(0,p.default),h)),e.push(new(0,c.OptimizedFeature)(v,y,null,y[i]))}}catch(e){s=!0,l=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw l}}return e}function F(e,t,r){if((0,l.isNone)(e))return null;for(var n=d(t,r),i=[],a=0;a<e.coords.length;a+=n){for(var o=[],s=0;s<n;s++)o.push(e.coords[a+s]);i.push(o)}return t?r?{points:i,hasZ:t,hasM:r}:{points:i,hasZ:t}:r?{points:i,hasM:r}:{points:i}}function j(e,t,r,n,i){var a=d(r,n),o=!0,s=!1,l=void 0;try{for(var u,f=t[Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var h=u.value,y=h.geometry,v=h.attributes,m=void 0;y&&(m=D(new(0,p.default),y,a)),e.push(new(0,c.OptimizedFeature)(m,v,null,v[i]))}}catch(e){s=!0,l=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw l}}return e}function D(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d(t.hasZ,t.hasM);e.lengths[0]=t.points.length;var n=e.coords,i=0,a=!0,o=!1,s=void 0;try{for(var l,u=t.points[Symbol.iterator]();!(a=(l=u.next()).done);a=!0)for(var c=l.value,f=0;f<r;f++)n[i++]=c[f]}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return e}function U(e,t,r){if(!e)return null;var n=d(t,r),i=e.coords,a=e.lengths,o=[],s=0,l=!0,u=!1,c=void 0;try{for(var f,p=a[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){for(var h=f.value,y=[],v=0;v<h;v++){for(var m=[],g=0;g<n;g++)m.push(i[s++]);y.push(m)}o.push(y)}}catch(e){u=!0,c=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}return t?r?{paths:o,hasZ:t,hasM:r}:{paths:o,hasZ:t}:r?{paths:o,hasM:r}:{paths:o}}function V(e,t,r,n,i){var a=d(r,n),o=!0,s=!1,l=void 0;try{for(var u,f=t[Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var h=u.value,y=h.geometry,v=h.attributes,m=void 0;y&&(m=B(new(0,p.default),y,a)),e.push(new(0,c.OptimizedFeature)(m,v,null,v[i]))}}catch(e){s=!0,l=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw l}}return e}function B(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d(t.hasZ,t.hasM),n=e.lengths,i=e.coords,a=0,o=!0,s=!1,l=void 0;try{for(var u,c=t.paths[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value,p=!0,h=!1,y=void 0;try{for(var v,m=f[Symbol.iterator]();!(p=(v=m.next()).done);p=!0)for(var g=v.value,b=0;b<r;b++)i[a++]=g[b]}catch(e){h=!0,y=e}finally{try{p||null==m.return||m.return()}finally{if(h)throw y}}n.push(f.length)}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}return e}function H(e,t,r){if(!e)return null;var n=d(t,r),i=e.coords,a=e.lengths,o=[],s=0,l=!0,u=!1,c=void 0;try{for(var f,p=a[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){for(var h=f.value,y=[],v=0;v<h;v++){for(var m=[],g=0;g<n;g++)m.push(i[s++]);y.push(m)}o.push(y)}}catch(e){u=!0,c=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}return t?r?{rings:o,hasZ:t,hasM:r}:{rings:o,hasZ:t}:r?{rings:o,hasM:r}:{rings:o}}function z(e,t,r,n,i){var a=!0,o=!1,s=void 0;try{for(var u,f=t[Symbol.iterator]();!(a=(u=f.next()).done);a=!0){var d=u.value,h=d.geometry,y=d.centroid,v=d.attributes,m=void 0;h&&(m=W(new(0,p.default),h,r,n)),(0,l.isSome)(y)?e.push(new(0,c.OptimizedFeature)(m,v,I(new(0,p.default),y),v[i])):e.push(new(0,c.OptimizedFeature)(m,v,null,v[i]))}}catch(e){o=!0,s=e}finally{try{a||null==f.return||f.return()}finally{if(o)throw s}}return e}function W(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.hasZ,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.hasM;return G(e,t.rings,r,n),e}function G(e,t,r,n){var i=d(r,n),a=e.lengths,o=e.coords,s=0;a.length=o.length=0;var l=!0,u=!1,c=void 0;try{for(var f,p=t[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value,y=!0,v=!1,m=void 0;try{for(var g,b=h[Symbol.iterator]();!(y=(g=b.next()).done);y=!0)for(var _=g.value,w=0;w<i;w++)o[s++]=_[w]}catch(e){v=!0,m=e}finally{try{y||null==b.return||b.return()}finally{if(v)throw m}}a.push(h.length)}}catch(e){u=!0,c=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}return e}var J=[],q=[];function X(e,t,r,i,a){J[0]=e;var o=n.default(K(q,J,t,r,i,a),1)[0];return J.length=q.length=0,o}function K(e,t,r,n,i,o){if(e.length=0,!r){var s=!0,l=!1,u=void 0;try{for(var f,p=t[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var d=f.value,y=d.attributes[o];e.push(new(0,c.OptimizedFeature)(null,d.attributes,null,y))}}catch(e){l=!0,u=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw u}}return e}switch(r){case"esriGeometryPoint":return P(e,t,n,i,o);case"esriGeometryMultipoint":return j(e,t,n,i,o);case"esriGeometryPolyline":return V(e,t,n,i,o);case"esriGeometryPolygon":return z(e,t,n,i,o);default:h.error("convertToFeatureSet:unknown-geometry",new(0,a.default)("Unable to parse unknown geometry type '".concat(r,"'"))),e.length=0}return e}function $(e,t,r,n,i,o){var s=e.length;switch(r){case"esriGeometryPoint":P(e,t,n,i,o);break;case"esriGeometryMultipoint":j(e,t,n,i,o);break;case"esriGeometryPolyline":V(e,t,n,i,o);break;case"esriGeometryPolygon":z(e,t,n,i,o);break;default:h.error("convertToFeatureSet:unknown-geometry",new(0,a.default)("Unable to parse unknown geometry type '".concat(r,"'")))}for(var l=0;l<t.length;l++)e[l+s].geometryType=r,e[l+s].insertAfter=t[l].insertAfter,e[l+s].groupId=t[l].groupId;return e}function Y(e,t,r,n){q[0]=e,ee(J,q,t,r,n);var i=J[0];return J.length=q.length=0,i}function Z(e,t,r){if((0,l.isNone)(e))return null;var n=new(0,p.default);return"hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==r&&(r=e.hasM),(0,u.isPoint)(e)?R(null!=t?t:null!=e.z,null!=r?r:null!=e.m)(n,e):(0,u.isPolygon)(e)?W(n,e,t,r):(0,u.isPolyline)(e)?B(n,e,d(t,r)):(0,u.isMultipoint)(e)?D(n,e,d(t,r)):void h.error("convertFromGeometry:unknown-geometry",new(0,a.default)("Unable to parse unknown geometry type '".concat(e,"'")))}function Q(e,t,r,n){var i=e&&("coords"in e?e:e.geometry);if((0,l.isNone)(i))return null;switch(t){case"esriGeometryPoint":var o=E;return r&&n?o=M:r?o=C:n&&(o=L),o(i);case"esriGeometryMultipoint":return F(i,r,n);case"esriGeometryPolyline":return U(i,r,n);case"esriGeometryPolygon":return H(i,r,n);default:return void h.error("convertToGeometry:unknown-geometry",new(0,a.default)("Unable to parse unknown geometry type '".concat(t,"'")))}}function ee(e,t,r,n,i){if(e.length=0,(0,l.isNone)(r))return function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;e.push({attributes:s.attributes})}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return e}(e,t);switch(r){case"esriGeometryPoint":return function(e,t,r,n){var i=E;r&&n?i=M:r?i=C:n&&(i=L);var a=!0,o=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value,p=f.geometry,d=f.attributes,h=(0,l.isSome)(p)?i(p):null;e.push({attributes:d,geometry:h})}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return e}(e,t,n,i);case"esriGeometryMultipoint":return function(e,t,r,n){var i=!0,a=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=u.geometry,f=u.attributes,p=void 0;c&&(p=F(c,r,n)),e.push({attributes:f,geometry:p})}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return e}(e,t,n,i);case"esriGeometryPolyline":return function(e,t,r,n){var i=!0,a=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,f=c.geometry,p=c.attributes,d=void 0;(0,l.isSome)(f)&&(d=U(f,r,n)),e.push({attributes:p,geometry:d})}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return e}(e,t,n,i);case"esriGeometryPolygon":return function(e,t,r,n){var i=!0,a=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,f=c.geometry,p=c.attributes,d=c.centroid,h=void 0;if((0,l.isSome)(f)&&(h=H(f,r,n)),(0,l.isSome)(d)){var y=E(d);e.push({attributes:p,centroid:y,geometry:h})}else e.push({attributes:p,geometry:h})}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return e}(e,t,n,i);default:h.error("convertToFeatureSet:unknown-geometry",new(0,a.default)("Unable to parse unknown geometry type '".concat(r,"'")))}return e}function te(e){var t=e.objectIdFieldName,r=e.spatialReference,n=e.transform,i=e.fields,a=e.hasM,o=e.hasZ,s=e.features,l=e.geometryType,u=e.exceededTransferLimit,c=e.uniqueIdField,f=e.queryGeometry,p=e.queryGeometryType,d={features:ee([],s,l,o,a),fields:i,geometryType:l,objectIdFieldName:t,spatialReference:r,uniqueIdField:c,queryGeometry:Q(f,p,!1,!1)};return n&&(d.transform=n),u&&(d.exceededTransferLimit=u),a&&(d.hasM=a),o&&(d.hasZ=o),d}function re(e,t){var r=new(0,f.default),n=e.hasM,i=e.hasZ,o=e.features,s=e.objectIdFieldName,l=e.spatialReference,u=e.geometryType,c=e.exceededTransferLimit,p=e.transform,d=e.fields;return d&&(r.fields=d),r.geometryType=u,r.objectIdFieldName=s||t,r.spatialReference=l,r.objectIdFieldName?(o&&K(r.features,o,u,i,n,r.objectIdFieldName),c&&(r.exceededTransferLimit=c),n&&(r.hasM=n),i&&(r.hasZ=i),p&&(r.transform=p),r):(h.error(new(0,a.default)("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),r)}function ne(e){var t=e.transform,r=e.features,n=e.hasM,i=e.hasZ;if(!t)return e;var a=!0,o=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;(0,l.isSome)(f.geometry)&&ce(f.geometry,f.geometry,n,i,t),(0,l.isSome)(f.centroid)&&ce(f.centroid,f.centroid,n,i,t)}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return e.transform=null,e}function ie(e,t){var r=t.geometryType,n=t.features,i=t.hasM,a=t.hasZ;if(!e)return t;for(var o=0;o<n.length;o++){var s=n[o],l=s.weakClone();l.geometry=new(0,p.default),ae(l.geometry,s.geometry,i,a,r,e),s.centroid&&(l.centroid=new(0,p.default),ae(l.centroid,s.centroid,i,a,"esriGeometryPoint",e)),n[o]=l}return t.transform=e,t}function ae(e,t,r,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:r,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:n;if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),(0,l.isNone)(t)||!t.coords.length)return null;var u=y[i],c=t.coords,f=t.lengths,p=d(r,n),h=d(r&&o,n&&s),v=_(r,n,o,s);if(!f.length)return v(e.coords,c,0,0,w(a,c[0]),x(a,c[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=p,e;var m,g,b,S,k=0,T=0,E=T,I=!0,C=!1,O=void 0;try{for(var L,A=f[Symbol.iterator]();!(I=(L=A.next()).done);I=!0){var M=L.value;if(!(M<u)){var N=0;T=E,b=m=w(a,c[k]),S=g=x(a,c[k+1]),v(e.coords,c,T,k,b,S),N++,k+=p,T+=h;for(var R=1;R<M;R++,k+=p)b=w(a,c[k]),S=x(a,c[k+1]),b===m&&S===g||(v(e.coords,c,T,k,b-m,S-g),T+=h,N++,m=b,g=S);N>=u&&(e.lengths.push(N),E=T)}}}catch(e){C=!0,O=e}finally{try{I||null==A.return||A.return()}finally{if(C)throw O}}return e.coords.length=E,e.coords.length?e:null}function oe(e,t,r,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:r,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:n;if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;var l=y[i],u=t.coords,c=t.lengths,f=d(r,n),p=d(r&&o,n&&s),h=_(r,n,o,s);if(!c.length)return h(e.coords,u,0,0,u[0],u[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=f,e;var v=0,m=a*a,g=!0,b=!1,w=void 0;try{for(var x,S=c[Symbol.iterator]();!(g=(x=S.next()).done);g=!0){var k=x.value;if(k<l)v+=k*f;else{var T=e.coords.length/p,E=v,I=v+(k-1)*f;h(e.coords,u,e.coords.length,E,u[E],u[E+1]),le(e.coords,u,f,m,h,E,I),h(e.coords,u,e.coords.length,I,u[I],u[I+1]);var C=e.coords.length/p-T;C>=l?e.lengths.push(C):e.coords.length=T*p,v+=k*f}}}catch(e){b=!0,w=e}finally{try{g||null==S.return||S.return()}finally{if(b)throw w}}return e.coords.length?e:null}function se(e,t,r,n){var i=e[t],a=e[t+1],o=e[r],s=e[r+1],l=e[n],u=e[n+1],c=o,f=s,p=l-c,d=u-f;if(0!==p||0!==d){var h=((i-c)*p+(a-f)*d)/(p*p+d*d);h>1?(c=l,f=u):h>0&&(c+=p*h,f+=d*h)}return(p=i-c)*p+(d=a-f)*d}function le(e,t,r,n,i,a,o){for(var s,l=n,u=0,c=a+r;c<o;c+=r)(s=se(t,c,a,o))>l&&(u=c,l=s);l>n&&(u-a>r&&le(e,t,r,n,i,a,u),i(e,t,e.length,u,t[u],t[u+1]),o-u>r&&le(e,t,r,n,i,u,o))}function ue(e,t,r,n){if((0,l.isNone)(t)||!t.coords||!t.coords.length)return null;var i=d(r,n),a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;if(t&&t.coords)for(var c=t.coords,f=0;f<c.length;f+=i){var p=c[f],h=c[f+1];a=Math.min(a,p),s=Math.max(s,p),o=Math.min(o,h),u=Math.max(u,h)}return e[0]=a,e[1]=o,e[2]=s,e[3]=u,e}function ce(e,t,r,i,a){var o=t.coords,s=t.lengths,l=r?i?b:m:i?m:v,u=d(r,i);if(!o.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!s.length)return l(e.coords,o,0,0,S(a,o[0]),k(a,o[1])),e!==t&&(e.lengths.length=0,e.coords.length=u),e;for(var c=n.default(a.scale,2),f=c[0],p=c[1],h=0,y=0;y<s.length;y++){var g=s[y];e.lengths[y]=g;var _=S(a,o[h]),w=k(a,o[h+1]);l(e.coords,o,h,h,_,w),h+=u;for(var x=1;x<g;x++,h+=u)_+=o[h]*f,w-=o[h+1]*p,l(e.coords,o,h,h,_,w)}return e!==t&&(e.lengths.length=s.length,e.coords.length=o.length),e}function fe(e,t,r,n,a,o){var s,l=d(r,n),u=_(r,n,a,o),c=t.coords;e.coords.length=0,e.lengths.length=0,(s=e.lengths).push.apply(s,i.default(t.lengths));for(var f=0;f<c.length;f+=l)u(e.coords,c,e.coords.length,f,c[f],c[f+1]);return e}function pe(e,t,r,n){for(var i=0,a=e[n*t],o=e[n*(t+1)],s=1;s<r;s++){var l=a+e[n*(t+s)],u=o+e[n*(t+s)+1],c=(l-a)*(u+o);a=l,o=u,i+=c}return.5*i}function de(e,t){for(var r=e.coords,n=e.lengths,i=0,a=0,o=0;o<n.length;o++)a+=pe(r,i,n[o],t),i+=o;return Math.abs(a)}function he(e,t){if((0,l.isNone)(e))return null;for(var r=e.clone(),n=e.coords,i=e.lengths,a=0,o=0;o<i.length;o++){for(var s=i[o],u=n[t*a],c=n[t*a+1],f=1;f<s;f++){var p=u+n[t*(a+f)],d=c+n[t*(a+f)+1];r.coords[t*(a+f)]=p,r.coords[t*(a+f)+1]=d,u=p,c=d}a+=s}return r}})),s.register("eKCA3",(function(t,r){e(t.exports,"executeRelationshipQuery",(function(){return p})),e(t.exports,"executeRelationshipQueryForCount",(function(){return h})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("dsJ7q"),u=s("40Ehj"),c=s("f4h86"),f=s("8g8vH");function p(e,t,r){return d.apply(this,arguments)}function d(){return(d=i.default(n(o).mark((function e(t,r,i){var a;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.default.from(r),a=(0,l.parseUrl)(t),e.abrupt("return",(0,u.executeRelationshipQuery)(a,r,i).then((function(e){var t=e.data,r={};return Object.keys(t).forEach((function(e){return r[e]=c.default.fromJSON(t[e])})),r})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,r){return y.apply(this,arguments)}function y(){return(y=i.default(n(o).mark((function e(t,r,i){var s;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.default.from(r),s=(0,l.parseUrl)(t),e.abrupt("return",(0,u.executeRelationshipQueryForCount)(s,r,a.default({},i)).then((function(e){return e.data})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),s.register("40Ehj",(function(t,r){e(t.exports,"executeRelationshipQuery",(function(){return f})),e(t.exports,"executeRelationshipQueryForCount",(function(){return d})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("9pNSx"),u=s("bPDFo");function c(e,t){var r=e.toJSON();return r.objectIds&&(r.objectIds=r.objectIds.join(",")),r.orderByFields&&(r.orderByFields=r.orderByFields.join(",")),!r.outFields||null!=t&&t.returnCountOnly?delete r.outFields:-1!==r.outFields.indexOf("*")?r.outFields="*":r.outFields=r.outFields.join(","),r.outSpatialReference&&(r.outSR=r.outSR.wkid||JSON.stringify(r.outSR.toJSON()),delete r.outSpatialReference),r.dynamicDataSource&&(r.layer=JSON.stringify({source:r.dynamicDataSource}),delete r.dynamicDataSource),r}function f(e,t,r){return p.apply(this,arguments)}function p(){return(p=i.default(n(o).mark((function e(t,r,i){var s,l,u,c,f,p,d,h,v,m,g,b,_;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t,r,i);case 2:for(s=e.sent,l=s.data,u=l.geometryType,c=l.spatialReference,f={},p=!0,d=!1,h=void 0,e.prev=8,v=l.relatedRecordGroups[Symbol.iterator]();!(p=(m=v.next()).done);p=!0)if(g=m.value,b={fields:void 0,objectIdFieldName:void 0,geometryType:u,spatialReference:c,hasZ:!!l.hasZ,hasM:!!l.hasM,features:g.relatedRecords},null!=g.objectId)f[g.objectId]=b;else for(_ in g)g.hasOwnProperty(_)&&"relatedRecords"!==_&&(f[g[_]]=b);e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),d=!0,h=e.t0;case 16:e.prev=16,e.prev=17,p||null==v.return||v.return();case 19:if(e.prev=19,!d){e.next=22;break}throw h;case 22:return e.finish(19);case 23:return e.finish(16);case 24:return e.abrupt("return",a.default({},s,{data:f}));case 25:case"end":return e.stop()}}),e,null,[[8,12,16,24],[17,,19,23]])})))).apply(this,arguments)}function d(e,t,r){return h.apply(this,arguments)}function h(){return(h=i.default(n(o).mark((function e(t,r,i){var s,l,u,c,f,p,d,h,v;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t,r,i,{returnCountOnly:!0});case 2:for(s=e.sent,l=s.data,u={},c=!0,f=!1,p=void 0,e.prev=6,d=l.relatedRecordGroups[Symbol.iterator]();!(c=(h=d.next()).done);c=!0)null!=(v=h.value).objectId&&(u[v.objectId]=v.count);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),f=!0,p=e.t0;case 14:e.prev=14,e.prev=15,c||null==d.return||d.return();case 17:if(e.prev=17,!f){e.next=20;break}throw p;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return e.abrupt("return",a.default({},s,{data:u}));case 23:case"end":return e.stop()}}),e,null,[[6,10,14,22],[15,,17,21]])})))).apply(this,arguments)}function y(e,t){return v.apply(this,arguments)}function v(){return v=i.default(n(o).mark((function e(t,r){var i,s,f,p=arguments;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=p.length>2&&void 0!==p[2]?p[2]:{},s=p.length>3?p[3]:void 0,f=(0,u.mapParameters)(a.default({},t.query,{f:"json"},s,c(r,s))),e.abrupt("return",(0,l.default)(t.path+"/queryRelatedRecords",a.default({},i,{query:a.default({},i.query,f)})));case 3:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}})),s.register("jUdRy",(function(t,r){e(t.exports,"executeTopFeaturesQuery",(function(){return p})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("dsJ7q"),u=s("6zkYf"),c=s("f4h86"),f=s("7D30I");function p(e,t,r,n){return d.apply(this,arguments)}function d(){return(d=i.default(n(o).mark((function e(t,r,i,s){var p,d,h,y;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=(0,l.parseUrl)(t),d=a.default({},s),e.next=4,(0,u.executeTopFeaturesQuery)(p,f.default.from(r),i,d);case 4:return h=e.sent,y=h.data,e.abrupt("return",c.default.fromJSON(y));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),s.register("6zkYf",(function(t,r){e(t.exports,"executeTopFeaturesQuery",(function(){return m})),e(t.exports,"executeQueryForTopIds",(function(){return b})),e(t.exports,"executeQueryForTopExtents",(function(){return w})),e(t.exports,"executeQueryForTopCount",(function(){return S})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("9pNSx"),u=s("7qybv"),c=s("kYueh"),f=s("79LpT"),p=s("5On35"),d=s("bPDFo"),h=s("4JATB"),y="Layer does not support extent calculation.";function v(e,t){var r,n,i=e.geometry,a=e.toJSON(),o=a;if((0,u.isSome)(i)&&(o.geometry=JSON.stringify(i),o.geometryType=(0,f.getJsonType)(i),o.inSR=i.spatialReference.wkid||JSON.stringify(i.spatialReference)),null!=(r=a.topFilter)&&r.groupByFields&&(o.topFilter.groupByFields=a.topFilter.groupByFields.join(",")),null!=(n=a.topFilter)&&n.orderByFields&&(o.topFilter.orderByFields=a.topFilter.orderByFields.join(",")),a.topFilter&&(o.topFilter=JSON.stringify(o.topFilter)),a.objectIds&&(o.objectIds=a.objectIds.join(",")),a.orderByFields&&(o.orderByFields=a.orderByFields.join(",")),a.outFields&&!(null!=t&&t.returnCountOnly||null!=t&&t.returnExtentOnly||null!=t&&t.returnIdsOnly)?-1!==a.outFields.indexOf("*")?o.outFields="*":o.outFields=a.outFields.join(","):delete o.outFields,a.outSR?o.outSR=a.outSR.wkid||JSON.stringify(a.outSR):i&&a.returnGeometry&&(o.outSR=o.inSR),a.returnGeometry&&delete a.returnGeometry,a.timeExtent){var s=a.timeExtent,l=s.start,c=s.end;null==l&&null==c||(o.time=l===c?l:"".concat(null==l?"null":l,",").concat(null==c?"null":c)),delete a.timeExtent}return o}function m(e,t,r,n){return g.apply(this,arguments)}function g(){return(g=i.default(n(o).mark((function e(t,r,i,a){var s;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t,r,"json",a);case 2:return s=e.sent,e.abrupt("return",((0,h.applyFeatureSetZUnitScaling)(r,i,s.data),s));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,r){return _.apply(this,arguments)}function _(){return(_=i.default(n(o).mark((function e(t,r,i){return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.isSome)(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):k(t,r,"json",i,{returnIdsOnly:!0}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,r){return x.apply(this,arguments)}function x(){return(x=i.default(n(o).mark((function e(t,r,i){return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.isSome)(r.timeExtent)&&r.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):k(t,r,"json",i,{returnExtentOnly:!0,returnCountOnly:!0}).then((function(e){var t=e.data;if(t.hasOwnProperty("extent"))return e;if(t.features)throw new Error(y);if(t.hasOwnProperty("count"))throw new Error(y);return e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,r){return(0,u.isSome)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):k(e,t,"json",r,{returnIdsOnly:!0,returnCountOnly:!0})}function k(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o="string"==typeof e?(0,c.urlToObject)(e):e,s=t.geometry?[t.geometry]:[];return n.responseType="pbf"===r?"array-buffer":"json",(0,p.normalizeCentralMeridian)(s,null,n).then((function(e){var s=e&&e[0];(0,u.isSome)(s)&&((t=t.clone()).geometry=s);var f=(0,d.mapParameters)(a.default({},o.query,{f:r},i,v(t,i)));return(0,l.default)((0,c.join)(o.path,"queryTopFeatures"),a.default({},n,{query:a.default({},f,n.query)}))}))}})),s.register("7D30I",(function(t,r){e(t.exports,"default",(function(){return E})),s("8TSCy");var n,i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("7eJjO"),f=s("2ILM8"),p=s("9DeZf"),d=s("79ASa"),h=s("1XAcN"),y=s("flPLJ"),v=s("iho5X"),m=s("iJAIC"),g=s("fcwIv"),b=s("kced1"),_=s("79LpT"),w=s("8qLZk"),x=s("j40xv"),S=new(0,d.JSONMap)({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),k=new(0,d.JSONMap)({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),T=n=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).cacheHint=void 0,n.distance=void 0,n.geometry=null,n.geometryPrecision=void 0,n.maxAllowableOffset=void 0,n.num=void 0,n.objectIds=null,n.orderByFields=null,n.outFields=null,n.outSpatialReference=null,n.resultType=null,n.returnGeometry=!1,n.returnM=void 0,n.returnZ=void 0,n.start=void 0,n.spatialRelationship="intersects",n.timeExtent=null,n.topFilter=void 0,n.units=null,n.where="1=1",l.default(n)}return u.default(r,[{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}},{key:"clone",value:function(){return new n((0,y.clone)({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}}]),r}(h.JSONSupport);(0,c._)([(0,v.property)({type:Boolean,json:{write:!0}})],T.prototype,"cacheHint",void 0),(0,c._)([(0,v.property)({type:Number,json:{write:{overridePolicy:function(e){return{enabled:e>0}}}}})],T.prototype,"distance",void 0),(0,c._)([(0,v.property)({types:f.geometryTypes,json:{read:_.fromJSON,write:!0}})],T.prototype,"geometry",void 0),(0,c._)([(0,v.property)({type:Number,json:{write:!0}})],T.prototype,"geometryPrecision",void 0),(0,c._)([(0,v.property)({type:Number,json:{write:!0}})],T.prototype,"maxAllowableOffset",void 0),(0,c._)([(0,v.property)({type:Number,json:{read:{source:"resultRecordCount"}}})],T.prototype,"num",void 0),(0,c._)([(0,v.property)({json:{write:!0}})],T.prototype,"objectIds",void 0),(0,c._)([(0,v.property)({type:[String],json:{write:!0}})],T.prototype,"orderByFields",void 0),(0,c._)([(0,v.property)({type:[String],json:{write:!0}})],T.prototype,"outFields",void 0),(0,c._)([(0,v.property)({type:x.default,json:{read:{source:"outSR"},write:{target:"outSR"}}})],T.prototype,"outSpatialReference",void 0),(0,c._)([(0,v.property)({type:String,json:{write:!0}})],T.prototype,"resultType",void 0),(0,c._)([(0,v.property)({json:{write:!0}})],T.prototype,"returnGeometry",void 0),(0,c._)([(0,v.property)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],T.prototype,"returnM",void 0),(0,c._)([(0,v.property)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],T.prototype,"returnZ",void 0),(0,c._)([(0,v.property)({type:Number,json:{read:{source:"resultOffset"}}})],T.prototype,"start",void 0),(0,c._)([(0,b.writer)("start"),(0,b.writer)("num")],T.prototype,"writeStart",null),(0,c._)([(0,v.property)({type:String,json:{read:{source:"spatialRel",reader:S.read},write:{target:"spatialRel",writer:S.write}}})],T.prototype,"spatialRelationship",void 0),(0,c._)([(0,v.property)({type:p.default,json:{write:!0}})],T.prototype,"timeExtent",void 0),(0,c._)([(0,v.property)({type:w.default,json:{write:!0}})],T.prototype,"topFilter",void 0),(0,c._)([(0,v.property)({type:String,json:{read:k.read,write:{writer:k.write,overridePolicy:function(e){return{enabled:e&&this.distance>0}}}}})],T.prototype,"units",void 0),(0,c._)([(0,v.property)({type:String,json:{write:!0}})],T.prototype,"where",void 0),(T=n=(0,c._)([(0,g.subclass)("esri.rest.support.TopFeaturesQuery")],T)).from=(0,m.ensureType)(T);var E=T})),s.register("8qLZk",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).groupByFields=void 0,n.topCount=void 0,n.orderByFields=void 0,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:[String],json:{write:!0}})],h.prototype,"groupByFields",void 0),(0,u._)([(0,f.property)({type:Number,json:{write:!0}})],h.prototype,"topCount",void 0),(0,u._)([(0,f.property)({type:[String],json:{write:!0}})],h.prototype,"orderByFields",void 0);var y=h=p=(0,u._)([(0,d.subclass)("esri.rest.support.TopFilter")],h)})),s.register("3yEtJ",(function(t,r){e(t.exports,"executeForTopIds",(function(){return f})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("dsJ7q"),u=s("6zkYf"),c=s("7D30I");function f(e,t,r){return p.apply(this,arguments)}function p(){return(p=i.default(n(o).mark((function e(t,r,i){var s;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,l.parseUrl)(t),e.next=3,(0,u.executeQueryForTopIds)(s,c.default.from(r),a.default({},i));case 3:return e.abrupt("return",e.sent.data.objectIds);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),s.register("4g04v",(function(t,r){e(t.exports,"executeForTopExtents",(function(){return p})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO");s("2ILM8");var l=s("dsJ7q"),u=s("6zkYf"),c=s("7D30I"),f=s("gINRd");function p(e,t,r){return d.apply(this,arguments)}function d(){return(d=i.default(n(o).mark((function e(t,r,i){var s,p;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,l.parseUrl)(t),e.next=3,(0,u.executeQueryForTopExtents)(s,c.default.from(r),a.default({},i));case 3:return p=e.sent,e.abrupt("return",{count:p.data.count,extent:f.default.fromJSON(p.data.extent)});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),s.register("24qsJ",(function(t,r){e(t.exports,"executeForTopCount",(function(){return f})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("dsJ7q"),u=s("6zkYf"),c=s("7D30I");function f(e,t,r){return p.apply(this,arguments)}function p(){return(p=i.default(n(o).mark((function e(t,r,i){var s;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,l.parseUrl)(t),e.next=3,(0,u.executeQueryForTopCount)(s,c.default.from(r),a.default({},i));case 3:return e.abrupt("return",e.sent.data.count);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),s.register("hAlVw",(function(t,r){e(t.exports,"default",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("bFSSc"),u=s("jK9zx"),c=s("ifq4M"),f=s("7eJjO"),p=s("jymfC"),d=s("kYueh"),h=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var y=s("fcwIv"),v=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;return a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).requestOptions=null,s.url=null,l.default(s)}return u.default(r,[{key:"normalizeCtorArgs",value:function(e,t){return"string"!=typeof e?e:c.default({url:e},t)}},{key:"parsedUrl",get:function(){return this._parseUrl(this.url)}},{key:"_parseUrl",value:function(e){return e?(0,d.urlToObject)(e):null}},{key:"_encode",value:function(e,t,r){var n={};for(var i in e)if("declaredClass"!==i){var a=e[i];if(null!=a&&"function"!=typeof a)if(Array.isArray(a)){n[i]=[];for(var o=0;o<a.length;o++)n[i][o]=this._encode(a[o])}else if("object"==typeof a)if(a.toJSON){var s=a.toJSON(r&&r[i]);n[i]=t?s:JSON.stringify(s)}else n[i]=t?a:JSON.stringify(a);else n[i]=a}return n}}]),r}(p.default);(0,f._)([(0,h.property)({readOnly:!0})],v.prototype,"parsedUrl",null),(0,f._)([(0,h.property)()],v.prototype,"requestOptions",void 0),(0,f._)([(0,h.property)({type:String})],v.prototype,"url",void 0);var m=v=(0,f._)([(0,y.subclass)("esri.tasks.Task")],v)})),s.register("cJrLr",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9f5d1")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ep82W")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("c0ZBe"))]).then((function(){return s("3EzsP")}))})),s.register("1wv2a",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jrhGB")).then((function(){return s("43zaF")}))})),s.register("5X6dU",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9SlG0")).then((function(){return s("kUvFy")}))})),s.register("i64n1",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("xpJum")).then((function(){return s("7OIhG")}))})),s.register("cnqO3",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("lC8sN")).then((function(){return s("k3R8G")}))})),s.register("4Gox6",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7gdna")).then((function(){return s("kFmw7")}))})),s.register("dlXC5",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9RtDg")).then((function(){return s("ra31k")}))})),s.register("ghZFt",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("htm2c")).then((function(){return s("adocL")}))})),s.register("5Ahsb",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("kdkgT")).then((function(){return s("e1JDo")}))})),s.register("3WxkZ",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("gQr0N")).then((function(){return s("6HRkv")}))})),s.register("c3i7U",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jEG16")).then((function(){return s("2eq3a")}))})),s.register("ajcj2",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("fVknj")).then((function(){return s("eQWPl")}))})),s.register("i46bm",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("g4V27")).then((function(){return s("dCWWY")}))})),s.register("8sgnn",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("h2kjm")).then((function(){return s("ezqSo")}))})),s.register("9Wv0J",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("kllpC")).then((function(){return s("blQsI")}))})),s.register("ghKQX",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("drbZl")).then((function(){return s("ajsDx")}))})),s.register("l1932",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("5nPd7")).then((function(){return s("9CM9H")}))})),s.register("465Mx",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jNHOp")).then((function(){return s("cqyR6")}))})),s.register("aLbjF",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2GTDy")).then((function(){return s("4gnSB")}))})),s.register("l8M3G",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("cjWDf")).then((function(){return s("az04w")}))})),s.register("cJHCj",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2uJu3")).then((function(){return s("bSPKD")}))})),s.register("g438c",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("fj9eL")).then((function(){return s("8aLkc")}))})),s.register("4pAPC",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("i1c27")).then((function(){return s("ezlnR")}))})),s.register("85ctC",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("3Lk6X")).then((function(){return s("fNqI7")}))})),s.register("gZS2x",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("6jfRU")).then((function(){return s("rmZ3l")}))})),s.register("cXU0E",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ar14b")).then((function(){return s("cCy7l")}))})),s.register("emhoz",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("kGMXn")).then((function(){return s("gydtR")}))})),s.register("aVnZ2",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8d9Uu")).then((function(){return s("eQ8oD")}))})),s.register("97z3J",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("dpZtI")).then((function(){return s("c2XqB")}))})),s.register("lQld9",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("5wR44")).then((function(){return s("iDqDV")}))})),s.register("ajbx4",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("f9y8p")).then((function(){return s("8gz31")}))})),s.register("aYbHA",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ck8HV")).then((function(){return s("8ogBW")}))})),s.register("iPyZz",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jlJHr")).then((function(){return s("9G4FB")}))})),s.register("dijL3",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2SZiy")).then((function(){return s("4QUDE")}))})),s.register("cLgLt",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4xOUv")).then((function(){return s("l9l4b")}))})),s.register("6Fck5",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("dmAj6")).then((function(){return s("eGGQH")}))})),s.register("aPjAn",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jRXuP")).then((function(){return s("bPvrA")}))})),s.register("1EHwB",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2hYhv")).then((function(){return s("lTKvY")}))})),s.register("dWSPu",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("lv2Fc")).then((function(){return s("dyZsV")}))})),s.register("dTnvf",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("imv9E")).then((function(){return s("kylta")}))})),s.register("6VWtl",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("bHZq7")).then((function(){return s("3oa7D")}))})),s.register("dcLVk",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("fgGfW")).then((function(){return s("f8bCR")}))})),s.register("hr2Ts",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("28mjO")).then((function(){return s("aIzIT")}))})),s.register("e8oaX",(function(t,r){e(t.exports,"N",(function(){return E})),e(t.exports,"I",(function(){return I})),e(t.exports,"R",(function(){return C})),e(t.exports,"S",(function(){return O})),e(t.exports,"v",(function(){return L})),e(t.exports,"m",(function(){return A})),e(t.exports,"n",(function(){return M})),e(t.exports,"M",(function(){return N})),e(t.exports,"c",(function(){return R})),e(t.exports,"y",(function(){return P})),e(t.exports,"f",(function(){return j})),e(t.exports,"j",(function(){return U})),e(t.exports,"o",(function(){return J})),e(t.exports,"i",(function(){return D})),e(t.exports,"C",(function(){return F})),e(t.exports,"B",(function(){return V})),e(t.exports,"a",(function(){return B})),e(t.exports,"k",(function(){return H})),e(t.exports,"q",(function(){return z})),e(t.exports,"r",(function(){return W})),e(t.exports,"b",(function(){return G})),e(t.exports,"p",(function(){return q})),e(t.exports,"F",(function(){return X})),e(t.exports,"O",(function(){return K})),e(t.exports,"D",(function(){return Z})),e(t.exports,"g",(function(){return ee})),e(t.exports,"t",(function(){return oe})),e(t.exports,"d",(function(){return re})),e(t.exports,"e",(function(){return te})),e(t.exports,"W",(function(){return ne})),e(t.exports,"u",(function(){return ie})),e(t.exports,"A",(function(){return se})),e(t.exports,"E",(function(){return le})),e(t.exports,"z",(function(){return ce})),e(t.exports,"s",(function(){return fe})),e(t.exports,"G",(function(){return pe})),e(t.exports,"_",(function(){return de})),e(t.exports,"$",(function(){return he})),e(t.exports,"Z",(function(){return ye})),e(t.exports,"H",(function(){return ge})),e(t.exports,"K",(function(){return _e})),e(t.exports,"J",(function(){return we})),e(t.exports,"L",(function(){return xe})),e(t.exports,"Y",(function(){return Se})),e(t.exports,"X",(function(){return Te})),e(t.exports,"h",(function(){return Ee})),e(t.exports,"w",(function(){return Ie})),e(t.exports,"x",(function(){return Oe})),e(t.exports,"T",(function(){return Le})),e(t.exports,"Q",(function(){return Ae})),e(t.exports,"U",(function(){return Me})),e(t.exports,"V",(function(){return Ne})),e(t.exports,"P",(function(){return Re})),e(t.exports,"l",(function(){return Pe})),s("8TSCy");var n=s("f9pi5"),i=s("1xq6U"),a=s("4aVVd"),o=s("afhHk"),l=s("baXxs"),u=s("10vEZ"),c=s("gINRd"),f=s("Pe3X5"),p=s("eaHvJ"),d=s("d1Fqh"),h=s("fTq43"),y=s("95Tg0"),v=s("abR4U"),m=s("7qybv"),g=s("3MoeD"),b=s("exxMy"),_=s("86CDN"),w=s("9yzf5"),x=function e(t){"use strict";n.default(this,e),this.value=t},S=function e(t){"use strict";n.default(this,e),this.value=t},k=function e(t){"use strict";n.default(this,e),this.fn=t},T=function e(t,r){"use strict";n.default(this,e),this.paramCount=r,this.fn=t},E=k,I=S,C=x,O=T,L={type:"VOID"},A={type:"BREAK"},M={type:"CONTINUE"};function N(e,t,r){return""===t||null==t||t===r||t===r?e:e=e.split(t).join(r)}function R(e){return e instanceof k||e instanceof i.default||e instanceof T}function P(e){return!!(j(e)||U(e)||J(e)||D(e)||null===e||e===L||"number"==typeof e)}function F(e,t){return void 0===e?t:e}function j(e){return"string"==typeof e||e instanceof String}function D(e){return"boolean"==typeof e}function U(e){return"number"==typeof e}function V(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function B(e){return e instanceof Array}function H(e){return"esri.arcade.Feature"===(null==e?void 0:e.arcadeDeclaredClass)}function z(e){return!0===(e&&e.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===e.declaredRootClass)}function W(e){return!0===(e&&e.declaredRootClass&&"esri.arcade.featureSetCollection"===e.declaredRootClass)}function G(e){return e instanceof a.default}function J(e){return e instanceof Date}function q(e,t,r){if(e.length<t||e.length>r)throw new Error("Function called with wrong number of Parameters")}function X(e){return e<0?-Math.round(-e):Math.round(e)}function K(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))}function $(e,t){return!1===isNaN(e)?null==t||""===t?e.toString():(t=N(t,"â°",""),t=N(t,"Â¤",""),(0,g.format)(e,{pattern:t})):e.toString()}function Y(e,t){var r=v.DateTime.fromJSDate(e);return null==t||""===t?r.toISO({suppressMilliseconds:!0}):r.toFormat(Z(t),{locale:(0,_.getLocale)(),numberingSystem:"latn"})}function Z(e){e=e.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");var t="",r=!0,n=!1,i=void 0;try{for(var a,o=e.match(/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g)[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;switch(s){case"D":t+="d";break;case"DD":t+="dd";break;case"DDD":t+="o";break;case"d":t+="c";break;case"ddd":t+="ccc";break;case"dddd":t+="cccc";break;case"M":t+="L";break;case"MM":t+="LL";break;case"MMM":t+="LLL";break;case"MMMM":t+="LLLL";break;case"YY":t+="yy";break;case"Y":case"YYYY":t+="yyyy";break;case"Q":t+="q";break;case"Z":t+="ZZ";break;case"ZZ":t+="ZZZ";break;case"S":t+="'S'";break;case"SS":t+="'SS'";break;case"SSS":t+="u";break;case"A":case"a":t+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":t+=s;break;default:s.length>=2&&"["===s.slice(0,1)&&"]"===s.slice(-1)?t+="'".concat(s.slice(1,-1),"'"):t+="'".concat(s,"'")}}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}function Q(e,t,r){switch(r){case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}return!1}function ee(e,t,r){if(null===e){if(null===t||t===L)return Q(null,null,r);if(U(t))return Q(0,t,r);if(j(t))return Q(0,oe(t),r);if(D(t))return Q(0,oe(t),r);if(J(t))return Q(0,t.getTime(),r)}if(e===L){if(null===t||t===L)return Q(null,null,r);if(U(t))return Q(0,t,r);if(j(t))return Q(0,oe(t),r);if(D(t))return Q(0,oe(t),r);if(J(t))return Q(0,t.getTime(),r)}else if(U(e)){if(U(t))return Q(e,t,r);if(D(t))return Q(e,oe(t),r);if(null===t||t===L)return Q(e,0,r);if(j(t))return Q(e,oe(t),r);if(J(t))return Q(e,t.getTime(),r)}else if(j(e)){if(j(t))return Q(re(e),re(t),r);if(J(t))return Q(oe(e),t.getTime(),r);if(U(t))return Q(oe(e),t,r);if(null===t||t===L)return Q(oe(e),0,r);if(D(t))return Q(oe(e),oe(t),r)}else if(J(e)){if(J(t))return Q(e,t,r);if(null===t||t===L)return Q(e.getTime(),0,r);if(U(t))return Q(e.getTime(),t,r);if(D(t))return Q(e.getTime(),oe(t),r);if(j(t))return Q(e.getTime(),oe(t),r)}else if(D(e)){if(D(t))return Q(e,t,r);if(U(t))return Q(oe(e),oe(t),r);if(J(t))return Q(oe(e),t.getTime(),r);if(null===t||t===L)return Q(oe(e),0,r);if(j(t))return Q(oe(e),oe(t),r)}return!!te(e,t)&&("<="===r||">="===r)}function te(e,t){if(e===t)return!0;if(null===e&&t===L||null===t&&e===L)return!0;if(J(e)&&J(t))return e.getTime()===t.getTime();if(e instanceof o.default)return e.equalityTest(t);if(e instanceof l.default)return e.equalityTest(t);if(e instanceof d.default&&t instanceof d.default){var r=e.cache._arcadeCacheId,n=t.cache._arcadeCacheId;if(null!=r)return r===n}if(void 0!==e&&void 0!==t&&null!==e&&null!==t&&"object"==typeof e&&"object"==typeof t){if(e._arcadeCacheId===t._arcadeCacheId&&void 0!==e._arcadeCacheId&&null!==e._arcadeCacheId)return!0;if(e._underlyingGraphic===t._underlyingGraphic&&void 0!==e._underlyingGraphic&&null!==e._underlyingGraphic)return!0}return!1}function re(e,t){if(j(e))return e;if(null===e)return"";if(U(e))return $(e,t);if(D(e))return e.toString();if(J(e))return Y(e,t);if(e instanceof f.default)return JSON.stringify(e.toJSON());if(B(e)){for(var r=[],n=0;n<e.length;n++)r[n]=ae(e[n]);return"["+r.join(",")+"]"}if(e instanceof a.default){for(var i=[],o=0;o<e.length();o++)i[o]=ae(e.get(o));return"["+i.join(",")+"]"}return null!==e&&"object"==typeof e&&void 0!==e.castToText?e.castToText():R(e)?"object, Function":""}function ne(e){var t=[];if(!1===B(e))return null;if(e instanceof a.default){for(var r=0;r<e.length();r++)t[r]=oe(e.get(r));return t}for(var n=0;n<e.length;n++)t[n]=oe(e[n]);return t}function ie(e,t){if(j(e))return e;if(null===e)return"";if(U(e))return $(e,t);if(D(e))return e.toString();if(J(e))return Y(e,t);if(e instanceof f.default)return e instanceof c.default?'{"xmin":'+e.xmin.toString()+',"ymin":'+e.ymin.toString()+","+(e.hasZ?'"zmin":'+e.zmin.toString()+",":"")+(e.hasM?'"mmin":'+e.mmin.toString()+",":"")+'"xmax":'+e.xmax.toString()+',"ymax":'+e.ymax.toString()+","+(e.hasZ?'"zmax":'+e.zmax.toString()+",":"")+(e.hasM?'"mmax":'+e.mmax.toString()+",":"")+'"spatialReference":'+me(e.spatialReference)+"}":me(e.toJSON(),(function(e,t){return e.key===t.key?0:"spatialReference"===e.key?1:"spatialReference"===t.key||e.key<t.key?-1:e.key>t.key?1:0}));if(B(e)){for(var r=[],n=0;n<e.length;n++)r[n]=ae(e[n]);return"["+r.join(",")+"]"}if(e instanceof a.default){for(var i=[],o=0;o<e.length();o++)i[o]=ae(e.get(o));return"["+i.join(",")+"]"}return null!==e&&"object"==typeof e&&void 0!==e.castToText?e.castToText():R(e)?"object, Function":""}function ae(e){if(null===e)return"null";if(D(e)||U(e)||j(e))return JSON.stringify(e);if(e instanceof f.default)return ie(e);if(e instanceof a.default)return ie(e);if(e instanceof Array)return ie(e);if(e instanceof Date)return JSON.stringify(Y(e,""));if(null!==e&&"object"==typeof e){if(void 0!==e.castToText)return e.castToText()}else if(e===L)return"null";return"null"}function oe(e,t){return U(e)?e:null===e||""===e?0:J(e)?NaN:D(e)?e?1:0:B(e)||""===e||void 0===e?NaN:void 0!==t&&j(e)?(t=N(t,"â°",""),t=N(t,"Â¤",""),(0,g.parse)(e,{pattern:t})):e===L?0:Number(e)}function se(e){if(J(e))return e;if(j(e)){var t=ue(e);if(t)return t.toJSDate()}return null}function le(e){return J(e)?v.DateTime.fromJSDate(e):j(e)?ue(e):null}function ue(e){var t=/ (\d\d)/,r=v.DateTime.fromISO(e);return r.isValid||t.test(e)&&(e=e.replace(t,"T$1"),(r=v.DateTime.fromISO(e)).isValid)?r:null}function ce(e){return D(e)?e:j(e)?"true"===(e=e.toLowerCase()):!!U(e)&&0!==e&&!isNaN(e)}function fe(e,t){return(0,m.isNone)(e)?null:(null!==e.spatialReference&&void 0!==e.spatialReference||(e.spatialReference=t),e)}function pe(e){if(null===e)return null;if(e instanceof d.default)return"NaN"===e.x||null===e.x||isNaN(e.x)?null:e;if(e instanceof h.default){if(0===e.rings.length)return null;var t=!0,r=!1,n=void 0;try{for(var i,a=e.rings[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){if(i.value.length>0)return e}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return null}if(e instanceof y.default){if(0===e.paths.length)return null;var o=!0,s=!1,l=void 0;try{for(var u,f=e.paths[Symbol.iterator]();!(o=(u=f.next()).done);o=!0){if(u.value.length>0)return e}}catch(e){s=!0,l=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw l}}return null}return e instanceof p.default?0===e.points.length?null:e:e instanceof c.default?"NaN"===e.xmin||null===e.xmin||isNaN(e.xmin)?null:e:null}function de(e,t){if(!e)return t;if(!e.domain)return t;var r=null;if("string"===e.field.type||"esriFieldTypeString"===e.field.type)t=re(t);else{if(null==t)return null;if(""===t)return t;t=oe(t)}for(var n=0;n<e.domain.codedValues.length;n++){var i=e.domain.codedValues[n];i.code===t&&(r=i)}return null===r?t:r.name}function he(e,t){if(!e)return t;if(!e.domain)return t;var r=null;t=re(t);for(var n=0;n<e.domain.codedValues.length;n++){var i=e.domain.codedValues[n];i.name===t&&(r=i)}return null===r?t:r.code}function ye(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!t)return null;if(!t.fields)return null;for(var i,a,o=null,s=0;s<t.fields.length;s++){var l=t.fields[s];l.name.toLowerCase()===e.toString().toLowerCase()&&(o=l)}if(null===o)throw new Error("Field not found");return null===n&&r&&t.typeIdField&&(n=r.hasField(t.typeIdField)?r.field(t.typeIdField):null),null!=n&&t.types.some((function(e){return e.id===n&&((i=e.domains&&e.domains[o.name])&&"inherited"===i.type&&(i=ve(o.name,t),a=!0),!0)})),a||i||(i=ve(e,t)),{field:o,domain:i}}function ve(e,t){var r;return t.fields.some((function(t){return t.name.toLowerCase()===e.toLowerCase()&&(r=t.domain),!!r})),r}function me(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,n="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},a={key:n,value:e[n]};return r(i,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,o;if(Array.isArray(t)){for(o="[",r=0;r<t.length;r++)r&&(o+=","),o+=e(t[r])||"null";return o+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=a.push(t)-1,l=Object.keys(t).sort(i&&i(t));for(o="",r=0;r<l.length;r++){var u=l[r],c=e(t[u]);c&&(o&&(o+=","),o+=JSON.stringify(u)+":"+c)}return a.splice(s,1),"{"+o+"}"}}(e)}function ge(e){if(null===e)return null;var t=[],r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s&&s.arcadeDeclaredClass&&"esri.arcade.Feature"===s.arcadeDeclaredClass?t.push(s.geometry()):t.push(s)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}function be(e,t){if(!(t instanceof d.default))throw new Error("Invalid Argument");e.push(t.hasZ?t.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])}function _e(e,t){if(B(e)||G(e)){var r=!1,n=!1,i=[],a=t;if(B(e)){var o=!0,s=!1,u=void 0;try{for(var c,f=e[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){be(i,c.value)}}catch(e){s=!0,u=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw u}}i.length>0&&(a=e[0].spatialReference,r=e[0].hasZ,n=e[0].hasM)}else if(e instanceof l.default)(i=e._elements).length>0&&(r=e._hasZ,n=e._hasM,a=e.get(0).spatialReference);else{if(!G(e))throw new Error("Invalid Argument");var p=!0,d=!1,y=void 0;try{for(var v,m=e.toArray()[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){be(i,v.value)}}catch(e){d=!0,y=e}finally{try{p||null==m.return||m.return()}finally{if(d)throw y}}i.length>0&&(a=e.get(0).spatialReference,r=!0===e.get(0).hasZ,n=!0===e.get(0).hasM)}return 0===i.length?null:(!1===(0,b.isClockwise)(i,n,r)&&(i=i.slice(0).reverse()),new(0,h.default)({rings:[i],spatialReference:a,hasZ:r,hasM:n}))}return e}function we(e,t){if(B(e)||G(e)){var r=!1,n=!1,i=[],a=t;if(B(e)){var o=!0,s=!1,u=void 0;try{for(var c,f=e[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){be(i,c.value)}}catch(e){s=!0,u=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw u}}i.length>0&&(a=e[0].spatialReference,r=!0===e[0].hasZ,n=!0===e[0].hasM)}else if(e instanceof l.default)(i=e._elements).length>0&&(r=e._hasZ,n=e._hasM,a=e.get(0).spatialReference);else if(G(e)){var p=!0,d=!1,h=void 0;try{for(var v,m=e.toArray()[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){be(i,v.value)}}catch(e){d=!0,h=e}finally{try{p||null==m.return||m.return()}finally{if(d)throw h}}i.length>0&&(a=e.get(0).spatialReference,r=!0===e.get(0).hasZ,n=!0===e.get(0).hasM)}return 0===i.length?null:new(0,y.default)({paths:[i],spatialReference:a,hasZ:r,hasM:n})}return e}function xe(e,t){if(B(e)||G(e)){var r=!1,n=!1,i=[],a=t;if(B(e)){var o=!0,s=!1,u=void 0;try{for(var c,f=e[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){be(i,c.value)}}catch(e){s=!0,u=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw u}}i.length>0&&(a=e[0].spatialReference,r=!0===e[0].hasZ,n=!0===e[0].hasM)}else if(e instanceof l.default)(i=e._elements).length>0&&(r=e._hasZ,n=e._hasM,a=e.get(0).spatialReference);else if(G(e)){var d=!0,h=!1,y=void 0;try{for(var v,m=e.toArray()[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){be(i,v.value)}}catch(e){h=!0,y=e}finally{try{d||null==m.return||m.return()}finally{if(h)throw y}}i.length>0&&(a=e.get(0).spatialReference,r=!0===e.get(0).hasZ,n=!0===e.get(0).hasM)}return 0===i.length?null:new(0,p.default)({points:i,spatialReference:a,hasZ:r,hasM:n})}return e}function Se(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[];if(null===e)return r;if(!0===B(e)){for(var n=0;n<e.length;n++){var i=re(e[n]);""===i&&!0!==t||r.push(i)}return r}if(e instanceof a.default){for(var o=0;o<e.length();o++){var s=re(e.get(o));""===s&&!0!==t||r.push(s)}return r}if(P(e)){var l=re(e);return""===l&&!0!==t||r.push(l),r}return[]}var ke=0;function Te(e){return++ke%100==0?(ke=0,(0,u.create)((function(t){setTimeout((function(){t(e)}),0)}))):e}function Ee(e,t,r){switch(r){case"&":return e&t;case"|":return e|t;case"^":return e^t;case"<<":return e<<t;case">>":return e>>t;case">>>":return e>>>t}}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null==e?null:D(e)||U(e)||j(e)?e:e instanceof f.default?!0===(null==t?void 0:t.keepGeometryType)?e:e.toJSON():e instanceof a.default?e.toArray().map((function(e){return Ie(e,t)})):e instanceof Array?e.map((function(e){return Ie(e,t)})):e instanceof Date?e:null!==e&&"object"==typeof e&&void 0!==e.castAsJson?e.castAsJson(t):null}function Ce(e,t,r,n,i){return Oe(e,t,r).then((function(e){i[n]=e}))}function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e instanceof a.default&&(e=e.toArray()),null==e)return(0,u.resolve)(null);if(P(e)||e instanceof f.default||e instanceof Date)return(0,u.resolve)(Ie(e,r));if(e instanceof Array){var n=[],i=[],o=!0,s=!1,l=void 0;try{for(var c,p=e[Symbol.iterator]();!(o=(c=p.next()).done);o=!0){var d=c.value;null===d||P(d)||d instanceof f.default||d instanceof Date?i.push(Ie(d,r)):(i.push(null),n.push(Ce(d,t,r,i.length-1,i)))}}catch(e){s=!0,l=e}finally{try{o||null==p.return||p.return()}finally{if(s)throw l}}return n.length>0?(0,u.all)(n).then((function(){return i})):(0,u.resolve)(i)}return null!==e&&"object"==typeof e&&void 0!==e.castAsJsonAsync?e.castAsJsonAsync(t,r):(0,u.resolve)(null)}function Le(e,t,r){var n=e.fullSchema();return null===n?null:n.fields?ye(t,n,e,r):null}function Ae(e){var t=e.fullSchema();return null===t?null:t.fields&&t.typeIdField?{subtypeField:t.typeIdField,subtypes:t.types?t.types.map((function(e){return{name:e.name,code:e.id}})):[]}:null}function Me(e,t,r,n){var i=e.fullSchema();if(null===i)return null;if(!i.fields)return null;var a=ye(t,i,e,n);if(void 0===r)try{r=e.field(t)}catch(e){return null}return de(a,r)}function Ne(e,t,r,n){var i=e.fullSchema();if(null===i)return null;if(!i.fields)return null;if(void 0===r){try{r=e.field(t)}catch(e){return null}return r}return he(ye(t,i,e,n),r)}function Re(e){var t=e.fullSchema();if(null===t)return null;if(!t.fields)return null;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t.fields[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;r.push((0,w.esriFieldToJson)(l))}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return{objectIdField:t.objectIdField,globalIdField:t.globalIdField,geometryType:void 0===w.layerGeometryEsriRestConstants[t.geometryType]?"":w.layerGeometryEsriRestConstants[t.geometryType],fields:r}}var Pe=Object.freeze({__proto__:null,ReturnResultE:x,ImplicitResultE:S,NativeFunctionE:k,SizzleFunctionE:T,NativeFunction:E,ImplicitResult:I,ReturnResult:C,SizzleFunction:O,voidOperation:L,breakResult:A,continueResult:M,multiReplace:N,isFunctionParameter:R,isSimpleType:P,defaultUndefined:F,isString:j,isBoolean:D,isNumber:U,isInteger:V,isArray:B,isFeature:H,isFeatureSet:z,isFeatureSetCollection:W,isImmutableArray:G,isDate:J,pcCheck:q,absRound:X,generateUUID:K,formatNumber:$,formatDate:Y,standardiseDateFormat:Z,greaterThanLessThan:ee,equalityTest:te,toString:re,toNumberArray:ne,toStringExplicit:ie,toNumber:oe,toDate:se,toDateTime:le,toBoolean:ce,fixSpatialReference:fe,fixNullGeometry:pe,getDomainValue:de,getDomainCode:he,getDomain:ye,stableStringify:me,autoCastFeatureToGeometry:ge,autoCastArrayOfPointsToPolygon:_e,autoCastArrayOfPointsToPolyline:we,autoCastArrayOfPointsToMultiPoint:xe,toStringArray:Se,tick:Te,binaryOperator:Ee,castAsJson:Ie,castAsJsonAsync:Oe,featureFullDomain:Le,featureSubtypes:Ae,featureDomainValueLookup:Me,featureDomainCodeLookup:Ne,featureSchema:Re})})),s.register("1xq6U",(function(t,r){e(t.exports,"default",(function(){return i})),s("8TSCy");var n=s("f9pi5"),i=function e(t,r){"use strict";n.default(this,e),this.definition=null,this.context=null,this.definition=t,this.context=r}})),s.register("4aVVd",(function(t,r){e(t.exports,"default",(function(){return a})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n.default(this,e),this._elements=t}return i.default(e,[{key:"length",value:function(){return this._elements.length}},{key:"get",value:function(e){return this._elements[e]}},{key:"toArray",value:function(){for(var e=[],t=0;t<this.length();t++)e.push(this.get(t));return e}}]),e}()})),s.register("afhHk",(function(t,r){e(t.exports,"default",(function(){return f})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("4aVVd"),c=s("baXxs"),f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e,n,i,s,l){var u;return a.default(this,r),(u=t.call(this,e))._lazyPath=[],u._hasZ=!1,u._hasM=!1,u._hasZ=i,u._hasM=s,u._spRef=n,u._cacheId=l,o.default(u)}return l.default(r,[{key:"get",value:function(e){if(void 0===this._lazyPath[e]){var t=this._elements[e];if(void 0===t)return;this._lazyPath[e]=new(0,c.default)(t,this._spRef,this._hasZ,this._hasM,this._cacheId,e)}return this._lazyPath[e]}},{key:"equalityTest",value:function(e){return e===this||null!==e&&e instanceof r!=0&&e.getUniqueHash()===this.getUniqueHash()}},{key:"getUniqueHash",value:function(){return this._cacheId.toString()}}]),r}(u.default)})),s.register("baXxs",(function(t,r){e(t.exports,"default",(function(){return f})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("4aVVd"),c=s("d1Fqh"),f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e,n,i,s,l,u){var c;return a.default(this,r),(c=t.call(this,e))._lazyPt=[],c._hasZ=!1,c._hasM=!1,c._spRef=n,c._hasZ=i,c._hasM=s,c._cacheId=l,c._partId=u,o.default(c)}return l.default(r,[{key:"get",value:function(e){if(void 0===this._lazyPt[e]){var t=this._elements[e];if(void 0===t)return;var r=this._hasZ,n=this._hasM,i=null;(i=r&&!n?new(0,c.default)(t[0],t[1],t[2],void 0,this._spRef):n&&!r?new(0,c.default)(t[0],t[1],void 0,t[2],this._spRef):r&&n?new(0,c.default)(t[0],t[1],t[2],t[3],this._spRef):new(0,c.default)(t[0],t[1],this._spRef)).cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+e.toString(),this._lazyPt[e]=i}return this._lazyPt[e]}},{key:"equalityTest",value:function(e){return e===this||null!==e&&e instanceof r!=0&&e.getUniqueHash()===this.getUniqueHash()}},{key:"getUniqueHash",value:function(){return this._cacheId.toString()+"-"+this._partId.toString()}}]),r}(u.default)})),s.register("abR4U",(function(e,t){s("8TSCy");var r=s("kswSi");function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,r){return(f=c()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&u(i,r.prototype),i}).apply(null,arguments)}function p(e){var t="function"==typeof Map?new Map:void 0;return p=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return f(e,arguments,l(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},p(e)}function d(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e.exports,"__esModule",{value:!0});var v=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t}(p(Error)),m=function(e){function t(t){return e.call(this,"Invalid DateTime: "+t.toMessage())||this}return o(t,e),t}(v),g=function(e){function t(t){return e.call(this,"Invalid Interval: "+t.toMessage())||this}return o(t,e),t}(v),b=function(e){function t(t){return e.call(this,"Invalid Duration: "+t.toMessage())||this}return o(t,e),t}(v),_=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t}(v),w=function(e){function t(t){return e.call(this,"Invalid unit "+t)||this}return o(t,e),t}(v),x=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t}(v),S=function(e){function t(){return e.call(this,"Zone is an abstract class")||this}return o(t,e),t}(v),k="numeric",T="short",E="long",I={year:k,month:k,day:k},C={year:k,month:T,day:k},O={year:k,month:T,day:k,weekday:T},L={year:k,month:E,day:k},A={year:k,month:E,day:k,weekday:E},M={hour:k,minute:k},N={hour:k,minute:k,second:k},R={hour:k,minute:k,second:k,timeZoneName:T},P={hour:k,minute:k,second:k,timeZoneName:E},F={hour:k,minute:k,hourCycle:"h23"},j={hour:k,minute:k,second:k,hourCycle:"h23"},D={hour:k,minute:k,second:k,hourCycle:"h23",timeZoneName:T},U={hour:k,minute:k,second:k,hourCycle:"h23",timeZoneName:E},V={year:k,month:k,day:k,hour:k,minute:k},B={year:k,month:k,day:k,hour:k,minute:k,second:k},H={year:k,month:T,day:k,hour:k,minute:k},z={year:k,month:T,day:k,hour:k,minute:k,second:k},W={year:k,month:T,day:k,weekday:T,hour:k,minute:k},G={year:k,month:E,day:k,hour:k,minute:k,timeZoneName:T},J={year:k,month:E,day:k,hour:k,minute:k,second:k,timeZoneName:T},q={year:k,month:E,day:k,weekday:E,hour:k,minute:k,timeZoneName:E},X={year:k,month:E,day:k,weekday:E,hour:k,minute:k,second:k,timeZoneName:E};function K(e){return void 0===e}function $(e){return"number"==typeof e}function Y(e){return"number"==typeof e&&e%1==0}function Z(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Q(e,t,r){if(0!==e.length)return e.reduce((function(e,n){var i=[t(n),n];return e&&r(e[0],i[0])===e[0]?e:i}),null)[1]}function ee(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function te(e,t,r){return Y(e)&&e>=t&&e<=r}function re(e,t){return void 0===t&&(t=2),e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0")}function ne(e){return K(e)||null===e||""===e?void 0:parseInt(e,10)}function ie(e){return K(e)||null===e||""===e?void 0:parseFloat(e)}function ae(e){if(!K(e)&&null!==e&&""!==e){var t=1e3*parseFloat("0."+e);return Math.floor(t)}}function oe(e,t,r){void 0===r&&(r=!1);var n=Math.pow(10,t);return(r?Math.trunc:Math.round)(e*n)/n}function se(e){return e%4==0&&(e%100!=0||e%400==0)}function le(e){return se(e)?366:365}function ue(e,t){var r,n,i=(r=t-1)-(n=12)*Math.floor(r/n)+1;return 2===i?se(e+(t-i)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function ce(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t)).setUTCFullYear(t.getUTCFullYear()-1900),+t}function fe(e){var t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,r=e-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return 4===t||3===n?53:52}function pe(e){return e>99?e:e>60?1900+e:2e3+e}function de(e,t,r,n){void 0===n&&(n=null);var i=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);var s=a({timeZoneName:t},o),l=new Intl.DateTimeFormat(r,s).formatToParts(i).find((function(e){return"timezonename"===e.type.toLowerCase()}));return l?l.value:null}function he(e,t){var r=parseInt(e,10);Number.isNaN(r)&&(r=0);var n=parseInt(t,10)||0;return 60*r+(r<0||Object.is(r,-0)?-n:n)}function ye(e){var t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new x("Invalid unit value "+e);return t}function ve(e,t){var r={};for(var n in e)if(ee(e,n)){var i=e[n];if(null==i)continue;r[t(n)]=ye(i)}return r}function me(e,t){var r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return""+i+re(r,2)+":"+re(n,2);case"narrow":return""+i+r+(n>0?":"+n:"");case"techie":return""+i+re(r,2)+re(n,2);default:throw new RangeError("Value format "+t+" is out of range for property format")}}function ge(e){return function(e,t){return t.reduce((function(t,r){return t[r]=e[r],t}),{})}(e,["hour","minute","second","millisecond"])}var be=["January","February","March","April","May","June","July","August","September","October","November","December"],_e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],we=["J","F","M","A","M","J","J","A","S","O","N","D"];function xe(e){switch(e){case"narrow":return[].concat(we);case"short":return[].concat(_e);case"long":return[].concat(be);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Se=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ke=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Te=["M","T","W","T","F","S","S"];function Ee(e){switch(e){case"narrow":return[].concat(Te);case"short":return[].concat(ke);case"long":return[].concat(Se);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Ie=["AM","PM"],Ce=["Before Christ","Anno Domini"],Oe=["BC","AD"],Le=["B","A"];function Ae(e){switch(e){case"narrow":return[].concat(Le);case"short":return[].concat(Oe);case"long":return[].concat(Ce);default:return null}}function Me(e,t){for(var r,n="",i=y(e);!(r=i()).done;){var a=r.value;a.literal?n+=a.val:n+=t(a.val)}return n}var Ne={D:I,DD:C,DDD:L,DDDD:A,t:M,tt:N,ttt:R,tttt:P,T:F,TT:j,TTT:D,TTTT:U,f:V,ff:H,fff:G,ffff:q,F:B,FF:z,FFF:J,FFFF:X},Re=function(){function e(e,t){this.opts=t,this.loc=e,this.systemLoc=null}e.create=function(t,r){return void 0===r&&(r={}),new e(t,r)},e.parseFormat=function(e){for(var t=null,r="",n=!1,i=[],a=0;a<e.length;a++){var o=e.charAt(a);"'"===o?(r.length>0&&i.push({literal:n,val:r}),t=null,r="",n=!n):n||o===t?r+=o:(r.length>0&&i.push({literal:!1,val:r}),r=o,t=o)}return r.length>0&&i.push({literal:n,val:r}),i},e.macroTokenToFormatOpts=function(e){return Ne[e]};var t=e.prototype;return t.formatWithSystemDefault=function(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,a({},this.opts,t)).format()},t.formatDateTime=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,a({},this.opts,t)).format()},t.formatDateTimeParts=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,a({},this.opts,t)).formatToParts()},t.resolvedOptions=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,a({},this.opts,t)).resolvedOptions()},t.num=function(e,t){if(void 0===t&&(t=0),this.opts.forceSimple)return re(e,t);var r=a({},this.opts);return t>0&&(r.padTo=t),this.loc.numberFormatter(r).format(e)},t.formatDateTimeFromString=function(t,r){var n=this,i="en"===this.loc.listingMode(),a=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=function(e,r){return n.loc.extract(t,e,r)},s=function(e){return t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):""},l=function(){return i?function(e){return Ie[e.hour<12?0:1]}(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod")},u=function(e,r){return i?function(e,t){return xe(t)[e.month-1]}(t,e):o(r?{month:e}:{month:e,day:"numeric"},"month")},c=function(e,r){return i?function(e,t){return Ee(t)[e.weekday-1]}(t,e):o(r?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday")},f=function(e){return i?function(e,t){return Ae(t)[e.year<0?0:1]}(t,e):o({era:e},"era")};return Me(e.parseFormat(r),(function(r){switch(r){case"S":return n.num(t.millisecond);case"u":case"SSS":return n.num(t.millisecond,3);case"s":return n.num(t.second);case"ss":return n.num(t.second,2);case"uu":return n.num(Math.floor(t.millisecond/10),2);case"uuu":return n.num(Math.floor(t.millisecond/100));case"m":return n.num(t.minute);case"mm":return n.num(t.minute,2);case"h":return n.num(t.hour%12==0?12:t.hour%12);case"hh":return n.num(t.hour%12==0?12:t.hour%12,2);case"H":return n.num(t.hour);case"HH":return n.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:n.opts.allowZ});case"ZZ":return s({format:"short",allowZ:n.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:n.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:n.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:n.loc.locale});case"z":return t.zoneName;case"a":return l();case"d":return a?o({day:"numeric"},"day"):n.num(t.day);case"dd":return a?o({day:"2-digit"},"day"):n.num(t.day,2);case"c":case"E":return n.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return a?o({month:"numeric",day:"numeric"},"month"):n.num(t.month);case"LL":return a?o({month:"2-digit",day:"numeric"},"month"):n.num(t.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return a?o({month:"numeric"},"month"):n.num(t.month);case"MM":return a?o({month:"2-digit"},"month"):n.num(t.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return a?o({year:"numeric"},"year"):n.num(t.year);case"yy":return a?o({year:"2-digit"},"year"):n.num(t.year.toString().slice(-2),2);case"yyyy":return a?o({year:"numeric"},"year"):n.num(t.year,4);case"yyyyyy":return a?o({year:"numeric"},"year"):n.num(t.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return n.num(t.weekYear.toString().slice(-2),2);case"kkkk":return n.num(t.weekYear,4);case"W":return n.num(t.weekNumber);case"WW":return n.num(t.weekNumber,2);case"o":return n.num(t.ordinal);case"ooo":return n.num(t.ordinal,3);case"q":return n.num(t.quarter);case"qq":return n.num(t.quarter,2);case"X":return n.num(Math.floor(t.ts/1e3));case"x":return n.num(t.ts);default:return function(r){var i=e.macroTokenToFormatOpts(r);return i?n.formatWithSystemDefault(t,i):r}(r)}}))},t.formatDurationFromString=function(t,r){var n,i=this,a=function(e){switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=e.parseFormat(r),s=o.reduce((function(e,t){var r=t.literal,n=t.val;return r?e:e.concat(n)}),[]),l=t.shiftTo.apply(t,s.map(a).filter((function(e){return e})));return Me(o,(n=l,function(e){var t=a(e);return t?i.num(n.get(t),e.length):e}))},e}(),Pe=function(){function e(e,t){this.reason=e,this.explanation=t}return e.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},e}(),Fe=function(){function e(){}var t=e.prototype;return t.offsetName=function(e,t){throw new S},t.formatOffset=function(e,t){throw new S},t.offset=function(e){throw new S},t.equals=function(e){throw new S},i(e,[{key:"type",get:function(){throw new S}},{key:"name",get:function(){throw new S}},{key:"isUniversal",get:function(){throw new S}},{key:"isValid",get:function(){throw new S}}]),e}(),je=null,De=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var r=t.prototype;return r.offsetName=function(e,t){return de(e,t.format,t.locale)},r.formatOffset=function(e,t){return me(this.offset(e),t)},r.offset=function(e){return-new Date(e).getTimezoneOffset()},r.equals=function(e){return"system"===e.type},i(t,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===je&&(je=new t),je}}]),t}(Fe),Ue={};var Ve={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};var Be={},He=function(e){function t(r){var n;return(n=e.call(this)||this).zoneName=r,n.valid=t.isValidZone(r),n}o(t,e),t.create=function(e){return Be[e]||(Be[e]=new t(e)),Be[e]},t.resetCache=function(){Be={},Ue={}},t.isValidSpecifier=function(e){return this.isValidZone(e)},t.isValidZone=function(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}};var r=t.prototype;return r.offsetName=function(e,t){return de(e,t.format,t.locale,this.name)},r.formatOffset=function(e,t){return me(this.offset(e),t)},r.offset=function(e){var t=new Date(e);if(isNaN(t))return NaN;var r,n=(r=this.name,Ue[r]||(Ue[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Ue[r]),i=n.formatToParts?function(e,t){for(var r=e.formatToParts(t),n=[],i=0;i<r.length;i++){var a=r[i],o=a.type,s=a.value,l=Ve[o];"era"===o?n[l]=s:K(l)||(n[l]=parseInt(s,10))}return n}(n,t):function(e,t){var r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),i=n[1],a=n[2];return[n[3],i,a,n[4],n[5],n[6],n[7]]}(n,t),a=i[0],o=i[1],s=i[2],l=i[3],u=i[4],c=i[5],f=i[6];"BC"===l&&(a=1-Math.abs(a));var p=+t,d=p%1e3;return(ce({year:a,month:o,day:s,hour:24===u?0:u,minute:c,second:f,millisecond:0})-(p-=d>=0?d:1e3+d))/6e4},r.equals=function(e){return"iana"===e.type&&e.name===this.name},i(t,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),t}(Fe),ze=null,We=function(e){function t(t){var r;return(r=e.call(this)||this).fixed=t,r}o(t,e),t.instance=function(e){return 0===e?t.utcInstance:new t(e)},t.parseSpecifier=function(e){if(e){var r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new t(he(r[1],r[2]))}return null};var r=t.prototype;return r.offsetName=function(){return this.name},r.formatOffset=function(e,t){return me(this.fixed,t)},r.offset=function(){return this.fixed},r.equals=function(e){return"fixed"===e.type&&e.fixed===this.fixed},i(t,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+me(this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===ze&&(ze=new t(0)),ze}}]),t}(Fe),Ge=function(e){function t(t){var r;return(r=e.call(this)||this).zoneName=t,r}o(t,e);var r=t.prototype;return r.offsetName=function(){return null},r.formatOffset=function(){return""},r.offset=function(){return NaN},r.equals=function(){return!1},i(t,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),t}(Fe);function Je(e,t){if(K(e)||null===e)return t;if(e instanceof Fe)return e;if("string"==typeof e){var r=e.toLowerCase();return"local"===r||"system"===r?t:"utc"===r||"gmt"===r?We.utcInstance:We.parseSpecifier(r)||He.create(e)}return $(e)?We.instance(e):"object"==typeof e&&e.offset&&"number"==typeof e.offset?e:new Ge(e)}var qe,Xe=function(){return Date.now()},Ke="system",$e=null,Ye=null,Ze=null,Qe=function(){function e(){}return e.resetCaches=function(){pt.resetCache(),He.resetCache()},i(e,null,[{key:"now",get:function(){return Xe},set:function(e){Xe=e}},{key:"defaultZone",get:function(){return Je(Ke,De.instance)},set:function(e){Ke=e}},{key:"defaultLocale",get:function(){return $e},set:function(e){$e=e}},{key:"defaultNumberingSystem",get:function(){return Ye},set:function(e){Ye=e}},{key:"defaultOutputCalendar",get:function(){return Ze},set:function(e){Ze=e}},{key:"throwOnInvalid",get:function(){return qe},set:function(e){qe=e}}]),e}(),et=["base"],tt=["padTo","floor"],rt={};var nt={};function it(e,t){void 0===t&&(t={});var r=JSON.stringify([e,t]),n=nt[r];return n||(n=new Intl.DateTimeFormat(e,t),nt[r]=n),n}var at={};var ot={};var st=null;function lt(e,t,r,n,i){var a=e.listingMode(r);return"error"===a?null:"en"===a?n(t):i(t)}var ut=function(){function e(e,t,r){this.padTo=r.padTo||0,this.floor=r.floor||!1,r.padTo,r.floor;var n=d(r,tt);if(!t||Object.keys(n).length>0){var i=a({useGrouping:!1},r);r.padTo>0&&(i.minimumIntegerDigits=r.padTo),this.inf=function(e,t){void 0===t&&(t={});var r=JSON.stringify([e,t]),n=at[r];return n||(n=new Intl.NumberFormat(e,t),at[r]=n),n}(e,i)}}return e.prototype.format=function(e){if(this.inf){var t=this.floor?Math.floor(e):e;return this.inf.format(t)}return re(this.floor?Math.floor(e):oe(e,3),this.padTo)},e}(),ct=function(){function e(e,t,r){var n;if(this.opts=r,e.zone.isUniversal){var i=e.offset/60*-1,o=i>=0?"Etc/GMT+"+i:"Etc/GMT"+i;0!==e.offset&&He.create(o).valid?(n=o,this.dt=e):(n="UTC",r.timeZoneName?this.dt=e:this.dt=0===e.offset?e:hn.fromMillis(e.ts+6e4*e.offset))}else"system"===e.zone.type?this.dt=e:(this.dt=e,n=e.zone.name);var s=a({},this.opts);n&&(s.timeZone=n),this.dtf=it(t,s)}var t=e.prototype;return t.format=function(){return this.dtf.format(this.dt.toJSDate())},t.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},t.resolvedOptions=function(){return this.dtf.resolvedOptions()},e}(),ft=function(){function e(e,t,r){this.opts=a({style:"long"},r),!t&&Z()&&(this.rtf=function(e,t){void 0===t&&(t={});var r=t;r.base;var n=d(r,et),i=JSON.stringify([e,n]),a=ot[i];return a||(a=new Intl.RelativeTimeFormat(e,t),ot[i]=a),a}(e,r))}var t=e.prototype;return t.format=function(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,r,n){void 0===r&&(r="always"),void 0===n&&(n=!1);var i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===r&&a){var o="days"===e;switch(t){case 1:return o?"tomorrow":"next "+i[e][0];case-1:return o?"yesterday":"last "+i[e][0];case 0:return o?"today":"this "+i[e][0]}}var s=Object.is(t,-0)||t<0,l=Math.abs(t),u=1===l,c=i[e],f=n?u?c[1]:c[2]||c[1]:u?i[e][0]:e;return s?l+" "+f+" ago":"in "+l+" "+f}(t,e,this.opts.numeric,"long"!==this.opts.style)},t.formatToParts=function(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]},e}(),pt=function(){function e(e,t,r,n){var i=function(e){var t=e.indexOf("-u-");if(-1===t)return[e];var r,n=e.substring(0,t);try{r=it(e).resolvedOptions()}catch(e){r=it(n).resolvedOptions()}var i=r;return[n,i.numberingSystem,i.calendar]}(e),a=i[0],o=i[1],s=i[2];this.locale=a,this.numberingSystem=t||o||null,this.outputCalendar=r||s||null,this.intl=function(e,t,r){return r||t?(e+="-u",r&&(e+="-ca-"+r),t&&(e+="-nu-"+t),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}e.fromOpts=function(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)},e.create=function(t,r,n,i){void 0===i&&(i=!1);var a=t||Qe.defaultLocale;return new e(a||(i?"en-US":st||(st=(new Intl.DateTimeFormat).resolvedOptions().locale)),r||Qe.defaultNumberingSystem,n||Qe.defaultOutputCalendar,a)},e.resetCache=function(){st=null,nt={},at={},ot={}},e.fromObject=function(t){var r=void 0===t?{}:t,n=r.locale,i=r.numberingSystem,a=r.outputCalendar;return e.create(n,i,a)};var t=e.prototype;return t.listingMode=function(){var e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"},t.clone=function(t){return t&&0!==Object.getOwnPropertyNames(t).length?e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this},t.redefaultToEN=function(e){return void 0===e&&(e={}),this.clone(a({},e,{defaultToEN:!0}))},t.redefaultToSystem=function(e){return void 0===e&&(e={}),this.clone(a({},e,{defaultToEN:!1}))},t.months=function(e,t,r){var n=this;return void 0===t&&(t=!1),void 0===r&&(r=!0),lt(this,e,r,xe,(function(){var r=t?{month:e,day:"numeric"}:{month:e},i=t?"format":"standalone";return n.monthsCache[i][e]||(n.monthsCache[i][e]=function(e){for(var t=[],r=1;r<=12;r++){var n=hn.utc(2016,r,1);t.push(e(n))}return t}((function(e){return n.extract(e,r,"month")}))),n.monthsCache[i][e]}))},t.weekdays=function(e,t,r){var n=this;return void 0===t&&(t=!1),void 0===r&&(r=!0),lt(this,e,r,Ee,(function(){var r=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=t?"format":"standalone";return n.weekdaysCache[i][e]||(n.weekdaysCache[i][e]=function(e){for(var t=[],r=1;r<=7;r++){var n=hn.utc(2016,11,13+r);t.push(e(n))}return t}((function(e){return n.extract(e,r,"weekday")}))),n.weekdaysCache[i][e]}))},t.meridiems=function(e){var t=this;return void 0===e&&(e=!0),lt(this,void 0,e,(function(){return Ie}),(function(){if(!t.meridiemCache){var e={hour:"numeric",hourCycle:"h12"};t.meridiemCache=[hn.utc(2016,11,13,9),hn.utc(2016,11,13,19)].map((function(r){return t.extract(r,e,"dayperiod")}))}return t.meridiemCache}))},t.eras=function(e,t){var r=this;return void 0===t&&(t=!0),lt(this,e,t,Ae,(function(){var t={era:e};return r.eraCache[e]||(r.eraCache[e]=[hn.utc(-40,1,1),hn.utc(2017,1,1)].map((function(e){return r.extract(e,t,"era")}))),r.eraCache[e]}))},t.extract=function(e,t,r){var n=this.dtFormatter(e,t).formatToParts().find((function(e){return e.type.toLowerCase()===r}));return n?n.value:null},t.numberFormatter=function(e){return void 0===e&&(e={}),new ut(this.intl,e.forceSimple||this.fastNumbers,e)},t.dtFormatter=function(e,t){return void 0===t&&(t={}),new ct(e,this.intl,t)},t.relFormatter=function(e){return void 0===e&&(e={}),new ft(this.intl,this.isEnglish(),e)},t.listFormatter=function(e){return void 0===e&&(e={}),function(e,t){void 0===t&&(t={});var r=JSON.stringify([e,t]),n=rt[r];return n||(n=new Intl.ListFormat(e,t),rt[r]=n),n}(this.intl,e)},t.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},t.equals=function(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar},i(e,[{key:"fastNumbers",get:function(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}}]),e}();function dt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.reduce((function(e,t){return e+t.source}),"");return RegExp("^"+n+"$")}function ht(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(t,r){var n=t[0],i=t[1],o=t[2],s=r(e,o),l=s[0],u=s[1],c=s[2];return[a({},n,l),i||u,c]}),[{},null,1]).slice(0,2)}}function yt(e){if(null==e)return[null,null];for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=0,a=r;i<a.length;i++){var o=a[i],s=o[0],l=o[1],u=s.exec(e);if(u)return l(u)}return[null,null]}function vt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e,r){var n,i={};for(n=0;n<t.length;n++)i[t[n]]=ne(e[r+n]);return[i,null,r+n]}}var mt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,gt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,bt=RegExp(""+gt.source+mt.source+"?"),_t=RegExp("(?:T"+bt.source+")?"),wt=vt("weekYear","weekNumber","weekDay"),xt=vt("year","ordinal"),St=RegExp(gt.source+" ?(?:"+mt.source+"|("+/[A-Za-z_+-]{1,256}(:?\/[A-Za-z0-9_+-]{1,256}(\/[A-Za-z0-9_+-]{1,256})?)?/.source+"))?"),kt=RegExp("(?: "+St.source+")?");function Tt(e,t,r){var n=e[t];return K(n)?r:ne(n)}function Et(e,t){return[{year:Tt(e,t),month:Tt(e,t+1,1),day:Tt(e,t+2,1)},null,t+3]}function It(e,t){return[{hours:Tt(e,t,0),minutes:Tt(e,t+1,0),seconds:Tt(e,t+2,0),milliseconds:ae(e[t+3])},null,t+4]}function Ct(e,t){var r=!e[t]&&!e[t+1],n=he(e[t+1],e[t+2]);return[{},r?null:We.instance(n),t+3]}function Ot(e,t){return[{},e[t]?He.create(e[t]):null,t+1]}var Lt=RegExp("^T?"+gt.source+"$"),At=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Mt(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c="-"===t[0],f=l&&"-"===l[0],p=function(e,t){return void 0===t&&(t=!1),void 0!==e&&(t||e&&c)?-e:e};return[{years:p(ie(r)),months:p(ie(n)),weeks:p(ie(i)),days:p(ie(a)),hours:p(ie(o)),minutes:p(ie(s)),seconds:p(ie(l),"-0"===l),milliseconds:p(ae(u),f)}]}var Nt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Rt(e,t,r,n,i,a,o){var s={year:2===t.length?pe(ne(t)):ne(t),month:_e.indexOf(r)+1,day:ne(n),hour:ne(i),minute:ne(a)};return o&&(s.second=ne(o)),e&&(s.weekday=e.length>3?Se.indexOf(e)+1:ke.indexOf(e)+1),s}var Pt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Ft(e){var t,r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],p=e[11],d=Rt(r,a,i,n,o,s,l);return t=u?Nt[u]:c?0:he(f,p),[d,new We(t)]}var jt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Dt=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Ut=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Vt(e){var t=e[1],r=e[2],n=e[3];return[Rt(t,e[4],n,r,e[5],e[6],e[7]),We.utcInstance]}function Bt(e){var t=e[1],r=e[2],n=e[3],i=e[4],a=e[5],o=e[6];return[Rt(t,e[7],r,n,i,a,o),We.utcInstance]}var Ht=dt(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,_t),zt=dt(/(\d{4})-?W(\d\d)(?:-?(\d))?/,_t),Wt=dt(/(\d{4})-?(\d{3})/,_t),Gt=dt(bt),Jt=ht(Et,It,Ct),qt=ht(wt,It,Ct),Xt=ht(xt,It,Ct),Kt=ht(It,Ct);var $t=ht(It);var Yt=dt(/(\d{4})-(\d\d)-(\d\d)/,kt),Zt=dt(St),Qt=ht(Et,It,Ct,Ot),er=ht(It,Ct,Ot);var tr={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},rr=a({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},tr),nr=365.2425,ir=30.436875,ar=a({years:{quarters:4,months:12,weeks:52.1775,days:nr,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238e3},months:{weeks:4.3481250000000005,days:ir,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},tr),or=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],sr=or.slice(0).reverse();function lr(e,t,r){void 0===r&&(r=!1);var n={values:r?t.values:a({},e.values,t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new cr(n)}function ur(e,t,r,n,i){var a,o=e[i][r],s=t[r]/o,l=!(Math.sign(s)===Math.sign(n[i]))&&0!==n[i]&&Math.abs(s)<=1?(a=s)<0?Math.floor(a):Math.ceil(a):Math.trunc(s);n[i]+=l,t[r]-=l*o}var cr=function(){function e(e){var t="longterm"===e.conversionAccuracy||!1;this.values=e.values,this.loc=e.loc||pt.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=t?ar:rr,this.isLuxonDuration=!0}e.fromMillis=function(t,r){return e.fromObject({milliseconds:t},r)},e.fromObject=function(t,n){if(void 0===n&&(n={}),null==t||"object"!=typeof t)throw new x("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":void 0===t?"undefined":r.default(t)));return new e({values:ve(t,e.normalizeUnit),loc:pt.fromObject(n),conversionAccuracy:n.conversionAccuracy})},e.fromDurationLike=function(t){if($(t))return e.fromMillis(t);if(e.isDuration(t))return t;if("object"==typeof t)return e.fromObject(t);throw new x("Unknown duration argument "+t+" of type "+(void 0===t?"undefined":r.default(t)))},e.fromISO=function(t,r){var n=yt(t,[At,Mt])[0];return n?e.fromObject(n,r):e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.fromISOTime=function(t,r){var n=yt(t,[Lt,$t])[0];return n?e.fromObject(n,r):e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.invalid=function(t,r){if(void 0===r&&(r=null),!t)throw new x("need to specify a reason the Duration is invalid");var n=t instanceof Pe?t:new Pe(t,r);if(Qe.throwOnInvalid)throw new b(n);return new e({invalid:n})},e.normalizeUnit=function(e){var t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new w(e);return t},e.isDuration=function(e){return e&&e.isLuxonDuration||!1};var t=e.prototype;return t.toFormat=function(e,t){void 0===t&&(t={});var r=a({},t,{floor:!1!==t.round&&!1!==t.floor});return this.isValid?Re.create(this.loc,r).formatDurationFromString(this,e):"Invalid Duration"},t.toHuman=function(e){var t=this;void 0===e&&(e={});var r=or.map((function(r){var n=t.values[r];return K(n)?null:t.loc.numberFormatter(a({style:"unit",unitDisplay:"long"},e,{unit:r.slice(0,-1)})).format(n)})).filter((function(e){return e}));return this.loc.listFormatter(a({type:"conjunction",style:e.listStyle||"narrow"},e)).format(r)},t.toObject=function(){return this.isValid?a({},this.values):{}},t.toISO=function(){if(!this.isValid)return null;var e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=oe(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e},t.toISOTime=function(e){if(void 0===e&&(e={}),!this.isValid)return null;var t=this.toMillis();if(t<0||t>=864e5)return null;e=a({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);var r=this.shiftTo("hours","minutes","seconds","milliseconds"),n="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===r.seconds&&0===r.milliseconds||(n+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===r.milliseconds||(n+=".SSS"));var i=r.toFormat(n);return e.includePrefix&&(i="T"+i),i},t.toJSON=function(){return this.toISO()},t.toString=function(){return this.toISO()},t.toMillis=function(){return this.as("milliseconds")},t.valueOf=function(){return this.toMillis()},t.plus=function(t){if(!this.isValid)return this;for(var r,n=e.fromDurationLike(t),i={},a=y(or);!(r=a()).done;){var o=r.value;(ee(n.values,o)||ee(this.values,o))&&(i[o]=n.get(o)+this.get(o))}return lr(this,{values:i},!0)},t.minus=function(t){if(!this.isValid)return this;var r=e.fromDurationLike(t);return this.plus(r.negate())},t.mapUnits=function(e){if(!this.isValid)return this;for(var t={},r=0,n=Object.keys(this.values);r<n.length;r++){var i=n[r];t[i]=ye(e(this.values[i],i))}return lr(this,{values:t},!0)},t.get=function(t){return this[e.normalizeUnit(t)]},t.set=function(t){return this.isValid?lr(this,{values:a({},this.values,ve(t,e.normalizeUnit))}):this},t.reconfigure=function(e){var t=void 0===e?{}:e,r=t.locale,n=t.numberingSystem,i=t.conversionAccuracy,a={loc:this.loc.clone({locale:r,numberingSystem:n})};return i&&(a.conversionAccuracy=i),lr(this,a)},t.as=function(e){return this.isValid?this.shiftTo(e).get(e):NaN},t.normalize=function(){if(!this.isValid)return this;var e=this.toObject();return function(e,t){sr.reduce((function(r,n){return K(t[n])?r:(r&&ur(e,t,r,t,n),n)}),null)}(this.matrix,e),lr(this,{values:e},!0)},t.shiftTo=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!this.isValid)return this;if(0===r.length)return this;r=r.map((function(t){return e.normalizeUnit(t)}));for(var i,a,o={},s={},l=this.toObject(),u=y(or);!(a=u()).done;){var c=a.value;if(r.indexOf(c)>=0){i=c;var f=0;for(var p in s)f+=this.matrix[p][c]*s[p],s[p]=0;$(l[c])&&(f+=l[c]);var d=Math.trunc(f);for(var h in o[c]=d,s[c]=(1e3*f-1e3*d)/1e3,l)or.indexOf(h)>or.indexOf(c)&&ur(this.matrix,l,h,o,c)}else $(l[c])&&(s[c]=l[c])}for(var v in s)0!==s[v]&&(o[i]+=v===i?s[v]:s[v]/this.matrix[i][v]);return lr(this,{values:o},!0).normalize()},t.negate=function(){if(!this.isValid)return this;for(var e={},t=0,r=Object.keys(this.values);t<r.length;t++){var n=r[t];e[n]=0===this.values[n]?0:-this.values[n]}return lr(this,{values:e},!0)},t.equals=function(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(var t,r=y(or);!(t=r()).done;){var n=t.value;if(i=this.values[n],a=e.values[n],!(void 0===i||0===i?void 0===a||0===a:i===a))return!1}var i,a;return!0},i(e,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}(),fr="Invalid Interval";var pr=function(){function e(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}e.invalid=function(t,r){if(void 0===r&&(r=null),!t)throw new x("need to specify a reason the Interval is invalid");var n=t instanceof Pe?t:new Pe(t,r);if(Qe.throwOnInvalid)throw new g(n);return new e({invalid:n})},e.fromDateTimes=function(t,r){var n=yn(t),i=yn(r),a=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?pr.invalid("end before start","The end of an interval must be after its start, but you had start="+e.toISO()+" and end="+t.toISO()):null:pr.invalid("missing or invalid end"):pr.invalid("missing or invalid start")}(n,i);return null==a?new e({start:n,end:i}):a},e.after=function(t,r){var n=cr.fromDurationLike(r),i=yn(t);return e.fromDateTimes(i,i.plus(n))},e.before=function(t,r){var n=cr.fromDurationLike(r),i=yn(t);return e.fromDateTimes(i.minus(n),i)},e.fromISO=function(t,r){var n=(t||"").split("/",2),i=n[0],a=n[1];if(i&&a){var o,s,l,u;try{s=(o=hn.fromISO(i,r)).isValid}catch(e){s=!1}try{u=(l=hn.fromISO(a,r)).isValid}catch(e){u=!1}if(s&&u)return e.fromDateTimes(o,l);if(s){var c=cr.fromISO(a,r);if(c.isValid)return e.after(o,c)}else if(u){var f=cr.fromISO(i,r);if(f.isValid)return e.before(l,f)}}return e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.isInterval=function(e){return e&&e.isLuxonInterval||!1};var t=e.prototype;return t.length=function(e){return void 0===e&&(e="milliseconds"),this.isValid?this.toDuration.apply(this,[e]).get(e):NaN},t.count=function(e){if(void 0===e&&(e="milliseconds"),!this.isValid)return NaN;var t=this.start.startOf(e),r=this.end.startOf(e);return Math.floor(r.diff(t,e).get(e))+1},t.hasSame=function(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))},t.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},t.isAfter=function(e){return!!this.isValid&&this.s>e},t.isBefore=function(e){return!!this.isValid&&this.e<=e},t.contains=function(e){return!!this.isValid&&(this.s<=e&&this.e>e)},t.set=function(t){var r=void 0===t?{}:t,n=r.start,i=r.end;return this.isValid?e.fromDateTimes(n||this.s,i||this.e):this},t.splitAt=function(){var t=this;if(!this.isValid)return[];for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];for(var a=n.map(yn).filter((function(e){return t.contains(e)})).sort(),o=[],s=this.s,l=0;s<this.e;){var u=a[l]||this.e,c=+u>+this.e?this.e:u;o.push(e.fromDateTimes(s,c)),s=c,l+=1}return o},t.splitBy=function(t){var r=cr.fromDurationLike(t);if(!this.isValid||!r.isValid||0===r.as("milliseconds"))return[];for(var n,i=this.s,a=1,o=[];i<this.e;){var s=this.start.plus(r.mapUnits((function(e){return e*a})));n=+s>+this.e?this.e:s,o.push(e.fromDateTimes(i,n)),i=n,a+=1}return o},t.divideEqually=function(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]},t.overlaps=function(e){return this.e>e.s&&this.s<e.e},t.abutsStart=function(e){return!!this.isValid&&+this.e==+e.s},t.abutsEnd=function(e){return!!this.isValid&&+e.e==+this.s},t.engulfs=function(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)},t.equals=function(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))},t.intersection=function(t){if(!this.isValid)return this;var r=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return r>=n?null:e.fromDateTimes(r,n)},t.union=function(t){if(!this.isValid)return this;var r=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return e.fromDateTimes(r,n)},e.merge=function(e){var t=e.sort((function(e,t){return e.s-t.s})).reduce((function(e,t){var r=e[0],n=e[1];return n?n.overlaps(t)||n.abutsStart(t)?[r,n.union(t)]:[r.concat([n]),t]:[r,t]}),[[],null]),r=t[0],n=t[1];return n&&r.push(n),r},e.xor=function(t){for(var r,n,i=null,a=0,o=[],s=t.map((function(e){return[{time:e.s,type:"s"},{time:e.e,type:"e"}]})),l=y((r=Array.prototype).concat.apply(r,s).sort((function(e,t){return e.time-t.time})));!(n=l()).done;){var u=n.value;1===(a+="s"===u.type?1:-1)?i=u.time:(i&&+i!=+u.time&&o.push(e.fromDateTimes(i,u.time)),i=null)}return e.merge(o)},t.difference=function(){for(var t=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.xor([this].concat(n)).map((function(e){return t.intersection(e)})).filter((function(e){return e&&!e.isEmpty()}))},t.toString=function(){return this.isValid?"["+this.s.toISO()+" â "+this.e.toISO()+")":fr},t.toISO=function(e){return this.isValid?this.s.toISO(e)+"/"+this.e.toISO(e):fr},t.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():fr},t.toISOTime=function(e){return this.isValid?this.s.toISOTime(e)+"/"+this.e.toISOTime(e):fr},t.toFormat=function(e,t){var r=(void 0===t?{}:t).separator,n=void 0===r?" â ":r;return this.isValid?""+this.s.toFormat(e)+n+this.e.toFormat(e):fr},t.toDuration=function(e,t){return this.isValid?this.e.diff(this.s,e,t):cr.invalid(this.invalidReason)},t.mapEndpoints=function(t){return e.fromDateTimes(t(this.s),t(this.e))},i(e,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}(),dr=function(){function e(){}return e.hasDST=function(e){void 0===e&&(e=Qe.defaultZone);var t=hn.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset},e.isValidIANAZone=function(e){return He.isValidZone(e)},e.normalizeZone=function(e){return Je(e,Qe.defaultZone)},e.months=function(e,t){void 0===e&&(e="long");var r=void 0===t?{}:t,n=r.locale,i=void 0===n?null:n,a=r.numberingSystem,o=void 0===a?null:a,s=r.locObj,l=void 0===s?null:s,u=r.outputCalendar,c=void 0===u?"gregory":u;return(l||pt.create(i,o,c)).months(e)},e.monthsFormat=function(e,t){void 0===e&&(e="long");var r=void 0===t?{}:t,n=r.locale,i=void 0===n?null:n,a=r.numberingSystem,o=void 0===a?null:a,s=r.locObj,l=void 0===s?null:s,u=r.outputCalendar,c=void 0===u?"gregory":u;return(l||pt.create(i,o,c)).months(e,!0)},e.weekdays=function(e,t){void 0===e&&(e="long");var r=void 0===t?{}:t,n=r.locale,i=void 0===n?null:n,a=r.numberingSystem,o=void 0===a?null:a,s=r.locObj;return((void 0===s?null:s)||pt.create(i,o,null)).weekdays(e)},e.weekdaysFormat=function(e,t){void 0===e&&(e="long");var r=void 0===t?{}:t,n=r.locale,i=void 0===n?null:n,a=r.numberingSystem,o=void 0===a?null:a,s=r.locObj;return((void 0===s?null:s)||pt.create(i,o,null)).weekdays(e,!0)},e.meridiems=function(e){var t=(void 0===e?{}:e).locale,r=void 0===t?null:t;return pt.create(r).meridiems()},e.eras=function(e,t){void 0===e&&(e="short");var r=(void 0===t?{}:t).locale,n=void 0===r?null:r;return pt.create(n,null,"gregory").eras(e)},e.features=function(){return{relative:Z()}},e}();function hr(e,t){var r=function(e){return e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},n=r(t)-r(e);return Math.floor(cr.fromMillis(n).as("days"))}function yr(e,t,r,n){var i=function(e,t,r){for(var n,i,a={},o=0,s=[["years",function(e,t){return t.year-e.year}],["quarters",function(e,t){return t.quarter-e.quarter}],["months",function(e,t){return t.month-e.month+12*(t.year-e.year)}],["weeks",function(e,t){var r=hr(e,t);return(r-r%7)/7}],["days",hr]];o<s.length;o++){var l=s[o],u=l[0],c=l[1];if(r.indexOf(u)>=0){var f;n=u;var p,d=c(e,t);(i=e.plus(((f={})[u]=d,f)))>t?(e=e.plus(((p={})[u]=d-1,p)),d-=1):e=i,a[u]=d}}return[e,a,i,n]}(e,t,r),a=i[0],o=i[1],s=i[2],l=i[3],u=t-a,c=r.filter((function(e){return["hours","minutes","seconds","milliseconds"].indexOf(e)>=0}));if(0===c.length){var f;if(s<t)s=a.plus(((f={})[l]=1,f));s!==a&&(o[l]=(o[l]||0)+u/(s-a))}var p,d=cr.fromObject(o,n);return c.length>0?(p=cr.fromMillis(u,n)).shiftTo.apply(p,c).plus(d):d}var vr={arab:"[Ù -Ù©]",arabext:"[Û°-Û¹]",bali:"[á­-á­]",beng:"[à§¦-à§¯]",deva:"[à¥¦-à¥¯]",fullwide:"[ï¼-ï¼]",gujr:"[à«¦-à«¯]",hanidec:"[ã|ä¸|äº|ä¸|å|äº|å­|ä¸|å«|ä¹]",khmr:"[á -á©]",knda:"[à³¦-à³¯]",laoo:"[à»-à»]",limb:"[á¥-á¥]",mlym:"[àµ¦-àµ¯]",mong:"[á -á ]",mymr:"[á-á]",orya:"[à­¦-à­¯]",tamldec:"[à¯¦-à¯¯]",telu:"[à±¦-à±¯]",thai:"[à¹-à¹]",tibt:"[à¼ -à¼©]",latn:"\\d"},mr={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},gr=vr.hanidec.replace(/[\[|\]]/g,"").split("");function br(e,t){var r=e.numberingSystem;return void 0===t&&(t=""),new RegExp(""+vr[r||"latn"]+t)}function _r(e,t){return void 0===t&&(t=function(e){return e}),{regex:e,deser:function(e){var r=e[0];return t(function(e){var t=parseInt(e,10);if(isNaN(t)){t="";for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);if(-1!==e[r].search(vr.hanidec))t+=gr.indexOf(e[r]);else for(var i in mr){var a=mr[i],o=a[0],s=a[1];n>=o&&n<=s&&(t+=n-o)}}return parseInt(t,10)}return t}(r))}}}var wr="( |"+String.fromCharCode(160)+")",xr=new RegExp(wr,"g");function Sr(e){return e.replace(/\./g,"\\.?").replace(xr,wr)}function kr(e){return e.replace(/\./g,"").replace(xr," ").toLowerCase()}function Tr(e,t){return null===e?null:{regex:RegExp(e.map(Sr).join("|")),deser:function(r){var n=r[0];return e.findIndex((function(e){return kr(n)===kr(e)}))+t}}}function Er(e,t){return{regex:e,deser:function(e){return he(e[1],e[2])},groups:t}}function Ir(e){return{regex:e,deser:function(e){return e[0]}}}var Cr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};var Or=null;function Lr(e,t){if(e.literal)return e;var r=Re.macroTokenToFormatOpts(e.val);if(!r)return e;var n=Re.create(t,r).formatDateTimeParts((Or||(Or=hn.fromMillis(1555555555555)),Or)).map((function(e){return function(e,t,r){var n=e.type,i=e.value;if("literal"===n)return{literal:!0,val:i};var a=r[n],o=Cr[n];return"object"==typeof o&&(o=o[a]),o?{literal:!1,val:o}:void 0}(e,0,r)}));return n.includes(void 0)?e:n}function Ar(e,t,r){var n=function(e,t){var r;return(r=Array.prototype).concat.apply(r,e.map((function(e){return Lr(e,t)})))}(Re.parseFormat(r),e),i=n.map((function(t){return r=t,i=br(n=e),a=br(n,"{2}"),o=br(n,"{3}"),s=br(n,"{4}"),l=br(n,"{6}"),u=br(n,"{1,2}"),c=br(n,"{1,3}"),f=br(n,"{1,6}"),p=br(n,"{1,9}"),d=br(n,"{2,4}"),h=br(n,"{4,6}"),y=function(e){return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:function(e){return e[0]},literal:!0};var t},v=function(e){if(r.literal)return y(e);switch(e.val){case"G":return Tr(n.eras("short",!1),0);case"GG":return Tr(n.eras("long",!1),0);case"y":return _r(f);case"yy":case"kk":return _r(d,pe);case"yyyy":case"kkkk":return _r(s);case"yyyyy":return _r(h);case"yyyyyy":return _r(l);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return _r(u);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return _r(a);case"MMM":return Tr(n.months("short",!0,!1),1);case"MMMM":return Tr(n.months("long",!0,!1),1);case"LLL":return Tr(n.months("short",!1,!1),1);case"LLLL":return Tr(n.months("long",!1,!1),1);case"o":case"S":return _r(c);case"ooo":case"SSS":return _r(o);case"u":return Ir(p);case"uu":return Ir(u);case"uuu":case"E":case"c":return _r(i);case"a":return Tr(n.meridiems(),0);case"EEE":return Tr(n.weekdays("short",!1,!1),1);case"EEEE":return Tr(n.weekdays("long",!1,!1),1);case"ccc":return Tr(n.weekdays("short",!0,!1),1);case"cccc":return Tr(n.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Er(new RegExp("([+-]"+u.source+")(?::("+a.source+"))?"),2);case"ZZZ":return Er(new RegExp("([+-]"+u.source+")("+a.source+")?"),2);case"z":return Ir(/[a-z_+-/]{1,256}?/i);default:return y(e)}}(r)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"},v.token=r,v;var r,n,i,a,o,s,l,u,c,f,p,d,h,y,v})),a=i.find((function(e){return e.invalidReason}));if(a)return{input:t,tokens:n,invalidReason:a.invalidReason};var o=function(e){return["^"+e.map((function(e){return e.regex})).reduce((function(e,t){return e+"("+t.source+")"}),"")+"$",e]}(i),s=o[0],l=o[1],u=RegExp(s,"i"),c=function(e,t,r){var n=e.match(t);if(n){var i={},a=1;for(var o in r)if(ee(r,o)){var s=r[o],l=s.groups?s.groups+1:1;!s.literal&&s.token&&(i[s.token.val[0]]=s.deser(n.slice(a,a+l))),a+=l}return[n,i]}return[n,{}]}(t,u,l),f=c[0],p=c[1],d=p?function(e){var t,r=null;return K(e.z)||(r=He.create(e.z)),K(e.Z)||(r||(r=new We(e.Z)),t=e.Z),K(e.q)||(e.M=3*(e.q-1)+1),K(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),K(e.u)||(e.S=ae(e.u)),[Object.keys(e).reduce((function(t,r){var n=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(r);return n&&(t[n]=e[r]),t}),{}),r,t]}(p):[null,null,void 0],h=d[0],y=d[1],v=d[2];if(ee(p,"a")&&ee(p,"H"))throw new _("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:u,rawMatches:f,matches:p,result:h,zone:y,specificOffset:v}}var Mr=[0,31,59,90,120,151,181,212,243,273,304,334],Nr=[0,31,60,91,121,152,182,213,244,274,305,335];function Rr(e,t){return new Pe("unit out of range","you specified "+t+" (of type "+(void 0===t?"undefined":r.default(t))+") as a "+e+", which is invalid")}function Pr(e,t,r){var n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);var i=n.getUTCDay();return 0===i?7:i}function Fr(e,t,r){return r+(se(e)?Nr:Mr)[t-1]}function jr(e,t){var r=se(e)?Nr:Mr,n=r.findIndex((function(e){return e<t}));return{month:n+1,day:t-r[n]}}function Dr(e){var t,r=e.year,n=e.month,i=e.day,o=Fr(r,n,i),s=Pr(r,n,i),l=Math.floor((o-s+10)/7);return l<1?l=fe(t=r-1):l>fe(r)?(t=r+1,l=1):t=r,a({weekYear:t,weekNumber:l,weekday:s},ge(e))}function Ur(e){var t,r=e.weekYear,n=e.weekNumber,i=e.weekday,o=Pr(r,1,4),s=le(r),l=7*n+i-o-3;l<1?l+=le(t=r-1):l>s?(t=r+1,l-=le(r)):t=r;var u=jr(t,l);return a({year:t,month:u.month,day:u.day},ge(e))}function Vr(e){var t=e.year;return a({year:t,ordinal:Fr(t,e.month,e.day)},ge(e))}function Br(e){var t=e.year,r=jr(t,e.ordinal);return a({year:t,month:r.month,day:r.day},ge(e))}function Hr(e){var t=Y(e.year),r=te(e.month,1,12),n=te(e.day,1,ue(e.year,e.month));return t?r?!n&&Rr("day",e.day):Rr("month",e.month):Rr("year",e.year)}function zr(e){var t=e.hour,r=e.minute,n=e.second,i=e.millisecond,a=te(t,0,23)||24===t&&0===r&&0===n&&0===i,o=te(r,0,59),s=te(n,0,59),l=te(i,0,999);return a?o?s?!l&&Rr("millisecond",i):Rr("second",n):Rr("minute",r):Rr("hour",t)}var Wr="Invalid DateTime",Gr=864e13;function Jr(e){return new Pe("unsupported zone",'the zone "'+e.name+'" is not supported')}function qr(e){return null===e.weekData&&(e.weekData=Dr(e.c)),e.weekData}function Xr(e,t){var r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new hn(a({},r,t,{old:r}))}function Kr(e,t,r){var n=e-6e4*t,i=r.offset(n);if(t===i)return[n,t];n-=6e4*(i-t);var a=r.offset(n);return i===a?[n,i]:[e-6e4*Math.min(i,a),Math.max(i,a)]}function $r(e,t){var r=new Date(e+=6e4*t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Yr(e,t,r){return Kr(ce(e),t,r)}function Zr(e,t){var r=e.o,n=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),o=a({},e.c,{year:n,month:i,day:Math.min(e.c.day,ue(n,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),s=cr.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),l=Kr(ce(o),r,e.zone),u=l[0],c=l[1];return 0!==s&&(u+=s,c=e.zone.offset(u)),{ts:u,o:c}}function Qr(e,t,r,n,i,o){var s=r.setZone,l=r.zone;if(e&&0!==Object.keys(e).length){var u=t||l,c=hn.fromObject(e,a({},r,{zone:u,specificOffset:o}));return s?c:c.setZone(l)}return hn.invalid(new Pe("unparsable",'the input "'+i+"\" can't be parsed as "+n))}function en(e,t,r){return void 0===r&&(r=!0),e.isValid?Re.create(pt.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function tn(e,t){var r=e.c.year>9999||e.c.year<0,n="";return r&&e.c.year>=0&&(n+="+"),n+=re(e.c.year,r?6:4),t?(n+="-",n+=re(e.c.month),n+="-",n+=re(e.c.day)):(n+=re(e.c.month),n+=re(e.c.day)),n}function rn(e,t,r,n,i){var a=re(e.c.hour);return t?(a+=":",a+=re(e.c.minute),0===e.c.second&&r||(a+=":")):a+=re(e.c.minute),0===e.c.second&&r||(a+=re(e.c.second),0===e.c.millisecond&&n||(a+=".",a+=re(e.c.millisecond,3))),i&&(e.isOffsetFixed&&0===e.offset?a+="Z":e.o<0?(a+="-",a+=re(Math.trunc(-e.o/60)),a+=":",a+=re(Math.trunc(-e.o%60))):(a+="+",a+=re(Math.trunc(e.o/60)),a+=":",a+=re(Math.trunc(e.o%60)))),a}var nn={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},an={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},on={ordinal:1,hour:0,minute:0,second:0,millisecond:0},sn=["year","month","day","hour","minute","second","millisecond"],ln=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],un=["year","ordinal","hour","minute","second","millisecond"];function cn(e){var t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new w(e);return t}function fn(e,t){var r,n,i=Je(t.zone,Qe.defaultZone),a=pt.fromObject(t),o=Qe.now();if(K(e.year))r=o;else{for(var s,l=y(sn);!(s=l()).done;){var u=s.value;K(e[u])&&(e[u]=nn[u])}var c=Hr(e)||zr(e);if(c)return hn.invalid(c);var f=Yr(e,i.offset(o),i);r=f[0],n=f[1]}return new hn({ts:r,zone:i,loc:a,o:n})}function pn(e,t,r){var n=!!K(r.round)||r.round,i=function(e,i){return e=oe(e,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(e,i)},a=function(n){return r.calendary?t.hasSame(e,n)?0:t.startOf(n).diff(e.startOf(n),n).get(n):t.diff(e,n).get(n)};if(r.unit)return i(a(r.unit),r.unit);for(var o,s=y(r.units);!(o=s()).done;){var l=o.value,u=a(l);if(Math.abs(u)>=1)return i(u,l)}return i(e>t?-0:0,r.units[r.units.length-1])}function dn(e){var t,r={};return e.length>0&&"object"==typeof e[e.length-1]?(r=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[r,t]}var hn=function(){function e(e){var t=e.zone||Qe.defaultZone,r=e.invalid||(Number.isNaN(e.ts)?new Pe("invalid input"):null)||(t.isValid?null:Jr(t));this.ts=K(e.ts)?Qe.now():e.ts;var n=null,i=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t)){var a=[e.old.c,e.old.o];n=a[0],i=a[1]}else{var o=t.offset(this.ts);n=$r(this.ts,o),n=(r=Number.isNaN(n.year)?new Pe("invalid input"):null)?null:n,i=r?null:o}this._zone=t,this.loc=e.loc||pt.create(),this.invalid=r,this.weekData=null,this.c=n,this.o=i,this.isLuxonDateTime=!0}e.now=function(){return new e({})},e.local=function(){var e=dn(arguments),t=e[0],r=e[1],n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],l=r[5],u=r[6];return fn({year:n,month:i,day:a,hour:o,minute:s,second:l,millisecond:u},t)},e.utc=function(){var e=dn(arguments),t=e[0],r=e[1],n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],l=r[5],u=r[6];return t.zone=We.utcInstance,fn({year:n,month:i,day:a,hour:o,minute:s,second:l,millisecond:u},t)},e.fromJSDate=function(t,r){void 0===r&&(r={});var n,i=(n=t,"[object Date]"===Object.prototype.toString.call(n)?t.valueOf():NaN);if(Number.isNaN(i))return e.invalid("invalid input");var a=Je(r.zone,Qe.defaultZone);return a.isValid?new e({ts:i,zone:a,loc:pt.fromObject(r)}):e.invalid(Jr(a))},e.fromMillis=function(t,n){if(void 0===n&&(n={}),$(t))return t<-864e13||t>Gr?e.invalid("Timestamp out of range"):new e({ts:t,zone:Je(n.zone,Qe.defaultZone),loc:pt.fromObject(n)});throw new x("fromMillis requires a numerical input, but received a "+(void 0===t?"undefined":r.default(t))+" with value "+t)},e.fromSeconds=function(t,r){if(void 0===r&&(r={}),$(t))return new e({ts:1e3*t,zone:Je(r.zone,Qe.defaultZone),loc:pt.fromObject(r)});throw new x("fromSeconds requires a numerical input")},e.fromObject=function(t,r){void 0===r&&(r={}),t=t||{};var n=Je(r.zone,Qe.defaultZone);if(!n.isValid)return e.invalid(Jr(n));var i=Qe.now(),a=K(r.specificOffset)?n.offset(i):r.specificOffset,o=ve(t,cn),s=!K(o.ordinal),l=!K(o.year),u=!K(o.month)||!K(o.day),c=l||u,f=o.weekYear||o.weekNumber,p=pt.fromObject(r);if((c||s)&&f)throw new _("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&s)throw new _("Can't mix ordinal dates with month/day");var d,h,v=f||o.weekday&&!c,m=$r(i,a);v?(d=ln,h=an,m=Dr(m)):s?(d=un,h=on,m=Vr(m)):(d=sn,h=nn);for(var g,b=!1,w=y(d);!(g=w()).done;){var x=g.value;K(o[x])?o[x]=b?h[x]:m[x]:b=!0}var S=v?function(e){var t=Y(e.weekYear),r=te(e.weekNumber,1,fe(e.weekYear)),n=te(e.weekday,1,7);return t?r?!n&&Rr("weekday",e.weekday):Rr("week",e.week):Rr("weekYear",e.weekYear)}(o):s?function(e){var t=Y(e.year),r=te(e.ordinal,1,le(e.year));return t?!r&&Rr("ordinal",e.ordinal):Rr("year",e.year)}(o):Hr(o),k=S||zr(o);if(k)return e.invalid(k);var T=Yr(v?Ur(o):s?Br(o):o,a,n),E=new e({ts:T[0],zone:n,o:T[1],loc:p});return o.weekday&&c&&t.weekday!==E.weekday?e.invalid("mismatched weekday","you can't specify both a weekday of "+o.weekday+" and a date of "+E.toISO()):E},e.fromISO=function(e,t){void 0===t&&(t={});var r=yt(e,[Ht,Jt],[zt,qt],[Wt,Xt],[Gt,Kt]);return Qr(r[0],r[1],t,"ISO 8601",e)},e.fromRFC2822=function(e,t){void 0===t&&(t={});var r=yt(e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[Pt,Ft]);return Qr(r[0],r[1],t,"RFC 2822",e)},e.fromHTTP=function(e,t){void 0===t&&(t={});var r=yt(e,[jt,Vt],[Dt,Vt],[Ut,Bt]);return Qr(r[0],r[1],t,"HTTP",t)},e.fromFormat=function(t,r,n){if(void 0===n&&(n={}),K(t)||K(r))throw new x("fromFormat requires an input string and a format");var i=n,a=i.locale,o=void 0===a?null:a,s=i.numberingSystem,l=void 0===s?null:s,u=function(e,t,r){var n=Ar(e,t,r);return[n.result,n.zone,n.specificOffset,n.invalidReason]}(pt.fromOpts({locale:o,numberingSystem:l,defaultToEN:!0}),t,r),c=u[0],f=u[1],p=u[2],d=u[3];return d?e.invalid(d):Qr(c,f,n,"format "+r,t,p)},e.fromString=function(t,r,n){return void 0===n&&(n={}),e.fromFormat(t,r,n)},e.fromSQL=function(e,t){void 0===t&&(t={});var r=yt(e,[Yt,Qt],[Zt,er]);return Qr(r[0],r[1],t,"SQL",e)},e.invalid=function(t,r){if(void 0===r&&(r=null),!t)throw new x("need to specify a reason the DateTime is invalid");var n=t instanceof Pe?t:new Pe(t,r);if(Qe.throwOnInvalid)throw new m(n);return new e({invalid:n})},e.isDateTime=function(e){return e&&e.isLuxonDateTime||!1};var t=e.prototype;return t.get=function(e){return this[e]},t.resolvedLocaleOptions=function(e){void 0===e&&(e={});var t=Re.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t.locale,numberingSystem:t.numberingSystem,outputCalendar:t.calendar}},t.toUTC=function(e,t){return void 0===e&&(e=0),void 0===t&&(t={}),this.setZone(We.instance(e),t)},t.toLocal=function(){return this.setZone(Qe.defaultZone)},t.setZone=function(t,r){var n=void 0===r?{}:r,i=n.keepLocalTime,a=void 0!==i&&i,o=n.keepCalendarTime,s=void 0!==o&&o;if((t=Je(t,Qe.defaultZone)).equals(this.zone))return this;if(t.isValid){var l=this.ts;if(a||s){var u=t.offset(this.ts);l=Yr(this.toObject(),u,t)[0]}return Xr(this,{ts:l,zone:t})}return e.invalid(Jr(t))},t.reconfigure=function(e){var t=void 0===e?{}:e,r=t.locale,n=t.numberingSystem,i=t.outputCalendar;return Xr(this,{loc:this.loc.clone({locale:r,numberingSystem:n,outputCalendar:i})})},t.setLocale=function(e){return this.reconfigure({locale:e})},t.set=function(e){if(!this.isValid)return this;var t,r=ve(e,cn),n=!K(r.weekYear)||!K(r.weekNumber)||!K(r.weekday),i=!K(r.ordinal),o=!K(r.year),s=!K(r.month)||!K(r.day),l=o||s,u=r.weekYear||r.weekNumber;if((l||i)&&u)throw new _("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&i)throw new _("Can't mix ordinal dates with month/day");n?t=Ur(a({},Dr(this.c),r)):K(r.ordinal)?(t=a({},this.toObject(),r),K(r.day)&&(t.day=Math.min(ue(t.year,t.month),t.day))):t=Br(a({},Vr(this.c),r));var c=Yr(t,this.o,this.zone);return Xr(this,{ts:c[0],o:c[1]})},t.plus=function(e){return this.isValid?Xr(this,Zr(this,cr.fromDurationLike(e))):this},t.minus=function(e){return this.isValid?Xr(this,Zr(this,cr.fromDurationLike(e).negate())):this},t.startOf=function(e){if(!this.isValid)return this;var t={},r=cr.normalizeUnit(e);switch(r){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===r&&(t.weekday=1),"quarters"===r){var n=Math.ceil(this.month/3);t.month=3*(n-1)+1}return this.set(t)},t.endOf=function(e){var t;return this.isValid?this.plus((t={},t[e]=1,t)).startOf(e).minus(1):this},t.toFormat=function(e,t){return void 0===t&&(t={}),this.isValid?Re.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Wr},t.toLocaleString=function(e,t){return void 0===e&&(e=I),void 0===t&&(t={}),this.isValid?Re.create(this.loc.clone(t),e).formatDateTime(this):Wr},t.toLocaleParts=function(e){return void 0===e&&(e={}),this.isValid?Re.create(this.loc.clone(e),e).formatDateTimeParts(this):[]},t.toISO=function(e){var t=void 0===e?{}:e,r=t.format,n=void 0===r?"extended":r,i=t.suppressSeconds,a=void 0!==i&&i,o=t.suppressMilliseconds,s=void 0!==o&&o,l=t.includeOffset,u=void 0===l||l;if(!this.isValid)return null;var c="extended"===n,f=tn(this,c);return f+="T",f+=rn(this,c,a,s,u)},t.toISODate=function(e){var t=(void 0===e?{}:e).format,r=void 0===t?"extended":t;return this.isValid?tn(this,"extended"===r):null},t.toISOWeekDate=function(){return en(this,"kkkk-'W'WW-c")},t.toISOTime=function(e){var t=void 0===e?{}:e,r=t.suppressMilliseconds,n=void 0!==r&&r,i=t.suppressSeconds,a=void 0!==i&&i,o=t.includeOffset,s=void 0===o||o,l=t.includePrefix,u=void 0!==l&&l,c=t.format,f=void 0===c?"extended":c;return this.isValid?(u?"T":"")+rn(this,"extended"===f,a,n,s):null},t.toRFC2822=function(){return en(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},t.toHTTP=function(){return en(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},t.toSQLDate=function(){return this.isValid?tn(this,!0):null},t.toSQLTime=function(e){var t=void 0===e?{}:e,r=t.includeOffset,n=void 0===r||r,i=t.includeZone,a=void 0!==i&&i,o=t.includeOffsetSpace,s="HH:mm:ss.SSS";return(a||n)&&((void 0===o||o)&&(s+=" "),a?s+="z":n&&(s+="ZZ")),en(this,s,!0)},t.toSQL=function(e){return void 0===e&&(e={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(e):null},t.toString=function(){return this.isValid?this.toISO():Wr},t.valueOf=function(){return this.toMillis()},t.toMillis=function(){return this.isValid?this.ts:NaN},t.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},t.toUnixInteger=function(){return this.isValid?Math.floor(this.ts/1e3):NaN},t.toJSON=function(){return this.toISO()},t.toBSON=function(){return this.toJSDate()},t.toObject=function(e){if(void 0===e&&(e={}),!this.isValid)return{};var t=a({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t},t.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},t.diff=function(e,t,r){if(void 0===t&&(t="milliseconds"),void 0===r&&(r={}),!this.isValid||!e.isValid)return cr.invalid("created by diffing an invalid DateTime");var n,i=a({locale:this.locale,numberingSystem:this.numberingSystem},r),o=(n=t,Array.isArray(n)?n:[n]).map(cr.normalizeUnit),s=e.valueOf()>this.valueOf(),l=yr(s?this:e,s?e:this,o,i);return s?l.negate():l},t.diffNow=function(t,r){return void 0===t&&(t="milliseconds"),void 0===r&&(r={}),this.diff(e.now(),t,r)},t.until=function(e){return this.isValid?pr.fromDateTimes(this,e):this},t.hasSame=function(e,t){if(!this.isValid)return!1;var r=e.valueOf(),n=this.setZone(e.zone,{keepLocalTime:!0});return n.startOf(t)<=r&&r<=n.endOf(t)},t.equals=function(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)},t.toRelative=function(t){if(void 0===t&&(t={}),!this.isValid)return null;var r=t.base||e.fromObject({},{zone:this.zone}),n=t.padding?this<r?-t.padding:t.padding:0,i=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(i=t.unit,o=void 0),pn(r,this.plus(n),a({},t,{numeric:"always",units:i,unit:o}))},t.toRelativeCalendar=function(t){return void 0===t&&(t={}),this.isValid?pn(t.base||e.fromObject({},{zone:this.zone}),this,a({},t,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},e.min=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.every(e.isDateTime))throw new x("min requires all arguments be DateTimes");return Q(r,(function(e){return e.valueOf()}),Math.min)},e.max=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.every(e.isDateTime))throw new x("max requires all arguments be DateTimes");return Q(r,(function(e){return e.valueOf()}),Math.max)},e.fromFormatExplain=function(e,t,r){void 0===r&&(r={});var n=r,i=n.locale,a=void 0===i?null:i,o=n.numberingSystem,s=void 0===o?null:o;return Ar(pt.fromOpts({locale:a,numberingSystem:s,defaultToEN:!0}),e,t)},e.fromStringExplain=function(t,r,n){return void 0===n&&(n={}),e.fromFormatExplain(t,r,n)},i(e,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?qr(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?qr(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?qr(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Vr(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?dr.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?dr.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?dr.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?dr.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return se(this.year)}},{key:"daysInMonth",get:function(){return ue(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?le(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?fe(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return I}},{key:"DATE_MED",get:function(){return C}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return O}},{key:"DATE_FULL",get:function(){return L}},{key:"DATE_HUGE",get:function(){return A}},{key:"TIME_SIMPLE",get:function(){return M}},{key:"TIME_WITH_SECONDS",get:function(){return N}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return R}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return P}},{key:"TIME_24_SIMPLE",get:function(){return F}},{key:"TIME_24_WITH_SECONDS",get:function(){return j}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return D}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return U}},{key:"DATETIME_SHORT",get:function(){return V}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return B}},{key:"DATETIME_MED",get:function(){return H}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return z}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return W}},{key:"DATETIME_FULL",get:function(){return G}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return J}},{key:"DATETIME_HUGE",get:function(){return q}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return X}}]),e}();function yn(e){if(hn.isDateTime(e))return e;if(e&&e.valueOf&&$(e.valueOf()))return hn.fromJSDate(e);if(e&&"object"==typeof e)return hn.fromObject(e);throw new x("Unknown datetime argument: "+e+", of type "+(void 0===e?"undefined":r.default(e)))}e.exports.DateTime=hn,e.exports.Duration=cr,e.exports.FixedOffsetZone=We,e.exports.IANAZone=He,e.exports.Info=dr,e.exports.Interval=pr,e.exports.InvalidZone=Ge,e.exports.Settings=Qe,e.exports.SystemZone=De,e.exports.VERSION="2.3.2",e.exports.Zone=Fe})),s.register("3MoeD",(function(t,r){e(t.exports,"format",(function(){return c})),e(t.exports,"_parseInfo",(function(){return p})),e(t.exports,"parse",(function(){return d})),s("8TSCy");var n=s("iCnzh"),i=s("ifq4M"),a=s("1TSdR"),o=s("86CDN"),l={ar:[".",","],bg:[",","Â "],bs:[",","."],ca:[",","."],cs:[",","Â "],da:[",","."],de:[",","."],"de-ch":[".","â"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","Â "],fi:[",","Â "],fr:[",","â¯"],"fr-ch":[",","â¯"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","Â "],id:[",","."],it:[",","."],"it-ch":[".","â"],ja:[".",","],ko:[".",","],lt:[",","Â "],lv:[",","Â "],mk:[",","."],nb:[",","Â "],nl:[",","."],pl:[",","Â "],pt:[",","."],"pt-pt":[",","Â "],ro:[",","."],ru:[",","Â "],sk:[",","Â "],sl:[",","."],sr:[",","."],sv:[",","Â "],th:[".",","],tr:[",","."],uk:[",","Â "],vi:[",","."],zh:[".",","]};function u(e){e||(e=(0,o.getLocale)());var t=e in l;if(!t){var r=e.split("-");r.length>1&&r[0]in l&&(e=r[0],t=!0),t||(e="en")}var i=n.default(l[e],3),a=i[0],s=i[1],u=i[2];return{decimal:a,group:s,pattern:void 0===u?"#,##0.###":u}}function c(e,t){var r=u((t=i.default({},t)).locale);t.customs=r;var n=t.pattern||r.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,r){var n=(r=r||{}).customs.group,i=r.customs.decimal,a=t.split(";"),o=a[0];if(-1!==(t=a[e<0?1:0]||"-"+o).indexOf("%"))e*=100;else if(-1!==t.indexOf("â°"))e*=1e3;else{if(-1!==t.indexOf("Â¤"))throw new Error("currency notation not supported");if(-1!==t.indexOf("E"))throw new Error("exponential notation not supported")}var s=f,l=o.match(s);if(!l)throw new Error("unable to find a number expression in pattern: "+t);return!1===r.fractional&&(r.places=0),t.replace(s,function(e,t,r){!0===(r=r||{}).places&&(r.places=0),r.places===1/0&&(r.places=6);var n=t.split("."),i="string"==typeof r.places&&r.places.indexOf(","),a=r.places;i?a=r.places.substring(i+1):a>=0||(a=(n[1]||[]).length),r.round<0||(e=Number(e.toFixed(Number(a))));var o=String(Math.abs(e)).split("."),s=o[1]||"";if(n[1]||r.places){i&&(r.places=r.places.substring(0,i));var l=void 0!==r.places?r.places:n[1]&&n[1].lastIndexOf("0")+1;l>s.length&&(o[1]=s.padEnd(Number(l),"0")),a<s.length&&(o[1]=s.substr(0,Number(a)))}else o[1]&&o.pop();var u=n[0].replace(",",""),c=u.indexOf("0");-1!==c&&((c=u.length-c)>o[0].length&&(o[0]=o[0].padStart(c,"0")),-1===u.indexOf("#")&&(o[0]=o[0].substr(o[0].length-c)));var f,p,d=n[0].lastIndexOf(",");if(-1!==d){f=n[0].length-d-1;var h=n[0].substr(0,d);-1!==(d=h.lastIndexOf(","))&&(p=h.length-d-1)}for(var y=[],v=o[0];v;){var m=v.length-f;y.push(m>0?v.substr(m):v),v=m>0?v.slice(0,m):"",p&&(f=p,p=void 0)}return o[0]=y.reverse().join(r.group||","),o.join(r.decimal||".")}(e,l[0],{decimal:i,group:n,places:r.places,round:r.round}))}(e,n,t)}var f=/[#0,]*[#0](?:\.0*#*)?/;function p(e){var t=u((e=e||{}).locale),r=e.pattern||t.pattern,n=t.group,i=t.decimal,o=1;if(-1!==r.indexOf("%"))o/=100;else if(-1!==r.indexOf("â°"))o/=1e3;else if(-1!==r.indexOf("Â¤"))throw new Error("currency notation not supported");var s=r.split(";");return 1===s.length&&s.push("-"+s[0]),{regexp:y(s,(function(t){return(t="(?:"+(0,a.escapeRegExpString)(t,".")+")").replace(f,(function(t){var r={signed:!1,separator:e.strict?n:[n,""],fractional:e.fractional,decimal:i,exponent:!1},a=t.split("."),s=e.places;1===a.length&&1!==o&&(a[1]="###"),1===a.length||0===s?r.fractional=!1:(void 0===s&&(s=e.pattern?a[1].lastIndexOf("0")+1:1/0),s&&null==e.fractional&&(r.fractional=!0),!e.places&&s<a[1].length&&(s+=","+a[1].length),r.places=s);var l=a[0].split(",");return l.length>1&&(r.groupSize=l.pop().length,l.length>1&&(r.groupSize2=l.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);var t=h(e),r=y(e.fractional,(function(t){var r="";return t&&0!==e.places&&(r="\\"+e.decimal,e.places===1/0?r="(?:"+r+"\\d+)?":r+="\\d{"+e.places+"}"),r}),!0),n=t+r;return r&&(n="(?:(?:"+n+")|(?:"+r+"))"),n+y(e.exponent,(function(t){return t?"([eE]"+h({signed:e.eSigned})+")":""}))}(r)+")"}))}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:n,decimal:i,factor:o}}function d(e,t){var r=p(t),n=new RegExp("^"+r.regexp+"$").exec(e);if(!n)return NaN;var i=n[1];if(!n[1]){if(!n[2])return NaN;i=n[2],r.factor*=-1}return i=i.replace(new RegExp("["+r.group+"\\s\\xa0]","g"),"").replace(r.decimal,"."),Number(i)*r.factor}function h(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",y(e.signed,(function(e){return e?"[-+]":""}),!0)+y(e.separator,(function(t){if(!t)return"(?:\\d+)";" "===(t=(0,a.escapeRegExpString)(t))?t="\\s":"Â "===t&&(t="\\s\\xa0");var r=e.groupSize,n=e.groupSize2;if(n){var i="(?:0|[1-9]\\d{0,"+(n-1)+"}(?:["+t+"]\\d{"+n+"})*["+t+"]\\d{"+r+"})";return r-n>0?"(?:"+i+"|(?:0|[1-9]\\d{0,"+(r-1)+"}))":i}return"(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+t+"]\\d{"+r+"})*)"}),!0)}var y=function(e,t,r){if(!(e instanceof Array))return t(e);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i]));return v(n.join("|"),r)},v=function(e,t){return"("+(t?"?:":"")+e+")"}})),s.register("9yzf5",(function(t,r){e(t.exports,"FeatureServiceDatabaseType",(function(){return n})),e(t.exports,"IdState",(function(){return i})),e(t.exports,"cloneField",(function(){return f})),e(t.exports,"esriFieldToJson",(function(){return p})),e(t.exports,"isString",(function(){return d})),e(t.exports,"isNumber",(function(){return h})),e(t.exports,"equalityTest",(function(){return v})),e(t.exports,"convertSquareUnitsToCode",(function(){return m})),e(t.exports,"shapeExtent",(function(){return g})),e(t.exports,"convertLinearUnitsToCode",(function(){return b})),e(t.exports,"defaultMaxRecords",(function(){return _})),e(t.exports,"layerGeometryEsriConstants",(function(){return w})),e(t.exports,"layerGeometryEsriRestConstants",(function(){return x})),e(t.exports,"layerFieldEsriConstants",(function(){return S})),e(t.exports,"reduceArrayWithPromises",(function(){return k})),e(t.exports,"extractServiceUrl",(function(){return T})),e(t.exports,"stableStringify",(function(){return E}));var n,i,a,o,l=s("10vEZ"),u=s("gINRd"),c=s("buMuJ");function f(e){return c.default.fromJSON(e.toJSON())}function p(e){return e.toJSON?e.toJSON():e}function d(e){return"string"==typeof e||e instanceof String}function h(e){return"number"==typeof e}function y(e){return e instanceof Date}function v(e,t){return e===t||!(!y(e)||!y(t))&&e.getTime()===t.getTime()}function m(e){if(void 0===e)return null;if("number"==typeof e)return e;switch(e.toLowerCase()){case"meters":case"meter":return 109404;case"miles":case"mile":return 109413;case"kilometers":case"kilometer":case"km":return 109414}return null}function g(e){if(null===e)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new(0,u.default)({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function b(e){if(void 0===e)return null;if("number"==typeof e)return e;if("number"==typeof e)return e;switch(e.toLowerCase()){case"meters":case"meter":return 9001;case"miles":case"mile":return 9035;case"kilometers":case"kilometer":case"km":return 9036}return null}(o=n||(n={}))[o.Standardised=0]="Standardised",o[o.StandardisedNoInterval=1]="StandardisedNoInterval",o[o.SqlServer=2]="SqlServer",o[o.Oracle=3]="Oracle",o[o.Postgres=4]="Postgres",o[o.PGDB=5]="PGDB",o[o.FILEGDB=6]="FILEGDB",o[o.NotEvaluated=7]="NotEvaluated",(a=i||(i={}))[a.InFeatureSet=0]="InFeatureSet",a[a.NotInFeatureSet=1]="NotInFeatureSet",a[a.Unknown=2]="Unknown";var _=1e3;var w={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},x={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},S={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};function k(e,t){return(0,l.create)((function(r,n){var i=(0,l.resolve)(!0);e.reduce((function(e,r,n,i){return e.then((function(e){try{return t(e,r,n,i)}catch(e){return(0,l.reject)(e)}}),(function(e){return(0,l.reject)(e)}))}),i).then(r,n)}))}function T(e){return void 0===e?"":e=(e=(e=e.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function E(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,n="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},a={key:n,value:e[n]};return r(i,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,o;if(Array.isArray(t)){for(o="[",r=0;r<t.length;r++)r&&(o+=","),o+=e(t[r])||"null";return o+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=a.push(t)-1,l=Object.keys(t).sort(i&&i(t));for(o="",r=0;r<l.length;r++){var u=l[r],c=e(t[u]);c&&(o&&(o+=","),o+=JSON.stringify(u)+":"+c)}return a.splice(s,1),"{"+o+"}"}}(e)}})),s.register("g15Jq",(function(t,i){r(t.exports),e(t.exports,"default",(function(){return He})),s("8TSCy");var a=s("g9uIT"),o=s("dap1g"),l=s("f9pi5"),u=s("5Vgx8"),c=s("bFSSc"),f=s("jK9zx"),p=s("ifq4M"),d=s("jcnGU"),h=s("8atho"),y=s("aNpz9"),v=s("2TvXO"),m=s("7eJjO"),g=s("3MVX3");s("35mRC"),s("fqK5H"),s("hHJvn"),s("aOUND"),s("7Kl6r");var b=s("fPYaT"),_=s("aRUMT"),w=s("lubf9"),x=s("9ulmN"),S=s("9pNSx"),k=s("cM5QQ"),T=s("3SeOo"),E=s("d2yMj"),I=s("kyj08"),C=s("qhgF7"),O=s("2VlWd"),L=s("79ASa"),A=s("jHOLN"),M=s("7qybv"),N=s("8NioF"),R=s("8EPEw"),P=s("10vEZ"),F=s("37plS"),j=s("kYueh"),D=s("iho5X");s("lNwWH");var U=s("ba18L"),V=s("eB8sj"),B=s("fcwIv"),H=s("kced1"),z=s("bVD6V"),W=s("ceKt1"),G=s("gINRd"),J=s("dt8qO"),q=s("j40xv"),X=s("4LDxK"),K=s("kIGY4"),$=s("jy0BF"),Y=s("aLy89"),Z=s("gIXJ2"),Q=s("cv2jJ"),ee=s("6bOVn"),te=s("5N5S1"),re=s("gkEnw"),ne=s("9bAYR"),ie=s("13Qxf"),ae=s("3GzOb"),oe=s("2t08e"),se=s("lmu5w"),le=s("gRgX5"),ue=s("1PReb"),ce=s("bkDoB"),fe=s("gcgvk"),pe=s("hRnYX"),de=s("ko0sb"),he=s("7vTUY"),ye=s("8ffUj"),ve=s("aYrEX"),me=s("gtLRH"),ge=s("kfF7B"),be=s("9saVm"),_e=s("a4yk4"),we=s("iaMRW"),xe=s("eSq8i"),Se=s("2TQQP"),ke=s("lYvo2"),Te=s("f4h86"),Ee=s("cRlei"),Ie=s("8g8vH"),Ce=s("7D30I"),Oe=s("37qRo"),Le=new(0,L.JSONMap)({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),Ae={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},Me="FeatureLayer",Ne=A.default.getLogger("esri.layers.FeatureLayer");function Re(e){return e&&e instanceof E.default}function Pe(e,t,r){return!!(e&&e.hasOwnProperty(t)?e[t]:r)}function Fe(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}function je(e){var t,r=null==e||null==(t=e.supportedSpatialAggregationStatistics)?void 0:t.map((function(e){return e.toLowerCase()}));return{envelope:!(null==r||!r.includes("envelopeaggregate")),centroid:!(null==r||!r.includes("centroidaggregate")),convexHull:!(null==r||!r.includes("convexhullaggregate"))}}var De=(0,de.defineFieldProperties)();function Ue(e,t,r){var n=!(null==r||!r.writeLayerSchema);return{enabled:n,ignoreOrigin:n}}var Ve=function(e){"use strict";a.default(r,e);var t=o.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a;return l.default(this,r),(a=t.call.apply(t,[this].concat(u.default(n))))._handles=new(0,C.default),a.capabilities=null,a.charts=null,a.copyright=null,a.datesInUnknownTimezone=!1,a.displayField=null,a.definitionExpression=null,a.dynamicDataSource=null,a.editFieldsInfo=null,a.editingInfo=null,a.elevationInfo=null,a.featureReduction=null,a.fields=null,a.fieldsIndex=null,a.floorInfo=null,a.formTemplate=null,a.fullExtent=null,a.gdbVersion=null,a.geometryFieldsInfo=null,a.geometryType=null,a.hasM=void 0,a.hasZ=void 0,a.heightModelInfo=null,a.historicMoment=null,a.infoFor3D=null,a.isTable=!1,a.labelsVisible=!0,a.labelingInfo=null,a.layerId=void 0,a.legendEnabled=!0,a.minScale=0,a.maxScale=0,a.globalIdField=null,a.objectIdField=null,a.outFields=null,a.path=null,a.popupEnabled=!0,a.popupTemplate=null,a.relationships=null,a.sourceJSON=null,a.returnM=void 0,a.returnZ=void 0,a.screenSizePerspectiveEnabled=!0,a.serviceDefinitionExpression=null,a.spatialReference=q.default.WGS84,a.subtypeCode=null,a.templates=null,a.timeInfo=null,a.title=null,a.sublayerTitleMode="item-title",a.trackIdField=null,a.type="feature",a.typeIdField=null,a.types=null,a.indexes=new(E.default.ofType(ue.FeatureIndex)),a.userIsAdmin=!1,a.version=void 0,a.visible=!0,c.default(a)}return f.default(r,[{key:"destroy",value:function(){var e;null==(e=this.source)||e.destroy(),this._handles=(0,M.destroyMaybe)(this._handles)}},{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?p.default({url:e},t):e}},{key:"load",value:function(e){var t=this,r=(0,M.isSome)(e)?e.signal:null;if(!(this.portalItem&&this.portalItem.loaded&&this.source)){var i=this,a=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},e).catch(P.throwIfAbortError).then(d.default(n(v).mark((function e(){var t;return n(v).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.url||null!=i.layerId||!/FeatureServer|MapServer\/*$/i.test(i.url)){e.next=5;break}return e.next=3,i._fetchFirstLayerId(r);case 3:null!=(t=e.sent)&&(i.layerId=t);case 5:if(i.url||i._hasMemorySource()){e.next=7;break}throw new(0,I.default)("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");case 7:return e.t0=i,e.next=10,i.createGraphicsSource(r);case 10:return e.t1=e.sent,e.abrupt("return",e.t0._initLayerProperties.call(e.t0,e.t1));case 12:case"end":return e.stop()}}),e)})))).then((function(){return t.finishLoadEditablePortalLayer(e)}));return this.addResolvingPromise(a),Promise.resolve(this)}this.addResolvingPromise(this.createGraphicsSource(r).then((function(e){return t._initLayerProperties(e)})))}},{key:"readCapabilities",value:function(e,t){return t=t.layerDefinition||t,{attachment:this._readAttachmentCapabilities(t.attachmentProperties),data:this._readDataCapabilities(t),metadata:this._readMetadataCapabilities(t),operations:this._readOperationsCapabilities(t.capabilities||e,t),query:this._readQueryCapabilities(t),queryRelated:this._readQueryRelatedCapabilities(t),editing:this._readEditingCapabilities(t)}}},{key:"createQueryVersion",get:function(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}},{key:"editingEnabled",get:function(){return!(this.loaded&&!this.capabilities.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)},set:function(e){null!=e?this._override("editingEnabled",e):this._clearOverride("editingEnabled")}},{key:"readEditingEnabled",value:function(e,t){return this._readEditingEnabled(t,!1)}},{key:"readEditingEnabledFromWebMap",value:function(e,t,r){return this._readEditingEnabled(t,!0,r)}},{key:"writeEditingEnabled",value:function(e,t){this._writeEditingEnabled(e,t,!1)}},{key:"writeEditingEnabledToWebMap",value:function(e,t,r,n){this._writeEditingEnabled(e,t,!0,n)}},{key:"readEditingInfo",value:function(e,t){var r=t.editingInfo;return r?{lastEditDate:null!=r.lastEditDate?new Date(r.lastEditDate):null}:null}},{key:"readIsTable",value:function(e,t){return"Table"===(t=t&&t.layerDefinition||t).type||!t.geometryType}},{key:"writeIsTable",value:function(e,t,r,n){null!=n&&n.writeLayerSchema&&(0,R.setDeepValue)(r,e?"Table":"Feature Layer",t)}},{key:"readMinScale",value:function(e,t){return t.effectiveMinScale||e||0}},{key:"readMaxScale",value:function(e,t){return t.effectiveMaxScale||e||0}},{key:"readGlobalIdFieldFromService",value:function(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields){var r=!0,n=!1,i=void 0;try{for(var a,o=t.fields[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if("esriFieldTypeGlobalID"===s.type)return s.name}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}}},{key:"readObjectIdFieldFromService",value:function(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields){var r=!0,n=!1,i=void 0;try{for(var a,o=t.fields[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if("esriFieldTypeOID"===s.type)return s.name}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}}},{key:"parsedUrl",get:function(){var e=this.url?(0,j.urlToObject)(this.url):null;return null!=e&&(null!=this.dynamicDataSource?e.path=(0,j.join)(e.path,"dynamicLayer"):null!=this.layerId&&(e.path=(0,j.join)(e.path,this.layerId.toString()))),e}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"renderer",set:function(e){(0,he.fixRendererFields)(e,this.fieldsIndex),this._set("renderer",e)}},{key:"readRenderer",value:function(e,t,r){var n=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(n){var i=(0,w.read)(n,t,r)||void 0;return i||Ne.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:r}),i}if(t.defaultSymbol)return t.types&&t.types.length?new(0,_.default)({defaultSymbol:Be(t.defaultSymbol,t,r),field:t.typeIdField,uniqueValueInfos:t.types.map((function(e){return{id:e.id,symbol:Be(e.symbol,e,r)}}))}):new(0,b.default)({symbol:Be(t.defaultSymbol,t,r)})}},{key:"source",set:function(e){var t=this._get("source");t!==e&&(Re(t)&&this._resetMemorySource(t),Re(e)&&this._initMemorySource(e),this._set("source",e))}},{key:"castSource",value:function(e){return e?Array.isArray(e)||e instanceof E.default?new(0,K.default)({layer:this,items:e}):e:null}},{key:"readSource",value:function(e,t){var r=Te.default.fromJSON(t.featureSet);return new(0,K.default)({layer:this,items:r&&r.features||[]})}},{key:"readServiceDefinitionExpression",value:function(e,t){return t.definitionQuery||t.definitionExpression}},{key:"readTemplates",value:function(e,t){var r=t.editFieldsInfo,n=r&&r.creatorField,i=r&&r.editorField;return e=e&&e.map((function(e){return fe.default.fromJSON(e)})),this._fixTemplates(e,n),this._fixTemplates(e,i),e}},{key:"readTitle",value:function(e,t){var r=t.layerDefinition&&t.layerDefinition.name||t.name,n=t.title||t.layerDefinition&&t.layerDefinition.title;if(r){var i=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?(0,se.titleFromUrlAndName)(this.url,r):r;var a=r;if(!a&&this.url){var o=(0,se.parse)(this.url);(0,M.isSome)(o)&&(a=o.title)}if(!a)return;return"item-title-and-service-name"===this.sublayerTitleMode&&i&&i!==a&&(a=i+" - "+a),(0,se.cleanTitle)(a)}if("item-title"===this.sublayerTitleMode&&n)return n}},{key:"readTitleFromWebMap",value:function(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}},{key:"readTypeIdField",value:function(e,t){var r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();var n=t.fields.find((function(e){return e.name.toLowerCase()===r}));n&&(r=n.name)}return r}},{key:"readTypes",value:function(e,t){var r=this;e=(t=t.layerDefinition||t).types;var n=t.editFieldsInfo,i=n&&n.creatorField,a=n&&n.editorField;return e&&e.map((function(e){return e=pe.default.fromJSON(e),r._fixTemplates(e.templates,i),r._fixTemplates(e.templates,a),e}))}},{key:"url",set:function(e){var t=(0,se.sanitizeUrlWithLayerId)({layer:this,url:e,nonStandardUrlAllowed:!0,logger:Ne});this._set("url",t.url),null!=t.layerId&&this._set("layerId",t.layerId)}},{key:"writeUrl",value:function(e,t,r,n){(0,se.writeUrlWithLayerId)(this,e,null,t,n)}},{key:"readVersion",value:function(e,t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}},{key:"readVisible",value:function(e,t){return t.layerDefinition&&null!=t.layerDefinition.defaultVisibility?!!t.layerDefinition.defaultVisibility:null!=t.visibility?!!t.visibility:void 0}},{key:"addAttachment",value:function(e,t){var r=this;return this.load().then((function(){return r._checkAttachmentSupport(e)})).then((function(){if(!("addAttachment"in r.source))throw new(0,I.default)(Me,"Layer source does not support addAttachment capability");return r.source.addAttachment(e,t)}))}},{key:"updateAttachment",value:function(e,t,r){var n=this;return this.load().then((function(){return n._checkAttachmentSupport(e)})).then((function(){if(!("updateAttachment"in n.source))throw new(0,I.default)(Me,"Layer source does not support updateAttachment capability");return n.source.updateAttachment(e,t,r)}))}},{key:"applyEdits",value:function(e,t){var r=this;return d.default(n(v).mark((function i(){var a;return n(v).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s("cesCO");case 2:return a=n.sent,n.next=5,r.load();case 5:return n.abrupt("return",(n.sent,a.applyEdits(r,r.source,e,t)));case 6:case"end":return n.stop()}}),i)})))()}},{key:"on",value:function(e,t){return h.default(y.default(r.prototype),"on",this).call(this,e,t)}},{key:"createPopupTemplate",value:function(e){return(0,Oe.createPopupTemplate)(this,e)}},{key:"createGraphicsSource",value:function(e){var t=this;return d.default(n(v).mark((function r(){var i,a;return n(v).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t._hasMemorySource()){r.next=2;break}return r.abrupt("return",t.source.load({signal:e}));case 2:return r.next=4,(0,P.whenOrAbort)(s("jO54I"),e);case 4:return i=r.sent,a=i.default,r.abrupt("return",new a({layer:t}).load({signal:e}));case 7:case"end":return r.stop()}}),r)})))()}},{key:"createQuery",value:function(){var e=new(0,Ee.default),t=this.get("capabilities.data"),r=this.get("capabilities.query");e.dynamicDataSource=this.dynamicDataSource,e.historicMoment=this.historicMoment,e.gdbVersion=this.gdbVersion,e.returnGeometry=!0,r&&(e.compactGeometryEnabled=r.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),t&&(t.supportsZ&&null!=this.returnZ&&(e.returnZ=this.returnZ),t.supportsM&&null!=this.returnM&&(e.returnM=this.returnM)),e.outFields=["*"],e.where=this.definitionExpression||"1=1";var n=this.timeOffset,i=this.timeExtent;return e.timeExtent=null!=n&&null!=i?i.offset(-n.value,n.unit):i||null,e.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null,e}},{key:"deleteAttachments",value:function(e,t){var r=this;return this.load().then((function(){return r._checkAttachmentSupport(e)})).then((function(){if(!("deleteAttachments"in r.source))throw new(0,I.default)(Me,"Layer source does not support deleteAttachments capability");return r.source.deleteAttachments(e,t)}))}},{key:"fetchRecomputedExtents",value:function(e){var t=this;return this.load({signal:null==e?void 0:e.signal}).then((function(){if(t.source.fetchRecomputedExtents)return t.source.fetchRecomputedExtents(e);throw new(0,I.default)(Me,"Layer source does not support fetchUpdates capability")}))}},{key:"getFeatureType",value:function(e){var t=this.typeIdField,r=this.types;if(!t||!e)return null;var n=e.attributes?e.attributes[t]:void 0;if(null==n)return null;var i=null;return r.some((function(e){var t=e.id;return null!=t&&(t.toString()===n.toString()&&(i=e),!!i)})),i}},{key:"getFieldDomain",value:function(e,t){var r=t&&t.feature,n=this.getFeatureType(r);if(n){var i=n.domains&&n.domains[e];if(i&&"inherited"!==i.type)return i}return this._getLayerDomain(e)}},{key:"getField",value:function(e){return this.fieldsIndex.get(e)}},{key:"queryAttachments",value:function(e,t){var r=this;return e=ke.default.from(e),this.load().then((function(){if(!r.get("capabilities.data.supportsAttachment"))throw new(0,I.default)(Me,"this layer doesn't support attachments");var t=e.attachmentTypes,n=e.objectIds,i=e.globalIds,a=e.num,o=e.size,s=e.start,l=e.where;if(!r.get("capabilities.operations.supportsQueryAttachments")){var u=n&&n.length>1,c=t&&t.length,f=i&&i.length,p=o&&o.length;if(u||c||f||p||a||s||l)throw new(0,I.default)(Me,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",e)}if(!(n&&n.length||l))throw new(0,I.default)(Me,"'objectIds' or 'where' are required to perform attachment query",e);if(!("queryAttachments"in r.source))throw new(0,I.default)(Me,"Layer source does not support queryAttachments capability",e);return r.source.queryAttachments(e)}))}},{key:"queryFeatures",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryFeatures(Ee.default.from(e)||r.createQuery(),t)})).then((function(e){var t=!0,n=!1,i=void 0;if(null!=e&&e.features)try{for(var a,o=e.features[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var s=a.value;s.layer=s.sourceLayer=r}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return e}))}},{key:"queryObjectIds",value:function(e,t){var r=this;return this.load().then((function(){if(r.source.queryObjectIds)return r.source.queryObjectIds(Ee.default.from(e)||r.createQuery(),t);throw new(0,I.default)(Me,"Layer source does not support queryObjectIds capability")}))}},{key:"queryFeatureCount",value:function(e,t){var r=this;return this.load().then((function(){if(r.source.queryFeatureCount)return r.source.queryFeatureCount(Ee.default.from(e)||r.createQuery(),t);throw new(0,I.default)(Me,"Layer source does not support queryFeatureCount capability")}))}},{key:"queryExtent",value:function(e,t){var r=this;return this.load().then((function(){if(r.source.queryExtent)return r.source.queryExtent(Ee.default.from(e)||r.createQuery(),t);throw new(0,I.default)(Me,"Layer source does not support queryExtent capability")}))}},{key:"queryRelatedFeatures",value:function(e,t){var r=this;return this.load().then((function(){if("queryRelatedFeatures"in r.source)return r.source.queryRelatedFeatures(Ie.default.from(e),t);throw new(0,I.default)(Me,"Layer source does not support queryRelatedFeatures capability")}))}},{key:"queryRelatedFeaturesCount",value:function(e,t){var r=this;return this.load().then((function(){if("queryRelatedFeaturesCount"in r.source)return r.source.queryRelatedFeaturesCount(Ie.default.from(e),t);throw new(0,I.default)(Me,"Layer source does not support queryRelatedFeaturesCount capability")}))}},{key:"queryTopFeatures",value:function(e,t){var r=this;return this.load().then((function(){var n=r;if("queryTopFeatures"in r.source&&r.get("capabilities.query.supportsTopFeaturesQuery"))return r.source.queryTopFeatures(Ce.default.from(e),t).then((function(e){var t=!0,r=!1,i=void 0;if(null!=e&&e.features)try{for(var a,o=e.features[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var s=a.value;s.layer=s.sourceLayer=n}}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}return e}));throw new(0,I.default)(Me,"Layer source does not support queryTopFeatures capability")}))}},{key:"queryTopObjectIds",value:function(e,t){var r=this;return this.load().then((function(){if("queryTopObjectIds"in r.source&&r.get("capabilities.query.supportsTopFeaturesQuery"))return r.source.queryTopObjectIds(Ce.default.from(e),t);throw new(0,I.default)(Me,"Layer source does not support queryTopObjectIds capability")}))}},{key:"queryTopFeaturesExtent",value:function(e,t){var r=this;return this.load().then((function(){if("queryTopExtents"in r.source&&r.get("capabilities.query.supportsTopFeaturesQuery"))return r.source.queryTopExtents(Ce.default.from(e),t);throw new(0,I.default)(Me,"Layer source does not support queryTopExtents capability")}))}},{key:"queryTopFeatureCount",value:function(e,t){var r=this;return this.load().then((function(){if("queryTopCount"in r.source&&r.get("capabilities.query.supportsTopFeaturesQuery"))return r.source.queryTopCount(Ce.default.from(e),t);throw new(0,I.default)(Me,"Layer source does not support queryFeatureCount capability")}))}},{key:"read",value:function(e,t){var n=e.featureCollection;if(n){var i=n.layers;i&&1===i.length&&(h.default(y.default(r.prototype),"read",this).call(this,i[0],t),null!=n.showLegend&&h.default(y.default(r.prototype),"read",this).call(this,{showLegend:n.showLegend},t))}h.default(y.default(r.prototype),"read",this).call(this,e,t),t&&"service"===t.origin&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}},{key:"write",value:function(e,t){var n,i,a=(t=p.default({},t,{writeLayerSchema:null!=(n=null==(i=t)?void 0:i.writeLayerSchema)?n:this._hasMemorySource()})).origin,o=t.layerContainerType,s=t.messages;if(this.isTable){if("web-scene"===a||"web-map"===a&&"tables"!==o)return s&&s.push(new(0,I.default)("layer:unsupported","Layer (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' using a Table source cannot be written to web scenes and web maps"),{layer:this})),null;if(this._hasMemorySource())return s&&s.push(new(0,I.default)("layer:unsupported","Layer (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' using an in-memory Table source cannot be written to web scenes and web maps"),{layer:this})),null}else if(this.loaded&&"web-map"===a&&"tables"===o)return s&&s.push(new(0,I.default)("layer:unsupported","Layer (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' using a non-table source cannot be written to tables in web maps"),{layer:this})),null;return h.default(y.default(r.prototype),"write",this).call(this,e,t)}},{key:"clone",value:function(){if(this._hasMemorySource())throw new(0,I.default)(Me,"FeatureLayer (title: ".concat(this.title,", id: ").concat(this.id,") created using in-memory source cannot be cloned"));return h.default(y.default(r.prototype),"clone",this).call(this)}},{key:"serviceSupportsSpatialReference",value:function(e){return!!this.loaded&&("memory"===this.source.type||(0,we.serviceSupportsSpatialReference)(this,e))}},{key:"_readEditingEnabled",value:function(e,t,r){var n,i=null==(n=e.layerDefinition)?void 0:n.capabilities;return i?this._hasEditingCapability(i):(i=e.capabilities,t&&"web-map"===(null==r?void 0:r.origin)&&!this._hasMemorySource()&&i?this._hasEditingCapability(i):void 0)}},{key:"_hasEditingCapability",value:function(e){return e.toLowerCase().split(",").map((function(e){return e.trim()})).includes("editing")}},{key:"_writeEditingEnabled",value:function(e,t,r,n){if(!e){var i,a,o=null!=(i=this.capabilities)&&null!=(a=i.operations)&&a.supportsSync?"Query,Sync":"Query";(0,R.setDeepValue)("layerDefinition.capabilities",o,t),!r||null!=n&&n.writeLayerSchema||(t.capabilities=o)}}},{key:"_checkAttachmentSupport",value:function(e){var t=e.attributes,r=this.objectIdField;return this.get("capabilities.data.supportsAttachment")?e?t?t[r]?void 0:Promise.reject(new(0,I.default)(Me,"feature is missing the identifying attribute ".concat(r))):Promise.reject(new(0,I.default)(Me,"'attributes' are required on a feature to query attachments")):Promise.reject(new(0,I.default)(Me,"A feature is required to add/delete/update attachments")):Promise.reject(new(0,I.default)(Me,"this layer doesn't support attachments"))}},{key:"_getLayerDomain",value:function(e){var t=this.fieldsIndex.get(e);return t?t.domain:null}},{key:"_fetchFirstLayerId",value:function(e){return(0,S.default)(this.url,{query:p.default({f:"json"},this.customParameters,{token:this.apiKey}),responseType:"json",signal:e}).then((function(e){var t=e.data;if(t)return Array.isArray(t.layers)&&t.layers.length>0?t.layers[0].id:Array.isArray(t.tables)&&t.tables.length>0?t.tables[0].id:void 0}))}},{key:"_initLayerProperties",value:function(e){var t=this;return d.default(n(v).mark((function r(){return n(v).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(t._set("source",e),e.sourceJSON&&(t.sourceJSON=e.sourceJSON,t.read(e.sourceJSON,{origin:"service",url:t.parsedUrl})),t._verifySource(),t._verifyFields(),(0,he.fixRendererFields)(t.renderer,t.fieldsIndex),(0,he.fixTimeInfoFields)(t.timeInfo,t.fieldsIndex),(0,Se.loadStyleRenderer)(t,{origin:"service"})));case 1:case"end":return r.stop()}}),r)})))()}},{key:"hasDataChanged",value:function(){var e=this;return d.default(n(v).mark((function t(){var r,i,a,o,s;return n(v).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(r=e.source)||!r.refresh){t.next=15;break}return t.prev=2,t.next=6,null==(i=e.source)?void 0:i.refresh();case 6:if(a=t.sent,o=a.dataChanged,s=a.updates,(0,M.isSome)(s)&&(e.sourceJSON=p.default({},e.sourceJSON,s),e.read(s,{origin:"service",url:e.parsedUrl})),!o){t.next=11;break}return t.abrupt("return",!0);case 11:t.next=15;break;case 13:t.prev=13,t.t0=t.catch(2);case 15:if(!e.definitionExpression){t.next=24;break}return t.prev=16,t.next=19,(0,F.parseWhereClause)(e.definitionExpression,e.fieldsIndex);case 19:return t.abrupt("return",t.sent.hasDateFunctions);case 22:t.prev=22,t.t1=t.catch(16);case 24:return t.abrupt("return",!1);case 25:case"end":return t.stop()}}),t,null,[[2,13],[16,22]])})))()}},{key:"_verifyFields",value:function(){var e=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||-1!==e.search(/\/FeatureServer\//i)||this.fields&&this.fields.some((function(e){return"geometry"===e.type}))||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}},{key:"_fixTemplates",value:function(e,t){e&&e.forEach((function(e){var r=e.prototype&&e.prototype.attributes;r&&t&&delete r[t]}))}},{key:"_verifySource",value:function(){if(this._hasMemorySource()){if(this.url)throw new(0,I.default)("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new(0,I.default)("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}},{key:"_initMemorySource",value:function(e){var t=this;e.forEach((function(e){e.layer=t,e.sourceLayer=t})),this._handles.add([e.on("after-add",(function(e){e.item.layer=t,e.item.sourceLayer=t})),e.on("after-remove",(function(e){e.item.layer=null,e.item.sourceLayer=null}))],"fl-source")}},{key:"_resetMemorySource",value:function(e){e.forEach((function(e){e.layer=null,e.sourceLayer=null})),this._handles.remove("fl-source")}},{key:"_hasMemorySource",value:function(){return!(this.url||!this.source)}},{key:"_readAttachmentCapabilities",value:function(e){var t={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};return e&&Array.isArray(e)&&e.forEach((function(e){var r=Ae[e.name];r&&(t[r]=!!e.isEnabled)})),t}},{key:"_readDataCapabilities",value:function(e){return{isVersioned:Pe(e,"isDataVersioned",!1),supportsAttachment:Pe(e,"hasAttachments",!1),supportsM:Pe(e,"hasM",!1),supportsZ:Pe(e,"hasZ",!1)}}},{key:"_readMetadataCapabilities",value:function(e){return{supportsAdvancedFieldProperties:Pe(e,"supportsFieldDescriptionProperty",!1)}}},{key:"_readOperationsCapabilities",value:function(e,t){var r=e?e.toLowerCase().split(",").map((function(e){return e.trim()})):[],n=r.includes("editing")&&!t.datesInUnknownTimezone,i=n&&r.includes("create"),a=n&&r.includes("delete"),o=n&&r.includes("update"),s=r.includes("changetracking");return n&&!(i||a||o)&&(i=a=o=!0),{supportsCalculate:Pe(t,"supportsCalculate",!1),supportsTruncate:Pe(t,"supportsTruncate",!1),supportsValidateSql:Pe(t,"supportsValidateSql",!1),supportsAdd:i,supportsDelete:a,supportsEditing:n,supportsChangeTracking:s,supportsQuery:r.includes("query"),supportsQueryAttachments:Pe(t.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:Pe(t,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:o,supportsExceedsLimitStatistics:Pe(t,"supportsExceedsLimitStatistics",!1)}}},{key:"_readQueryCapabilities",value:function(e){var t,r=e.advancedQueryCapabilities,n=e.ownershipBasedAccessControlForFeatures,i=e.archivingInfo,a=null==(t=this.url)?void 0:t.includes("MapServer"),o=!(0,O.default)("mapserver-pbf-enabled")&&a&&this.version<10.81,s=(0,se.isHostedAgolService)(this.url),l=(e.supportedQueryFormats||"").split(",").reduce((function(e,t){var r=t.toLowerCase().trim();return r&&e.add(r),e}),new Set);return{supportsStatistics:Pe(r,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:Pe(r,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:Pe(r,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:je(r),supportsCentroid:Pe(r,"supportsReturningGeometryCentroid",!1),supportsDistance:Pe(r,"supportsQueryWithDistance",!1),supportsDistinct:Pe(r,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:Pe(r,"supportsReturningQueryExtent",!1),supportsGeometryProperties:Pe(r,"supportsReturningGeometryProperties",!1),supportsHavingClause:Pe(r,"supportsHavingClause",!1),supportsOrderBy:Pe(r,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:Pe(r,"supportsPagination",!1),supportsQuantization:Pe(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Pe(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:Pe(e,"supportsReturningQueryGeometry",!1),supportsResultType:Pe(r,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:Pe(r,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:Pe(r,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Pe(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:Pe(r,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:Pe(n,"allowOthersToQuery",!0),supportsHistoricMoment:Pe(i,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!o&&l.has("pbf"),supportsDisjointSpatialRelationship:Pe(r,"supportsDisjointSpatialRel",!1),supportsCacheHint:Pe(r,"supportsQueryWithCacheHint",!1),supportsDefaultSpatialReference:Pe(r,"supportsDefaultSR",!1),supportsCompactGeometry:s,maxRecordCountFactor:Fe(e,"maxRecordCountFactor",void 0),maxRecordCount:Fe(e,"maxRecordCount",void 0),standardMaxRecordCount:Fe(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:Fe(e,"tileMaxRecordCount",void 0)}}},{key:"_readQueryRelatedCapabilities",value:function(e){var t=e.advancedQueryCapabilities,r=Pe(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Pe(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r}}},{key:"_readEditingCapabilities",value:function(e){var t=e.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:Pe(e,"allowGeometryUpdates",!0),supportsGlobalId:Pe(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Pe(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Pe(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Pe(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Pe(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Pe(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Pe(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Pe(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Pe(t,"allowOthersToUpdate",!0)}}}]),r}((0,ee.FeatureEffectLayer)((0,Z.BlendLayer)((0,re.OrderedLayer)((0,oe.TemporalLayer)((0,ae.ScaleRangeLayer)((0,ie.RefreshableLayer)((0,Y.ArcGISService)((0,te.OperationalLayer)((0,ne.PortalLayer)((0,N.MultiOriginJSONMixin)((0,Q.CustomParametersMixin)((0,$.APIKeyMixin)((0,T.ClonableMixin)(X.default))))))))))))));(0,m._)([(0,D.property)({readOnly:!0,json:{read:!1}})],Ve.prototype,"capabilities",void 0),(0,m._)([(0,V.reader)("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],Ve.prototype,"readCapabilities",null),(0,m._)([(0,D.property)({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Ve.prototype,"charts",void 0),(0,m._)([(0,D.property)({readOnly:!0})],Ve.prototype,"createQueryVersion",null),(0,m._)([(0,D.property)({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],Ve.prototype,"copyright",void 0),(0,m._)([(0,D.property)({type:Boolean})],Ve.prototype,"datesInUnknownTimezone",void 0),(0,m._)([(0,D.property)({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],Ve.prototype,"displayField",void 0),(0,m._)([(0,D.property)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],Ve.prototype,"definitionExpression",void 0),(0,m._)([(0,D.property)({types:k.symbolTypes,readOnly:!0})],Ve.prototype,"defaultSymbol",void 0),(0,m._)([(0,D.property)({type:xe.DataLayerSource})],Ve.prototype,"dynamicDataSource",void 0),(0,m._)([(0,D.property)({readOnly:!0})],Ve.prototype,"editFieldsInfo",void 0),(0,m._)([(0,D.property)({type:Boolean})],Ve.prototype,"editingEnabled",null),(0,m._)([(0,V.reader)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],Ve.prototype,"readEditingEnabled",null),(0,m._)([(0,V.reader)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],Ve.prototype,"readEditingEnabledFromWebMap",null),(0,m._)([(0,H.writer)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],Ve.prototype,"writeEditingEnabled",null),(0,m._)([(0,H.writer)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],Ve.prototype,"writeEditingEnabledToWebMap",null),(0,m._)([(0,D.property)({readOnly:!0})],Ve.prototype,"editingInfo",void 0),(0,m._)([(0,V.reader)("editingInfo")],Ve.prototype,"readEditingInfo",null),(0,m._)([(0,D.property)(le.elevationInfo)],Ve.prototype,"elevationInfo",void 0),(0,m._)([(0,D.property)(ce.featureReductionProperty)],Ve.prototype,"featureReduction",void 0),(0,m._)([(0,D.property)(p.default({},De.fields,{json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Ue}}}}}))],Ve.prototype,"fields",void 0),(0,m._)([(0,D.property)(De.fieldsIndex)],Ve.prototype,"fieldsIndex",void 0),(0,m._)([(0,D.property)({type:ge.default,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],Ve.prototype,"floorInfo",void 0),(0,m._)([(0,D.property)({type:W.default,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Ve.prototype,"formTemplate",void 0),(0,m._)([(0,D.property)({type:G.default,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],Ve.prototype,"fullExtent",void 0),(0,m._)([(0,D.property)()],Ve.prototype,"gdbVersion",void 0),(0,m._)([(0,D.property)({readOnly:!0,type:ye.default,json:{read:{source:"geometryProperties"}}})],Ve.prototype,"geometryFieldsInfo",void 0),(0,m._)([(0,D.property)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:Le.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Ue,writer:function(e,t,r){var n=e?Le.toJSON(e):null;n&&(0,R.setDeepValue)(r,n,t)}}}},read:{source:"layerDefinition.geometryType",reader:Le.read}}})],Ve.prototype,"geometryType",void 0),(0,m._)([(0,D.property)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],Ve.prototype,"hasM",void 0),(0,m._)([(0,D.property)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],Ve.prototype,"hasZ",void 0),(0,m._)([(0,D.property)({readOnly:!0,type:J.default})],Ve.prototype,"heightModelInfo",void 0),(0,m._)([(0,D.property)({type:Date})],Ve.prototype,"historicMoment",void 0),(0,m._)([(0,D.property)(le.id)],Ve.prototype,"id",void 0),(0,m._)([(0,D.property)({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],Ve.prototype,"infoFor3D",void 0),(0,m._)([(0,D.property)({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],Ve.prototype,"isTable",void 0),(0,m._)([(0,V.reader)("service","isTable",["type","geometryType"]),(0,V.reader)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],Ve.prototype,"readIsTable",null),(0,m._)([(0,H.writer)("web-map","isTable")],Ve.prototype,"writeIsTable",null),(0,m._)([(0,D.property)(le.labelsVisible)],Ve.prototype,"labelsVisible",void 0),(0,m._)([(0,D.property)({type:[ve.default],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:me.reader},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:me.reader},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],Ve.prototype,"labelingInfo",void 0),(0,m._)([(0,D.property)(le.opacityDrawingInfo)],Ve.prototype,"opacity",void 0),(0,m._)([(0,D.property)({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],Ve.prototype,"layerId",void 0),(0,m._)([(0,D.property)(le.legendEnabled)],Ve.prototype,"legendEnabled",void 0),(0,m._)([(0,D.property)({type:["show","hide"]})],Ve.prototype,"listMode",void 0),(0,m._)([(0,D.property)(le.minScale)],Ve.prototype,"minScale",void 0),(0,m._)([(0,V.reader)("service","minScale",["minScale","effectiveMinScale"])],Ve.prototype,"readMinScale",null),(0,m._)([(0,D.property)(le.maxScale)],Ve.prototype,"maxScale",void 0),(0,m._)([(0,V.reader)("service","maxScale",["maxScale","effectiveMaxScale"])],Ve.prototype,"readMaxScale",null),(0,m._)([(0,D.property)({type:String})],Ve.prototype,"globalIdField",void 0),(0,m._)([(0,V.reader)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),(0,V.reader)("service","globalIdField",["globalIdField","fields"])],Ve.prototype,"readGlobalIdFieldFromService",null),(0,m._)([(0,D.property)({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Ue}}}}})],Ve.prototype,"objectIdField",void 0),(0,m._)([(0,V.reader)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),(0,V.reader)("service","objectIdField",["objectIdField","fields"])],Ve.prototype,"readObjectIdFieldFromService",null),(0,m._)([(0,D.property)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],Ve.prototype,"operationalLayerType",void 0),(0,m._)([(0,D.property)(De.outFields)],Ve.prototype,"outFields",void 0),(0,m._)([(0,D.property)({readOnly:!0})],Ve.prototype,"parsedUrl",null),(0,m._)([(0,D.property)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],Ve.prototype,"path",void 0),(0,m._)([(0,D.property)(le.popupEnabled)],Ve.prototype,"popupEnabled",void 0),(0,m._)([(0,D.property)({type:g.default,json:{name:"popupInfo",write:!0}})],Ve.prototype,"popupTemplate",void 0),(0,m._)([(0,D.property)({readOnly:!0})],Ve.prototype,"defaultPopupTemplate",null),(0,m._)([(0,D.property)({type:[be.default],readOnly:!0})],Ve.prototype,"relationships",void 0),(0,m._)([(0,D.property)({types:x.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:x.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:function(e,t,r){return{ignoreOrigin:null==r?void 0:r.writeLayerSchema}}}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:function(e,t,r){return{ignoreOrigin:null==r?void 0:r.writeLayerSchema}}}}})],Ve.prototype,"renderer",null),(0,m._)([(0,V.reader)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),(0,V.reader)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],Ve.prototype,"readRenderer",null),(0,m._)([(0,D.property)()],Ve.prototype,"sourceJSON",void 0),(0,m._)([(0,D.property)({type:Boolean})],Ve.prototype,"returnM",void 0),(0,m._)([(0,D.property)({type:Boolean})],Ve.prototype,"returnZ",void 0),(0,m._)([(0,D.property)(le.screenSizePerspectiveEnabled)],Ve.prototype,"screenSizePerspectiveEnabled",void 0),(0,m._)([(0,D.property)({clonable:!1})],Ve.prototype,"source",null),(0,m._)([(0,U.cast)("source")],Ve.prototype,"castSource",null),(0,m._)([(0,V.reader)("portal-item","source",["featureSet"]),(0,V.reader)("web-map","source",["featureSet"])],Ve.prototype,"readSource",null),(0,m._)([(0,D.property)({readOnly:!0})],Ve.prototype,"serviceDefinitionExpression",void 0),(0,m._)([(0,V.reader)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],Ve.prototype,"readServiceDefinitionExpression",null),(0,m._)([(0,D.property)({type:q.default,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],Ve.prototype,"spatialReference",void 0),(0,m._)([(0,D.property)({type:Number})],Ve.prototype,"subtypeCode",void 0),(0,m._)([(0,D.property)({type:[fe.default]})],Ve.prototype,"templates",void 0),(0,m._)([(0,V.reader)("templates",["editFieldsInfo","creatorField","editorField","templates"])],Ve.prototype,"readTemplates",null),(0,m._)([(0,D.property)({type:_e.default})],Ve.prototype,"timeInfo",void 0),(0,m._)([(0,D.property)()],Ve.prototype,"title",void 0),(0,m._)([(0,V.reader)("service","title",["name"]),(0,V.reader)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],Ve.prototype,"readTitle",null),(0,m._)([(0,V.reader)("web-map","title",["layerDefinition.name","title"])],Ve.prototype,"readTitleFromWebMap",null),(0,m._)([(0,D.property)({type:String})],Ve.prototype,"sublayerTitleMode",void 0),(0,m._)([(0,D.property)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],Ve.prototype,"trackIdField",void 0),(0,m._)([(0,D.property)({json:{read:!1}})],Ve.prototype,"type",void 0),(0,m._)([(0,D.property)({type:String})],Ve.prototype,"typeIdField",void 0),(0,m._)([(0,V.reader)("service","typeIdField"),(0,V.reader)("typeIdField",["layerDefinition.typeIdField"])],Ve.prototype,"readTypeIdField",null),(0,m._)([(0,D.property)({type:[pe.default]})],Ve.prototype,"types",void 0),(0,m._)([(0,V.reader)("service","types",["types"]),(0,V.reader)("types",["layerDefinition.types"])],Ve.prototype,"readTypes",null),(0,m._)([(0,D.property)({readOnly:!0,json:{write:!1}})],Ve.prototype,"serverGens",void 0),(0,m._)([(0,D.property)({type:E.default.ofType(ue.FeatureIndex),readOnly:!0})],Ve.prototype,"indexes",void 0),(0,m._)([(0,D.property)(le.url)],Ve.prototype,"url",null),(0,m._)([(0,H.writer)("url")],Ve.prototype,"writeUrl",null),(0,m._)([(0,D.property)({readOnly:!0})],Ve.prototype,"userIsAdmin",void 0),(0,m._)([(0,D.property)({json:{origins:{service:{read:!0}},read:!1}})],Ve.prototype,"version",void 0),(0,m._)([(0,V.reader)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],Ve.prototype,"readVersion",null),(0,m._)([(0,D.property)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],Ve.prototype,"visible",void 0),(0,m._)([(0,V.reader)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],Ve.prototype,"readVisible",null),Ve=(0,m._)([(0,B.subclass)("esri.layers.FeatureLayer")],Ve);var Be=(0,z.createTypeReader)({types:k.symbolTypesRenderer}),He=Ve})),s.register("35mRC",(function(t,r){e(t.exports,"default",(function(){return R}));var i,a=s("8TSCy"),o=s("2TvXO"),l=s("7eJjO"),u=s("cM5QQ"),c=s("79ASa"),f=s("flPLJ"),p=s("jHOLN"),d=s("7qybv"),h=s("iho5X"),y=s("ba18L"),v=s("bSafx"),m=s("eB8sj"),g=s("fcwIv"),b=s("kced1"),_=s("iJAIC"),w=s("7vTUY"),x=s("7Kl6r"),S=s("5wEUY"),k=s("beKS9"),T=s("83GWA"),E=s("j8OFR"),I=s("3nnTb"),C=p.default.getLogger("esri.renderers.ClassBreaksRenderer"),O="percent-of-total",L="field",A=new(0,c.JSONMap)({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:O,esriNormalizeByField:L}),M=(0,_.ensureType)(k.default),N=i=function(e){"use strict";a.inherits(r,e);var t=a.createSuper(r);function r(e){var n;return a.classCallCheck(this,r),(n=t.call(this,e))._compiledValueExpression={valueExpression:null,compiledFunction:null},n.backgroundFillSymbol=null,n.classBreakInfos=null,n.defaultLabel=null,n.defaultSymbol=null,n.field=null,n.isMaxInclusive=!0,n.legendOptions=null,n.normalizationField=null,n.normalizationTotal=null,n.type="class-breaks",n.valueExpression=null,n.valueExpressionTitle=null,n._set("classBreakInfos",[]),a.possibleConstructorReturn(n)}return a.createClass(r,[{key:"readClassBreakInfos",value:function(e,t,r){if(Array.isArray(e)){var n=t.minValue;return e.map((function(e){var t=new(0,k.default);return t.read(e,r),null==t.minValue&&(t.minValue=n),null==t.maxValue&&(t.maxValue=t.minValue),n=t.maxValue,t}))}}},{key:"writeClassBreakInfos",value:function(e,t,r,n){var i=e.map((function(e){return e.write({},n)}));this._areClassBreaksConsecutive()&&i.forEach((function(e){return delete e.classMinValue})),t[r]=i}},{key:"castField",value:function(e){return null==e?e:"function"==typeof e?(C.error(".field: field must be a string value"),null):(0,_.ensureString)(e)}},{key:"minValue",get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}},{key:"normalizationType",get:function(){var e=this._get("normalizationType"),t=!!this.normalizationField,r=null!=this.normalizationTotal;return t||r?(e=(t?L:r&&O)||null,t&&r&&C.warn("warning: both normalizationField and normalizationTotal are set!")):e!==L&&e!==O||(e=null),e},set:function(e){this._set("normalizationType",e)}},{key:"addClassBreakInfo",value:function(e,t,r){var n;n="number"==typeof e?new(0,k.default)({minValue:e,maxValue:t,symbol:(0,u.ensureType)(r)}):M((0,f.clone)(e)),this.classBreakInfos.push(n),1===this.classBreakInfos.length&&this.notifyChange("minValue")}},{key:"removeClassBreakInfo",value:function(e,t){for(var r=this.classBreakInfos.length,n=0;n<r;n++){var i=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(i[0]===e&&i[1]===t){this.classBreakInfos.splice(n,1);break}}}},{key:"getBreakIndex",value:function(e,t){return this.valueExpression&&((0,d.isNone)(t)||(0,d.isNone)(t.arcade))&&C.warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}},{key:"getClassBreakInfo",value:function(e,t){var r=this;return a.asyncToGenerator(n(o).mark((function i(){var s,l;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=t,n.t0=r.valueExpression&&((0,d.isNone)(t)||(0,d.isNone)(t.arcade)),!n.t0){n.next=11;break}return n.t1=a,n.t2={},n.t3=s,n.next=8,(0,I.loadArcade)();case 8:n.t4=n.sent,n.t5={arcade:n.t4},s=n.t1.objectSpread.call(n.t1,n.t2,n.t3,n.t5);case 11:return l=r.getBreakIndex(e,s),n.abrupt("return",-1!==l?r.classBreakInfos[l]:null);case 13:case"end":return n.stop()}}),i)})))()}},{key:"getSymbol",value:function(e,t){if(!this.valueExpression||!(0,d.isNone)(t)&&!(0,d.isNone)(t.arcade)){var r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}C.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used")}},{key:"getSymbolAsync",value:function(e,t){var r=this;return a.asyncToGenerator(n(o).mark((function i(){var s,l,u,c;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=t,!r.valueExpression||!(0,d.isNone)(t)&&!(0,d.isNone)(t.arcade)){n.next=11;break}return n.next=4,(0,I.loadArcade)();case 4:if(l=n.sent,u=l.arcadeUtils,n.t0=u.hasGeometryOperations(r.valueExpression),!n.t0){n.next=10;break}return n.next=10,u.enableGeometryOperations();case 10:s=a.objectSpread({},s,{arcade:l});case 11:return c=r.getBreakIndex(e,s),n.abrupt("return",c>-1?r.classBreakInfos[c].symbol:r.defaultSymbol);case 13:case"end":return n.stop()}}),i)})))()}},{key:"getSymbols",value:function(){var e=[];return this.classBreakInfos.forEach((function(t){t.symbol&&e.push(t.symbol)})),this.defaultSymbol&&e.push(this.defaultSymbol),e}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){var e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r="".concat(this.normalizationField,".").concat(this.normalizationType,".").concat(this.normalizationTotal);return"".concat(e,".").concat(t,".").concat(this.classBreakInfos.reduce((function(e,t){return e+t.getMeshHash()}),""),".").concat(r,".").concat(this.field,".").concat(this.valueExpression)}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}},{key:"clone",value:function(){return new i({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,f.clone)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,f.clone)(this.visualVariables),legendOptions:(0,f.clone)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}},{key:"collectRequiredFields",value:function(e,t){var r=this;return a.asyncToGenerator(n(o).mark((function i(){var a;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=[r.collectVVRequiredFields(e,t),r.collectSymbolFields(e,t)],n.next=3,Promise.all(a);case 3:case"end":return n.stop()}}),i)})))()}},{key:"collectSymbolFields",value:function(e,t){var r=this;return a.asyncToGenerator(n(o).mark((function i(){var s;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=a.toConsumableArray(r.getSymbols().map((function(r){return r.collectRequiredFields(e,t)}))).concat([(0,w.collectArcadeFieldNames)(e,t,r.valueExpression)]),(0,w.collectField)(e,t,r.field),(0,w.collectField)(e,t,r.normalizationField),n.next=5,Promise.all(s);case 5:case"end":return n.stop()}}),i)})))()}},{key:"_getBreakIndexForExpression",value:function(e,t){var r=(0,d.unwrapOr)(t,{}),n=r.viewingMode,i=r.scale,a=r.spatialReference,o=r.arcade,s=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null,l=(0,d.unwrap)(o).arcadeUtils;if(!s){var u=l.createSyntaxTree(this.valueExpression);s=l.createFunction(u),this._compiledValueExpression.compiledFunction=s}this._compiledValueExpression.valueExpression=this.valueExpression;var c=l.executeFunction(s,l.createExecContext(e,l.getViewInfo({viewingMode:n,scale:i,spatialReference:a})));return this._getBreakIndexfromInfos(c)}},{key:"_getBreakIndexForField",value:function(e){var t=this.field,r=e.attributes,n=this.normalizationType,i=parseFloat(r[t]);if(n){var a=this.normalizationTotal,o=parseFloat(r[this.normalizationField]);if("log"===n)i=Math.log(i)*Math.LOG10E;else if(n!==O||isNaN(a)){if(n===L&&!isNaN(o)){if(isNaN(i)||isNaN(o))return-1;i/=o}}else i=i/a*100}return this._getBreakIndexfromInfos(i)}},{key:"_getBreakIndexfromInfos",value:function(e){var t=this.isMaxInclusive;if(null!=e&&"number"==typeof e&&!isNaN(e))for(var r=0;r<this.classBreakInfos.length;r++){var n=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(n[0]<=e&&(t?e<=n[1]:e<n[1]))return r}return-1}},{key:"_areClassBreaksConsecutive",value:function(){for(var e=this.classBreakInfos,t=e.length,r=1;r<t;r++)if(e[r-1].maxValue!==e[r].minValue)return!1;return!0}}]),r}((0,S.VisualVariablesMixin)(x.default));(0,l._)([(0,h.property)(T.rendererBackgroundFillSymbolProperty)],N.prototype,"backgroundFillSymbol",void 0),(0,l._)([(0,h.property)({type:[k.default]})],N.prototype,"classBreakInfos",void 0),(0,l._)([(0,m.reader)("classBreakInfos")],N.prototype,"readClassBreakInfos",null),(0,l._)([(0,b.writer)("classBreakInfos")],N.prototype,"writeClassBreakInfos",null),(0,l._)([(0,h.property)({type:String,json:{write:!0}})],N.prototype,"defaultLabel",void 0),(0,l._)([(0,h.property)(T.rendererSymbolProperty)],N.prototype,"defaultSymbol",void 0),(0,l._)([(0,h.property)({type:String,json:{write:!0}})],N.prototype,"field",void 0),(0,l._)([(0,y.cast)("field")],N.prototype,"castField",null),(0,l._)([(0,h.property)({type:Boolean})],N.prototype,"isMaxInclusive",void 0),(0,l._)([(0,h.property)({type:E.default,json:{write:!0}})],N.prototype,"legendOptions",void 0),(0,l._)([(0,h.property)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy:function(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],N.prototype,"minValue",null),(0,l._)([(0,h.property)({type:String,json:{write:!0}})],N.prototype,"normalizationField",void 0),(0,l._)([(0,h.property)({type:Number,cast:function(e){return(0,_.ensureNumber)(e)},json:{write:!0}})],N.prototype,"normalizationTotal",void 0),(0,l._)([(0,h.property)({type:A.apiValues,value:null,json:{type:A.jsonValues,read:A.read,write:A.write}})],N.prototype,"normalizationType",null),(0,l._)([(0,v.enumeration)({classBreaks:"class-breaks"})],N.prototype,"type",void 0),(0,l._)([(0,h.property)({type:String,json:{write:!0}})],N.prototype,"valueExpression",void 0),(0,l._)([(0,h.property)({type:String,json:{write:!0}})],N.prototype,"valueExpressionTitle",void 0);var R=N=i=(0,l._)([(0,g.subclass)("esri.renderers.ClassBreaksRenderer")],N)})),s.register("7Kl6r",(function(t,r){e(t.exports,"default",(function(){return _})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("jcnGU"),f=s("2TvXO"),p=s("7eJjO"),d=s("79ASa"),h=s("1XAcN"),y=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var v=s("fcwIv"),m=s("4z3S7"),g=new(0,d.JSONMap)({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0}),b=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).authoringInfo=null,n.type=null,l.default(n)}return u.default(r,[{key:"getRequiredFields",value:function(e){var t=this;return c.default(n(f).mark((function r(){var i;return n(f).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.collectRequiredFields){r.next=2;break}return r.abrupt("return",[]);case 2:return i=new Set,r.next=5,t.collectRequiredFields(i,e);case 5:return r.abrupt("return",(r.sent,Array.from(i).sort()));case 6:case"end":return r.stop()}}),r)})))()}},{key:"getSymbol",value:function(e,t){}},{key:"getSymbolAsync",value:function(e,t){return c.default(n(f).mark((function e(){return n(f).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},{key:"getSymbols",value:function(){return[]}},{key:"getAttributeHash",value:function(){return JSON.stringify(this)}},{key:"getMeshHash",value:function(){return JSON.stringify(this)}}]),r}(h.JSONSupport);(0,p._)([(0,y.property)({type:m.default,json:{write:!0}})],b.prototype,"authoringInfo",void 0),(0,p._)([(0,y.property)({type:g.apiValues,readOnly:!0,json:{type:g.jsonValues,read:!1,write:{writer:g.write,ignoreOrigin:!0}}})],b.prototype,"type",void 0);var _=b=(0,p._)([(0,v.subclass)("esri.renderers.Renderer")],b)})),s.register("4z3S7",(function(t,r){e(t.exports,"default",(function(){return E})),s("8TSCy");var n,i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("7eJjO"),f=s("79ASa"),p=s("1XAcN"),d=s("flPLJ"),h=s("iho5X"),y=s("iJAIC"),v=s("eB8sj"),m=s("fcwIv"),g=s("2tQzj"),b=s("nGQEr"),_=s("1DHtQ"),w=new(0,f.JSONMap)({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),x=new(0,f.JSONMap)({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),S=new(0,f.JSONMap)({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),k=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],T=n=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).colorRamp=null,n.lengthUnit=null,n.maxSliderValue=null,n.minSliderValue=null,n.visualVariables=null,l.default(n)}return u.default(r,[{key:"classificationMethod",get:function(){var e=this._get("classificationMethod"),t=this.type;return t&&"relationship"!==t?"class-breaks-size"===t||"class-breaks-color"===t?e||"manual":null:e},set:function(e){this._set("classificationMethod",e)}},{key:"readColorRamp",value:function(e){if(e)return(0,_.fromJSON)(e)}},{key:"fields",get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(e){this._set("fields",e)}},{key:"field1",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},set:function(e){this._set("field1",e)}},{key:"field2",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(e){this._set("field2",e)}},{key:"flowTheme",get:function(){return"flow"===this.type?this._get("flowTheme"):null},set:function(e){this._set("flowTheme",e)}},{key:"focus",get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(e){this._set("focus",e)}},{key:"numClasses",get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(e){this._set("numClasses",e)}},{key:"statistics",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null},set:function(e){this._set("statistics",e)}},{key:"standardDeviationInterval",get:function(){var e=this.type;return e&&"relationship"!==e&&"class-breaks-size"!==e&&"class-breaks-color"!==e||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(e){this._set("standardDeviationInterval",e)}},{key:"type",get:function(){return this._get("type")},set:function(e){var t=e;"classed-size"===e?t="class-breaks-size":"classed-color"===e&&(t="class-breaks-color"),this._set("type",t)}},{key:"univariateSymbolStyle",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null},set:function(e){this._set("univariateSymbolStyle",e)}},{key:"univariateTheme",get:function(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null},set:function(e){this._set("univariateTheme",e)}},{key:"clone",value:function(){return new n({classificationMethod:this.classificationMethod,colorRamp:(0,d.clone)(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:(0,d.clone)(this.field1),field2:(0,d.clone)(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map((function(e){return e.clone()})),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}}]),r}(p.JSONSupport);(0,c._)([(0,h.property)({type:w.apiValues,value:null,json:{type:w.jsonValues,read:w.read,write:w.write,origins:{"web-document":{default:"manual",type:w.jsonValues,read:w.read,write:w.write}}}})],T.prototype,"classificationMethod",null),(0,c._)([(0,h.property)({types:_.types,json:{write:!0}})],T.prototype,"colorRamp",void 0),(0,c._)([(0,v.reader)("colorRamp")],T.prototype,"readColorRamp",null),(0,c._)([(0,h.property)({type:[String],value:null,json:{write:!0}})],T.prototype,"fields",null),(0,c._)([(0,h.property)({type:g.default,value:null,json:{write:!0}})],T.prototype,"field1",null),(0,c._)([(0,h.property)({type:g.default,value:null,json:{write:!0}})],T.prototype,"field2",null),(0,c._)([(0,h.property)({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],T.prototype,"flowTheme",null),(0,c._)([(0,h.property)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],T.prototype,"focus",null),(0,c._)([(0,h.property)({type:Number,value:null,json:{type:y.Integer,write:!0}})],T.prototype,"numClasses",null),(0,c._)([(0,h.property)({type:k,json:{type:k,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],T.prototype,"lengthUnit",void 0),(0,c._)([(0,h.property)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],T.prototype,"maxSliderValue",void 0),(0,c._)([(0,h.property)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],T.prototype,"minSliderValue",void 0),(0,c._)([(0,h.property)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],T.prototype,"statistics",null),(0,c._)([(0,h.property)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],T.prototype,"standardDeviationInterval",null),(0,c._)([(0,h.property)({type:x.apiValues,value:null,json:{type:x.jsonValues,read:x.read,write:x.write,origins:{"web-scene":{type:S.jsonValues,write:{writer:S.write,overridePolicy:function(e){return{enabled:"flow"!==e}}}}}}})],T.prototype,"type",null),(0,c._)([(0,h.property)({type:[b.default],json:{write:!0}})],T.prototype,"visualVariables",void 0),(0,c._)([(0,h.property)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],T.prototype,"univariateSymbolStyle",null),(0,c._)([(0,h.property)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],T.prototype,"univariateTheme",null);var E=T=n=(0,c._)([(0,m.subclass)("esri.renderers.support.AuthoringInfo")],T)})),s.register("2tQzj",(function(t,r){e(t.exports,"default",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("flPLJ"),p=s("iho5X");s("iJAIC");var d,h=s("fcwIv"),y=s("8NYBw"),v=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).field="",n.normalizationField="",n.label="",n.classBreakInfos=[],o.default(n)}return l.default(r,[{key:"clone",value:function(){return new d({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,f.clone)(this.classBreakInfos)})}}]),r}(c.JSONSupport);(0,u._)([(0,p.property)({type:String,json:{write:!0}})],v.prototype,"field",void 0),(0,u._)([(0,p.property)({type:String,json:{write:!0}})],v.prototype,"normalizationField",void 0),(0,u._)([(0,p.property)({type:String,json:{write:!0}})],v.prototype,"label",void 0),(0,u._)([(0,p.property)({type:[y.default],json:{write:!0}})],v.prototype,"classBreakInfos",void 0);var m=v=d=(0,u._)([(0,h.subclass)("esri.renderers.support.AuthoringInfoFieldInfo")],v)})),s.register("8NYBw",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).minValue=0,n.maxValue=0,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({minValue:this.minValue,maxValue:this.maxValue})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:Number,json:{write:!0}})],h.prototype,"minValue",void 0),(0,u._)([(0,f.property)({type:Number,json:{write:!0}})],h.prototype,"maxValue",void 0);var y=h=p=(0,u._)([(0,d.subclass)("esri.renderer.support.AuthoringInfoClassBreakInfo")],h)})),s.register("nGQEr",(function(t,r){e(t.exports,"default",(function(){return k})),s("8TSCy");var n=s("5Vgx8"),i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("7eJjO"),f=s("79ASa"),p=s("1XAcN"),d=s("iho5X");s("lNwWH"),s("2VlWd");var h,y=s("ba18L"),v=s("fcwIv"),m=new(0,f.JSONMap)({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),g=new(0,f.JSONMap)({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),b={key:function(e){return"number"==typeof e?"number":"string"},typeMap:{number:Number,string:String},base:null},_=["high-to-low","above-and-below","centered-on","extremes"],w=n.default(new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])),x=["seconds","minutes","hours","days","months","years"],S=h=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).endTime=null,n.field=null,n.maxSliderValue=null,n.minSliderValue=null,n.startTime=null,n.type=null,n.units=null,l.default(n)}return u.default(r,[{key:"castEndTime",value:function(e){return"string"==typeof e||"number"==typeof e?e:null}},{key:"castStartTime",value:function(e){return"string"==typeof e||"number"==typeof e?e:null}},{key:"style",get:function(){return"color"===this.type?this._get("style"):null},set:function(e){this._set("style",e)}},{key:"theme",get:function(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null},set:function(e){this._set("theme",e)}},{key:"clone",value:function(){return new h({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}}]),r}(p.JSONSupport);(0,c._)([(0,d.property)({types:b,json:{write:!0}})],S.prototype,"endTime",void 0),(0,c._)([(0,y.cast)("endTime")],S.prototype,"castEndTime",null),(0,c._)([(0,d.property)({type:String,json:{write:!0}})],S.prototype,"field",void 0),(0,c._)([(0,d.property)({type:Number,json:{write:!0}})],S.prototype,"maxSliderValue",void 0),(0,c._)([(0,d.property)({type:Number,json:{write:!0}})],S.prototype,"minSliderValue",void 0),(0,c._)([(0,d.property)({types:b,json:{write:!0}})],S.prototype,"startTime",void 0),(0,c._)([(0,y.cast)("startTime")],S.prototype,"castStartTime",null),(0,c._)([(0,d.property)({type:m.apiValues,value:null,json:{type:m.jsonValues,read:m.read,write:m.write}})],S.prototype,"style",null),(0,c._)([(0,d.property)({type:w,value:null,json:{type:w,origins:{"web-scene":{type:_,write:{writer:function(e,t){_.indexOf(e)>-1&&(t.theme=e)}}}},write:!0}})],S.prototype,"theme",null),(0,c._)([(0,d.property)({type:g.apiValues,json:{type:g.jsonValues,read:g.read,write:g.write}})],S.prototype,"type",void 0),(0,c._)([(0,d.property)({type:x,json:{type:x,write:!0}})],S.prototype,"units",void 0);var k=S=h=(0,c._)([(0,v.subclass)("esri.renderers.support.AuthoringInfoVisualVariable")],S)})),s.register("1DHtQ",(function(t,r){e(t.exports,"types",(function(){return o})),e(t.exports,"fromJSON",(function(){return l}));var n=s("4puWj"),i=s("8kF2H"),a=s("lpLhR"),o={key:"type",base:i.default,typeMap:{algorithmic:n.default,multipart:a.default}};function l(e){return e&&e.type?"algorithmic"===e.type?n.default.fromJSON(e):"multipart"===e.type?a.default.fromJSON(e):null:null}})),s.register("4puWj",(function(t,r){e(t.exports,"default",(function(){return b})),s("8TSCy");var n,i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("7eJjO"),f=s("jgs9n"),p=s("flPLJ"),d=s("iho5X"),h=s("iJAIC"),y=s("bSafx"),v=s("fcwIv"),m=s("8kF2H"),g=n=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).algorithm=null,n.fromColor=null,n.toColor=null,n.type="algorithmic",l.default(n)}return u.default(r,[{key:"clone",value:function(){return new n({fromColor:(0,p.clone)(this.fromColor),toColor:(0,p.clone)(this.toColor),algorithm:this.algorithm})}}]),r}(m.default);(0,c._)([(0,y.enumeration)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],g.prototype,"algorithm",void 0),(0,c._)([(0,d.property)({type:f.default,json:{type:[h.Integer],write:!0}})],g.prototype,"fromColor",void 0),(0,c._)([(0,d.property)({type:f.default,json:{type:[h.Integer],write:!0}})],g.prototype,"toColor",void 0),(0,c._)([(0,d.property)({type:["algorithmic"]})],g.prototype,"type",void 0);var b=g=n=(0,c._)([(0,v.subclass)("esri.rest.support.AlgorithmicColorRamp")],g)})),s.register("8kF2H",(function(t,r){e(t.exports,"default",(function(){return d})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("1XAcN"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f=s("fcwIv"),p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type=null,o.default(n)}return r}(u.JSONSupport);(0,l._)([(0,c.property)({readOnly:!0,json:{read:!1,write:!0}})],p.prototype,"type",void 0);var d=p=(0,l._)([(0,f.subclass)("esri.rest.support.ColorRamp")],p)})),s.register("lpLhR",(function(t,r){e(t.exports,"default",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("flPLJ"),f=s("iho5X");s("iJAIC");var p,d=s("fcwIv"),h=s("4puWj"),y=s("8kF2H"),v=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).colorRamps=null,n.type="multipart",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({colorRamps:(0,c.clone)(this.colorRamps)})}}]),r}(y.default);(0,u._)([(0,f.property)({type:[h.default],json:{write:!0}})],v.prototype,"colorRamps",void 0),(0,u._)([(0,f.property)({type:["multipart"]})],v.prototype,"type",void 0);var m=v=p=(0,u._)([(0,d.subclass)("esri.rest.support.MultipartColorRamp")],v)})),s.register("5wEUY",(function(t,r){e(t.exports,"VisualVariablesMixin",(function(){return T})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("jcnGU"),f=s("2TvXO"),p=s("7eJjO"),d=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var h=s("eB8sj"),y=s("fcwIv"),v=s("kced1"),m=s("7vTUY"),g=s("hiRJe"),b=s("iBadd"),_=s("dFHgp"),w=s("2rUeJ"),x=s("ioI01"),S=s("ei5eK"),k={base:x.default,key:"type",typeMap:{opacity:b.default,color:g.default,rotation:_.default,size:w.default}},T=function(e){var t=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(){var e;return o.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))))._vvFactory=new(0,S.default),l.default(e)}return u.default(r,[{key:"visualVariables",set:function(e){this._vvFactory.visualVariables=e,this._set("visualVariables",this._vvFactory.visualVariables)}},{key:"readVisualVariables",value:function(e,t,r){return this._vvFactory.readVariables(e,t,r)}},{key:"writeVisualVariables",value:function(e,t,r,n){t[r]=this._vvFactory.writeVariables(e,n)}},{key:"arcadeRequiredForVisualVariables",get:function(){if(!this.visualVariables)return!1;var e=!0,t=!1,r=void 0;try{for(var n,i=this.visualVariables[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){if(n.value.arcadeRequired)return!0}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}return!1}},{key:"hasVisualVariables",value:function(e,t){return e?this.getVisualVariablesForType(e,t).length>0:this.getVisualVariablesForType("size",t).length>0||this.getVisualVariablesForType("color",t).length>0||this.getVisualVariablesForType("opacity",t).length>0||this.getVisualVariablesForType("rotation",t).length>0}},{key:"getVisualVariablesForType",value:function(e,t){var r=this.visualVariables;return r?r.filter((function(r){return r.type===e&&("string"==typeof t?r.target===t:!1!==t||!r.target)})):[]}},{key:"collectVVRequiredFields",value:function(e,t){var r=this;return c.default(n(f).mark((function i(){var a,o,s,l,u,c,p;return n(f).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=[],r.visualVariables&&(a=a.concat(r.visualVariables)),o=!0,s=!1,l=void 0,n.prev=3,u=a[Symbol.iterator]();case 5:if(o=(c=u.next()).done){n.next=18;break}if(p=c.value,n.t0=p,!n.t0){n.next=15;break}if(p.field&&(0,m.collectField)(e,t,p.field),p.normalizationField&&(0,m.collectField)(e,t,p.normalizationField),n.t1=p.valueExpression,!n.t1){n.next=15;break}return n.next=15,(0,m.collectArcadeFieldNames)(e,t,p.valueExpression);case 15:o=!0,n.next=5;break;case 18:n.next=24;break;case 20:n.prev=20,n.t2=n.catch(3),s=!0,l=n.t2;case 24:n.prev=24,n.prev=25,o||null==u.return||u.return();case 27:if(n.prev=27,!s){n.next=30;break}throw l;case 30:return n.finish(27);case 31:return n.finish(24);case 32:case"end":return n.stop()}}),i,null,[[3,20,24,32],[25,,27,31]])})))()}}]),r}(e);return(0,p._)([(0,d.property)({types:[k],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),(0,p._)([(0,h.reader)("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),(0,p._)([(0,v.writer)("visualVariables")],t.prototype,"writeVisualVariables",null),t=(0,p._)([(0,y.subclass)("esri.renderers.mixins.VisualVariablesMixin")],t)}})),s.register("hiRJe",(function(t,r){e(t.exports,"default",(function(){return g})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("8atho"),c=s("aNpz9"),f=s("7eJjO"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d,h=s("fcwIv"),y=s("ioI01"),v=s("eZwqA"),m=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="color",n.normalizationField=null,o.default(n)}return l.default(r,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(e){e&&Array.isArray(e)&&(e=e.filter((function(e){return!!e}))).sort((function(e,t){return e.value-t.value})),this._set("stops",e)}},{key:"clone",value:function(){return new d({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((function(e){return e.clone()})),legendOptions:this.legendOptions&&this.legendOptions.clone()})}},{key:"getAttributeHash",value:function(){return"".concat(u.default(c.default(r.prototype),"getAttributeHash",this).call(this),"-").concat(this.normalizationField)}},{key:"_interpolateData",value:function(){return this.stops&&this.stops.map((function(e){return e.value||0}))}}]),r}(y.default);(0,f._)([(0,p.property)({readOnly:!0})],m.prototype,"cache",null),(0,f._)([(0,p.property)({type:["color"],json:{type:["colorInfo"]}})],m.prototype,"type",void 0),(0,f._)([(0,p.property)({type:String,json:{write:!0}})],m.prototype,"normalizationField",void 0),(0,f._)([(0,p.property)({type:[v.default],json:{write:!0}})],m.prototype,"stops",null);var g=m=d=(0,f._)([(0,h.subclass)("esri.renderers.visualVariables.ColorVariable")],m)})),s.register("ioI01",(function(t,r){e(t.exports,"default",(function(){return w})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("79ASa"),f=s("1XAcN"),p=s("jHOLN"),d=s("iho5X");s("lNwWH"),s("2VlWd");var h=s("ba18L"),y=s("fcwIv"),v=s("iJAIC"),m=s("48hBx"),g=p.default.getLogger("esri.renderers.visualVariables.VisualVariable"),b=new(0,c.JSONMap)({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),_=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).index=null,n.type=null,n.field=null,n.valueExpression=null,n.valueExpressionTitle=null,n.legendOptions=null,o.default(n)}return l.default(r,[{key:"castField",value:function(e){return null==e?e:"function"==typeof e?(g.error(".field: field must be a string value"),null):(0,v.ensureString)(e)}},{key:"arcadeRequired",get:function(){return!!this.valueExpression}},{key:"clone",value:function(){}},{key:"getAttributeHash",value:function(){return"".concat(this.type,"-").concat(this.field,"-").concat(this.valueExpression)}}]),r}(f.JSONSupport);(0,u._)([(0,d.property)()],_.prototype,"index",void 0),(0,u._)([(0,d.property)({type:b.apiValues,readOnly:!0,json:{read:b.read,write:b.write}})],_.prototype,"type",void 0),(0,u._)([(0,d.property)({type:String,json:{write:!0}})],_.prototype,"field",void 0),(0,u._)([(0,h.cast)("field")],_.prototype,"castField",null),(0,u._)([(0,d.property)({type:String,json:{write:!0}})],_.prototype,"valueExpression",void 0),(0,u._)([(0,d.property)({type:String,json:{write:!0}})],_.prototype,"valueExpressionTitle",void 0),(0,u._)([(0,d.property)({readOnly:!0})],_.prototype,"arcadeRequired",null),(0,u._)([(0,d.property)({type:m.default,json:{write:!0}})],_.prototype,"legendOptions",void 0);var w=_=(0,u._)([(0,y.subclass)("esri.renderers.visualVariables.VisualVariable")],_)})),s.register("48hBx",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("j8OFR"),h=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).showLegend=null,o.default(e)}return l.default(r,[{key:"clone",value:function(){return new f({title:this.title,showLegend:this.showLegend})}}]),r}(d.default);(0,u._)([(0,c.property)({type:Boolean,json:{write:!0}})],h.prototype,"showLegend",void 0);var y=h=f=(0,u._)([(0,p.subclass)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],h)})),s.register("j8OFR",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).title=null,o.default(e)}return l.default(r,[{key:"clone",value:function(){return new p({title:this.title})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"title",void 0);var y=h=p=(0,u._)([(0,d.subclass)("esri.renderers.support.LegendOptions")],h)})),s.register("eZwqA",(function(t,r){e(t.exports,"default",(function(){return g})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jgs9n"),f=s("1XAcN"),p=s("iho5X");s("lNwWH"),s("2VlWd");var d,h=s("iJAIC"),y=s("fcwIv"),v=s("kced1"),m=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).color=null,n.label=null,n.value=null,o.default(n)}return l.default(r,[{key:"writeValue",value:function(e,t,r){t[r]=null==e?0:e}},{key:"clone",value:function(){return new d({color:this.color&&this.color.clone(),label:this.label,value:this.value})}}]),r}(f.JSONSupport);(0,u._)([(0,p.property)({type:c.default,json:{type:[h.Integer],write:!0}})],m.prototype,"color",void 0),(0,u._)([(0,p.property)({type:String,json:{write:!0}})],m.prototype,"label",void 0),(0,u._)([(0,p.property)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],m.prototype,"value",void 0),(0,u._)([(0,v.writer)("value")],m.prototype,"writeValue",null);var g=m=d=(0,u._)([(0,y.subclass)("esri.renderers.visualVariables.support.ColorStop")],m)})),s.register("iBadd",(function(t,r){e(t.exports,"default",(function(){return g})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("8atho"),c=s("aNpz9"),f=s("7eJjO"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d,h=s("fcwIv"),y=s("ioI01"),v=s("fWbVS"),m=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="opacity",n.normalizationField=null,o.default(n)}return l.default(r,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(e){e&&Array.isArray(e)&&(e=e.filter((function(e){return!!e}))).sort((function(e,t){return e.value-t.value})),this._set("stops",e)}},{key:"clone",value:function(){return new d({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((function(e){return e.clone()})),legendOptions:this.legendOptions&&this.legendOptions.clone()})}},{key:"getAttributeHash",value:function(){return"".concat(u.default(c.default(r.prototype),"getAttributeHash",this).call(this),"-").concat(this.normalizationField)}},{key:"_interpolateData",value:function(){return this.stops&&this.stops.map((function(e){return e.value||0}))}}]),r}(y.default);(0,f._)([(0,p.property)({readOnly:!0})],m.prototype,"cache",null),(0,f._)([(0,p.property)({type:["opacity"],json:{type:["transparencyInfo"]}})],m.prototype,"type",void 0),(0,f._)([(0,p.property)({type:String,json:{write:!0}})],m.prototype,"normalizationField",void 0),(0,f._)([(0,p.property)({type:[v.default],json:{write:!0}})],m.prototype,"stops",null);var g=m=d=(0,f._)([(0,h.subclass)("esri.renderers.visualVariables.OpacityVariable")],m)})),s.register("fWbVS",(function(t,r){e(t.exports,"default",(function(){return b})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd");var p,d=s("iJAIC"),h=s("eB8sj"),y=s("fcwIv"),v=s("kced1"),m=s("7gqUJ"),g=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).label=null,n.opacity=null,n.value=null,o.default(n)}return l.default(r,[{key:"readOpacity",value:function(e,t){return(0,m.transparencyToOpacity)(t.transparency)}},{key:"writeOpacity",value:function(e,t,r){t[r]=(0,m.opacityToTransparency)(e)}},{key:"clone",value:function(){return new p({label:this.label,opacity:this.opacity,value:this.value})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:String,json:{write:!0}})],g.prototype,"label",void 0),(0,u._)([(0,f.property)({type:Number,json:{type:d.Integer,write:{target:"transparency"}}})],g.prototype,"opacity",void 0),(0,u._)([(0,h.reader)("opacity",["transparency"])],g.prototype,"readOpacity",null),(0,u._)([(0,v.writer)("opacity")],g.prototype,"writeOpacity",null),(0,u._)([(0,f.property)({type:Number,json:{write:!0}})],g.prototype,"value",void 0);var b=g=p=(0,u._)([(0,y.subclass)("esri.renderers.visualVariables.support.OpacityStop")],g)})),s.register("dFHgp",(function(t,r){e(t.exports,"default",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("kyj08"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=s("kced1"),y=s("ioI01"),v=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).axis=null,n.type="rotation",n.rotationType="geographic",n.valueExpressionTitle=null,o.default(n)}return l.default(r,[{key:"cache",get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"writeValueExpressionTitleWebScene",value:function(e,t,r,n){if(n&&n.messages){var i="visualVariables[".concat(this.index,"]");n.messages.push(new(0,c.default)("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:i+".valueExpressionTitle",context:n}))}}},{key:"clone",value:function(){return new p({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}}]),r}(y.default);(0,u._)([(0,f.property)({readOnly:!0})],v.prototype,"cache",null),(0,u._)([(0,f.property)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],v.prototype,"axis",void 0),(0,u._)([(0,f.property)({type:["rotation"],json:{type:["rotationInfo"]}})],v.prototype,"type",void 0),(0,u._)([(0,f.property)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],v.prototype,"rotationType",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],v.prototype,"valueExpressionTitle",void 0),(0,u._)([(0,h.writer)("web-scene","valueExpressionTitle")],v.prototype,"writeValueExpressionTitleWebScene",null);var m=v=p=(0,u._)([(0,d.subclass)("esri.renderers.visualVariables.RotationVariable")],v)})),s.register("2rUeJ",(function(t,r){e(t.exports,"default",(function(){return R})),s("8TSCy");var n=s("ifq4M"),i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("8atho"),f=s("aNpz9"),p=s("7eJjO"),d=s("kyj08"),h=s("79ASa"),y=s("jHOLN"),v=s("iXlXu"),m=s("iho5X");s("lNwWH"),s("2VlWd");var g,b=s("ba18L"),_=s("eB8sj"),w=s("fcwIv"),x=s("kced1"),S=s("ioI01"),k=s("8Eg1f"),T=s("lVv1E"),E=s("1OaQa"),I=s("fO9V6"),C=y.default.getLogger("esri.renderers.visualVariables.SizeVariable"),O=new(0,h.JSONMap)({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),L=new(0,h.JSONMap)({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function A(e){if(null!=e)return"string"==typeof e||"number"==typeof e?(0,v.toPt)(e):"size"===e.type?(0,E.isSizeVariable)(e)?e:(delete(e=n.default({},e)).type,new N(e)):void 0}function M(e,t,r){if("object"!=typeof e)return e;var n=new N;return n.read(e,r),n}var N=g=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).axis=null,n.legendOptions=null,n.normalizationField=null,n.scaleBy=null,n.target=null,n.type="size",n.useSymbolValue=null,n.valueExpression=null,n.valueRepresentation=null,n.valueUnit=null,l.default(n)}return u.default(r,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:I.viewScaleRE.test(this.valueExpression)}}},{key:"expression",set:function(e){C.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===e?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}},{key:"index",set:function(e){(0,E.isSizeVariable)(this.maxSize)&&(this.maxSize.index="visualVariables[".concat(e,"].maxSize")),(0,E.isSizeVariable)(this.minSize)&&(this.minSize.index="visualVariables[".concat(e,"].minSize")),this._set("index",e)}},{key:"inputValueType",get:function(){return(0,E.getInputValueType)(this)}},{key:"maxDataValue",set:function(e){e&&this.stops&&(C.warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}},{key:"maxSize",set:function(e){e&&this.stops&&(C.warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}},{key:"castMaxSize",value:function(e){return A(e)}},{key:"readMaxSize",value:function(e,t,r){return M(e,0,r)}},{key:"minDataValue",set:function(e){e&&this.stops&&(C.warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}},{key:"minSize",set:function(e){e&&this.stops&&(C.warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}},{key:"castMinSize",value:function(e){return A(e)}},{key:"readMinSize",value:function(e,t,r){return M(e,0,r)}},{key:"arcadeRequired",get:function(){return!!this.valueExpression||this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}},{key:"stops",set:function(e){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?e&&Array.isArray(e)&&(e=e.filter((function(e){return!!e}))).sort((function(e,t){return e.value-t.value})):e&&(C.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}},{key:"transformationType",get:function(){return(0,E.getTransformationType)(this,this.inputValueType)}},{key:"readValueExpression",value:function(e,t){return e||t.expression&&"$view.scale"}},{key:"writeValueExpressionWebScene",value:function(e,t,r,n){if("$view.scale"===e){if(n&&n.messages){var i=this.index,a="string"==typeof i?i:"visualVariables[".concat(i,"]");n.messages.push(new(0,d.default)("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:a+".valueExpression",context:n}))}}else t[r]=e}},{key:"readValueUnit",value:function(e){return e?L.read(e):null}},{key:"clone",value:function(){return new g({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,E.isSizeVariable)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,E.isSizeVariable)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((function(e){return e.clone()})),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}},{key:"flipSizes",value:function(){if(this.transformationType===E.TransformationType.ClampedLinear){var e=this.minSize,t=this.maxSize;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===E.TransformationType.Stops){for(var r=this.stops,n=r.map((function(e){return e.size})).reverse(),i=r.length,a=0;a<i;a++)r[a].size=n[a];return this}return this}},{key:"getAttributeHash",value:function(){return"".concat(c.default(f.default(r.prototype),"getAttributeHash",this).call(this),"-").concat(this.target,"-").concat(this.normalizationField)}},{key:"_interpolateData",value:function(){return this.stops&&this.stops.map((function(e){return e.value||0}))}}]),r}(S.default);(0,p._)([(0,m.property)({readOnly:!0})],N.prototype,"cache",null),(0,p._)([(0,m.property)({type:O.apiValues,json:{type:O.jsonValues,origins:{"web-map":{read:!1}},read:O.read,write:O.write}})],N.prototype,"axis",void 0),(0,p._)([(0,m.property)({type:String,value:null,json:{read:!1}})],N.prototype,"expression",null),(0,p._)([(0,m.property)()],N.prototype,"index",null),(0,p._)([(0,m.property)({type:String,readOnly:!0})],N.prototype,"inputValueType",null),(0,p._)([(0,m.property)({type:T.default,json:{write:!0}})],N.prototype,"legendOptions",void 0),(0,p._)([(0,m.property)({type:Number,value:null,json:{write:!0}})],N.prototype,"maxDataValue",null),(0,p._)([(0,m.property)({type:Number,value:null,json:{write:!0}})],N.prototype,"maxSize",null),(0,p._)([(0,b.cast)("maxSize")],N.prototype,"castMaxSize",null),(0,p._)([(0,_.reader)("maxSize")],N.prototype,"readMaxSize",null),(0,p._)([(0,m.property)({type:Number,value:null,json:{write:!0}})],N.prototype,"minDataValue",null),(0,p._)([(0,m.property)({type:Number,value:null,json:{write:!0}})],N.prototype,"minSize",null),(0,p._)([(0,b.cast)("minSize")],N.prototype,"castMinSize",null),(0,p._)([(0,_.reader)("minSize")],N.prototype,"readMinSize",null),(0,p._)([(0,m.property)({type:String,json:{write:!0}})],N.prototype,"normalizationField",void 0),(0,p._)([(0,m.property)({readOnly:!0})],N.prototype,"arcadeRequired",null),(0,p._)([(0,m.property)({type:String})],N.prototype,"scaleBy",void 0),(0,p._)([(0,m.property)({type:[k.default],value:null,json:{write:!0}})],N.prototype,"stops",null),(0,p._)([(0,m.property)({type:["outline"],json:{write:!0}})],N.prototype,"target",void 0),(0,p._)([(0,m.property)({type:String,readOnly:!0})],N.prototype,"transformationType",null),(0,p._)([(0,m.property)({type:["size"],json:{type:["sizeInfo"]}})],N.prototype,"type",void 0),(0,p._)([(0,m.property)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],N.prototype,"useSymbolValue",void 0),(0,p._)([(0,m.property)({type:String,json:{write:!0}})],N.prototype,"valueExpression",void 0),(0,p._)([(0,_.reader)("valueExpression",["valueExpression","expression"])],N.prototype,"readValueExpression",null),(0,p._)([(0,x.writer)("web-scene","valueExpression")],N.prototype,"writeValueExpressionWebScene",null),(0,p._)([(0,m.property)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],N.prototype,"valueRepresentation",void 0),(0,p._)([(0,m.property)({type:L.apiValues,json:{write:L.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],N.prototype,"valueUnit",void 0),(0,p._)([(0,_.reader)("valueUnit")],N.prototype,"readValueUnit",null);var R=N=g=(0,p._)([(0,w.subclass)("esri.renderers.visualVariables.SizeVariable")],N)})),s.register("8Eg1f",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iXlXu"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d,h=s("fcwIv"),y=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).label=null,n.size=null,n.value=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new d({label:this.label,size:this.size,value:this.value})}}]),r}(c.JSONSupport);(0,u._)([(0,p.property)({type:String,json:{write:!0}})],y.prototype,"label",void 0),(0,u._)([(0,p.property)({type:Number,cast:f.toPt,json:{write:!0}})],y.prototype,"size",void 0),(0,u._)([(0,p.property)({type:Number,json:{write:!0}})],y.prototype,"value",void 0);var v=y=d=(0,u._)([(0,h.subclass)("esri.renderers.visualVariables.support.SizeStop")],y)})),s.register("lVv1E",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("48hBx"),h=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).customValues=null,o.default(e)}return l.default(r,[{key:"clone",value:function(){return new f({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}}]),r}(d.default);(0,u._)([(0,c.property)({type:[Number],json:{write:!0}})],h.prototype,"customValues",void 0);var y=h=f=(0,u._)([(0,p.subclass)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],h)})),s.register("1OaQa",(function(t,r){var n,i,a,o;function s(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function l(e){return null!=e&&!isNaN(e)&&isFinite(e)}function u(e){return e.valueExpression?n.Expression:e.field&&"string"==typeof e.field?n.Field:n.Unknown}function c(e,t){var r=t||u(e),a=e.valueUnit||"unknown";return r===n.Unknown?i.Constant:e.stops?i.Stops:null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?i.ClampedLinear:"unknown"===a?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?i.Proportional:i.Additive:i.Identity:i.RealWorldSize}e(t.exports,"InputValueType",(function(){return n})),e(t.exports,"TransformationType",(function(){return i})),e(t.exports,"isSizeVariable",(function(){return s})),e(t.exports,"isValidNumber",(function(){return l})),e(t.exports,"getInputValueType",(function(){return u})),e(t.exports,"getTransformationType",(function(){return c})),(o=n||(n={})).Unknown="unknown",o.Expression="expression",o.Field="field",(a=i||(i={})).Unknown="unknown",a.Stops="stops",a.ClampedLinear="clamped-linear",a.Proportional="proportional",a.Additive="additive",a.Constant="constant",a.Identity="identity",a.RealWorldSize="real-world-size"})),s.register("fO9V6",(function(t,r){e(t.exports,"viewScaleRE",(function(){return y})),e(t.exports,"getColor",(function(){return v})),e(t.exports,"getOpacity",(function(){return m})),e(t.exports,"getRotationAngle",(function(){return g})),e(t.exports,"getSize",(function(){return b})),e(t.exports,"getSizeForValue",(function(){return x})),e(t.exports,"getSizeFromNumberOrVariable",(function(){return _})),e(t.exports,"getSizeRangeAtScale",(function(){return S})),e(t.exports,"getVisualVariableValues",(function(){return k})),e(t.exports,"getAllSizes",(function(){return E})),s("8TSCy");var n=s("iCnzh"),i=s("jgs9n"),a=s("bsvXr"),o=s("dMFG2"),l=s("jHOLN"),u=s("7qybv"),c=s("2JxK9"),f=s("1OaQa"),p=l.default.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),d=new(0,a.default),h=Math.PI,y=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function v(e,t,r){var n="visualVariables"in e&&e.visualVariables?e.visualVariables.find((function(e){return"color"===e.type})):e;if(n)if("esri.renderers.visualVariables.ColorVariable"===n.declaredClass){var a="number"==typeof t,o=a?null:t,s=o&&o.attributes,l=a?t:null,c=n.field,f=n.cache,d=f.ipData,h=f.hasExpression,y=n.cache.compiledFunc;if(!c&&!h){var v=n.stops;return v&&v[0]&&v[0].color}if("number"!=typeof l)if(h){if(!(0,u.isSome)(r)||!(0,u.isSome)(r.arcade))return void p.error("Use of arcade expressions requires an arcade context");var m={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},g=r.arcade.arcadeUtils,b=g.getViewInfo(m),_=g.createExecContext(o,b);if(!y){var w=g.createSyntaxTree(n.valueExpression);y=g.createFunction(w),n.cache.compiledFunc=y}l=g.executeFunction(y,_)}else s&&(l=s[c]);var x=n.normalizationField,S=s?parseFloat(s[x]):void 0;if(null!=l&&(!x||a||!isNaN(S)&&0!==S)){isNaN(S)||a||(l/=S);var k=T(l,d);if(k){var E=k[0],I=k[1],C=E===I?n.stops[E].color:i.default.blendColors(n.stops[E].color,n.stops[I].color,k[2],(0,u.isSome)(r)?r.color:void 0);return new(0,i.default)(C)}}}else p.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable")}function m(e,t,r){var n="visualVariables"in e&&e.visualVariables?e.visualVariables.find((function(e){return"opacity"===e.type})):e;if(n)if("esri.renderers.visualVariables.OpacityVariable"===n.declaredClass){var i="number"==typeof t,a=i?null:t,o=a&&a.attributes,s=i?t:null,l=n.field,c=n.cache,f=c.ipData,d=c.hasExpression,h=n.cache.compiledFunc;if(!l&&!d){var y=n.stops;return y&&y[0]&&y[0].opacity}if("number"!=typeof s)if(d){if((0,u.isNone)(r)||(0,u.isNone)(r.arcade))return void p.error("Use of arcade expressions requires an arcade context");var v={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},m=r.arcade.arcadeUtils,g=m.getViewInfo(v),b=m.createExecContext(a,g);if(!h){var _=m.createSyntaxTree(n.valueExpression);h=m.createFunction(_),n.cache.compiledFunc=h}s=m.executeFunction(h,b)}else o&&(s=o[l]);var w=n.normalizationField,x=o?parseFloat(o[w]):void 0;if(null!=s&&(!w||i||!isNaN(x)&&0!==x)){isNaN(x)||i||(s/=x);var S=T(s,f);if(S){var k=S[0],E=S[1];if(k===E)return n.stops[k].opacity;var I=n.stops[k].opacity;return I+(n.stops[E].opacity-I)*S[2]}}}else p.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable")}function g(e,t,r){var n="visualVariables"in e&&e.visualVariables?e.visualVariables.find((function(e){return"rotation"===e.type})):e;if(n){if("esri.renderers.visualVariables.RotationVariable"===n.declaredClass){var i=n.axis||"heading",a="heading"===i&&"arithmetic"===n.rotationType?90:0,o="heading"===i&&"arithmetic"===n.rotationType?-1:1,s="number"==typeof t?null:t,l=s&&s.attributes,c=n.field,f=n.cache.hasExpression,d=n.cache.compiledFunc,h=0;if(!c&&!f)return h;if(f){if((0,u.isNone)(r)||(0,u.isNone)(r.arcade))return void p.error("Use of arcade expressions requires an arcade context");var y={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},v=r.arcade.arcadeUtils,m=v.getViewInfo(y),g=v.createExecContext(s,m);if(!d){var b=v.createSyntaxTree(n.valueExpression);d=v.createFunction(b),n.cache.compiledFunc=d}h=v.executeFunction(d,g)}else l&&(h=l[c]||0);return h="number"!=typeof h||isNaN(h)?null:a+o*h}p.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable")}}function b(e,t,r){var n="visualVariables"in e&&e.visualVariables?e.visualVariables.find((function(e){return"size"===e.type})):e;if(n){if("esri.renderers.visualVariables.SizeVariable"===n.declaredClass){var i=x(function(e,t,r){var n="number"==typeof t,i=n?null:t,a=i&&i.attributes,o=n?t:null,s=e.cache.isScaleDriven,l=e.cache.compiledFunc;if(s){var c=(0,u.isSome)(r)?r.scale:void 0,d=(0,u.isSome)(r)?r.view:void 0;o=null==c||"3d"===d?function(e){var t=null,r=null,n=e.stops;return n?(t=n[0].value,r=n[n.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}(e):c}else if(!n)switch(e.inputValueType){case f.InputValueType.Expression:if((0,u.isNone)(r)||(0,u.isNone)(r.arcade))return void p.error("Use of arcade expressions requires an arcade context");var h={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},y=r.arcade.arcadeUtils,v=y.getViewInfo(h),m=y.createExecContext(i,v);if(!l){var g=y.createSyntaxTree(e.valueExpression);l=y.createFunction(g),e.cache.compiledFunc=l}o=y.executeFunction(l,m);break;case f.InputValueType.Field:a&&(o=a[e.field]);break;case f.InputValueType.Unknown:o=null}if(!(0,f.isValidNumber)(o))return null;if(n||!e.normalizationField)return o;var b=a?parseFloat(a[e.normalizationField]):null;return(0,f.isValidNumber)(b)&&0!==b?o/b:null}(n,t,r),n,t,r,n.cache.ipData);return null==i||isNaN(i)?0:i}p.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable")}}function _(e,t,r){return null==e?null:(0,f.isSizeVariable)(e)?b(e,t,r):(0,f.isValidNumber)(e)?e:null}function w(e,t,r){return(0,f.isValidNumber)(r)&&e>r?r:(0,f.isValidNumber)(t)&&e<t?t:e}function x(e,t,r,i,a){switch(t.transformationType){case f.TransformationType.Additive:return P=r,F=i,e+(_((R=t).minSize,P,F)||R.minDataValue);case f.TransformationType.Constant:return L=r,A=i,M=(O=t).stops,null==(N=M&&M.length&&M[0].size)&&(N=O.minSize),_(N,L,A);case f.TransformationType.ClampedLinear:return function(e,t,r,n){var i=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),a=_(t.minSize,r,n),o=_(t.maxSize,r,n),s=(0,u.isSome)(n)?n.shape:void 0;if(e<=t.minDataValue)return a;if(e>=t.maxDataValue)return o;if("area"===t.scaleBy&&s){var l="circle"===s,c=l?h*Math.pow(a/2,2):a*a,f=c+i*((l?h*Math.pow(o/2,2):o*o)-c);return l?2*Math.sqrt(f/h):Math.sqrt(f)}return a+i*(o-a)}(e,t,r,i);case f.TransformationType.Proportional:return g=e,b=t,x=r,S=i,k=(0,u.isSome)(S)?S.shape:void 0,E=g/b.minDataValue,I=_(b.minSize,x,S),C=_(b.maxSize,x,S),w("circle"===k?2*Math.sqrt(E*Math.pow(I/2,2)):"square"===k||"diamond"===k||"image"===k?Math.sqrt(E*Math.pow(I,2)):E*I,I,C);case f.TransformationType.Stops:return function(e,t,r,i,a){var o=n.default(T(e,a),3),s=o[0],l=o[1],u=o[2];if(s===l)return _(t.stops[s].size,r,i);var c=_(t.stops[s].size,r,i);return c+(_(t.stops[l].size,r,i)-c)*u}(e,t,r,i,a);case f.TransformationType.RealWorldSize:return o=e,s=t,l=r,p=i,d=((0,u.isSome)(p)&&p.resolution?p.resolution:1)*c.meterIn[s.valueUnit],y=_(s.minSize,l,p),v=_(s.maxSize,l,p),w("area"===(m=s.valueRepresentation)?2*Math.sqrt(o/h)/d:"radius"===m||"distance"===m?2*o/d:o/d,y,v);case f.TransformationType.Identity:return e;case f.TransformationType.Unknown:return null}var o,s,l,p,d,y,v,m,g,b,x,S,k,E,I,C,O,L,A,M,N,R,P,F}function S(e,t,r){if(!(e.cache.isScaleDriven&&"3d"===r||t))return null;var n={scale:t,view:r},i=_(e.minSize,d,n),a=_(e.maxSize,d,n);if(null!=i||null!=a){if(i>a){var o=a;a=i,i=o}return{minSize:i,maxSize:a}}}function k(e,t,r){if(e.visualVariables){var n=[],i=[],a=[],o=[],s=[],l=!0,u=!1,c=void 0;try{for(var f,p=e.visualVariables[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var d=f.value;switch(d.type){case"color":i.push(d);break;case"opacity":a.push(d);break;case"rotation":s.push(d);break;case"size":o.push(d)}}}catch(e){u=!0,c=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}return i.forEach((function(e){var i=v(e,t,r);n.push({variable:e,value:i})})),a.forEach((function(e){var i=m(e,t,r);n.push({variable:e,value:i})})),s.forEach((function(e){var i=g(e,t,r);n.push({variable:e,value:i})})),o.forEach((function(e){var i=b(e,t,r);n.push({variable:e,value:i})})),n.filter((function(e){return null!=e.value}))}}function T(e,t){if(t){var r=0,n=t.length-1;return t.some((function(t,i){return e<t?(n=i,!0):(r=i,!1)})),[r,n,(e-t[r])/(t[n]-t[r])]}}function E(e,t,r){var n=["proportional","proportional","proportional"],i=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value,f=c.useSymbolValue?"symbol-value":b(c,t,r);switch(c.axis){case"width":n[0]=f;break;case"depth":n[1]=f;break;case"height":n[2]=f;break;case"width-and-depth":n[0]=f,n[1]=f;break;case"all":case void 0:case null:n[0]=f,n[1]=f,n[2]=f;break;default:(0,o.neverReached)(c.axis)}}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}return n}})),s.register("2JxK9",(function(t,r){e(t.exports,"meterIn",(function(){return a}));var n=s("5vzSQ"),i=s("8NvwW"),a={inches:(0,n.convertUnit)(1,"meters","inches"),feet:(0,n.convertUnit)(1,"meters","feet"),"us-feet":(0,n.convertUnit)(1,"meters","us-feet"),yards:(0,n.convertUnit)(1,"meters","yards"),miles:(0,n.convertUnit)(1,"meters","miles"),"nautical-miles":(0,n.convertUnit)(1,"meters","nautical-miles"),millimeters:(0,n.convertUnit)(1,"meters","millimeters"),centimeters:(0,n.convertUnit)(1,"meters","centimeters"),decimeters:(0,n.convertUnit)(1,"meters","decimeters"),meters:(0,n.convertUnit)(1,"meters","meters"),kilometers:(0,n.convertUnit)(1,"meters","kilometers"),"decimal-degrees":1/(0,n.lengthToDegrees)(1,"meters",i.earth.radius)}})),s.register("ei5eK",(function(t,r){e(t.exports,"default",(function(){return T})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jymfC"),f=s("79ASa"),p=s("jHOLN"),d=s("lfedQ"),h=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var y=s("fcwIv"),v=s("hiRJe"),m=s("iBadd"),g=s("dFHgp"),b=s("2rUeJ"),_=p.default.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),w={color:v.default,size:b.default,opacity:m.default,rotation:g.default},x=new(0,f.JSONMap)({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),S=/^\[([^\]]+)\]$/i,k=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).colorVariables=null,e.opacityVariables=null,e.rotationVariables=null,e.sizeVariables=null,o.default(e)}return l.default(r,[{key:"visualVariables",set:function(e){if(this._resetVariables(),(e=e&&e.filter((function(e){return!!e})))&&e.length){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;switch(o.type){case"color":this.colorVariables.push(o);break;case"opacity":this.opacityVariables.push(o);break;case"rotation":this.rotationVariables.push(o);break;case"size":this.sizeVariables.push(o)}}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}this.sizeVariables.length&&this.sizeVariables.some((function(e){return!!e.target}))&&e.sort((function(e,t){return e.target===t.target?0:e.target?1:-1}));for(var s=0;s<e.length;s++)e[s].index=s;this._set("visualVariables",e)}else this._set("visualVariables",e)}},{key:"readVariables",value:function(e,t,r){var n=t.rotationExpression,i=t.rotationType,a=n&&n.match(S),o=a&&a[1];if(o&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:i,field:o})),e)return e.map((function(e){var t=x.read(e.type),n=w[t];n||(_.warn("Unknown variable type: ".concat(t)),r&&r.messages&&r.messages.push(new(0,d.default)("visual-variable:unsupported","visualVariable of type '".concat(t,"' is not supported"),{definition:e,context:r})));var i=new n;return i.read(e,r),i}))}},{key:"writeVariables",value:function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value.toJSON(t);l&&r.push(l)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}},{key:"_resetVariables",value:function(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}}]),r}(c.default);(0,u._)([(0,h.property)()],k.prototype,"visualVariables",null);var T=k=(0,u._)([(0,y.subclass)("esri.renderers.visualVariables.VisualVariableFactory")],k)})),s.register("beKS9",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=s("83GWA"),y=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).description=null,n.label=null,n.minValue=null,n.maxValue=0,n.symbol=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}},{key:"getMeshHash",value:function(){var e=JSON.stringify(this.symbol);return"".concat(this.minValue,".").concat(this.maxValue,".").concat(e)}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:String,json:{write:!0}})],y.prototype,"description",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],y.prototype,"label",void 0),(0,u._)([(0,f.property)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],y.prototype,"minValue",void 0),(0,u._)([(0,f.property)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],y.prototype,"maxValue",void 0),(0,u._)([(0,f.property)(h.rendererSymbolProperty)],y.prototype,"symbol",void 0);var v=y=p=(0,u._)([(0,d.subclass)("esri.renderers.support.ClassBreakInfo")],y)})),s.register("83GWA",(function(t,r){e(t.exports,"rendererSymbolProperty",(function(){return u})),e(t.exports,"rendererBackgroundFillSymbolProperty",(function(){return c}));var n=s("cM5QQ"),i=s("bVD6V"),a=s("3Lb13"),o=s("j9ZJv"),l=s("9GCmF"),u={types:n.symbolTypesRenderer,json:{write:{writer:a.write},origins:{"web-scene":{types:n.symbolTypesRenderer3D,write:{writer:a.write},read:{reader:(0,i.createTypeReader)({types:n.symbolTypesRenderer3D})}}}}},c={types:{base:o.default,key:"type",typeMap:{"simple-fill":n.symbolTypes.typeMap["simple-fill"],"picture-fill":n.symbolTypes.typeMap["picture-fill"],"polygon-3d":n.symbolTypes.typeMap["polygon-3d"]}},json:{write:{writer:a.write},origins:{"web-scene":{type:l.default,write:{writer:a.write}}}}}})),s.register("3Lb13",(function(t,r){e(t.exports,"write",(function(){return c})),e(t.exports,"writeLabelSymbol",(function(){return f})),e(t.exports,"fromJSON",(function(){return d}));var n=s("cM5QQ"),i=s("kyj08"),a=s("7qybv"),o=s("7PS5g"),l=s("aMNfF"),u=s("22fTC");function c(e,t,r,n){var i=p(e,{},{context:n,isLabelSymbol:!1});(0,a.isSome)(i)&&(t[r]=i)}function f(e,t,r,n){var i=p(e,{},{context:n,isLabelSymbol:!0});(0,a.isSome)(i)&&(t[r]=i)}function p(e,t,r){if((0,a.isNone)(e))return null;var n=r.context,s=r.isLabelSymbol;if(n&&"web-scene"===n.origin&&!(e instanceof o.default)&&!(e instanceof u.default)){var c=(0,l.to3D)(e,{retainCIM:!0,hasLabelingContext:s});return(0,a.isSome)(c.symbol)?c.symbol.write(t,n):(n.messages&&n.messages.push(new(0,i.default)("symbol:unsupported","Symbols of type '".concat(e.declaredClass,"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView"),{symbol:e,context:n,error:c.error})),null)}return n&&"web-map"===n.origin&&"web-style"===e.type?(n.messages&&n.messages.push(new(0,i.default)("symbol:unsupported","Symbols of type '".concat(e.declaredClass,"' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView."),{symbol:e,context:n})),null):e.write(t,n)}function d(e,t){return(0,n.readSymbol)(e,null,t)}})),s.register("aMNfF",(function(t,r){e(t.exports,"to3D",(function(){return m}));var n=s("cM5QQ"),i=s("kyj08"),a=s("22fTC"),o=s("d74xd"),l=s("e6bLq"),u=s("bo3au"),c=s("ioNzP"),f=s("gb4f1"),p=s("SVQ32"),d=s("9GCmF"),h=s("d2yGf"),y=s("gn9mT"),v={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;if(!e)return{symbol:null};var r,s=t.retainId,m=void 0===s?v.retainId:s,g=t.ignoreDrivers,b=void 0===g?v.ignoreDrivers:g,_=t.hasLabelingContext,w=void 0===_?v.hasLabelingContext:_,x=t.retainCIM,S=void 0===x?v.retainCIM:x;if((0,n.isSymbol3D)(e)||e instanceof a.default)r=e.clone();else if("cim"===e.type){var k,T,E=null==(k=e.data)||null==(T=k.symbol)?void 0:T.type;if("CIMPointSymbol"!==E)return{error:new(0,i.default)("symbol-conversion:unsupported-cim-symbol","CIM symbol of type '".concat(E||"unknown","' is unsupported in 3D"),{symbol:e})};r=S?e.clone():o.default.fromCIMSymbol(e)}else if(e instanceof l.default)r=u.default.fromSimpleLineSymbol(e);else if(e instanceof c.default)r=o.default.fromSimpleMarkerSymbol(e);else if(e instanceof f.default)r=o.default.fromPictureMarkerSymbol(e);else if(e instanceof p.default)r=d.default.fromSimpleFillSymbol(e);else{if(!(e instanceof h.default))return{error:new(0,i.default)("symbol-conversion:unsupported-2d-symbol","2D symbol of type '".concat(e.type||e.declaredClass,"' is unsupported in 3D"),{symbol:e})};r=w?y.default.fromTextSymbol(e):o.default.fromTextSymbol(e)}if(m&&"cim"!==r.type&&(r.id=e.id),b&&(0,n.isSymbol3D)(r))for(var I=0;I<r.symbolLayers.length;++I)r.symbolLayers.getItemAt(I)._ignoreDrivers=!0;return{symbol:r}}})),s.register("fqK5H",(function(t,r){e(t.exports,"default",(function(){return T})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("8atho"),f=s("aNpz9"),p=s("jcnGU"),d=s("2TvXO"),h=s("7eJjO"),y=s("flPLJ"),v=s("iho5X");s("iJAIC");var m,g=s("fcwIv"),b=s("kced1"),_=s("7vTUY"),w=s("7Kl6r"),x=s("5wEUY"),S=s("dyiP8"),k=m=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).config=null,n.fieldMap=null,n.scaleExpression=null,n.scaleExpressionTitle=null,n.url=null,n.type="dictionary",l.default(n)}return u.default(r,[{key:"_loader",get:function(){return new(0,S.DictionaryLoader)(this.url,this.config,this.fieldMap)}},{key:"writeData",value:function(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}},{key:"writeVisualVariables",value:function(e,t,n,i){null!=i&&i.origin||c.default(f.default(r.prototype),"writeVisualVariables",this).call(this,e,t,n,i)}},{key:"clone",value:function(){return new m({config:(0,y.clone)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,y.clone)(this.fieldMap),url:(0,y.clone)(this.url),visualVariables:(0,y.clone)(this.visualVariables)})}},{key:"getSymbolAsync",value:function(e,t){var r=this;return p.default(n(d).mark((function i(){return n(d).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r._loader.getSymbolAsync(e,t));case 1:case"end":return n.stop()}}),i)})))()}},{key:"collectRequiredFields",value:function(e,t){var r=this;return p.default(n(d).mark((function i(){var a,o;return n(d).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.collectVVRequiredFields(e,t);case 2:if(n.t0=r.scaleExpression,!n.t0){n.next=6;break}return n.next=6,(0,_.collectArcadeFieldNames)(e,t,r.scaleExpression);case 6:for(a in r.fieldMap)o=r.fieldMap[a],t.has(o)&&e.add(o);case 7:case"end":return n.stop()}}),i)})))()}},{key:"arcadeRequired",get:function(){return!0}},{key:"getSymbol",value:function(){return null}},{key:"getSymbols",value:function(){return[]}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return"".concat(this.url,"-").concat(JSON.stringify(this.fieldMap))}},{key:"getSymbolFields",value:function(){return this._loader.getSymbolFields()}}]),r}((0,x.VisualVariablesMixin)(w.default));(0,h._)([(0,v.property)({type:S.DictionaryLoader})],k.prototype,"_loader",null),(0,h._)([(0,v.property)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],k.prototype,"config",void 0),(0,h._)([(0,v.property)({type:Object,json:{write:!0}})],k.prototype,"fieldMap",void 0),(0,h._)([(0,v.property)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],k.prototype,"scaleExpression",void 0),(0,h._)([(0,b.writer)("scaleExpression")],k.prototype,"writeData",null),(0,h._)([(0,v.property)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy:function(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],k.prototype,"scaleExpressionTitle",void 0),(0,h._)([(0,v.property)({type:String,json:{write:!0}})],k.prototype,"url",void 0),(0,h._)([(0,b.writer)("visualVariables")],k.prototype,"writeVisualVariables",null);var T=k=m=(0,h._)([(0,g.subclass)("esri.renderers.DictionaryRenderer")],k)})),s.register("dyiP8",(function(t,r){e(t.exports,"DictionaryLoader",(function(){return b}));var i=s("8TSCy"),a=s("2TvXO"),o=s("jgs9n"),l=s("9pNSx"),u=s("kyj08"),c=s("jHOLN"),f=s("crS0R"),p=s("7qybv"),d=s("10vEZ"),h=s("1TSdR"),y=s("3nnTb"),v=s("d2VJI"),m=c.default.getLogger("esri.renderers.support.DictionaryLoader"),g={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}},b=function(){"use strict";function e(t,r,n){i.classCallCheck(this,e),this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new(0,f.default)(100),this.url=t,this.config=r,this.fieldMap=n}return i.createClass(e,[{key:"getSymbolFields",value:function(){return this._symbolFields}},{key:"getSymbolAsync",value:function(e,t){var r=this;return i.asyncToGenerator(n(a).mark((function i(){var s,l,u,c,f,y,v,m,g,b,_,w,x,S,k,T,E,I,C,O,L,A,M,N,R,P,F,j,D,U,V,B,H,z,W;return n(a).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r._dictionaryPromise||(r._dictionaryPromise=r.fetchResources(t)),n.prev=2,n.next=5,r._dictionaryPromise;case 5:s=n.sent,n.next=12;break;case 8:if(n.prev=8,n.t0=n.catch(2),!(0,d.isAbortError)(n.t0)){n.next=12;break}return n.abrupt("return",(r._dictionaryPromise=null,null));case 12:if(l={},u=!0,c=!1,f=void 0,!r.fieldMap){n.next=31;break}for(n.prev=15,y=r._symbolFields[Symbol.iterator]();!(u=(v=y.next()).done);u=!0)m=v.value,(g=r.fieldMap[m])&&null!=e.attributes[g]?(b=""+e.attributes[g],l[m]=b):l[m]="";n.next=23;break;case 19:n.prev=19,n.t1=n.catch(15),c=!0,f=n.t1;case 23:n.prev=23,n.prev=24,u||null==y.return||y.return();case 26:if(n.prev=26,!c){n.next=29;break}throw f;case 29:return n.finish(26);case 30:return n.finish(23);case 31:if((_=s(l,t))&&"string"==typeof _){n.next=34;break}return n.abrupt("return",null);case 34:if(w=(0,h.numericHash)(_).toString(),!(x=r._symbolCache.get(w))){n.next=37;break}return n.abrupt("return",(x.catch((function(){r._symbolCache.pop(w)})),x));case 37:S=_.split(";"),k=[],T=[],E=!0,I=!1,C=void 0,n.prev=39,O=S[Symbol.iterator]();case 41:if(E=(L=O.next()).done){n.next=80;break}if(!(A=L.value)){n.next=77;break}if(!A.includes("po:")){n.next=48;break}3===(M=A.substr(3).split("|")).length&&(N=M[0],R=M[1],P=M[2],"DashTemplate"===R?P=P.split(" ").map((function(e){return Number(e)})):"Color"===R?(F=new(0,o.default)(P).toRgba(),P=[F[0],F[1],F[2],255*F[3]]):P=Number(P),T.push({primitiveName:N,propertyName:R,value:P})),n.next=77;break;case 48:if(!A.includes("|")){n.next=76;break}j=!0,D=!1,U=void 0,n.prev=50,V=A.split("|")[Symbol.iterator]();case 52:if(j=(B=V.next()).done){n.next=60;break}if(H=B.value,!r._itemNames.has(H)){n.next=57;break}return k.push(H),n.abrupt("break",60);case 57:j=!0,n.next=52;break;case 60:n.next=66;break;case 62:n.prev=62,n.t2=n.catch(50),D=!0,U=n.t2;case 66:n.prev=66,n.prev=67,j||null==V.return||V.return();case 69:if(n.prev=69,!D){n.next=72;break}throw U;case 72:return n.finish(69);case 73:return n.finish(66);case 74:n.next=77;break;case 76:r._itemNames.has(A)&&k.push(A);case 77:E=!0,n.next=41;break;case 80:n.next=86;break;case 82:n.prev=82,n.t3=n.catch(39),I=!0,C=n.t3;case 86:n.prev=86,n.prev=87,E||null==O.return||O.return();case 89:if(n.prev=89,!I){n.next=92;break}throw C;case 92:return n.finish(89);case 93:return n.finish(86);case 94:return z=!(0,p.isSome)(e.geometry)||!e.geometry.hasZ&&"point"===e.geometry.type,W=r._cimPartsToCIMSymbol(k,T,z,t),n.abrupt("return",(r._symbolCache.put(w,W,1),W));case 96:case"end":return n.stop()}}),i,null,[[2,8],[15,19,23,31],[24,,26,30],[39,82,86,94],[50,62,66,74],[67,,69,73],[87,,89,93]])})))()}},{key:"fetchResources",value:function(e){var t=this;return i.asyncToGenerator(n(a).mark((function r(){var o,s,c,f,d,h,v,g,b,_,w,x,S,k,T,E,I,C,O,L,A,M,N,R,P;return n(a).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t._dictionaryPromise){r.next=2;break}return r.abrupt("return",t._dictionaryPromise);case 2:if(t.url){r.next=4;break}return r.abrupt("return",void m.error("no valid URL!"));case 4:return o=(0,p.isSome)(e)?e.abortOptions:null,s=(0,l.default)(t.url+"/resources/styles/dictionary-info.json",i.objectSpread({responseType:"json",query:{f:"json"}},o)),r.t0=i,r.next=9,Promise.all([s,(0,y.loadArcade)()]);case 9:if(r.t1=r.sent,c=r.t0.slicedToArray.call(r.t0,r.t1,1),f=c[0],d=f.data){r.next=15;break}throw t._dictionaryPromise=null,new(0,u.default)("esri.renderers.DictionaryRenderer","Bad dictionary data!");case 15:if(h=d.expression,v=d.authoringInfo,t._refSymbolUrlTemplate=t.url+"/"+d.cimRefTemplateUrl,t._itemNames=new Set(d.itemsNames),t._symbolFields=v.symbol,g={},t.config)for(_ in b=t.config)g[_]=b[_];if(w=!0,x=!1,S=void 0,!v.configuration){r.next=37;break}for(r.prev=21,k=v.configuration[Symbol.iterator]();!(w=(T=k.next()).done);w=!0)E=T.value,g.hasOwnProperty(E.name)||(g[E.name]=E.value);r.next=29;break;case 25:r.prev=25,r.t2=r.catch(21),x=!0,S=r.t2;case 29:r.prev=29,r.prev=30,w||null==k.return||k.return();case 32:if(r.prev=32,!x){r.next=35;break}throw S;case 35:return r.finish(32);case 36:return r.finish(29);case 37:if(I=[],C=!0,O=!1,L=void 0,!((0,p.isSome)(e)&&e.fields&&t.fieldMap)){r.next=56;break}for(r.prev=40,A=t._symbolFields[Symbol.iterator]();!(C=(M=A.next()).done);C=!0)N=M.value,R=t.fieldMap[N],(P=e.fields.filter((function(e){return e.name===R}))).length>0&&I.push(i.objectSpread({},P[0],{name:N}));r.next=48;break;case 44:r.prev=44,r.t3=r.catch(40),O=!0,L=r.t3;case 48:r.prev=48,r.prev=49,C||null==A.return||A.return();case 51:if(r.prev=51,!O){r.next=54;break}throw L;case 54:return r.finish(51);case 55:return r.finish(48);case 56:return r.abrupt("return",(t._dictionaryPromise=(0,y.createDictionaryExpression)(h,(0,p.isSome)(e)?e.spatialReference:null,I,g).then((function(e){var t={scale:0};return function(r,n){var i=e.repurposeFeature({geometry:null,attributes:r});return t.scale=(0,p.isSome)(n)?n.scale:void 0,e.evaluate({$feature:i,$view:t})}})).catch((function(e){return m.error("Creating dictinoary expression failed:",e),null})),t._dictionaryPromise));case 57:case"end":return r.stop()}}),r,null,[[21,25,29,37],[30,,32,36],[40,44,48,56],[49,,51,55]])})))()}},{key:"_cimPartsToCIMSymbol",value:function(e,t,r,o){var s=this;return i.asyncToGenerator(n(a).mark((function i(){var l,u,c,f,p,d,h,y,m;return n(a).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(l=new Array(e.length),u=0;u<e.length;u++)l[u]=s._getSymbolPart(e[u],o);return n.next=4,Promise.all(l);case 4:for(c=n.sent,f=s.fieldMap,p=!0,d=!1,h=void 0,n.prev=7,y=c[Symbol.iterator]();!(p=(m=y.next()).done);p=!0)_(m.value,f);n.next=15;break;case 11:n.prev=11,n.t0=n.catch(7),d=!0,h=n.t0;case 15:n.prev=15,n.prev=16,p||null==y.return||y.return();case 18:if(n.prev=18,!d){n.next=21;break}throw h;case 21:return n.finish(18);case 22:return n.finish(15);case 23:return n.abrupt("return",new(0,v.default)({data:s._combineSymbolParts(c,t,r)}));case 24:case"end":return n.stop()}}),i,null,[[7,11,15,23],[16,,18,22]])})))()}},{key:"_getSymbolPart",value:function(e,t){var r=this;return i.asyncToGenerator(n(a).mark((function o(){var s,u;return n(a).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r._ongoingRequests.has(e)){n.next=2;break}return n.abrupt("return",r._ongoingRequests.get(e).then((function(e){return e.data})));case 2:return s=r._refSymbolUrlTemplate.replace(/\{itemName\}/gi,e),u=(0,l.default)(s,i.objectSpread({responseType:"json",query:{f:"json"}},t)),r._ongoingRequests.set(e,u),n.prev=4,n.next=7,u;case 7:return n.abrupt("return",n.sent.data);case 10:return n.prev=10,n.t0=n.catch(4),n.abrupt("return",(r._ongoingRequests.delete(e),Promise.reject(n.t0)));case 13:case"end":return n.stop()}}),o,null,[[4,10]])})))()}},{key:"_combineSymbolParts",value:function(e,t,r){if(!e||0===e.length)return null;var n=i.objectSpread({},e[0]);if(e.length>1){n.symbolLayers=[];var a=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c,f=l.value;(c=n.symbolLayers).unshift.apply(c,i.toConsumableArray(f.symbolLayers))}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}}return r&&(n.callout=g),{type:"CIMSymbolReference",symbol:n,primitiveOverrides:t}}}]),e}();function _(e,t){if(e){var r=e.symbolLayers;if(r)for(var n=r.length;n--;){var i=r[n];i&&!1!==i.enable&&"CIMVectorMarker"===i.type&&w(i,t)}}}function w(e,t){var r=e.markerGraphics,n=!0,i=!1,a=void 0;if(r)try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;if(l){var u=l.symbol;if(u)switch(u.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":_(u,t);break;case"CIMTextSymbol":u.fieldMap=t}}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}})),s.register("crS0R",(function(t,r){e(t.exports,"default",(function(){return o})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("8BcI6"),o=function(){"use strict";function e(t,r){n.default(this,e),this._storage=new(0,a.MemCacheStorage),this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}return i.default(e,[{key:"put",value:function(e,t,r){this._storage.put(e,t,r,1)}},{key:"pop",value:function(e){return this._storage.pop(e)}},{key:"get",value:function(e){return this._storage.get(e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.destroy()}},{key:"maxSize",get:function(){return this._storage.maxSize},set:function(e){this._storage.maxSize=e}}]),e}()})),s.register("8BcI6",(function(t,r){e(t.exports,"MemCache",(function(){return f})),e(t.exports,"MemCacheStorage",(function(){return p})),s("8TSCy");var n,i,a=s("f9pi5"),o=s("jK9zx"),l=s("iCnzh"),u=s("7qybv"),c=s("6v7Z0");(i=n||(n={}))[i.ALL=0]="ALL",i[i.SOME=1]="SOME";var f=function(){"use strict";function e(t,r,n){a.default(this,e),this._namespace=t,this._storage=r,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",n&&(this._storage.registerRemoveFunc(this._namespace,n),this._removeFunc=!0)}return o.default(e,[{key:"destroy",value:function(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}},{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}},{key:"resetHitRate",value:function(){this._hit=this._miss=0}},{key:"put",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._storage.put(this._namespace+e,t,r,n)}},{key:"get",value:function(e){var t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"pop",value:function(e){var t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"updateSize",value:function(e,t,r){this._storage.updateSize(this._namespace+e,t,r)}},{key:"clear",value:function(){this._storage.clear(this._namespace)}},{key:"clearAll",value:function(){this._storage.clearAll()}},{key:"getStats",value:function(){return this._storage.getStats()}},{key:"resetStats",value:function(){this._storage.resetStats()}}]),e}(),p=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;a.default(this,e),this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new(0,c.default),this._users=new(0,c.default)}return o.default(e,[{key:"destroy",value:function(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}},{key:"register",value:function(e){this._users.push(e)}},{key:"deregister",value:function(e){this._users.removeUnordered(e)}},{key:"registerRemoveFunc",value:function(e,t){this._removeFuncs.push([e,t])}},{key:"deregisterRemoveFunc",value:function(e){this._removeFuncs.filterInPlace((function(t){return t[0]!==e}))}},{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}},{key:"put",value:function(e,t,r,i){var a=this._db.get(e);if(a&&(this._size-=a.size,this._db.delete(e),a.entry!==t&&this._notifyRemove(e,a.entry,n.ALL)),r>this._maxSize)this._notifyRemove(e,t,n.ALL);else if(void 0!==t)if(!r||r<0)console.warn("Refusing to cache entry with invalid size "+r);else{var o=1+Math.max(i,-3)- -3;this._db.set(e,{entry:t,size:r,lifetime:o,lives:o}),this._size+=r,this._checkSizeLimit()}else console.warn("Refusing to cache undefined entry ")}},{key:"updateSize",value:function(e,t,r){var i=this._db.get(e);if(i&&i.entry===t){for(this._size-=i.size;r>this._maxSize;){var a=this._notifyRemove(e,t,n.SOME);if(!((0,u.isSome)(a)&&a>0))return void this._db.delete(e);r=a}i.size=r,this._size+=r,this._checkSizeLimit()}}},{key:"pop",value:function(e){var t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}},{key:"get",value:function(e){var t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}},{key:"getStats",value:function(){var e=this,t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},n=new Array;this._db.forEach((function(t,i){var a=t.lifetime;n[a]=(n[a]||0)+t.size,e._users.forAll((function(e){var n=e.namespace;if(i.startsWith(n)){var a=r[n]||0;r[n]=a+t.size}}))}));var i={};this._users.forAll((function(e){var t=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){var n=r[t]||0;r[t]=n,i[t]=Math.round(100*e.hitRate)+"%"}else i[t]="0%"}));var a=Object.keys(r);a.sort((function(e,t){return r[t]-r[e]})),a.forEach((function(e){return t[e]=Math.round(r[e]/Math.pow(2,20))+"MB / "+i[e]}));for(var o=n.length-1;o>=0;--o){var s=n[o];s&&(t["Priority "+(o+-3-1)]=Math.round(s/this.size*100)+"%")}return t}},{key:"resetStats",value:function(){this._hit=this._miss=0,this._users.forAll((function(e){return e.resetHitRate()}))}},{key:"clear",value:function(e){var t=this;this._db.forEach((function(r,i){i.startsWith(e)&&(t._size-=r.size,t._db.delete(i),t._notifyRemove(i,r.entry,n.ALL))}))}},{key:"clearAll",value:function(){var e=this;this._db.forEach((function(t,r){return e._notifyRemove(r,t.entry,n.ALL)})),this._size=0,this._db.clear()}},{key:"_getHitRate",value:function(){return this._hit/(this._hit+this._miss)}},{key:"_notifyRemove",value:function(e,t,r){var n;return this._removeFuncs.some((function(i){if(e.startsWith(i[0])){var a=i[1](t,r);return"number"==typeof a&&(n=a),!0}return!1})),n}},{key:"_checkSizeLimit",value:function(){var e=!0,t=!1,r=void 0;if(!(this._size<=this._maxSize))try{for(var i,a=this._db[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=l.default(i.value,2),s=o[0],c=o[1];if(this._db.delete(s),c.lives<=1){this._size-=c.size;var f=this._notifyRemove(s,c.entry,n.SOME);(0,u.isSome)(f)&&f>0&&(this._size+=f,c.lives=c.lifetime,c.size=f,this._db.set(s,c))}else--c.lives,this._db.set(s,c);if(this._size<=.9*this.maxSize)return}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}}}]),e}()})),s.register("hHJvn",(function(t,r){e(t.exports,"default",(function(){return C})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("jcnGU"),f=s("2TvXO"),p=s("7eJjO"),d=s("jgs9n"),h=s("flPLJ"),y=s("kDa5L");s("iJAIC");var v,m=s("bSafx"),g=s("iho5X"),b=s("fcwIv"),_=s("7vTUY"),w=s("7Kl6r"),x=s("5wEUY"),S=s("jH2tj"),k=s("blHmG"),T=s("SVQ32"),E=s("e6bLq"),I=v=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).attributes=null,n.backgroundColor=new(0,d.default)([0,0,0,0]),n.blendDots=!0,n.dotBlendingEnabled=!0,n.dotShape="square",n.dotSize=1,n.legendOptions=null,n.outline=new(0,E.default),n.dotValue=null,n.referenceDotValue=null,n.referenceScale=null,n.seed=1,n.type="dot-density",l.default(n)}return u.default(r,[{key:"calculateDotValue",value:function(e){if(null==this.referenceScale)return this.dotValue;var t=e/this.referenceScale*this.dotValue;return t<1?1:t}},{key:"getSymbol",value:function(){return new(0,T.default)({outline:this.outline})}},{key:"getSymbolAsync",value:function(){var e=this;return c.default(n(f).mark((function t(){return n(f).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.getSymbol());case 1:case"end":return t.stop()}}),t)})))()}},{key:"getSymbols",value:function(){return[this.getSymbol()]}},{key:"getAttributeHash",value:function(){return this.attributes&&this.attributes.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return JSON.stringify(this.outline)}},{key:"clone",value:function(){return new v({attributes:(0,h.clone)(this.attributes),backgroundColor:(0,h.clone)(this.backgroundColor),dotBlendingEnabled:(0,h.clone)(this.dotBlendingEnabled),dotShape:(0,h.clone)(this.dotShape),dotSize:(0,h.clone)(this.dotSize),dotValue:(0,h.clone)(this.dotValue),legendOptions:(0,h.clone)(this.legendOptions),outline:(0,h.clone)(this.outline),referenceScale:(0,h.clone)(this.referenceScale),visualVariables:(0,h.clone)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}},{key:"getControllerHash",value:function(){return"".concat(this.attributes.map((function(e){return e.field||e.valueExpression||""})),"-").concat(this.outline&&JSON.stringify(this.outline.toJSON())||"")}},{key:"collectRequiredFields",value:function(e,t){var r=this;return c.default(n(f).mark((function i(){var a,o,s,l,u,c;return n(f).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.collectVVRequiredFields(e,t);case 2:a=!0,o=!1,s=void 0,n.prev=3,l=r.attributes[Symbol.iterator]();case 5:if(a=(u=l.next()).done){n.next=15;break}if(c=u.value,n.t0=c.valueExpression,!n.t0){n.next=11;break}return n.next=11,(0,_.collectArcadeFieldNames)(e,t,c.valueExpression);case 11:c.field&&e.add(c.field);case 12:a=!0,n.next=5;break;case 15:n.next=21;break;case 17:n.prev=17,n.t1=n.catch(3),o=!0,s=n.t1;case 21:n.prev=21,n.prev=22,a||null==l.return||l.return();case 24:if(n.prev=24,!o){n.next=27;break}throw s;case 27:return n.finish(24);case 28:return n.finish(21);case 29:case"end":return n.stop()}}),i,null,[[3,17,21,29],[22,,24,28]])})))()}}]),r}((0,x.VisualVariablesMixin)(w.default));(0,p._)([(0,g.property)({type:[S.default],json:{write:!0}})],I.prototype,"attributes",void 0),(0,p._)([(0,g.property)({type:d.default,json:{write:!0}})],I.prototype,"backgroundColor",void 0),(0,p._)([(0,g.property)({type:Boolean}),(0,y.aliasOf)("dotBlendingEnabled")],I.prototype,"blendDots",void 0),(0,p._)([(0,g.property)({type:Boolean,json:{write:!0}})],I.prototype,"dotBlendingEnabled",void 0),(0,p._)([(0,g.property)({type:String,json:{write:!1}})],I.prototype,"dotShape",void 0),(0,p._)([(0,g.property)({type:Number,json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1}}}})],I.prototype,"dotSize",void 0),(0,p._)([(0,g.property)({type:k.default,json:{write:!0}})],I.prototype,"legendOptions",void 0),(0,p._)([(0,g.property)({type:E.default,json:{default:null,write:!0}})],I.prototype,"outline",void 0),(0,p._)([(0,g.property)({type:Number,json:{write:!0}})],I.prototype,"dotValue",void 0),(0,p._)([(0,g.property)({type:Number}),(0,y.aliasOf)("dotValue")],I.prototype,"referenceDotValue",void 0),(0,p._)([(0,g.property)({type:Number,json:{write:!0}})],I.prototype,"referenceScale",void 0),(0,p._)([(0,g.property)({type:Number,json:{write:!0}})],I.prototype,"seed",void 0),(0,p._)([(0,m.enumeration)({dotDensity:"dot-density"})],I.prototype,"type",void 0);var C=I=v=(0,p._)([(0,b.subclass)("esri.renderers.DotDensityRenderer")],I)})),s.register("jH2tj",(function(t,r){e(t.exports,"default",(function(){return _})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jgs9n"),f=s("1XAcN"),p=s("jHOLN"),d=s("iho5X");s("lNwWH"),s("2VlWd");var h,y=s("ba18L"),v=s("fcwIv"),m=s("iJAIC"),g=p.default.getLogger("esri.renderers.support.AttributeColorInfo"),b=h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).color=null,n.field=null,n.label=null,n.valueExpression=null,n.valueExpressionTitle=null,o.default(n)}return l.default(r,[{key:"castField",value:function(e){return null==e?e:"function"==typeof e?(g.error(".field: field must be a string value"),null):(0,m.ensureString)(e)}},{key:"getAttributeHash",value:function(){return"".concat(this.field,"-").concat(this.valueExpression)}},{key:"clone",value:function(){return new h({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}}]),r}(f.JSONSupport);(0,u._)([(0,d.property)({type:c.default,json:{type:[Number],write:!0}})],b.prototype,"color",void 0),(0,u._)([(0,d.property)({type:String,json:{write:!0}})],b.prototype,"field",void 0),(0,u._)([(0,y.cast)("field")],b.prototype,"castField",null),(0,u._)([(0,d.property)({type:String,json:{write:!0}})],b.prototype,"label",void 0),(0,u._)([(0,d.property)({type:String,json:{write:!0}})],b.prototype,"valueExpression",void 0),(0,u._)([(0,d.property)({type:String,json:{write:!0}})],b.prototype,"valueExpressionTitle",void 0);var _=b=h=(0,u._)([(0,v.subclass)("esri.renderers.support.AttributeColorInfo")],b)})),s.register("blHmG",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).unit=null,o.default(e)}return l.default(r,[{key:"clone",value:function(){return new p({unit:this.unit})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"unit",void 0);var y=h=p=(0,u._)([(0,d.subclass)("esri.renderers.support.DotDensityLegendOptions")],h)})),s.register("aOUND",(function(t,r){e(t.exports,"default",(function(){return S})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("jcnGU"),f=s("2TvXO"),p=s("7eJjO"),d=s("jgs9n"),h=s("flPLJ"),y=s("iho5X");s("iJAIC");var v,m=s("bSafx"),g=s("fcwIv"),b=s("7vTUY"),_=s("7Kl6r"),w=s("3iIWY"),x=v=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).blurRadius=10,n.referenceScale=0,n.colorStops=[new(0,w.default)({ratio:0,color:new(0,d.default)("rgba(255, 140, 0, 0)")}),new(0,w.default)({ratio:.75,color:new(0,d.default)("rgba(255, 140, 0, 1)")}),new(0,w.default)({ratio:.9,color:new(0,d.default)("rgba(255, 0,   0, 1)")})],n.field=null,n.fieldOffset=0,n.maxPixelIntensity=100,n.minPixelIntensity=0,n.type="heatmap",l.default(n)}return u.default(r,[{key:"collectRequiredFields",value:function(e,t){var r=this;return c.default(n(f).mark((function i(){var a;return n(f).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(a=r.field)&&"string"==typeof a&&(0,b.collectField)(e,t,a);case 2:case"end":return n.stop()}}),i)})))()}},{key:"getAttributeHash",value:function(){return null}},{key:"getMeshHash",value:function(){return"".concat(JSON.stringify(this.colorStops),".").concat(this.blurRadius,".").concat(this.field)}},{key:"clone",value:function(){return new v({blurRadius:this.blurRadius,referenceScale:this.referenceScale,colorStops:(0,h.clone)(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}}]),r}(_.default);(0,p._)([(0,y.property)({type:Number,json:{write:!0}})],x.prototype,"blurRadius",void 0),(0,p._)([(0,y.property)({type:Number})],x.prototype,"referenceScale",void 0),(0,p._)([(0,y.property)({type:[w.default],json:{write:!0}})],x.prototype,"colorStops",void 0),(0,p._)([(0,y.property)({type:String,json:{write:!0}})],x.prototype,"field",void 0),(0,p._)([(0,y.property)({type:Number,json:{write:{overridePolicy:function(e,t,r){return{enabled:null==r}}}}})],x.prototype,"fieldOffset",void 0),(0,p._)([(0,y.property)({type:Number,json:{write:!0}})],x.prototype,"maxPixelIntensity",void 0),(0,p._)([(0,y.property)({type:Number,json:{write:!0}})],x.prototype,"minPixelIntensity",void 0),(0,p._)([(0,m.enumeration)({heatmap:"heatmap"})],x.prototype,"type",void 0);var S=x=v=(0,p._)([(0,g.subclass)("esri.renderers.HeatmapRenderer")],x)})),s.register("3iIWY",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jgs9n"),f=s("1XAcN"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d,h=s("fcwIv"),y=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).color=null,n.ratio=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new d({color:this.color,ratio:this.ratio})}}]),r}(f.JSONSupport);(0,u._)([(0,p.property)({type:c.default,json:{write:!0}})],y.prototype,"color",void 0),(0,u._)([(0,p.property)({type:Number,json:{write:!0}})],y.prototype,"ratio",void 0);var v=y=d=(0,u._)([(0,h.subclass)("esri.renderers.support.HeatmapColorStop")],y)})),s.register("fPYaT",(function(t,r){e(t.exports,"default",(function(){return x})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("jcnGU"),f=s("2TvXO"),p=s("7eJjO"),d=s("flPLJ"),h=s("iho5X");s("iJAIC");var y,v=s("bSafx"),m=s("fcwIv"),g=s("7Kl6r"),b=s("5wEUY"),_=s("83GWA"),w=y=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).description=null,n.label=null,n.symbol=null,n.type="simple",l.default(n)}return u.default(r,[{key:"collectRequiredFields",value:function(e,t){var r=this;return c.default(n(f).mark((function i(){return n(f).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([r.collectSymbolFields(e,t),r.collectVVRequiredFields(e,t)]);case 2:case"end":return n.stop()}}),i)})))()}},{key:"collectSymbolFields",value:function(e,t){var r=this;return c.default(n(f).mark((function i(){return n(f).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(r.getSymbols().map((function(r){return r.collectRequiredFields(e,t)})));case 2:case"end":return n.stop()}}),i)})))()}},{key:"getSymbol",value:function(e,t){return this.symbol}},{key:"getSymbolAsync",value:function(e,t){var r=this;return c.default(n(f).mark((function e(){return n(f).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.symbol);case 1:case"end":return e.stop()}}),e)})))()}},{key:"getSymbols",value:function(){return this.symbol?[this.symbol]:[]}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return this.getSymbols().reduce((function(e,t){return e+JSON.stringify(t)}),"")}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables}},{key:"clone",value:function(){return new y({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:(0,d.clone)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}}]),r}((0,b.VisualVariablesMixin)(g.default));(0,p._)([(0,h.property)({type:String,json:{write:!0}})],w.prototype,"description",void 0),(0,p._)([(0,h.property)({type:String,json:{write:!0}})],w.prototype,"label",void 0),(0,p._)([(0,h.property)(_.rendererSymbolProperty)],w.prototype,"symbol",void 0),(0,p._)([(0,v.enumeration)({simple:"simple"})],w.prototype,"type",void 0);var x=w=y=(0,p._)([(0,m.subclass)("esri.renderers.SimpleRenderer")],w)})),s.register("aRUMT",(function(t,r){e(t.exports,"default",(function(){return j}));var i,a=s("8TSCy"),o=s("2TvXO"),l=s("7eJjO"),u=s("cM5QQ"),c=s("kyj08"),f=s("flPLJ"),p=s("jHOLN"),d=s("7qybv"),h=s("8EPEw"),y=s("iho5X"),v=s("ba18L"),m=s("bSafx"),g=s("eB8sj"),b=s("fcwIv"),_=s("kced1"),w=s("9doMy"),x=s("iJAIC"),S=s("7vTUY"),k=s("ajJOT"),T=s("7Kl6r"),E=s("5wEUY"),I=s("83GWA"),C=s("j8OFR"),O=s("3nz3P"),L=s("3nnTb"),A=s("9ELaA"),M=s("dmPQi"),N=s("22fTC"),R=p.default.getLogger("esri.renderers.UniqueValueRenderer"),P=(0,x.ensureType)(O.default),F=i=function(e){"use strict";a.inherits(r,e);var t=a.createSuper(r);function r(e){var n;return a.classCallCheck(this,r),(n=t.call(this,e))._valueInfoMap={},n._isDefaultSymbolDerived=!1,n.type="unique-value",n.backgroundFillSymbol=null,n.field=null,n.field2=null,n.field3=null,n.valueExpression=null,n.valueExpressionTitle=null,n.legendOptions=null,n.defaultLabel=null,n.fieldDelimiter=null,n.portal=null,n.styleOrigin=null,n.diff={uniqueValueInfos:function(e,t){var r=function(r){var n=e.find((function(e){return e.value===t[r].value}));n?(0,w.diff)(n,t[r])?(a.changed.push({type:"complete",oldValue:n,newValue:t[r]}),i=!0):a.unchanged.push({oldValue:n,newValue:t[r]}):(a.added.push(t[r]),i=!0)},n=function(r){t.find((function(t){return t.value===e[r].value}))||(a.removed.push(e[r]),i=!0)};if(e||t){if(!e||!t)return{type:"complete",oldValue:e,newValue:t};for(var i=!1,a={type:"collection",added:[],removed:[],changed:[],unchanged:[]},o=0;o<t.length;o++)r(o);for(var s=0;s<e.length;s++)n(s);return i?a:void 0}}},n._set("uniqueValueInfos",[]),a.possibleConstructorReturn(n)}return a.createClass(r,[{key:"_cache",get:function(){return{compiledFunc:null}}},{key:"castField",value:function(e){return null==e||"function"==typeof e?e:(0,x.ensureString)(e)}},{key:"writeField",value:function(e,t,r,n){"string"==typeof e?t[r]=e:n&&n.messages?n.messages.push(new(0,c.default)("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):R.error(".field: cannot write field to JSON since it's not a string value")}},{key:"defaultSymbol",set:function(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}},{key:"readPortal",value:function(e,t,r){return r.portal||k.default.getDefault()}},{key:"readStyleOrigin",value:function(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){var n=(0,A.f)(t.styleUrl,r);return Object.freeze({styleUrl:n})}}},{key:"writeStyleOrigin",value:function(e,t,r,n){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=(0,A.t)(e.styleUrl,n))}},{key:"uniqueValueInfos",set:function(e){this.styleOrigin?R.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap())}},{key:"addUniqueValueInfo",value:function(e,t){var r;this.styleOrigin?R.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(r="object"==typeof e?P(e):new(0,O.default)({value:e,symbol:(0,u.ensureType)(t)}),this.uniqueValueInfos.push(r),this._valueInfoMap[r.value]=r)}},{key:"removeUniqueValueInfo",value:function(e){if(this.styleOrigin)R.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(var t=0;t<this.uniqueValueInfos.length;t++)if(this.uniqueValueInfos[t].value===e+""){delete this._valueInfoMap[e],this.uniqueValueInfos.splice(t,1);break}}},{key:"getUniqueValueInfo",value:function(e,t){var r=this;return a.asyncToGenerator(n(o).mark((function i(){var s;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=t,n.t0=r.valueExpression&&((0,d.isNone)(t)||(0,d.isNone)(t.arcade)),!n.t0){n.next=11;break}return n.t1=a,n.t2={},n.t3=s,n.next=8,(0,L.loadArcade)();case 8:n.t4=n.sent,n.t5={arcade:n.t4},s=n.t1.objectSpread.call(n.t1,n.t2,n.t3,n.t5);case 11:return n.abrupt("return",(n.t0,r._getUniqueValueInfo(e,s)));case 12:case"end":return n.stop()}}),i)})))()}},{key:"getSymbol",value:function(e,t){if(!this.valueExpression||!(0,d.isNone)(t)&&!(0,d.isNone)(t.arcade)){var r=this._getUniqueValueInfo(e,t);return r&&r.symbol||this.defaultSymbol}R.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used")}},{key:"getSymbolAsync",value:function(e,t){var r=this;return a.asyncToGenerator(n(o).mark((function i(){var s,l,u,c;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=t,!r.valueExpression||!(0,d.isNone)(s)&&!(0,d.isNone)(s.arcade)){n.next=11;break}return n.next=4,(0,L.loadArcade)();case 4:if(l=n.sent,u=l.arcadeUtils,n.t0=u.hasGeometryOperations(r.valueExpression),!n.t0){n.next=10;break}return n.next=10,u.enableGeometryOperations();case 10:s=a.objectSpread({},s,{arcade:l});case 11:return c=r._getUniqueValueInfo(e,s),n.abrupt("return",c&&c.symbol||r.defaultSymbol);case 13:case"end":return n.stop()}}),i)})))()}},{key:"getSymbols",value:function(){var e=[],t=!0,r=!1,n=void 0;try{for(var i,a=this.uniqueValueInfos[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;o.symbol&&e.push(o.symbol)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return this.defaultSymbol&&e.push(this.defaultSymbol),e}},{key:"getAttributeHash",value:function(){return this.visualVariables&&this.visualVariables.reduce((function(e,t){return e+t.getAttributeHash()}),"")}},{key:"getMeshHash",value:function(){return"".concat(JSON.stringify(this.backgroundFillSymbol),".").concat(JSON.stringify(this.defaultSymbol),".").concat(this.uniqueValueInfos.reduce((function(e,t){return e+t.getMeshHash()}),""),".").concat("".concat(this.field,".").concat(this.field2,".").concat(this.field3,".").concat(this.fieldDelimiter),".").concat(this.valueExpression)}},{key:"clone",value:function(){var e=new i({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,f.clone)(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,f.clone)(this.visualVariables),legendOptions:(0,f.clone)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:(0,f.clone)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);var t=(0,f.clone)(this.uniqueValueInfos);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze((0,f.clone)(this.styleOrigin))),Object.freeze(t)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}},{key:"collectRequiredFields",value:function(e,t){var r=this;return a.asyncToGenerator(n(o).mark((function i(){var a;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=[r.collectVVRequiredFields(e,t),r.collectSymbolFields(e,t)],n.next=3,Promise.all(a);case 3:case"end":return n.stop()}}),i)})))()}},{key:"collectSymbolFields",value:function(e,t){var r=this;return a.asyncToGenerator(n(o).mark((function i(){var s;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=a.toConsumableArray(r.getSymbols().map((function(r){return r.collectRequiredFields(e,t)}))).concat([(0,S.collectArcadeFieldNames)(e,t,r.valueExpression)]),(0,S.collectField)(e,t,r.field),(0,S.collectField)(e,t,r.field2),(0,S.collectField)(e,t,r.field3),n.next=6,Promise.all(s);case 6:case"end":return n.stop()}}),i)})))()}},{key:"populateFromStyle",value:function(){var e=this;return(0,M.fetchStyle)(this.styleOrigin,{portal:this.portal}).then((function(t){var r=e,n=[];return e._valueInfoMap={},t&&t.data&&Array.isArray(t.data.items)&&t.data.items.forEach((function(e){var i=new(0,N.default)({styleUrl:t.styleUrl,styleName:t.styleName,portal:r.portal,name:e.name});r.defaultSymbol||e.name!==t.data.defaultItem||(r.defaultSymbol=i,r._isDefaultSymbolDerived=!0);var a=new(0,O.default)({value:e.name,symbol:i});n.push(a),r._valueInfoMap[e.name]=a})),e._set("uniqueValueInfos",Object.freeze(n)),!e.defaultSymbol&&e.uniqueValueInfos.length&&(e.defaultSymbol=e.uniqueValueInfos[0].symbol,e._isDefaultSymbolDerived=!0),e}))}},{key:"_updateValueInfoMap",value:function(){var e=this;this._valueInfoMap={},this.uniqueValueInfos.forEach((function(t){return e._valueInfoMap[t.value+""]=t}))}},{key:"_getUniqueValueInfo",value:function(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}},{key:"_getUnqiueValueInfoForExpression",value:function(e,t){var r=(0,d.unwrapOr)(t,{}),n=r.viewingMode,i=r.scale,a=r.spatialReference,o=r.arcade,s=this._cache.compiledFunc,l=(0,d.unwrap)(o).arcadeUtils;if(!s){var u=l.createSyntaxTree(this.valueExpression);s=l.createFunction(u),this._cache.compiledFunc=s}var c=l.executeFunction(s,l.createExecContext(e,l.getViewInfo({viewingMode:n,scale:i,spatialReference:a})));return this._valueInfoMap[c+""]}},{key:"_getUnqiueValueInfoForFields",value:function(e){var t,r=this.field,n=e.attributes;if("function"!=typeof r&&this.field2){var i=this.field2,a=this.field3,o=[];r&&o.push(n[r]),i&&o.push(n[i]),a&&o.push(n[a]),t=o.join(this.fieldDelimiter||"")}else"function"==typeof r?t=r(e):r&&(t=n[r]);return this._valueInfoMap[t+""]}}],[{key:"fromPortalStyle",value:function(e,t){var r=new i(t&&t.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",t&&t.portal||k.default.getDefault());var n=r.populateFromStyle();return n.catch((function(t){R.error("#fromPortalStyle('".concat(e,"'[, ...])"),"Failed to create unique value renderer from style name",t)})),n}},{key:"fromStyleUrl",value:function(e,t){var r=new i(t&&t.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));var n=r.populateFromStyle();return n.catch((function(t){R.error("#fromStyleUrl('".concat(e,"'[, ...])"),"Failed to create unique value renderer from style URL",t)})),n}}]),r}((0,E.VisualVariablesMixin)(T.default));(0,l._)([(0,y.property)({readOnly:!0})],F.prototype,"_cache",null),(0,l._)([(0,m.enumeration)({uniqueValue:"unique-value"})],F.prototype,"type",void 0),(0,l._)([(0,y.property)(I.rendererBackgroundFillSymbolProperty)],F.prototype,"backgroundFillSymbol",void 0),(0,l._)([(0,y.property)({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],F.prototype,"field",void 0),(0,l._)([(0,v.cast)("field")],F.prototype,"castField",null),(0,l._)([(0,_.writer)("field")],F.prototype,"writeField",null),(0,l._)([(0,y.property)({type:String,json:{write:!0}})],F.prototype,"field2",void 0),(0,l._)([(0,y.property)({type:String,json:{write:!0}})],F.prototype,"field3",void 0),(0,l._)([(0,y.property)({type:String,json:{write:!0}})],F.prototype,"valueExpression",void 0),(0,l._)([(0,y.property)({type:String,json:{write:!0}})],F.prototype,"valueExpressionTitle",void 0),(0,l._)([(0,y.property)({type:C.default,json:{write:!0}})],F.prototype,"legendOptions",void 0),(0,l._)([(0,y.property)({type:String,json:{write:!0}})],F.prototype,"defaultLabel",void 0),(0,l._)([(0,y.property)((0,h.deepMerge)(a.objectSpread({},I.rendererSymbolProperty),{json:{write:{overridePolicy:function(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy:function(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],F.prototype,"defaultSymbol",null),(0,l._)([(0,y.property)({type:String,json:{write:!0}})],F.prototype,"fieldDelimiter",void 0),(0,l._)([(0,y.property)({type:k.default,readOnly:!0})],F.prototype,"portal",void 0),(0,l._)([(0,g.reader)("portal",["styleName"])],F.prototype,"readPortal",null),(0,l._)([(0,y.property)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:function(){return{enabled:!0}}}}})],F.prototype,"styleOrigin",void 0),(0,l._)([(0,g.reader)("styleOrigin",["styleName","styleUrl"])],F.prototype,"readStyleOrigin",null),(0,l._)([(0,_.writer)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],F.prototype,"writeStyleOrigin",null),(0,l._)([(0,y.property)({type:[O.default],json:{write:{overridePolicy:function(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],F.prototype,"uniqueValueInfos",null);var j=F=i=(0,l._)([(0,b.subclass)("esri.renderers.UniqueValueRenderer")],F)})),s.register("9doMy",(function(t,r){e(t.exports,"hasDiff",(function(){return y})),e(t.exports,"hasDiffAny",(function(){return v})),e(t.exports,"diff",(function(){return m})),s("8TSCy");var n=s("aNiFM"),i=s("jymfC"),a=s("d2yMj"),o=s("7qybv"),l=s("5h4Y4"),u=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function c(e){return e instanceof i.default}function f(e){return e instanceof a.default?Object.keys(e.items):c(e)?(0,l.getProperties)(e).keys():e?Object.keys(e):[]}function p(e,t){return e instanceof a.default?e.items[t]:e[t]}function d(e){return e?e.declaredClass:null}function h(e,t){var r=e.diff;if(r&&"function"==typeof r)return r(e,t);var i=f(e),a=f(t);if(0!==i.length||0!==a.length){if(!i.length||!a.length||(s=e,l=t,Array.isArray(s)&&Array.isArray(l)&&s.length!==l.length))return{type:"complete",oldValue:e,newValue:t};var s,l,y,v=a.filter((function(e){return-1===i.indexOf(e)})),m=i.filter((function(e){return-1===a.indexOf(e)})),g=i.filter((function(r){return a.indexOf(r)>-1&&p(e,r)!==p(t,r)})).concat(v,m).sort(),b=d(e);if(b&&u.indexOf(b)>-1&&g.length)return{type:"complete",oldValue:e,newValue:t};var _=c(e)&&c(t),w=!0,x=!1,S=void 0;try{for(var k,T=g[Symbol.iterator]();!(w=(k=T.next()).done);w=!0){var E=k.value,I=p(e,E),C=p(t,E),O=void 0;(_||"function"!=typeof I&&"function"!=typeof C)&&I!==C&&(null==I&&null==C||(O=r&&r[E]&&"function"==typeof r[E]?r[E](I,C):"object"==typeof I&&"object"==typeof C&&d(I)===d(C)?h(I,C):{type:"complete",oldValue:I,newValue:C},(0,o.isSome)(O)&&((0,o.isSome)(y)?y.diff[E]=O:y={type:"partial",diff:n.default({},E,O)})))}}catch(e){x=!0,S=e}finally{try{w||null==T.return||T.return()}finally{if(x)throw S}}return y}}function y(e,t){if((0,o.isNone)(e))return!1;var r=t.split("."),n=e,i=!0,a=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;if("complete"===n.type)return!0;if("partial"!==n.type)return!1;var f=n.diff[c];if(!f)return!1;n=f}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}return!0}function v(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){if(y(e,a.value))return!0}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return!1}function m(e,t){if(!("function"==typeof e||"function"==typeof t||(0,o.isNone)(e)&&(0,o.isNone)(t)))return(0,o.isNone)(e)||(0,o.isNone)(t)||"object"==typeof e&&"object"==typeof t&&d(e)!==d(t)?{type:"complete",oldValue:e,newValue:t}:h(e,t)}})),s.register("3nz3P",(function(t,r){e(t.exports,"default",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd");var p,d=s("ba18L"),h=s("fcwIv"),y=s("83GWA"),v=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).description=null,n.label=null,n.symbol=null,n.value=null,o.default(n)}return l.default(r,[{key:"castValue",value:function(e){return null==e||"string"==typeof e||"number"==typeof e?e:"".concat(e)}},{key:"clone",value:function(){return new p({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}},{key:"getMeshHash",value:function(){var e=JSON.stringify(this.symbol&&this.symbol.toJSON());return"".concat(this.value,".").concat(e)}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:String,json:{write:!0}})],v.prototype,"description",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],v.prototype,"label",void 0),(0,u._)([(0,f.property)(y.rendererSymbolProperty)],v.prototype,"symbol",void 0),(0,u._)([(0,f.property)({json:{type:String,write:{writer:function(e,t){t.value=null==e?void 0:e.toString()}}}})],v.prototype,"value",void 0),(0,u._)([(0,d.cast)("value")],v.prototype,"castValue",null);var m=v=p=(0,u._)([(0,h.subclass)("esri.renderers.support.UniqueValueInfo")],v)})),s.register("dmPQi",(function(t,r){e(t.exports,"requestJSON",(function(){return w})),e(t.exports,"fetchStyle",(function(){return g})),e(t.exports,"makeCIMSymbolRef",(function(){return b})),e(t.exports,"symbolUrlFromStyleItem",(function(){return _})),e(t.exports,"Style2DUrlTemplate",(function(){return k})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("9pNSx"),u=s("kyj08"),c=s("10vEZ"),f=s("kYueh"),p=s("ajJOT"),d=s("kdfYM"),h=s("9SyM6"),y={};function v(){return(v=i.default(n(o).mark((function e(t,r){return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t,r);case 3:return e.t0=e.sent.data,e.t1=(0,f.removeFile)(t),e.t2=t,e.abrupt("return",{data:e.t0,baseUrl:e.t1,styleUrl:e.t2});case 9:return e.prev=9,e.t3=e.catch(0),e.abrupt("return",((0,c.throwIfAbortError)(e.t3),null));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function m(e,t,r){var n,i,a,o,s=t&&t.portal||p.default.getDefault(),l="".concat(s.url," - ").concat(s.user&&s.user.username," - ").concat(e);return y[l]||(y[l]=(i=e,a=s,o=r,a.load(o).then((function(){var e=new(0,d.default)({disableExtraQuery:!0,query:"owner:".concat(x," AND type:").concat(S,' AND typekeywords:"').concat(i,'"')});return a.queryItems(e,o)})).then((function(e){var t=e.results,r=null,n=i.toLowerCase(),a=!0,s=!1,l=void 0;if(t&&Array.isArray(t))try{for(var c,f=t[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var p=c.value;if(p.typeKeywords.some((function(e){return e.toLowerCase()===n}))&&p.type===S&&p.owner===x){r=p;break}}}catch(e){s=!0,l=e}finally{try{a||null==f.return||f.return()}finally{if(s)throw l}}if(!r)throw new(0,u.default)("symbolstyleutils:style-not-found","The style '".concat(i,"' could not be found"),{styleName:i});return r.load(o)}))).then((function(e){return n=e,e.fetchData()})).then((function(t){return{data:t,baseUrl:n.itemUrl,styleName:e}}))),y[l]}function g(e,t,r){return e.styleUrl?function(e,t){return v.apply(this,arguments)}(e.styleUrl,r):e.styleName?m(e.styleName,t,r):Promise.reject(new(0,u.default)("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function b(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function _(e,t){if("cimRef"===t)return e.cimRef;if(e.formatInfos&&!(0,h.enableWebStyleForceWOSR)()){var r=!0,n=!1,i=void 0;try{for(var a,o=e.formatInfos[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if("gltf"===s.type)return s.href}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}return e.webRef}function w(e,t){var r=a.default({responseType:"json",query:{f:"json"}},t);return(0,l.default)((0,f.normalize)(e),r)}var x="esri_en",S="Style",k="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"})),s.register("9SyM6",(function(t,r){e(t.exports,"enableWebStyleForceWOSR",(function(){return i}));var n=s("2VlWd"),i=function(){return!!(0,n.default)("enable-feature:force-wosr")}})),s.register("lubf9",(function(t,r){e(t.exports,"fromJSON",(function(){return o})),e(t.exports,"read",(function(){return u}));var n=s("lfedQ"),i=s("bVD6V"),a=s("9ulmN");function o(e,t){return u(e,null,t)}var l=(0,i.createTypeReader)({types:a.rendererTypes});function u(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(r&&r.messages&&r.messages.push(new(0,n.default)("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):l(e,t,r):null}})),s.register("9ulmN",(function(t,r){e(t.exports,"rendererTypes",(function(){return f})),e(t.exports,"webSceneRendererTypes",(function(){return p}));var n=s("35mRC"),i=s("fqK5H"),a=s("hHJvn"),o=s("aOUND"),l=s("7Kl6r"),u=s("fPYaT"),c=s("aRUMT"),f={key:"type",base:l.default,typeMap:{heatmap:o.default,simple:u.default,"unique-value":c.default,"class-breaks":n.default,"dot-density":a.default,dictionary:i.default},errorContext:"renderer"},p={key:"type",base:l.default,typeMap:{simple:u.default,"unique-value":c.default,"class-breaks":n.default},errorContext:"renderer"}})),s.register("8NioF",(function(t,r){e(t.exports,"MultiOriginJSONMixin",(function(){return m})),e(t.exports,"MultiOriginJSONSupport",(function(){return g})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("jK9zx"),u=s("7eJjO"),c=s("jymfC"),f=s("cUIoc"),p=s("Ej9Ns"),d=s("5h4Y4"),h=s("3L2OJ"),y=s("fcwIv");function v(e){return(0,d.getProperties)(e).store}var m=function(e){var t,r,s=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return a.default(this,r),t.call.apply(t,[this].concat(o.default(n)))}return r}((t=(0,f.ReadOnlyMultiOriginJSONMixin)(e),r=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return a.default(this,r),t.call.apply(t,[this].concat(o.default(n)))}return l.default(r,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user";return v(this).delete(e,(0,p.nameToId)(t))}},{key:"write",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,h.write)(this,e=e||{},t),e}},{key:"setAtOrigin",value:function(e,t,r){(0,d.getProperties)(this).setAtOrigin(e,t,(0,p.nameToId)(r))}},{key:"removeOrigin",value:function(e){var t=v(this),r=(0,p.nameToId)(e),n=t.keys(r),i=!0,a=!1,o=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;t.originOf(u)===r&&t.set(u,t.get(u,r),p.OriginId.USER)}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}}},{key:"updateOrigin",value:function(e,t){for(var r=v(this),n=(0,p.nameToId)(t),i=this.get(e),a=n+1;a<p.OriginIdNum;++a)r.delete(e,a);r.set(e,i,n)}},{key:"toJSON",value:function(e){return this.write({},e)}}]),r}(t),(r=(0,u._)([(0,y.subclass)("esri.core.WriteableMultiOriginJSONSupport")],r)).prototype.toJSON.isDefaultToJSON=!0,r));return s=(0,u._)([(0,y.subclass)("esri.core.MultiOriginJSONSupport")],s)},g=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return r}(m(c.default));g=(0,u._)([(0,y.subclass)("esri.core.MultiOriginJSONSupport")],g)})),s.register("cUIoc",(function(t,r){e(t.exports,"ReadOnlyMultiOriginJSONMixin",(function(){return b})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("Kn7R4"),u=s("jK9zx"),c=s("7eJjO"),f=s("jymfC"),p=s("7qybv"),d=s("3Ya2N"),h=s("d0DXQ"),y=s("Ej9Ns"),v=s("6MSKz"),m=s("5h4Y4"),g=s("fcwIv"),b=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s;a.default(this,r),s=t.call.apply(t,[this].concat(o.default(n)));var u=(0,p.assumeNonNull)((0,m.getProperties)(l.default(s))),c=u.store,f=new(0,h.default);return u.store=f,(0,d.setupConstructedDefaults)(u,c,f),s}return u.default(r,[{key:"read",value:function(e,t){(0,v.read)(this,e,t)}},{key:"getAtOrigin",value:function(e,t){var r=_(this),n=(0,y.nameToId)(t);if("string"==typeof e)return r.get(e,n);var i={};return e.forEach((function(e){i[e]=r.get(e,n)})),i}},{key:"originOf",value:function(e){return(0,y.idToName)(this.originIdOf(e))}},{key:"originIdOf",value:function(e){return _(this).originOf(e)}},{key:"revert",value:function(e,t){var r=_(this),n=(0,y.nameToId)(t),i=(0,m.getProperties)(this);("string"==typeof e?"*"===e?r.keys(n):[e]:e).forEach((function(e){i.invalidate(e),r.revert(e,n),i.commit(e)}))}}]),r}(e);return t=(0,c._)([(0,g.subclass)("esri.core.ReadOnlyMultiOriginJSONSupport")],t)};function _(e){return(0,m.getProperties)(e).store}var w=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return r}(b(f.default));w=(0,c._)([(0,g.subclass)("esri.core.ReadOnlyMultiOriginJSONSupport")],w)})),s.register("d0DXQ",(function(t,r){e(t.exports,"default",(function(){return c})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("5Vgx8"),o=s("flPLJ"),l=s("7qybv"),u=s("Ej9Ns"),c=function(){"use strict";function e(){n.default(this,e),this._propertyOriginMap=new Map,this._originStores=new Array(u.OriginIdNum),this._values=new Map,this.multipleOriginsSupported=!0}return i.default(e,[{key:"clone",value:function(t){var r=this,n=function(e){var n=r._originStores[e];n&&n.forEach((function(r,n){t&&t.has(n)||i.set(n,(0,o.clone)(r),e)}))},i=new e,a=this._originStores[u.OriginId.DEFAULTS];a&&a.forEach((function(e,t){i.set(t,(0,o.clone)(e),u.OriginId.DEFAULTS)}));for(var s=u.OriginId.SERVICE;s<u.OriginIdNum;s++)n(s);return i}},{key:"get",value:function(e,t){var r=void 0===t?this._values:this._originStores[t];return r?r.get(e):void 0}},{key:"keys",value:function(e){var t=null==e?this._values:this._originStores[e];return t?a.default(t.keys()):[]}},{key:"set",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.OriginId.USER,n=this._originStores[r];if(n||(n=new Map,this._originStores[r]=n),n.set(e,t),!this._values.has(e)||(0,l.assumeNonNull)(this._propertyOriginMap.get(e))<=r){var i=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,r),i!==t}return!1}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.OriginId.USER,r=this._originStores[t];if(r){var n=r.get(e);if(r.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(var i=t-1;i>=0;i--){var a=this._originStores[i];if(a&&a.has(e)){this._values.set(e,a.get(e)),this._propertyOriginMap.set(e,i);break}}}return n}}},{key:"has",value:function(e,t){var r=void 0===t?this._values:this._originStores[t];return!!r&&r.has(e)}},{key:"revert",value:function(e,t){for(;t>0&&!this.has(e,t);)--t;var r=this._originStores[t],n=r&&r.get(e),i=this._values.get(e);return this._values.set(e,n),this._propertyOriginMap.set(e,t),i!==n}},{key:"originOf",value:function(e){return this._propertyOriginMap.get(e)||u.OriginId.DEFAULTS}},{key:"forEach",value:function(e){this._values.forEach(e)}}]),e}()})),s.register("37plS",(function(t,r){e(t.exports,"parseWhereClause",(function(){return o})),s("8TSCy");var i=s("jcnGU"),a=s("2TvXO");function o(e,t){return l.apply(this,arguments)}function l(){return(l=i.default(n(a).mark((function e(t,r){var i,o;return n(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("dKZJP");case 2:return i=e.sent,o=i.WhereClause,e.abrupt("return",o.create(t,r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),s.register("ceKt1",(function(t,r){e(t.exports,"default",(function(){return S})),s("8TSCy");var n,i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("7eJjO"),f=s("1XAcN"),p=s("flPLJ"),d=s("iho5X"),h=s("ba18L"),y=s("eB8sj"),v=s("fcwIv"),m=s("kced1"),g=s("lNpv1"),b=s("glr5y"),_=s("7o5bI"),w=(0,_.buildTypeMaps)(b.default),x=n=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).description=null,n.elements=null,n.expressionInfos=null,n.title=null,l.default(n)}return u.default(r,[{key:"castElements",value:function(e){return(0,_.ensureType)(e,w)}},{key:"readElements",value:function(e,t){return(0,_.fromJSON)(t.formElements,w)}},{key:"writeElements",value:function(e,t){t.formElements=(0,_.toJSON)(e,w)}},{key:"clone",value:function(){return new n({description:this.description,expressionInfos:(0,p.clone)(this.expressionInfos),elements:(0,p.clone)(this.elements),title:this.title})}}]),r}(f.JSONSupport);(0,c._)([(0,d.property)({type:String,json:{write:!0}})],x.prototype,"description",void 0),(0,c._)([(0,d.property)({json:{write:!0}})],x.prototype,"elements",void 0),(0,c._)([(0,h.cast)("elements")],x.prototype,"castElements",null),(0,c._)([(0,y.reader)("elements",["formElements"])],x.prototype,"readElements",null),(0,c._)([(0,m.writer)("elements")],x.prototype,"writeElements",null),(0,c._)([(0,d.property)({type:[g.default],json:{write:!0}})],x.prototype,"expressionInfos",void 0),(0,c._)([(0,d.property)({type:String,json:{write:!0}})],x.prototype,"title",void 0);var S=x=n=(0,c._)([(0,v.subclass)("esri.form.FormTemplate")],x)})),s.register("lNpv1",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).expression=null,n.name=null,n.returnType="boolean",n.title=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"expression",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"name",void 0),(0,u._)([(0,f.property)({type:["boolean","date","number","string"],json:{write:!0}})],h.prototype,"returnType",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"title",void 0);var y=h=p=(0,u._)([(0,d.subclass)("esri.form.ExpressionInfo")],h)})),s.register("glr5y",(function(t,r){e(t.exports,"default",(function(){return w})),s("8TSCy");var n,i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("7eJjO"),f=s("flPLJ"),p=s("iho5X"),d=s("ba18L"),h=s("eB8sj"),y=s("fcwIv"),v=s("kced1"),m=s("ahgSg"),g=s("7o5bI"),b=n=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e)).elements=null,n.initialState="expanded",n.type="group",l.default(n)}return u.default(r,[{key:"castElements",value:function(e){return(0,g.ensureType)(e,_,!1)}},{key:"readElements",value:function(e,t){return(0,g.fromJSON)(t.formElements,_,!1)}},{key:"writeElements",value:function(e,t){t.formElements=(0,g.toJSON)(e,_,!1)}},{key:"clone",value:function(){return new n({description:this.description,elements:(0,f.clone)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}}]),r}(m.default);(0,c._)([(0,p.property)({json:{write:!0}})],b.prototype,"elements",void 0),(0,c._)([(0,d.cast)("elements")],b.prototype,"castElements",null),(0,c._)([(0,h.reader)("elements",["formElements"])],b.prototype,"readElements",null),(0,c._)([(0,v.writer)("elements")],b.prototype,"writeElements",null),(0,c._)([(0,p.property)({type:["collapsed","expanded"],json:{write:!0}})],b.prototype,"initialState",void 0),(0,c._)([(0,p.property)({type:String,json:{read:!1,write:!0}})],b.prototype,"type",void 0),b=n=(0,c._)([(0,y.subclass)("esri.form.elements.GroupElement")],b);var _=(0,g.buildTypeMaps)(b),w=b})),s.register("ahgSg",(function(t,r){e(t.exports,"default",(function(){return d})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("1XAcN"),c=s("iho5X"),f=s("fcwIv"),p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).description=null,n.label=null,n.type=null,n.visibilityExpression=null,o.default(n)}return r}(u.JSONSupport);(0,l._)([(0,c.property)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,l._)([(0,c.property)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,l._)([(0,c.property)()],p.prototype,"type",void 0),(0,l._)([(0,c.property)({type:String,json:{write:!0}})],p.prototype,"visibilityExpression",void 0);var d=p=(0,l._)([(0,f.subclass)("esri.form.elements.Element")],p)})),s.register("7o5bI",(function(t,r){e(t.exports,"buildTypeMaps",(function(){return u})),e(t.exports,"fromJSON",(function(){return c})),e(t.exports,"toJSON",(function(){return f})),e(t.exports,"ensureType",(function(){return p}));var n=s("iJAIC"),i=s("bal9a"),a=s("ahgSg"),o=s("k2pb7"),l=s("HvvhU");function u(e){return{typesWithGroup:{base:a.default,key:"type",typeMap:{attachment:i.default,field:o.default,group:e,relationship:l.default}},typesWithoutGroup:{base:a.default,key:"type",typeMap:{attachment:i.default,field:o.default,relationship:l.default}}}}function c(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return null;var n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((function(e){return n[e.type]})).map((function(e){return n[e.type].fromJSON(e)}))}function f(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return null;var n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((function(e){return n[e.type]})).map((function(e){return e.toJSON()}))}function p(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e?e.map((function(e){return(0,n.ensureOneOfType)(r?t.typesWithGroup:t.typesWithoutGroup,e)})):null}})),s.register("bal9a",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("ahgSg"),h=s("49oTI"),y=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).attachmentKeyword=null,n.editable=!0,n.input=null,n.type="attachment",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}}]),r}(d.default);(0,u._)([(0,c.property)({type:String,json:{write:!0}})],y.prototype,"attachmentKeyword",void 0),(0,u._)([(0,c.property)({type:Boolean,json:{write:!0}})],y.prototype,"editable",void 0),(0,u._)([(0,c.property)({type:h.default,json:{read:{source:"inputType"},write:{target:"inputType"}}})],y.prototype,"input",void 0),(0,u._)([(0,c.property)({type:["attachment"],json:{read:!1,write:!0}})],y.prototype,"type",void 0);var v=y=f=(0,u._)([(0,p.subclass)("esri.form.elements.AttachmentElement")],y)})),s.register("49oTI",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({type:this.type})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],h.prototype,"type",void 0);var y=h=p=(0,u._)([(0,d.subclass)("esri.form.elements.inputs.AttachmentInput")],h)})),s.register("k2pb7",(function(t,r){e(t.exports,"default",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("ahgSg"),h=s("54Yxm"),y=s("895QH"),v=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).domain=null,n.editable=!0,n.editableExpression=null,n.fieldName=null,n.hint=null,n.input=null,n.requiredExpression=null,n.type="field",n.valueExpression=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}}]),r}(d.default);(0,u._)([(0,c.property)({types:y.types,json:{read:{reader:y.fromJSON},write:!0}})],v.prototype,"domain",void 0),(0,u._)([(0,c.property)({type:Boolean,json:{write:!0}})],v.prototype,"editable",void 0),(0,u._)([(0,c.property)({type:String,json:{write:!0}})],v.prototype,"editableExpression",void 0),(0,u._)([(0,c.property)({type:String,json:{write:!0}})],v.prototype,"fieldName",void 0),(0,u._)([(0,c.property)({type:String,json:{write:!0}})],v.prototype,"hint",void 0),(0,u._)([(0,c.property)({types:h.types,json:{read:{source:"inputType"},write:{target:"inputType"}}})],v.prototype,"input",void 0),(0,u._)([(0,c.property)({type:String,json:{write:!0}})],v.prototype,"requiredExpression",void 0),(0,u._)([(0,c.property)({type:String,json:{read:!1,write:!0}})],v.prototype,"type",void 0),(0,u._)([(0,c.property)({type:String,json:{write:!0}})],v.prototype,"valueExpression",void 0);var m=v=f=(0,u._)([(0,p.subclass)("esri.form.elements.FieldElement")],v)})),s.register("54Yxm",(function(t,r){e(t.exports,"types",(function(){return p}));var n=s("1it2R"),i=s("babQQ"),a=s("bXDYf"),o=s("5GAuO"),l=s("j8O6y"),u=s("j6OwV"),c=s("9KL0W"),f=s("eOF4h"),p={base:o.default,key:"type",typeMap:{"barcode-scanner":n.default,"combo-box":i.default,"datetime-picker":a.default,"radio-buttons":l.default,switch:u.default,"text-area":c.default,"text-box":f.default}}})),s.register("1it2R",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("Vczxp"),h=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="barcode-scanner",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({maxLength:this.maxLength,minLength:this.minLength})}}]),r}(d.default);(0,u._)([(0,c.property)({type:["barcode-scanner"],json:{read:!1,write:!0}})],h.prototype,"type",void 0);var y=h=f=(0,u._)([(0,p.subclass)("esri.form.elements.inputs.BarcodeScannerInput")],h)})),s.register("Vczxp",(function(t,r){e(t.exports,"default",(function(){return p})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var c=s("fcwIv"),f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).maxLength=null,n.minLength=0,o.default(n)}return r}(s("5GAuO").default);(0,l._)([(0,u.property)({type:Number,json:{write:!0}})],f.prototype,"maxLength",void 0),(0,l._)([(0,u.property)({type:Number,json:{write:!0}})],f.prototype,"minLength",void 0);var p=f=(0,l._)([(0,c.subclass)("esri.form.elements.inputs.TextInput")],f)})),s.register("5GAuO",(function(t,r){e(t.exports,"default",(function(){return d})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("1XAcN"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f=s("fcwIv"),p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type=null,o.default(n)}return r}(u.JSONSupport);(0,l._)([(0,c.property)()],p.prototype,"type",void 0);var d=p=(0,l._)([(0,f.subclass)("esri.form.elements.inputs.Input")],p)})),s.register("babQQ",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("5GAuO"),h=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).noValueOptionLabel=null,n.showNoValueOption=!1,n.type="combo-box",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}}]),r}(d.default);(0,u._)([(0,c.property)({type:String,json:{write:!0}})],h.prototype,"noValueOptionLabel",void 0),(0,u._)([(0,c.property)({type:Boolean,json:{write:!0}})],h.prototype,"showNoValueOption",void 0),(0,u._)([(0,c.property)({type:["combo-box"],json:{read:!1,write:!0}})],h.prototype,"type",void 0);var y=h=f=(0,u._)([(0,p.subclass)("esri.form.elements.inputs.ComboBoxInput")],h)})),s.register("bXDYf",(function(t,r){e(t.exports,"default",(function(){return b})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("eB8sj"),d=s("fcwIv"),h=s("kced1"),y=s("5GAuO");function v(e){return null!=e?new Date(e):null}function m(e){return e?e.getTime():null}var g=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).includeTime=!1,n.max=null,n.min=null,n.type="datetime-picker",o.default(n)}return l.default(r,[{key:"readMax",value:function(e,t){return v(t.max)}},{key:"writeMax",value:function(e,t){t.max=m(e)}},{key:"readMin",value:function(e,t){return v(t.min)}},{key:"writeMin",value:function(e,t){t.min=m(e)}},{key:"clone",value:function(){return new f({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}}]),r}(y.default);(0,u._)([(0,c.property)({type:Boolean,json:{write:!0}})],g.prototype,"includeTime",void 0),(0,u._)([(0,c.property)({type:Date,json:{type:Number,write:!0}})],g.prototype,"max",void 0),(0,u._)([(0,p.reader)("max")],g.prototype,"readMax",null),(0,u._)([(0,h.writer)("max")],g.prototype,"writeMax",null),(0,u._)([(0,c.property)({type:Date,json:{type:Number,write:!0}})],g.prototype,"min",void 0),(0,u._)([(0,p.reader)("min")],g.prototype,"readMin",null),(0,u._)([(0,h.writer)("min")],g.prototype,"writeMin",null),(0,u._)([(0,c.property)({type:["datetime-picker"],json:{read:!1,write:!0}})],g.prototype,"type",void 0);var b=g=f=(0,u._)([(0,d.subclass)("esri.form.elements.inputs.DateTimePickerInput")],g)})),s.register("j8O6y",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("5GAuO"),h=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).noValueOptionLabel=null,n.showNoValueOption=!1,n.type="radio-buttons",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}}]),r}(d.default);(0,u._)([(0,c.property)({type:String,json:{write:!0}})],h.prototype,"noValueOptionLabel",void 0),(0,u._)([(0,c.property)({type:Boolean,json:{write:!0}})],h.prototype,"showNoValueOption",void 0),(0,u._)([(0,c.property)({type:["radio-buttons"],json:{read:!1,write:!0}})],h.prototype,"type",void 0);var y=h=f=(0,u._)([(0,p.subclass)("esri.form.elements.inputs.RadioButtonsInput")],h)})),s.register("j6OwV",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("5GAuO"),h=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).offValue=null,n.onValue=null,n.type="switch",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({offValue:this.offValue,onValue:this.onValue})}}]),r}(d.default);(0,u._)([(0,c.property)({type:[String,Number],json:{write:!0}})],h.prototype,"offValue",void 0),(0,u._)([(0,c.property)({type:[String,Number],json:{write:!0}})],h.prototype,"onValue",void 0),(0,u._)([(0,c.property)({type:["switch"],json:{read:!1,write:!0}})],h.prototype,"type",void 0);var y=h=f=(0,u._)([(0,p.subclass)("esri.form.elements.inputs.SwitchInput")],h)})),s.register("9KL0W",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("Vczxp"),h=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="text-area",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({maxLength:this.maxLength,minLength:this.minLength})}}]),r}(d.default);(0,u._)([(0,c.property)({type:["text-area"],json:{read:!1,write:!0}})],h.prototype,"type",void 0);var y=h=f=(0,u._)([(0,p.subclass)("esri.form.elements.inputs.TextAreaInput")],h)})),s.register("eOF4h",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("Vczxp"),h=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="text-box",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f({maxLength:this.maxLength,minLength:this.minLength})}}]),r}(d.default);(0,u._)([(0,c.property)({type:["text-box"],json:{read:!1,write:!0}})],h.prototype,"type",void 0);var y=h=f=(0,u._)([(0,p.subclass)("esri.form.elements.inputs.TextBoxInput")],h)})),s.register("HvvhU",(function(t,r){e(t.exports,"default",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("flPLJ"),f=s("iho5X");s("iJAIC");var p,d=s("fcwIv"),h=s("ahgSg"),y=s("b1O89"),v=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).displayCount=null,n.displayType="list",n.editable=!0,n.orderByFields=null,n.relationshipId=null,n.type="relationship",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new p({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:(0,c.clone)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}}]),r}(h.default);(0,u._)([(0,f.property)({type:Number,json:{write:!0}})],v.prototype,"displayCount",void 0),(0,u._)([(0,f.property)({type:["list"],json:{write:!0}})],v.prototype,"displayType",void 0),(0,u._)([(0,f.property)({type:Boolean,json:{write:!0}})],v.prototype,"editable",void 0),(0,u._)([(0,f.property)({type:[y.default],json:{write:!0}})],v.prototype,"orderByFields",void 0),(0,u._)([(0,f.property)({type:Number,json:{write:!0}})],v.prototype,"relationshipId",void 0),(0,u._)([(0,f.property)({type:["relationship"],json:{read:!1,write:!0}})],v.prototype,"type",void 0);var m=v=p=(0,u._)([(0,d.subclass)("esri.form.elements.RelationshipElement")],v)})),s.register("dt8qO",(function(t,r){e(t.exports,"default",(function(){return C})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("ifq4M"),c=s("8atho"),f=s("aNpz9"),p=s("7eJjO"),d=s("lNwWH"),h=s("79ASa"),y=s("1XAcN"),v=s("5vzSQ"),m=s("lfedQ"),g=s("iho5X");s("2VlWd"),s("iJAIC");var b,_=s("eB8sj"),w=s("fcwIv"),x=s("kced1"),S=(0,h.strict)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),k=S.jsonValues.slice();(0,d.removeUnordered)(k,"orthometric");var T=(0,h.strict)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"}),E=b=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).heightModel="gravity-related-height",n.heightUnit="meters",n.vertCRS=null,o.default(n)}return l.default(r,[{key:"writeHeightModel",value:function(e,t,r){return S.write(e,t,r)}},{key:"readHeightModel",value:function(e,t,r){var n,i;return S.read(e)||(r&&r.messages&&r.messages.push((n=e,i={context:r},new(0,m.default)("height-model:unsupported","Height model of value '".concat(n,"' is not supported"),i))),null)}},{key:"readHeightUnit",value:function(e,t,r){return T.read(e)||(r&&r.messages&&r.messages.push(I(e,{context:r})),null)}},{key:"readHeightUnitService",value:function(e,t,r){return(0,v.unitFromRESTJSON)(e)||T.read(e)||(r&&r.messages&&r.messages.push(I(e,{context:r})),null)}},{key:"readVertCRS",value:function(e,t){return t.vertCRS||t.ellipsoid||t.geoid}},{key:"clone",value:function(){return new b({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}},{key:"equals",value:function(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}},{key:"write",value:function(e,t){return t=u.default({origin:"web-scene"},t),c.default(f.default(r.prototype),"write",this).call(this,e,t)}}],[{key:"deriveUnitFromSR",value:function(e,t){var r=(0,v.getVerticalUnitStringForSR)(t);return new b({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}},{key:"fromJSON",value:function(e){if(!e)return null;var t=new b;return t.read(e,{origin:"web-scene"}),t}}]),r}(y.JSONSupport);function I(e,t){return new(0,m.default)("height-unit:unsupported","Height unit of value '".concat(e,"' is not supported"),t)}(0,p._)([(0,g.property)({type:S.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:k,default:"ellipsoidal"}}}})],E.prototype,"heightModel",void 0),(0,p._)([(0,x.writer)("web-scene","heightModel")],E.prototype,"writeHeightModel",null),(0,p._)([(0,_.reader)(["web-scene","service"],"heightModel")],E.prototype,"readHeightModel",null),(0,p._)([(0,g.property)({type:T.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:T.jsonValues,write:T.write}}}})],E.prototype,"heightUnit",void 0),(0,p._)([(0,_.reader)("web-scene","heightUnit")],E.prototype,"readHeightUnit",null),(0,p._)([(0,_.reader)("service","heightUnit")],E.prototype,"readHeightUnitService",null),(0,p._)([(0,g.property)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],E.prototype,"vertCRS",void 0),(0,p._)([(0,_.reader)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],E.prototype,"readVertCRS",null);var C=E=b=(0,p._)([(0,w.subclass)("esri.geometry.HeightModelInfo")],E)})),s.register("kIGY4",(function(t,r){e(t.exports,"default",(function(){return F})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("jcnGU"),f=s("2TvXO"),p=s("7eJjO");s("2ILM8");var d=s("bsvXr"),h=s("d2yMj"),y=s("kyj08"),v=s("6dXDO"),m=s("2VlWd"),g=s("bQCqB"),b=s("jHOLN"),_=s("7qybv"),w=s("hmHbS"),x=s("gdXB3"),S=s("iho5X");s("lNwWH");var k=s("iJAIC"),T=s("8z0HP"),E=s("fcwIv"),I=s("kXCh8"),C=s("4JATB"),O=s("f4h86"),L=s("gINRd"),A=s("fTq43"),M=s("7LVgC"),N=0,R=b.default.getLogger("esri.layers.graphics.sources.MemorySource"),P=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e))._idToClientGraphic=null,n.type="memory",l.default(n)}return u.default(r,[{key:"load",value:function(e){var t=(0,_.isSome)(e)?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}},{key:"destroy",value:function(){var e;null==(e=this._connection)||e.close(),this._connection=null}},{key:"workerGeometryType",get:function(){var e,t=null==(e=this.layer)?void 0:e.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}},{key:"applyEdits",value:function(e){var t=this;return this.load().then((function(){return t._applyEdits(e)}))}},{key:"openPorts",value:function(){var e=this;return this.load().then((function(){return e._connection.openPorts()}))}},{key:"queryFeatures",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return c.default(n(f).mark((function i(){var a,o,s,l,u,c,p,d,h,y,v;return n(f).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.load(t);case 2:return n.next=4,r._connection.invoke("queryFeatures",e?e.toJSON():null,t);case 4:if(a=n.sent,(0,C.applyFeatureSetZUnitScaling)(e,r.layer.spatialReference,a),o=O.default.fromJSON(a),r._requiresClientGraphicMapping()){n.next=9;break}return n.abrupt("return",o);case 9:for(s=r.layer.objectIdField,l=!0,u=!1,c=void 0,n.prev=11,p=o.features[Symbol.iterator]();!(l=(d=p.next()).done);l=!0)h=d.value,y=h.attributes[s],(v=r._idToClientGraphic.get(y))&&(h.geometry=v.geometry);n.next=19;break;case 15:n.prev=15,n.t0=n.catch(11),u=!0,c=n.t0;case 19:n.prev=19,n.prev=20,l||null==p.return||p.return();case 22:if(n.prev=22,!u){n.next=25;break}throw c;case 25:return n.finish(22);case 26:return n.finish(19);case 27:return n.abrupt("return",(o.geometryType=r.layer.geometryType,o));case 28:case"end":return n.stop()}}),i,null,[[11,15,19,27],[20,,22,26]])})))()}},{key:"queryFeaturesJSON",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return c.default(n(f).mark((function i(){var a;return n(f).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r._requiresClientGraphicMapping()){n.next=2;break}throw new(0,y.default)("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");case 2:return n.next=4,r.load(t);case 4:return n.next=6,r._connection.invoke("queryFeatures",e?e.toJSON():null,t);case 6:return a=n.sent,n.abrupt("return",((0,C.applyFeatureSetZUnitScaling)(e,r.layer.spatialReference,a),a));case 8:case"end":return n.stop()}}),i)})))()}},{key:"queryFeatureCount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return this.load(t).then((function(){return r._connection.invoke("queryFeatureCount",e?e.toJSON():null,t)}))}},{key:"queryObjectIds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return this.load(t).then((function(){return r._connection.invoke("queryObjectIds",e?e.toJSON():null,t)}))}},{key:"queryExtent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return this.load(t).then((function(){return r._connection.invoke("queryExtent",e?e.toJSON():null,t)})).then((function(e){return{count:e.count,extent:L.default.fromJSON(e.extent)}}))}},{key:"querySnapping",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return this.load(t).then((function(){return r._connection.invoke("querySnapping",e,t)}))}},{key:"_applyEdits",value:function(e){var t=this;return c.default(n(f).mark((function r(){var i,a,o,s,l,u,c,p,d,h,v,m,g,b,_,w,x,S,k,T,E,C,O;return n(f).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t._connection){r.next=2;break}throw new(0,y.default)("feature-layer-source:edit-failure","Memory source not loaded");case 2:return i=t.layer.objectIdField,a=null,o=[],s=[],r.next=7,Promise.all([t._prepareClientMapping(e.addFeatures,null),t._prepareClientMapping(e.updateFeatures,null)]);case 7:if(l=function(e){return"objectId"in e&&null!=e.objectId?e.objectId:"attributes"in e&&null!=e.attributes[i]?e.attributes[i]:null},u=!0,c=!1,p=void 0,e.addFeatures&&(a=t._prepareAddFeatures(e.addFeatures)),!e.deleteFeatures){r.next=26;break}for(r.prev=10,d=e.deleteFeatures[Symbol.iterator]();!(u=(h=d.next()).done);u=!0)v=h.value,null!=(m=l(v))&&o.push(m);r.next=18;break;case 14:r.prev=14,r.t0=r.catch(10),c=!0,p=r.t0;case 18:r.prev=18,r.prev=19,u||null==d.return||d.return();case 21:if(r.prev=21,!c){r.next=24;break}throw p;case 24:return r.finish(21);case 25:return r.finish(18);case 26:if(g=e.updateFeatures&&t._idToClientGraphic?new Map:null,!e.updateFeatures){r.next=45;break}for(b=!0,_=!1,w=void 0,r.prev=29,x=e.updateFeatures[Symbol.iterator]();!(b=(S=x.next()).done);b=!0)k=S.value,s.push(t._serializeFeature(k)),g&&null!=(T=l(k))&&g.set(T,k);r.next=37;break;case 33:r.prev=33,r.t1=r.catch(29),_=!0,w=r.t1;case 37:r.prev=37,r.prev=38,b||null==x.return||x.return();case 40:if(r.prev=40,!_){r.next=43;break}throw w;case 43:return r.finish(40);case 44:return r.finish(37);case 45:return(0,I.unapplyEditsZUnitScaling)(a?a.features:null,s,t.layer.spatialReference),r.next=48,t._connection.invoke("applyEdits",{adds:a?a.features:[],updates:s,deletes:o});case 48:return E=r.sent,C=E.fullExtent,O=E.featureEditResults,r.abrupt("return",(t.fullExtent=C,a&&a.finish(O.uidToObjectId),t._updateClientGraphicIds(g,O),t._createEditsResult(O)));case 52:case"end":return r.stop()}}),r,null,[[10,14,18,26],[19,,21,25],[29,33,37,45],[38,,40,44]])})))()}},{key:"_prepareClientMapping",value:function(e,t){var r=this;return c.default(n(f).mark((function i(){var a,o,s,l,u,c,p,d;return n(f).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("mesh"===r.layerOrSourceGeometryType&&!(0,_.isNone)(e)){n.next=2;break}return n.abrupt("return");case 2:for(a=[],o=!0,s=!1,l=void 0,n.prev=4,u=e[Symbol.iterator]();!(o=(c=u.next()).done);o=!0)p=c.value,d=p.geometry,!(0,_.isSome)(d)||"mesh"!==d.type||d.hasExtent||d.loaded||a.push(d.load({signal:t}));n.next=12;break;case 8:n.prev=8,n.t0=n.catch(4),s=!0,l=n.t0;case 12:n.prev=12,n.prev=13,o||null==u.return||u.return();case 15:if(n.prev=15,!s){n.next=18;break}throw l;case 18:return n.finish(15);case 19:return n.finish(12);case 20:if(n.t1=a.length,!n.t1){n.next=24;break}return n.next=24,Promise.all(a);case 24:case"end":return n.stop()}}),i,null,[[4,8,12,20],[13,,15,19]])})))()}},{key:"_updateClientGraphicIds",value:function(e,t){if(this._idToClientGraphic){var r=!0,n=!1,i=void 0;if(e)try{for(var a,o=t.updateResults[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(s.success){var l=e.get(s.objectId);null!=l&&this._addIdToClientGraphic(l)}}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}var u=!0,c=!1,f=void 0;try{for(var p,d=t.deleteResults[Symbol.iterator]();!(u=(p=d.next()).done);u=!0){var h=p.value;h.success&&this._idToClientGraphic.delete(h.objectId)}}catch(e){c=!0,f=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw f}}}}},{key:"_createEditsResult",value:function(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}},{key:"_createFeatureEditResult",value:function(e){var t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new(0,y.default)("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}},{key:"_prepareAddFeatures",value:function(e){for(var t=new Map,r=new Array(e.length),n=null,i=0;i<e.length;i++){var a=e[i],o=this._serializeFeature(a);!n&&(0,_.isSome)(a.geometry)&&(n=a.geometry.type),r[i]=o,t.set("".concat(o.uid),a)}var s=this;return{features:r,inferredGeometryType:n,finish:function(e){var r=s.sourceJSON.objectIdField;for(var n in e){var i=e[n],a=t.get(n);a&&(a.attributes||(a.attributes={}),-1===i?delete a.attributes[r]:a.attributes[r]=i,s._addIdToClientGraphic(a))}}}}},{key:"_addIdToClientGraphic",value:function(e){if(this._idToClientGraphic){var t=this.sourceJSON.objectIdField,r=e.attributes&&e.attributes[t];null!=r&&this._idToClientGraphic.set(r,e)}}},{key:"layerOrSourceGeometryType",get:function(){var e,t,r;return null!=(e=null==(t=this.layer)?void 0:t.geometryType)?e:null==(r=this.sourceJSON)?void 0:r.geometryType}},{key:"_requiresClientGraphicMapping",value:function(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)}},{key:"_geometryRequiresClientGraphicMapping",value:function(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}},{key:"_geometryTypeRequiresClientGraphicMapping",value:function(e){return"mesh"===e||"multipatch"===e||"extent"===e}},{key:"_serializeFeature",value:function(e){var t=e.attributes,r=this._geometryForSerialization(e),n=(N++).toString();return r?{uid:n,geometry:r.toJSON(),attributes:t}:{uid:n,attributes:t}}},{key:"_geometryForSerialization",value:function(e){var t=e.geometry;return(0,_.isNone)(t)?null:this._geometryRequiresClientGraphicMapping(t)?t.extent?A.default.fromExtent(t.extent):null:t}},{key:"_startWorker",value:function(e){var t=this;return c.default(n(f).mark((function r(){var i,a,o,s,l,u,c,p,d,h,y,v,g,b,_,w,S,k;return n(f).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,x.open)("MemorySourceWorker",{strategy:(0,m.default)("feature-layers-workers")?"dedicated":"local",signal:e});case 2:return t._connection=r.sent,i=t.layer,a=i.fields,o=i.spatialReference,s=i.objectIdField,l=i.hasM,u=i.hasZ,c=i.timeInfo,p="defaults"===t.layer.originOf("spatialReference"),r.next=6,t._prepareClientMapping(t.items,e);case 6:return d=t._prepareAddFeatures(t.items),t.handles.add(t.on("before-changes",(function(e){R.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),e.preventDefault()}))),h={features:d.features,fields:a&&a.map((function(e){return e.toJSON()})),geometryType:M.typeKebabDictionary.toJSON(t.workerGeometryType),hasM:"mesh"!==t.layerOrSourceGeometryType&&l,hasZ:"mesh"===t.layerOrSourceGeometryType||u,objectIdField:s,spatialReference:p?null:o&&o.toJSON(),timeInfo:c?c.toJSON():null},r.next=11,t._connection.invoke("load",h,{signal:e});case 11:for(y=r.sent,v=!0,g=!1,b=void 0,r.prev=13,_=y.warnings[Symbol.iterator]();!(v=(w=_.next()).done);v=!0)S=w.value,R.warn(S.message,{layer:t.layer,warning:S});r.next=21;break;case 17:r.prev=17,r.t0=r.catch(13),g=!0,b=r.t0;case 21:r.prev=21,r.prev=22,v||null==_.return||_.return();case 24:if(r.prev=24,!g){r.next=27;break}throw b;case 27:return r.finish(24);case 28:return r.finish(21);case 29:y.featureErrors.length&&R.warn("Encountered ".concat(y.featureErrors.length," validation errors while loading features"),y.featureErrors),k=y.layerDefinition,t._geometryTypeRequiresClientGraphicMapping(d.inferredGeometryType)&&(k.geometryType=M.typeKebabDictionary.toJSON(d.inferredGeometryType)),t.sourceJSON=k,t._requiresClientGraphicMapping()&&(t._idToClientGraphic=new Map),d.finish(y.assignedObjectIds);case 32:case"end":return r.stop()}}),r,null,[[13,17,21,29],[22,,24,28]])})))()}}]),r}(g.default.LoadableMixin((0,w.EsriPromiseMixin)((0,v.HandleOwnerMixin)(h.default))));(0,p._)([(0,T.shared)({Type:d.default,ensureType:(0,k.ensureType)(d.default)})],P.prototype,"itemType",void 0),(0,p._)([(0,S.property)()],P.prototype,"type",void 0),(0,p._)([(0,S.property)({constructOnly:!0})],P.prototype,"layer",void 0),(0,p._)([(0,S.property)({readOnly:!0})],P.prototype,"workerGeometryType",null),(0,p._)([(0,S.property)()],P.prototype,"sourceJSON",void 0);var F=P=(0,p._)([(0,E.subclass)("esri.layers.graphics.sources.MemorySource")],P)})),s.register("kXCh8",(function(t,r){e(t.exports,"unapplyEditsZUnitScaling",(function(){return l}));var n=s("7qybv"),i=s("5vzSQ"),a=s("eY5Yp");function o(e,t,r){var n=!0,i=!1,a=void 0,o=!0,s=!1,l=void 0;if(null==e.hasM||e.hasZ)try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;try{for(var p,d=f[Symbol.iterator]();!(n=(p=d.next()).done);n=!0){var h=p.value;h.length>2&&(h[2]*=r)}}catch(e){i=!0,a=e}finally{try{n||null==d.return||d.return()}finally{if(i)throw a}}}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}}function l(e,t,r){if((e||t)&&r){var n=(0,i.getMetersPerVerticalUnitForSR)(r);u(e,r,n),u(t,r,n)}}function u(e,t,r){var n=!0,i=!1,a=void 0;if(e)try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){c(o.value.geometry,t,r)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}function c(e,t,r){if(!(0,n.isNone)(e)&&e.spatialReference&&!(0,a.equals)(e.spatialReference,t)){var s=(0,i.getMetersPerVerticalUnitForSR)(e.spatialReference)/r;if(1!==s){var l=!0,u=!1,c=void 0;if("x"in e)null!=e.z&&(e.z*=s);else if("rings"in e)o(e,e.rings,s);else if("paths"in e)o(e,e.paths,s);else if("points"in e&&(null==e.hasM||e.hasZ))try{for(var f,p=e.points[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var d=f.value;d.length>2&&(d[2]*=s)}}catch(e){u=!0,c=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}}}}})),s.register("jy0BF",(function(t,r){e(t.exports,"APIKeyMixin",(function(){return f})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("jK9zx"),l=s("7eJjO"),u=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var c=s("fcwIv");var f=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,[{key:"apiKey",get:function(){var e;return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?null==(e=this.portalItem)?void 0:e.apiKey:null},set:function(e){null!=e?this._override("apiKey",e):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}}]),r}(e);return(0,l._)([(0,u.property)({type:String})],t.prototype,"apiKey",null),t=(0,l._)([(0,c.subclass)("esri.layers.mixins.APIKeyMixin")],t)}})),s.register("aLy89",(function(t,r){e(t.exports,"ArcGISService",(function(){return h})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("jK9zx"),l=s("7eJjO"),u=s("jHOLN"),c=s("7qybv"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p=s("fcwIv"),d=s("lmu5w"),h=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,[{key:"title",get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){var e=(0,d.parse)(this.url);if((0,c.isSome)(e)&&e.title)return e.title}return this._get("title")||""},set:function(e){this._set("title",e)}},{key:"url",set:function(e){this._set("url",(0,d.sanitizeUrl)(e,u.default.getLogger(this.declaredClass)))}}]),r}(e);return(0,l._)([(0,f.property)()],t.prototype,"title",null),(0,l._)([(0,f.property)({type:String})],t.prototype,"url",null),t=(0,l._)([(0,p.subclass)("esri.layers.mixins.ArcGISService")],t)}})),s.register("lmu5w",(function(t,r){e(t.exports,"isArcGISUrl",(function(){return d})),e(t.exports,"parse",(function(){return h})),e(t.exports,"cleanTitle",(function(){return v})),e(t.exports,"parseNonStandardSublayerUrl",(function(){return y})),e(t.exports,"titleFromUrlAndName",(function(){return m})),e(t.exports,"isHostedAgolService",(function(){return g})),e(t.exports,"sanitizeUrl",(function(){return b})),e(t.exports,"sanitizeUrlWithLayerId",(function(){return _})),e(t.exports,"writeUrlWithLayerId",(function(){return w})),e(t.exports,"isWmsServer",(function(){return x})),s("8TSCy");var n=s("iCnzh"),i=s("7qybv"),a=s("kYueh"),o=s("9ELaA"),l={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},u=Object.values(l),c=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(".concat(u.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),f=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(".concat(u.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),p=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function d(e){return!!c.test(e)}function h(e){var t=(0,a.urlToObject)(e),r=t.path.match(c)||t.path.match(f);if(!r)return null;var i=n.default(r,5),o=i[1],s=i[2],u=i[3],p=i[4],d=s.indexOf("/");return{title:v(-1!==d?s.slice(d+1):s),serverType:l[u.toLowerCase()],sublayer:null!=p&&""!==p?parseInt(p,10):null,url:{path:o}}}function y(e){var t=(0,a.urlToObject)(e).path.match(p);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function v(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function m(e,t){var r=[];if(e){var n=h(e);(0,i.isSome)(n)&&n.title&&r.push(n.title)}if(t){var a=v(t);r.push(a)}if(2===r.length){if(-1!==r[0].toLowerCase().indexOf(r[1].toLowerCase()))return r[0];if(-1!==r[1].toLowerCase().indexOf(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function g(e){if(!e)return!1;var t=-1!==(e=e.toLowerCase()).indexOf(".arcgis.com/"),r=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&r}function b(e,t){return e?(0,a.removeTrailingSlash)((0,a.removeQueryParameters)(e,t)):e}function _(e){var t=e.url;if(!t)return{url:t};t=(0,a.removeQueryParameters)(t,e.logger);var r,n=(0,a.urlToObject)(t),o=h(n.path);if((0,i.isSome)(o))null!=o.sublayer&&null==e.layer.layerId&&(r=o.sublayer),t=o.url.path;else if(e.nonStandardUrlAllowed){var s=y(n.path);(0,i.isSome)(s)&&(t=s.serviceUrl,r=s.sublayerId)}return{url:(0,a.removeTrailingSlash)(t),layerId:r}}function w(e,t,r,n,i){(0,o.w)(t,n,"url",i),n.url&&null!=e.layerId&&(n.url=(0,a.join)(n.url,r,e.layerId.toString()))}function x(e){if(!e)return!1;var t=e.toLowerCase(),r=-1!==t.indexOf("/services/"),n=-1!==t.indexOf("/mapserver/wmsserver"),i=-1!==t.indexOf("/imageserver/wmsserver"),a=-1!==t.indexOf("/wmsserver");return r&&(n||i||a)}})),s.register("gIXJ2",(function(t,r){e(t.exports,"BlendLayer",(function(){return p})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var c=s("fcwIv"),f=s("fmusr"),p=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).blendMode="normal",e.effect=null,o.default(e)}return r}(e);return(0,l._)([(0,u.property)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),(0,l._)([(0,u.property)({json:{read:!1,write:!1,origins:{"web-map":{read:{reader:f.read},write:{allowNull:!0,writer:f.write}}}}})],t.prototype,"effect",void 0),t=(0,l._)([(0,c.subclass)("esri.layers.mixins.BlendLayer")],t)}})),s.register("fmusr",(function(t,r){e(t.exports,"read",(function(){return l})),e(t.exports,"write",(function(){return u})),e(t.exports,"effectFunctionsFromJSON",(function(){return c}));var n=s("kyj08"),i=s("8EPEw"),a=s("2oxAO"),o=s("dEkJf");function l(e,t,r){try{return function(e){if(!e||0===e.length)return null;if(l=e,u=l[0],u&&"scale"in u){var t=[],r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;t.push({scale:s.scale,value:c(s.value)})}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}var l,u;return c(e)}(e)}catch(e){var n;null==r||null==(n=r.messages)||n.push(e)}return null}function u(e,t,r,n){try{var s=(l=e,(u=(0,a.parse)(l))?(0,o.isEffectFunctions)(u)?u.map((function(e){return e.toJSON()})):u.map((function(e){return{scale:e.scale,value:e.effects.map((function(e){return e.toJSON()}))}})):null);(0,i.setDeepValue)(r,s,t)}catch(e){n.messages&&n.messages.push(e)}var l,u}function c(e){if(!e||!e.length)return"";var t=[],r=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=[];switch(l.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":u=[f(l,"amount")];break;case"blur":u=[f(l,"radius","pt")];break;case"hue-rotate":u=[f(l,"angle","deg")];break;case"drop-shadow":u=[f(l,"xoffset","pt"),f(l,"yoffset","pt"),f(l,"blurRadius","pt"),p(l,"color")];break;case"bloom":u=[f(l,"strength"),f(l,"radius","pt"),f(l,"threshold")]}var c="".concat(l.type,"(").concat(u.filter(Boolean).join(" "),")");(0,a.parse)(c),t.push(c)}}catch(e){n=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}return t.join(" ")}function f(e,t,r){if(null==e[t])throw new(0,n.default)("effect:missing-parameter","Missing parameter '".concat(t,"' in ").concat(e.type," effect"),{effect:e});return r?e[t]+r:""+e[t]}function p(e,t){if(null==e[t])throw new(0,n.default)("effect:missing-parameter","Missing parameter '".concat(t,"' in ").concat(e.type," effect"),{effect:e});var r=e[t];return"rgba(".concat(r[0]||0,", ").concat(r[1]||0,", ").concat(r[2]||0,", ").concat(r[3]/255||0,")")}})),s.register("2oxAO",(function(t,r){e(t.exports,"parse",(function(){return f}));var n=s("gduH1"),i=s("kyj08"),a=s("6pgVj");s("LvnzP");var o,l,u=s("dEkJf"),c={exports:{}};function f(e){if(!e||0===e.length)return null;if("string"==typeof e){var t=p(e);return t&&0!==t.length?t:null}var r=e.map((function(e){if(!Number.isFinite(e.scale)||e.scale<=0)throw new(0,i.default)("effect:invalid-scale","scale must be finite and greater than 0",{stop:e});return{scale:e.scale,effects:p(e.value)}}));r.sort((function(e,t){return t.effects.length-e.effects.length}));for(var n=0;n<r.length-1;n++){if(!(0,u.canInterpolateEffects)(r[n].effects,r[n+1].effects))throw new(0,i.default)("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:r[n].effects,b:r[n+1].effects});(0,u.normalizeEffects)(r[n].effects,r[n+1].effects)}return r.sort((function(e,t){return t.scale-e.scale})),r}function p(e){var t;if(!e)return[];try{t=c.exports.parse(e)}catch(t){throw new(0,i.default)("effect:invalid-syntax","Invalid effect syntax",{value:e,error:t})}return t.map((function(e){return function(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return S=1,d((b=e).parameters,1),1===b.parameters.length&&(S=g(b.parameters[0])),new(0,a.ColorMatrixEffect)(b.name,S);case"opacity":return m=1,d((p=e).parameters,1),1===p.parameters.length&&(m=g(p.parameters[0])),new(0,a.OpacityEffect)(m);case"hue-rotate":return c=0,d((u=e).parameters,1),1===u.parameters.length&&(function(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=v[e.unit]))throw new(0,i.default)("effect:type-error","Expected <angle>, Actual: ".concat(h(e)),{term:e})}(f=u.parameters[0]),c=f.value*v[f.unit]||0),new(0,a.HueRotateEffect)(c);case"blur":return l=0,d((s=e).parameters,1),1===s.parameters.length&&y(l=_(s.parameters[0]),s.parameters[0]),new(0,a.BlurEffect)(l);case"drop-shadow":return function(e){var t=[],r=null,n=!0,o=!1,s=void 0;try{for(var l,u=e.parameters[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var c=l.value;if("color"===c.type){if(t.length&&Object.freeze(t),r)throw new(0,i.default)("effect:type-error","Accepts only one color",{});r=w(c)}else{var f=_(c);if(Object.isFrozen(t))throw new(0,i.default)("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(f),3===t.length&&y(f,c)}}}catch(e){o=!0,s=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw s}}if(t.length<2||t.length>3)throw new(0,i.default)("effect:type-error","Expected <length>{2,3}, Actual: <length>{".concat(t.length,"}"),{lengths:t});return new(0,a.DropShadowEffect)(t[0],t[1],t[2]||0,r||x("black"))}(e);case"bloom":return r=1,n=0,o=0,d((t=e).parameters,3),t.parameters[0]&&(r=g(t.parameters[0])),t.parameters[1]&&y(n=_(t.parameters[1]),t.parameters[1]),t.parameters[2]&&(o=g(t.parameters[2])),new(0,a.BloomEffect)(r,n,o)}}catch(t){throw t.details.filter=e,t}var t,r,n,o;var s,l;var u,c,f;var p,m;var b,S;throw new(0,i.default)("effect:unknown-effect","Effect '".concat(e.name,"' is not supported"),{effect:e})}(e)}))}function d(e,t){if(e.length>t)throw new(0,i.default)("effect:type-error","Function supports up to ".concat(t," parameters, Actual: ").concat(e.length),{parameters:e})}function h(e){if("color"===e.type)return"<color>";if(e.unit){if(m[e.unit])return"<length>";if(v[e.unit])return"<angle>";if("%"===e.unit)return"<percentage>"}return"<double>"}function y(e,t){if(e<0)throw new(0,i.default)("effect:type-error","Negative values are not allowed, Actual: ".concat(e),{term:t})}l=function(){function e(t,r,n,i){var a=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(a,e.prototype),a.expected=r,a.found=n,a.location=i,a.name="SyntaxError",a}function t(e,t,r){return r=r||" ",e.length>t?e:(t-=e.length,e+(r+=r.repeat(t)).slice(0,t))}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),e.prototype.format=function(e){var r="Error: "+this.message;if(this.location){var n,i=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){i=e[n].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,o=this.location.source+":"+a.line+":"+a.column;if(i){var s=this.location.end,l=t("",a.line.toString().length),u=i[a.line-1],c=a.line===s.line?s.column:u.length+1;r+="\n --\x3e "+o+"\n"+l+" |\n"+a.line+" | "+u+"\n"+l+" | "+t("",a.column-1)+t("",c-a.column,"^")}else r+="\n at "+o}return r},e.buildMessage=function(e,t){var r,n={literal:function(e){return'"'+a(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?o(e[0])+"-"+o(e[1]):o(e)}));return"["+(e.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function i(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+i(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+i(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+i(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+i(e)}))}function s(e){return n[e.type](e)}return"Expected "+function(e){var t,r,n=e.map(s);if(n.sort(),n.length>0){for(t=1,r=1;t<n.length;t++)n[t-1]!==n[t]&&(n[r]=n[t],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+(((r=t)?'"'+a(r)+'"':"end of input")+" found.")},{SyntaxError:e,parse:function(t,r){var n,i,a,o,s={},l=(r=void 0!==r?r:{}).grammarSource,u={start:_e},c=_e,f="none",p=",",d="px",h="cm",y="mm",v="in",m="pt",g="pc",b="deg",_="rad",w="grad",x="turn",S=/^[ \t\n\r]/,k=/^[a-z\-]/,T=/^[0-9a-fA-F]/,E=/^[+\-]/,I=/^[0-9]/,C=ve("none"),O=he("none",!1),L=he(")",!1),A=he(",",!1),M=ve("whitespace"),N=ye([" ","\t","\n","\r"],!1,!1),R=ve("function"),P=he("(",!1),F=ve("identifier"),j=ye([["a","z"],"-"],!1,!1),D=ve("percentage"),U=he("%",!1),V=ve("length"),B=he("px",!1),H=he("cm",!1),z=he("mm",!1),W=he("in",!1),G=he("pt",!1),J=he("pc",!1),q=ve("angle"),X=he("deg",!1),K=he("rad",!1),$=he("grad",!1),Y=he("turn",!1),Z=ve("number"),Q=ve("color"),ee=he("#",!1),te=ye([["0","9"],["a","f"],["A","F"]],!1,!1),re=ye(["+","-"],!1,!1),ne=ye([["0","9"]],!1,!1),ie=he(".",!1),ae=he("e",!1),oe=function(e,t){return t.length>0?[e].concat((r=3,t.map((function(e){return e[r]})))):[e];var r},se=0,le=0,ue=[{line:1,column:1}],ce=0,fe=[],pe=0;if("startRule"in r){if(!(r.startRule in u))throw new Error("Can't start parsing from rule \""+r.startRule+'".');c=u[r.startRule]}function de(){return t.substring(le,se)}function he(e,t){return{type:"literal",text:e,ignoreCase:t}}function ye(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function ve(e){return{type:"other",description:e}}function me(e){var r,n=ue[e];if(n)return n;for(r=e-1;!ue[r];)r--;for(n={line:(n=ue[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return ue[e]=n,n}function ge(e,t){var r=me(e),n=me(t);return{source:l,start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function be(e){se<ce||(se>ce&&(ce=se,fe=[]),fe.push(e))}function _e(){var e,r,n;return pe++,r=se,Se(),t.substr(se,4)===f?(n=f,se+=4):(n=s,0===pe&&be(O)),n!==s?(Se(),le=r,r=[]):(se=r,r=s),pe--,r===s&&0===pe&&be(C),(e=r)===s&&(e=function(){var e,t;if(e=[],(t=we())!==s)for(;t!==s;)e.push(t),t=we();else e=s;return e}()),e}function we(){var e,r,n,i;return e=se,Se(),(r=function(){var e,r,n;return pe++,e=se,(r=ke())!==s?(40===t.charCodeAt(se)?(n="(",se++):(n=s,0===pe&&be(P)),n!==s?(le=e,e=r):(se=e,e=s)):(se=e,e=s),pe--,e===s&&(r=s,0===pe&&be(R)),e}())!==s?(Se(),(n=function(){var e,r,n,i,a,o,l,u;if(e=se,(r=xe())!==s){for(n=[],i=se,a=Se(),44===t.charCodeAt(se)?(o=p,se++):(o=s,0===pe&&be(A)),o===s&&(o=null),l=Se(),(u=xe())!==s?i=a=[a,o,l,u]:(se=i,i=s);i!==s;)n.push(i),i=se,a=Se(),44===t.charCodeAt(se)?(o=p,se++):(o=s,0===pe&&be(A)),o===s&&(o=null),l=Se(),(u=xe())!==s?i=a=[a,o,l,u]:(se=i,i=s);le=e,e=oe(r,n)}else se=e,e=s;return e}())===s&&(n=null),Se(),41===t.charCodeAt(se)?(i=")",se++):(i=s,0===pe&&be(L)),i!==s?(Se(),le=e,e={type:"function",name:r,parameters:n||[]}):(se=e,e=s)):(se=e,e=s),e}function xe(){var e,r,n,i;return e=se,(r=function(){var e,r,n;return pe++,e=se,Se(),(r=Te())!==s?(37===t.charCodeAt(se)?(n="%",se++):(n=s,0===pe&&be(U)),n!==s?(le=e,i=r,e={value:i,unit:"%"}):(se=e,e=s)):(se=e,e=s),pe--,e===s&&0===pe&&be(D),e;var i}())===s&&(r=function(){var e,r,n;return pe++,e=se,Se(),(r=Te())!==s?(t.substr(se,2)===d?(n=d,se+=2):(n=s,0===pe&&be(B)),n!==s?(le=e,c=r,e={value:c,unit:"px"}):(se=e,e=s)):(se=e,e=s),e===s&&(e=se,Se(),(r=Te())!==s?(t.substr(se,2)===h?(n=h,se+=2):(n=s,0===pe&&be(H)),n!==s?(le=e,u=r,e={value:u,unit:"cm"}):(se=e,e=s)):(se=e,e=s),e===s&&(e=se,Se(),(r=Te())!==s?(t.substr(se,2)===y?(n=y,se+=2):(n=s,0===pe&&be(z)),n!==s?(le=e,l=r,e={value:l,unit:"mm"}):(se=e,e=s)):(se=e,e=s),e===s&&(e=se,Se(),(r=Te())!==s?(t.substr(se,2)===v?(n=v,se+=2):(n=s,0===pe&&be(W)),n!==s?(le=e,o=r,e={value:o,unit:"in"}):(se=e,e=s)):(se=e,e=s),e===s&&(e=se,Se(),(r=Te())!==s?(t.substr(se,2)===m?(n=m,se+=2):(n=s,0===pe&&be(G)),n!==s?(le=e,a=r,e={value:a,unit:"pt"}):(se=e,e=s)):(se=e,e=s),e===s&&(e=se,Se(),(r=Te())!==s?(t.substr(se,2)===g?(n=g,se+=2):(n=s,0===pe&&be(J)),n!==s?(le=e,i=r,e={value:i,unit:"pc"}):(se=e,e=s)):(se=e,e=s)))))),pe--,e===s&&0===pe&&be(V),e;var i;var a;var o;var l;var u;var c}())===s&&(r=function(){var e,r,n;return pe++,e=se,(r=Te())!==s?(t.substr(se,3)===b?(n=b,se+=3):(n=s,0===pe&&be(X)),n!==s?(le=e,l=r,e={value:l,unit:"deg"}):(se=e,e=s)):(se=e,e=s),e===s&&(e=se,(r=Te())!==s?(t.substr(se,3)===_?(n=_,se+=3):(n=s,0===pe&&be(K)),n!==s?(le=e,o=r,e={value:o,unit:"rad"}):(se=e,e=s)):(se=e,e=s),e===s&&(e=se,(r=Te())!==s?(t.substr(se,4)===w?(n=w,se+=4):(n=s,0===pe&&be($)),n!==s?(le=e,a=r,e={value:a,unit:"grad"}):(se=e,e=s)):(se=e,e=s),e===s&&(e=se,(r=Te())!==s?(t.substr(se,4)===x?(n=x,se+=4):(n=s,0===pe&&be(Y)),n!==s?(le=e,i=r,e={value:i,unit:"turn"}):(se=e,e=s)):(se=e,e=s)))),pe--,e===s&&(r=s,0===pe&&be(q)),e;var i;var a;var o;var l}())===s&&(r=function(){var e,t;return pe++,e=se,Se(),(t=Te())!==s?(le=e,r=t,e={value:r,unit:null}):(se=e,e=s),pe--,e===s&&0===pe&&be(Z),e;var r}()),r!==s&&(le=e,r={type:"quantity",value:(i=r).value,unit:i.unit}),(e=r)===s&&(e=se,(r=function(){var e,r,n,i;if(pe++,e=se,35===t.charCodeAt(se)?(r="#",se++):(r=s,0===pe&&be(ee)),r!==s){if(n=[],T.test(t.charAt(se))?(i=t.charAt(se),se++):(i=s,0===pe&&be(te)),i!==s)for(;i!==s;)n.push(i),T.test(t.charAt(se))?(i=t.charAt(se),se++):(i=s,0===pe&&be(te));else n=s;n!==s?(le=e,e={type:"hex",value:de()}):(se=e,e=s)}else se=e,e=s;return e===s&&(e=se,(r=we())!==s&&(le=e,a=r,r={type:"function",value:a}),(e=r)===s&&(e=se,(r=ke())!==s&&(le=e,r={type:"named",value:de()}),e=r)),pe--,e===s&&(r=s,0===pe&&be(Q)),e;var a}())!==s&&(le=e,r={type:"color",colorType:(n=r).type,value:n.value}),e=r),e}function Se(){var e,r;for(pe++,e=[],S.test(t.charAt(se))?(r=t.charAt(se),se++):(r=s,0===pe&&be(N));r!==s;)e.push(r),S.test(t.charAt(se))?(r=t.charAt(se),se++):(r=s,0===pe&&be(N));return pe--,r=s,0===pe&&be(M),e}function ke(){var e,r,n;if(pe++,e=se,r=[],k.test(t.charAt(se))?(n=t.charAt(se),se++):(n=s,0===pe&&be(j)),n!==s)for(;n!==s;)r.push(n),k.test(t.charAt(se))?(n=t.charAt(se),se++):(n=s,0===pe&&be(j));else r=s;return r!==s&&(le=e,r=de()),pe--,(e=r)===s&&(r=s,0===pe&&be(F)),e}function Te(){var e,r,n,i,a,o,l;for(e=se,E.test(t.charAt(se))?(t.charAt(se),se++):0===pe&&be(re),r=se,n=[],I.test(t.charAt(se))?(i=t.charAt(se),se++):(i=s,0===pe&&be(ne));i!==s;)n.push(i),I.test(t.charAt(se))?(i=t.charAt(se),se++):(i=s,0===pe&&be(ne));if(46===t.charCodeAt(se)?(i=".",se++):(i=s,0===pe&&be(ie)),i!==s){if(a=[],I.test(t.charAt(se))?(o=t.charAt(se),se++):(o=s,0===pe&&be(ne)),o!==s)for(;o!==s;)a.push(o),I.test(t.charAt(se))?(o=t.charAt(se),se++):(o=s,0===pe&&be(ne));else a=s;a!==s?r=n=[n,i,a]:(se=r,r=s)}else se=r,r=s;if(r===s)if(r=[],I.test(t.charAt(se))?(n=t.charAt(se),se++):(n=s,0===pe&&be(ne)),n!==s)for(;n!==s;)r.push(n),I.test(t.charAt(se))?(n=t.charAt(se),se++):(n=s,0===pe&&be(ne));else r=s;if(r!==s){if(n=se,101===t.charCodeAt(se)?(i="e",se++):(i=s,0===pe&&be(ae)),i!==s){if(E.test(t.charAt(se))?(a=t.charAt(se),se++):(a=s,0===pe&&be(re)),a===s&&(a=null),o=[],I.test(t.charAt(se))?(l=t.charAt(se),se++):(l=s,0===pe&&be(ne)),l!==s)for(;l!==s;)o.push(l),I.test(t.charAt(se))?(l=t.charAt(se),se++):(l=s,0===pe&&be(ne));else o=s;o!==s?n=i=[i,a,o]:(se=n,n=s)}else se=n,n=s;n===s&&(n=null),le=e,e=parseFloat(de())}else se=e,e=s;return e}if((n=c())!==s&&se===t.length)return n;throw n!==s&&se<t.length&&be({type:"end"}),i=fe,a=ce<t.length?t.charAt(ce):null,o=ce<t.length?ge(ce,ce+1):ge(ce,ce),new e(e.buildMessage(i,a),i,a,o)}}},(o=c).exports&&(o.exports=l());var v={deg:1,grad:.9,rad:180/Math.PI,turn:360};var m={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function g(e){!function(e){if("quantity"!==e.type||null!==e.unit&&"%"!==e.unit)throw new(0,i.default)("effect:type-error","Expected <double> or <percentage>, Actual: ".concat(h(e)),{term:e})}(e);var t=e.value;return y(t,e),"%"===e.unit?.01*t:t}function b(e){return function(e){if("quantity"!==e.type||null!==e.unit)throw new(0,i.default)("effect:type-error","Expected <double>, Actual: ".concat(h(e)),{term:e})}(e),y(e.value,e),e.value}function _(e){return function(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=m[e.unit]))throw new(0,i.default)("effect:type-error","Expected <length>, Actual: ".concat(h(e)),{term:e})}(e),e.value*m[e.unit]||0}function w(e){switch(e.colorType){case"hex":return(0,n.hex2rgba)(e.value);case"named":return x(e.value);case"function":return function(e){if(d(e.parameters,4),S.test(e.name))return[g(e.parameters[0]),g(e.parameters[1]),g(e.parameters[2]),e.parameters[3]?g(e.parameters[3]):1];if(k.test(e.name))return(0,n.hsla2rgba)(b(e.parameters[0]),g(e.parameters[1]),g(e.parameters[2]),e.parameters[3]?g(e.parameters[3]):1);throw new(0,i.default)("effect:syntax-error","Invalid color function '".concat(e.name,"'"),{colorFunction:e})}(e.value)}}function x(e){if(!(0,n.isNamedColor)(e))throw new(0,i.default)("effect:unknown-color","color '".concat(e,"' isn't valid"),{namedColor:e});return(0,n.getNamedColorCopy)(e)}var S=/^rgba?/i,k=/^hsla?/i})),s.register("6pgVj",(function(t,r){e(t.exports,"BloomEffect",(function(){return f})),e(t.exports,"BlurEffect",(function(){return p})),e(t.exports,"ColorMatrixEffect",(function(){return d})),e(t.exports,"DropShadowEffect",(function(){return h})),e(t.exports,"HueRotateEffect",(function(){return y})),e(t.exports,"OpacityEffect",(function(){return v})),e(t.exports,"createEffectWithInitialValues",(function(){return b})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("5Vgx8"),o=s("gduH1"),l=s("iXlXu"),u=s("8vPdX"),c=s("7Hhuj");var f=function(){"use strict";function e(t,r,i){n.default(this,e),this.strength=t,this.radius=r,this.threshold=i,this.type="bloom"}return i.default(e,[{key:"interpolate",value:function(e,t,r){this.strength=m(e.strength,t.strength,r),this.radius=m(e.radius,t.radius,r),this.threshold=m(e.threshold,t.threshold,r)}},{key:"clone",value:function(){return new e(this.strength,this.radius,this.threshold)}},{key:"toJSON",value:function(){return{type:"bloom",radius:g(this.radius),strength:this.strength,threshold:this.threshold}}}]),e}(),p=function(){"use strict";function e(t){n.default(this,e),this.radius=t,this.type="blur"}return i.default(e,[{key:"interpolate",value:function(e,t,r){this.radius=Math.round(m(e.radius,t.radius,r))}},{key:"clone",value:function(){return new e(this.radius)}},{key:"toJSON",value:function(){return{type:"blur",radius:g(this.radius)}}}]),e}(),d=function(){"use strict";function e(t,r){n.default(this,e),this.type=t,this.amount=r,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}return i.default(e,[{key:"colorMatrix",get:function(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}},{key:"interpolate",value:function(e,t,r){this.amount=m(e.amount,t.amount,r),this._updateMatrix()}},{key:"clone",value:function(){return new e(this.type,this.amount)}},{key:"toJSON",value:function(){return{type:this.type,amount:this.amount}}},{key:"_updateMatrix",value:function(){var e=this._colorMatrix||(0,u.c)();switch(this.type){case"brightness":this._colorMatrix=(0,c.brightness)(e,this.amount);break;case"contrast":this._colorMatrix=(0,c.contrast)(e,this.amount);break;case"grayscale":this._colorMatrix=(0,c.grayscale)(e,this.amount);break;case"invert":this._colorMatrix=(0,c.invert)(e,this.amount);break;case"saturate":this._colorMatrix=(0,c.saturate)(e,this.amount);break;case"sepia":this._colorMatrix=(0,c.sepia)(e,this.amount)}}}]),e}(),h=function(){"use strict";function e(t,r,i,a){n.default(this,e),this.offsetX=t,this.offsetY=r,this.blurRadius=i,this.color=a,this.type="drop-shadow"}return i.default(e,[{key:"interpolate",value:function(e,t,r){this.offsetX=m(e.offsetX,t.offsetX,r),this.offsetY=m(e.offsetY,t.offsetY,r),this.blurRadius=m(e.blurRadius,t.blurRadius,r),this.color[0]=Math.round(m(e.color[0],t.color[0],r)),this.color[1]=Math.round(m(e.color[1],t.color[1],r)),this.color[2]=Math.round(m(e.color[2],t.color[2],r)),this.color[3]=m(e.color[3],t.color[3],r)}},{key:"clone",value:function(){return new e(this.offsetX,this.offsetY,this.blurRadius,a.default(this.color))}},{key:"toJSON",value:function(){var e=a.default(this.color);return e[3]*=255,{type:"drop-shadow",xoffset:g(this.offsetX),yoffset:g(this.offsetY),blurRadius:g(this.blurRadius),color:e}}}]),e}(),y=function(){"use strict";function e(t){n.default(this,e),this.angle=t,this.type="hue-rotate"}return i.default(e,[{key:"colorMatrix",get:function(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}},{key:"interpolate",value:function(e,t,r){this.angle=m(e.angle,t.angle,r),this._updateMatrix()}},{key:"clone",value:function(){return new e(this.angle)}},{key:"toJSON",value:function(){return{type:"hue-rotate",angle:this.angle}}},{key:"_updateMatrix",value:function(){var e=this._colorMatrix||(0,u.c)();this._colorMatrix=(0,c.rotateHue)(e,this.angle)}}]),e}(),v=function(){"use strict";function e(t){n.default(this,e),this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}return i.default(e,[{key:"interpolate",value:function(e,t,r){this.amount=m(e.amount,t.amount,r)}},{key:"clone",value:function(){return new e(this.amount)}},{key:"toJSON",value:function(){return{type:"opacity",amount:this.amount}}}]),e}();function m(e,t,r){return e+(t-e)*r}function g(e){return Math.round(1e3*(0,l.px2pt)(e))/1e3}function b(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new d(e.type,0);case"saturate":case"brightness":case"contrast":return new d(e.type,1);case"opacity":return new v(1);case"hue-rotate":return new y(0);case"blur":return new p(0);case"drop-shadow":return new h(0,0,0,a.default((0,o.getNamedColor)("transparent")));case"bloom":return new f(0,0,1)}}})),s.register("8vPdX",(function(t,r){function n(){var e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}e(t.exports,"c",(function(){return n}));var i=n();Object.freeze({__proto__:null,create:n,clone:function(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},fromValues:function(e,t,r,n,i,a,o,s,l,u,c,f,p,d,h,y){var v=new Float32Array(16);return v[0]=e,v[1]=t,v[2]=r,v[3]=n,v[4]=i,v[5]=a,v[6]=o,v[7]=s,v[8]=l,v[9]=u,v[10]=c,v[11]=f,v[12]=p,v[13]=d,v[14]=h,v[15]=y,v},createView:function(e,t){return new Float32Array(e,t,16)},IDENTITY:i})})),s.register("7Hhuj",(function(t,r){e(t.exports,"brightness",(function(){return i})),e(t.exports,"contrast",(function(){return a})),e(t.exports,"grayscale",(function(){return o})),e(t.exports,"rotateHue",(function(){return l})),e(t.exports,"invert",(function(){return u})),e(t.exports,"saturate",(function(){return c})),e(t.exports,"sepia",(function(){return f}));var n=s("gEEzE"),i=function(e,t){var r=(0,n.s)(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return(0,n.t)(r,r)},a=function(e,t){var r=(0,n.s)(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return(0,n.t)(r,r)},o=function(e,t){var r=1-t,i=(0,n.s)(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return(0,n.t)(i,i)},l=function(e,t){var r=Math.sin(t*Math.PI/180),i=Math.cos(t*Math.PI/180),a=(0,n.s)(e,.213+.787*i-.213*r,.715-.715*i-.715*r,.072-.072*i+.928*r,0,.213-.213*i+.143*r,.715+.285*i+.14*r,.072-.072*i-.283*r,0,.213-.213*i-.787*r,.715-.715*i+.715*r,.072+.928*i+.072*r,0,0,0,0,1);return(0,n.t)(a,a)},u=function(e,t){var r=1-2*t,i=(0,n.s)(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return(0,n.t)(i,i)},c=function(e,t){var r=(0,n.s)(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return(0,n.t)(r,r)},f=function(e,t){var r=1-t,i=(0,n.s)(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return(0,n.t)(i,i)}})),s.register("LvnzP",(function(r,n){e(r.exports,"c",(function(){return i})),e(r.exports,"g",(function(){return a})),e(r.exports,"a",(function(){return o}));var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}})),s.register("dEkJf",(function(t,r){e(t.exports,"canInterpolateEffects",(function(){return i})),e(t.exports,"normalizeEffects",(function(){return a})),e(t.exports,"isEffectFunctions",(function(){return o}));var n=s("6pgVj");function i(e,t){var r=e.length>t.length?e:t;return(e.length>t.length?t:e).every((function(e,t){return e.type===r[t].type}))}function a(e,t){for(var r=e.length>t.length?e:t,i=e.length>t.length?t:e,a=i.length;a<r.length;a++)i.push((0,n.createEffectWithInitialValues)(r[a]))}function o(e){var t=e[0];return!!t&&"type"in t}})),s.register("cv2jJ",(function(t,r){e(t.exports,"CustomParametersMixin",(function(){return f})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var c=s("fcwIv"),f=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).customParameters=null,o.default(e)}return r}(e);return(0,l._)([(0,u.property)({type:Object,json:{write:{overridePolicy:function(e){return{enabled:!!(e&&Object.keys(e).length>0)}}}}})],t.prototype,"customParameters",void 0),t=(0,l._)([(0,c.subclass)("esri.layers.mixins.CustomParametersMixin")],t)}})),s.register("6bOVn",(function(t,r){e(t.exports,"FeatureEffectLayer",(function(){return p})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var c=s("fcwIv"),f=s("ejjI5"),p=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).featureEffect=null,o.default(e)}return r}(e);return(0,l._)([(0,u.property)({type:f.default,json:{origins:{"web-map":{write:{allowNull:!0}}}}})],t.prototype,"featureEffect",void 0),t=(0,l._)([(0,c.subclass)("esri.layers.mixins.FeatureEffectLayer")],t)}})),s.register("ejjI5",(function(t,r){e(t.exports,"default",(function(){return x})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("8atho"),c=s("aNpz9"),f=s("7eJjO"),p=s("kyj08"),d=s("1XAcN"),h=s("7qybv"),y=s("8EPEw"),v=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var m,g=s("fcwIv"),b=s("fmusr"),_=s("krMu9"),w=m=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).filter=null,n.includedEffect=null,n.excludedEffect=null,n.excludedLabelsVisible=!1,o.default(n)}return l.default(r,[{key:"write",value:function(e,t){var n=u.default(c.default(r.prototype),"write",this).call(this,e,t);if(null!=t&&t.origin){if(n.filter){var i,a=Object.keys(n.filter);if(a.length>1||"where"!==a[0])return null==(i=t.messages)||i.push(new(0,p.default)("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}var o;if("showExcludedLabels"in n)return null==(o=t.messages)||o.push(new(0,p.default)("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return n}},{key:"clone",value:function(){return new m({filter:(0,h.isSome)(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}}]),r}(d.JSONSupport);(0,f._)([(0,v.property)({type:_.default,json:{write:{allowNull:!0,writer:function(e,t,r,n){var i=null==e?void 0:e.write({},n);i&&0!==Object.keys(i).length?(0,y.setDeepValue)(r,i,t):(0,y.setDeepValue)(r,null,t)}}}})],w.prototype,"filter",void 0),(0,f._)([(0,v.property)({json:{write:!0,origins:{"web-map":{read:{reader:b.read},write:{writer:b.write,overridePolicy:function(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}}}}})],w.prototype,"includedEffect",void 0),(0,f._)([(0,v.property)({json:{write:!0,origins:{"web-map":{read:{reader:b.read},write:{writer:b.write,overridePolicy:function(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}}}}})],w.prototype,"excludedEffect",void 0),(0,f._)([(0,v.property)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":{name:"showExcludedLabels",default:!0}}}})],w.prototype,"excludedLabelsVisible",void 0);var x=w=m=(0,f._)([(0,g.subclass)("esri.layers.support.FeatureEffect")],w)})),s.register("krMu9",(function(t,r){e(t.exports,"default",(function(){return k})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("ifq4M"),c=s("7eJjO"),f=s("2ILM8"),p=s("9DeZf"),d=s("79ASa"),h=s("1XAcN"),y=s("flPLJ"),v=s("7qybv"),m=s("iho5X");s("iJAIC");var g,b=s("fcwIv"),_=s("cRlei"),w=new(0,d.JSONMap)({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),x=new(0,d.JSONMap)({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),S=g=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).where=null,n.geometry=null,n.spatialRelationship="intersects",n.distance=void 0,n.objectIds=null,n.units=null,n.timeExtent=null,o.default(n)}return l.default(r,[{key:"createQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,r=t.where,n=t.geometry,i=t.spatialRelationship,a=t.timeExtent,o=t.objectIds,s=t.units,l=t.distance;return new(0,_.default)(u.default({geometry:(0,y.clone)(n),objectIds:(0,y.clone)(o),spatialRelationship:i,timeExtent:(0,y.clone)(a),where:r,units:s,distance:l},e))}},{key:"clone",value:function(){var e=this,t=e.where,r=e.geometry,n=e.spatialRelationship,i=e.timeExtent,a=e.objectIds,o=e.units,s=e.distance;return new g({geometry:(0,y.clone)(r),objectIds:(0,y.clone)(a),spatialRelationship:n,timeExtent:(0,y.clone)(i),where:t,units:o,distance:s})}}]),r}(h.JSONSupport);(0,c._)([(0,m.property)({type:String,json:{write:!0}})],S.prototype,"where",void 0),(0,c._)([(0,m.property)({types:f.geometryTypes,json:{write:!0}})],S.prototype,"geometry",void 0),(0,c._)([(0,m.property)({type:w.apiValues,json:{name:"spatialRel",read:{reader:w.read},write:{allowNull:!1,writer:w.write,overridePolicy:function(){return{enabled:(0,v.isSome)(this.geometry)}}}}})],S.prototype,"spatialRelationship",void 0),(0,c._)([(0,m.property)({type:Number,json:{write:{overridePolicy:function(e){return{enabled:null!=e&&null!=this.geometry}}}}})],S.prototype,"distance",void 0),(0,c._)([(0,m.property)({type:[Number],json:{write:!0}})],S.prototype,"objectIds",void 0),(0,c._)([(0,m.property)({type:x.apiValues,json:{read:x.read,write:{writer:x.write,overridePolicy:function(e){return{enabled:null!=e&&null!=this.geometry}}}}})],S.prototype,"units",void 0),(0,c._)([(0,m.property)({type:p.default,json:{write:!0}})],S.prototype,"timeExtent",void 0);var k=S=g=(0,c._)([(0,b.subclass)("esri.layers.support.FeatureFilter")],S)})),s.register("5N5S1",(function(t,r){e(t.exports,"OperationalLayer",(function(){return x})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("8atho"),c=s("aNpz9"),f=s("ifq4M"),p=s("7eJjO"),d=s("kyj08"),h=s("kYueh"),y=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var v=s("fcwIv"),m=s("kced1"),g=s("6MSKz"),b=s("3L2OJ"),_=s("dBcRG"),w=s("gRgX5"),x=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).title=null,o.default(e)}return l.default(r,[{key:"writeListMode",value:function(e,t,r,n){(n&&"ground"===n.layerContainerType||e&&(0,b.willPropertyWrite)(this,r,{},n))&&(t[r]=e)}},{key:"writeOperationalLayerType",value:function(e,t,r,n){!e||n&&"tables"===n.layerContainerType||(t.layerType=e)}},{key:"writeTitle",value:function(e,t){t.title=e||"Layer"}},{key:"read",value:function(e,t){var n=this;t&&(t.layer=this),(0,g.readLoadable)(this,e,(function(t){return u.default(c.default(r.prototype),"read",n).call(n,e,t)}),t)}},{key:"write",value:function(e,t){if(null!=t&&t.origin){var n,i="".concat(t.origin,"/").concat(t.layerContainerType||"operational-layers"),a=_.supportedTypes[i],o=a&&a[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===i&&(o=!1),!o)return null==(n=t.messages)||n.push(new(0,d.default)("layer:unsupported","Layers (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' are not supported in the context of '").concat(i,"'"),{layer:this})),null}var s,l=u.default(c.default(r.prototype),"write",this).call(this,e,f.default({},t,{layer:this})),p=!!t&&!!t.messages&&!!t.messages.filter((function(e){return e instanceof d.default&&"web-document-write:property-required"===e.name})).length;return(0,h.isBlobProtocol)(null==l?void 0:l.url)?(null==t||null==(s=t.messages)||s.push(new(0,d.default)("layer:invalid-url","Layer (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' using a Blob URL cannot be written to web scenes and web maps"),{layer:this})),null):!this.url&&p?null:l}},{key:"beforeSave",value:function(){}}]),r}(e);return(0,p._)([(0,y.property)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),(0,p._)([(0,y.property)({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],t.prototype,"listMode",void 0),(0,p._)([(0,m.writer)("listMode")],t.prototype,"writeListMode",null),(0,p._)([(0,y.property)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),(0,p._)([(0,m.writer)("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),(0,p._)([(0,y.property)(w.opacity)],t.prototype,"opacity",void 0),(0,p._)([(0,y.property)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),(0,p._)([(0,m.writer)("title")],t.prototype,"writeTitle",null),(0,p._)([(0,y.property)({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=(0,p._)([(0,v.subclass)("esri.layers.mixins.OperationalLayer")],t)}})),s.register("dBcRG",(function(t,r){e(t.exports,"supportedTypes",(function(){return n}));var n={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}}})),s.register("gRgX5",(function(t,r){e(t.exports,"screenSizePerspectiveEnabled",(function(){return p})),e(t.exports,"popupEnabled",(function(){return d})),e(t.exports,"labelsVisible",(function(){return h})),e(t.exports,"url",(function(){return y})),e(t.exports,"legendEnabled",(function(){return v})),e(t.exports,"elevationInfo",(function(){return m})),e(t.exports,"readOnlyService",(function(){return g})),e(t.exports,"opacity",(function(){return b})),e(t.exports,"opacityDrawingInfo",(function(){return _})),e(t.exports,"combinedViewLayerTimeExtentProperty",(function(){return w})),e(t.exports,"sceneLayerFullExtent",(function(){return x})),e(t.exports,"id",(function(){return S})),e(t.exports,"minScale",(function(){return k})),e(t.exports,"maxScale",(function(){return T})),s("8TSCy");var n=s("ifq4M"),i=s("9DeZf"),a=s("gINRd"),o=s("j40xv"),l=s("9ELaA"),u=s("6eZ2w"),c=s("h5vCg"),f=s("7gqUJ"),p={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},d={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:function(e,t){return!t.disablePopup}},write:{enabled:!0,writer:function(e,t,r){t[r]=!e}}}},h={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},y={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:l.w}}},v={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},m={value:null,type:c.default,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function g(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}var b={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},_=n.default({},b,{json:n.default({},b.json,{origins:{"web-document":n.default({},b.json.origins["web-document"],{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:function(e,t,r){return r&&"service"!==r.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition&&t.layerDefinition.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?(0,f.transparencyToOpacity)(t.layerDefinition.drawingInfo.transparency):void 0:(0,f.transparencyToOpacity)(t.drawingInfo.transparency)}}})}),w={type:i.default,readOnly:!0,get:function(){var e,t;if(null==(e=this.layer)||!e.timeInfo)return null;var r=this.layer,n=r.datesInUnknownTimezone,i=r.timeOffset,a=r.useViewTime,o=null==(t=this.view)?void 0:t.timeExtent,s=this.layer.timeExtent;n&&(s=(0,u.toLocalTimeExtent)(s));var l=a?o&&s?o.intersection(s):o||s:s;if(!l||l.isEmpty||l.isAllTime)return l;i&&(l=l.offset(-i.value,i.unit)),n&&(l=(0,u.toUTCTimeExtent)(l));var c=this._get("timeExtent");return l.equals(c)?c:l}},x={type:a.default,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:function(e,t){var r=a.default.fromJSON(e);return null!=t.spatialReference&&"object"==typeof t.spatialReference&&(r.spatialReference=o.default.fromJSON(t.spatialReference)),r}}}},read:!1}},S={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},k={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},T={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}}})),s.register("6eZ2w",(function(t,r){e(t.exports,"toUTCTimeExtent",(function(){return o})),e(t.exports,"toLocalTimeExtent",(function(){return l})),s("8TSCy");s("jcnGU"),s("2TvXO");var n=s("9DeZf"),i=s("7qybv"),a=(s("10vEZ"),s("l0evm"));function o(e){if(!e)return e;var t=e.start,r=e.end;return new(0,n.default)({start:(0,i.isSome)(t)?(0,a.offsetDate)(t,-t.getTimezoneOffset(),"minutes"):t,end:(0,i.isSome)(r)?(0,a.offsetDate)(r,-r.getTimezoneOffset(),"minutes"):r})}function l(e){if(!e)return e;var t=e.start,r=e.end;return new(0,n.default)({start:(0,i.isSome)(t)?(0,a.offsetDate)(t,t.getTimezoneOffset(),"minutes"):t,end:(0,i.isSome)(r)?(0,a.offsetDate)(r,r.getTimezoneOffset(),"minutes"):r})}})),s.register("h5vCg",(function(t,r){e(t.exports,"default",(function(){return T})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("8atho"),c=s("aNpz9"),f=s("7eJjO"),p=s("79ASa"),d=s("1XAcN"),h=s("7qybv"),y=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var v,m=s("eB8sj"),g=s("fcwIv"),b=s("kced1"),_=s("kZcQT"),w=s("dspmW"),x=(0,p.strict)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),S=new(0,p.JSONMap)({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"}),k=v=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).offset=null,o.default(e)}return l.default(r,[{key:"readFeatureExpressionInfo",value:function(e,t){return null!=e?e:t.featureExpression&&0===t.featureExpression.value?{expression:"0"}:void 0}},{key:"writeFeatureExpressionInfo",value:function(e,t,r,n){t[r]=e.write({},n),"0"===e.expression&&(t.featureExpression={value:0})}},{key:"mode",get:function(){var e=this.offset,t=this.featureExpressionInfo;return this._isOverridden("mode")?this._get("mode"):(0,h.isSome)(e)||t?"relative-to-ground":"on-the-ground"},set:function(e){this._override("mode",e)}},{key:"unit",set:function(e){this._set("unit",e)}},{key:"write",value:function(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?u.default(c.default(r.prototype),"write",this).call(this,e,t):null}},{key:"clone",value:function(){return new v({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}}]),r}(d.JSONSupport);(0,f._)([(0,y.property)({type:_.default,json:{write:!0}})],k.prototype,"featureExpressionInfo",void 0),(0,f._)([(0,m.reader)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],k.prototype,"readFeatureExpressionInfo",null),(0,f._)([(0,b.writer)("featureExpressionInfo",{featureExpressionInfo:{type:_.default},"featureExpression.value":{type:[0]}})],k.prototype,"writeFeatureExpressionInfo",null),(0,f._)([(0,y.property)({type:x.apiValues,nonNullable:!0,json:{type:x.jsonValues,read:x.read,write:{writer:x.write,isRequired:!0}}})],k.prototype,"mode",null),(0,f._)([(0,y.property)({type:Number,json:{write:!0}})],k.prototype,"offset",void 0),(0,f._)([(0,y.property)({type:w.supportedUnits,json:{type:String,read:S.read,write:S.write}})],k.prototype,"unit",null);var T=k=v=(0,f._)([(0,g.subclass)("esri.layers.support.ElevationInfo")],k)})),s.register("kZcQT",(function(t,r){e(t.exports,"default",(function(){return g})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("jK9zx"),u=s("jcnGU"),c=s("2TvXO"),f=s("7eJjO"),p=s("1XAcN"),d=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var h,y=s("fcwIv"),v=s("7vTUY"),m=h=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(){return o.default(this,r),t.apply(this,arguments)}return l.default(r,[{key:"collectRequiredFields",value:function(e,t){var r=this;return u.default(n(c).mark((function i(){return n(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,v.collectArcadeFieldNames)(e,t,r.expression));case 1:case"end":return n.stop()}}),i)})))()}},{key:"clone",value:function(){return new h({expression:this.expression,title:this.title})}}]),r}(p.JSONSupport);(0,f._)([(0,d.property)({type:String,json:{write:!0}})],m.prototype,"expression",void 0),(0,f._)([(0,d.property)({type:String,json:{write:!0}})],m.prototype,"title",void 0);var g=m=h=(0,f._)([(0,y.subclass)("esri.layers.support.FeatureExpressionInfo")],m)})),s.register("dspmW",(function(t,r){e(t.exports,"supportedUnits",(function(){return a}));var n=s("2JxK9");var i,a=((i=Object.keys(n.meterIn)).sort(),i)})),s.register("gkEnw",(function(t,r){e(t.exports,"OrderedLayer",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("8EPEw"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f=s("fcwIv"),p=s("lKCI8");function d(e,t,r){if(!e)return null;var n=e.find((function(e){return!!e.field}));if(!n)return null;var i=new(0,p.default);return i.read(n,r),[i]}function h(e,t,r,n){var i=e.find((function(e){return!!e.field}));i&&(0,u.setDeepValue)(r,[i.toJSON()],t)}var y=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).orderBy=null,o.default(e)}return r}(e);return(0,l._)([(0,c.property)({type:[p.default],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:d},write:{target:"layerDefinition.orderBy",writer:h}}})],t.prototype,"orderBy",void 0),t=(0,l._)([(0,f.subclass)("esri.layers.mixins.OrderedLayer")],t)}})),s.register("lKCI8",(function(t,r){e(t.exports,"default",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("79ASa"),f=s("1XAcN"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d,h=s("fcwIv"),y=new(0,c.JSONMap)({asc:"ascending",desc:"descending"}),v=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).field=null,n.valueExpression=null,n.order="ascending",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new d({field:this.field,valueExpression:this.valueExpression,order:this.order})}}]),r}(f.JSONSupport);(0,u._)([(0,p.property)({type:String,json:{write:!0}})],v.prototype,"field",void 0),(0,u._)([(0,p.property)({type:String,json:{write:!0}})],v.prototype,"valueExpression",void 0),(0,u._)([(0,p.property)({type:y.apiValues,json:{read:y.read,write:y.write}})],v.prototype,"order",void 0);var m=v=d=(0,u._)([(0,h.subclass)("esri.layers.support.OrderByInfo")],v)})),s.register("9bAYR",(function(t,r){e(t.exports,"PortalLayer",(function(){return M})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("jcnGU"),f=s("8atho"),p=s("aNpz9"),d=s("ifq4M"),h=s("2TvXO"),y=s("7eJjO"),v=s("dLARP"),m=s("9pNSx"),g=s("dqkq5"),b=s("kyj08"),_=s("jHOLN"),w=s("7qybv"),x=s("10vEZ"),S=s("kYueh"),k=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var T=s("eB8sj"),E=s("fcwIv"),I=s("kced1"),C=s("ajJOT"),O=s("iYaGG"),L=s("kthBz"),A=_.default.getLogger("esri.layers.mixins.PortalLayer"),M=function(e){var t=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(){var e;return o.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).resourceReferences={portalItem:null,paths:[]},e.userHasEditingPrivileges=!0,l.default(e)}return u.default(r,[{key:"destroy",value:function(){var e;null==(e=this.portalItem)||e.destroy(),this.portalItem=null}},{key:"portalItem",set:function(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}},{key:"readPortalItem",value:function(e,t,r){if(t.itemId)return new(0,O.default)({id:t.itemId,portal:r&&r.portal})}},{key:"writePortalItem",value:function(e,t){e&&e.id&&(t.itemId=e.id)}},{key:"loadFromPortal",value:function(e,t){var r=this;return c.default(n(h).mark((function i(){var a;return n(h).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.portalItem||!r.portalItem.id){n.next=14;break}return n.prev=1,n.next=4,s("8weln");case 4:return a=n.sent,(0,x.throwIfAborted)(t),n.next=8,a.load({instance:r,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData},t);case 8:return n.abrupt("return",n.sent);case 11:throw n.prev=11,n.t0=n.catch(1),(0,x.isAbortError)(n.t0)||A.warn("Failed to load layer (".concat(r.title,", ").concat(r.id,") portal item (").concat(r.portalItem.id,")\n  ").concat(n.t0)),n.t0;case 14:case"end":return n.stop()}}),i,null,[[1,11]])})))()}},{key:"finishLoadEditablePortalLayer",value:function(e){var t=this;return c.default(n(h).mark((function r(){return n(h).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=t,r.next=3,t._fetchUserHasEditingPrivileges(e).catch((function(e){return(0,x.throwIfAbortError)(e),!0}));case 3:r.t1=r.sent,r.t0._set.call(r.t0,"userHasEditingPrivileges",r.t1);case 5:case"end":return r.stop()}}),r)})))()}},{key:"_fetchUserHasEditingPrivileges",value:function(e){var t=this;return c.default(n(h).mark((function r(){var i,a;return n(h).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t.url?null==v.id?void 0:v.id.findCredential(t.url):null){r.next=3;break}return r.abrupt("return",!0);case 3:if(N.credential!==i){r.next=7;break}r.t0=N.user,r.next=10;break;case 7:return r.next=9,t._fetchEditingUser(e);case 9:r.t0=r.sent;case 10:return a=r.t0,r.abrupt("return",(N.credential=i,N.user=a,(0,w.isNone)(a)||null==a.privileges||a.privileges.includes("features:user:edit")));case 12:case"end":return r.stop()}}),r)})))()}},{key:"_fetchEditingUser",value:function(e){var t=this;return c.default(n(h).mark((function r(){var i,a,o,s,l,u,c,f,p;return n(h).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(o=null==(i=t.portalItem)||null==(a=i.portal)?void 0:a.user)){r.next=4;break}return r.abrupt("return",o);case 4:if(null!=(s=v.id.findServerInfo(t.url))&&s.owningSystemUrl){r.next=7;break}return r.abrupt("return",null);case 7:if(l="".concat(s.owningSystemUrl,"/sharing/rest"),!(u=C.default.getDefault())||!u.loaded||(0,S.normalize)(u.restUrl)!==(0,S.normalize)(l)){r.next=10;break}return r.abrupt("return",u.user);case 10:return c="".concat(l,"/community/self"),f=(0,w.isSome)(e)?e.signal:null,r.next=14,(0,g.result)((0,m.default)(c,{authMode:"no-prompt",query:{f:"json"},signal:f}));case 14:return p=r.sent,r.abrupt("return",p.ok?L.default.fromJSON(p.value.data):null);case 16:case"end":return r.stop()}}),r)})))()}},{key:"read",value:function(e,t){t&&(t.layer=this),f.default(p.default(r.prototype),"read",this).call(this,e,t)}},{key:"write",value:function(e,t){var n=t&&t.portal,i=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||C.default.getDefault());return n&&i&&!(0,S.hasSamePortal)(i.restUrl,n.restUrl)?(t.messages&&t.messages.push(new(0,b.default)("layer:cross-portal","The layer '".concat(this.title," (").concat(this.id,")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer"),{layer:this})),null):f.default(p.default(r.prototype),"write",this).call(this,e,d.default({},t,{layer:this}))}}]),r}(e);return(0,y._)([(0,k.property)({type:O.default})],t.prototype,"portalItem",null),(0,y._)([(0,T.reader)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,y._)([(0,I.writer)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,y._)([(0,k.property)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,y._)([(0,k.property)({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=(0,y._)([(0,E.subclass)("esri.layers.mixins.PortalLayer")],t)},N={credential:null,user:null}})),s.register("8weln",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ihA8s")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("avUEr"))]).then((function(){return s("j0Uz9")}))})),s.register("13Qxf",(function(t,r){e(t.exports,"RefreshableLayer",(function(){return _})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("5Vgx8"),u=s("Kn7R4"),c=s("bFSSc"),f=s("jK9zx"),p=s("jcnGU"),d=s("2TvXO"),h=s("7eJjO"),y=s("jHOLN"),v=s("10vEZ"),m=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var g=s("fcwIv"),b=s("4lmhp");var _=function(e){var t=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a;return o.default(this,r),(a=t.call.apply(t,[this].concat(l.default(n)))).refreshInterval=0,a.refreshTimestamp=0,a._debounceHasDataChanged=(0,v.debounce)((function(){return a.hasDataChanged()})),a.when().then((function(){(0,b.registerLayer)(u.default(a))}),(function(){})),c.default(a)}return f.default(r,[{key:"destroy",value:function(){(0,b.unregisterLayer)(this)}},{key:"refreshParameters",get:function(){return{_ts:this.refreshTimestamp||null}}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=this;(0,v.ignoreAbortErrors)(this._debounceHasDataChanged()).then((function(r){r&&t._set("refreshTimestamp",e),t.emit("refresh",{dataChanged:r})}),(function(e){y.default.getLogger(t.declaredClass).error(e),t.emit("refresh",{dataChanged:!1,error:e})}))}},{key:"hasDataChanged",value:function(){return p.default(n(d).mark((function e(){return n(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))()}}]),r}(e);return(0,h._)([(0,m.property)({type:Number,cast:function(e){return e>=.1?e:e<=0?0:.1},json:{write:!0}})],t.prototype,"refreshInterval",void 0),(0,h._)([(0,m.property)({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),(0,h._)([(0,m.property)()],t.prototype,"refreshParameters",null),t=(0,h._)([(0,g.subclass)("esri.layers.mixins.RefreshableLayer")],t)}})),s.register("4lmhp",(function(t,r){e(t.exports,"registerLayer",(function(){return l})),e(t.exports,"unregisterLayer",(function(){return u}));var n=s("d2yMj");s("kyj08"),s("jHOLN"),s("8rGKX");var i=s("ijmj7"),a=new(0,n.default),o=new WeakMap;function l(e){c(e)&&a.push(e)}function u(e){c(e)&&a.includes(e)&&a.remove(e)}function c(e){return e&&"object"==typeof e&&"refreshInterval"in e&&"refresh"in e}function f(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:f(t,e%t):0}var p=0,d=0;function h(){var e=Date.now(),t=!0,r=!1,n=void 0;try{for(var i,s=a[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var l,u=i.value;if(u.refreshInterval)e-(null!=(l=o.get(u))?l:0)+5>=6e4*u.refreshInterval&&(o.set(u,e),u.refresh(e))}}catch(e){r=!0,n=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}}(0,i.autorun)((function(){var e=Date.now(),t=0,r=!0,n=!1,i=void 0;try{for(var s,l=a[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;t=f(Math.round(6e4*u.refreshInterval),t),u.refreshInterval?o.get(u)||o.set(u,e):o.delete(u)}}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}if(t!==d){if(d=t,clearInterval(p),0===d)return void(p=0);p=setInterval(h,d)}}))})),s.register("3GzOb",(function(t,r){e(t.exports,"ScaleRangeLayer",(function(){return p})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f=s("fcwIv"),p=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).minScale=0,e.maxScale=0,o.default(e)}return l.default(r,[{key:"effectiveScaleRange",get:function(){var e,t,r={minScale:this.minScale,maxScale:this.maxScale},n=this.parent;n&&"effectiveScaleRange"in n&&(e=r,t=n.effectiveScaleRange,e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale);var i=this._get("effectiveScaleRange");return i&&i.minScale===r.minScale&&i.maxScale===r.maxScale?i:r}}]),r}(e);return(0,u._)([(0,c.property)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),(0,u._)([(0,c.property)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),(0,u._)([(0,c.property)({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=(0,u._)([(0,f.subclass)("esri.layers.mixins.ScaleRangeLayer")],t)}})),s.register("2t08e",(function(t,r){e(t.exports,"TemporalLayer",(function(){return g})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("9DeZf"),f=s("3ykqL"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d=s("eB8sj"),h=s("fcwIv"),y=s("a4yk4"),v=s("7vTUY"),m=s("7NEVM");var g=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).timeExtent=null,e.timeOffset=null,e.useViewTime=!0,o.default(e)}return l.default(r,[{key:"readOffset",value:function(e,t){var r=t.timeInfo.exportOptions;if(!r)return null;var n=r.timeOffset,i=m.timeUnitKebabDictionary.fromJSON(r.timeOffsetUnits);return n&&i?new(0,f.default)({value:n,unit:i}):null}},{key:"timeInfo",set:function(e){(0,v.fixTimeInfoFields)(e,this.fieldsIndex),this._set("timeInfo",e)}}]),r}(e);return(0,u._)([(0,p.property)({type:c.default,json:{write:!1}})],t.prototype,"timeExtent",void 0),(0,u._)([(0,p.property)({type:f.default})],t.prototype,"timeOffset",void 0),(0,u._)([(0,d.reader)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),(0,u._)([(0,p.property)({value:null,type:y.default,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),(0,u._)([(0,p.property)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=(0,u._)([(0,h.subclass)("esri.layers.mixins.TemporalLayer")],t)}})),s.register("3ykqL",(function(t,r){e(t.exports,"default",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("l0evm"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d,h=s("fcwIv"),y=s("7NEVM"),v=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).value=0,n.unit="milliseconds",o.default(n)}return l.default(r,[{key:"toMilliseconds",value:function(){return(0,f.convertTime)(this.value,this.unit,"milliseconds")}},{key:"clone",value:function(){return new d({value:this.value,unit:this.unit})}}]),r}(c.JSONSupport);(0,u._)([(0,p.property)({type:Number,json:{write:!0},nonNullable:!0})],v.prototype,"value",void 0),(0,u._)([(0,p.property)({type:y.timeUnitKebabDictionary.apiValues,json:{type:y.timeUnitKebabDictionary.jsonValues,read:y.timeUnitKebabDictionary.read,write:y.timeUnitKebabDictionary.write},nonNullable:!0})],v.prototype,"unit",void 0);var m=v=d=(0,u._)([(0,h.subclass)("esri.TimeInterval")],v)})),s.register("7NEVM",(function(t,r){e(t.exports,"timeUnitKebabDictionary",(function(){return n}));var n=(0,s("79ASa").strict)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})})),s.register("a4yk4",(function(t,r){e(t.exports,"default",(function(){return S})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("9DeZf"),f=s("3ykqL"),p=s("1XAcN"),d=s("flPLJ"),h=s("7qybv"),y=s("iho5X");s("iJAIC");var v,m=s("eB8sj"),g=s("fcwIv"),b=s("kced1"),_=s("af4Qo"),w=s("7NEVM"),x=v=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).cumulative=!1,n.endField=null,n.fullTimeExtent=null,n.hasLiveData=!1,n.interval=null,n.startField=null,n.timeReference=null,n.trackIdField=null,n.useTime=!0,o.default(n)}return l.default(r,[{key:"readFullTimeExtent",value:function(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||2!==t.timeExtent.length)return null;var r=new Date(t.timeExtent[0]),n=new Date(t.timeExtent[1]);return new(0,c.default)({start:r,end:n})}},{key:"writeFullTimeExtent",value:function(e,t){e&&(0,h.isSome)(e.start)&&(0,h.isSome)(e.end)?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}},{key:"readInterval",value:function(e,t){return t.timeInterval&&t.timeIntervalUnits?new(0,f.default)({value:t.timeInterval,unit:w.timeUnitKebabDictionary.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new(0,f.default)({value:t.defaultTimeInterval,unit:w.timeUnitKebabDictionary.fromJSON(t.defaultTimeIntervalUnits)}):null}},{key:"writeInterval",value:function(e,t){if(e){var r=e.toJSON();t.timeInterval=r.value,t.timeIntervalUnits=r.unit}else t.timeInterval=null,t.timeIntervalUnits=null}},{key:"clone",value:function(){var e=this,t=e.cumulative,r=e.endField,n=e.hasLiveData,i=e.interval,a=e.startField,o=e.timeReference,s=e.fullTimeExtent,l=e.trackIdField,u=e.useTime;return new v({cumulative:t,endField:r,hasLiveData:n,interval:i,startField:a,timeReference:(0,d.clone)(o),fullTimeExtent:(0,d.clone)(s),trackIdField:l,useTime:u})}}]),r}(p.JSONSupport);(0,u._)([(0,y.property)({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],x.prototype,"cumulative",void 0),(0,u._)([(0,y.property)({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],x.prototype,"endField",void 0),(0,u._)([(0,y.property)({type:c.default,json:{write:{enabled:!0,allowNull:!0}}})],x.prototype,"fullTimeExtent",void 0),(0,u._)([(0,m.reader)("fullTimeExtent",["timeExtent"])],x.prototype,"readFullTimeExtent",null),(0,u._)([(0,b.writer)("fullTimeExtent")],x.prototype,"writeFullTimeExtent",null),(0,u._)([(0,y.property)({type:Boolean,json:{write:!0}})],x.prototype,"hasLiveData",void 0),(0,u._)([(0,y.property)({type:f.default,json:{write:{enabled:!0,allowNull:!0}}})],x.prototype,"interval",void 0),(0,u._)([(0,m.reader)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],x.prototype,"readInterval",null),(0,u._)([(0,b.writer)("interval")],x.prototype,"writeInterval",null),(0,u._)([(0,y.property)({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],x.prototype,"startField",void 0),(0,u._)([(0,y.property)({type:_.default,json:{write:{enabled:!0,allowNull:!0}}})],x.prototype,"timeReference",void 0),(0,u._)([(0,y.property)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],x.prototype,"trackIdField",void 0),(0,u._)([(0,y.property)({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],x.prototype,"useTime",void 0);var S=x=v=(0,u._)([(0,g.subclass)("esri.layers.support.TimeInfo")],x)})),s.register("af4Qo",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("eB8sj"),h=s("fcwIv"),y=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).respectsDaylightSaving=!1,n.timezone=null,o.default(n)}return l.default(r,[{key:"readRespectsDaylightSaving",value:function(e,t){return void 0!==t.respectsDaylightSaving?t.respectsDaylightSaving:void 0!==t.respectDaylightSaving&&t.respectDaylightSaving}},{key:"clone",value:function(){var e=this.respectsDaylightSaving,t=this.timezone;return new p({respectsDaylightSaving:e,timezone:t})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:Boolean,json:{write:!0}})],y.prototype,"respectsDaylightSaving",void 0),(0,u._)([(0,d.reader)("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],y.prototype,"readRespectsDaylightSaving",null),(0,u._)([(0,f.property)({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],y.prototype,"timezone",void 0);var v=y=p=(0,u._)([(0,h.subclass)("esri.layers.support.TimeReference")],y)})),s.register("1PReb",(function(t,r){e(t.exports,"FeatureIndex",(function(){return d})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("jK9zx"),l=s("7eJjO"),u=s("1XAcN"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){return a.default(this,r),t.call(this,e)}return o.default(r,[{key:"clone",value:function(){var e=this,t=e.name,r=e.fields,n=e.isAscending,i=e.isUnique,a=e.description;return new f({name:t,fields:r,isAscending:n,isUnique:i,description:a})}}]),r}(u.JSONSupport);(0,l._)([(0,c.property)({constructOnly:!0})],d.prototype,"name",void 0),(0,l._)([(0,c.property)({constructOnly:!0})],d.prototype,"fields",void 0),(0,l._)([(0,c.property)({constructOnly:!0})],d.prototype,"isAscending",void 0),(0,l._)([(0,c.property)({constructOnly:!0})],d.prototype,"isUnique",void 0),(0,l._)([(0,c.property)({constructOnly:!0})],d.prototype,"description",void 0);d=f=(0,l._)([(0,p.subclass)("esri.layers.support.FeatureIndex")],d)})),s.register("bkDoB",(function(t,r){e(t.exports,"featureReductionProperty",(function(){return o}));var n=s("gFFaX"),i=s("b2V9X"),a=s("77qE0"),o={types:{key:"type",base:n.default,typeMap:{selection:a.default,cluster:i.default}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:{key:"type",base:n.default,typeMap:{selection:i.default}}},"web-scene":{types:{key:"type",base:n.default,typeMap:{selection:a.default}}}}}}})),s.register("gFFaX",(function(t,r){e(t.exports,"default",(function(){return d})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("1XAcN"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f=s("fcwIv"),p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).type=null,o.default(e)}return r}(u.JSONSupport);(0,l._)([(0,c.property)({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],p.prototype,"type",void 0);var d=p=(0,l._)([(0,f.subclass)("esri.layers.support.FeatureReduction")],p)})),s.register("b2V9X",(function(t,r){e(t.exports,"default",(function(){return x})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("3MVX3"),f=s("cM5QQ"),p=s("1XAcN"),d=s("flPLJ"),h=s("iXlXu"),y=s("iho5X");s("iJAIC");var v,m=s("fcwIv"),g=s("kiAlC"),b=s("gRgX5"),_=s("aYrEX"),w=v=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="cluster",n.clusterRadius=(0,h.toPt)("80px"),n.clusterMinSize=(0,h.toPt)("12px"),n.clusterMaxSize=(0,h.toPt)("50px"),n.popupEnabled=!0,n.popupTemplate=null,n.symbol=null,n.labelingInfo=null,n.labelsVisible=!0,n.fields=null,o.default(n)}return l.default(r,[{key:"clone",value:function(){return new v({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,d.clone)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,d.clone)(this.fields),popupEnabled:this.popupEnabled,popupTemplate:(0,d.clone)(this.popupTemplate)})}}]),r}(p.JSONSupport);(0,u._)([(0,y.property)({type:["cluster"],readOnly:!0,json:{write:!0}})],w.prototype,"type",void 0),(0,u._)([(0,y.property)({type:Number,cast:function(e){return"auto"===e?e:(0,h.toPt)(e)},json:{write:!0}})],w.prototype,"clusterRadius",void 0),(0,u._)([(0,y.property)({type:Number,cast:h.toPt,json:{write:!0}})],w.prototype,"clusterMinSize",void 0),(0,u._)([(0,y.property)({type:Number,cast:h.toPt,json:{write:!0}})],w.prototype,"clusterMaxSize",void 0),(0,u._)([(0,y.property)(b.popupEnabled)],w.prototype,"popupEnabled",void 0),(0,u._)([(0,y.property)({type:c.default,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],w.prototype,"popupTemplate",void 0),(0,u._)([(0,y.property)({types:f.symbolTypesCluster})],w.prototype,"symbol",void 0),(0,u._)([(0,y.property)({type:[_.default],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],w.prototype,"labelingInfo",void 0),(0,u._)([(0,y.property)(b.labelsVisible)],w.prototype,"labelsVisible",void 0),(0,u._)([(0,y.property)({type:[g.default],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],w.prototype,"fields",void 0);var x=w=v=(0,u._)([(0,m.subclass)("esri.layers.support.FeatureReductionCluster")],w)})),s.register("kiAlC",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=s("KpCrL"),y=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).name=null,o.default(e)}return l.default(r,[{key:"clone",value:function(){return new p({name:this.name,outStatistic:this.outStatistic.clone()})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:String,json:{write:!0}})],y.prototype,"name",void 0),(0,u._)([(0,f.property)({type:h.default,json:{write:!0}})],y.prototype,"outStatistic",void 0);var v=y=p=(0,u._)([(0,d.subclass)("esri.layers.support.AggregateField")],y)})),s.register("KpCrL",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("fcwIv"),h=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).statisticType=null,e.onStatisticField=null,e.onStatisticValueExpression=null,o.default(e)}return l.default(r,[{key:"clone",value:function(){return new p({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"statisticType",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"onStatisticField",void 0),(0,u._)([(0,f.property)({type:String,json:{write:!0}})],h.prototype,"onStatisticValueExpression",void 0);var y=h=p=(0,u._)([(0,d.subclass)("esri.layers.support.OutStatistic")],h)})),s.register("aYrEX",(function(t,r){e(t.exports,"default",(function(){return O})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("cM5QQ"),f=s("79ASa"),p=s("1XAcN"),d=s("flPLJ"),h=s("iXlXu"),y=s("iho5X");s("iJAIC");var v,m=s("eB8sj"),g=s("fcwIv"),b=s("kced1"),_=s("6obac"),w=s("7OJpl"),x=s("4aUIW"),S=s("3Lb13"),k=new(0,f.JSONMap)({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function T(e){return!e||"service"!==e.origin&&!E(e.layer)}function E(e){return"map-image"===(null==e?void 0:e.type)}function I(e){var t,r;return!!E(e)&&!(null==(t=e.capabilities)||null==(r=t.exportMap)||!r.supportsArcadeExpressionForLabeling)}var C=v=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="label",n.name=null,n.allowOverrun=!1,n.deconflictionStrategy="static",n.labelExpression=null,n.labelExpressionInfo=null,n.labelPlacement=null,n.labelPosition="curved",n.maxScale=0,n.minScale=0,n.repeatLabel=!0,n.repeatLabelDistance=null,n.symbol=x.defaultTextSymbol2D,n.useCodedValues=void 0,n.where=null,o.default(n)}return l.default(r,[{key:"readLabelExpression",value:function(e,t){var r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}},{key:"writeLabelExpression",value:function(e,t,r){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)e=(0,w.templateStringToSql)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){var n=(0,w.getSingleFieldArcadeExpression)(this.labelExpressionInfo.expression);n&&(e="["+n+"]")}null!=e&&(t[r]=e)}},{key:"writeLabelExpressionInfo",value:function(e,t,r,n){if(null==e&&null!=this.labelExpression&&T(n))e=new(0,_.default)({expression:this.getLabelExpressionArcade()});else if(!e)return;var i=e.toJSON(n);i.expression&&(t[r]=i)}},{key:"writeMaxScale",value:function(e,t){(e||this.minScale)&&(t.maxScale=e)}},{key:"writeMinScale",value:function(e,t){(e||this.maxScale)&&(t.minScale=e)}},{key:"getLabelExpression",value:function(){return(0,w.getLabelExpression)(this)}},{key:"getLabelExpressionArcade",value:function(){return(0,w.getLabelExpressionArcade)(this)}},{key:"getLabelExpressionSingleField",value:function(){return(0,w.getLabelExpressionSingleField)(this)}},{key:"hash",value:function(){return JSON.stringify(this)}},{key:"clone",value:function(){return new v({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,d.clone)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,d.clone)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}}],[{key:"evaluateWhere",value:function(e,t){var r=function(e,t,r){switch(t){case"=":return e==r;case"<>":return e!=r;case">":return e>r;case">=":return e>=r;case"<":return e<r;case"<=":return e<=r}return!1};try{if(null==e)return!0;var n=e.split(" ");if(3===n.length)return r(t[n[0]],n[1],n[2]);if(7===n.length){var i=r(t[n[0]],n[1],n[2]),a=n[3],o=r(t[n[4]],n[5],n[6]);switch(a){case"AND":return i&&o;case"OR":return i||o}}return!1}catch(t){console.log("Error.: can't parse = "+e)}}}]),r}(p.JSONSupport);(0,u._)([(0,y.property)({type:String,json:{write:!0}})],C.prototype,"name",void 0),(0,u._)([(0,y.property)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],C.prototype,"allowOverrun",void 0),(0,u._)([(0,y.property)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],C.prototype,"deconflictionStrategy",void 0),(0,u._)([(0,y.property)({type:String,json:{write:{overridePolicy:function(e,t,r){return this.labelExpressionInfo&&"service"===(null==r?void 0:r.origin)&&I(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],C.prototype,"labelExpression",void 0),(0,u._)([(0,m.reader)("labelExpression")],C.prototype,"readLabelExpression",null),(0,u._)([(0,b.writer)("labelExpression")],C.prototype,"writeLabelExpression",null),(0,u._)([(0,y.property)({type:_.default,json:{write:{overridePolicy:function(e,t,r){return T(n=r)||I(n.layer)?{allowNull:!0}:{enabled:!1};var n}}}})],C.prototype,"labelExpressionInfo",void 0),(0,u._)([(0,b.writer)("labelExpressionInfo")],C.prototype,"writeLabelExpressionInfo",null),(0,u._)([(0,y.property)({type:k.apiValues,json:{type:k.jsonValues,read:k.read,write:k.write}})],C.prototype,"labelPlacement",void 0),(0,u._)([(0,y.property)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],C.prototype,"labelPosition",void 0),(0,u._)([(0,y.property)({type:Number})],C.prototype,"maxScale",void 0),(0,u._)([(0,b.writer)("maxScale")],C.prototype,"writeMaxScale",null),(0,u._)([(0,y.property)({type:Number})],C.prototype,"minScale",void 0),(0,u._)([(0,b.writer)("minScale")],C.prototype,"writeMinScale",null),(0,u._)([(0,y.property)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],C.prototype,"repeatLabel",void 0),(0,u._)([(0,y.property)({type:Number,cast:h.toPt,json:{write:!0,origins:{"web-scene":{write:!1}}}})],C.prototype,"repeatLabelDistance",void 0),(0,u._)([(0,y.property)({types:c.symbolTypesLabel,json:{origins:{"web-scene":{types:c.symbolTypesLabel3D,write:S.writeLabelSymbol,default:null}},write:S.writeLabelSymbol,default:null}})],C.prototype,"symbol",void 0),(0,u._)([(0,y.property)({type:Boolean,json:{write:!0}})],C.prototype,"useCodedValues",void 0),(0,u._)([(0,y.property)({type:String,json:{write:!0}})],C.prototype,"where",void 0);var O=C=v=(0,u._)([(0,g.subclass)("esri.layers.support.LabelClass")],C)})),s.register("6obac",(function(t,r){e(t.exports,"default",(function(){return g})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p,d=s("eB8sj"),h=s("fcwIv"),y=s("kced1"),v=s("7OJpl"),m=p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).expression=null,e.title=null,e.value=null,o.default(e)}return l.default(r,[{key:"readExpression",value:function(e,t){return t.value?(0,v.convertTemplatedStringToArcade)(t.value):e}},{key:"writeExpression",value:function(e,t,r){null!=this.value&&(e=(0,v.convertTemplatedStringToArcade)(this.value)),null!=e&&(t[r]=e)}},{key:"clone",value:function(){return new p({expression:this.expression,title:this.title,value:this.value})}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],m.prototype,"expression",void 0),(0,u._)([(0,d.reader)("expression",["expression","value"])],m.prototype,"readExpression",null),(0,u._)([(0,y.writer)("expression")],m.prototype,"writeExpression",null),(0,u._)([(0,f.property)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],m.prototype,"title",void 0),(0,u._)([(0,f.property)({json:{read:!1,write:!1}})],m.prototype,"value",void 0);var g=m=p=(0,u._)([(0,h.subclass)("esri.layers.support.LabelExpressionInfo")],m)})),s.register("7OJpl",(function(t,r){e(t.exports,"templateStringToSql",(function(){return p})),e(t.exports,"getLabelExpression",(function(){return d})),e(t.exports,"getLabelExpressionArcade",(function(){return h})),e(t.exports,"convertTemplatedStringToArcade",(function(){return v})),e(t.exports,"getLabelExpressionSingleField",(function(){return y})),e(t.exports,"getSingleFieldArcadeExpression",(function(){return w}));var n=s("1TSdR"),i="__begin__",a="__end__",o=new RegExp(i,"ig"),l=new RegExp(a,"ig"),u=new RegExp("^__begin__","i"),c=new RegExp("__end__$","i"),f='"';function p(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function d(e){var t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=e.labelExpression.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}"),t.type="conventional"),t}function h(e){var t=d(e);if(!t)return null;switch(t.type){case"conventional":return v(t.expression);case"arcade":return t.expression}return null}function y(e){var t,r,n=d(e);if(!n)return null;switch(n.type){case"conventional":return t=n.expression,(r=t.match(m))&&r[1].trim()||null;case"arcade":return w(n.expression)}return null}function v(e){var t;return e?(t=(0,n.replace)(e,(function(e){return'__begin__$feature["'+e+'"]'+a})),t=u.test(t)?t.replace(u,""):f+t,t=(t=c.test(t)?t.replace(c,""):t+f).replace(o,'" + ').replace(l,' + "')):t='""',t}var m=/^\s*\{([^}]+)\}\s*$/i;var g=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,b=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,_=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function w(e){if(!e)return null;var t=g.exec(e)||b.exec(e);return t?t[1]||t[3]:(t=_.exec(e))?t[2]:null}})),s.register("4aUIW",(function(t,r){e(t.exports,"defaultTextSymbol2D",(function(){return u})),e(t.exports,"errorPointSymbol2D",(function(){return c})),e(t.exports,"errorPolylineSymbol2D",(function(){return f})),e(t.exports,"errorPolygonSymbol2D",(function(){return p})),s("2VlWd");s("7qybv");var n=s("SVQ32"),i=s("e6bLq"),a=s("ioNzP"),o=s("d2yGf"),l=s("2iY9n"),u=(a.default.fromJSON(l.defaultPointSymbolJSON),i.default.fromJSON(l.defaultPolylineSymbolJSON),n.default.fromJSON(l.defaultPolygonSymbolJSON),o.default.fromJSON(l.defaultTextSymbolJSON));var c=a.default.fromJSON(l.errorPointSymbolJSON),f=i.default.fromJSON(l.errorPolylineSymbolJSON),p=n.default.fromJSON(l.errorPolygonSymbolJSON)})),s.register("2iY9n",(function(t,r){e(t.exports,"defaultPointSymbolJSON",(function(){return i})),e(t.exports,"defaultPolylineSymbolJSON",(function(){return a})),e(t.exports,"defaultPolygonSymbolJSON",(function(){return o})),e(t.exports,"defaultTextSymbolJSON",(function(){return s})),e(t.exports,"errorPointSymbolJSON",(function(){return l})),e(t.exports,"errorPolylineSymbolJSON",(function(){return u})),e(t.exports,"errorPolygonSymbolJSON",(function(){return c}));var n=[252,146,31,255],i={type:"esriSMS",style:"esriSMSCircle",size:6,color:n,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},a={type:"esriSLS",style:"esriSLSSolid",width:.75,color:n},o={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},s={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},c={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}})),s.register("77qE0",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f,p=s("fcwIv"),d=s("gFFaX"),h=f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).type="selection",o.default(n)}return l.default(r,[{key:"clone",value:function(){return new f}}]),r}(d.default);(0,u._)([(0,c.property)({type:["selection"]})],h.prototype,"type",void 0);var y=h=f=(0,u._)([(0,p.subclass)("esri.layers.support.FeatureReductionSelection")],h)})),s.register("gcgvk",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("3SeOo"),c=s("79ASa"),f=s("1XAcN"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d=s("fcwIv"),h=new(0,c.JSONMap)({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"}),y=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).name=null,n.description=null,n.drawingTool=null,n.prototype=null,n.thumbnail=null,o.default(n)}return r}((0,u.ClonableMixin)(f.JSONSupport));(0,l._)([(0,p.property)({json:{write:!0}})],y.prototype,"name",void 0),(0,l._)([(0,p.property)({json:{write:!0}})],y.prototype,"description",void 0),(0,l._)([(0,p.property)({json:{read:h.read,write:h.write}})],y.prototype,"drawingTool",void 0),(0,l._)([(0,p.property)({json:{write:!0}})],y.prototype,"prototype",void 0),(0,l._)([(0,p.property)({json:{write:!0}})],y.prototype,"thumbnail",void 0);var v=y=(0,l._)([(0,d.subclass)("esri.layers.support.FeatureTemplate")],y)})),s.register("hRnYX",(function(t,r){e(t.exports,"default",(function(){return b})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("3SeOo"),f=s("1XAcN"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d=s("eB8sj"),h=s("fcwIv"),y=s("kced1"),v=s("895QH"),m=s("gcgvk"),g=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).id=null,n.name=null,n.domains=null,n.templates=null,o.default(n)}return l.default(r,[{key:"readDomains",value:function(e){var t={},r=!0,n=!1,i=void 0;try{for(var a,o=Object.keys(e)[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;t[s]=(0,v.fromJSON)(e[s])}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}},{key:"writeDomains",value:function(e,t){var r={},n=!0,i=!1,a=void 0;try{for(var o,s=Object.keys(e)[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l,u=o.value;e[u]&&(r[u]=null==(l=e[u])?void 0:l.toJSON())}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}t.domains=r}}]),r}((0,c.ClonableMixin)(f.JSONSupport));(0,u._)([(0,p.property)({json:{write:!0}})],g.prototype,"id",void 0),(0,u._)([(0,p.property)({json:{write:!0}})],g.prototype,"name",void 0),(0,u._)([(0,p.property)({json:{write:!0}})],g.prototype,"domains",void 0),(0,u._)([(0,d.reader)("domains")],g.prototype,"readDomains",null),(0,u._)([(0,y.writer)("domains")],g.prototype,"writeDomains",null),(0,u._)([(0,p.property)({type:[m.default],json:{write:!0}})],g.prototype,"templates",void 0);var b=g=(0,u._)([(0,h.subclass)("esri.layers.support.FeatureType")],g)})),s.register("ko0sb",(function(t,r){e(t.exports,"defineFieldProperties",(function(){return u}));var n=s("jHOLN"),i=s("buMuJ"),a=s("4nMX7"),o=s("7vTUY"),l=n.default.getLogger("esri.layers.support.fieldProperties");function u(){return{fields:{type:[i.default],value:null},fieldsIndex:{readOnly:!0,get:function(){return new(0,a.default)(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;this.fieldsIndex.has(s)||l.error("field-attributes-layer:invalid-field","Invalid field ".concat(s," found in outFields"),{layer:this,outFields:e})}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return(0,o.fixFields)(this.fieldsIndex,e)}}}}})),s.register("4nMX7",(function(t,r){e(t.exports,"default",(function(){return u})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("7vTUY");function o(e){return"oid"===e.type||"esriFieldTypeOID"===e.type}function l(e){return"global-id"===e.type||"esriFieldTypeGlobalID"===e.type}var u=function(){"use strict";function e(t){if(n.default(this,e),this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,t){var r,i=[],s=!0,u=!1,f=void 0;try{for(var p,d=t[Symbol.iterator]();!(s=(p=d.next()).done);s=!0){var h=p.value,y=h&&h.name;if(y){var v=c(y);this._fieldsMap.set(y,h),this._fieldsMap.set(v,h),i.push(v),"date"===(r=h).type||"esriFieldTypeDate"===r.type?(this.dateFields.push(h),this._dateFieldsSet.add(h)):(0,a.isNumericField)(h)&&(this._numericFieldsSet.add(h),this.numericFields.push(h)),o(h)||l(h)||(h.editable=null==h.editable||!!h.editable,h.nullable=null==h.nullable||!!h.nullable)}}}catch(e){u=!0,f=e}finally{try{s||null==d.return||d.return()}finally{if(u)throw f}}i.sort(),this.uid=i.join(",")}}return i.default(e,[{key:"destroy",value:function(){this._fieldsMap.clear()}},{key:"requiredFields",get:function(){if(!this._requiredFields){this._requiredFields=[];var e=!0,t=!1,r=void 0;try{for(var n,i=this.fields[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var s=n.value;o(s)||l(s)||s.nullable||void 0!==(0,a.getFieldDefaultValue)(s)||this._requiredFields.push(s)}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}return this._requiredFields}},{key:"has",value:function(e){return null!=this.get(e)}},{key:"get",value:function(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(c(e)):void 0}},{key:"isDateField",value:function(e){return this._dateFieldsSet.has(this.get(e))}},{key:"isNumericField",value:function(e){return this._numericFieldsSet.has(this.get(e))}},{key:"normalizeFieldName",value:function(e){var t=this.get(e);if(t)return t.name}}]),e}();function c(e){return e.toLowerCase().trim()}})),s.register("8ffUj",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("3SeOo"),c=s("1XAcN"),f=s("5vzSQ"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d=s("fcwIv"),h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).shapeAreaField=null,n.shapeLengthField=null,n.units=null,o.default(n)}return r}((0,u.ClonableMixin)(c.JSONSupport));(0,l._)([(0,p.property)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],h.prototype,"shapeAreaField",void 0),(0,l._)([(0,p.property)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],h.prototype,"shapeLengthField",void 0),(0,l._)([(0,p.property)({type:String,json:{read:function(e){return f.areaUnitsJSONMap.read(e)||f.lengthUnitsJSONMap.read(e)}}})],h.prototype,"units",void 0);var y=h=(0,l._)([(0,d.subclass)("esri.layers.support.GeometryFieldsInfo")],h)})),s.register("gtLRH",(function(t,r){e(t.exports,"reader",(function(){return a}));var n=s("aYrEX"),i=/\[([^\[\]]+)\]/gi;function a(e,t,r){var a=this;return e?e.map((function(e){var o=new(0,n.default);if(o.read(e,r),o.labelExpression){var s=t.fields||t.layerDefinition&&t.layerDefinition.fields||a.fields;o.labelExpression=o.labelExpression.replace(i,(function(e,t){return"[".concat(function(e,t){if(!t)return e;for(var r=e.toLowerCase(),n=0;n<t.length;n++){var i=t[n].name;if(i.toLowerCase()===r)return i}return e}(t,s),"]")}))}return o})):null}})),s.register("kfF7B",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("d2yMj"),f=s("1XAcN"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d,h=s("fcwIv"),y=d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).floorField=null,n.viewAllMode=!1,n.viewAllLevelIds=new(0,c.default),o.default(n)}return l.default(r,[{key:"clone",value:function(){return new d({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}}]),r}(f.JSONSupport);(0,u._)([(0,p.property)({type:String,json:{write:!0}})],y.prototype,"floorField",void 0),(0,u._)([(0,p.property)({json:{read:!1,write:!1}})],y.prototype,"viewAllMode",void 0),(0,u._)([(0,p.property)({json:{read:!1,write:!1}})],y.prototype,"viewAllLevelIds",void 0);var v=y=d=(0,u._)([(0,h.subclass)("esri.layers.support.LayerFloorInfo")],y)})),s.register("9saVm",(function(t,r){e(t.exports,"default",(function(){return m})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("3SeOo"),c=s("79ASa"),f=s("1XAcN"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d=s("fcwIv"),h=new(0,c.JSONMap)({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),y=new(0,c.JSONMap)({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"}),v=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).cardinality=null,n.composite=null,n.id=null,n.keyField=null,n.keyFieldInRelationshipTable=null,n.name=null,n.relatedTableId=null,n.relationshipTableId=null,n.role=null,o.default(n)}return r}((0,u.ClonableMixin)(f.JSONSupport));(0,l._)([(0,p.property)({json:{read:h.read,write:h.write}})],v.prototype,"cardinality",void 0),(0,l._)([(0,p.property)({json:{read:!0,write:!0}})],v.prototype,"composite",void 0),(0,l._)([(0,p.property)({json:{read:!0,write:!0}})],v.prototype,"id",void 0),(0,l._)([(0,p.property)({json:{read:!0,write:!0}})],v.prototype,"keyField",void 0),(0,l._)([(0,p.property)({json:{read:!0,write:!0}})],v.prototype,"keyFieldInRelationshipTable",void 0),(0,l._)([(0,p.property)({json:{read:!0,write:!0}})],v.prototype,"name",void 0),(0,l._)([(0,p.property)({json:{read:!0,write:!0}})],v.prototype,"relatedTableId",void 0),(0,l._)([(0,p.property)({json:{read:!0,write:!0}})],v.prototype,"relationshipTableId",void 0),(0,l._)([(0,p.property)({json:{read:y.read,write:y.write}})],v.prototype,"role",void 0);var m=v=(0,l._)([(0,d.subclass)("esri.layers.support.Relationship")],v)})),s.register("iaMRW",(function(t,r){e(t.exports,"serviceSupportsSpatialReference",(function(){return a}));var n=s("lmu5w"),i=[];function a(e,t){if((0,n.isHostedAgolService)(e.url))return!0;var r=t.wkid,a=!0,o=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;if(e.version>=c[0])return!0;if("function"==typeof c[1]&&(c[1]=c[1]()),c[1].has(r))return!1}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return!0}i.push([10.91,function(){for(var e=new Set([9709,9716,9741,9761,9766]),t=9712;t<=9713;t++)e.add(t);for(var r=9748;r<=9749;r++)e.add(r);for(var n=20904;n<=20932;n++)e.add(n);for(var i=21004;i<=21032;i++)e.add(i);for(var a=21207;a<=21264;a++)e.add(a);for(var o=21307;o<=21364;o++)e.add(o);for(var s=102759;s<=102760;s++)e.add(s);for(var l=102901;l<=102960;l++)e.add(l);return e}]),i.push([10.9,function(){for(var e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]),t=9356;t<=9360;t++)e.add(t);for(var r=9404;r<=9407;r++)e.add(r);for(var n=9476;n<=9482;n++)e.add(n);for(var i=9487;i<=9494;i++)e.add(i);for(var a=9697;a<=9699;a++)e.add(a);return e}]),i.push([10.81,function(){for(var e=new Set([9265,9333,103598,103699]),t=9248;t<=9254;t++)e.add(t);for(var r=9271;r<=9273;r++)e.add(r);for(var n=9284;n<=9285;n++)e.add(n);for(var i=21453;i<=21463;i++)e.add(i);return e}]),i.push([10.8,function(){for(var e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]),t=8035;t<=8036;t++)e.add(t);for(var r=8455;r<=8456;r++)e.add(r);for(var n=8518;n<=8529;n++)e.add(n);for(var i=8533;i<=8536;i++)e.add(i);for(var a=8538;a<=8540;a++)e.add(a);for(var o=8677;o<=8679;o++)e.add(o);for(var s=8902;s<=8903;s++)e.add(s);for(var l=8907;l<=8910;l++)e.add(l);for(var u=8949;u<=8951;u++)e.add(u);for(var c=8972;c<=8987;c++)e.add(c);for(var f=9039;f<=9040;f++)e.add(f);for(var p=9068;p<=9069;p++)e.add(p);for(var d=9140;d<=9141;d++)e.add(d);for(var h=9148;h<=9150;h++)e.add(h);for(var y=9153;y<=9159;y++)e.add(y);for(var v=9205;v<=9218;v++)e.add(v);for(var m=9221;m<=9222;m++)e.add(m);for(var g=54098;g<=54101;g++)e.add(g);return e}]),i.push([10.71,function(){for(var e=new Set([6316]),t=8351;t<=8353;t++)e.add(t);for(var r=9294;r<=9297;r++)e.add(r);for(var n=103586;n<=103594;n++)e.add(n);for(var i=103696;i<=103698;i++)e.add(i);return e}]),i.push([10.7,function(){for(var e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]),t=8065;t<=8068;t++)e.add(t);for(var r=8082;r<=8083;r++)e.add(r);for(var n=8379;n<=8385;n++)e.add(n);for(var i=8836;i<=8840;i++)e.add(i);for(var a=8857;a<=8860;a++)e.add(a);for(var o=53035;o<=53037;o++)e.add(o);for(var s=54090;s<=54091;s++)e.add(s);for(var l=102498;l<=102499;l++)e.add(l);return e}]),i.push([10.61,function(){return new Set([102497])}]),i.push([10.6,function(){for(var e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]),t=7755;t<=7787;t++)e.add(t);for(var r=7791;r<=7795;r++)e.add(r);for(var n=7799;n<=7801;n++)e.add(n);for(var i=7825;i<=7831;i++)e.add(i);for(var a=7877;a<=7878;a++)e.add(a);for(var o=7882;o<=7883;o++)e.add(o);for(var s=7991;s<=7992;s++)e.add(s);for(var l=8042;l<=8043;l++)e.add(l);for(var u=8058;u<=8059;u++)e.add(u);for(var c=8311;c<=8348;c++)e.add(c);for(var f=9060;f<=9067;f++)e.add(f);for(var p=102562;p<=102568;p++)e.add(p);for(var d=102799;d<=102900;d++)e.add(d);return e}]),i.push([10.51,function(){for(var e=new Set([7683,7881,7886,7899,8888,9e3]),t=8013;t<=8032;t++)e.add(t);for(var r=9053;r<=9057;r++)e.add(r);for(var n=104017;n<=104018;n++)e.add(n);for(var i=104971;i<=104974;i++)e.add(i);return e}]),i.push([10.5,function(){for(var e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]),t=4087;t<=4088;t++)e.add(t);for(var r=5896;r<=5899;r++)e.add(r);for(var n=7005;n<=7007;n++)e.add(n);for(var i=7057;i<=7070;i++)e.add(i);for(var a=7073;a<=7082;a++)e.add(a);for(var o=7109;o<=7128;o++)e.add(o);for(var s=7844;s<=7859;s++)e.add(s);return e}])})),s.register("2TQQP",(function(t,r){e(t.exports,"loadStyleRenderer",(function(){return c})),s("8TSCy");var i=s("jcnGU"),a=s("2TvXO"),o=s("dqkq5"),l=s("10vEZ"),u=s("lfedQ");function c(e,t,r){return f.apply(this,arguments)}function f(){return(f=i.default(n(a).mark((function e(t,r,i){var s,c,f;return n(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=t&&t.getAtOrigin&&t.getAtOrigin("renderer",r.origin))||"unique-value"!==s.type||!s.styleOrigin){e.next=6;break}return e.next=4,(0,o.result)(s.populateFromStyle());case 4:c=e.sent,(0,l.throwIfAborted)(i),!1===c.ok&&(f=c.error,r&&r.messages&&r.messages.push(new(0,u.default)("renderer:style-reference","Failed to create unique value renderer from style reference: ".concat(f.message),{error:f,context:r})),t.clear("renderer",r.origin));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),s.register("37qRo",(function(t,r){e(t.exports,"createPopupTemplate",(function(){return p}));var n=s("3MVX3"),i=s("7vTUY"),a=s("9Hey9");s("5j1Qi"),s("4NqMe"),s("hviGF");var o=s("1HxLt");s("26JOX"),s("2l7B9");var l=s("0kIkz"),u=s("7vbz9"),c=["oid","global-id"],f=["oid","global-id","guid"];function p(e,t){var r=e.displayField,s=e.editFieldsInfo,l=e.fields,u=e.objectIdField,c=e.title;if(!l)return null;var f=m({editFieldsInfo:s,fields:l,objectIdField:u},t);if(!f.length)return null;var p,d,h,y=(p={titleBase:c,fields:l,displayField:r},d=(0,i.getDisplayFieldName)(p),h=p.titleBase,d?"".concat(h,": {").concat(d.trim(),"}"):h),v=[new(0,o.default),new(0,a.default)];return new(0,n.default)({title:y,content:v,fieldInfos:f})}var d=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],h=function(e,t){var r=t.editFieldsInfo,n=t.objectIdField,i=t.visibleFieldNames;return i?i.has(e.name):!(v(e.name,r)||n&&e.name===n||c.indexOf(e.type)>-1||d.some((function(t){return t.test(e.name)})))};function y(e,t){return"oid"===e.type?-1:"oid"===t.type?1:b(e)?-1:b(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function v(e,t){if(!e||!t)return!1;var r=t.creationDateField,n=t.creatorField,i=t.editDateField,a=t.editorField;return-1!==[r&&r.toLowerCase(),n&&n.toLowerCase(),i&&i.toLowerCase(),a&&a.toLowerCase()].indexOf(e.toLowerCase())}function m(e,t){var r,n,i,a=e.editFieldsInfo,o=e.fields,s=e.objectIdField;return(r=o,n=(null==t?void 0:t.ignoreFieldTypes)||_,i=r,n&&(r=r.filter((function(e){return-1===n.indexOf(e.type)}))),r===i&&(r=r.slice()),r.sort(y),r).map((function(e){return new(0,l.default)({fieldName:e.name,isEditable:(r=e,n=a,r.editable&&-1===f.indexOf(r.type)&&!v(r.name,n)),label:e.alias,format:g(e),visible:h(e,{editFieldsInfo:a,objectIdField:s,visibleFieldNames:null==t?void 0:t.visibleFieldNames})});var r,n}))}function g(e){switch(e.type){case"small-integer":case"integer":case"single":return new(0,u.default)({digitSeparator:!0,places:0});case"double":return new(0,u.default)({digitSeparator:!0,places:2});case"date":return new(0,u.default)({dateFormat:"long-month-day-year"});default:return null}}function b(e){return"name"===(e.name&&e.name.toLowerCase())||("name"===(e.alias&&e.alias.toLowerCase())||void 0)}var _=["geometry","blob","raster","guid","xml"]})),s.register("cesCO",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("l5Wbg")).then((function(){return s("7tPac")}))})),s.register("jO54I",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9NcSU")).then((function(){return s("hwHXf")}))})),s.register("eaNgI",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2wyYU")).then((function(){return s("d4zIl")}))})),s.register("cBxZc",(function(t,r){e(t.exports,"SymbolSizeDefaults",(function(){return n})),e(t.exports,"shapes",(function(){return o})),e(t.exports,"getPathSymbolShapes",(function(){return l})),e(t.exports,"getExtrudeSymbolShapes",(function(){return u})),e(t.exports,"getWaterSymbolShapes",(function(){return c})),e(t.exports,"getCubeShapes",(function(){return f})),e(t.exports,"getCylinderShapes",(function(){return p})),e(t.exports,"getConeShapes",(function(){return d})),e(t.exports,"getInvertedConeShapes",(function(){return h})),e(t.exports,"getDiamondShapes",(function(){return y})),e(t.exports,"getTetrahedronShapes",(function(){return v})),e(t.exports,"adjustColorComponentBrightness",(function(){return m})),e(t.exports,"adjustColorBrightness",(function(){return g}));var n,i,a=s("jgs9n");(i=n||(n={}))[i.size=22]="size",i[i.lineWidth=50]="lineWidth",i[i.maxSize=120]="maxSize",i[i.maxOutlineSize=80]="maxOutlineSize",i[i.tallSymbolWidth=20]="tallSymbolWidth";var o={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function l(e,t,r){var i=n.size,a=i,o=i;e<1?a*=.75:e>1&&(o*=1.25);var s=i,l=i;return t&&r&&(a=o=s=l=0),[{type:"path",path:[{command:"M",values:[s,0]},{command:"L",values:[r?s:.875*s,0]},{command:"L",values:[r?a-.5*s:0,o-.5*l]},{command:"L",values:[a-.5*s,o-.5*l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[s,0]},{command:"L",values:[s,t?0:.125*l]},{command:"L",values:[a-.5*s,t?o-.5*l:l]},{command:"L",values:[a-.5*s,o-.5*l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[a-.5*s,o-.5*l]},{command:"L",values:[r?a-.5*s:0,o-.5*l]},{command:"L",values:[r?a-.5*s:0,t?o-.5*l:l]},{command:"L",values:[a-.5*s,t?o-.5*l:l]},{command:"Z",values:[]}]}]}function u(e){var t=n.size,r=.5*e;return[{type:"path",path:[{command:"M",values:[0,.7*t*.5]},{command:"L",values:[.3*t,.7*t]},{command:"L",values:[.3*t,.7*t+r]},{command:"L",values:[0,.7*t+r-.7*t*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*t,.7*t]},{command:"L",values:[.3*t,.7*t+r]},{command:"L",values:[t,r]},{command:"L",values:[t,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*t,0]},{command:"L",values:[t,0]},{command:"L",values:[.3*t,.7*t]},{command:"L",values:[0,.7*t*.5]},{command:"Z",values:[]}]}]}function c(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function f(e,t){var r=t?n.tallSymbolWidth:e,i=e,a=t?4:6;r<=n.size?r-=.5*a:r-=a;var o=t?.35*r:.5*r;return[{type:"path",path:[{command:"M",values:[.5*r,0]},{command:"L",values:[r,.5*o]},{command:"L",values:[.5*r,o]},{command:"L",values:[0,.5*o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*o]},{command:"L",values:[.5*r,o]},{command:"L",values:[.5*r,i]},{command:"L",values:[0,i-.5*o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*r,o]},{command:"L",values:[.5*r,i]},{command:"L",values:[r,i-.5*o]},{command:"L",values:[r,.5*o]},{command:"Z",values:[]}]}]}function p(e,t){var r=t?n.tallSymbolWidth:e,i=e,a=t?4:6;r<=n.size?r-=.5*a:r-=a;var o=.5*r,s=.15*r,l=i-s;return[{type:"ellipse",cx:.5*r,cy:l,rx:o,ry:s},{type:"path",path:[{command:"M",values:[0,s]},{command:"L",values:[0,l]},{command:"L",values:[r,l]},{command:"L",values:[r,s]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*r,cy:s,rx:o,ry:s}]}function d(e,t){var r=t?n.tallSymbolWidth:e,i=e,a=t?4:6;r<=n.size?r-=.5*a:r-=a;var o=.15*r,s=i-o;return[{type:"ellipse",cx:.5*r,cy:s,rx:.5*r,ry:o},{type:"path",path:[{command:"M",values:[.5*r,0]},{command:"L",values:[r,s]},{command:"L",values:[0,s]},{command:"Z",values:[]}]}]}function h(e){var t=e,r=e;t<n.size?t-=3:t-=6;var i=.15*t;return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[t,0]},{command:"L",values:[.5*t,r-i]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*t,cy:0,rx:.5*t,ry:i}]}function y(e){var t=e,r=e;t<n.size?t-=2:t-=4;var i=t,a=r,o=Math.floor(e/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*i,0]},{command:"L",values:[i,.5*a-o]},{command:"L",values:[.45*i-o,.5*a+o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*i,0]},{command:"L",values:[.45*i-o,.5*a+o]},{command:"L",values:[0,.5*a-o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*a-o]},{command:"L",values:[.45*i-o,.5*a+o]},{command:"L",values:[.45*i,r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*i,r]},{command:"L",values:[i,.5*a-o]},{command:"L",values:[.45*i-o,.5*a+o]},{command:"Z",values:[]}]}]}function v(e){var t=e,r=e;r<n.size?r-=1:r-=2;return[{type:"path",path:[{command:"M",values:[.45*t,0]},{command:"L",values:[t,r]},{command:"L",values:[.45*t,.6*r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*t,0]},{command:"L",values:[.45*t,.6*r]},{command:"L",values:[0,r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,r]},{command:"L",values:[.45*t,.6*r]},{command:"L",values:[t,r]},{command:"Z",values:[]}]}]}function m(e,t){return Math.round(Math.min(Math.max(e+255*t*.75,0),255))}function g(e,t){if("type"in e&&("linear"===e.type||"pattern"===e.type))return e;var r=new(0,a.default)(e);return new(0,a.default)([m(r.r,t),m(r.g,t),m(r.b,t),r.a])}})),s.register("8NoYK",(function(t,r){e(t.exports,"getSymbolOutlineSize",(function(){return b})),e(t.exports,"isVolumetricSymbol",(function(){return _})),e(t.exports,"getIconHref",(function(){return w})),e(t.exports,"getColorFromSymbol",(function(){return x})),e(t.exports,"applyOpacityToColor",(function(){return S})),e(t.exports,"applyColorToSymbol",(function(){return k})),e(t.exports,"applySizesToSymbol",(function(){return V})),e(t.exports,"applyRotationToSymbol",(function(){return H})),e(t.exports,"getCSSFilterFromEffectList",(function(){return z})),s("8TSCy");var i=s("jcnGU"),a=s("2TvXO"),o=s("jgs9n"),l=s("cM5QQ"),u=s("dqkq5"),c=s("2VlWd"),f=s("7qybv"),p=s("iXlXu"),d=s("5YMIf"),h=s("fmusr"),y=s("dNlty"),v=s("8Ja5q"),m=/\/resource\/(.*?)\.svg$/,g=new(0,o.default)("white");function b(e){if(!e)return 0;if((0,l.isSymbol3D)(e)){var t=function(e){var t=e.symbolLayers&&e.symbolLayers.length;if(t){var r=e.symbolLayers.getItemAt(t-1);return"outline"in r?(0,f.get)(r,"outline","size"):void 0}}(e);return(0,f.isSome)(t)?t:0}var r=(0,y.getStroke)(e);return r&&(0,p.px2pt)(r.width)||0}function _(e){if((0,f.isNone)(e)||!("symbolLayers"in e)||(0,f.isNone)(e.symbolLayers))return!1;switch(e.type){case"point-3d":return e.symbolLayers.some((function(e){return"object"===e.type}));case"line-3d":return e.symbolLayers.some((function(e){return"path"===e.type}));case"polygon-3d":return e.symbolLayers.some((function(e){return"object"===e.type||"extrude"===e.type}));default:return!1}}function w(e,t){var r=t.resource.href;return!(0,c.default)("esri-canvas-svg-support")&&e.styleOrigin&&m.test(r)?r.replace(m,"/resource/png/$1.png"):r}function x(e,t){if(!e)return null;var r=null;return(0,l.isSymbol3D)(e)?r=function(e){var t=e.symbolLayers;if(!t)return null;var r=null;return t.forEach((function(e){"object"===e.type&&null!=e.resource.href||(r="water"===e.type?(0,f.unwrap)(e.color):(0,f.isSome)(e.material)?(0,f.unwrap)(e.material.color):null)})),r?new(0,o.default)(r):null}(e):(0,l.isSymbol2D)(e)&&(r=e.color?new(0,o.default)(e.color):null),r?S(r,t):null}function S(e,t){if(null==t)return e;var r=e.toRgba();return r[3]=r[3]*t,new(0,o.default)(r)}function k(e,t,r){var n,i,a;e&&(t||null!=r)&&(t&&(t=new(0,o.default)(t)),(0,l.isSymbol3D)(e)?function(e,t,r){var n=e.symbolLayers;if(n){var i=function(e){var n=(0,f.isSome)(e)?e:null;return S(t=t||n||null!=r&&g,r)};n.forEach((function(e){if("object"!==e.type||null==e.resource.href||t)if("water"===e.type)e.color=i(e.color);else{var n=(0,f.isSome)(e.material)?e.material.color:null,a=i(n);(0,f.isNone)(e.material)?e.material=new(0,v.Symbol3DMaterial)({color:a}):e.material.color=a,null!=r&&"outline"in e&&(0,f.isSome)(e.outline)&&(0,f.isSome)(e.outline.color)&&(e.outline.color=S(e.outline.color,r))}}))}}(e,t,r):(0,l.isSymbol2D)(e)&&(n=e,a=r,(i=(i=t)||n.color)&&(n.color=S(i,a)),null!=a&&"outline"in n&&n.outline&&n.outline.color&&(n.outline.color=S(n.outline.color,a))))}function T(e,t){return E.apply(this,arguments)}function E(){return E=i.default(n(a).mark((function e(t,r){var o;return n(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.symbolLayers,e.t0=o,!e.t0){e.next=5;break}return e.next=5,(0,u.forEach)(o,function(){var e=i.default(n(a).mark((function e(t){return n(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I(t,r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function I(e,t){return C.apply(this,arguments)}function C(){return(C=i.default(n(a).mark((function e(t,r){return n(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="extrude"===e.t0?3:"icon"===e.t0||"line"===e.t0||"text"===e.t0?5:"path"===e.t0?7:"object"===e.t0?9:11;break;case 3:return A(t,r),e.abrupt("break",11);case 5:return O(t,r),e.abrupt("break",11);case 7:return R(t,r),e.abrupt("break",11);case 9:return e.next=11,M(t,r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){var r=L(t);(0,f.isSome)(r)&&(e.size=r)}function L(e){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if("number"==typeof o)return o}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return null}function A(e,t){e.size="number"==typeof t[2]?t[2]:0}function M(e,t){return N.apply(this,arguments)}function N(){return(N=i.default(n(a).mark((function e(t,r){var i,o,s,l;return n(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:i=e.sent,o=i.resourceSize,s=i.symbolSize,l=P(r,o,s),t.width=D(r[0],s[0],o[0],l),t.depth=D(r[1],s[1],o[1],l),t.height=D(r[2],s[2],o[2],l);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){var r=P(t,d.O,[e.width,void 0,e.height]);e.width=D(t[0],e.width,1,r),e.height=D(t[2],e.height,1,r)}function P(e,t,r){for(var n=0;n<3;n++){var i=e[n];switch(i){case"symbol-value":return null!=r[n]?r[n]/t[n]:1;case"proportional":break;default:if(i&&t[n])return i/t[n]}}return 1}function F(e){return j.apply(this,arguments)}function j(){return(j=i.default(n(a).mark((function e(t){var r,i,o,l,u,c,f,p,d;return n(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("g46qH");case 2:return r=e.sent,e.next=5,r.computeObjectLayerResourceSize(t,10);case 5:i=e.sent,o=t.width,l=t.height,u=t.depth,c=[o,u,l],f=1,p=0;case 12:if(!(p<3)){e.next=19;break}if(null==c[p]){e.next=16;break}return f=c[p]/i[p],e.abrupt("break",19);case 16:p++,e.next=12;break;case 19:for(d=0;d<3;d++)null==c[d]&&(c[d]=i[d]*f);return e.abrupt("return",{resourceSize:i,symbolSize:c});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,r,n){switch(e){case"proportional":return r*n;case"symbol-value":return null!=t?t:r;default:return e}}function U(e,t){var r=L(t);if(!(0,f.isNone)(r))switch(e.type){case"simple-marker":e.size=r;break;case"picture-marker":var n=e.width/e.height;n>1?(e.width=r,e.height=r*n):(e.width=r*n,e.height=r);break;case"simple-line":e.width=r;break;case"text":e.font.size=r}}function V(e,t){return B.apply(this,arguments)}function B(){return(B=i.default(n(a).mark((function e(t,r){return n(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!r){e.next=2;break}return e.abrupt("return",(0,l.isSymbol3D)(t)?T(t,r):void((0,l.isSymbol2D)(t)&&U(t,r)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t,r){if(e&&null!=t)if((0,l.isSymbol3D)(e)){var n=e.symbolLayers;n&&n.forEach((function(e){if(e&&"object"===e.type)switch(r){case"tilt":e.tilt=t;break;case"roll":e.roll=t;break;default:e.heading=t}}))}else(0,l.isSymbol2D)(e)&&("simple-marker"!==e.type&&"picture-marker"!==e.type&&"text"!==e.type||(e.angle=t))}function z(e){if(!e)return null;var t=e.effects.filter((function(e){return"bloom"!==e.type})).map((function(e){return e.toJSON()}));return(0,h.effectFunctionsFromJSON)(t)}})),s.register("dNlty",(function(t,r){e(t.exports,"getFill",(function(){return h})),e(t.exports,"getPatternUrlWithColor",(function(){return y})),e(t.exports,"getStroke",(function(){return v})),e(t.exports,"dekebabifyLineStyle",(function(){return g})),e(t.exports,"defaultThematicColor",(function(){return b}));var n=s("i9j5X"),i=s("jgs9n"),a=s("9pNSx"),o=s("jOnsX"),l=s("iXlXu"),u=s("7sx0B"),c="picture-fill",f="simple-fill",p="simple-marker",d=new(0,o.default)(1e3);function h(e){var t=e.style,r=null;if(e)switch(e.type){case p:"cross"!==t&&"x"!==t&&(r=e.color);break;case f:"solid"===t?r=e.color:"none"!==t&&(r={type:"pattern",x:0,y:0,src:(0,n.getAssetUrl)("esri/symbols/patterns/".concat(t,".png")),width:5,height:5});break;case c:r={type:"pattern",src:e.url,width:(0,l.pt2px)(e.width)*e.xscale,height:(0,l.pt2px)(e.height)*e.yscale,x:(0,l.pt2px)(e.xoffset),y:(0,l.pt2px)(e.yoffset)};break;case"text":r=e.color;break;case"cim":r=(0,u.getCIMSymbolColor)(e)}return r}function y(e,t){var r=e+"-"+t;return void 0!==d.get(r)?Promise.resolve(d.get(r)):(0,a.default)(e,{responseType:"image"}).then((function(e){var n=e.data,i=n.naturalWidth,a=n.naturalHeight,o=document.createElement("canvas");o.width=i,o.height=a;var s=o.getContext("2d");s.fillStyle=t,s.fillRect(0,0,i,a),s.globalCompositeOperation="destination-in",s.drawImage(n,0,0);var l=o.toDataURL();return d.put(r,l),l}))}function v(e){if(!e)return null;var t;switch(e.type){case f:case c:case p:t=v(e.outline);break;case"simple-line":var r=(0,l.pt2px)(e.width);"none"!==e.style&&0!==r&&(t={color:e.color,style:g(e.style),width:r,cap:e.cap,join:"miter"===e.join?(0,l.pt2px)(e.miterLimit):e.join});break;default:t=null}return t}var m,g=(m={},function(e){if(m[e])return m[e];var t=e.replace(/-/g,"");return m[e]=t,t}),b=new(0,i.default)([128,128,128])})),s.register("jOnsX",(function(t,r){e(t.exports,"default",(function(){return o})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("8BcI6"),o=function(){"use strict";function e(t,r){n.default(this,e),this._storage=new(0,a.MemCacheStorage),this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}return i.default(e,[{key:"put",value:function(e,t){this._storage.put(e,t,1,1)}},{key:"pop",value:function(e){return this._storage.pop(e)}},{key:"get",value:function(e){return this._storage.get(e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.destroy()}}]),e}()})),s.register("7sx0B",(function(t,r){e(t.exports,"getCIMSymbolSize",(function(){return o})),e(t.exports,"scaleCIMSymbolTo",(function(){return l})),e(t.exports,"scaleCIMMarker",(function(){return c})),e(t.exports,"getCIMSymbolColor",(function(){return p})),e(t.exports,"applyCIMSymbolColor",(function(){return y})),s("8TSCy");var n=s("ifq4M"),i=s("jgs9n"),a=s("1o7Kk");function o(e){var t=(0,a.toCIMSymbolJSON)(e);if("CIMTextSymbol"===t.type)return t.height;var r=0,n=!0,i=!1,o=void 0;if(t.symbolLayers)try{for(var s,l=t.symbolLayers[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;(0,a.isCIMMarker)(u)&&u.size>r?r=u.size:(0,a.isCIMStroke)(u)&&u.width>r?r=u.width:(0,a.isCIMFill)(u)}}catch(e){i=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}return r}function l(e,t,r){var n=(0,a.toCIMSymbolJSON)(e),i=o(e);0!==i?u(n,t/i,!1,r):function(e,t){if("CIMTextSymbol"!==e.type){var r=!0,n=!1,i=void 0;if(e.symbolLayers)try{for(var a,o=e.symbolLayers[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;switch(s.type){case"CIMPictureMarker":case"CIMVectorMarker":s.size=t;break;case"CIMPictureStroke":case"CIMSolidStroke":s.width=t}}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}else e.height=t}(n,t)}function u(e,t,r,i){if("CIMTextSymbol"!==e.type){var a=!0,o=!1,s=void 0;if(r&&e.effects)try{for(var l,p=e.effects[Symbol.iterator]();!(a=(l=p.next()).done);a=!0){f(l.value,t)}}catch(e){o=!0,s=e}finally{try{a||null==p.return||p.return()}finally{if(o)throw s}}var d=!0,h=!1,y=void 0;if(e.symbolLayers)try{for(var v,m=e.symbolLayers[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var g=v.value;switch(g.type){case"CIMPictureMarker":case"CIMVectorMarker":c(g,t,i);break;case"CIMPictureStroke":case"CIMSolidStroke":null!=i&&i.preserveOutlineWidth||!g.width||(g.width*=t);break;case"CIMPictureFill":g.height&&(g.height*=t),g.offsetX&&(g.offsetX*=t),g.offsetY&&(g.offsetY*=t);break;case"CIMHatchFill":u(g.lineSymbol,t,!0,n.default({},i,{preserveOutlineWidth:!1})),g.offsetX&&(g.offsetX*=t),g.offsetY&&(g.offsetY*=t),g.separation&&(g.separation*=t)}}}catch(e){h=!0,y=e}finally{try{d||null==m.return||m.return()}finally{if(h)throw y}}}else e.height*=t}function c(e,t,r){var n=!0,i=!1,o=void 0;if(e.markerPlacement&&function(e,t){switch((0,a.isCIMMarkerStrokePlacement)(e)&&e.offset&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){var r=e.placementTemplate.map((function(e){return e*t}));e.placementTemplate=r}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){var n=e.placementTemplate.map((function(e){return e*t}));e.placementTemplate=n}break;case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=t);break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&"Absolute"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size*=t,"CIMVectorMarker"===e.type&&e.markerGraphics)try{for(var s,l=e.markerGraphics[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var c=s.value;e.scaleSymbolsProportionally||u(c.symbol,t,!0,r)}}catch(e){i=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}}function f(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=t);break;case"CIMGeometricEffectBuffer":e.size&&(e.size*=t);break;case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){var r=e.dashTemplate.map((function(e){return e*t}));e.dashTemplate=r}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=t);break;case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=t);break;case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=t);break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function p(e){var t=[];return d((0,a.toCIMSymbolJSON)(e),t),t.length?new(0,i.default)((0,a.fromCIMColor)(t[0])):null}function d(e,t){var r;r="CIMTextSymbol"===e.type?e.symbol:e;var n="CIMPolygonSymbol"===e.type;if(r.symbolLayers){var i=!0,o=!1,s=void 0;try{for(var l,u=r.symbolLayers[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;if(!(c.colorLocked||n&&((0,a.isCIMStroke)(c)||(0,a.isCIMMarker)(c)&&c.markerPlacement&&(0,a.isCIMMarkerStrokePlacement)(c.markerPlacement))))switch(c.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":c.tintColor&&h(t,c.tintColor);break;case"CIMVectorMarker":c.markerGraphics.forEach((function(e){d(e.symbol,t)}));break;case"CIMSolidStroke":case"CIMSolidFill":h(t,c.color);break;case"CIMHatchFill":d(c.lineSymbol,t)}}}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}}}function h(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){if(a.value.join(".")===t.join("."))return}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}e.push(t)}function y(e,t,r){t instanceof i.default||(t=new(0,i.default)(t));var n=(0,a.toCIMSymbolJSON)(e);n&&v(n,t,r)}function v(e,t,r){var n,i="CIMPolygonSymbol"===(n="CIMTextSymbol"===e.type?e.symbol:e).type,o=!0,s=!1,l=void 0;if(n.symbolLayers)try{for(var u,c=n.symbolLayers[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;if(!f.colorLocked){if(i)if(r){var p=r.layersToColor;if(((0,a.isCIMStroke)(f)||(0,a.isCIMMarker)(f)&&f.markerPlacement&&(0,a.isCIMMarkerStrokePlacement)(f.markerPlacement))&&"fill"===p||(0,a.isCIMFill)(f)&&"outline"===p)continue}else if((0,a.isCIMStroke)(f)||(0,a.isCIMMarker)(f)&&f.markerPlacement&&(0,a.isCIMMarkerStrokePlacement)(f.markerPlacement))continue;var d=t.toArray();switch(f.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":f.tintColor=d;break;case"CIMVectorMarker":f.markerGraphics.forEach((function(e){v(e.symbol,t,r)}));break;case"CIMSolidStroke":case"CIMSolidFill":f.color=d;break;case"CIMHatchFill":v(f.lineSymbol,t,r)}}}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}}})),s.register("1o7Kk",(function(t,r){e(t.exports,"evaluateValueOrFunction",(function(){return i})),e(t.exports,"colorToArray",(function(){return a})),e(t.exports,"createLabelOverrideFunction",(function(){return o})),e(t.exports,"_adjustTextCase",(function(){return l})),e(t.exports,"resampleHermite",(function(){return u})),e(t.exports,"fromCIMColor",(function(){return c})),e(t.exports,"toCIMSymbolJSON",(function(){return f})),e(t.exports,"isCIMMarker",(function(){return p})),e(t.exports,"isCIMStroke",(function(){return d})),e(t.exports,"isCIMFill",(function(){return h})),e(t.exports,"isCIMMarkerStrokePlacement",(function(){return y})),e(t.exports,"getValue",(function(){return v})),e(t.exports,"isGeometryEngineRequired",(function(){return m})),e(t.exports,"importGeometryEngine",(function(){return g})),s("8TSCy");var n=s("iCnzh");function i(e,t,r,n){return"function"==typeof e?e(t,r,n):e}function a(e){return[e.r,e.g,e.b,e.a]}function o(e,t,r){var i=function(e){for(var t=e.length;t--;)if(-1===" /-,\n".indexOf(e.charAt(t)))return!1;return!0},a=[],o=0,s=-1;do{if((s=t.indexOf("[",o))>=o){if(s>o){var u=t.substr(o,s-o);a.push([u,null,i(u)])}if(o=s+1,(s=t.indexOf("]",o))>=o){if(s>o){var c=e[t.substr(o,s-o)];c&&a.push([null,c,!1])}o=s+1}}}while(-1!==s);if(o<t.length-1){var f=t.substr(o);a.push([f,null,i(f)])}return function(e){var t="",i=null,o=!0,s=!1,u=void 0;try{for(var c,f=a[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var p=c.value,d=n.default(p,3),h=d[0],y=d[1],v=d[2];if(h)v?i=h:(i&&(t+=i,i=null),t+=h);else{var m=e.attributes[y];m&&(i&&(t+=i,i=null),t+=m)}}}catch(e){s=!0,u=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw u}}return l(t,r)}}function l(e,t){switch("string"!=typeof e&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function u(e,t,r,n,i,a){for(var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=t/i,l=r/a,u=Math.ceil(s/2),c=Math.ceil(l/2),f=0;f<a;f++)for(var p=0;p<i;p++){for(var d=4*(p+(o?a-f-1:f)*i),h=0,y=0,v=0,m=0,g=0,b=0,_=0,w=(f+.5)*l,x=Math.floor(f*l);x<(f+1)*l;x++)for(var S=Math.abs(w-(x+.5))/c,k=(p+.5)*s,T=S*S,E=Math.floor(p*s);E<(p+1)*s;E++){var I=Math.abs(k-(E+.5))/u,C=Math.sqrt(T+I*I);C>=-1&&C<=1&&((h=2*C*C*C-3*C*C+1)>0&&(_+=h*e[(I=4*(E+x*t))+3],v+=h,e[I+3]<255&&(h=h*e[I+3]/250),m+=h*e[I],g+=h*e[I+1],b+=h*e[I+2],y+=h))}n[d]=m/y,n[d+1]=g/y,n[d+2]=b/y,n[d+3]=_/v}}function c(e){return e?{r:e[0],g:e[1],b:e[2],a:e[3]/255}:{r:0,g:0,b:0,a:0}}function f(e){var t;return null==(t=e.data)?void 0:t.symbol}function p(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function d(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function h(e){return"CIMGradientFill"===e.type||"CIMHatchFill"===e.type||"CIMPictureFill"===e.type||"CIMSolidFill"===e.type||"CIMWaterFill"===e.type}function y(e){return"CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type}var v=function(e){return isNaN(e)||!e?0:e},m=function(e){if(!e)return!1;var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){switch(i.value.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":return!0}}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return!1};function g(){return s("1vWfh")}})),s.register("1vWfh",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("Km0rI")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("vg0wl"))]).then((function(){return s("1n9JK")}))})),s.register("g46qH",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("3sUCe")).then((function(){return s("lK9Yg")}))})),s.register("eKxKE",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("cCJoO")).then((function(){return s("DFfoO")}))})),s.register("23KVz",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("3m7eS")).then((function(){return s("5TXU6")}))})),s.register("frBqB",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("1XcNv")).then((function(){return s("grXPo")}))})),s.register("1fQVT",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2FSCg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4BbkU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2lYZ9")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("5CgZu"))]).then((function(){return s("3mI71")}))})),s.register("kdZ8m",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("kfhjL")).then((function(){return s("fO9V6")}))})),s.register("8aXDa",(function(t,r){e(t.exports,"InputManager",(function(){return b})),e(t.exports,"ViewEventPriorities",(function(){return S})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("kswSi"),c=s("7eJjO"),f=s("jymfC"),p=s("jHOLN"),d=s("02Olo"),h=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var y=s("fcwIv"),v=s("2mqmh"),m=s("7csz2"),g=p.default.getLogger("esri.views.input.InputManager"),b=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e))._pointerCaptures=new Map,n._nameToGroup={},n._handlers=[],n._currentPropagation=null,n._updateDependenciesAfterPropagation=!1,n._sourceEvents=new Set,n._keyModifiers=new Set,n._activeKeyModifiers=new Set,n._stoppedPropagationEventIds=new Set,n.primaryKey=v.primaryKey,n.latestPointerType="mouse",n.test={timestamp:void 0,hasCurrentPropagation:function(){return!!n._currentPropagation}},o.default(n)}return l.default(r,[{key:"initialize",value:function(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}},{key:"destroy",value:function(){var e=Object.keys(this._nameToGroup),t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.uninstallHandlers(o)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}this.eventSource=null,this._currentPropagation=null}},{key:"hasPendingInputs",get:function(){return this._handlers.some((function(e){return e.handler.hasPendingInputs}))}},{key:"installHandlers",value:function(e,t){var r=this,n=function(e){var t=r,n=a.handlers[e];r._handlers.push(n),n.handler.onInstall({updateDependencies:function(){t.updateDependencies()},emit:function(e,r,i,a,o){t._emitInputEvent(n.priorityIndex+1,e,r,i,o,a)},setPointerCapture:function(e,r){t._setPointerCapture(a,n,e,r)},setEventCallback:function(e){n.eventCallback=e},setUninstallCallback:function(e){n.uninstallCallback=e},refreshHasPendingInputs:function(){t.notifyChange("hasPendingInputs")}})},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S.INTERNAL;if(this._nameToGroup[e])g.error("There is already an InputHandler group registered under the name `"+e+"`");else if(0!==t.length){var a={name:e,handlers:t.map((function(e){return{handler:e,active:!0,removed:!1,priorityIndex:0,groupPriority:i,eventCallback:null,uninstallCallback:null}}))};this._nameToGroup[e]=a;for(var o=a.handlers.length-1;o>=0;o--)n(o);this.updateDependencies()}else g.error("Can't register a group of zero handlers")}},{key:"uninstallHandlers",value:function(e){var t=this._nameToGroup[e];t?(t.handlers.forEach((function(e){e.removed=!0,e.uninstallCallback()})),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):g.error("There is no InputHandler group registered under the name `"+e+"`")}},{key:"hasHandlers",value:function(e){return void 0!==this._nameToGroup[e]}},{key:"updateDependencies",value:function(){if(this._currentPropagation)this._updateDependenciesAfterPropagation=!0;else{this._updateDependenciesAfterPropagation=!1;var e=new Set,t=new Set;this._handlersPriority=[];for(var r=this._handlers.length-1;r>=0;r--){var n=this._handlers[r];n.priorityIndex=r,this._handlersPriority.push(n)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(var i=this._handlersPriority.length-1;i>=0;i--){var a=this._handlersPriority[i];a.priorityIndex=i;var o=a.handler.hasSideEffects;if(!o){var s=!0,l=!1,u=void 0;try{for(var c,f=a.handler.outgoingEventTypes[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var p=c.value;if(e.has(p)){o=!0;break}}}catch(e){l=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}}var d=!0,h=!1,y=void 0;if(o)try{for(var m,g=a.handler.incomingEventMatches[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var b=m.value;e.add(b.eventType);var _=!0,w=!1,x=void 0;try{for(var S,k=b.keyModifiers[Symbol.iterator]();!(_=(S=k.next()).done);_=!0){var T=S.value;(0,v.isSystemModifier)(T)||t.add(T)}}catch(e){w=!0,x=e}finally{try{_||null==k.return||k.return()}finally{if(w)throw x}}}}catch(e){h=!0,y=e}finally{try{d||null==g.return||g.return()}finally{if(h)throw y}}a.active=o}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}}},{key:"_setLatestPointerType",value:function(e){this._set("latestPointerType",e)}},{key:"_onEventReceived",value:function(e,t){if("pointer-capture-lost"===e){var r=t;this._pointerCaptures.delete(r.native.pointerId)}this._updateKeyModifiers(e,t);var n=null!=this.test.timestamp?this.test.timestamp:t.native?t.native.timestamp:void 0,i=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,n,i)}},{key:"_updateKeyModifiers",value:function(e,t){var r=this;if(t){var n=!1,i=function(){if(!n){var e=new Set;r._activeKeyModifiers.forEach((function(t){e.add(t)})),r._activeKeyModifiers=e,n=!0}},a=function(e,t){t&&!r._activeKeyModifiers.has(e)?(i(),r._activeKeyModifiers.add(e)):!t&&r._activeKeyModifiers.has(e)&&(i(),r._activeKeyModifiers.delete(e))};if("key-down"===e||"key-up"===e){var o=t.key;this._keyModifiers.has(o)&&a(o,"key-down"===e)}var s=t.native;a("Alt",!(!s||!s.altKey)),a("Ctrl",!(!s||!s.ctrlKey)),a("Shift",!(!s||!s.shiftKey)),a("Meta",!(!s||!s.metaKey)),a("Primary",this._activeKeyModifiers.has(this.primaryKey))}}},{key:"_installRecognizers",value:function(){var e=this;this._latestPointerTypeHandler=new(0,m.LatestPointerType)((function(t){return e._setLatestPointerType(t)})),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,S.INTERNAL),this.installHandlers("input-manager-logic",[this._latestPointerTypeHandler],S.INTERNAL)}},{key:"_setPointerCapture",value:function(e,t,r,n){var i=e.name+"-"+t.priorityIndex,a=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,a),n?(a.add(i),1===a.size&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):a.has(i)&&(a.delete(i),0===a.size&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}},{key:"_garbageCollectRemovedHandlers",value:function(){this._handlers=this._handlers.filter((function(e){return!e.removed})),this.updateDependencies()}},{key:"_emitInputEventFromSource",value:function(e,t,r,n){this._emitInputEvent(0,e,t,r,n)}},{key:"_emitInputEvent",value:function(e,t,r,n,i,a){var o=void 0!==n?n:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),s=void 0!==i&&i,l={event:new x(t,r,o,a||this._activeKeyModifiers,s),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(l):this._doNewPropagation(l)}},{key:"_doNewPropagation",value:function(e){this._currentPropagation={events:new(0,d.default),currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}},{key:"_continuePropagation",value:function(){var e=this._currentPropagation;if(e){for(;this._currentPropagation.events.length>0;){var t=this._currentPropagation.events.pop(),r=t.event,n=t.priorityIndex,i=r.data&&r.data.eventId;if(null==i||!this._stoppedPropagationEventIds.has(i))for(e.currentHandler=this._handlersPriority[n];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{var a=this;if(e.currentHandler.active&&!r.shouldStopPropagation()&&e.currentHandler.eventCallback(r),r.shouldStopPropagation()){null!=i&&this._stoppedPropagationEventIds.add(i);break}if(r.shouldPausePropagation((function(){return a._continuePropagation()})))return void this._pausePropagation({event:r,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}},{key:"_pausePropagation",value:function(e){var t=new(0,d.default);for(t.push(e);this._currentPropagation.events.length;)t.push(this._currentPropagation.events.pop());this._currentPropagation.events=t,this._currentPropagation.currentHandler=null}},{key:"_compareHandlerPriority",value:function(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;var r=!0,n=!1,i=void 0,a=!0,o=!1,s=void 0;try{for(var l,c=function(e,a){var o=a.value;try{for(var s,l=function(e,t){var r=t.value;if(o.eventType!==r.eventType)return"continue";var n=o.keyModifiers.filter((function(e){return-1!==r.keyModifiers.indexOf(e)}));return n.length===o.keyModifiers.length!=(n.length===r.keyModifiers.length)?{v:o.keyModifiers.length>r.keyModifiers.length?-1:1}:void 0},c=t.handler.incomingEventMatches[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var f=l(0,s);if("object"===u.default(f))return{v:f.v}}}catch(e){n=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw i}}},f=e.handler.incomingEventMatches[Symbol.iterator]();!(a=(l=f.next()).done);a=!0){var p=c(0,l);if("object"===u.default(p))return p.v}}catch(e){o=!0,s=e}finally{try{a||null==f.return||f.return()}finally{if(o)throw s}}return e.priorityIndex>t.priorityIndex?-1:1}},{key:"_sortHandlersPriority",value:function(e){var t=[],r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){for(var s=a.value,l=0;l<t.length&&this._compareHandlerPriority(s,t[l])>=0;)l++;t.splice(l,0,s)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}},{key:"debug",get:function(){var e=this,t=function(t){var r=e._setPointerCapture;e._setPointerCapture=function(){},t(),e._setPointerCapture=r};return{injectEvent:function(r,n){var i=e;t((function(){i._onEventReceived(r,n)}))},disablePointerCapture:t}}}]),r}(f.default);(0,c._)([(0,h.property)({readOnly:!0})],b.prototype,"hasPendingInputs",null),(0,c._)([(0,h.property)()],b.prototype,"eventSource",void 0),(0,c._)([(0,h.property)()],b.prototype,"recognizers",void 0),(0,c._)([(0,h.property)({readOnly:!0})],b.prototype,"latestPointerType",void 0),b=(0,c._)([(0,y.subclass)("esri.views.input.InputManager")],b);var _,w,x=function(){"use strict";function e(t,r,n,i,o){a.default(this,e),this.type=t,this.data=r,this.timestamp=n,this.modifiers=i,this.cancelable=o,this._propagationState=_.NONE,this._resumeCallback=null}return l.default(e,[{key:"stopPropagation",value:function(){this._propagationState|=_.STOPPED}},{key:"shouldStopPropagation",value:function(){return 0!=(this._propagationState&_.STOPPED)}},{key:"async",value:function(e){var t=this;this._propagationState|=_.PAUSED;var r=function(e,r){t._propagationState&=~_.PAUSED;var n=t._resumeCallback;if(t._resumeCallback=null,n&&n(),r)throw e;return e};return("function"==typeof e?e():e).then((function(e){return r(e,!1)}),(function(e){return r(e,!0)}))}},{key:"shouldPausePropagation",value:function(e){return!!(this._propagationState&_.PAUSED)&&(this._resumeCallback=e,!0)}},{key:"preventDefault",value:function(){this.data.native.preventDefault()}}]),e}();(w=_||(_={}))[w.NONE=0]="NONE",w[w.STOPPED=1]="STOPPED",w[w.PAUSED=2]="PAUSED";var S={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3}})),s.register("02Olo",(function(t,r){e(t.exports,"default",(function(){return o})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("7qybv"),o=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.values().next().value};n.default(this,e),this._peeker=t,this._items=new Set}return i.default(e,[{key:"length",get:function(){return this._items.size}},{key:"clear",value:function(){this._items.clear()}},{key:"last",value:function(){if(0!==this._items.size){var e,t=!0,r=!1,n=void 0;try{for(var i,a=this._items[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)e=i.value}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return e}}},{key:"peek",value:function(){if(0!==this._items.size)return this._peeker(this._items)}},{key:"push",value:function(e){this.contains(e)||this._items.add(e)}},{key:"contains",value:function(e){return this._items.has(e)}},{key:"pop",value:function(){if(0!==this.length){var e=this.peek();return this._items.delete((0,a.assumeNonNull)(e)),e}}},{key:"popLast",value:function(){if(0!==this.length){var e=this.last();return this._items.delete((0,a.assumeNonNull)(e)),e}}},{key:"remove",value:function(e){this._items.delete(e)}},{key:"filter",value:function(e){var t=this;return this._items.forEach((function(r){e(r)||t._items.delete(r)})),this}}]),e}()})),s.register("2mqmh",(function(t,r){e(t.exports,"primaryKey",(function(){return i})),e(t.exports,"eventKey",(function(){return c})),e(t.exports,"isSystemModifier",(function(){return f}));for(var n=s("cj7C1"),i=(0,s("2VlWd").default)("mac")?"Meta":"Ctrl",a={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"},o=48;o<58;o++)a[o]=String.fromCharCode(o);for(var l=1;l<25;l++)a[111+l]="F".concat(l);for(var u=65;u<91;u++)a[u]=[String.fromCharCode(u+32),String.fromCharCode(u)];function c(e){if(void 0!==e.key)return(0,n.eventKey)(e);var t=a[e.keyCode];return Array.isArray(t)?e.shiftKey?t[1]:t[0]:t}function f(e){switch(e){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}})),s.register("7csz2",(function(t,r){e(t.exports,"LatestPointerType",(function(){return u})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,!0))._onChange=e,n._value="mouse",n.registerIncoming("pointer-down",(function(e){var t="touch"===e.data.native.pointerType;n._setValue(t?"touch":"mouse")})),n._moveHandler=n.registerIncoming("pointer-move",(function(e){var t="touch"===e.data.native.pointerType;n._setValue(t?"touch":"mouse")})),n._moveHandler.pause(),o.default(n)}return l.default(r,[{key:"_setValue",value:function(e){e!==this._value&&("touch"===e?this._moveHandler.resume():this._moveHandler.pause(),this._value=e,this._onChange(e))}}]),r}(s("fOORG").InputHandler)})),s.register("fOORG",(function(t,r){e(t.exports,"InputHandler",(function(){return u})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("jHOLN"),o=s("dEvxQ"),l=a.default.getLogger("esri.views.input.InputHandler"),u=function(){"use strict";function e(t){n.default(this,e),this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}return i.default(e,[{key:"incomingEventMatches",get:function(){if(!this._incomingEventMatches)for(var e in this._incomingEventMatches=[],this._incoming){var t=this._incoming[e],r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;this._incomingEventMatches.push(s.match)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}return this._incomingEventMatches}},{key:"incomingEventTypes",get:function(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map((function(e){return e.eventType}))),this._incomingEventTypes}},{key:"outgoingEventTypes",get:function(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}},{key:"hasSideEffects",get:function(){return this._hasSideEffects}},{key:"hasPendingInputs",get:function(){return!1}},{key:"onInstall",value:function(e){var t=this;this._manager?l.error("This InputHandler has already been registered with an InputManager"):(e.setEventCallback((function(e){return t._handleEvent(e)})),e.setUninstallCallback((function(){return t._onUninstall()})),this._manager=e)}},{key:"onUninstall",value:function(){}},{key:"registerIncoming",value:function(e,t,r){var n,i=this;"function"==typeof t?(r=t,n=[]):n=t||[];var a="string"==typeof e?new(0,o.EventMatch)(e,n):e,s=function(){i._incomingEventTypes=null,i._incomingEventMatches=null},l=function(e){var t=i._incoming[e.match.eventType];if(t){var r=t.indexOf(e);t.splice(r,1),s(),i._manager&&i._manager.updateDependencies()}},u=new c(a,r,{onPause:l,onRemove:l,onResume:function(e){var t=i._incoming[e.match.eventType];t&&-1===t.indexOf(e)&&(t.push(e),s(),i._manager&&i._manager.updateDependencies())}}),f=this._incoming[a.eventType];return f||(f=[],this._incoming[a.eventType]=f),f.push(u),s(),this._manager&&this._manager.updateDependencies(),u}},{key:"registerOutgoing",value:function(e){var t=this;if(this._outgoing[e])throw Error("There is already a callback registered for this outgoing InputEvent: "+e);var r=new f(e,{onEmit:function(e,r,n,i){t._manager.emit(e.eventType,r,n,i)},onRemove:function(e){delete t._outgoing[e.eventType],t._manager.updateDependencies()}});return this._outgoing[e]=r,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),r}},{key:"startCapturingPointer",value:function(e){this._manager.setPointerCapture(e,!0)}},{key:"stopCapturingPointer",value:function(e){this._manager.setPointerCapture(e,!1)}},{key:"refreshHasPendingInputs",value:function(){this._manager.refreshHasPendingInputs()}},{key:"_onUninstall",value:function(){this._manager?(this.onUninstall(),this._manager=null):l.error("This InputHandler is not registered with an InputManager")}},{key:"_handleEvent",value:function(e){var t=this._incoming[e.type];if(t){var r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(s.match.matches(e)&&(s.callback(e),e.shouldStopPropagation()))break}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}}}]),e}(),c=function(){"use strict";function e(t,r,i){n.default(this,e),this.match=t,this._callback=r,this._handler=i}return i.default(e,[{key:"pause",value:function(){this._handler.onPause(this)}},{key:"resume",value:function(){this._handler.onResume(this)}},{key:"remove",value:function(){this._handler.onRemove(this)}},{key:"callback",get:function(){return this._callback}}]),e}(),f=function(){"use strict";function e(t,r){n.default(this,e),this.eventType=t,this._removed=!1,this._handler=r}return i.default(e,[{key:"emit",value:function(e,t,r){this._removed||this._handler.onEmit(this,e,t,r)}},{key:"remove",value:function(){this._removed=!0,this._handler.onRemove(this)}}]),e}()})),s.register("dEvxQ",(function(t,r){e(t.exports,"EventMatch",(function(){return a})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.default(this,e),this.eventType=t,this.keyModifiers=r}return i.default(e,[{key:"matches",value:function(e){if(e.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;var t=e.modifiers,r=!0,n=!1,i=void 0;try{for(var a,o=this.keyModifiers[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(!t.has(s))return!1}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return!0}}]),e}()})),s.register("cvNNH",(function(t,r){e(t.exports,"OwningCollection",(function(){return m})),e(t.exports,"owningCollectionProperty",(function(){return g})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("d2yMj"),f=s("30Aps"),p=s("6dXDO");s("2VlWd");var d=s("jHOLN"),h=s("7qybv"),y=s("iho5X");s("lNwWH"),s("iJAIC");var v=s("fcwIv");d.default.getLogger("esri.core.support.OwningCollection");var m=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).handles.add([n.on("before-add",(function(e){(0,h.isNone)(e.item)&&e.preventDefault()})),n.on("after-add",(function(e){return n._own(e.item)})),n.on("after-remove",(function(e){return n._release(e.item)}))]),o.default(n)}return l.default(r,[{key:"owner",get:function(){return this._get("owner")},set:function(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}},{key:"_ownAll",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.items[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;this._own(a)}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}},{key:"_releaseAll",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.items[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;this._release(a)}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}},{key:"_createNewInstance",value:function(e){return this.itemType?new(c.default.ofType(this.itemType.Type))(e):new(0,c.default)(e)}}]),r}((0,p.HandleOwnerMixin)(c.default));function g(e,t){return{type:e,cast:f.castForReferenceSetter,set:function(r){var n=(0,f.referenceSetter)(r,this._get(t),e);n.owner=this,this._set(t,n)}}}(0,u._)([(0,y.property)()],m.prototype,"owner",null),m=(0,u._)([(0,v.subclass)("esri.core.support.OwningCollection")],m)})),s.register("iWNhG",(function(t,r){e(t.exports,"GraphicsCollection",(function(){return d})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("jK9zx"),l=s("7eJjO"),u=s("bsvXr");s("jHOLN");var c=s("iJAIC");s("lNwWH"),s("2VlWd"),s("62edV");var f=s("8z0HP"),p=s("fcwIv"),d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,[{key:"_own",value:function(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}},{key:"_release",value:function(e){e.layer===this.owner&&(e.layer=null)}}]),r}(s("cvNNH").OwningCollection);(0,l._)([(0,f.shared)({Type:u.default,ensureType:(0,c.ensureType)(u.default)})],d.prototype,"itemType",void 0),d=(0,l._)([(0,p.subclass)("esri.support.GraphicsCollection")],d)})),s.register("5U4nr",(function(t,r){e(t.exports,"TaskPriority",(function(){return w})),e(t.exports,"noBudget",(function(){return U})),e(t.exports,"ImmediateTask",(function(){return B})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("Kn7R4"),l=s("bFSSc"),u=s("jK9zx"),c=s("7eJjO"),f=s("jymfC"),p=s("qhgF7"),d=s("jHOLN"),h=s("7qybv"),y=s("dvymm"),v=s("6v7Z0"),m=s("10vEZ"),g=s("lKPaD"),b=s("60cAN"),_=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var w,x,S=s("fcwIv"),k=s("1RihC"),T=s("9knBk"),E=d.default.getLogger("esri.views.support.Scheduler");(x=w||(w={})).RESOURCE_CONTROLLER="schedule",x.SLIDE="slide",x.STREAM_DATA_LOADER="stream loader",x.ELEVATION_QUERY="elevation query",x.TERRAIN_SURFACE="terrain",x.SURFACE_GEOMETRY_UPDATES="surface geometry updates",x.GRAPHICS_CORE="Graphics3D",x.I3S_CONTROLLER="I3S",x.POINT_CLOUD_LAYER="point cloud",x.FEATURE_TILE_FETCHER="feature fetcher",x.OVERLAY="overlay",x.STAGE="stage",x.GRAPHICS_DECONFLICTOR="graphics deconflictor",x.FILTER_VISIBILITY="Graphics3D filter visibility",x.SCALE_VISIBILITY="Graphics3D scale visibility",x.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",x.POINT_OF_INTEREST_FREQUENT="POI frequent",x.POINT_OF_INTEREST_INFREQUENT="POI infrequent",x.LABELER="labeler",x.FEATURE_QUERY_ENGINE="feature query",x.FEATURE_TILE_TREE="feature tile tree",x.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",x.ELEVATION_ALIGNMENT="elevation alignment",x.TEXT_TEXTURE_ATLAS="text texture atlas",x.TEXTURE_UNLOAD="texture unload",x.LINE_OF_SIGHT_TOOL="line of sight tool",x.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",x.ELEVATION_PROFILE="elevation profile",x.SNAPPING="snapping",x.SHADOW_ACCUMULATOR="shadow accumulator",x.CLOUDS_GENERATOR="cloud generator",x[x.TEST_PRIO=1]="TEST_PRIO";var I,C,O=new Map([[w.RESOURCE_CONTROLLER,0],[w.SLIDE,0],[w.STREAM_DATA_LOADER,0],[w.ELEVATION_QUERY,0],[w.TERRAIN_SURFACE,1],[w.SURFACE_GEOMETRY_UPDATES,1],[w.GRAPHICS_CORE,2],[w.I3S_CONTROLLER,2],[w.POINT_CLOUD_LAYER,2],[w.FEATURE_TILE_FETCHER,2],[w.OVERLAY,4],[w.STAGE,4],[w.GRAPHICS_DECONFLICTOR,4],[w.FILTER_VISIBILITY,4],[w.SCALE_VISIBILITY,4],[w.FRUSTUM_VISIBILITY,4],[w.POINT_OF_INTEREST_FREQUENT,6],[w.POINT_OF_INTEREST_INFREQUENT,30],[w.LABELER,8],[w.FEATURE_QUERY_ENGINE,8],[w.FEATURE_TILE_TREE,16],[w.FEATURE_TILE_TREE_ACTIVE,0],[w.ELEVATION_ALIGNMENT,12],[w.TEXT_TEXTURE_ATLAS,12],[w.CLOUDS_GENERATOR,12],[w.TEXTURE_UNLOAD,12],[w.LINE_OF_SIGHT_TOOL,16],[w.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[w.SNAPPING,0],[w.SHADOW_ACCUMULATOR,30]]);function L(e){return O.has(e)?O.get(e):"number"==typeof e?e:1}(C=I||(I={}))[C.ANIMATING=0]="ANIMATING",C[C.INTERACTING=1]="INTERACTING",C[C.IDLE=2]="IDLE";var A,M,N,R=(0,b.Milliseconds)(6.5),P=(0,b.Milliseconds)(1),F=(0,b.Milliseconds)(30),j=(0,b.Milliseconds)(1e3/30),D=(0,b.Milliseconds)(100);!function(e){var t=function(e){"use strict";n.default(c,e);var t=i.default(c);function c(e){var r;a.default(this,c),(r=t.call(this,e)).updating=!0,r._microTaskQueued=!1,r.performanceInfo={total:new(0,y.default)("total"),tasks:new Map},r._frameTaskTimes=new Map,r._budget=null,r._state=I.INTERACTING,r._tasks=new(0,v.default),r._runQueue=new(0,v.default),r._load=0,r._idleStateCallbacks=new(0,v.default),r._idleUpdatesStartFired=!1,r._maxReschedule=H,r._forceTask=!1,r._debug=!1,r._debugHandle=(0,g.watch)((function(){return T.default.SCHEDULER_LOG_SLOW_TASKS}),(function(e){return r._debug=e}),g.initial),r._budget=new s(e.nowFunc);var n,i=!0,u=!1,f=void 0;try{for(var p,d=Object.keys(w)[Symbol.iterator]();!(i=(p=d.next()).done);i=!0){var m=p.value;r.performanceInfo.tasks.set(w[m],new(0,y.default)(w[m]))}}catch(e){u=!0,f=e}finally{try{i||null==d.return||d.return()}finally{if(u)throw f}}var b=o.default(r);return r._test={get state(){return l.default(r,(0,h.unwrapOr)(n,b._state))},set state(e){n=e},FRAME_SAFETY_BUDGET:R,INTERACTING_BUDGET:j,IDLE_BUDGET:D,get budget(){return l.default(r,b._budget.budget)},usedBudget:0,setBudget:function(e){return b._budget=e},updateTask:function(e){return r._updateTask(e)},getState:function(e){return r._getState(e)},getRuntime:function(e){return r._getRuntime(e)},frameTaskTimes:r._frameTaskTimes,resetRuntimes:function(){return r._resetRuntimes()},getRunning:function(){return r._getRunning()}},l.default(r)}return u.default(c,[{key:"destroy",value:function(){this._tasks.toArray().forEach((function(e){return e.remove()})),this._tasks.clear(),(0,h.removeMaybe)(this._debugHandle),this._microTaskQueued=!1,this.updating=!1}},{key:"activate",value:function(){var e=this;this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask((function(){e._microTaskQueued&&(e._microTaskQueued=!1,e._budget.done||(e._maxReschedule=H,e._schedule(),e.frame()))})))}},{key:"registerTask",value:function(e,t){var n=L(e),i=new r(this,e,t,n);return this._tasks.push(i),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new(0,y.default)(e)),i}},{key:"registerIdleStateCallbacks",value:function(e,t){var r=this,n={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(n),this.state===I.IDLE&&this._idleUpdatesStartFired&&n.idleBegin();var i=this;return{remove:function(){return r._removeIdleStateCallbacks(n)},set idleBegin(e){i._idleUpdatesStartFired&&(n.idleEnd(),i._state===I.IDLE&&e()),n.idleBegin=e},set idleEnd(e){n.idleEnd=e}}}},{key:"now",get:function(){return this.nowFunc()}},{key:"load",get:function(){return this._load}},{key:"state",get:function(){return(0,h.isNone)(this._test.state)?this._state:this._test.state},set:function(e){this._state!==e&&(this._state=e,this.state!==I.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll((function(e){return e.idleEnd()}))))}},{key:"updateBudget",value:function(e){this._test.usedBudget=0;var t=R,r=e.frameDuration,n=P;switch(this.state){case I.IDLE:t=(0,b.Milliseconds)(0),r=(0,b.Milliseconds)(Math.max(D,e.frameDuration)),n=F;break;case I.INTERACTING:r=(0,b.Milliseconds)(Math.max(j,e.frameDuration));case I.ANIMATING:}return r=(0,b.Milliseconds)(r-e.elapsedFrameTime-t),this.state!==I.IDLE&&r<P&&!this._forceTask?(this._forceTask=!0,!1):(r=(0,b.Milliseconds)(Math.max(r,n)),this._budget.reset(r,this.state),this._maxReschedule=H,this._updateLoad(),this._schedule())}},{key:"frame",value:function(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case I.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll((function(e){return e.idleBegin()}))),this._runIdle();break;case I.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}},{key:"stopFrame",value:function(){this._budget.reset((0,b.Milliseconds)(0),this._state),this._budget.madeProgress()}},{key:"_removeIdleStateCallbacks",value:function(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}},{key:"removeTask",value:function(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e)}},{key:"_updateTask",value:function(e){this._tasks.forAll((function(t){t.name===e&&t.setPriority(e)}))}},{key:"_getState",value:function(e){if(this._runQueue.some((function(t){return t.name===e})))return M.SCHEDULED;var t=M.IDLE;return this._tasks.forAll((function(r){r.name===e&&r.needsUpdate&&(r.schedulePriority<=1?t=M.READY:t!==M.READY&&(t=M.WAITING))})),t}},{key:"_getRuntime",value:function(e){var t=0;return this._tasks.forAll((function(r){r.name===e&&(t+=r.runtime)})),t}},{key:"_resetRuntimes",value:function(){this._tasks.forAll((function(e){return e.runtime=0}))}},{key:"_getRunning",value:function(){var e=new Map;if(this._tasks.forAll((function(t){t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)})),0===e.size)return null;var t="";return e.forEach((function(e,r){t+=e>1?" ".concat(e,"x ").concat(r):" ".concat(r)})),t}},{key:"_runIdle",value:function(){this._run()}},{key:"_runInteracting",value:function(){this._run()}},{key:"_runAnimating",value:function(){this._run()}},{key:"_updateLoad",value:function(){var e=this._tasks.reduce((function(e,t){return t.needsUpdate?++e:e}),0);this._load=.9*this._load+e*(1-.9)}},{key:"_schedule",value:function(){var e=this;if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace((function(e){return!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1)})),this._tasks.forAll((function(t){0===t.basePriority&&t.needsUpdate&&!e._runQueue.some((function(e){return e===t}))&&e._runQueue.unshift(t)}));0===this._runQueue.length;){var t=this,r=!1,n=0;if(this._tasks.forAll((function(e){e.needsUpdate&&0!==e.schedulePriority&&0!==e.basePriority&&(r=!0,n=Math.max(n,e.basePriority),1===e.schedulePriority?(e.schedulePriority=0,t._runQueue.push(e)):--e.schedulePriority)})),!r)return this.updating=!1,!1;this._maxReschedule===H&&(this._maxReschedule=n),--this._maxReschedule}return this.updating=!0,!0}},{key:"_run",value:function(){var e=this._budget.now();this._startFrameTaskTimes();do{for(;this._runQueue.length>0;){var t=this._budget.now(),r=this._runQueue.pop();this._budget.resetProgress();try{r.task.runTask(this._budget)}catch(e){E.error('Exception in task "'.concat(r.name,'"'),e)}r.schedulePriority=r.basePriority;var n=this._budget.now()-t;if(r.runtime+=n,this._frameTaskTimes.set(r.priority,this._frameTaskTimes.get(r.priority)+n),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",r.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return this.updating=this._tasks.some((function(e){return e.needsUpdate})),void this._recordFrameTaskTimes(this._budget.now()-e)}}while(this._schedule());this.updating=this._tasks.some((function(e){return e.needsUpdate})),this._recordFrameTaskTimes(this._budget.now()-e)}},{key:"_startFrameTaskTimes",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=Object.keys(w)[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;this._frameTaskTimes.set(w[a],0)}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}},{key:"_recordFrameTaskTimes",value:function(e){var t=this;this._frameTaskTimes.forEach((function(e,r){return t.performanceInfo.tasks.get(r).record(e)})),this.performanceInfo.total.record(e)}},{key:"test",get:function(){return this._test}}]),c}(f.default);(0,c._)([(0,_.property)()],t.prototype,"updating",void 0),(0,c._)([(0,_.property)()],t.prototype,"nowFunc",void 0),t=(0,c._)([(0,S.subclass)("esri.views.support.Scheduler")],t),e.Scheduler=t;var r=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e,n,i,o){var s;return a.default(this,r),(s=t.call(this,{}))._scheduler=e,s.name=n,s._basePriority=o,s.runtime=0,s._queue=new(0,k.PromiseQueue),s._handles=new(0,p.default),s.schedulePriority=s._basePriority,s.task=(0,h.isSome)(i)?i:s._queue,s._handles.add((0,g.when)((function(){return s.task.running}),(function(){return e.activate()}))),l.default(s)}return u.default(r,[{key:"updating",get:function(){return this._queue.running}},{key:"normalizeCtorArgs",value:function(){return{}}},{key:"remove",value:function(){this.processQueue(U),this._scheduler.removeTask(this),this.schedule=B.schedule,this.reschedule=B.reschedule,this._handles.destroy()}},{key:"basePriority",get:function(){return this._basePriority}},{key:"setPriority",value:function(e){this.name=e;var t=L(e);0!==this._basePriority&&0===this.schedulePriority||(this.schedulePriority=t),this._basePriority=t}},{key:"priority",get:function(){return this.name},set:function(e){this.setPriority(e)}},{key:"needsUpdate",get:function(){return this.updating||this.task.running}},{key:"schedule",value:function(e,t,r){return this._queue.push(e,t,r)}},{key:"reschedule",value:function(e,t,r){return this._queue.unshift(e,t,r)}},{key:"processQueue",value:function(e){this._queue.runTask(e)}}]),r}(f.default);(0,c._)([(0,_.property)({constructOnly:!0})],r.prototype,"task",void 0),(0,c._)([(0,_.property)({readOnly:!0})],r.prototype,"updating",null),r=(0,c._)([(0,S.subclass)("esri.views.support.SchedulerTask")],r);var s=function(){"use strict";function e(t){a.default(this,e),this.now=t,this._begin=0,this._budget=0,this._state=I.IDLE,this._didWork=!1,this._enabled=!0}return u.default(e,[{key:"run",value:function(e){return!this.done&&(!0===e()&&(this._didWork=!0),!0)}},{key:"done",get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}},{key:"budget",get:function(){return this._budget}},{key:"madeProgress",value:function(){this._didWork=!0}},{key:"state",get:function(){return this._state}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e}},{key:"reset",value:function(e,t){this._begin=this.now(),this._budget=e,this._state=t,this._didWork=!1}},{key:"remaining",get:function(){return Math.max(this._budget-this.elapsed,0)}},{key:"elapsed",get:function(){return this.now()-this._begin}},{key:"resetProgress",value:function(){this._didWork=!1}},{key:"hasProgressed",get:function(){return this._didWork}}]),e}();e.Budget=s}(A||(A={})),(N=M||(M={})).SCHEDULED="s",N.READY="r",N.WAITING="w",N.IDLE="i";var U=function(){var e=new A.Budget((function(){return performance.now()}));return e.enabled=!1,e}(),V=function(){"use strict";function e(){a.default(this,e)}return u.default(e,[{key:"remove",value:function(){}},{key:"processQueue",value:function(){}},{key:"schedule",value:function(e,t,r){try{if((0,m.isAborted)(t)){var n=(0,m.createAbortError)();return r?Promise.resolve(r(n)):Promise.reject(n)}return(0,m.when)(e(U))}catch(e){return Promise.reject(e)}}},{key:"reschedule",value:function(e,t,r){return this.schedule(e,t,r)}}]),e}(),B=new V,H=Number.MAX_SAFE_INTEGER})),s.register("1RihC",(function(t,r){e(t.exports,"PromiseQueue",(function(){return h})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jymfC"),f=s("10vEZ"),p=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var d=s("fcwIv"),h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))))._tasks=new Array,e.running=!1,o.default(e)}return l.default(r,[{key:"length",get:function(){return this._tasks.length}},{key:"destroy",value:function(){this.cancelAll()}},{key:"runTask",value:function(e){for(;!e.done&&this._process(e);)e.madeProgress()}},{key:"push",value:function(e,t,r){var n=this;return this.running=!0,new Promise((function(i,a){return n._tasks.push(new y(i,a,e,t,r))}))}},{key:"unshift",value:function(e,t,r){var n=this;return this.running=!0,new Promise((function(i,a){return n._tasks.unshift(new y(i,a,e,t,r))}))}},{key:"_process",value:function(e){if(0===this._tasks.length)return!1;var t=this._tasks.shift();try{var r=(0,f.isAborted)(t.signal);if(r&&!t.abortCallback)t.reject((0,f.createAbortError)());else{var n=r?t.abortCallback((0,f.createAbortError)()):t.callback(e);(0,f.isPromiseLike)(n)?n.then(t.resolve,t.reject):t.resolve(n)}}catch(e){t.reject(e)}return this.running=this._tasks.length>0,!0}},{key:"cancelAll",value:function(){var e=(0,f.createAbortError)(),t=!0,r=!1,n=void 0;try{for(var i,a=this._tasks[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(o.abortCallback){var s=o.abortCallback(e);o.resolve(s)}else o.reject(e)}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}this._tasks.length=0,this.running=!1}}]),r}(c.default);(0,u._)([(0,p.property)()],h.prototype,"running",void 0),h=(0,u._)([(0,d.subclass)("esri.layers.support.PromiseQueue")],h);var y=function e(t,r,n,i,o){"use strict";a.default(this,e),this.resolve=t,this.reject=r,this.callback=n,this.signal=i,this.abortCallback=o}})),s.register("9knBk",(function(t,r){e(t.exports,"default",(function(){return d})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("jymfC"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f=s("fcwIv"),p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).SCHEDULER_LOG_SLOW_TASKS=!1,e.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1,o.default(e)}return r}(u.default);(0,l._)([(0,c.property)()],p.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),(0,l._)([(0,c.property)()],p.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0);var d=new(p=(0,l._)([(0,f.subclass)("esri.views.support.DebugFlags")],p))})),s.register("lSSNj",(function(t,r){var n,i;function a(e){return e===n.Global?"global":"local"}e(t.exports,"ViewingMode",(function(){return n})),e(t.exports,"stringFromViewingMode",(function(){return a})),(i=n||(n={}))[i.Global=1]="Global",i[i.Local=2]="Local"})),s.register("56utH",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("6P8cp")).then((function(){return s("7ac3K")}))})),s.register("hgO8t",(function(t,r){e(t.exports,"extentToScale",(function(){return I})),e(t.exports,"create",(function(){return M})),e(t.exports,"copy",(function(){return R})),e(t.exports,"getAnchor",(function(){return P})),e(t.exports,"getExtent",(function(){return j})),e(t.exports,"getResolution",(function(){return W})),e(t.exports,"setExtent",(function(){return D})),e(t.exports,"centerAt",(function(){return ue})),e(t.exports,"getTransform",(function(){return Z})),e(t.exports,"getPaddingScreenTranslation",(function(){return H})),e(t.exports,"getMatrix",(function(){return Y})),e(t.exports,"getTransformNoRotation",(function(){return Q})),e(t.exports,"getWorldWidth",(function(){return ee})),e(t.exports,"getWorldScreenWidth",(function(){return te})),e(t.exports,"angleBetween",(function(){return se})),e(t.exports,"addPadding",(function(){return le})),e(t.exports,"resize",(function(){return ce})),e(t.exports,"translateBy",(function(){return Ie})),e(t.exports,"rotateBy",(function(){return fe})),e(t.exports,"rotateTo",(function(){return pe})),e(t.exports,"scaleTo",(function(){return ye})),e(t.exports,"scaleAndRotateBy",(function(){return Se})),e(t.exports,"padAndScaleAndRotateBy",(function(){return ke})),s("8TSCy");var i=s("jcnGU"),a=s("2TvXO"),o=s("9UYxM"),l=s("d2yMj"),u=s("7qybv"),c=s("5vzSQ"),f=s("1CBkz"),p=s("b4Wmd"),d=s("7ewN0"),h=s("hRgCq"),y=s("iE3Nt"),v=s("gINRd"),m=s("Pe3X5"),g=s("d1Fqh"),b=s("7RvA5"),_=s("j40xv"),w=s("eY5Yp"),x=39.37,S=180/Math.PI;function k(e){return e.wkid?e:e.spatialReference||_.default.WGS84}function T(e,t){return t.type?(0,h.s)(e,t.x,t.y):(0,h.c)(e,t)}function E(e){return(0,c.getMetersPerUnitForSR)(e)}function I(e,t){return Math.max(e.width/t[0],e.height/t[1])*(r=e.spatialReference,(0,w.isValid)(r)?E(r)*x*96:1);var r}function C(e,t,r,n){return O.apply(this,arguments)}function O(){return(O=i.default(n(a).mark((function e(t,r,i,o){var s,c,f,p,d,h,y,_,w,x,S,k,T,E,I,O,L,A,M,N,R,P,F,j,D,U,V,B,H,z,W,G,J,q,X,K,$,Y,Z,Q,ee;return n(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.abrupt("return",null);case 3:if(!Array.isArray(t)||t.length){e.next=5;break}return e.abrupt("return",null);case 5:if(l.default.isCollection(t)&&(t=t.toArray()),!Array.isArray(t)||!t.length||"object"!=typeof t[0]){e.next=99;break}if(f=t.every((function(e){return"attributes"in e})),p=t.some((function(e){return!e.geometry})),d=t,!(f&&p&&r&&r.allLayerViews)){e.next=73;break}for(h=new Map,y=!0,_=!1,w=void 0,e.prev=11,x=t[Symbol.iterator]();!(y=(S=x.next()).done);y=!0)k=S.value,T=k.layer,E=h.get(T)||[],null!=(I=k.attributes[T.objectIdField])&&E.push(I),h.set(T,E);e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),_=!0,w=e.t0;case 19:e.prev=19,e.prev=20,y||null==x.return||x.return();case 22:if(e.prev=22,!_){e.next=25;break}throw w;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return O=[],h.forEach((function(e,t){var n=r.allLayerViews.find((function(e){return e.layer.id===t.id}));if("queryFeatures"in n){var i=t.createQuery();i.objectIds=e,i.returnGeometry=!0,O.push(n.queryFeatures(i))}})),e.next=31,Promise.all(O);case 31:L=e.sent,A=[],M=!0,N=!1,R=void 0,P=!0,F=!1,j=void 0,e.prev=34,D=L[Symbol.iterator]();case 36:if(P=(U=D.next()).done){e.next=58;break}if(!((V=U.value)&&V.features&&V.features.length)){e.next=55;break}for(e.prev=39,B=V.features[Symbol.iterator]();!(M=(H=B.next()).done);M=!0)z=H.value,(0,u.isSome)(z.geometry)&&A.push(z.geometry);e.next=47;break;case 43:e.prev=43,e.t1=e.catch(39),N=!0,R=e.t1;case 47:e.prev=47,e.prev=48,M||null==B.return||B.return();case 50:if(e.prev=50,!N){e.next=53;break}throw R;case 53:return e.finish(50);case 54:return e.finish(47);case 55:P=!0,e.next=36;break;case 58:e.next=64;break;case 60:e.prev=60,e.t2=e.catch(34),F=!0,j=e.t2;case 64:e.prev=64,e.prev=65,P||null==D.return||D.return();case 67:if(e.prev=67,!F){e.next=70;break}throw j;case 70:return e.finish(67);case 71:return e.finish(64);case 72:d=A;case 73:W=!0,G=!1,J=void 0,e.prev=74,q=d[Symbol.iterator]();case 76:if(W=(X=q.next()).done){e.next=84;break}return K=X.value,e.next=80,C(K,r,i,o);case 80:o=e.sent;case 81:W=!0,e.next=76;break;case 84:e.next=90;break;case 86:e.prev=86,e.t3=e.catch(74),G=!0,J=e.t3;case 90:e.prev=90,e.prev=91,W||null==q.return||q.return();case 93:if(e.prev=93,!G){e.next=96;break}throw J;case 96:return e.finish(93);case 97:return e.finish(90);case 98:return e.abrupt("return",o);case 99:if(!Array.isArray(t)||2!==t.length||"number"!=typeof t[0]||"number"!=typeof t[1]){e.next=103;break}s=new(0,g.default)(t),e.next=121;break;case 103:if(!(t instanceof m.default)){e.next=107;break}s=t,e.next=121;break;case 107:if(!("geometry"in t)){e.next=121;break}if(!t.geometry){e.next=112;break}s=t.geometry,e.next=121;break;case 112:if(!t.layer){e.next=121;break}if($=t.layer,!("queryFeatures"in(Y=r.allLayerViews.find((function(e){return e.layer.id===$.id}))))){e.next=121;break}return(Z=$.createQuery()).objectIds=[t.attributes[$.objectIdField]],Z.returnGeometry=!0,e.next=119,Y.queryFeatures(Z);case 119:Q=e.sent,s=(0,u.get)(Q,"features",0,"geometry");case 121:if(!(0,u.isNone)(s)){e.next=123;break}return e.abrupt("return",null);case 123:if(c="point"===s.type?new(0,v.default)({xmin:s.x,ymin:s.y,xmax:s.x,ymax:s.y,spatialReference:s.spatialReference}):s.extent){e.next=125;break}return e.abrupt("return",null);case 125:if(e.t4=(0,b.isLoaded)()||(0,b.canProjectWithoutEngine)(c.spatialReference,i),e.t4){e.next=129;break}return e.next=129,(0,b.load)();case 129:return ee=(0,b.project)(c,i),e.abrupt("return",ee?o=o?o.union(ee):ee:null);case 131:case"end":return e.stop()}}),e,null,[[11,15,19,27],[20,,22,26],[34,60,64,72],[39,43,47,55],[48,,50,54],[65,,67,71],[74,86,90,98],[91,,93,97]])})))).apply(this,arguments)}function L(e){if(e&&(!Array.isArray(e)||"number"!=typeof e[0])&&("object"==typeof e||Array.isArray(e)&&"object"==typeof e[0])){if("layer"in e&&e.layer&&e.layer.minScale&&e.layer.maxScale){var t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every((function(e){return"layer"in e}))){var r=0,n=0,i=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value.layer;u&&u.minScale&&u.maxScale&&(r=u.minScale<r?u.minScale:r,n=u.maxScale>n?u.maxScale:n)}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return r&&n?{min:r,max:n}:null}}}function A(e,t){return(0,w.equals)(k(e),t)?e:(0,b.project)(e,t)}function M(e,t){return N.apply(this,arguments)}function N(){return(N=i.default(n(a).mark((function e(t,r){var i,s,l,c,f,p,d,h,y,m,_,x,S,T;return n(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r){e.next=2;break}return e.abrupt("return",new(0,o.default)({targetGeometry:new(0,g.default),scale:0,rotation:0}));case 2:if(i=r.spatialReference,s=r.constraints,l=r.padding,c=r.viewpoint,f=r.size,p=[l?f[0]-l.left-l.right:f[0],l?f[1]-l.top-l.bottom:f[1]],d=null,t instanceof o.default?d=t:t.viewpoint?d=t.viewpoint:t.target&&"esri.Viewpoint"===t.target.declaredClass&&(d=t.target),h=null,!d||!d.targetGeometry){e.next=11;break}h=d.targetGeometry,e.next=35;break;case 11:if(!(t instanceof v.default)){e.next=15;break}h=t,e.next=35;break;case 15:if(e.t0=t||t&&("center"in t||"extent"in t||"target"in t),!e.t0){e.next=35;break}return e.next=19,C(t.center,r,i);case 19:if(e.t3=e.sent,e.t3){e.next=24;break}return e.next=23,C(t.extent,r,i);case 23:e.t3=e.sent;case 24:if(e.t2=e.t3,e.t2){e.next=29;break}return e.next=28,C(t.target,r,i);case 28:e.t2=e.sent;case 29:if(e.t1=e.t2,e.t1){e.next=34;break}return e.next=33,C(t,r,i);case 33:e.t1=e.sent;case 34:h=e.t1;case 35:if(!h&&c&&c.targetGeometry?h=c.targetGeometry:!h&&r.extent&&(h=r.extent),i||(i=k(r.spatialReference||r.extent||h)),e.t4=(0,b.isLoaded)()||(0,w.equals)(h.spatialReference,i)||(0,b.canProjectWithoutEngine)(h,i),e.t4){e.next=41;break}return e.next=41,(0,b.load)();case 41:return y=A(h.center?h.center:h,i),m=null,d&&(0,u.isSome)(d.targetGeometry)&&"point"===d.targetGeometry.type?m=d.scale:"scale"in t&&t.scale?m=t.scale:"zoom"in t&&-1!==t.zoom&&s&&s.effectiveLODs?m=s.zoomToScale(t.zoom):Array.isArray(h)||"point"===h.type||"extent"===h.type&&0===h.width&&0===h.height?(_=A(r.extent,i),m=(0,u.isSome)(_)?I(_,p):r.extent?I(r.extent,p):c.scale):m=I(A(h.extent,i),p),(x=L(t))&&(x.min&&x.min>m?m=x.min:x.max&&x.max<m&&(m=x.max)),S=0,d?S=d.rotation:t.hasOwnProperty("rotation")?S=t.rotation:c&&(S=c.rotation),T=new(0,o.default)({targetGeometry:y,scale:m,rotation:S}),e.abrupt("return",(s&&(T=s.fit(T),s.constrainByGeometry(T),s.rotationEnabled||(T.rotation=S)),T));case 50:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){var r=e.targetGeometry,n=t.targetGeometry;return r.x=n.x,r.y=n.y,r.spatialReference=n.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function P(e,t,r){return r?(0,h.s)(e,.5*(t[0]-r.right+r.left),.5*(t[1]-r.bottom+r.top)):(0,h.g)(e,t,.5)}var F,j=(F=(0,y.a)(),function(e,t,r){var n=t.targetGeometry;T(F,n);var i=.5*W(t);return e.xmin=F[0]-i*r[0],e.ymin=F[1]-i*r[1],e.xmax=F[0]+i*r[0],e.ymax=F[1]+i*r[1],e.spatialReference=n.spatialReference,e});function D(e,t,r,n,i){return ue(e,t,r.center),e.scale=I(r,n),i&&i.constraints&&i.constraints.constrain(e),e}var U,V,B,H=(B=(0,y.a)(),function(e,t,r){return(0,h.h)(e,(n=e,i=t,(0,h.g)(n,i,.5)),P(B,t,r));var n,i}),z=(U=(0,d.c)(),V=(0,y.a)(),function(e,t,r,n){var i=W(t),a=G(t);return(0,h.s)(V,i,i),(0,p.f)(U,V),(0,p.r)(U,U,a),(0,p.t)(U,U,H(V,r,n)),(0,p.t)(U,U,[0,n.top-n.bottom]),(0,h.s)(e,U[4],U[5])});function W(e){return e.scale*(t=e.targetGeometry,(0,u.isSome)(t)&&(0,w.isValid)(t.spatialReference)?1/(E(t.spatialReference)*x*96):1);var t}function G(e){return(0,f.t)(e.rotation)||0}var J,q,X,K,$,Y=(X=(0,y.a)(),K=(0,y.a)(),$=(0,y.a)(),function(e,t,r,n,i,a){return(0,h.n)(X,t),(0,h.g)(K,r,.5*a),(0,h.s)($,1/n*a,-1/n*a),(0,p.a)(e,K),i&&(0,p.r)(e,e,i),(0,p.s)(e,e,$),(0,p.t)(e,e,X),e}),Z=(q=(0,y.a)(),function(e,t,r,n){var i=W(t),a=G(t);return T(q,t.targetGeometry),Y(e,q,r,i,a,n)}),Q=(J=(0,y.a)(),function(e,t,r,n){var i=W(t);return T(J,t.targetGeometry),Y(e,J,r,i,0,n)});function ee(e){if(e.isWrappable){var t=(0,w.getInfo)(e);return t.valid[1]-t.valid[0]}return 0}function te(e,t){return Math.round(ee(e)/t)}var re,ne,ie,ae,oe,se=(ie=(0,y.a)(),ae=(0,y.a)(),oe=[0,0,0],function(e,t,r){(0,h.f)(ie,e,t),(0,h.i)(ie,ie),(0,h.f)(ae,e,r),(0,h.i)(ae,ae),(0,h.j)(oe,ie,ae);var n=Math.acos((0,h.k)(ie,ae)/((0,h.l)(ie)*(0,h.l)(ae)))*S;return oe[2]<0&&(n=-n),isNaN(n)&&(n=0),n}),le=(ne=(0,y.a)(),function(e,t,r,n){var i=e.targetGeometry;return R(e,t),z(ne,t,r,n),i.x+=ne[0],i.y+=ne[1],e}),ue=function(e,t,r){R(e,t);var n=e.targetGeometry;return n.x=r.x,n.y=r.y,n.spatialReference=r.spatialReference,e},ce=(re=(0,y.a)(),function(e,t,r,n,i){i||(i="center"),(0,h.h)(re,r,n),(0,h.g)(re,re,.5);var a=re[0],o=re[1];switch(i){case"center":(0,h.s)(re,0,0);break;case"left":(0,h.s)(re,-a,0);break;case"top":(0,h.s)(re,0,o);break;case"right":(0,h.s)(re,a,0);break;case"bottom":(0,h.s)(re,0,-o);break;case"top-left":(0,h.s)(re,-a,o);break;case"bottom-left":(0,h.s)(re,-a,-o);break;case"top-right":(0,h.s)(re,a,o);break;case"bottom-right":(0,h.s)(re,a,-o)}return Ie(e,t,re),e});function fe(e,t,r){return R(e,t),e.rotation+=r,e}function pe(e,t,r){return R(e,t),e.rotation=r,e}var de,he=(de=(0,y.a)(),function(e,t,r,n,i){return R(e,t),isNaN(r)||0===r||(Te(de,n,t,i),e.scale=t.scale*r,Ee(de,de,e,i),Ie(e,e,(0,h.s)(de,de[0]-n[0],n[1]-de[1]))),e});function ye(e,t,r){return R(e,t),e.scale=r,e}var ve,me,ge,be,_e,we,xe,Se=(xe=(0,y.a)(),function(e,t,r,n,i,a){return R(e,t),isNaN(r)||0===r||(Te(xe,i,t,a),e.scale=t.scale*r,e.rotation+=n,Ee(xe,xe,e,a),Ie(e,e,(0,h.s)(xe,xe[0]-i[0],i[1]-xe[1]))),e}),ke=(_e=(0,y.a)(),we=(0,y.a)(),function(e,t,r,n,i,a,o){return H(we,a,o),(0,h.m)(_e,i,we),n?Se(e,t,r,n,_e,a):he(e,t,r,_e,a)}),Te=(be=(0,d.c)(),function(e,t,r,n){return(0,h.t)(e,t,(Z(i=be,r,n,1),(0,p.i)(i,i)));var i}),Ee=(ge=(0,d.c)(),function(e,t,r,n){return(0,h.t)(e,t,Z(ge,r,n,1))}),Ie=(ve=(0,y.a)(),me=(0,d.c)(),function(e,t,r){R(e,t);var n=W(t),i=e.targetGeometry;return(0,p.b)(me,G(t)),(0,p.s)(me,me,(0,y.f)(n,n)),(0,h.t)(ve,r,me),i.x+=ve[0],i.y+=ve[1],e})})),s.register("b4Wmd",(function(t,r){e(t.exports,"c",(function(){return i})),e(t.exports,"i",(function(){return a})),e(t.exports,"m",(function(){return o})),e(t.exports,"r",(function(){return l})),e(t.exports,"s",(function(){return u})),e(t.exports,"t",(function(){return c})),e(t.exports,"b",(function(){return f})),e(t.exports,"f",(function(){return p})),e(t.exports,"a",(function(){return d}));var n=s("1CBkz");function i(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function a(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=r*a-n*i;return l?(l=1/l,e[0]=a*l,e[1]=-n*l,e[2]=-i*l,e[3]=r*l,e[4]=(i*s-a*o)*l,e[5]=(n*o-r*s)*l,e):null}function o(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1],f=r[2],p=r[3],d=r[4],h=r[5];return e[0]=n*u+a*c,e[1]=i*u+o*c,e[2]=n*f+a*p,e[3]=i*f+o*p,e[4]=n*d+a*h+s,e[5]=i*d+o*h+l,e}function l(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=Math.sin(r),c=Math.cos(r);return e[0]=n*c+a*u,e[1]=i*c+o*u,e[2]=n*-u+a*c,e[3]=i*-u+o*c,e[4]=s,e[5]=l,e}function u(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1];return e[0]=n*u,e[1]=i*u,e[2]=a*c,e[3]=o*c,e[4]=s,e[5]=l,e}function c(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1];return e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=n*u+a*c+s,e[5]=i*u+o*c+l,e}function f(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function p(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function d(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function h(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}var y=o,v=h;Object.freeze({__proto__:null,copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},identity:i,set:function(e,t,r,n,i,a,o){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=a,e[5]=o,e},invert:a,determinant:function(e){return e[0]*e[3]-e[1]*e[2]},multiply:o,rotate:l,scale:u,translate:c,fromRotation:f,fromScaling:p,fromTranslation:d,str:function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},frob:function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},add:function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e},subtract:h,multiplyScalar:function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e},multiplyScalarAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},equals:function(e,t){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=t[0],c=t[1],f=t[2],p=t[3],d=t[4],h=t[5];return Math.abs(r-u)<=n.E*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-c)<=n.E*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-f)<=n.E*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-p)<=n.E*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-d)<=n.E*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(l-h)<=n.E*Math.max(1,Math.abs(l),Math.abs(h))},mul:y,sub:v})})),s.register("7ewN0",(function(t,r){function n(){return[1,0,0,1,0,0]}e(t.exports,"c",(function(){return n}));Object.freeze({__proto__:null,create:n,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]},fromValues:function(e,t,r,n,i,a){return[e,t,r,n,i,a]},createView:function(e,t){return new Float64Array(e,t,6)}})})),s.register("hRgCq",(function(t,r){e(t.exports,"c",(function(){return i})),e(t.exports,"s",(function(){return a})),e(t.exports,"m",(function(){return o})),e(t.exports,"f",(function(){return l})),e(t.exports,"g",(function(){return f})),e(t.exports,"b",(function(){return p})),e(t.exports,"a",(function(){return d})),e(t.exports,"l",(function(){return h})),e(t.exports,"n",(function(){return v})),e(t.exports,"i",(function(){return m})),e(t.exports,"k",(function(){return g})),e(t.exports,"j",(function(){return b})),e(t.exports,"t",(function(){return _})),e(t.exports,"h",(function(){return x}));var n=s("1CBkz");function i(e,t){return e[0]=t[0],e[1]=t[1],e}function a(e,t,r){return e[0]=t,e[1]=r,e}function o(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function l(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function u(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function c(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function f(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function p(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function d(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function h(e){var t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function y(e){var t=e[0],r=e[1];return t*t+r*r}function v(e,t){return e[0]=-t[0],e[1]=-t[1],e}function m(e,t){var r=t[0],n=t[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function g(e,t){return e[0]*t[0]+e[1]*t[1]}function b(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function _(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}var w=h,x=l,S=u,k=c,T=p,E=d,I=y;Object.freeze({__proto__:null,copy:i,set:a,add:o,subtract:l,multiply:u,divide:c,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e},max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},scale:f,scaleAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e},distance:p,squaredDistance:d,length:h,squaredLength:y,negate:v,inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},normalize:m,dot:g,cross:b,lerp:function(e,t,r,n){var i=t[0],a=t[1];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e},random:function(e,t){t=t||1;var r=2*(0,n.R)()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e},transformMat2:function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e},transformMat2d:_,transformMat3:function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e},transformMat4:function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e},rotate:function(e,t,r,n){var i=t[0]-r[0],a=t[1]-r[1],o=Math.sin(n),s=Math.cos(n);return e[0]=i*s-a*o+r[0],e[1]=i*o+a*s+r[1],e},angle:function(e,t){var r=e[0],n=e[1],i=t[0],a=t[1],o=r*r+n*n;o>0&&(o=1/Math.sqrt(o));var s=i*i+a*a;s>0&&(s=1/Math.sqrt(s));var l=(r*i+n*a)*o*s;return l>1?0:l<-1?Math.PI:Math.acos(l)},str:function(e){return"vec2("+e[0]+", "+e[1]+")"},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]},equals:function(e,t){var r=e[0],i=e[1],a=t[0],o=t[1];return Math.abs(r-a)<=n.E*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-o)<=n.E*Math.max(1,Math.abs(i),Math.abs(o))},projectAndScale:function(e,t,r,n,i){var a=t[0]-r[0],o=t[1]-r[1],s=(n[0]*a+n[1]*o)*(i-1);return a=n[0]*s,o=n[1]*s,e[0]=t[0]+a,e[1]=t[1]+o,e},len:w,sub:x,mul:S,div:k,dist:T,sqrDist:E,sqrLen:I})})),s.register("iE3Nt",(function(t,r){function n(){return[0,0]}function i(e,t){return[e,t]}function a(e,t){return new Float64Array(e,t,2)}function o(){return[0,0]}function s(){return i(1,1)}function l(){return i(1,0)}function u(){return i(0,1)}e(t.exports,"a",(function(){return n})),e(t.exports,"f",(function(){return i})),e(t.exports,"c",(function(){return a}));var c=[0,0],f=s(),p=l(),d=u();Object.freeze({__proto__:null,create:n,clone:function(e){return[e[0],e[1]]},fromValues:i,fromArray:function(e){for(var t=[0,0],r=Math.min(2,e.length),n=0;n<r;++n)t[n]=e[n];return t},createView:a,zeros:o,ones:s,unitX:l,unitY:u,ZEROS:c,ONES:f,UNIT_X:p,UNIT_Y:d})})),s.register("bl6dC",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("19UW4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ghFVP")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9egUh"))]).then((function(){return s("9YS6T")}))})),s.register("kofl2",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2FSCg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4BbkU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("gPWYb")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("16ztO")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2lYZ9")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7Hegi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8EaKC")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jBpnf")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("1LDdt")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("19UW4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ghFVP")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("iE50C")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("3GLUi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9t5Hg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8Z92h"))]).then((function(){return s("1QDvX")}))})),s.register("hruMq",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jBpnf")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("19UW4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ghFVP")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("iE50C")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("i5UZv"))]).then((function(){return s("hugRr")}))})),s.register("fV2Tq",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2FSCg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4BbkU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2lYZ9")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7Hegi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("kRbDc")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("fNM3p"))]).then((function(){return s("9QPTU")}))})),s.register("50sjh",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jBpnf")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("19UW4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ghFVP")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("iE50C")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7nNUU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("3QXPu"))]).then((function(){return s("4wgp1")}))})),s.register("9F1vC",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2FSCg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4BbkU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("gPWYb")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("16ztO")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2lYZ9")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7Hegi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8EaKC")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jBpnf")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("19UW4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ghFVP")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("iE50C")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("3GLUi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9t5Hg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("5DMwv"))]).then((function(){return s("eOdLB")}))})),s.register("diMyG",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2FSCg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4BbkU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("gPWYb")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("16ztO")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2lYZ9")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7Hegi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8EaKC")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jBpnf")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("19UW4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ghFVP")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("iE50C")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("3GLUi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9t5Hg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("l4MHr"))]).then((function(){return s("7N70Q")}))})),s.register("8dmTP",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jBpnf")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("19UW4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ghFVP")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("iE50C")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("fP9MM"))]).then((function(){return s("9iix1")}))})),s.register("lMcYZ",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2FSCg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4BbkU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("gPWYb")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("16ztO")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2lYZ9")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7Hegi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8EaKC")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("33h8u")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jBpnf")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("19UW4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("fSCWj")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ghFVP")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("iE50C")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("3GLUi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9t5Hg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7nNUU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2DyV1")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9zFne"))]).then((function(){return s("cVss7")}))})),s.register("lA4Mt",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("33h8u")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jBpnf")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("19UW4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("fSCWj")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ghFVP")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("iE50C")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2DyV1")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jVSFJ"))]).then((function(){return s("firbt")}))})),s.register("arCIt",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2FSCg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4BbkU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("gPWYb")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("16ztO")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2lYZ9")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7Hegi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8EaKC")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jBpnf")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("19UW4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ghFVP")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("iE50C")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("3GLUi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9t5Hg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("6mwxg"))]).then((function(){return s("lygc5")}))})),s.register("84jEJ",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2FSCg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4BbkU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("gPWYb")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("16ztO")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2lYZ9")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7Hegi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8EaKC")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jBpnf")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("19UW4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ghFVP")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("iE50C")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("3GLUi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9t5Hg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7nNUU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("bjDX9"))]).then((function(){return s("1ieqS")}))})),s.register("jV9CX",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2FSCg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4BbkU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("gPWYb")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("16ztO")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2lYZ9")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7Hegi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8EaKC")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jBpnf")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("19UW4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ghFVP")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("iE50C")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("3GLUi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9t5Hg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("25vpt"))]).then((function(){return s("kkton")}))})),s.register("bnrxk",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2FSCg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4BbkU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2lYZ9")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7Hegi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("6XaD5")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("kRbDc")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2BnfR"))]).then((function(){return s("1QUJt")}))})),s.register("l41Ac",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2FSCg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4BbkU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("gPWYb")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("16ztO")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2lYZ9")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7Hegi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8EaKC")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jBpnf")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("19UW4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ghFVP")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("iE50C")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("3GLUi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9t5Hg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("fyRU3"))]).then((function(){return s("sW6Mw")}))})),s.register("8xwDc",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2FSCg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4BbkU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2lYZ9")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7Hegi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("6XaD5")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("kRbDc")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("3COjU"))]).then((function(){return s("hn7H0")}))})),s.register("3GJig",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2FSCg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4BbkU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2lYZ9")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7Hegi")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("6XaD5")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("kRbDc")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("k0jn1"))]).then((function(){return s("enOzh")}))})),s.register("ckMXC",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("2FSCg")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("4BbkU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jBpnf")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("19UW4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ghFVP")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("iE50C")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7WiOP"))]).then((function(){return s("61EJF")}))})),s.register("lFiiz",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jBpnf")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("19UW4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ghFVP")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("iE50C")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("7nNUU")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("6F8MA"))]).then((function(){return s("hpGBw")}))})),s.register("fzMdv",(function(e,t){e.exports=Promise.all([s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("eLcBA")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("aYE2P")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8N9PD")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("jBpnf")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("19UW4")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("ghFVP")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("iE50C")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("9Pwwm")),s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8sUny"))]).then((function(){return s("d78HC")}))})),s.register("cMCBC",(function(t,r){function n(){var e=new Float32Array(6);return e[0]=1,e[3]=1,e}function i(e,t,r,n){var i=t[n],a=t[n+1];e[n]=r[0]*i+r[2]*a+r[4],e[n+1]=r[1]*i+r[3]*a+r[5]}function a(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2,s=a||t.length/o,l=n;l<s;l++)i(e,t,r,l*o)}e(t.exports,"c",(function(){return n})),e(t.exports,"t",(function(){return a}));Object.freeze({__proto__:null,create:n,clone:function(e){var t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},fromValues:function(e,t,r,n,i,a){var o=new Float32Array(6);return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=i,o[5]=a,o},createView:function(e,t){return new Float32Array(e,t,6)},transform:i,transformMany:a})})),s.register("j3x2p",(function(t,r){e(t.exports,"f",(function(){return i})),e(t.exports,"s",(function(){return a})),e(t.exports,"b",(function(){return o})),e(t.exports,"t",(function(){return l})),e(t.exports,"m",(function(){return u})),e(t.exports,"c",(function(){return c})),e(t.exports,"r",(function(){return f})),e(t.exports,"d",(function(){return p})),e(t.exports,"j",(function(){return d})),e(t.exports,"l",(function(){return h})),e(t.exports,"n",(function(){return y})),e(t.exports,"a",(function(){return v})),e(t.exports,"i",(function(){return g}));var n=s("1CBkz");function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function a(e,t,r,n,i,a,o,s,l,u){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=l,e[8]=u,e}function o(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function l(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function u(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],p=r[0],d=r[1],h=r[2],y=r[3],v=r[4],m=r[5],g=r[6],b=r[7],_=r[8];return e[0]=p*n+d*o+h*u,e[1]=p*i+d*s+h*c,e[2]=p*a+d*l+h*f,e[3]=y*n+v*o+m*u,e[4]=y*i+v*s+m*c,e[5]=y*a+v*l+m*f,e[6]=g*n+b*o+_*u,e[7]=g*i+b*s+_*c,e[8]=g*a+b*l+_*f,e}function c(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],p=r[0],d=r[1];return e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=p*n+d*o+u,e[7]=p*i+d*s+c,e[8]=p*a+d*l+f,e}function f(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],p=Math.sin(r),d=Math.cos(r);return e[0]=d*n+p*o,e[1]=d*i+p*s,e[2]=d*a+p*l,e[3]=d*o-p*n,e[4]=d*s-p*i,e[5]=d*l-p*a,e[6]=u,e[7]=c,e[8]=f,e}function p(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=a*t[6],e[7]=a*t[7],e[8]=a*t[8],e}function d(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e}function h(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function y(e,t){var r=t[0],n=t[1],i=t[2],a=t[4],o=t[5],s=t[6],l=t[8],u=t[9],c=t[10],f=c*o-s*u,p=-c*a+s*l,d=u*a-o*l,h=r*f+n*p+i*d;if(!h)return null;var y=1/h;return e[0]=f*y,e[1]=(-c*n+i*u)*y,e[2]=(s*n-i*o)*y,e[3]=p*y,e[4]=(c*r-i*l)*y,e[5]=(-s*r+i*a)*y,e[6]=d*y,e[7]=(-u*r+n*l)*y,e[8]=(o*r-n*a)*y,e}function v(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],p=t[10],d=t[11],h=t[12],y=t[13],v=t[14],m=t[15],g=r*s-n*o,b=r*l-i*o,_=r*u-a*o,w=n*l-i*s,x=n*u-a*s,S=i*u-a*l,k=c*y-f*h,T=c*v-p*h,E=c*m-d*h,I=f*v-p*y,C=f*m-d*y,O=p*m-d*v,L=g*O-b*C+_*I+w*E-x*T+S*k;return L?(L=1/L,e[0]=(s*O-l*C+u*I)*L,e[1]=(l*E-o*O-u*T)*L,e[2]=(o*C-s*E+u*k)*L,e[3]=(i*C-n*O-a*I)*L,e[4]=(r*O-i*E+a*T)*L,e[5]=(n*E-r*C-a*k)*L,e[6]=(y*S-v*x+m*w)*L,e[7]=(v*_-h*S-m*b)*L,e[8]=(h*x-y*_+m*g)*L,e):null}function m(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function g(e){var t=n.E,r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8];return Math.abs(1-(r*r+o*o+u*u))<=t&&Math.abs(1-(i*i+s*s+c*c))<=t&&Math.abs(1-(a*a+l*l+f*f))<=t}var b=u,_=m;Object.freeze({__proto__:null,fromMat4:i,copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},set:a,identity:o,transpose:l,invert:function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=c*o-s*u,p=-c*a+s*l,d=u*a-o*l,h=r*f+n*p+i*d;return h?(h=1/h,e[0]=f*h,e[1]=(-c*n+i*u)*h,e[2]=(s*n-i*o)*h,e[3]=p*h,e[4]=(c*r-i*l)*h,e[5]=(-s*r+i*a)*h,e[6]=d*h,e[7]=(-u*r+n*l)*h,e[8]=(o*r-n*a)*h,e):null},adjoint:function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return e[0]=o*c-s*u,e[1]=i*u-n*c,e[2]=n*s-i*o,e[3]=s*l-a*c,e[4]=r*c-i*l,e[5]=i*a-r*s,e[6]=a*u-o*l,e[7]=n*l-r*u,e[8]=r*o-n*a,e},determinant:function(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*(u*a-o*l)+r*(-u*i+o*s)+n*(l*i-a*s)},multiply:u,translate:c,rotate:f,scale:p,scaleByVec2:d,fromTranslation:h,fromRotation:function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromMat2d:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},fromQuat:function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r+r,s=n+n,l=i+i,u=r*o,c=n*o,f=n*s,p=i*o,d=i*s,h=i*l,y=a*o,v=a*s,m=a*l;return e[0]=1-f-h,e[3]=c-m,e[6]=p+v,e[1]=c+m,e[4]=1-u-h,e[7]=d-y,e[2]=p-v,e[5]=d+y,e[8]=1-u-f,e},normalFromMat4Legacy:y,normalFromMat4:v,projection:function(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},str:function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},frob:function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},add:function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e},subtract:m,multiplyScalar:function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e},multiplyScalarAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},equals:function(e,t){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],p=t[0],d=t[1],h=t[2],y=t[3],v=t[4],m=t[5],g=t[6],b=t[7],_=t[8];return Math.abs(r-p)<=n.E*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(i-d)<=n.E*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-h)<=n.E*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(o-y)<=n.E*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(s-v)<=n.E*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(l-m)<=n.E*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(u-g)<=n.E*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(c-b)<=n.E*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-_)<=n.E*Math.max(1,Math.abs(f),Math.abs(_))},isOrthoNormal:g,mul:b,sub:_})})),s.register("eYrMi",(function(t,r){function n(){var e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function i(e){var t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}e(t.exports,"c",(function(){return n})),e(t.exports,"a",(function(){return i}));Object.freeze({__proto__:null,create:n,clone:i,fromValues:function(e,t,r,n,i,a,o,s,l){var u=new Float32Array(9);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,u[4]=i,u[5]=a,u[6]=o,u[7]=s,u[8]=l,u},createView:function(e,t){return new Float32Array(e,t,9)}})})),s.register("0P8XU",(function(t,r){function n(){return new Float32Array(2)}function i(e,t){var r=new Float32Array(2);return r[0]=e,r[1]=t,r}function a(){return n()}function o(){return i(1,1)}function s(){return i(1,0)}function l(){return i(0,1)}e(t.exports,"c",(function(){return n})),e(t.exports,"f",(function(){return i}));var u=a(),c=o(),f=s(),p=l();Object.freeze({__proto__:null,create:n,clone:function(e){var t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t},fromValues:i,createView:function(e,t){return new Float32Array(e,t,2)},zeros:a,ones:o,unitX:s,unitY:l,ZEROS:u,ONES:c,UNIT_X:f,UNIT_Y:p})})),s.register("3yhCg",(function(e,t){s("8TSCy");var r=s("g9uIT"),n=s("dap1g"),i=s("f9pi5"),a=s("bFSSc"),o=s("jK9zx"),l=s("7eJjO"),u=s("jymfC"),c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f=s("fcwIv"),p=s("hRgCq"),d=s("incs0");var h=new Set,y=[],v=new Map,m=[0,0],g=function(e){"use strict";r.default(s,e);var t=n.default(s);function s(e){var r;return i.default(this,s),(r=t.call(this,e))._keyToItem=new Map,r.concurrency=6,r.strategy="scale-first",r.tileInfoView=null,a.default(r)}return o.default(s,[{key:"initialize",value:function(){var e=this,t=this.concurrency,r=this.process;this._queue=new(0,d.QueueProcessor)({concurrency:t,process:function(t,n){var i=e._keyToItem.get(t);return r(i,{signal:n})},peeker:function(e){return e.values().next().value}})}},{key:"destroy",value:function(){this.clear(),this._queue.destroy(),this._queue=null}},{key:"length",get:function(){return this._queue?this._queue.length:0}},{key:"onGoingCount",get:function(){return this._keyToItem.size}},{key:"updating",get:function(){return this.length>0||this.onGoingCount>0}},{key:"abort",value:function(e){var t="string"==typeof e?e:e.id;this._queue.abort(t)}},{key:"clear",value:function(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}},{key:"has",value:function(e){return"string"==typeof e?this._keyToItem.has(e):this._keyToItem.has(e.id)}},{key:"isOngoing",value:function(e){var t="string"==typeof e?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}},{key:"pause",value:function(){this._queue.pause()}},{key:"push",value:function(e,t){var r=this,n=e.key.id+"-"+t;if(this.has(n))return this.get(n);var i=this._queue.push(n),a=function(){r._keyToItem.delete(n),r.notifyChange("updating")};return this._keyToItem.set(n,e),i.then(a,a),this.notifyChange("updating"),i}},{key:"reset",value:function(){this._queue.reset(),this.notifyChange("updating")}},{key:"resume",value:function(){this._queue.resume()}},{key:"_peekByScaleFirst",value:function(e){var t=this;if(!this.state)return e.values().next().value;var r=this.tileInfoView,n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;e.forEach((function(e){var r=t._keyToItem.get(e),a=t.tileInfoView.getTileScale(r.key);v.has(a)||(v.set(a,[]),n=Math.max(a,n),i=Math.min(a,i)),v.get(a).push(r.key),h.add(a)}));var a,o,s=this.state.scale;v.has(s)||(o=h,(a=y).length=0,o.forEach((function(e){return a.push(e)})),y.sort((function(e,t){return e-t})),s=y.reduce((function(e,t){return Math.abs(t-s)<Math.abs(e-s)?t:e}),y[0])),s=Math.min(s,n),s=Math.max(s,i);var l=v.get(s),u=r.getClosestInfoForScale(s),c=u.getColumnForX(this.state.center[0]),f=u.getRowForY(this.state.center[1]);return l.sort((function(e,t){var r=u.denormalizeCol(e.col,e.world),n=u.denormalizeCol(t.col,t.world);return Math.sqrt((c-r)*(c-r)+(f-e.row)*(f-e.row))-Math.sqrt((c-n)*(c-n)+(f-t.row)*(f-t.row))})),h.clear(),v.clear(),l[0].id}},{key:"_peekByCenterFirst",value:function(e){var t=this;if(!this.state)return e.values().next().value;var r=this.tileInfoView,n=this.state.center,i=Number.POSITIVE_INFINITY,a=null;return e.forEach((function(e){var o=t._keyToItem.get(e);r.getTileCoords(m,o.key);var s=(0,p.b)(m,n);s<i&&(i=s,a=o.key)})),a.id}}]),s}(u.default);(0,l._)([(0,c.property)({constructOnly:!0})],g.prototype,"concurrency",void 0),(0,l._)([(0,c.property)({constructOnly:!0})],g.prototype,"process",void 0),(0,l._)([(0,c.property)()],g.prototype,"state",void 0),(0,l._)([(0,c.property)({constructOnly:!0})],g.prototype,"strategy",void 0),(0,l._)([(0,c.property)({constructOnly:!0})],g.prototype,"tileInfoView",void 0),(0,l._)([(0,c.property)({readOnly:!0})],g.prototype,"updating",null);g=(0,l._)([(0,f.subclass)("esri.views.2d.tiling.PagedTileQueue")],g)})),s.register("incs0",(function(t,r){e(t.exports,"QueueProcessor",(function(){return f})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("7qybv"),o=s("10vEZ"),l=s("02Olo"),u=s("7LFLF"),c=function e(t,r){"use strict";n.default(this,e),this.item=t,this.controller=r,this.promise=null},f=function(){"use strict";function e(t){n.default(this,e),this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new(0,l.default)(t.peeker),this.process=t.process;var r=t.scheduler;t.priority&&(0,a.isSome)(r)&&(this._task=r.registerTask(t.priority,this))}return i.default(e,[{key:"destroy",value:function(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}},{key:"length",get:function(){return this._processingItems.size+this._queue.length}},{key:"abort",value:function(e){var t=this._controllers.get(e);t&&t.abort()}},{key:"clear",value:function(){this._queue.clear();var e=[];this._controllers.forEach((function(t){return e.push(t)})),this._controllers.clear(),e.forEach((function(e){return e.abort()})),this._processingItems.clear(),this._cancelNext()}},{key:"forEach",value:function(e){this._deferreds.forEach((function(t,r){return e(r)}))}},{key:"get",value:function(e){var t=this._deferreds.get(e);return t?t.promise:void 0}},{key:"isOngoing",value:function(e){return this._processingItems.has(e)}},{key:"has",value:function(e){return this._deferreds.has(e)}},{key:"pause",value:function(){this._isPaused||(this._isPaused=!0,this._cancelNext())}},{key:"push",value:function(e,t){var r=this,n=this.get(e);if(n)return n;var i=new AbortController,s=null;t&&(s=(0,o.onAbort)(t,(function(){return i.abort()})));var l=function(){u.remove(),(0,a.isSome)(s)&&s.remove(),r._deferreds.delete(e),r._controllers.delete(e),r._queue.remove(e),r._processingItems.delete(e),r._scheduleNext()},u=(0,o.onAbortOrThrow)(i.signal,(function(){var t=r._processingItems.get(e);t&&t.controller.abort(),l(),c.reject((0,o.createAbortError)())})),c=(0,o.createDeferred)();return this._deferreds.set(e,c),this._controllers.set(e,i),c.promise.then(l,l),this._queue.push(e),this._scheduleNext(),c.promise}},{key:"last",value:function(){return this._queue.last()}},{key:"peek",value:function(){return this._queue.peek()}},{key:"popLast",value:function(){return this._queue.popLast()}},{key:"reset",value:function(){var e=[];this._processingItems.forEach((function(t){return e.push(t)})),this._processingItems.clear();var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this._queue.push(o.item),o.controller.abort()}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}this._scheduleNext()}},{key:"resume",value:function(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}},{key:"takeAll",value:function(){for(var e=[];this._queue.length;)e.push(this._queue.pop());return this.clear(),e}},{key:"running",get:function(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}},{key:"runTask",value:function(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}},{key:"_scheduleNext",value:function(){var e=this;this._task||this._isPaused||this._schedule||(this._schedule=(0,u.schedule)((function(){e._schedule=null,e._next()})))}},{key:"_next",value:function(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}},{key:"_cancelNext",value:function(){this._schedule&&(this._schedule.remove(),this._schedule=null)}},{key:"_processResult",value:function(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(t))}},{key:"_processError",value:function(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(t))}},{key:"_canProcessFulfillment",value:function(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}},{key:"_process",value:function(e){var t=this;if(!(0,a.isNone)(e)){var r,n=new AbortController,i=new c(e,n);this._processingItems.set(e,i);try{r=this.process(e,n.signal)}catch(e){this._processError(i,e)}(0,o.isPromiseLike)(r)?(i.promise=r,r.then((function(e){return t._processResult(i,e)}),(function(e){return t._processError(i,e)}))):this._processResult(i,r)}}},{key:"test",get:function(){var e=this;return{update:function(t){return e.runTask(t)}}}}]),e}()})),s.register("cqGfY",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("iCnzh"),o=s("eY5Yp"),l=s("4uLRF"),u=s("eoIYU"),c=s("i90gL"),f=s("5Odm8"),p=new(0,c.default)("0/0/0/0"),d=function(){"use strict";function e(t,r,i,a,o,s,l,u){n.default(this,e),this.x=t,this.ymin=r,this.ymax=i,this.invM=a,this.leftAdjust=o,this.rightAdjust=s,this.leftBound=l,this.rightBound=u}return i.default(e,[{key:"incrRow",value:function(){this.x+=this.invM}},{key:"getLeftCol",value:function(){return Math.max(this.x+this.leftAdjust,this.leftBound)}},{key:"getRightCol",value:function(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}],[{key:"create",value:function(t,r){var n;t[1]>r[1]&&(t=(n=[r,t])[0],r=n[1]);var i=a.default(t,2),o=i[0],s=i[1],l=a.default(r,2),u=l[0],c=l[1],f=u-o,p=c-s,d=0!==p?f/p:0,h=(Math.ceil(s)-s)*d,y=(Math.floor(s)-s)*d;return new e(o,Math.floor(s),Math.ceil(c),d,f<0?h:y,f<0?y:h,f<0?u:o,f<0?o:u)}}]),e}(),h=[[0,0],[0,0],[0,0],[0,0]],y=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this;n.default(this,e),this.tileInfo=t,this.fullExtent=r,this.scales=[],this._lodInfos=null,this._infoByScale={},this._infoByLevel={};var a=t.lods.slice();a.sort((function(e,t){return t.scale-e.scale}));var o=this._lodInfos=a.map((function(e){return l.default.create(t,e,r)}));a.forEach((function(e,t){i._infoByLevel[e.level]=o[t],i._infoByScale[e.scale]=o[t],i.scales[t]=e.scale}),this),this._wrap=t.isWrappable}return i.default(e,[{key:"spatialReference",get:function(){return this.tileInfo.spatialReference}},{key:"getLODInfoAt",value:function(e){return this._infoByLevel["number"==typeof e?e:e.level]}},{key:"getTileBounds",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];p.set(t);var n=this._infoByLevel[p.level];return n?n.getTileBounds(e,p,r):e}},{key:"getTileCoords",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];p.set(t);var n=this._infoByLevel[p.level];return n?n.getTileCoords(e,p,r):e}},{key:"getTileCoverage",value:function(e){var t,r,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:192,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"closest",o="closest"===a?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),s=u.default.pool.acquire(o),l=this._wrap,c=1/0,p=-1/0,y=s.spans;h[0][0]=h[0][1]=h[1][1]=h[3][0]=-i,h[1][0]=h[2][0]=e.size[0]+i,h[2][1]=h[3][1]=e.size[1]+i;var v=!0,m=!1,g=void 0;try{for(var b,_=h[Symbol.iterator]();!(v=(b=_.next()).done);v=!0){var w=b.value;e.toMap(w,w),w[0]=o.getColumnForX(w[0]),w[1]=o.getRowForY(w[1])}}catch(e){m=!0,g=e}finally{try{v||null==_.return||_.return()}finally{if(m)throw g}}for(var x=[],S=3,k=0;k<4;k++)if(h[k][1]!==h[S][1]){var T=d.create(h[k],h[S]);c=Math.min(T.ymin,c),p=Math.max(T.ymax,p),void 0===x[T.ymin]&&(x[T.ymin]=[]),x[T.ymin].push(T),S=k}else S=k;if(null==c||null==p||p-c>100)return null;var E=[];for(t=c;t<p;){null!=x[t]&&(E=E.concat(x[t])),r=1/0,n=-1/0;for(var I=E.length-1;I>=0;I--){var C=E[I];r=Math.min(r,C.getLeftCol()),n=Math.max(n,C.getRightCol())}if(r=Math.floor(r),n=Math.floor(n),t>=o.first[1]&&t<=o.last[1])if(l)if(o.size[0]<o.worldSize[0])for(var O=Math.floor(n/o.worldSize[0]),L=Math.floor(r/o.worldSize[0]);L<=O;L++)y.push(new(0,f.default)(t,Math.max(o.getFirstColumnForWorld(L),r),Math.min(o.getLastColumnForWorld(L),n)));else y.push(new(0,f.default)(t,r,n));else r>o.last[0]||n<o.first[0]||(r=Math.max(r,o.first[0]),n=Math.min(n,o.last[0]),y.push(new(0,f.default)(t,r,n)));t+=1;for(var A=E.length-1;A>=0;A--){var M=E[A];M.ymax>=t?M.incrRow():E.splice(A,1)}}return s}},{key:"getTileParentId",value:function(e){p.set(e);var t=this._infoByLevel[p.level],r=this._lodInfos.indexOf(t)-1;return r<0?null:(this._getTileIdAtLOD(p,this._lodInfos[r],p),p.id)}},{key:"getTileResolution",value:function(e){var t=this._infoByLevel["object"==typeof e?e.level:e];return t?t.resolution:-1}},{key:"getTileScale",value:function(e){var t=this._infoByLevel[e.level];return t?t.scale:-1}},{key:"intersects",value:function(e,t){p.set(t);var r=this._infoByLevel[p.level],n=e.lodInfo;if(n.resolution>r.resolution){this._getTileIdAtLOD(p,n,p);var i=n.denormalizeCol(p.col,p.world),o=!0,s=!1,l=void 0;try{for(var u,c=e.spans[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;if(f.row===p.row&&f.colFrom<=i&&f.colTo>=i)return!0}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}}if(n.resolution<r.resolution){var d=a.default(e.spans.reduce((function(e,t){return e[0]=Math.min(e[0],t.row),e[1]=Math.max(e[1],t.row),e[2]=Math.min(e[2],t.colFrom),e[3]=Math.max(e[3],t.colTo),e}),[1/0,-1/0,1/0,-1/0]),4),h=d[0],y=d[1],v=d[2],m=d[3],g=r.denormalizeCol(p.col,p.world),b=n.getColumnForX(r.getXForColumn(g)),_=n.getRowForY(r.getYForRow(p.row)),w=n.getColumnForX(r.getXForColumn(g+1))-1,x=n.getRowForY(r.getYForRow(p.row+1))-1;return!(b>m||w<v||_>y||x<h)}var S=n.denormalizeCol(p.col,p.world);return e.spans.some((function(e){return e.row===p.row&&e.colFrom<=S&&e.colTo>=S}))}},{key:"normalizeBounds",value:function(e,t,r){if(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this._wrap){var n=(0,o.getInfo)(this.tileInfo.spatialReference),i=-r*(n.valid[1]-n.valid[0]);e[0]+=i,e[2]+=i}return e}},{key:"getSmallestInfoForScale",value:function(e){var t=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>t[0])return this._infoByScale[t[0]];for(var r=1;r<t.length-1;r++)if(e>t[r]+1e-6)return this._infoByScale[t[r-1]];return this._infoByScale[t[t.length-1]]}},{key:"getClosestInfoForScale",value:function(e){var t=this.scales;return this._infoByScale[e]||(e=t.reduce((function(t,r){return Math.abs(r-e)<Math.abs(t-e)?r:t}),t[0])),this._infoByScale[e]}},{key:"scaleToLevel",value:function(e){var t=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(var r=t.length-1;r>=0;r--)if(e<t[r])return r===t.length-1?this._infoByScale[t[t.length-1]].level:this._infoByScale[t[r]].level+(t[r]-e)/(t[r]-t[r+1]);return this._infoByScale[t[0]].level}},{key:"scaleToZoom",value:function(e){return this.tileInfo.scaleToZoom(e)}},{key:"_getTileIdAtLOD",value:function(e,t,r){var n=this._infoByLevel[r.level];return e.set(r),t.resolution<n.resolution?null:(t.resolution===n.resolution||(e.level=t.level,e.col=Math.floor(r.col*n.resolution/t.resolution+.01),e.row=Math.floor(r.row*n.resolution/t.resolution+.01)),e)}}]),e}()})),s.register("4uLRF",(function(t,r){e(t.exports,"default",(function(){return p})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("7qybv"),o=s("eY5Yp");function l(e,t){return[e,t]}function u(e,t,r){return e[0]=t,e[1]=r,e}function c(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}var f=new(0,s("i90gL").default)("0/0/0/0"),p=function(){"use strict";function e(t,r,i,a,o,s,l,u,c,f,p,d){n.default(this,e),this.level=t,this.resolution=r,this.scale=i,this.origin=a,this.first=o,this.last=s,this.size=l,this.norm=u,this.worldStart=c,this.worldEnd=f,this.worldSize=p,this.wrap=d}return i.default(e,[{key:"normalizeCol",value:function(e){if(!this.wrap)return e;var t=this.worldSize[0];return e<0?t-1-Math.abs((e+1)%t):e%t}},{key:"denormalizeCol",value:function(e,t){return this.wrap?this.worldSize[0]*t+e:e}},{key:"getWorldForColumn",value:function(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}},{key:"getFirstColumnForWorld",value:function(e){return e*this.worldSize[0]+this.first[0]}},{key:"getLastColumnForWorld",value:function(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}},{key:"getColumnForX",value:function(e){return(e-this.origin[0])/this.norm[0]}},{key:"getXForColumn",value:function(e){return this.origin[0]+e*this.norm[0]}},{key:"getRowForY",value:function(e){return(this.origin[1]-e)/this.norm[1]}},{key:"getYForRow",value:function(e){return this.origin[1]-e*this.norm[1]}},{key:"getTileBounds",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f.set(t);var n=r?f.col:this.denormalizeCol(f.col,f.world),i=f.row;return c(e,this.getXForColumn(n),this.getYForRow(i+1),this.getXForColumn(n+1),this.getYForRow(i)),e}},{key:"getTileCoords",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f.set(t);var n=r?f.col:this.denormalizeCol(f.col,f.world);return Array.isArray(e)?u(e,this.getXForColumn(n),this.getYForRow(f.row)):(e.x=this.getXForColumn(n),e.y=this.getYForRow(f.row)),e}}],[{key:"create",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=(0,o.getInfo)(t.spatialReference),s=r.origin||l(t.origin.x,t.origin.y),c=l(t.size[0]*r.resolution,t.size[1]*r.resolution),f=l(-1/0,-1/0),p=l(1/0,1/0),d=l(1/0,1/0);(0,a.isSome)(n)&&(u(f,Math.max(0,Math.floor((n.xmin-s[0])/c[0])),Math.max(0,Math.floor((s[1]-n.ymax)/c[1]))),u(p,Math.max(0,Math.floor((n.xmax-s[0])/c[0])),Math.max(0,Math.floor((s[1]-n.ymin)/c[1]))),u(d,p[0]-f[0]+1,p[1]-f[1]+1));var h,y,v,m,g=r.cols,b=r.rows;return!n&&g&&b&&(u(f,g[0],b[0]),u(p,g[1],b[1]),u(d,g[1]-g[0]+1,b[1]-b[0]+1)),t.isWrappable?(h=l(Math.ceil(Math.round((i.valid[1]-i.valid[0])/r.resolution)/t.size[0]),d[1]),y=l(Math.floor((i.origin[0]-s[0])/c[0]),f[1]),v=l(h[0]+y[0]-1,p[1]),m=!0):(y=f,v=p,h=d,m=!1),new e(r.level,r.resolution,r.scale,s,f,p,d,c,y,v,h,m)}}]),e}()})),s.register("i90gL",(function(t,r){e(t.exports,"default",(function(){return l})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("iCnzh"),o=s("7Pyz4"),l=function(){"use strict";function e(t,r,i,a){n.default(this,e),this.set(t,r,i,a)}return i.default(e,[{key:"key",get:function(){return this}},{key:"id",get:function(){return this.toString()},set:function(e){this.set(e)}},{key:"hash",get:function(){var e=4095&this.row,t=4095&this.col,r=63&this.level;return(3&this.world)<<30|t<<22|e<<8|r}},{key:"acquire",value:function(e,t,r,n){this.set(e,t,r,n)}},{key:"contains",value:function(e){var t=e.level-this.level;return this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}},{key:"equals",value:function(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}},{key:"clone",value:function(){return new e(this)}},{key:"release",value:function(){this.level=0,this.row=0,this.col=0,this.world=0}},{key:"set",value:function(e,t,r,n){if(null==e)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof e)this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if("string"==typeof e){var i=a.default(e.split("/"),4),o=i[0],s=i[1],l=i[2],u=i[3];this.level=parseFloat(o),this.row=parseFloat(s),this.col=parseFloat(l),this.world=parseFloat(u)}else this.level=+e,this.row=+t,this.col=+r,this.world=+n||0;return this}},{key:"toString",value:function(){return"".concat(this.level,"/").concat(this.row,"/").concat(this.col,"/").concat(this.world)}},{key:"getParentKey",value:function(){return this.level<=0?null:new e(this.level-1,this.row>>1,this.col>>1,this.world)}},{key:"getChildKeys",value:function(){var t=this.level+1,r=this.row<<1,n=this.col<<1,i=this.world;return[new e(t,r,n,i),new e(t,r,n+1,i),new e(t,r+1,n,i),new e(t,r+1,n+1,i)]}},{key:"compareRowMajor",value:function(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}}],[{key:"getId",value:function(e,t,r,n){return"object"==typeof e?"".concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.world):"".concat(e,"/").concat(t,"/").concat(r,"/").concat(n)}}]),e}();l.pool=new(0,o.default)(l,null,null,25,50)})),s.register("eoIYU",(function(t,r){e(t.exports,"default",(function(){return o})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("7Pyz4"),o=function(){"use strict";function e(){n.default(this,e),this.spans=[]}return i.default(e,[{key:"acquire",value:function(e){this.lodInfo=e}},{key:"release",value:function(){this.lodInfo=null,this.spans.length=0}},{key:"forEach",value:function(e,t){var r=this.spans,n=this.lodInfo,i=n.level,a=!0,o=!1,s=void 0;if(0!==r.length)try{for(var l,u=r[Symbol.iterator]();!(a=(l=u.next()).done);a=!0)for(var c=l.value,f=c.row,p=c.colFrom,d=c.colTo,h=p;h<=d;h++)e.call(t,i,f,n.normalizeCol(h),n.getWorldForColumn(h))}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}}}]),e}();o.pool=new(0,a.default)(o)})),s.register("5Odm8",(function(t,r){e(t.exports,"default",(function(){return i})),s("8TSCy");var n=s("f9pi5"),i=function e(t,r,i){"use strict";n.default(this,e),this.row=t,this.colFrom=r,this.colTo=i}})),s.register("eX6AZ",(function(t,r){e(t.exports,"default",(function(){return _})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("jymfC"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p=s("fcwIv"),d=s("hRgCq"),h=s("incs0");var y=new Set,v=[],m=new Map,g=[0,0],b=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e))._keyToItem=new Map,n.concurrency=6,n.strategy="scale-first",n.tileInfoView=null,o.default(n)}return l.default(r,[{key:"initialize",value:function(){var e=this,t=this,r=t.concurrency,n=t.process,i=t.strategy;this._queue=new(0,h.QueueProcessor)({concurrency:r,process:function(t,r){var i=e._keyToItem.get(t);return n(i,{signal:r})},peeker:"scale-first"===i?function(t){return e._peekByScaleFirst(t)}:function(t){return e._peekByCenterFirst(t)}})}},{key:"destroy",value:function(){this.clear(),this._queue.destroy(),this._queue=null}},{key:"length",get:function(){return this._queue?this._queue.length:0}},{key:"onGoingCount",get:function(){return this._keyToItem.size}},{key:"updating",get:function(){return this.length>0||this.onGoingCount>0}},{key:"abort",value:function(e){var t="string"==typeof e?e:e.id;this._queue.abort(t)}},{key:"clear",value:function(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}},{key:"has",value:function(e){return"string"==typeof e?this._keyToItem.has(e):this._keyToItem.has(e.id)}},{key:"isOngoing",value:function(e){var t="string"==typeof e?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}},{key:"pause",value:function(){this._queue.pause()}},{key:"push",value:function(e){var t=this,r=e.key.id;if(this._queue.has(r))return this._queue.get(r);var n=this._queue.push(r),i=function(){t._keyToItem.delete(r),t.notifyChange("updating")};return this._keyToItem.set(r,e),n.then(i,i),this.notifyChange("updating"),n}},{key:"reset",value:function(){this._queue.reset()}},{key:"resume",value:function(){this._queue.resume()}},{key:"_peekByScaleFirst",value:function(e){var t=this;if(!this.state)return e.values().next().value;var r=this.tileInfoView,n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;e.forEach((function(e){var r=t._keyToItem.get(e),a=t.tileInfoView.getTileScale(r.key);m.has(a)||(m.set(a,[]),n=Math.max(a,n),i=Math.min(a,i)),m.get(a).push(r.key),y.add(a)}));var a,o,s=this.state.scale;m.has(s)||(o=y,(a=v).length=0,o.forEach((function(e){return a.push(e)})),v.sort((function(e,t){return e-t})),s=v.reduce((function(e,t){return Math.abs(t-s)<Math.abs(e-s)?t:e}),v[0])),s=Math.min(s,n),s=Math.max(s,i);var l=m.get(s),u=r.getClosestInfoForScale(s),c=u.getColumnForX(this.state.center[0]),f=u.getRowForY(this.state.center[1]);return l.sort((function(e,t){var r=u.denormalizeCol(e.col,e.world),n=u.denormalizeCol(t.col,t.world);return Math.sqrt((c-r)*(c-r)+(f-e.row)*(f-e.row))-Math.sqrt((c-n)*(c-n)+(f-t.row)*(f-t.row))})),y.clear(),m.clear(),l[0].id}},{key:"_peekByCenterFirst",value:function(e){var t=this;if(!this.state)return e.values().next().value;var r=this.tileInfoView,n=this.state.center,i=Number.POSITIVE_INFINITY,a=null;return e.forEach((function(e){var o=t._keyToItem.get(e);r.getTileCoords(g,o.key);var s=(0,d.b)(g,n);s<i&&(i=s,a=o.key)})),a.id}}]),r}(c.default);(0,u._)([(0,f.property)({constructOnly:!0})],b.prototype,"concurrency",void 0),(0,u._)([(0,f.property)({constructOnly:!0})],b.prototype,"process",void 0),(0,u._)([(0,f.property)()],b.prototype,"state",void 0),(0,u._)([(0,f.property)({constructOnly:!0})],b.prototype,"strategy",void 0),(0,u._)([(0,f.property)({constructOnly:!0})],b.prototype,"tileInfoView",void 0),(0,u._)([(0,f.property)({readOnly:!0})],b.prototype,"updating",null);var _=b=(0,u._)([(0,p.subclass)("esri.views.2d.tiling.TileQueue")],b)})),s.register("gZ2KV",(function(t,r){e(t.exports,"default",(function(){return d})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("8TwEW"),o=s("3dMUS"),l=s("eoIYU"),u=new(0,s("i90gL").default)(0,0,0,0),c=new Map,f=[],p=[],d=function(){"use strict";function e(t){var r=this;n.default(this,e),this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,this.resampling=null==t.resampling||!!t.resampling,t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),null!=t.buffer&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new(0,o.default)(t.cacheSize,this.tileInfoView,(function(e){r.releaseTile(e)})))}return i.default(e,[{key:"destroy",value:function(){this.tileIndex.clear()}},{key:"update",value:function(e){var t=this,r=this.resampling,n=this.tileIndex,i=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.coveragePolicy);if(p.length=0,f.length=0,c.clear(),i){var a=this.tileInfoView.tileInfo,o=a.minScale,s=a.maxScale,d=i.spans,h=i.lodInfo,y=h.level,v=e.state,m=v.scale,g=v.center,b=v.resolution,_=!e.stationary&&m>this._previousScale;if(this._previousScale=m,this.tiles.length=0,!r&&(m>o||m<s))return this.tiles.length=0,c.clear(),n.forEach((function(e){t.releaseTile(e)})),n.clear(),p.length=0,f.length=0,c.clear(),l.default.pool.release(i),!0;n.forEach((function(e){return e.visible=!0}));var w=0,x=0,S=!0,k=!1,T=void 0;if(d.length>0)try{for(var E,I=d[Symbol.iterator]();!(S=(E=I.next()).done);S=!0)for(var C=E.value,O=C.row,L=C.colFrom,A=C.colTo,M=L;M<=A;M++){w++;var N=u.set(y,O,h.normalizeCol(M),h.getWorldForColumn(M)).id;if(n.has(N)){var R=n.get(N);R.isReady?(c.set(N,R),x++):_||this._addParentTile(N,c)}else{var P=void 0;if(this._tileCache&&this._tileCache.has(N)){if(P=this._tileCache.pop(N),this.tileIndex.set(N,P),P.isReady){c.set(N,P),x++;continue}}else P=this.acquireTile(u),this.tileIndex.set(N,P);_||this._addParentTile(N,c)}}}catch(e){k=!0,T=e}finally{try{S||null==I.return||I.return()}finally{if(k)throw T}}var F=x===w;n.forEach((function(e,r){if(u.set(r),!c.has(r)){var n=t.tileInfoView.intersects(i,u),a="purge"===t.cachePolicy?u.level!==y:u.level>y;!n||!_&&F?!a&&n||f.push(r):e.isReady?a&&"purge"===t.cachePolicy&&t._hasReadyAncestor(u,y)?f.push(r):p.push(r):a&&f.push(r)}}));var j=!0,D=!1,U=void 0;try{for(var V,B=p[Symbol.iterator]();!(j=(V=B.next()).done);j=!0){var H=V.value,z=n.get(H);z&&z.isReady&&c.set(H,z)}}catch(e){D=!0,U=e}finally{try{j||null==B.return||B.return()}finally{if(D)throw U}}var W=!0,G=!1,J=void 0;try{for(var q,X=f[Symbol.iterator]();!(W=(q=X.next()).done);W=!0){var K=q.value,$=n.get(K);this._tileCache?this._tileCache.add($):this.releaseTile($),n.delete(K)}}catch(e){G=!0,J=e}finally{try{W||null==X.return||X.return()}finally{if(G)throw J}}return c.forEach((function(e){return t.tiles.push(e)})),n.forEach((function(e){c.has(e.key.id)||(e.visible=!1)})),this._tileCache&&this._tileCache.prune(y,g,b),l.default.pool.release(i),c.clear(),F}}},{key:"clear",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this,r=this,n=r.tileIndex;e&&n.forEach((function(e){t.releaseTile(e)})),n.clear()}},{key:"updateCacheSize",value:function(e){this._tileCache&&(this._tileCache.maxSize=e)}},{key:"_addParentTile",value:function(e,t){for(var r=e,n=null;r=this.tileInfoView.getTileParentId(r);)if(this.tileIndex.has(r)){if((n=this.tileIndex.get(r))&&n.isReady){t.has(n.key.id)||t.set(n.key.id,n);break}}else if(this._tileCache&&this._tileCache.has(r)&&(n=this._tileCache.pop(r),this.tileIndex.set(r,n),n&&n.isReady)){t.has(n.key.id)||t.set(n.key.id,n);break}}},{key:"_hasReadyAncestor",value:function(e,t){var r=(0,a.create)();this.tileInfoView.getTileBounds(r,e,!0);var n=!0,i=!1,o=void 0;try{for(var s,l=this.tileIndex.values()[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;if(u.isReady&&u.key.level>=t&&u.key.level<e.level){var c=(0,a.create)();if(this.tileInfoView.getTileBounds(c,u.key,!0),(0,a.contains)(c,r))return!0}}}catch(e){i=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}return!1}}]),e}()})),s.register("3dMUS",(function(t,r){e(t.exports,"default",(function(){return o})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("hRgCq"),o=function(){"use strict";function e(t,r,i){n.default(this,e),this.maxSize=t,this.tileInfoView=r,this.removedFunc=i,this._tilePerId=new Map,this._tileKeysPerLevel=[]}return i.default(e,[{key:"has",value:function(e){return this._tilePerId.has(e)}},{key:"get",value:function(e){return this._tilePerId.get(e)}},{key:"pop",value:function(e){var t=this._tilePerId.get(e);if(!t)return null;var r=t.key.level,n=this._tileKeysPerLevel[r];l(this._tilePerId,e);for(var i=0;i<n.length;i++)if(n[i].id===e){n.splice(i,1);break}return t.visible=!0,t}},{key:"add",value:function(e){e.visible=!1;var t=e.key,r=t.id;if(!this._tilePerId.has(r)){this._tilePerId.set(r,e);var n=t.level;this._tileKeysPerLevel[n]||(this._tileKeysPerLevel[n]=[]),this._tileKeysPerLevel[n].push(t)}}},{key:"prune",value:function(e,t,r){var n=this._tilePerId.size;if(!(n<=this.maxSize)){for(var i=this._tileKeysPerLevel.length-1;n>this.maxSize&&i>=0;)i!==e&&(n=this._pruneAroundCenterTile(n,t,r,i)),i--;n>this.maxSize&&(n=this._pruneAroundCenterTile(n,t,r,e))}}},{key:"_pruneAroundCenterTile",value:function(e,t,r,n){var i=this._tileKeysPerLevel[n];if(!i||0===i.length)return e;var o=this.tileInfoView.tileInfo,s=o.size,l=o.origin,u=r*s[0],c=r*s[1],f=[0,0],p=[0,0];for(i.sort((function(e,r){return f[0]=l.x+u*(e.col+.5),f[1]=l.y-c*(e.row+.5),p[0]=l.x+u*(r.col+.5),p[1]=l.y-c*(r.row+.5),(0,a.a)(f,t)-(0,a.a)(p,t)}));i.length>0;){var d=i.pop();if(this._removeTile(d.id),--e===this.maxSize)break}return e}},{key:"_removeTile",value:function(e){var t=this._tilePerId.get(e);this.removedFunc&&this.removedFunc(t),l(this._tilePerId,e)}}]),e}();function l(e,t){e.delete(t)}})),s.register("887rD",(function(t,r){e(t.exports,"default",(function(){return g})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("amfHf"),c=s("2VlWd"),f=s("38gAI"),p=s("2Z8dq"),d=s("eoIYU"),h=s("i90gL"),y={added:[],removed:[]},v=new Set,m=new(0,h.default)(0,0,0,0),g=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this))._tiles=new Map,n._index=(0,f.r)(9,(0,c.default)("esri-csp-restrictions")?function(e){return{minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}}:[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),n.tiles=[],n.tileScheme=e,o.default(n)}return l.default(r,[{key:"destroy",value:function(){this.clear()}},{key:"clear",value:function(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}},{key:"has",value:function(e){return this._tiles.has(e)}},{key:"get",value:function(e){return this._tiles.get(e)}},{key:"boundsIntersections",value:function(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}},{key:"updateTiles",value:function(e){var t=this,r={added:[],removed:[]},n=!0,i=!1,a=void 0;try{for(var o,s=e.added[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;if(!this.has(l)){var u=new(0,p.Tile)(this.tileScheme,l);this._tiles.set(l,u),this._index.insert(u),r.added.push(u)}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}var c=!0,f=!1,d=void 0;try{for(var h,y=e.removed[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;if(this.has(v)){var m=this.get(v);this._tiles.delete(v),this._index.remove(m),r.removed.push(m)}}}catch(e){f=!0,d=e}finally{try{c||null==y.return||y.return()}finally{if(f)throw d}}this.tiles.length=0,this._tiles.forEach((function(e){return t.tiles.push(e)})),(r.added.length||r.removed.length)&&this.emit("update",r)}},{key:"setViewState",value:function(e){var t=this.tileScheme.getTileCoverage(e,0);if(t){var r=t.spans,n=t.lodInfo,i=n.level,a=!0,o=!1,s=void 0;if(r.length>0)try{for(var l,u=r[Symbol.iterator]();!(a=(l=u.next()).done);a=!0)for(var c=l.value,f=c.row,h=c.colFrom,g=c.colTo,b=h;b<=g;b++){var _=m.set(i,f,n.normalizeCol(b),n.getWorldForColumn(b)).id;if(v.add(_),!this.has(_)){var w=new(0,p.Tile)(this.tileScheme,_);this._tiles.set(_,w),this._index.insert(w),this.tiles.push(w),y.added.push(w)}}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}for(var x=this.tiles.length-1;x>=0;x--){var S=this.tiles[x];v.has(S.id)||(this._tiles.delete(S.id),this.tiles.splice(x,1),this._index.remove(S),y.removed.push(S))}(y.added.length||y.removed.length)&&this.emit("update",y),d.default.pool.release(t),v.clear(),y.added.length=0,y.removed.length=0}}}]),r}(u.default)})),s.register("38gAI",(function(t,r){e(t.exports,"r",(function(){return i}));var n=s("fcGl2");function i(e,t){if(!(this instanceof i))return new i(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this.toBBox=t:this._initFormat(t)),this.clear()}function a(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function o(e,t){l(e,0,e.children.length,t,e)}function l(e,t,r,n,i){i||(i=v(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a,o=t;o<r;o++)a=e.children[o],u(i,e.leaf?n(a):a);return i}function u(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function c(e,t){return e.minX-t.minX}function f(e,t){return e.minY-t.minY}function p(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function y(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function v(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(e,t,r,i,a){for(var o,s=[t,r];s.length;)(r=s.pop())-(t=s.pop())<=i||(o=t+Math.ceil((r-t)/i/2)*i,(0,n.q)(e,o,t,r,a),s.push(t,o,o,r))}i.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],n=this.toBBox;if(!y(e,t))return r;for(var i,a,o,s,l=[];t;){for(i=0,a=t.children.length;i<a;i++)o=t.children[i],y(e,s=t.leaf?n(o):o)&&(t.leaf?r.push(o):h(e,s)?this._all(o,r):l.push(o));t=l.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!y(e,t))return!1;for(var n,i,a,o,s=[];t;){for(n=0,i=t.children.length;n<i;n++)if(a=t.children[n],y(e,o=t.leaf?r(a):a)){if(t.leaf||h(e,o))return!0;s.push(a)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=v([]),this},remove:function(e,t){if(!e)return this;for(var r,n,i,o,s=this.data,l=this.toBBox(e),u=[],c=[];s||u.length;){if(s||(s=u.pop(),n=u[u.length-1],r=c.pop(),o=!0),s.leaf&&-1!==(i=a(e,s.children,t)))return s.children.splice(i,1),u.push(s),this._condense(u),this;o||s.leaf||!h(s,l)?n?(r++,s=n.children[r],o=!1):s=null:(u.push(s),c.push(r),r=0,n=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:c,compareMinY:f,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,n){var i,a=r-t+1,s=this._maxEntries;if(a<=s)return o(i=v(e.slice(t,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),(i=v([])).leaf=!1,i.height=n;var l,u,c,f,p=Math.ceil(a/s),d=p*Math.ceil(Math.sqrt(s));for(m(e,t,r,d,this.compareMinX),l=t;l<=r;l+=d)for(m(e,l,c=Math.min(l+d-1,r),p,this.compareMinY),u=l;u<=c;u+=p)f=Math.min(u+p-1,c),i.children.push(this._build(e,u,f,n-1));return o(i,this.toBBox),i},_chooseSubtree:function(e,t,r,n){for(var i,a,o,s,l,u,c,f;n.push(t),!t.leaf&&n.length-1!==r;){for(c=f=1/0,i=0,a=t.children.length;i<a;i++)l=p(o=t.children[i]),d=e,h=o,(u=(Math.max(h.maxX,d.maxX)-Math.min(h.minX,d.minX))*(Math.max(h.maxY,d.maxY)-Math.min(h.minY,d.minY))-l)<f?(f=u,c=l<c?l:c,s=o):u===f&&l<c&&(c=l,s=o);t=s||t.children[0]}var d,h;return t},_insert:function(e,t,r){var n=this.toBBox,i=r?e:n(e),a=[],o=this._chooseSubtree(i,this.data,t,a);for(o.children.push(e),u(o,i);t>=0&&a[t].children.length>this._maxEntries;)this._split(a,t),t--;this._adjustParentBBoxes(i,a,t)},_split:function(e,t){var r=e[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var a=this._chooseSplitIndex(r,i,n),s=v(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,o(r,this.toBBox),o(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},_splitRoot:function(e,t){this.data=v([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var n,i,a,o,s,u,c,f,d,h,y,v,m,g;for(u=c=1/0,n=t;n<=r-t;n++)d=i=l(e,0,n,this.toBBox),h=a=l(e,n,r,this.toBBox),y=void 0,v=void 0,m=void 0,g=void 0,y=Math.max(d.minX,h.minX),v=Math.max(d.minY,h.minY),m=Math.min(d.maxX,h.maxX),g=Math.min(d.maxY,h.maxY),o=Math.max(0,m-y)*Math.max(0,g-v),s=p(i)+p(a),o<u?(u=o,f=n,c=s<c?s:c):o===u&&s<c&&(c=s,f=n);return f},_chooseSplitAxis:function(e,t,r){var n=e.leaf?this.compareMinX:c,i=e.leaf?this.compareMinY:f;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},_allDistMargin:function(e,t,r,n){e.children.sort(n);var i,a,o=this.toBBox,s=l(e,0,t,o),c=l(e,r-t,r,o),f=d(s)+d(c);for(i=t;i<r-t;i++)a=e.children[i],u(s,e.leaf?o(a):a),f+=d(s);for(i=r-t-1;i>=t;i--)a=e.children[i],u(c,e.leaf?o(a):a),f+=d(c);return f},_adjustParentBBoxes:function(e,t,r){for(var n=r;n>=0;n--)u(t[n],e)},_condense:function(e){for(var t,r=e.length-1;r>=0;r--)0===e[r].children.length?r>0?(t=e[r-1].children).splice(t.indexOf(e[r]),1):this.clear():o(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}})),s.register("fcGl2",(function(t,r){e(t.exports,"q",(function(){return o}));var n,i,a={exports:{}};n=a,void 0!==(i=function(){function e(r,n,i,a,o){for(;a>i;){if(a-i>600){var s=a-i+1,l=n-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(r,n,Math.max(i,Math.floor(n-l*c/s+f)),Math.min(a,Math.floor(n+(s-l)*c/s+f)),o)}var p=r[n],d=i,h=a;for(t(r,i,n),o(r[a],p)>0&&t(r,i,a);d<h;){for(t(r,d,h),d++,h--;o(r[d],p)<0;)d++;for(;o(r[h],p)>0;)h--}0===o(r[i],p)?t(r,i,h):t(r,++h,a),h<=n&&(i=h+1),n<=h&&(a=h-1)}}function t(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function r(e,t){return e<t?-1:e>t?1:0}return function(t,n,i,a,o){e(t,n,i||0,a||t.length-1,o||r)}}())&&(n.exports=i);var o=a.exports})),s.register("2Z8dq",(function(t,r){e(t.exports,"Tile",(function(){return f})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("8IgiO"),o=s("gINRd"),l=s("8TwEW"),u=s("gPYCp"),c=s("i90gL"),f=function(){"use strict";function e(t,r){n.default(this,e),this.key=new(0,c.default)(0,0,0,0),this.bounds=(0,l.create)(),this.objectIds=new Set,this.key.set(r);var i=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=i.resolution,this.scale=i.scale,this.level=i.level}return i.default(e,[{key:"id",get:function(){return this.key.id}},{key:"extent",get:function(){return o.default.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}},{key:"transform",get:function(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}},{key:"createChildTiles",value:function(){for(var t=this.key.getChildKeys(),r=a.default.acquire(),n=0;n<t.length;n++)r[n]=new e(this.tileInfoView,t[n]);return r}},{key:"getQuantizationParameters",value:function(){return u.default.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}]),e}()})),s.register("baDo1",(function(t,r){e(t.exports,"Timeline",(function(){return a})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=function(){"use strict";function e(){n.default(this,e),this._names=new Map}return i.default(e,[{key:"begin",value:function(e){this._names.has(e)||(this._names.set(e,!1),-1!==e.indexOf("Brush")&&this.record("Esri.FirstDraw"),performance.mark("Esri.".concat(e,".Start")))}},{key:"end",value:function(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark("Esri.".concat(e,".End")))}},{key:"record",value:function(e){this._names.has(e)||(this._names.set(e,!0),performance.mark("Esri.".concat(e)))}}]),e}()})),s.register("cOnBU",(function(t,r){e(t.exports,"encodeResult",(function(){return i})),e(t.exports,"getFormatAndQuality",(function(){return a})),e(t.exports,"getMaximumResolutionScale",(function(){return o})),e(t.exports,"createEmptyImageData",(function(){return l})),e(t.exports,"wrapImageData",(function(){return u})),e(t.exports,"resampleHermite",(function(){return c})),s("8TSCy");s("ifq4M");s("2VlWd");var n=s("iVfa0");function i(e,t,r,n){n.premultipliedAlpha&&function(e){for(var t=e.data,r=t.length,n=0;n<r;n+=4){var i=t[n+3];if(i>0){var a=i/255;t[n+0]=t[n+0]/a,t[n+1]=t[n+1]/a,t[n+2]=t[n+2]/a}}}(e),r.width=e.width,r.height=e.height;var i,a=r.getContext("2d");a.putImageData(e,0,0),n.flipY&&((i=a).save(),i.globalCompositeOperation="copy",i.scale(1,-1),i.translate(0,-i.canvas.height),i.drawImage(i.canvas,0,0),i.restore());var o,s,l,u,c=a.getImageData(0,0,e.width,e.height),f=(o=r,l=y[(s=t).format],u=s.quality/100,o.toDataURL(l,u));return r.width=0,r.height=0,{dataUrl:f,data:c}}function a(e,t){var r=h(e),i=m[r];return{format:r,quality:(0,n.clamp)(null!=t?t:i,0,100)}}function o(e,t){return t/Math.max(e[0],e[1])}function l(e,t,r){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(d)try{return new ImageData(e,t)}catch(e){d=!1}return f(e,t,r)}function u(e,t,r,n){if(!t||!r)throw new Error("Cannot construct image data without dimensions");if(d)try{return new ImageData(e,t,r)}catch(e){d=!1}var i=f(t,r,n);return i.data.set(e,0),i}function c(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.width-n,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e.height-i,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=e.data,u=t.width,c=t.height,f=t.data,p=a/u,d=o/c,h=Math.ceil(p/2),y=Math.ceil(d/2),v=e.width,m=0;m<c;m++)for(var g=0;g<u;g++){for(var b=4*(g+(s?c-m-1:m)*u),_=0,w=0,x=0,S=0,k=0,T=0,E=(m+.5)*d,I=Math.floor(m*d);I<(m+1)*d;I++)for(var C=Math.abs(E-(I+.5))/y,O=(g+.5)*p,L=C*C,A=Math.floor(g*p);A<(g+1)*p;A++){var M=Math.abs(O-(A+.5))/h,N=Math.sqrt(L+M*M);if(!(N>=1)){var R=2*N*N*N-3*N*N+1,P=4*(n+A+(i+I)*v);T+=R*l[P+3],w+=R,!r&&l[P+3]<255&&(R=R*l[P+3]/255),x+=R*l[P],S+=R*l[P+1],k+=R*l[P+2],_+=R}}f[b]=x/_,f[b+1]=S/_,f[b+2]=k/_,f[b+3]=T/w}return t}function f(e,t,r){return r||(p||((p=document.createElement("canvas")).width=1,p.height=1),r=p),r.getContext("2d").createImageData(e,t)}var p=null,d=!0;function h(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return v}}var y={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},v="png",m={png:100,jpg:98,jpeg:98}})),s.register("3NAox",(function(t,r){e(t.exports,"getWebGLCapabilities",(function(){return p})),e(t.exports,"getWebGL1Capabilities",(function(){return d})),s("8TSCy");var n,i,a=s("f9pi5"),o=s("g9uIT"),l=s("dap1g"),u=s("bFSSc"),c=s("7qybv"),f=s("fnzEM");function p(e){switch(e){case f.ContextType.WEBGL1:return d();case f.ContextType.WEBGL2:return i||(t=new v,r=m(f.ContextType.WEBGL2,t),(0,c.isNone)(r),i=t),i}var t,r}function d(){return n||(e=new y,t=m(f.ContextType.WEBGL1,e),(0,c.isNone)(t)||(e.supportsElementIndexUint=null!==t.getExtension("OES_element_index_uint"),e.supportsStandardDerivatives=null!==t.getExtension("OES_standard_derivatives"),e.supportsInstancedArrays=null!==t.getExtension("ANGLE_instanced_arrays"),e.supportsTextureFloat=null!==t.getExtension("OES_texture_float")),n=e),n;var e,t}var h=function e(){"use strict";a.default(this,e),this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1},y=function(e){"use strict";o.default(r,e);var t=l.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).type=f.ContextType.WEBGL1,e.supportsElementIndexUint=!1,e.supportsStandardDerivatives=!1,e.supportsInstancedArrays=!1,e.supportsTextureFloat=!1,u.default(e)}return r}(h),v=function(e){"use strict";o.default(r,e);var t=l.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).type=f.ContextType.WEBGL2,u.default(e)}return r}(h);function m(e,t){f.ContextType.WEBGL1,f.ContextType.WEBGL2;var r=document.createElement("canvas");if(!r)return null;var n=(0,f.createContext)(r,e,{failIfMajorPerformanceCaveat:!0});if((0,c.isNone)(n)&&(n=(0,f.createContext)(r,e),(0,c.isSome)(n)&&(t.majorPerformanceCaveat=!0)),(0,c.isNone)(n))return n;if(e===f.ContextType.WEBGL1){var i=n.getParameter(n.VERSION),a=null==i?void 0:i.match(/^WebGL\s+([\d.]*)/);if(a){var o=parseFloat(a[1]);t.available=o>=.94}}else t.available=!0;t.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;var s=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);return s&&(t.supportsHighPrecisionFragment=s.precision>0),n}})),s.register("fnzEM",(function(t,r){e(t.exports,"ContextType",(function(){return n})),e(t.exports,"createContextOrErrorHTML",(function(){return l})),e(t.exports,"getContextTypes",(function(){return u})),e(t.exports,"createContext",(function(){return f}));var n,i,a=s("2VlWd"),o=s("7qybv");function l(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=u(e);n.length>1;){var i=f(t,n.shift(),r);if((0,o.isSome)(i))return i}return c(t,n.shift(),r)}function u(e){var t=(0,a.default)("esri-force-webgl");if(t===n.WEBGL1||t===n.WEBGL2)return[t];switch(e){case"2d":return[n.WEBGL1];case"3d":return[n.WEBGL2,n.WEBGL1]}}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!window.WebGLRenderingContext)return p(e,d),null;var n=f(e,t,r);return(0,o.isNone)(n)&&p(e,h),n}function f(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t===n.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"],a=null,o=!0,s=!1,l=void 0;try{for(var u,c=i[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;try{a=e.getContext(f,r)}catch(e){}if(a)break}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}return a}function p(e,t){var r=e.parentNode;r&&(r.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>")}(i=n||(n={}))[i.WEBGL1=1]="WEBGL1",i[i.WEBGL2=2]="WEBGL2";var d='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',h='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'})),s.register("dKApM",(function(t,n){r(t.exports),e(t.exports,"default",(function(){return z})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("5Vgx8"),u=s("bFSSc"),c=s("jK9zx"),f=s("ifq4M"),p=s("7eJjO"),d=s("9pNSx"),h=s("kyj08"),y=s("6dXDO"),v=s("7qybv"),m=s("8NioF"),g=s("10vEZ"),b=s("kYueh"),_=s("iho5X");s("lNwWH"),s("2VlWd");var w=s("ba18L"),x=s("eB8sj"),S=s("fcwIv"),k=s("kced1"),T=s("j40xv"),E=s("4LDxK"),I=s("jy0BF"),C=s("1a7AW"),O=s("ds6X2"),L=s("aLy89"),A=s("gIXJ2"),M=s("cv2jJ"),N=s("5N5S1"),R=s("9bAYR"),P=s("13Qxf"),F=s("3GzOb"),j=s("bMJ3b"),D=s("lmu5w"),U=s("gRgX5"),V=s("5qsk3"),B=["Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Elevation/World_Hillshade","Elevation/World_Hillshade_Dark","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Ocean_Basemap","Reference/World_Boundaries_and_Places","Reference/World_Boundaries_and_Places_Alternate","Reference/World_Transportation","World_Imagery","World_Street_Map","World_Topo_Map"],H=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a;return o.default(this,r),(a=t.call.apply(t,[this].concat(l.default(n)))).listMode="show",a.isReference=null,a.operationalLayerType="ArcGISTiledMapServiceLayer",a.resampling=!0,a.sourceJSON=null,a.spatialReference=null,a.path=null,a.sublayers=null,a.type="tile",a.url=null,u.default(a)}return c.default(r,[{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?f.default({url:e},t):e}},{key:"load",value:function(e){var t=this,r=(0,v.isSome)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).catch(g.throwIfAbortError).then((function(){return t._fetchService(r)}))),Promise.resolve(this)}},{key:"attributionDataUrl",get:function(){var e,t=null==(e=this.parsedUrl)?void 0:e.path.toLowerCase();return t&&this._getDefaultAttribution(this._getMapName(t))}},{key:"readSpatialReference",value:function(e,t){return(e=e||t.tileInfo&&t.tileInfo.spatialReference)&&T.default.fromJSON(e)}},{key:"writeSublayers",value:function(e,t,r,n){if(this.loaded&&e){var i=e.slice().reverse().flatten((function(e){var t=e.sublayers;return t&&t.toArray().reverse()})).toArray(),a=[],o=f.default({writeSublayerStructure:!1},n);i.forEach((function(e){var t=e.write({},o);a.push(t)})),a.some((function(e){return Object.keys(e).length>1}))&&(t.layers=a)}}},{key:"tileServers",get:function(){return this._getDefaultTileServers(this.parsedUrl.path)}},{key:"castTileServers",value:function(e){return Array.isArray(e)?e.map((function(e){return(0,b.urlToObject)(e).path})):null}},{key:"fetchTile",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.signal,a=this.getTileUrl(e,t,r),o={responseType:"image",signal:i,query:f.default({},this.refreshParameters)};return(0,d.default)(a,o).then((function(e){return e.data}))}},{key:"getTileUrl",value:function(e,t,r){var n=!this.tilemapCache&&this.supportsBlankTile,i=(0,b.objectToQuery)(f.default({},this.parsedUrl.query,{blankTile:!n&&null},this.customParameters,{token:this.apiKey})),a=this.tileServers;return"".concat(a&&a.length?a[t%a.length]:this.parsedUrl.path,"/tile/").concat(e,"/").concat(t,"/").concat(r).concat(i?"?"+i:"")}},{key:"_fetchService",value:function(e){var t=this;return new Promise((function(r,n){if(t.sourceJSON){if(null!=t.sourceJSON.bandCount&&null!=t.sourceJSON.pixelSizeX)throw new(0,h.default)("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");r({data:t.sourceJSON})}else{if(!t.parsedUrl)throw new(0,h.default)("tile-layer:undefined-url","layer's url is not defined");var i=(0,D.parse)(t.parsedUrl.path);if((0,v.isSome)(i)&&"ImageServer"===i.serverType)throw new(0,h.default)("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");(0,d.default)(t.parsedUrl.path,{query:f.default({f:"json"},t.parsedUrl.query,t.customParameters,{token:t.apiKey}),responseType:"json",signal:e}).then(r,n)}})).then((function(r){var n=t;if(r.ssl&&(t.url=t.url.replace(/^http:/i,"https:")),t.sourceJSON=r.data,t.read(r.data,{origin:"service",url:t.parsedUrl}),10.1===t.version&&!(0,D.isHostedAgolService)(t.url))return t._fetchServerVersion(t.url,e).then((function(e){n.read({currentVersion:e})})).catch((function(){}))}))}},{key:"_fetchServerVersion",value:function(e,t){if(!(0,D.isArcGISUrl)(e))return Promise.reject();var r=e.replace(/(.*\/rest)\/.*/i,"$1")+"/info";return(0,d.default)(r,{query:f.default({f:"json"},this.customParameters,{token:this.apiKey}),responseType:"json",signal:t}).then((function(e){if(e.data&&e.data.currentVersion)return e.data.currentVersion;throw new(0,h.default)("tile-layer:version-not-available")}))}},{key:"_getMapName",value:function(e){var t=e.match(/^(?:https?:)?\/\/(server\.arcgisonline\.com|services\.arcgisonline\.com|ibasemaps-api\.arcgis\.com)\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/mapserver/i);return t&&t[2]}},{key:"_getDefaultAttribution",value:function(e){if(e){var t;e=e.toLowerCase();for(var r=0,n=B.length;r<n;r++)if((t=B[r]).toLowerCase().indexOf(e)>-1)return(0,b.makeAbsolute)("//static.arcgis.com/attribution/"+t)}}},{key:"_getDefaultTileServers",value:function(e){var t=-1!==e.search(/^(?:https?:)?\/\/server\.arcgisonline\.com/i),r=-1!==e.search(/^(?:https?:)?\/\/services\.arcgisonline\.com/i);return t||r?[e,e.replace(t?/server\.arcgisonline/i:/services\.arcgisonline/i,t?"services.arcgisonline":"server.arcgisonline")]:[]}},{key:"hasOverriddenFetchTile",get:function(){return!this.fetchTile.__isDefault__}}]),r}((0,A.BlendLayer)((0,j.SublayersOwner)((0,F.ScaleRangeLayer)((0,N.OperationalLayer)((0,R.PortalLayer)((0,C.ArcGISCachedService)((0,O.ArcGISMapService)((0,L.ArcGISService)((0,m.MultiOriginJSONMixin)((0,y.HandleOwnerMixin)((0,P.RefreshableLayer)((0,I.APIKeyMixin)((0,M.CustomParametersMixin)(E.default))))))))))))));(0,p._)([(0,_.property)({readOnly:!0})],H.prototype,"attributionDataUrl",null),(0,p._)([(0,_.property)({type:["show","hide","hide-children"]})],H.prototype,"listMode",void 0),(0,p._)([(0,_.property)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],H.prototype,"isReference",void 0),(0,p._)([(0,_.property)({readOnly:!0,type:["ArcGISTiledMapServiceLayer"]})],H.prototype,"operationalLayerType",void 0),(0,p._)([(0,_.property)({type:Boolean})],H.prototype,"resampling",void 0),(0,p._)([(0,_.property)()],H.prototype,"sourceJSON",void 0),(0,p._)([(0,_.property)({type:T.default})],H.prototype,"spatialReference",void 0),(0,p._)([(0,x.reader)("spatialReference",["spatialReference","tileInfo"])],H.prototype,"readSpatialReference",null),(0,p._)([(0,_.property)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],H.prototype,"path",void 0),(0,p._)([(0,_.property)({readOnly:!0})],H.prototype,"sublayers",void 0),(0,p._)([(0,k.writer)("sublayers",{layers:{type:[V.default]}})],H.prototype,"writeSublayers",null),(0,p._)([(0,_.property)({json:{read:!1,write:!1}})],H.prototype,"popupEnabled",void 0),(0,p._)([(0,_.property)()],H.prototype,"tileServers",null),(0,p._)([(0,w.cast)("tileServers")],H.prototype,"castTileServers",null),(0,p._)([(0,_.property)({readOnly:!0,json:{read:!1}})],H.prototype,"type",void 0),(0,p._)([(0,_.property)(U.url)],H.prototype,"url",void 0),(H=(0,p._)([(0,S.subclass)("esri.layers.TileLayer")],H)).prototype.fetchTile.__isDefault__=!0;var z=H})),s.register("1a7AW",(function(t,r){e(t.exports,"ArcGISCachedService",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO");s("2ILM8");var c=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var f=s("eB8sj"),p=s("fcwIv"),d=s("hf36P"),h=s("9UGCQ"),y=s("j40xv"),v=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){var e;return a.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).copyright=null,e.minScale=0,e.maxScale=0,e.spatialReference=null,e.tileInfo=null,e.tilemapCache=null,o.default(e)}return l.default(r,[{key:"readMinScale",value:function(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}},{key:"readMaxScale",value:function(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}},{key:"supportsBlankTile",get:function(){return this.version>=10.2}},{key:"readTilemapCache",value:function(e,t){return t.capabilities&&t.capabilities.indexOf("Tilemap")>-1?new(0,h.TilemapCache)({layer:this}):null}}]),r}(e);return(0,u._)([(0,c.property)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),(0,u._)([(0,c.property)()],t.prototype,"minScale",void 0),(0,u._)([(0,f.reader)("service","minScale")],t.prototype,"readMinScale",null),(0,u._)([(0,c.property)()],t.prototype,"maxScale",void 0),(0,u._)([(0,f.reader)("service","maxScale")],t.prototype,"readMaxScale",null),(0,u._)([(0,c.property)({type:y.default})],t.prototype,"spatialReference",void 0),(0,u._)([(0,c.property)({readOnly:!0})],t.prototype,"supportsBlankTile",null),(0,u._)([(0,c.property)(d.serviceTileInfoProperty)],t.prototype,"tileInfo",void 0),(0,u._)([(0,c.property)()],t.prototype,"tilemapCache",void 0),(0,u._)([(0,f.reader)("service","tilemapCache",["capabilities"])],t.prototype,"readTilemapCache",null),(0,u._)([(0,c.property)()],t.prototype,"version",void 0),t=(0,u._)([(0,p.subclass)("esri.layers.mixins.ArcGISCachedService")],t)}})),s.register("hf36P",(function(t,r){e(t.exports,"serviceTileInfoProperty",(function(){return a})),e(t.exports,"readServiceTileInfo",(function(){return o})),s("8TSCy");var n=s("ifq4M"),i=s("xQ42o"),a={type:i.default,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:o}}}}};function o(e,t,r,a){if(!e)return null;var o=t.minScale,s=t.maxScale,l=t.minLOD,u=t.maxLOD;if(null!=l&&null!=u)return a&&a.ignoreMinMaxLOD?i.default.fromJSON(e):i.default.fromJSON(n.default({},e,{lods:e.lods.filter((function(e){var t=e.level;return null!=t&&t>=l&&t<=u}))}));if(0!==o&&0!==s){var c=function(e){return Math.round(1e4*e)/1e4},f=o?c(o):1/0,p=s?c(s):-1/0;return i.default.fromJSON(n.default({},e,{lods:e.lods.filter((function(e){var t=c(e.scale);return t<=f&&t>=p}))}))}return i.default.fromJSON(e)}})),s.register("9UGCQ",(function(t,r){e(t.exports,"TilemapCache",(function(){return M})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("ifq4M"),f=s("jcnGU"),p=s("2TvXO"),d=s("7eJjO"),h=s("9pNSx"),y=s("jymfC"),v=s("dbxRf"),m=s("kyj08"),g=s("6dXDO"),b=s("jHOLN"),_=s("crS0R"),w=s("6v7Z0"),x=s("10vEZ"),S=s("lKPaD"),k=s("7LFLF"),T=s("kYueh"),E=s("iho5X");s("lNwWH"),s("2VlWd");var I,C=s("ba18L"),O=s("fcwIv"),L=s("2p7pn"),A=b.default.getLogger("esri.layers.support.TilemapCache"),M=I=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(e){var n;return o.default(this,r),(n=t.call(this,e))._pendingTilemapRequests={},n._availableLevels={},n.levels=5,n.cacheByteSize=2*v.ByteSizeUnit.MEGABYTES,n.request=h.default,n._prefetchingEnabled=!0,l.default(n)}return u.default(r,[{key:"initialize",value:function(){var e=this;this._tilemapCache=new(0,_.default)(this.cacheByteSize),this.handles.add([this.watch(["layer.parsedUrl","layer.tileServers?","layer.apiKey?","layer.customParameters?"],(function(){return e._initializeTilemapDefinition()})),(0,S.watch)((function(){var t,r;return null==(t=e.layer)||null==(r=t.tileInfo)?void 0:r.lods}),(function(t){return e._initializeAvailableLevels(t)}),S.syncAndInitial)]),this._initializeTilemapDefinition()}},{key:"castLevels",value:function(e){return e<=2?(A.error("Minimum levels for Tilemap is 3, but got ",e),3):e}},{key:"size",get:function(){return 1<<this.levels}},{key:"fetchTilemap",value:function(e,t,r,n){var i=this;if(!this._availableLevels[e])return Promise.reject(new(0,m.default)("tilemap-cache:level-unavailable","Level ".concat(e," is unavailable in the service")));var a=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,r,a);if(o)return Promise.resolve(o);var s=n&&n.signal;return n=c.default({},n,{signal:null}),new Promise((function(e,t){(0,x.onAbort)(s,(function(){return t((0,x.createAbortError)())}));var r=(0,L.tilemapDefinitionId)(a),o=i._pendingTilemapRequests[r];if(!o){var l=i;o=L.Tilemap.fromDefinition(a,n).then((function(e){return l._tilemapCache.put(r,e,e.byteSize),e}));var u=function(){return delete l._pendingTilemapRequests[r]};i._pendingTilemapRequests[r]=o,o.then(u,u)}o.then(e,t)}))}},{key:"getAvailability",value:function(e,t,r){if(!this._availableLevels[e])return"unavailable";var n=this._tilemapFromCache(e,t,r,this._tmpTilemapDefinition);return n?n.getAvailability(t,r):"unknown"}},{key:"fetchAvailability",value:function(e,t,r,n){return this._availableLevels[e]?this.fetchTilemap(e,t,r,n).catch((function(e){return e})).then((function(n){if(n instanceof L.Tilemap){var i=n.getAvailability(t,r);return"unavailable"===i?Promise.reject(new(0,m.default)("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:r})):i}if((0,x.isAbortError)(n))throw n;return"unknown"})):Promise.reject(new(0,m.default)("tilemap-cache:level-unavailable","Level ".concat(e," is unavailable in the service")))}},{key:"fetchAvailabilityUpsample",value:function(e,t,r,n,i){var a=this;n.level=e,n.row=t,n.col=r;var o=this.layer.tileInfo;o.updateTileInfo(n);var s=this.fetchAvailability(e,t,r,i).catch((function(e){if((0,x.isAbortError)(e))throw e;if(o.upsampleTile(n))return a.fetchAvailabilityUpsample(n.level,n.row,n.col,n);throw e}));return this._fetchAvailabilityUpsamplePrefetch(n.id,e,t,r,i,s),s}},{key:"_fetchAvailabilityUpsamplePrefetch",value:function(e,t,r,i,a,o){var s=this;return f.default(n(p).mark((function l(){var u,f,d,h,y,v,m,g,b,_;return n(p).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s._prefetchingEnabled){n.next=2;break}return n.abrupt("return");case 2:if(u="prefetch-".concat(e),!s.handles.has(u)){n.next=5;break}return n.abrupt("return");case 5:return f=new AbortController,o.then((function(){return f.abort()}),(function(){return f.abort()})),d=!1,h={remove:function(){d||(d=!0,f.abort())}},s.handles.add(h,u),n.next=12,(0,k.waitTicks)(10,f.signal).catch((function(){}));case 12:if(d||(d=!0,s.handles.remove(u)),n.sent,!(0,x.isAborted)(f)){n.next=15;break}return n.abrupt("return");case 15:for(y={id:e,level:t,row:r,col:i},v=c.default({},a,{signal:f.signal}),m=s.layer.tileInfo,g=0;I._prefetches.length<I._maxPrefetch&&m.upsampleTile(y);++g)b=s.fetchAvailability(y.level,y.row,y.col,v),I._prefetches.push(b),_=function(){I._prefetches.removeUnordered(b)},b.then(_,_);case 17:case"end":return n.stop()}}),l)})))()}},{key:"_initializeTilemapDefinition",value:function(){var e;if(this.layer.parsedUrl){var t=this.layer,r=t.parsedUrl,n=t.apiKey,i=t.customParameters;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:r.path,query:(0,T.objectToQuery)(c.default({},r.query,i,{token:null!=n?n:null==(e=r.query)?void 0:e.token})),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}}},{key:"_tilemapFromCache",value:function(e,t,r,n){n.level=e,n.row=t-t%this.size,n.col=r-r%this.size;var i=(0,L.tilemapDefinitionId)(n);return this._tilemapCache.get(i)}},{key:"_initializeAvailableLevels",value:function(e){var t=this;this._availableLevels={},e&&e.forEach((function(e){return t._availableLevels[e.level]=!0}))}},{key:"test",get:function(){var e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:function(t,r,n){return!!e._tilemapFromCache(t,r,n,e._tmpTilemapDefinition)}}}}]),r}((0,g.HandleOwnerMixin)(y.default));M._maxPrefetch=4,M._prefetches=new(0,w.default)({initialSize:I._maxPrefetch}),(0,d._)([(0,E.property)({constructOnly:!0,type:Number})],M.prototype,"levels",void 0),(0,d._)([(0,C.cast)("levels")],M.prototype,"castLevels",null),(0,d._)([(0,E.property)({readOnly:!0,type:Number})],M.prototype,"size",null),(0,d._)([(0,E.property)({constructOnly:!0,type:Number})],M.prototype,"cacheByteSize",void 0),(0,d._)([(0,E.property)({constructOnly:!0})],M.prototype,"layer",void 0),(0,d._)([(0,E.property)({constructOnly:!0})],M.prototype,"request",void 0),M=I=(0,d._)([(0,O.subclass)("esri.layers.support.TilemapCache")],M)})),s.register("2p7pn",(function(t,r){e(t.exports,"Tilemap",(function(){return f})),e(t.exports,"tilemapDefinitionId",(function(){return p})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("ifq4M"),o=s("9pNSx"),l=s("lNwWH"),u=s("kyj08"),c=s("flPLJ"),f=function(){"use strict";function e(){n.default(this,e),this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}return i.default(e,[{key:"getAvailability",value:function(e,t){if("unknown"!==this._allAvailability)return this._allAvailability;var r=(e-this.location.top)*this.location.width+(t-this.location.left),n=r%8,i=r>>3,a=this._tileAvailabilityBitSet;return i<0||i>a.length?"unknown":a[i]&1<<n?"available":"unavailable"}},{key:"_updateFromData",value:function(e){for(var t=this.location.width,r=this.location.height,n=!0,i=!0,a=Math.ceil(t*r/8),o=new Uint8Array(a),s=0,l=0;l<e.length;l++){var u=l%8;e[l]?(i=!1,o[s]|=1<<u):n=!1,7===u&&++s}i?this._allAvailability="unavailable":n?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=o,this.byteSize+=o.length)}}],[{key:"fromDefinition",value:function(t,r){var n=t.service.request||o.default,i=t.row,s=t.col,c=t.width,f=t.height,p={query:{f:"json"}};return r=r?a.default({},p,r):p,n(function(e){var t;if("vector-tile"===e.service.type)t="".concat(e.service.url,"/tilemap/").concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.width,"/").concat(e.height);else{var r=e.service.tileServers;t="".concat(r&&r.length?r[e.row%r.length]:e.service.url,"/tilemap/").concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.width,"/").concat(e.height)}var n=e.service.query;return n&&(t="".concat(t,"?").concat(n)),t}(t),r).then((function(e){return e.data})).catch((function(e){if(e&&e.details&&422===e.details.httpStatus)return{location:{top:i,left:s,width:c,height:f},valid:!0,data:(0,l.constant)(c*f,0)};throw e})).then((function(t){if(t.location&&(t.location.top!==i||t.location.left!==s||t.location.width!==c||t.location.height!==f))throw new(0,u.default)("tilemap:location-mismatch","Tilemap response for different location than requested",{response:t,definition:{top:i,left:s,width:c,height:f}});return e.fromJSON(t)}))}},{key:"fromJSON",value:function(t){e._validateJSON(t);var r=new e;return r.location=Object.freeze((0,c.clone)(t.location)),r._updateFromData(t.data),Object.freeze(r)}},{key:"_validateJSON",value:function(e){if(!e||!e.location)throw new(0,u.default)("tilemap:missing-location","Location missing from tilemap response");if(!1===e.valid)throw new(0,u.default)("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new(0,u.default)("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(e.data))throw new(0,u.default)("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new(0,u.default)("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}]),e}();function p(e){return"".concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.width,"/").concat(e.height)}})),s.register("ds6X2",(function(t,r){e(t.exports,"ArcGISMapService",(function(){return k})),s("8TSCy");var i=s("g9uIT"),a=s("dap1g"),o=s("f9pi5"),l=s("bFSSc"),u=s("jK9zx"),c=s("jcnGU"),f=s("ifq4M"),p=s("2TvXO"),d=s("7eJjO"),h=s("9pNSx"),y=s("10vEZ"),v=s("kYueh"),m=s("beKZU"),g=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var b=s("eB8sj"),_=s("fcwIv"),w=s("gINRd"),x=s("j40xv"),S=s("gRgX5"),k=function(e){var t=function(e){"use strict";i.default(r,e);var t=a.default(r);function r(){var e;return o.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).capabilities=void 0,e.copyright=null,e.fullExtent=null,e.legendEnabled=!0,e.spatialReference=null,e.version=void 0,l.default(e)}return u.default(r,[{key:"readCapabilities",value:function(e,t){var r,n,i=t.capabilities&&t.capabilities.split(",").map((function(e){return e.toLowerCase().trim()}));if(!i)return{operations:{supportsQuery:!1,supportsExportMap:!1,supportsExportTiles:!1,supportsTileMap:!1},exportMap:null,exportTiles:null};var a=this.type,o=i.includes("query"),s=i.includes("map"),l=!!t.exportTilesAllowed,u=i.includes("tilemap"),c="tile"!==a&&!!t.supportsDynamicLayers,f="tile"!==a&&(!t.tileInfo||c),p="tile"!==a&&(!t.tileInfo||c),d="tile"!==a,h=t.cimVersion&&m.Version.parse(t.cimVersion),y=null!=(r=null==h?void 0:h.since(1,4))&&r,v=null!=(n=null==h?void 0:h.since(2,0))&&n;return{operations:{supportsQuery:o,supportsExportMap:s,supportsExportTiles:l,supportsTileMap:u},exportMap:s?{supportsArcadeExpressionForLabeling:y,supportsSublayersChanges:d,supportsDynamicLayers:c,supportsSublayerVisibility:f,supportsSublayerDefinitionExpression:p,supportsCIMSymbols:v}:null,exportTiles:l?{maxExportTilesCount:+t.maxExportTilesCount}:null}}},{key:"readVersion",value:function(e,t){var r=t.currentVersion;return r||(r=t.hasOwnProperty("capabilities")||t.hasOwnProperty("tables")?10:t.hasOwnProperty("supportedImageFormatTypes")?9.31:9.3),r}},{key:"fetchSublayerInfo",value:function(e,t){var r=this;return c.default(n(p).mark((function i(){return n(p).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.fetchAllLayersAndTables(t);case 2:return n.abrupt("return",(n.sent,r._allLayersAndTablesMap.get(e)));case 3:case"end":return n.stop()}}),i)})))()}},{key:"fetchAllLayersAndTables",value:function(e){var t=this;return c.default(n(p).mark((function r(){var i;return n(p).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.load(e);case 2:return t._allLayersAndTablesPromise||(t._allLayersAndTablesPromise=(0,h.default)((0,v.urlToObject)(t.url).path+"/layers",{responseType:"json",query:f.default({f:"json"},t.customParameters,{token:t.apiKey})}).then((function(e){t._allLayersAndTablesMap=new Map;var r=!0,n=!1,i=void 0;try{for(var a,o=e.data.layers[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;t._allLayersAndTablesMap.set(s.id,s)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return{result:e.data}}),(function(e){return{error:e}}))),r.next=5,t._allLayersAndTablesPromise;case 5:if(i=r.sent,(0,y.throwIfAborted)(e),!("result"in i)){r.next=8;break}return r.abrupt("return",i.result);case 8:throw i.error;case 9:case"end":return r.stop()}}),r)})))()}}]),r}(e);return(0,d._)([(0,g.property)({readOnly:!0})],t.prototype,"capabilities",void 0),(0,d._)([(0,b.reader)("service","capabilities",["capabilities","exportTilesAllowed","maxExportTilesCount","supportsDynamicLayers","tileInfo"])],t.prototype,"readCapabilities",null),(0,d._)([(0,g.property)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),(0,d._)([(0,g.property)({type:w.default})],t.prototype,"fullExtent",void 0),(0,d._)([(0,g.property)(S.id)],t.prototype,"id",void 0),(0,d._)([(0,g.property)({type:Boolean,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}})],t.prototype,"legendEnabled",void 0),(0,d._)([(0,g.property)(S.popupEnabled)],t.prototype,"popupEnabled",void 0),(0,d._)([(0,g.property)({type:x.default})],t.prototype,"spatialReference",void 0),(0,d._)([(0,g.property)({readOnly:!0})],t.prototype,"version",void 0),(0,d._)([(0,b.reader)("version",["currentVersion","capabilities","tables","supportedImageFormatTypes"])],t.prototype,"readVersion",null),t=(0,d._)([(0,_.subclass)("esri.layers.mixins.ArcGISMapService")],t)}})),s.register("beKZU",(function(t,r){e(t.exports,"Version",(function(){return l})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("iCnzh"),o=s("kyj08"),l=function(){"use strict";function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";n.default(this,e),this.major=t,this.minor=r,this._context=i}return i.default(e,[{key:"lessThan",value:function(e,t){return this.major<e||e===this.major&&this.minor<t}},{key:"since",value:function(e,t){return!this.lessThan(e,t)}},{key:"validate",value:function(e){if(this.major!==e.major){var t=this._context&&this._context+":",r=this._context&&this._context+" ";throw new(0,o.default)(t+"unsupported-version","Required major ".concat(r,"version is '").concat(this.major,"', but got '${version.major}.${version.minor}'"),{version:e})}}},{key:"clone",value:function(){return new e(this.major,this.minor,this._context)}}],[{key:"parse",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=a.default(t.split("."),2),i=n[0],s=n[1],l=/^\s*\d+\s*$/;if(!i||!i.match||!i.match(l))throw new(0,o.default)((r&&r+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!s||!s.match||!s.match(l))throw new(0,o.default)((r&&r+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});var u=parseInt(i,10),c=parseInt(s,10);return new e(u,c,r)}}]),e}()})),s.register("bMJ3b",(function(t,r){e(t.exports,"SublayersOwner",(function(){return I})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("5Vgx8"),l=s("aNiFM"),u=s("bFSSc"),c=s("jK9zx"),f=s("8atho"),p=s("aNpz9"),d=s("7eJjO"),h=s("d2yMj"),y=s("7FmYA"),v=s("kyj08"),m=s("jHOLN"),g=s("iho5X");s("lNwWH"),s("2VlWd");var b=s("5h4Y4");s("iJAIC");var _=s("fcwIv"),w=s("Ej9Ns"),x=s("5qsk3"),S=s("dL9AF"),k=m.default.getLogger("esri.layers.TileLayer");var T=h.default.ofType(x.default);function E(e,t){e&&e.forEach((function(e){t(e),e.sublayers&&e.sublayers.length&&E(e.sublayers,t)}))}var I=function(e){var t=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var s,c;return a.default(this,r),(s=t.call.apply(t,[this].concat(o.default(n)))).allSublayers=new(0,y.default)({getCollections:function(){return[s.sublayers]},getChildrenFunction:function(e){return e.sublayers}}),s.sublayersSourceJSON=(c={},l.default(c,w.OriginId.SERVICE,{}),l.default(c,w.OriginId.PORTAL_ITEM,{}),l.default(c,w.OriginId.WEB_SCENE,{}),l.default(c,w.OriginId.WEB_MAP,{}),c),s.handles.add(s.watch("sublayers",(function(e,t){return s._handleSublayersChange(e,t)}),!0)),u.default(s)}return c.default(r,[{key:"readSublayers",value:function(e,t){if(t&&e){var r=this.sublayersSourceJSON,n=(0,w.nameToId)(t.origin);if(!(n<w.OriginId.SERVICE||(r[n]={context:t,visibleLayers:e.visibleLayers||r[n].visibleLayers,layers:e.layers||r[n].layers},n>w.OriginId.SERVICE))){this._set("serviceSublayers",this.createSublayersForOrigin("service").sublayers);var i=this.createSublayersForOrigin("web-document"),a=i.sublayers,o=i.origin,s=(0,b.getProperties)(this);s.setDefaultOrigin(o),this._set("sublayers",new T(a)),s.setDefaultOrigin("user")}}}},{key:"findSublayerById",value:function(e){return this.allSublayers.find((function(t){return t.id===e}))}},{key:"createServiceSublayers",value:function(){return this.createSublayersForOrigin("service").sublayers}},{key:"createSublayersForOrigin",value:function(e){var t=(0,w.nameToId)("web-document"===e?"web-map":e),r=w.OriginId.SERVICE,n=this.sublayersSourceJSON[w.OriginId.SERVICE].layers,i=this.sublayersSourceJSON[w.OriginId.SERVICE].context,a=null,o=[w.OriginId.PORTAL_ITEM,w.OriginId.WEB_SCENE,w.OriginId.WEB_MAP].filter((function(e){return e<=t})),s=!0,l=!1,u=void 0;try{for(var c,f=o[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var p=c.value,d=this.sublayersSourceJSON[p];(0,S.isSublayerOverhaul)(d.layers)&&(r=p,n=d.layers,i=d.context,d.visibleLayers&&(a={visibleLayers:d.visibleLayers,context:d.context}))}}catch(e){l=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}var h=[w.OriginId.PORTAL_ITEM,w.OriginId.WEB_SCENE,w.OriginId.WEB_MAP].filter((function(e){return e>r&&e<=t})),y=null,v=!0,m=!1,g=void 0;try{for(var b,_=h[Symbol.iterator]();!(v=(b=_.next()).done);v=!0){var k=b.value,I=this.sublayersSourceJSON[k],C=I.layers,O=I.visibleLayers,L=I.context;C&&(y={layers:C,context:L}),O&&(a={visibleLayers:O,context:L})}}catch(e){m=!0,g=e}finally{try{v||null==_.return||_.return()}finally{if(m)throw g}}var A,M,N,R,P=(M=i,N=[],R={},(A=n)?(A.forEach((function(e){var t=new(0,x.default);if(t.read(e,M),R[t.id]=t,null!=e.parentLayerId&&-1!==e.parentLayerId){var r=R[e.parentLayerId];r.sublayers||(r.sublayers=[]),r.sublayers.unshift(t)}else N.unshift(t)})),N):N),F=new Map,j=new Set,D=!0,U=!1,V=void 0;if(y)try{for(var B,H=y.layers[Symbol.iterator]();!(D=(B=H.next()).done);D=!0){var z=B.value;F.set(z.id,z)}}catch(e){U=!0,V=e}finally{try{D||null==H.return||H.return()}finally{if(U)throw V}}var W=!0,G=!1,J=void 0;if(a)try{for(var q,X=a.visibleLayers[Symbol.iterator]();!(W=(q=X.next()).done);W=!0){var K=q.value;j.add(K)}}catch(e){G=!0,J=e}finally{try{W||null==X.return||X.return()}finally{if(G)throw J}}return E(P,(function(e){y&&e.read(F.get(e.id),y.context),a&&e.read({defaultVisibility:j.has(e.id)},a.context)})),{origin:(0,w.idToName)(r),sublayers:new T({items:P})}}},{key:"read",value:function(e,t){f.default(p.default(r.prototype),"read",this).call(this,e,t),this.readSublayers(e,t)}},{key:"_handleSublayersChange",value:function(e,t){var r=this;t&&(t.forEach((function(e){e.parent=null,e.layer=null})),this.handles.remove("sublayers-owner")),e&&(e.forEach((function(e){e.parent=r,e.layer=r})),this.handles.add([e.on("after-add",(function(e){var t=e.item;t.parent=r,t.layer=r})),e.on("after-remove",(function(e){var t=e.item;t.parent=null,t.layer=null}))],"sublayers-owner"),"tile"===this.type&&this.handles.add(e.on("before-changes",(function(e){k.error(new(0,v.default)("tilelayer:sublayers-non-modifiable","ISublayer can't be added, moved, or removed from the layer's sublayers",{layer:r})),e.preventDefault()})),"sublayers-owner"))}}]),r}(e);return(0,d._)([(0,g.property)({readOnly:!0})],t.prototype,"allSublayers",void 0),(0,d._)([(0,g.property)({readOnly:!0,type:h.default.ofType(x.default)})],t.prototype,"serviceSublayers",void 0),(0,d._)([(0,g.property)({value:null,type:T,json:{read:!1,write:{allowNull:!0,ignoreOrigin:!0}}})],t.prototype,"sublayers",void 0),(0,d._)([(0,g.property)({readOnly:!0})],t.prototype,"sublayersSourceJSON",void 0),t=(0,d._)([(0,_.subclass)("esri.layers.mixins.SublayersOwner")],t)}})),s.register("5qsk3",(function(t,r){e(t.exports,"default",(function(){return Y}));var i=s("8TSCy"),a=s("2TvXO"),o=s("7eJjO");s("2ILM8");var l=s("3MVX3");s("35mRC"),s("fqK5H"),s("hHJvn"),s("aOUND"),s("7Kl6r"),s("fPYaT"),s("aRUMT"),s("lubf9");var u,c=s("9ulmN"),f=s("9pNSx"),p=s("cM5QQ"),d=s("d2yMj"),h=s("kyj08"),y=s("6dXDO"),v=s("52Bzb"),m=s("flPLJ"),g=s("bQCqB"),b=s("jHOLN"),_=s("7qybv"),w=s("8NioF"),x=s("kYueh"),S=s("iho5X"),k=s("5h4Y4"),T=s("ba18L"),E=s("eB8sj"),I=s("fcwIv"),C=s("kced1"),O=s("iJAIC"),L=s("Ej9Ns"),A=s("hRnYX"),M=s("buMuJ"),N=s("4nMX7"),R=s("aYrEX"),P=s("kfF7B"),F=s("eSq8i"),j=s("9TrWV"),D=s("cRlei"),U=s("37qRo"),V=s("eMbRX"),B=s("gINRd");function H(e){return e&&"esriSMS"===e.type}function z(e,t,r){var n,i=this.originIdOf(t)>=(0,L.nameToId)(r.origin);return{ignoreOrigin:!0,allowNull:i,enabled:!!r&&"map-image"===(null==(n=r.layer)?void 0:n.type)&&(r.writeSublayerStructure||i)}}function W(e,t,r){var n;return{enabled:!!r&&"tile"===(null==(n=r.layer)?void 0:n.type)&&this._isOverridden(t)}}function G(e,t,r){return{ignoreOrigin:!0,enabled:r&&r.writeSublayerStructure||!1}}function J(e,t,r){return{ignoreOrigin:!0,enabled:!!r&&(r.writeSublayerStructure||this.originIdOf(t)>=(0,L.nameToId)(r.origin))}}var q=b.default.getLogger("esri.layers.support.Sublayer"),X=0,K=new Set;K.add("layer"),K.add("parent"),K.add("loaded"),K.add("loadStatus"),K.add("loadError"),K.add("loadWarnings");var $=u=function(e){"use strict";i.inherits(r,e);var t=i.createSuper(r);function r(e){var n;return i.classCallCheck(this,r),(n=t.call(this,e)).capabilities=void 0,n.fields=null,n.fullExtent=null,n.globalIdField=null,n.legendEnabled=!0,n.objectIdField=null,n.popupEnabled=!0,n.popupTemplate=null,n.sourceJSON=null,n.title=null,n.typeIdField=null,n.types=null,i.possibleConstructorReturn(n)}return i.createClass(r,[{key:"load",value:function(e){var t=this;return i.asyncToGenerator(n(a).mark((function r(){return n(a).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(t.addResolvingPromise(i.asyncToGenerator(n(a).mark((function r(){var o,s,l,u;return n(a).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.layer||t.url){r.next=3;break}throw new(0,h.default)("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:t});case 3:if(s=null,t.layer&&!(t.originIdOf("url")>L.OriginId.SERVICE)&&"data-layer"!==(null==(o=t.source)?void 0:o.type)){r.next=10;break}return r.next=7,(0,f.default)(t.url,i.objectSpread({responseType:"json",query:{f:"json"}},e));case 7:s=r.sent.data,r.next=16;break;case 10:return u=t.id,"map-layer"===(null==(l=t.source)?void 0:l.type)&&(u=t.source.mapLayerId),r.next=15,t.layer.fetchSublayerInfo(u,e);case 15:s=r.sent;case 16:s&&(t.sourceJSON=s,t.read({layerDefinition:s},{origin:"service"}));case 17:case"end":return r.stop()}}),r)})))()),t));case 1:case"end":return r.stop()}}),r)})))()}},{key:"readCapabilities",value:function(e,t){var r=(e=(t=t.layerDefinition||t).capabilities||e)?e.toLowerCase().split(",").map((function(e){return e.trim()})):[];return{exportMap:{supportsModification:!!t.canModifyLayer},operations:{supportsQuery:-1!==r.indexOf("query")}}}},{key:"definitionExpression",set:function(e){this._setAndNotifyLayer("definitionExpression",e)}},{key:"fieldsIndex",get:function(){return new(0,N.default)(this.fields||[])}},{key:"floorInfo",set:function(e){this._setAndNotifyLayer("floorInfo",e)}},{key:"readGlobalIdFieldFromService",value:function(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields){var r=!0,n=!1,i=void 0;try{for(var a,o=t.fields[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if("esriFieldTypeGlobalID"===s.type)return s.name}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}}},{key:"id",get:function(){var e=this._get("id");return null==e?X++:e},set:function(e){this._get("id")!==e&&(!1!==this.get("layer.capabilities.exportMap.supportsDynamicLayers")?this._set("id",e):this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"))}},{key:"labelingInfo",set:function(e){this._setAndNotifyLayer("labelingInfo",e)}},{key:"writeLabelingInfo",value:function(e,t,r,n){e&&e.length&&(t.layerDefinition={drawingInfo:{labelingInfo:e.map((function(e){return e.write({},n)}))}})}},{key:"labelsVisible",set:function(e){this._setAndNotifyLayer("labelsVisible",e)}},{key:"layer",set:function(e){this._set("layer",e),this.sublayers&&this.sublayers.forEach((function(t){return t.layer=e}))}},{key:"listMode",set:function(e){this._set("listMode",e)}},{key:"minScale",set:function(e){this._setAndNotifyLayer("minScale",e)}},{key:"readMinScale",value:function(e,t){return t.minScale||t.layerDefinition&&t.layerDefinition.minScale||0}},{key:"maxScale",set:function(e){this._setAndNotifyLayer("maxScale",e)}},{key:"readMaxScale",value:function(e,t){return t.maxScale||t.layerDefinition&&t.layerDefinition.maxScale||0}},{key:"effectiveScaleRange",get:function(){return{minScale:this.minScale,maxScale:this.maxScale}}},{key:"readObjectIdFieldFromService",value:function(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields){var r=!0,n=!1,i=void 0;try{for(var a,o=t.fields[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if("esriFieldTypeOID"===s.type)return s.name}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}}},{key:"opacity",set:function(e){this._setAndNotifyLayer("opacity",e)}},{key:"readOpacity",value:function(e,t){var r=t.layerDefinition;return 1-.01*(null!=r.transparency?r.transparency:r.drawingInfo.transparency)}},{key:"writeOpacity",value:function(e,t,r,n){t.layerDefinition={drawingInfo:{transparency:100-100*e}}}},{key:"writeParent",value:function(e,t){this.parent&&this.parent!==this.layer?t.parentLayerId=(0,O.ensureInteger)(this.parent.id):t.parentLayerId=-1}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"renderer",set:function(e){if(e){var t=!0,r=!1,n=void 0;try{for(var i,a=e.getSymbols()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if((0,p.isSymbol3D)(o)){q.warn("Sublayer renderer should use 2D symbols");break}}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}this._setAndNotifyLayer("renderer",e)}},{key:"source",get:function(){return this._get("source")||new(0,j.MapLayerSource)({mapLayerId:this.id})},set:function(e){this._setAndNotifyLayer("source",e)}},{key:"sublayers",set:function(e){this._handleSublayersChange(e,this._get("sublayers")),this._set("sublayers",e)}},{key:"castSublayers",value:function(e){return(0,O.ensureType)(d.default.ofType(u),e)}},{key:"writeSublayers",value:function(e,t,r){this.get("sublayers.length")&&(t[r]=this.sublayers.map((function(e){return e.id})).toArray().reverse())}},{key:"readTypeIdField",value:function(e,t){var r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();var n=t.fields.find((function(e){return e.name.toLowerCase()===r}));n&&(r=n.name)}return null}},{key:"url",get:function(){var e,t,r=null!=(e=null==(t=this.layer)?void 0:t.parsedUrl)?e:this._lastParsedUrl,n=this.source;if(!r)return null;if(this._lastParsedUrl=r,"map-layer"===(null==n?void 0:n.type))return"".concat(r.path,"/").concat(n.mapLayerId);var i={layer:JSON.stringify({source:this.source})};return"".concat(r.path,"/dynamicLayer?").concat((0,x.objectToQuery)(i))},set:function(e){e?this._override("url",e):this._clearOverride("url")}},{key:"visible",set:function(e){this._setAndNotifyLayer("visible",e)}},{key:"writeVisible",value:function(e,t,r,n){t[r]=this.getAtOrigin("defaultVisibility","service")||e}},{key:"clone",value:function(){var e=(0,k.getProperties)(this).store,t=new u;return(0,k.getProperties)(t).store=e.clone(K),this.commitProperty("url"),t._lastParsedUrl=this._lastParsedUrl,t}},{key:"createPopupTemplate",value:function(e){return(0,U.createPopupTemplate)(this,e)}},{key:"createQuery",value:function(){return new(0,D.default)({returnGeometry:!0,where:this.definitionExpression||"1=1"})}},{key:"createFeatureLayer",value:function(){var e=this;return i.asyncToGenerator(n(a).mark((function t(){var r,i,o,l;return n(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.hasOwnProperty("sublayers")){t.next=3;break}return t.abrupt("return",null);case 3:return o=null==(r=e.layer)?void 0:r.parsedUrl,t.next=6,s("7MB9V");case 6:return t.t0=t.sent.default,t.t1={url:o.path},l=new t.t0(t.t1),t.abrupt("return",(o&&e.source&&("map-layer"===e.source.type?l.layerId=e.source.mapLayerId:l.dynamicDataSource=e.source),null!=e.layer.refreshInterval&&(l.refreshInterval=e.layer.refreshInterval),e.definitionExpression&&(l.definitionExpression=e.definitionExpression),e.floorInfo&&(l.floorInfo=(0,m.clone)(e.floorInfo)),e.originIdOf("labelingInfo")>L.OriginId.SERVICE&&(l.labelingInfo=(0,m.clone)(e.labelingInfo)),e.originIdOf("labelsVisible")>L.OriginId.DEFAULTS&&(l.labelsVisible=e.labelsVisible),e.originIdOf("legendEnabled")>L.OriginId.DEFAULTS&&(l.legendEnabled=e.legendEnabled),e.originIdOf("visible")>L.OriginId.DEFAULTS&&(l.visible=e.visible),e.originIdOf("minScale")>L.OriginId.DEFAULTS&&(l.minScale=e.minScale),e.originIdOf("maxScale")>L.OriginId.DEFAULTS&&(l.maxScale=e.maxScale),e.originIdOf("opacity")>L.OriginId.DEFAULTS&&(l.opacity=e.opacity),e.originIdOf("popupTemplate")>L.OriginId.DEFAULTS&&(l.popupTemplate=(0,m.clone)(e.popupTemplate)),e.originIdOf("renderer")>L.OriginId.SERVICE&&(l.renderer=(0,m.clone)(e.renderer)),"data-layer"===(null==(i=e.source)?void 0:i.type)&&(l.dynamicDataSource=e.source.clone()),e.originIdOf("title")>L.OriginId.DEFAULTS&&(l.title=e.title),"map-image"===e.layer.type&&e.layer.originIdOf("customParameters")>L.OriginId.DEFAULTS&&(l.customParameters=e.layer.customParameters),"tile"===e.layer.type&&e.layer.originIdOf("customParameters")>L.OriginId.DEFAULTS&&(l.customParameters=e.layer.customParameters),l));case 10:case"end":return t.stop()}}),t)})))()}},{key:"getField",value:function(e){return this.fieldsIndex.get(e)}},{key:"getFeatureType",value:function(e){var t=this.typeIdField,r=this.types;if(!t||!e)return null;var n=e.attributes?e.attributes[t]:void 0;if(null==n)return null;var i=null;return r.some((function(e){var t=e.id;return null!=t&&(t.toString()===n.toString()&&(i=e),!!i)})),i}},{key:"getFieldDomain",value:function(e,t){var r=t&&t.feature,n=this.getFeatureType(r);if(n){var i=n.domains&&n.domains[e];if(i&&"inherited"!==i.type)return i}return this._getLayerDomain(e)}},{key:"queryFeatures",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.createQuery(),t=arguments.length>1?arguments[1]:void 0,r=this;return i.asyncToGenerator(n(a).mark((function o(){var l,u,c,f,p,d,y,v,m,g,b,_,w,x,S,k;return n(a).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,r.load();case 3:if(n.sent,r.get("capabilities.operations.supportsQuery")){n.next=5;break}throw new(0,h.default)("Sublayer.queryFeatures","this layer doesn't support queries.");case 5:return n.t0=i,n.next=8,Promise.all([s("bg1lA"),s("loGel")]);case 8:return n.t1=n.sent,p=n.t0.slicedToArray.call(n.t0,n.t1,2),d=p[0],y=d.executeQuery,v=p[1],m=v.default,n.next=16,y(r.url,D.default.from(e),null!=(l=null==(u=r.layer)?void 0:u.spatialReference)?l:null,i.objectSpread({},t,{query:i.objectSpread({},null==(c=r.layer)?void 0:c.customParameters,{token:null==(f=r.layer)?void 0:f.apiKey})}));case 16:if(g=n.sent,b=m.fromJSON(g.data),_=!0,w=!1,x=void 0,null==b||!b.features){n.next=36;break}for(n.prev=20,S=b.features[Symbol.iterator]();!(_=(k=S.next()).done);_=!0)k.value.sourceLayer=r;n.next=28;break;case 24:n.prev=24,n.t2=n.catch(20),w=!0,x=n.t2;case 28:n.prev=28,n.prev=29,_||null==S.return||S.return();case 31:if(n.prev=31,!w){n.next=34;break}throw x;case 34:return n.finish(31);case 35:return n.finish(28);case 36:return n.abrupt("return",b);case 37:case"end":return n.stop()}}),o,null,[[20,24,28,36],[29,,31,35]])})))()}},{key:"toExportImageJSON",value:function(e){var t,r=this,n={id:this.id,source:(null==(t=this.source)?void 0:t.toJSON())||{mapLayerId:this.id,type:"mapLayer"}};if(this.definitionExpression){var i=(0,_.isSome)(e)?(0,V.combineFloorsDefinitionExpression)(e,this):this.definitionExpression;n.definitionExpression=i}else(0,_.isSome)(e)&&(n.definitionExpression=e);var a=["renderer","labelingInfo","opacity","labelsVisible"].reduce((function(e,t){return e[t]=r.originIdOf(t),e}),{});if(Object.keys(a).some((function(e){return a[e]>L.OriginId.SERVICE}))){var o=this,s=n.drawingInfo={};a.renderer>L.OriginId.SERVICE&&(s.renderer=this.renderer?this.renderer.toJSON():null),a.labelsVisible>L.OriginId.SERVICE&&(s.showLabels=this.labelsVisible),this.labelsVisible&&a.labelingInfo>L.OriginId.SERVICE&&(s.labelingInfo=this.labelingInfo?this.labelingInfo.map((function(e){return e.write({},{origin:"service",layer:o.layer})})):null,s.showLabels=!0),a.opacity>L.OriginId.SERVICE&&(s.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(s.renderer)}return n}},{key:"_assignDefaultSymbolColors",value:function(e){this._forEachSimpleMarkerSymbols(e,(function(e){e.color||"esriSMSX"!==e.style&&"esriSMSCross"!==e.style||(e.outline&&e.outline.color?e.color=e.outline.color:e.color=[0,0,0,0])}))}},{key:"_forEachSimpleMarkerSymbols",value:function(e,t){if(e){var r="uniqueValueInfos"in e?e.uniqueValueInfos:"classBreakInfos"in e?e.classBreakInfos:[],n=!0,i=!1,a=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;H(l.symbol)&&t(l.symbol)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}"symbol"in e&&H(e.symbol)&&t(e.symbol),"defaultSymbol"in e&&H(e.defaultSymbol)&&t(e.defaultSymbol)}}},{key:"_setAndNotifyLayer",value:function(e,t){var r,n,i=this.layer,a=this._get(e);switch(e){case"definitionExpression":case"floorInfo":r="supportsSublayerDefinitionExpression";case"minScale":case"maxScale":case"visible":r="supportsSublayerVisibility";break;case"labelingInfo":case"labelsVisible":case"opacity":case"renderer":case"source":r="supportsDynamicLayers",n="supportsModification"}var o=(0,k.getProperties)(this).getDefaultOrigin();if("service"!==o){if(r&&!1===this.get("layer.capabilities.exportMap.".concat(r)))return void this._logLockedError(e,"capability not available 'layer.capabilities.exportMap.".concat(r,"'"));if(n&&!1===this.get("capabilities.exportMap.".concat(n)))return void this._logLockedError(e,"capability not available 'capabilities.exportMap.".concat(n,"'"))}"source"!==e||"not-loaded"===this.loadStatus?(this._set(e,t),"service"!==o&&a!==t&&i&&i.emit&&i.emit("sublayer-update",{propertyName:e,target:this})):this._logLockedError(e,"'source' can't be changed after calling sublayer.load()")}},{key:"_handleSublayersChange",value:function(e,t){var r=this;t&&(t.forEach((function(e){e.parent=null,e.layer=null})),this.handles.removeAll()),e&&(e.forEach((function(e){e.parent=r,e.layer=r.layer})),this.handles.add([e.on("after-add",(function(e){var t=e.item;t.parent=r,t.layer=r.layer})),e.on("after-remove",(function(e){var t=e.item;t.parent=null,t.layer=null})),e.on("before-changes",(function(e){var t=r.get("layer.capabilities.exportMap.supportsSublayersChanges");null==t||t||(q.error(new(0,h.default)("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:r,layer:r.layer})),e.preventDefault())}))]))}},{key:"_logLockedError",value:function(e,t){q.error(new(0,h.default)("sublayer:locked","Property '".concat(e,"' can't be changed on Sublayer from the layer '").concat(this.layer.id,"'"),{reason:t,sublayer:this,layer:this.layer}))}},{key:"_getLayerDomain",value:function(e){var t=this.fieldsIndex.get(e);return t?t.domain:null}}]),r}((0,y.HandleOwnerMixin)((0,w.MultiOriginJSONMixin)((0,v.IdentifiableMixin)(g.default))));$.test={isMapImageLayerOverridePolicy:function(e){return e===G||e===z},isTileImageLayerOverridePolicy:function(e){return e===W}},(0,o._)([(0,S.property)({readOnly:!0})],$.prototype,"capabilities",void 0),(0,o._)([(0,E.reader)("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],$.prototype,"readCapabilities",null),(0,o._)([(0,S.property)({type:String,value:null,json:{name:"layerDefinition.definitionExpression",write:{allowNull:!0,overridePolicy:z}}})],$.prototype,"definitionExpression",null),(0,o._)([(0,S.property)({type:[M.default],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],$.prototype,"fields",void 0),(0,o._)([(0,S.property)({readOnly:!0})],$.prototype,"fieldsIndex",null),(0,o._)([(0,S.property)({type:P.default,value:null,json:{name:"layerDefinition.floorInfo",read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo",overridePolicy:z},origins:{"web-scene":{read:!1,write:!1}}}})],$.prototype,"floorInfo",null),(0,o._)([(0,S.property)({type:B.default,json:{read:{source:"layerDefinition.extent"}}})],$.prototype,"fullExtent",void 0),(0,o._)([(0,S.property)({type:String})],$.prototype,"globalIdField",void 0),(0,o._)([(0,E.reader)("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],$.prototype,"readGlobalIdFieldFromService",null),(0,o._)([(0,S.property)({type:O.Integer,json:{write:{ignoreOrigin:!0}}})],$.prototype,"id",null),(0,o._)([(0,S.property)({value:null,type:[R.default],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:G}}})],$.prototype,"labelingInfo",null),(0,o._)([(0,C.writer)("labelingInfo")],$.prototype,"writeLabelingInfo",null),(0,o._)([(0,S.property)({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:G}}})],$.prototype,"labelsVisible",null),(0,o._)([(0,S.property)({value:null})],$.prototype,"layer",null),(0,o._)([(0,S.property)({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:J}}})],$.prototype,"legendEnabled",void 0),(0,o._)([(0,S.property)({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],$.prototype,"listMode",null),(0,o._)([(0,S.property)({type:Number,value:0,json:{write:{overridePolicy:G}}})],$.prototype,"minScale",null),(0,o._)([(0,E.reader)("minScale",["minScale","layerDefinition.minScale"])],$.prototype,"readMinScale",null),(0,o._)([(0,S.property)({type:Number,value:0,json:{write:{overridePolicy:G}}})],$.prototype,"maxScale",null),(0,o._)([(0,E.reader)("maxScale",["maxScale","layerDefinition.maxScale"])],$.prototype,"readMaxScale",null),(0,o._)([(0,S.property)({readOnly:!0})],$.prototype,"effectiveScaleRange",null),(0,o._)([(0,S.property)({type:String})],$.prototype,"objectIdField",void 0),(0,o._)([(0,E.reader)("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],$.prototype,"readObjectIdFieldFromService",null),(0,o._)([(0,S.property)({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:G}}})],$.prototype,"opacity",null),(0,o._)([(0,E.reader)("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],$.prototype,"readOpacity",null),(0,o._)([(0,C.writer)("opacity")],$.prototype,"writeOpacity",null),(0,o._)([(0,S.property)({json:{type:O.Integer,write:{target:"parentLayerId",writerEnsuresNonNull:!0,overridePolicy:G}}})],$.prototype,"parent",void 0),(0,o._)([(0,C.writer)("parent")],$.prototype,"writeParent",null),(0,o._)([(0,S.property)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:function(e,t){return!t.disablePopup}},write:{target:"disablePopup",overridePolicy:J,writer:function(e,t,r){t[r]=!e}}}})],$.prototype,"popupEnabled",void 0),(0,o._)([(0,S.property)({type:l.default,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:J}}})],$.prototype,"popupTemplate",void 0),(0,o._)([(0,S.property)({readOnly:!0})],$.prototype,"defaultPopupTemplate",null),(0,o._)([(0,S.property)({types:c.rendererTypes,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:G},origins:{"web-scene":{types:c.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:G}}}}})],$.prototype,"renderer",null),(0,o._)([(0,S.property)({types:{key:"type",base:null,typeMap:{"data-layer":F.DataLayerSource,"map-layer":j.MapLayerSource}},cast:function(e){if(e){if("mapLayerId"in e)return(0,O.ensureClass)(j.MapLayerSource,e);if("dataSource"in e)return(0,O.ensureClass)(F.DataLayerSource,e)}return e},json:{name:"layerDefinition.source",write:{overridePolicy:G}}})],$.prototype,"source",null),(0,o._)([(0,S.property)()],$.prototype,"sourceJSON",void 0),(0,o._)([(0,S.property)({value:null,json:{type:[O.Integer],write:{target:"subLayerIds",allowNull:!0,overridePolicy:G}}})],$.prototype,"sublayers",null),(0,o._)([(0,T.cast)("sublayers")],$.prototype,"castSublayers",null),(0,o._)([(0,C.writer)("sublayers")],$.prototype,"writeSublayers",null),(0,o._)([(0,S.property)({type:String,json:{name:"name",write:{overridePolicy:J}}})],$.prototype,"title",void 0),(0,o._)([(0,S.property)({type:String})],$.prototype,"typeIdField",void 0),(0,o._)([(0,E.reader)("typeIdField",["layerDefinition.typeIdField"])],$.prototype,"readTypeIdField",null),(0,o._)([(0,S.property)({type:[A.default],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],$.prototype,"types",void 0),(0,o._)([(0,S.property)({type:String,json:{read:{source:"layerUrl"},write:{target:"layerUrl",overridePolicy:W}}})],$.prototype,"url",null),(0,o._)([(0,S.property)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:G}}})],$.prototype,"visible",null),(0,o._)([(0,C.writer)("visible")],$.prototype,"writeVisible",null);var Y=$=u=(0,o._)([(0,I.subclass)("esri.layers.support.Sublayer")],$)})),s.register("7MB9V",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("55FX7")).then((function(){return s("g15Jq")}))})),s.register("bg1lA",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("buzSS")).then((function(){return s("j6c7r")}))})),s.register("loGel",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("8sKBp")).then((function(){return s("f4h86")}))})),s.register("dL9AF",(function(t,r){e(t.exports,"shouldWriteSublayerStructure",(function(){return i})),e(t.exports,"isExportDynamic",(function(){return a})),e(t.exports,"isSublayerOverhaul",(function(){return l}));var n=s("Ej9Ns");function i(e,t,r){return t.flatten((function(e){return e.sublayers})).length!==e.length||(!!e.some((function(e){return e.originIdOf("minScale")>r||e.originIdOf("maxScale")>r||e.originIdOf("renderer")>r||e.originIdOf("labelingInfo")>r||e.originIdOf("opacity")>r||e.originIdOf("labelsVisible")>r||e.originIdOf("source")>r}))||!o(e,t))}function a(e,t,r){return!!e.some((function(e){var t=e.source;return!(!t||"map-layer"===t.type&&t.mapLayerId===e.id&&(!t.gdbVersion||t.gdbVersion===r.gdbVersion))||e.originIdOf("renderer")>n.OriginId.SERVICE||e.originIdOf("labelingInfo")>n.OriginId.SERVICE||e.originIdOf("opacity")>n.OriginId.SERVICE||e.originIdOf("labelsVisible")>n.OriginId.SERVICE}))||!o(e,t)}function o(e,t){if(!e||!e.length)return!0;var r=t.slice().reverse().flatten((function(e){var t=e.sublayers;return t&&t.toArray().reverse()})).map((function(e){return e.id})).toArray();if(e.length>r.length)return!1;var n=0,i=r.length,a=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){for(var c=l.value.id;n<i&&r[n]!==c;)n++;if(n>=i)return!1}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return!0}function l(e){return!!e&&e.some((function(e){return null!=e.minScale||e.layerDefinition&&null!=e.layerDefinition.minScale}))}})),s.register("1J8jF",(function(t,i){r(t.exports),e(t.exports,"default",(function(){return X})),s("8TSCy");var a=s("g9uIT"),o=s("dap1g"),l=s("f9pi5"),u=s("5Vgx8"),c=s("bFSSc"),f=s("jK9zx"),p=s("ifq4M"),d=s("jcnGU"),h=s("8atho"),y=s("aNpz9"),v=s("2TvXO"),m=s("7eJjO"),g=s("9pNSx"),b=s("kyj08"),_=s("flPLJ"),w=s("8NioF"),x=s("10vEZ"),S=s("kYueh"),k=s("iho5X");s("iJAIC");var T=s("eB8sj"),E=s("fcwIv"),I=s("kced1"),C=s("gINRd"),O=s("j40xv"),L=s("4LDxK"),A=s("jy0BF"),M=s("1a7AW"),N=s("aLy89"),R=s("gIXJ2"),P=s("cv2jJ"),F=s("5N5S1"),j=s("9bAYR"),D=s("3GzOb"),U=s("2Yxel"),V=s("bxPyI"),B=s("xQ42o"),H=s("bNyRh"),z=s("UdTKD"),W=s("aOITd"),G=s("7dqtP"),J=s("3NAox"),q=function(e){"use strict";a.default(r,e);var t=o.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a;return l.default(this,r),(a=t.call.apply(t,[this].concat(u.default(n))))._spriteSourceMap=new Map,a.currentStyleInfo=null,a.style=null,a.isReference=null,a.operationalLayerType="VectorTileLayer",a.type="vector-tile",a.url=null,a.symbolCollisionBoxesVisible=!1,a.path=null,c.default(a)}return f.default(r,[{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?p.default({url:e},t):e}},{key:"destroy",value:function(){var e=!0,t=!1,r=void 0;if(this.sourceNameToSource)try{for(var n,i=Object.values(this.sourceNameToSource)[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;null==a||a.destroy()}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}this._spriteSourceMap.clear()}},{key:"prefetchResources",value:function(e){var t=this;return d.default(n(v).mark((function r(){return n(v).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.loadSpriteSource(globalThis.devicePixelRatio||1,e);case 2:case"end":return r.stop()}}),r)})))()}},{key:"load",value:function(e){var t=this,r=this,i=this.loadFromPortal({supportedTypes:["Vector Tile Service"],supportsData:!1},e).catch(x.throwIfAbortError).then(d.default(n(v).mark((function t(){var i;return n(v).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.portalItem&&r.portalItem.id){t.next=2;break}return t.abrupt("return");case 2:return i="".concat(r.portalItem.itemUrl,"/resources/styles/root.json"),t.next=5,(0,g.default)(i,p.default({},e,{query:p.default({f:"json"},r.customParameters,{token:r.apiKey})}));case 5:if(t.t0=t.sent.data,!t.t0){t.next=8;break}r.read({url:i},(0,z.createForItem)(r.portalItem));case 8:case"end":return t.stop()}}),t)})))).catch(x.throwIfAbortError).then((function(){return t._loadStyle(e)}));return this.addResolvingPromise(i),Promise.resolve(this)}},{key:"attributionDataUrl",get:function(){var e=this.currentStyleInfo,t=e&&e.serviceUrl&&(0,S.urlToObject)(e.serviceUrl);if(!t)return null;var r=this._getDefaultAttribution(t.path);return r?(0,S.addQueryParameters)(r,p.default({},this.customParameters,{token:this.apiKey})):null}},{key:"capabilities",get:function(){var e=this.primarySource;return e?e.capabilities:{operations:{supportsExportTiles:!1,supportsTileMap:!1},exportTiles:null}}},{key:"fullExtent",get:function(){var e;return(null==(e=this.primarySource)?void 0:e.fullExtent)||null}},{key:"parsedUrl",get:function(){return this.serviceUrl?(0,S.urlToObject)(this.serviceUrl):null}},{key:"serviceUrl",get:function(){return this.currentStyleInfo&&this.currentStyleInfo.serviceUrl||null}},{key:"spatialReference",get:function(){return this.tileInfo&&this.tileInfo.spatialReference||null}},{key:"styleUrl",get:function(){return this.currentStyleInfo&&this.currentStyleInfo.styleUrl||null}},{key:"writeStyleUrl",value:function(e,t){e&&(0,S.isProtocolRelative)(e)&&(e="https:".concat(e)),t.styleUrl=e}},{key:"tileInfo",get:function(){var e,t=[];for(var r in this.sourceNameToSource)t.push(this.sourceNameToSource[r]);var n=(null==(e=this.primarySource)?void 0:e.tileInfo)||new(0,B.default);if(t.length>1)for(var i=0;i<t.length;i++)(0,W.areSchemasOverlapping)(n,t[i].tileInfo)&&(n=(0,W.unionTileInfos)(n,t[i].tileInfo));return n}},{key:"readVersion",value:function(e,t){return t.version?parseFloat(t.version):parseFloat(t.currentVersion)}},{key:"loadSpriteSource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,r=this;return d.default(n(v).mark((function i(){var a,o,s,l;return n(v).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r._spriteSourceMap.has(e)){n.next=6;break}return o=(0,J.getWebGL1Capabilities)().maxTextureSize,s=null!=(a=r.currentStyleInfo)&&a.spriteUrl?(0,S.addQueryParameters)(r.currentStyleInfo.spriteUrl,p.default({},r.customParameters,{token:r.apiKey})):null,l=new(0,V.default)(s,e,o,r.currentStyleInfo.spriteFormat),n.next=5,l.load(t);case 5:r._spriteSourceMap.set(e,l);case 6:return n.abrupt("return",Promise.resolve(r._spriteSourceMap.get(e)));case 7:case"end":return n.stop()}}),i)})))()}},{key:"setSpriteSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"png",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,a=this;return d.default(n(v).mark((function o(){var s,l,u;return n(v).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=(0,J.getWebGL1Capabilities)().maxTextureSize,l=e?(0,S.addQueryParameters)(e,p.default({},a.customParameters,{token:a.apiKey})):null){n.next=3;break}return n.abrupt("return",null);case 3:return u=new(0,V.default)(l,r,s,t),n.prev=4,n.next=7,u.load(i);case 7:return a._spriteSourceMap.clear(),a._spriteSourceMap.set(r,u),a.currentStyleInfo.spriteUrl=l,a.emit("spriteSource-change",{spriteSource:u}),n.abrupt("return",(n.sent,u));case 14:n.prev=14,n.t0=n.catch(4),(0,x.throwIfAbortError)(n.t0);case 17:return n.abrupt("return",null);case 18:case"end":return n.stop()}}),o,null,[[4,14]])})))()}},{key:"loadStyle",value:function(e,t){var r=this;return d.default(n(v).mark((function i(){var a,o;return n(v).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e||r.style||r.url,n.abrupt("return",(r._loadingTask&&"string"==typeof o&&r.url===o||(null==(a=r._loadingTask)||a.abort(),r._loadingTask=(0,x.createTask)((function(e){return r._spriteSourceMap.clear(),r._getSourceAndStyle(o,{signal:e})}),t)),r._loadingTask.promise));case 3:case"end":return n.stop()}}),i)})))()}},{key:"getStyleLayerId",value:function(e){return this.styleRepository.getStyleLayerId(e)}},{key:"getStyleLayerIndex",value:function(e){return this.styleRepository.getStyleLayerIndex(e)}},{key:"getPaintProperties",value:function(e){return(0,_.clone)(this.styleRepository.getPaintProperties(e))}},{key:"setPaintProperties",value:function(e,t){var r=this.styleRepository.isPainterDataDriven(e);this.styleRepository.setPaintProperties(e,t);var n=this.styleRepository.isPainterDataDriven(e);this.emit("paint-change",{layer:e,paint:t,isDataDriven:r||n})}},{key:"getStyleLayer",value:function(e){return(0,_.clone)(this.styleRepository.getStyleLayer(e))}},{key:"setStyleLayer",value:function(e,t){this.styleRepository.setStyleLayer(e,t),this.emit("style-layer-change",{layer:e,index:t})}},{key:"deleteStyleLayer",value:function(e){this.styleRepository.deleteStyleLayer(e),this.emit("delete-style-layer",{layer:e})}},{key:"getLayoutProperties",value:function(e){return(0,_.clone)(this.styleRepository.getLayoutProperties(e))}},{key:"setLayoutProperties",value:function(e,t){this.styleRepository.setLayoutProperties(e,t),this.emit("layout-change",{layer:e,layout:t})}},{key:"setStyleLayerVisibility",value:function(e,t){this.styleRepository.setStyleLayerVisibility(e,t),this.emit("style-layer-visibility-change",{layer:e,visibility:t})}},{key:"getStyleLayerVisibility",value:function(e){return this.styleRepository.getStyleLayerVisibility(e)}},{key:"write",value:function(e,t){return null!=t&&t.origin&&!this.styleUrl?(t.messages&&t.messages.push(new(0,b.default)("vectortilelayer:unsupported","VectorTileLayer (".concat(this.title,", ").concat(this.id,") with style defined by JSON only are not supported"),{layer:this})),null):h.default(y.default(r.prototype),"write",this).call(this,e,t)}},{key:"getTileUrl",value:function(e,t,r){return null}},{key:"_getSourceAndStyle",value:function(e,t){var r=this;return d.default(n(v).mark((function i(){var a;return n(v).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}throw new Error("invalid style!");case 2:return n.next=4,(0,H.loadMetadata)(e,p.default({},t,{query:p.default({},r.customParameters,{token:r.apiKey})}));case 4:if("webp"!==(a=n.sent).spriteFormat){n.next=11;break}return n.next=8,(0,U.checkWebPSupport)("lossy");case 8:if(n.t0=n.sent,n.t0){n.next=11;break}a.spriteFormat="png";case 11:r._set("currentStyleInfo",p.default({},a)),"string"==typeof e?(r.url=e,r.style=null):(r.url=null,r.style=e),r._set("sourceNameToSource",a.sourceNameToSource),r._set("primarySource",a.sourceNameToSource[a.primarySourceName]),r._set("styleRepository",new(0,G.default)(a.style)),r.read(a.layerDefinition,{origin:"service"}),r.emit("load-style");case 12:case"end":return n.stop()}}),i)})))()}},{key:"_getDefaultAttribution",value:function(e){var t=e.match(/^https?:\/\/(?:basemaps|basemapsbeta|basemapsdev)(?:-api)?\.arcgis\.com(\/[^\/]+)?\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/vectortileserver/i);if(t){var r=t[2]&&t[2].toLowerCase();if(r){var n=t[1]||"",i=!0,a=!1,o=void 0;try{for(var s,l=["OpenStreetMap_v2","OpenStreetMap_Daylight_v2","OpenStreetMap_Export_v2","OpenStreetMap_FTS_v2","OpenStreetMap_GCS_v2","World_Basemap","World_Basemap_v2","World_Basemap_Export_v2","World_Basemap_GCS_v2","World_Basemap_WGS84","World_Contours_v2"][Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;if(u.toLowerCase().includes(r))return(0,S.normalize)("//static.arcgis.com/attribution/Vector".concat(n,"/").concat(u))}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}}}}},{key:"_loadStyle",value:function(e){var t=this;return d.default(n(v).mark((function r(){var i,a;return n(v).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",null!=(i=null==(a=t._loadingTask)?void 0:a.promise)?i:t.loadStyle(null,e));case 2:case"end":return r.stop()}}),r)})))()}}]),r}((0,R.BlendLayer)((0,D.ScaleRangeLayer)((0,M.ArcGISCachedService)((0,N.ArcGISService)((0,F.OperationalLayer)((0,j.PortalLayer)((0,P.CustomParametersMixin)((0,A.APIKeyMixin)((0,w.MultiOriginJSONMixin)(L.default))))))))));(0,m._)([(0,k.property)({readOnly:!0})],q.prototype,"attributionDataUrl",null),(0,m._)([(0,k.property)({type:["show","hide"]})],q.prototype,"listMode",void 0),(0,m._)([(0,k.property)({readOnly:!0,json:{read:!1}})],q.prototype,"capabilities",null),(0,m._)([(0,k.property)({readOnly:!0})],q.prototype,"currentStyleInfo",void 0),(0,m._)([(0,k.property)({json:{read:!1},readOnly:!0,type:C.default})],q.prototype,"fullExtent",null),(0,m._)([(0,k.property)()],q.prototype,"style",void 0),(0,m._)([(0,k.property)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],q.prototype,"isReference",void 0),(0,m._)([(0,k.property)({type:["VectorTileLayer"]})],q.prototype,"operationalLayerType",void 0),(0,m._)([(0,k.property)({readOnly:!0})],q.prototype,"parsedUrl",null),(0,m._)([(0,k.property)({readOnly:!0})],q.prototype,"serviceUrl",null),(0,m._)([(0,k.property)({type:O.default,readOnly:!0})],q.prototype,"spatialReference",null),(0,m._)([(0,k.property)({readOnly:!0})],q.prototype,"styleRepository",void 0),(0,m._)([(0,k.property)({readOnly:!0})],q.prototype,"sourceNameToSource",void 0),(0,m._)([(0,k.property)({readOnly:!0})],q.prototype,"primarySource",void 0),(0,m._)([(0,k.property)({type:String,readOnly:!0,json:{write:{ignoreOrigin:!0},origins:{"web-document":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],q.prototype,"styleUrl",null),(0,m._)([(0,I.writer)(["portal-item","web-document"],"styleUrl")],q.prototype,"writeStyleUrl",null),(0,m._)([(0,k.property)({json:{read:!1,origins:{service:{read:!1}}},readOnly:!0,type:B.default})],q.prototype,"tileInfo",null),(0,m._)([(0,k.property)({json:{read:!1},readOnly:!0,value:"vector-tile"})],q.prototype,"type",void 0),(0,m._)([(0,k.property)({json:{origins:{"web-document":{read:{source:"styleUrl"}},"portal-item":{read:{source:"url"}}},write:!1,read:!1}})],q.prototype,"url",void 0),(0,m._)([(0,k.property)({readOnly:!0})],q.prototype,"version",void 0),(0,m._)([(0,T.reader)("version",["version","currentVersion"])],q.prototype,"readVersion",null),(0,m._)([(0,k.property)({type:Boolean})],q.prototype,"symbolCollisionBoxesVisible",void 0),(0,m._)([(0,k.property)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],q.prototype,"path",void 0);var X=q=(0,m._)([(0,E.subclass)("esri.layers.VectorTileLayer")],q)})),s.register("2Yxel",(function(t,r){e(t.exports,"checkWebPSupport",(function(){return i}));var n=null;function i(e){if(n)return n;var t={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};return n=new Promise((function(r){var n=new Image;n.onload=function(){n.onload=n.onerror=null,r(n.width>0&&n.height>0)},n.onerror=function(){n.onload=n.onerror=null,r(!1)},n.src="data:image/webp;base64,"+t[e]}))}})),s.register("bxPyI",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var i=s("f9pi5"),a=s("jK9zx"),o=s("jcnGU"),l=s("ifq4M"),u=s("iCnzh"),c=s("2TvXO"),f=s("9pNSx"),p=s("kyj08"),d=s("jHOLN"),h=s("kYueh"),y=d.default.getLogger("esri.layers.support.SpriteSource"),v=function(){"use strict";function e(t,r,n,a){i.default(this,e),this.baseURL=t,this.devicePixelRatio=r,this.maxTextureSize=n,this._spriteImageFormat=a,this._isRetina=!1,this._spritesData={},this.image=null,this.width=null,this.height=null,this.loadStatus="not-loaded"}return a.default(e,[{key:"spriteNames",get:function(){var e=[];for(var t in this._spritesData)e.push(t);return e.sort(),e}},{key:"getSpriteInfo",value:function(e){return this._spritesData[e]}},{key:"load",value:function(e){var t=this;return o.default(n(c).mark((function r(){return n(c).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.baseURL){r.next=13;break}return t.loadStatus="loading",r.prev=2,r.next=5,t._loadSprites(e);case 5:t.loadStatus="loaded",r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),t.loadStatus="failed";case 11:r.next=14;break;case 13:t.loadStatus="failed";case 14:case"end":return r.stop()}}),r,null,[[2,8]])})))()}},{key:"_loadSprites",value:function(e){var t=this;this._isRetina=this.devicePixelRatio>1.15;var r=(0,h.urlToObject)(this.baseURL),n=r.query?"?"+(0,h.objectToQuery)(r.query):"",i=this._isRetina?"@2x":"",a="".concat(r.path).concat(i,".").concat(this._spriteImageFormat).concat(n),o="".concat(r.path).concat(i,".json").concat(n);return Promise.all([(0,f.default)(o,e),(0,f.default)(a,l.default({responseType:"image"},e))]).then((function(e){var n=u.default(e,2),i=n[0],a=n[1],o=Object.keys(i.data);if(!o||0===o.length||1===o.length&&"_ssl"===o[0]||!a||!a.data)return t._spritesData=t.image=null,t.width=t.height=0,Promise.resolve(null);t._spritesData=i.data;var s=a.data,l=Math.max(t.maxTextureSize,4096);if(s.width>l||s.height>l){var c="Sprite resource for style ".concat(r.path," is bigger than the maximum allowed of ").concat(l," pixels}");throw y.error(c),new(0,p.default)("SpriteSource",c)}t.width=s.width,t.height=s.height;var f=document.createElement("canvas"),d=f.getContext("2d");f.width=s.width,f.height=s.height,d.drawImage(s,0,0,s.width,s.height);for(var h,v=d.getImageData(0,0,s.width,s.height),m=new Uint8Array(v.data),g=0;g<m.length;g+=4)h=m[g+3]/255,m[g]=m[g]*h,m[g+1]=m[g+1]*h,m[g+2]=m[g+2]*h;t.image=m}))}}]),e}()})),s.register("bNyRh",(function(t,r){e(t.exports,"loadMetadata",(function(){return y})),s("8TSCy");var i=s("jcnGU"),a=s("iCnzh"),o=s("ifq4M"),l=s("2TvXO"),u=s("cu9iz"),c=s("9pNSx"),f=s("10vEZ"),p=s("kYueh"),d=s("a8Xri"),h=u.default.defaults&&u.default.defaults.io.corsEnabledServers;function y(e,t){return v.apply(this,arguments)}function v(){return(v=i.default(n(l).mark((function e(t,r){var i,o,s,u,c;return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={source:null,sourceBase:null,sourceUrl:null,validatedSource:null,style:null,styleBase:null,styleUrl:null,sourceNameToSource:{},primarySourceName:"",spriteFormat:"png"},o=a.default("string"==typeof t?[t,null]:[null,t.jsonUrl],2),s=o[0],u=o[1],e.next=3,b(i,"esri",t,u,r);case 3:return c={layerDefinition:i.validatedSource,url:s,serviceUrl:i.sourceUrl,style:i.style,styleUrl:i.styleUrl,spriteUrl:i.style.sprite&&g(i.styleBase,i.style.sprite),spriteFormat:i.spriteFormat,glyphsUrl:i.style.glyphs&&g(i.styleBase,i.style.glyphs),sourceNameToSource:i.sourceNameToSource,primarySourceName:i.primarySourceName},e.abrupt("return",(m(c.spriteUrl),m(c.glyphsUrl),c));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){if(e){var t=(0,p.getOrigin)(e);h&&!h.includes(t)&&h.push(t)}}function g(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n,i=0;i<t.length;++i)if((0,p.isProtocolRelative)(t[i])){if(n){var a=n.split("://")[0];n=a+":"+t[i].trim()}}else n=(0,p.isAbsolute)(t[i])?t[i]:(0,p.join)(n,t[i]);return(0,p.removeTrailingSlash)(n)}function b(e,t,r,n,i){return _.apply(this,arguments)}function _(){return(_=i.default(n(l).mark((function e(t,r,i,a,s){var u,d,h,y,v;return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,f.throwIfAborted)(s),"string"!=typeof i){e.next=12;break}return m(y=(0,p.normalize)(i)),e.next=6,(0,c.default)(y,o.default({},s,{responseType:"json",query:o.default({f:"json"},null==s?void 0:s.query)}));case 6:(h=e.sent).ssl&&(u&&(u=u.replace(/^http:/i,"https:")),d&&(d=d.replace(/^http:/i,"https:"))),u=y,d=y,e.next=13;break;case 12:h={data:i},u=i.jsonUrl||null,d=a;case 13:return v=h.data,e.abrupt("return",w(v)?(t.styleUrl=u||null,S(t,v,d,s)):x(v)?t.sourceUrl?T(t,v,d,!1,r,s):(t.sourceUrl=u||null,T(t,v,d,!0,r,s)):Promise.reject("You must specify the URL or the JSON for a service or for a style."));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return!!e.sources}function x(e){return!w(e)}function S(e,t,r,n){return k.apply(this,arguments)}function k(){return(k=i.default(n(l).mark((function e(t,r,i,a){var o,s,u,c,f,d,h,y,v;return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i?(0,p.removeFile)(i):(0,p.getAppBaseUrl)(),t.styleBase=o,t.style=r,t.styleUrl&&m(t.styleUrl),r["sprite-format"]&&"webp"===r["sprite-format"].toLowerCase()&&(t.spriteFormat="webp"),s=[],!r.sources||!r.sources.esri){e.next=11;break}if(!(u=r.sources.esri).url){e.next=10;break}return e.next=8,b(t,"esri",g(o,u.url),void 0,a);case 8:e.next=11;break;case 10:s.push(b(t,"esri",u,o,a));case 11:for(c=!0,f=!1,d=void 0,e.prev=12,h=Object.keys(r.sources)[Symbol.iterator]();!(c=(y=h.next()).done);c=!0)"esri"!==(v=y.value)&&"vector"===r.sources[v].type&&(r.sources[v].url?s.push(b(t,v,g(o,r.sources[v].url),void 0,a)):r.sources[v].tiles&&s.push(b(t,v,r.sources[v],o,a)));e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),f=!0,d=e.t0;case 20:e.prev=20,e.prev=21,c||null==h.return||h.return();case 23:if(e.prev=23,!f){e.next=26;break}throw d;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.next=30,Promise.all(s);case 30:case"end":return e.stop()}}),e,null,[[12,16,20,28],[21,,23,27]])})))).apply(this,arguments)}function T(e,t,r,n,i,a){return E.apply(this,arguments)}function E(){return(E=i.default(n(l).mark((function e(t,r,i,a,o,s){var u,c,f,h;return n(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i?(0,p.removeTrailingSlash)(i)+"/":(0,p.getAppBaseUrl)(),c=I(r,u),f=new(0,d.default)(o,(0,p.addQueryParameters)(u,null==s?void 0:s.query),c),a||!(t.primarySourceName in t.sourceNameToSource)){e.next=6;break}if((h=t.sourceNameToSource[t.primarySourceName]).isCompatibleWith(f)){e.next=5;break}return e.abrupt("return",Promise.resolve());case 5:null!=f.fullExtent&&(null!=h.fullExtent?h.fullExtent.union(f.fullExtent):h.fullExtent=f.fullExtent.clone()),h.tileInfo.lods.length<f.tileInfo.lods.length&&(h.tileInfo=f.tileInfo);case 6:if(a?(t.sourceBase=u,t.source=r,t.validatedSource=c,t.primarySourceName=o,t.sourceUrl&&m(t.sourceUrl)):m(u),t.sourceNameToSource[o]=f,t.style){e.next=8;break}return e.abrupt("return",null==r.defaultStyles?Promise.reject():"string"==typeof r.defaultStyles?b(t,"",g(u,r.defaultStyles,"root.json"),void 0,s):b(t,"",r.defaultStyles,g(u,"root.json"),s));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){if(e.hasOwnProperty("tileInfo"))return e;for(var r={xmin:-20037507.067161843,ymin:-20037507.067161843,xmax:20037507.067161843,ymax:20037507.067161843,spatialReference:{wkid:102100}},n=78271.51696400007,i=295828763.7957775,a=[],o=e.hasOwnProperty("minzoom")?+e.minzoom:0,s=e.hasOwnProperty("maxzoom")?+e.maxzoom:22,l=0;l<=s;l++)l>=o&&a.push({level:l,scale:i,resolution:n}),n/=2,i/=2;var u=!0,c=!1,f=void 0;try{for(var p,d=e.tiles[Symbol.iterator]();!(u=(p=d.next()).done);u=!0){m(g(t,p.value))}}catch(e){c=!0,f=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw f}}return{capabilities:"TilesOnly",initialExtent:r,fullExtent:r,minScale:0,maxScale:0,tiles:e.tiles,tileInfo:{rows:512,cols:512,dpi:96,format:"pbf",origin:{x:-20037508.342787,y:20037508.342787},lods:a,spatialReference:{wkid:102100}}}}})),s.register("a8Xri",(function(t,r){e(t.exports,"default",(function(){return g})),s("8TSCy");var i=s("f9pi5"),a=s("ifq4M"),o=s("jK9zx"),l=s("jcnGU"),u=s("2TvXO"),c=s("flPLJ"),f=s("kYueh"),p=s("gINRd"),d=s("hf36P"),h=s("9UGCQ"),y=s("7Pkwq"),v=s("hl7M7"),m=s("dAedq"),g=function(){"use strict";function e(t,r,n){i.default(this,e),this.tilemap=null,this.tileInfo=null,this.capabilities=null,this.fullExtent=null,this.name=t,this.sourceUrl=r;var o=(0,f.urlToObject)(this.sourceUrl),s=(0,c.clone)(n),l=s.tiles;if(o)for(var u=0;u<l.length;u++){var m=(0,f.urlToObject)(l[u]);m&&((0,f.isAbsolute)(m.path)||(m.path=(0,f.join)(o.path,m.path)),l[u]=(0,f.addQueryParameters)(m.path,a.default({},o.query,m.query)))}this.tileServers=l;var g=n.capabilities&&n.capabilities.split(",").map((function(e){return e.toLowerCase().trim()})),b=!0===(null==n?void 0:n.exportTilesAllowed),_=!0===(null==g?void 0:g.includes("tilemap")),w=b&&n.hasOwnProperty("maxExportTilesCount")?n.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:b,supportsTileMap:_},exportTiles:b?{maxExportTilesCount:+w}:null},this.tileInfo=(0,d.readServiceTileInfo)(s.tileInfo,s,null,{ignoreMinMaxLOD:!0});var x=n.tileMap?(0,f.addQueryParameters)((0,f.join)(o.path,n.tileMap),o.query):null;_?(this.type="vector-tile",this.tilemap=new(0,v.default)(new(0,h.TilemapCache)({layer:{parsedUrl:o,tileInfo:this.tileInfo,type:"vector-tile",tileServers:this.tileServers}}),x)):x&&(this.tilemap=new(0,y.default)(x)),this.fullExtent=p.default.fromJSON(n.fullExtent)}return o.default(e,[{key:"destroy",value:function(){}},{key:"getRefKey",value:function(e,t){var r=this;return l.default(n(u).mark((function i(){var a,o;return n(u).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null!=(a=null==(o=r.tilemap)?void 0:o.dataKey(e,t))?a:e);case 2:case"end":return n.stop()}}),i)})))()}},{key:"requestTile",value:function(e,t,r,n){var i=this.tileServers[t%this.tileServers.length];return(0,m.request)(i,e,t,r,n)}},{key:"isCompatibleWith",value:function(e){var t=this.tileInfo,r=e.tileInfo;if(!t.spatialReference.equals(r.spatialReference))return!1;if(!t.origin.equals(r.origin))return!1;if(Math.round(t.dpi)!==Math.round(r.dpi))return!1;for(var n=t.lods,i=r.lods,a=Math.min(n.length,i.length),o=0;o<a;o++){var s=n[o],l=i[o];if(s.level!==l.level||Math.round(s.scale)!==Math.round(l.scale))return!1}return!0}}]),e}()})),s.register("7Pkwq",(function(t,r){e(t.exports,"default",(function(){return p})),s("8TSCy");var i=s("f9pi5"),a=s("jK9zx"),o=s("jcnGU"),l=s("2TvXO"),u=s("9pNSx"),c=s("10vEZ"),f=s("i90gL"),p=function(){"use strict";function e(t){i.default(this,e),this.url=t}return a.default(e,[{key:"fetchTileIndex",value:function(){var e=this;return o.default(n(l).mark((function t(){return n(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(e._tileIndexPromise||(e._tileIndexPromise=(0,u.default)(e.url).then((function(e){return e.data.index}))),e._tileIndexPromise));case 1:case"end":return t.stop()}}),t)})))()}},{key:"dataKey",value:function(e,t){var r=this;return o.default(n(l).mark((function i(){var a;return n(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.fetchTileIndex();case 2:return a=n.sent,n.abrupt("return",((0,c.throwIfAborted)(t),r._getIndexedDataKey(a,e)));case 4:case"end":return n.stop()}}),i)})))()}},{key:"_getIndexedDataKey",value:function(e,t){var r=[t];if(t.level<0||t.row<0||t.col<0||t.row>>t.level>0||t.col>>t.level>0)return null;for(var n=t;0!==n.level;)n=new(0,f.default)(n.level-1,n.row>>1,n.col>>1,n.world),r.push(n);var i,a,o=e,s=r.pop();if(1===o)return s;for(;r.length;)if(a=(1&(i=r.pop()).col)+((1&i.row)<<1),o){if(0===o[a]){s=null;break}if(1===o[a]){s=i;break}s=i,o=o[a]}return s}}]),e}()})),s.register("hl7M7",(function(t,r){e(t.exports,"default",(function(){return d})),s("8TSCy");var i=s("f9pi5"),a=s("jK9zx"),o=s("jcnGU"),l=s("ifq4M"),u=s("2TvXO"),c=s("9pNSx"),f=s("10vEZ"),p=s("i90gL"),d=function(){"use strict";function e(t,r){i.default(this,e),this._tilemap=t,this._tileIndexUrl=r}return a.default(e,[{key:"fetchTileIndex",value:function(e){var t=this;return o.default(n(u).mark((function r(){return n(u).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(t._tileIndexPromise||(t._tileIndexPromise=(0,c.default)(t._tileIndexUrl,{query:l.default({},null==e?void 0:e.query)}).then((function(e){return e.data.index}))),t._tileIndexPromise));case 1:case"end":return r.stop()}}),r)})))()}},{key:"dataKey",value:function(e,t){var r=e.level,n=e.row,i=e.col,a=new(0,p.default)(e);return this._tilemap.fetchAvailabilityUpsample(r,n,i,a,t).then((function(){return a.world=e.world,a})).catch((function(e){if((0,f.isAbortError)(e))throw e;return null}))}}]),e}()})),s.register("dAedq",(function(t,r){e(t.exports,"request",(function(){return l})),s("8TSCy");var n=s("ifq4M"),i=s("9pNSx"),a=s("flPLJ"),o=new Map;function l(e,t,r,s,l){return function(e,t){var r=o.get(e);if(r)return r.then((function(e){return(0,a.clone)(e)}));var s=(0,i.default)(e,n.default({responseType:"array-buffer"},t)).then((function(t){var r=t.data;return o.delete(e),r})).catch((function(t){throw o.delete(e),t}));return o.set(e,s),s}(e.replace(/\{z\}/gi,t.toString()).replace(/\{y\}/gi,r.toString()).replace(/\{x\}/gi,s.toString()),l)}})),s.register("UdTKD",(function(t,r){e(t.exports,"createForItem",(function(){return a}));var n=s("kYueh"),i=s("ajJOT");function a(e){return{origin:"portal-item",url:(0,n.urlToObject)(e.itemUrl),portal:e.portal||i.default.getDefault(),portalItem:e,readResourcePaths:[]}}})),s.register("aOITd",(function(t,r){e(t.exports,"areSchemasOverlapping",(function(){return a})),e(t.exports,"unionTileInfos",(function(){return o}));var n=s("xQ42o"),i=1e-6;function a(e,t){if(e===t)return!0;if(!e&&null!=t)return!1;if(null!=e&&!t)return!1;if(!e.spatialReference.equals(t.spatialReference)||e.dpi!==t.dpi)return!1;var r,n,a=e.origin,o=t.origin;if(Math.abs(a.x-o.x)>=i||Math.abs(a.y-o.y)>=i)return!1;e.lods[0].scale>t.lods[0].scale?(r=e,n=t):(n=e,r=t);for(var s=r.lods[0].scale;s>=n.lods[n.lods.length-1].scale-i;s/=2)if(Math.abs(s-n.lods[0].scale)<i)return!0;return!1}function o(e,t){if(e===t)return e;if(!e&&null!=t)return t;if(null!=e&&!t)return e;for(var r=e.size[0],i=e.format,a=e.dpi,o={x:e.origin.x,y:e.origin.y},s=e.spatialReference.toJSON(),l=e.lods[0].scale>t.lods[0].scale?e.lods[0]:t.lods[0],u=e.lods[e.lods.length-1].scale<=t.lods[t.lods.length-1].scale?e.lods[e.lods.length-1]:t.lods[t.lods.length-1],c=l.scale,f=l.resolution,p=u.scale,d=[],h=c,y=f,v=0;h>p;)d.push({level:v,resolution:y,scale:h}),v++,h/=2,y/=2;return new(0,n.default)({size:[r,r],dpi:a,format:i||"pbf",origin:o,lods:d,spatialReference:s})}})),s.register("7dqtP",(function(t,r){e(t.exports,"default",(function(){return l})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("cXGy9"),o=s("cEWfj"),l=function(){"use strict";function e(t){var r=this;if(n.default(this,e),this._style=t,this.backgroundBucketIds=[],this._uidToLayer=new Map,this._layerByName={},this._runningId=0,t.layers||(t.layers=[]),this.version=parseFloat(t.version),this.layers=t.layers.map((function(e,t,n){return r._create(e,t,n)})),this.layers)for(var i,o=0;o<this.layers.length;o++)i=this.layers[o],this._layerByName[i.id]=i,this._uidToLayer.set(i.uid,i),i.type===a.StyleLayerType.BACKGROUND&&this.backgroundBucketIds.push(i.id);this._identifyRefLayers()}return i.default(e,[{key:"isPainterDataDriven",value:function(e){var t=this._layerByName[e];return!!t&&t.isPainterDataDriven()}},{key:"getStyleLayerId",value:function(e){return e>=this.layers.length?null:this.layers[e].id}},{key:"getStyleLayerByUID",value:function(e){var t=this._uidToLayer.get(e);return null!=t?t:null}},{key:"getStyleLayerIndex",value:function(e){var t=this._layerByName[e];return t?this.layers.indexOf(t):-1}},{key:"setStyleLayer",value:function(t,r){if(t&&t.id){var n=this._style;null!=r&&r>=this.layers.length&&(r=this.layers.length-1);var i,a=!0,o=this._layerByName[t.id];if(o){var s=this.layers.indexOf(o);r||(r=s),r===s?(a=!1,i=e._recreateLayer(t,o),this.layers[r]=i,n.layers[r]=t):(this.layers.splice(s,1),n.layers.splice(s,1),i=this._create(t,r,this.layers),this.layers.splice(r,0,i),n.layers.splice(r,0,t))}else i=this._create(t,r,this.layers),!r||r>=this.layers.length?(this.layers.push(i),n.layers.push(t)):(this.layers.splice(r,0,i),n.layers.splice(r,0,t));this._layerByName[t.id]=i,this._uidToLayer.set(i.uid,i),a&&this._recomputeZValues(),this._identifyRefLayers()}}},{key:"getStyleLayer",value:function(e){var t=this._layerByName[e];return t?{type:t.typeName,id:t.id,source:t.source,"source-layer":t.sourceLayer,minzoom:t.minzoom,maxzoom:t.maxzoom,filter:t.filter,layout:t.layout,paint:t.paint}:null}},{key:"deleteStyleLayer",value:function(e){var t=this._layerByName[e];if(t){delete this._layerByName[e],this._uidToLayer.delete(t.uid);var r=this.layers.indexOf(t);this.layers.splice(r,1),this._style.layers.splice(r,1),this._recomputeZValues(),this._identifyRefLayers()}}},{key:"getLayerById",value:function(e){return this._layerByName[e]}},{key:"getLayoutProperties",value:function(e){var t=this._layerByName[e];return t?t.layout:null}},{key:"getPaintProperties",value:function(e){var t=this._layerByName[e];return t?t.paint:null}},{key:"setPaintProperties",value:function(t,r){var n=this._layerByName[t];if(n){var i={type:n.typeName,id:n.id,source:n.source,"source-layer":n.sourceLayer,minzoom:n.minzoom,maxzoom:n.maxzoom,filter:n.filter,layout:n.layout,paint:r},a=e._recreateLayer(i,n),o=this.layers.indexOf(n);this.layers[o]=a,this._style.layers[o].paint=r,this._layerByName[n.id]=a,this._uidToLayer.set(n.uid,a)}}},{key:"setLayoutProperties",value:function(t,r){var n=this._layerByName[t];if(n){var i={type:n.typeName,id:n.id,source:n.source,"source-layer":n.sourceLayer,minzoom:n.minzoom,maxzoom:n.maxzoom,filter:n.filter,layout:r,paint:n.paint},a=e._recreateLayer(i,n),o=this.layers.indexOf(n);this.layers[o]=a,this._style.layers[o].layout=r,this._layerByName[n.id]=a,this._uidToLayer.set(n.uid,a)}}},{key:"setStyleLayerVisibility",value:function(t,r){var n=this._layerByName[t];if(n){var i=n.layout||{};i.visibility=r;var a={type:n.typeName,id:n.id,source:n.source,"source-layer":n.sourceLayer,minzoom:n.minzoom,maxzoom:n.maxzoom,filter:n.filter,layout:i,paint:n.paint},o=e._recreateLayer(a,n),s=this.layers.indexOf(n);this.layers[s]=o,this._style.layers[s].layout=i,this._layerByName[n.id]=o,this._uidToLayer.set(n.uid,o)}}},{key:"getStyleLayerVisibility",value:function(e){var t,r=this._layerByName[e];if(!r)return"none";var n=r.layout;return null!=(t=null==n?void 0:n.visibility)?t:"visible"}},{key:"_recomputeZValues",value:function(){for(var e=this.layers,t=1/(e.length+1),r=0;r<e.length;r++)e[r].z=1-(1+r)*t}},{key:"_identifyRefLayers",value:function(){var e=[],t=[],r=0,n=!0,i=!1,o=void 0;try{for(var s,l=this.layers[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value,c=u.layout;if(u.type===a.StyleLayerType.FILL){var f=u,p=u.source+"|"+u.sourceLayer;p+="|"+(null==c?void 0:c.visibility),p+="|"+u.minzoom,p+="|"+u.maxzoom,p+="|"+JSON.stringify(u.filter),(f.hasDataDrivenFill||f.hasDataDrivenOutline)&&(p+="|"+r),e.push({key:p,layer:u})}else if(u.type===a.StyleLayerType.LINE){var d=u,h=u.source+"|"+u.sourceLayer;h+="|"+(null==c?void 0:c.visibility),h+="|"+u.minzoom,h+="|"+u.maxzoom,h+="|"+JSON.stringify(u.filter),h+="|"+(void 0!==c?c["line-cap"]:""),h+="|"+(void 0!==c?c["line-join"]:""),d.hasDataDrivenLine&&(h+="|"+r),t.push({key:h,layer:u})}++r}}catch(e){i=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}this._assignRefLayers(e),this._assignRefLayers(t)}},{key:"_assignRefLayers",value:function(e){var t,r;e.sort((function(e,t){return e.key<t.key?-1:e.key>t.key?1:0}));for(var n=e.length,i=0;i<n;i++){var o=e[i];if(o.key===t)o.layer.refLayerId=r;else if(t=o.key,r=o.layer.id,o.layer.type===a.StyleLayerType.FILL){if(!o.layer.getPaintProperty("fill-outline-color"))for(var s=i+1;s<n;s++){var l=e[s];if(l.key!==t)break;if(l.layer.getPaintProperty("fill-outline-color")){e[i]=l,e[s]=o,r=l.layer.id;break}}}else if(o.layer.type===a.StyleLayerType.LINE)for(var u=o.layer,c=i+1;c<n;c++){var f=e[c];if(f.key!==t)break;var p=f.layer;(u.canUseThinTessellation&&!p.canUseThinTessellation||!u.canUseThinTessellation&&(p.getPaintProperty("line-pattern")||p.getPaintProperty("line-dasharray")))&&(u=p,e[i]=f,e[c]=o,r=f.layer.id)}}}},{key:"_create",value:function(e,t,r){var n=1-(1+t)*(1/(r.length+1)),i=this._runningId++;switch(e.type){case"background":return new(0,o.BackgroundStyleLayer)(a.StyleLayerType.BACKGROUND,e,n,i);case"fill":return new(0,o.FillStyleLayer)(a.StyleLayerType.FILL,e,n,i);case"line":return new(0,o.LineStyleLayer)(a.StyleLayerType.LINE,e,n,i);case"symbol":return new(0,o.SymbolStyleLayer)(a.StyleLayerType.SYMBOL,e,n,i);case"raster":throw new Error("Unsupported vector tile raster layer");case"circle":return new(0,o.CircleStyleLayer)(a.StyleLayerType.CIRCLE,e,n,i)}throw new Error("Unknown vector tile layer")}}],[{key:"_recreateLayer",value:function(e,t){switch(e.type){case"background":return new(0,o.BackgroundStyleLayer)(a.StyleLayerType.BACKGROUND,e,t.z,t.uid);case"fill":return new(0,o.FillStyleLayer)(a.StyleLayerType.FILL,e,t.z,t.uid);case"line":return new(0,o.LineStyleLayer)(a.StyleLayerType.LINE,e,t.z,t.uid);case"symbol":return new(0,o.SymbolStyleLayer)(a.StyleLayerType.SYMBOL,e,t.z,t.uid);case"raster":throw new Error("Unsupported vector tile raster layer");case"circle":return new(0,o.CircleStyleLayer)(a.StyleLayerType.CIRCLE,e,t.z,t.uid)}}}]),e}()})),s.register("cXGy9",(function(t,r){e(t.exports,"StyleLayerType",(function(){return n})),e(t.exports,"Visibility",(function(){return i})),e(t.exports,"SymbolPlacement",(function(){return a})),e(t.exports,"RotationAlignment",(function(){return o})),e(t.exports,"TextJustification",(function(){return l})),e(t.exports,"SymbolAnchor",(function(){return u})),e(t.exports,"TextTransform",(function(){return c})),e(t.exports,"TranslateAnchor",(function(){return f})),e(t.exports,"TextWritingMode",(function(){return p})),e(t.exports,"StyleDefinition",(function(){return k})),s("8TSCy");var n,i,a,o,l,u,c,f,p,d,h,y,v,m,g,b,_,w,x=s("f9pi5"),S=s("6LoaD");(w=n||(n={}))[w.BACKGROUND=0]="BACKGROUND",w[w.FILL=1]="FILL",w[w.LINE=2]="LINE",w[w.SYMBOL=3]="SYMBOL",w[w.CIRCLE=4]="CIRCLE",(_=i||(i={}))[_.VISIBLE=0]="VISIBLE",_[_.NONE=1]="NONE",(b=a||(a={}))[b.POINT=0]="POINT",b[b.LINE=1]="LINE",b[b.LINE_CENTER=2]="LINE_CENTER",(g=o||(o={}))[g.MAP=0]="MAP",g[g.VIEWPORT=1]="VIEWPORT",g[g.AUTO=2]="AUTO",(m=l||(l={}))[m.AUTO=0]="AUTO",m[m.LEFT=1]="LEFT",m[m.CENTER=2]="CENTER",m[m.RIGHT=3]="RIGHT",(v=u||(u={}))[v.CENTER=0]="CENTER",v[v.LEFT=1]="LEFT",v[v.RIGHT=2]="RIGHT",v[v.TOP=3]="TOP",v[v.BOTTOM=4]="BOTTOM",v[v.TOP_LEFT=5]="TOP_LEFT",v[v.TOP_RIGHT=6]="TOP_RIGHT",v[v.BOTTOM_LEFT=7]="BOTTOM_LEFT",v[v.BOTTOM_RIGHT=8]="BOTTOM_RIGHT",(y=c||(c={}))[y.NONE=0]="NONE",y[y.UPPERCASE=1]="UPPERCASE",y[y.LOWERCASE=2]="LOWERCASE",(h=f||(f={}))[h.MAP=0]="MAP",h[h.VIEWPORT=1]="VIEWPORT",(d=p||(p={}))[d.HORIZONTAL=0]="HORIZONTAL",d[d.VERTICAL=1]="VERTICAL";var k=function e(){"use strict";x.default(this,e)};k.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:i.VISIBLE}},k.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:i.VISIBLE}},k.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:i.VISIBLE},"line-cap":{type:"enum",values:["butt","round","square"],default:S.CapType.BUTT},"line-join":{type:"enum",values:["bevel","round","miter"],default:S.JoinType.MITER},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}},k.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:i.VISIBLE},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:a.POINT},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:u.CENTER},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:o.AUTO},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:u.CENTER},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:l.CENTER},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:o.AUTO},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:c.NONE},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[p.HORIZONTAL]}},k.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:i.VISIBLE}},k.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}},k.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:f.MAP}},k.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:f.MAP},"line-width":{type:"number",minimum:0,default:1}},k.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:f.MAP},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:f.MAP}},k.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}},k.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:f.MAP}}})),s.register("6LoaD",(function(t,r){var n,i,a,o,s,l,u,c,f,p,d,h,y,v,m,g,b,_,w,x,S,k,T,E,I,C,O,L,A,M,N,R,P,F,j,D,U,V,B,H,z,W,G,J,q,X,K,$,Y,Z,Q,ee,te,re,ne,ie,ae,oe,se,le,ue,ce,fe,pe,de,he,ye,ve,me,ge,be,_e,we,xe,Se,ke,Te,Ee,Ie,Ce,Oe,Le,Ae,Me,Ne,Re,Pe,Fe,je,De,Ue,Ve,Be,He,ze,We,Ge,Je,qe,Xe,Ke,$e,Ye,Ze,Qe,et,tt,rt,nt,it,at,ot,st,lt,ut,ct,ft,pt,dt,ht;e(t.exports,"CapType",(function(){return n})),e(t.exports,"JoinType",(function(){return i})),e(t.exports,"Alignment",(function(){return a})),e(t.exports,"ExtremityPlacement",(function(){return s})),e(t.exports,"FontEffects",(function(){return u})),e(t.exports,"FontEncoding",(function(){return c})),e(t.exports,"FontType",(function(){return f})),e(t.exports,"BlockProgression",(function(){return m})),e(t.exports,"BillBoardMode",(function(){return g})),e(t.exports,"GeometricEffectArrowType",(function(){return w})),e(t.exports,"GeometricEffectControlMeasureLineRule",(function(){return x})),e(t.exports,"GeometricEffectDonutMethod",(function(){return S})),e(t.exports,"GeometricEffectOffsetMethod",(function(){return E})),e(t.exports,"GeometricEffectWaveform",(function(){return O})),e(t.exports,"GlyphHinting",(function(){return L})),e(t.exports,"LineCapStyle",(function(){return j})),e(t.exports,"LineDashEnding",(function(){return D})),e(t.exports,"LineJoinStyle",(function(){return B})),e(t.exports,"PlacementEndings",(function(){return J})),e(t.exports,"PlacementGridType",(function(){return q})),e(t.exports,"PlacementOnLineRelativeTo",(function(){return X})),e(t.exports,"PlacementPolygonCenterMethod",(function(){return K})),e(t.exports,"TextReadingDirection",(function(){return ne})),e(t.exports,"TextureFilter",(function(){return ie})),e(t.exports,"VerticalGlyphOrientation",(function(){return oe})),(ht=n||(n={}))[ht.BUTT=0]="BUTT",ht[ht.ROUND=1]="ROUND",ht[ht.SQUARE=2]="SQUARE",ht[ht.UNKNOWN=4]="UNKNOWN",(dt=i||(i={}))[dt.BEVEL=0]="BEVEL",dt[dt.ROUND=1]="ROUND",dt[dt.MITER=2]="MITER",dt[dt.UNKNOWN=4]="UNKNOWN",(pt=a||(a={}))[pt.SCREEN=0]="SCREEN",pt[pt.MAP=1]="MAP",(ft=o||(o={}))[ft.Tint=0]="Tint",ft[ft.Ignore=1]="Ignore",ft[ft.Multiply=99]="Multiply",(ct=s||(s={})).Both="Both",ct.JustBegin="JustBegin",ct.JustEnd="JustEnd",ct.None="None",(ut=l||(l={}))[ut.Mosaic=0]="Mosaic",ut[ut.Centered=1]="Centered",(lt=u||(u={}))[lt.Normal=0]="Normal",lt[lt.Superscript=1]="Superscript",lt[lt.Subscript=2]="Subscript",(st=c||(c={}))[st.MSSymbol=0]="MSSymbol",st[st.Unicode=1]="Unicode",(ot=f||(f={}))[ot.Unspecified=0]="Unspecified",ot[ot.TrueType=1]="TrueType",ot[ot.PSOpenType=2]="PSOpenType",ot[ot.TTOpenType=3]="TTOpenType",ot[ot.Type1=4]="Type1",(at=p||(p={}))[at.Display=0]="Display",at[at.Map=1]="Map",(it=d||(d={}))[it.Z=0]="Z",it[it.X=1]="X",it[it.Y=2]="Y",(nt=h||(h={}))[nt.XYZ=0]="XYZ",nt[nt.ZXY=1]="ZXY",nt[nt.YXZ=2]="YXZ",(rt=y||(y={}))[rt.Rectangle=0]="Rectangle",rt[rt.RoundedRectangle=1]="RoundedRectangle",rt[rt.Oval=2]="Oval",(tt=v||(v={}))[tt.None=0]="None",tt[tt.Alpha=1]="Alpha",tt[tt.Screen=2]="Screen",tt[tt.Multiply=3]="Multiply",tt[tt.Add=4]="Add",(et=m||(m={}))[et.TTB=0]="TTB",et[et.RTL=1]="RTL",et[et.BTT=2]="BTT",(Qe=g||(g={}))[Qe.None=0]="None",Qe[Qe.SignPost=1]="SignPost",Qe[Qe.FaceNearPlane=2]="FaceNearPlane",(Ze=b||(b={}))[Ze.Float=0]="Float",Ze[Ze.String=1]="String",Ze[Ze.Boolean=2]="Boolean",(Ye=_||(_={}))[Ye.Intersect=0]="Intersect",Ye[Ye.Subtract=1]="Subtract",($e=w||(w={})).OpenEnded="OpenEnded",$e.Block="Block",$e.Crossed="Crossed",(Ke=x||(x={})).FullGeometry="FullGeometry",Ke.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",Ke.ReversedFirstSegment="ReversedFirstSegment",Ke.PerpendicularToSecondSegment="PerpendicularToSecondSegment",Ke.SecondSegmentWithTicks="SecondSegmentWithTicks",Ke.DoublePerpendicular="DoublePerpendicular",Ke.OppositeToFirstSegment="OppositeToFirstSegment",Ke.TriplePerpendicular="TriplePerpendicular",Ke.HalfCircleFirstSegment="HalfCircleFirstSegment",Ke.HalfCircleSecondSegment="HalfCircleSecondSegment",Ke.HalfCircleExtended="HalfCircleExtended",Ke.OpenCircle="OpenCircle",Ke.CoverageEdgesWithTicks="CoverageEdgesWithTicks",Ke.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",Ke.GapExtentMidline="GapExtentMidline",Ke.Chevron="Chevron",Ke.PerpendicularWithArc="PerpendicularWithArc",Ke.ClosedHalfCircle="ClosedHalfCircle",Ke.TripleParallelExtended="TripleParallelExtended",Ke.ParallelWithTicks="ParallelWithTicks",Ke.Parallel="Parallel",Ke.PerpendicularToFirstSegment="PerpendicularToFirstSegment",Ke.ParallelOffset="ParallelOffset",Ke.OffsetOpposite="OffsetOpposite",Ke.OffsetSame="OffsetSame",Ke.CircleWithArc="CircleWithArc",Ke.DoubleJog="DoubleJog",Ke.PerpendicularOffset="PerpendicularOffset",Ke.LineExcludingLastSegment="LineExcludingLastSegment",Ke.MultivertexArrow="MultivertexArrow",Ke.CrossedArrow="CrossedArrow",Ke.ChevronArrow="ChevronArrow",Ke.ChevronArrowOffset="ChevronArrowOffset",Ke.PartialFirstSegment="PartialFirstSegment",Ke.Arch="Arch",Ke.CurvedParallelTicks="CurvedParallelTicks",Ke.Arc90Degrees="Arc90Degrees",(Xe=S||(S={})).Mitered="Mitered",Xe.Bevelled="Bevelled",Xe.Rounded="Rounded",Xe.Square="Square",Xe.TrueBuffer="TrueBuffer",(qe=k||(k={})).ClosePath="ClosePath",qe.ConvexHull="ConvexHull",qe.RectangularBox="RectangularBox",(Je=T||(T={})).BeginningOfLine="BeginningOfLine",Je.EndOfLine="EndOfLine",(Ge=E||(E={})).Mitered="Mitered",Ge.Bevelled="Bevelled",Ge.Rounded="Rounded",Ge.Square="Square",(We=I||(I={})).Fast="Fast",We.Accurate="Accurate",(ze=C||(C={})).BeginningOfLine="BeginningOfLine",ze.EndOfLine="EndOfLine",(He=O||(O={})).Sinus="Sinus",He.Square="Square",He.Triangle="Triangle",He.Random="Random",(Be=L||(L={}))[Be.None=0]="None",Be[Be.Default=1]="Default",Be[Be.Force=2]="Force",(Ve=A||(A={}))[Ve.Buffered=0]="Buffered",Ve[Ve.Left=1]="Left",Ve[Ve.Right=2]="Right",Ve[Ve.AlongLine=3]="AlongLine",(Ue=M||(M={}))[Ue.Linear=0]="Linear",Ue[Ue.Rectangular=1]="Rectangular",Ue[Ue.Circular=2]="Circular",Ue[Ue.Buffered=3]="Buffered",(De=N||(N={}))[De.Discrete=0]="Discrete",De[De.Continuous=1]="Continuous",(je=R||(R={}))[je.AcrossLine=0]="AcrossLine",je[je.AloneLine=1]="AloneLine",(Fe=P||(P={}))[Fe.Left=0]="Left",Fe[Fe.Right=1]="Right",Fe[Fe.Center=2]="Center",Fe[Fe.Justify=3]="Justify",(Pe=F||(F={}))[Pe.Base=0]="Base",Pe[Pe.MidPoint=1]="MidPoint",Pe[Pe.ThreePoint=2]="ThreePoint",Pe[Pe.FourPoint=3]="FourPoint",Pe[Pe.Underline=4]="Underline",Pe[Pe.CircularCW=5]="CircularCW",Pe[Pe.CircularCCW=6]="CircularCCW",(Re=j||(j={})).Butt="Butt",Re.Round="Round",Re.Square="Square",(Ne=D||(D={})).NoConstraint="NoConstraint",Ne.HalfPattern="HalfPattern",Ne.HalfGap="HalfGap",Ne.FullPattern="FullPattern",Ne.FullGap="FullGap",Ne.Custom="Custom",(Me=U||(U={}))[Me.None=-1]="None",Me[Me.Custom=0]="Custom",Me[Me.Circle=1]="Circle",Me[Me.OpenArrow=2]="OpenArrow",Me[Me.ClosedArrow=3]="ClosedArrow",Me[Me.Diamond=4]="Diamond",(Ae=V||(V={}))[Ae.ExtraLeading=0]="ExtraLeading",Ae[Ae.Multiple=1]="Multiple",Ae[Ae.Exact=2]="Exact",(Le=B||(B={})).Bevel="Bevel",Le.Round="Round",Le.Miter="Miter",(Oe=H||(H={}))[Oe.Default=0]="Default",Oe[Oe.String=1]="String",Oe[Oe.Numeric=2]="Numeric",(Ce=z||(z={}))[Ce.InsidePolygon=0]="InsidePolygon",Ce[Ce.PolygonCenter=1]="PolygonCenter",Ce[Ce.RandomlyInsidePolygon=2]="RandomlyInsidePolygon",(Ie=W||(W={}))[Ie.Tint=0]="Tint",Ie[Ie.Replace=1]="Replace",Ie[Ie.Multiply=2]="Multiply",(Ee=G||(G={}))[Ee.ClipAtBoundary=0]="ClipAtBoundary",Ee[Ee.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",Ee[Ee.DoNotTouchBoundary=2]="DoNotTouchBoundary",Ee[Ee.DoNotClip=3]="DoNotClip",(Te=J||(J={})).NoConstraint="NoConstraint",Te.WithMarkers="WithMarkers",Te.WithFullGap="WithFullGap",Te.WithHalfGap="WithHalfGap",Te.Custom="Custom",(ke=q||(q={})).Fixed="Fixed",ke.Random="Random",ke.RandomFixedQuantity="RandomFixedQuantity",(Se=X||(X={})).LineMiddle="LineMiddle",Se.LineBeginning="LineBeginning",Se.LineEnd="LineEnd",Se.SegmentMidpoint="SegmentMidpoint",(xe=K||(K={})).OnPolygon="OnPolygon",xe.CenterOfMass="CenterOfMass",xe.BoundingBoxCenter="BoundingBoxCenter",(we=$||($={}))[we.Low=0]="Low",we[we.Medium=1]="Medium",we[we.High=2]="High",(_e=Y||(Y={}))[_e.MarkerCenter=0]="MarkerCenter",_e[_e.MarkerBounds=1]="MarkerBounds",(be=Z||(Z={}))[be.None=0]="None",be[be.PropUniform=1]="PropUniform",be[be.PropNonuniform=2]="PropNonuniform",be[be.DifUniform=3]="DifUniform",be[be.DifNonuniform=4]="DifNonuniform",(ge=Q||(Q={})).Tube="Tube",ge.Strip="Strip",ge.Wall="Wall",(me=ee||(ee={}))[me.Random=0]="Random",me[me.Increasing=1]="Increasing",me[me.Decreasing=2]="Decreasing",me[me.IncreasingThenDecreasing=3]="IncreasingThenDecreasing",(ve=te||(te={}))[ve.Relative=0]="Relative",ve[ve.Absolute=1]="Absolute",(ye=re||(re={}))[ye.Normal=0]="Normal",ye[ye.LowerCase=1]="LowerCase",ye[ye.Allcaps=2]="Allcaps",(he=ne||(ne={}))[he.LTR=0]="LTR",he[he.RTL=1]="RTL",(de=ie||(ie={})).Draft="Draft",de.Picture="Picture",de.Text="Text",(pe=ae||(ae={}))[pe.Top=0]="Top",pe[pe.Center=1]="Center",pe[pe.Baseline=2]="Baseline",pe[pe.Bottom=3]="Bottom",(fe=oe||(oe={}))[fe.Right=0]="Right",fe[fe.Upright=1]="Upright",(ce=se||(se={}))[ce.Small=0]="Small",ce[ce.Medium=1]="Medium",ce[ce.Large=2]="Large",(ue=le||(le={}))[ue.Calm=0]="Calm",ue[ue.Rippled=1]="Rippled",ue[ue.Slight=2]="Slight",ue[ue.Moderate=3]="Moderate"})),s.register("cEWfj",(function(t,r){e(t.exports,"BackgroundStyleLayer",(function(){return w})),e(t.exports,"FillStyleLayer",(function(){return x})),e(t.exports,"LineStyleLayer",(function(){return S})),e(t.exports,"SymbolStyleLayer",(function(){return k})),e(t.exports,"CircleStyleLayer",(function(){return T})),e(t.exports,"IconLayout",(function(){return E})),e(t.exports,"TextLayout",(function(){return I})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("g9uIT"),o=s("dap1g"),l=s("bFSSc"),u=s("6LoaD"),c=s("acBaq"),f=s("cfr1o"),p=s("1D3GE"),d=s("14JdJ"),h=s("2BLQE"),y=s("jsw2J"),v=s("f1jQs"),m=s("cXGy9"),g=s("7mcLd"),b=s("4WoSm"),_=function(){"use strict";function e(t,r,i,a){switch(n.default(this,e),this.type=t,this.typeName=r.type,this.id=r.id,this.source=r.source,this.sourceLayer=r["source-layer"],this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,this.filter=r.filter,this.layout=r.layout,this.paint=r.paint,this.z=i,this.uid=a,t){case m.StyleLayerType.BACKGROUND:this._layoutDefinition=m.StyleDefinition.backgroundLayoutDefinition,this._paintDefinition=m.StyleDefinition.backgroundPaintDefinition;break;case m.StyleLayerType.FILL:this._layoutDefinition=m.StyleDefinition.fillLayoutDefinition,this._paintDefinition=m.StyleDefinition.fillPaintDefinition;break;case m.StyleLayerType.LINE:this._layoutDefinition=m.StyleDefinition.lineLayoutDefinition,this._paintDefinition=m.StyleDefinition.linePaintDefinition;break;case m.StyleLayerType.SYMBOL:this._layoutDefinition=m.StyleDefinition.symbolLayoutDefinition,this._paintDefinition=m.StyleDefinition.symbolPaintDefinition;break;case m.StyleLayerType.CIRCLE:this._layoutDefinition=m.StyleDefinition.circleLayoutDefinition,this._paintDefinition=m.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout),this._paintProperties=this._parsePaint(this.paint)}return i.default(e,[{key:"getFeatureFilter",value:function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=v.default.createFilter(this.filter)}},{key:"getLayoutProperty",value:function(e){return this._layoutProperties[e]}},{key:"getPaintProperty",value:function(e){return this._paintProperties[e]}},{key:"getLayoutValue",value:function(e,t,r){var n,i=this._layoutProperties[e];return i&&(n=i.getValue(t,r)),void 0===n&&(n=this._layoutDefinition[e].default),n}},{key:"getPaintValue",value:function(e,t,r){var n,i=this._paintProperties[e];return i&&(n=i.getValue(t,r)),void 0===n&&(n=this._paintDefinition[e].default),n}},{key:"isPainterDataDriven",value:function(){var e=this._paintProperties;if(e)for(var t in e)if(e[t].isDataDriven)return!0;return!1}},{key:"_parseLayout",value:function(e){var t={};for(var r in e){var n=this._layoutDefinition[r];n&&(t[r]=new(0,g.default)(n,e[r]))}return t}},{key:"_parsePaint",value:function(e){var t={};for(var r in e){var n=this._paintDefinition[r];n&&(t[r]=new(0,g.default)(n,e[r]))}return t}},{key:"computeAttributesKey",value:function(e,t,r,n){var i=0,a=0,o=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value,p=3;if(!f||f!==n){var d=r[f],h=d.isLayout,y=d.isOptional,v=h?this.getLayoutProperty(f):this.getPaintProperty(f);p=null!=v&&v.interpolator?2:null!=v&&v.isDataDriven?1:y&&!v?3:0}a|=p<<i,i+=2}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}return a<<3|e}}]),e}(),w=function(e){"use strict";a.default(r,e);var t=o.default(r);function r(e,i,a,o){var s;return n.default(this,r),(s=t.call(this,e,i,a,o)).backgroundMaterial=new(0,f.VTLBackgroundMaterial)(s.computeAttributesKey(c.ShaderProgramType.BACKGROUND,f.VTLBackgroundMaterial.ATTRIBUTES,f.VTLBackgroundMaterial.ATTRIBUTES_INFO)),l.default(s)}return r}(_),x=function(e){"use strict";a.default(r,e);var t=o.default(r);function r(e,i,a,o){var s;n.default(this,r);var l=(s=t.call(this,e,i,a,o)).getPaintProperty("fill-color"),u=s.getPaintProperty("fill-opacity"),f=s.getPaintProperty("fill-pattern");s.hasDataDrivenColor=null==l?void 0:l.isDataDriven,s.hasDataDrivenOpacity=null==u?void 0:u.isDataDriven,s.hasDataDrivenFill=s.hasDataDrivenColor||s.hasDataDrivenOpacity||(null==f?void 0:f.isDataDriven);var p=s.getPaintProperty("fill-outline-color");return s.outlineUsesFillColor=!p,s.hasDataDrivenOutlineColor=null==p?void 0:p.isDataDriven,s.hasDataDrivenOutline=p?p.isDataDriven:!!l&&l.isDataDriven,s.hasDataDrivenOutline=(p?s.hasDataDrivenOutlineColor:s.hasDataDrivenColor)||s.hasDataDrivenOpacity,s.fillMaterial=new(0,d.VTLFillMaterial)(s.computeAttributesKey(c.ShaderProgramType.FILL,d.VTLFillMaterial.ATTRIBUTES,d.VTLFillMaterial.ATTRIBUTES_INFO)),s.outlineMaterial=new(0,d.VTLOutlineMaterial)(s.computeAttributesKey(c.ShaderProgramType.OUTLINE,s.outlineUsesFillColor?d.VTLOutlineMaterial.ATTRIBUTES_FILL:d.VTLOutlineMaterial.ATTRIBUTES_OUTLINE,s.outlineUsesFillColor?d.VTLOutlineMaterial.ATTRIBUTES_INFO_FILL:d.VTLOutlineMaterial.ATTRIBUTES_INFO_OUTLINE),s.outlineUsesFillColor),s}return r}(_),S=function(e){"use strict";a.default(r,e);var t=o.default(r);function r(e,i,a,o){var s,l,u,f,p,d,y,v,m,g;n.default(this,r);var _=(s=t.call(this,e,i,a,o)).getPaintProperty("line-pattern");if(s.lineMaterial=new(0,h.VTLLineMaterial)(s.computeAttributesKey(c.ShaderProgramType.LINE,h.VTLLineMaterial.ATTRIBUTES,h.VTLLineMaterial.ATTRIBUTES_INFO,_?"line-dasharray":"")),s.hasDataDrivenLine=(null==(l=s.getPaintProperty("line-blur"))?void 0:l.isDataDriven)||(null==(u=s.getPaintProperty("line-color"))?void 0:u.isDataDriven)||(null==(f=s.getPaintProperty("line-gap-width"))?void 0:f.isDataDriven)||(null==(p=s.getPaintProperty("line-offset"))?void 0:p.isDataDriven)||(null==(d=s.getPaintProperty("line-opacity"))?void 0:d.isDataDriven)||(null==(y=s.getPaintProperty("line-pattern"))?void 0:y.isDataDriven)||(null==(v=s.getPaintProperty("line-dasharray"))?void 0:v.isDataDriven)||(null==(m=s.getLayoutProperty("line-cap"))?void 0:m.isDataDriven)||(null==(g=s.getPaintProperty("line-width"))?void 0:g.isDataDriven),s.canUseThinTessellation=!1,!s.hasDataDrivenLine){var w=s.getPaintProperty("line-width");if(!w||"number"==typeof w&&.5*w<b.THIN_LINE_HALF_WIDTH_THRESHOLD){var x=s.getPaintProperty("line-offset");(!x||"number"==typeof x&&0===x)&&(s.canUseThinTessellation=!0)}}return s}return i.default(r,[{key:"getDashKey",value:function(e,t){var r;switch(t){case u.CapType.BUTT:r="Butt";break;case u.CapType.ROUND:r="Round";break;case u.CapType.SQUARE:r="Square";break;default:r="Butt"}return"dasharray-[".concat(e.toString(),"]-").concat(r)}}]),r}(_),k=function(e){"use strict";a.default(r,e);var t=o.default(r);function r(e,i,a,o){var s,u,f,p,d,h,v,m,g,b,_,w,x;return n.default(this,r),(s=t.call(this,e,i,a,o)).iconMaterial=new(0,y.VTLIconMaterial)(s.computeAttributesKey(c.ShaderProgramType.ICON,y.VTLIconMaterial.ATTRIBUTES,y.VTLIconMaterial.ATTRIBUTES_INFO)),s.textMaterial=new(0,y.VTLTextMaterial)(s.computeAttributesKey(c.ShaderProgramType.TEXT,y.VTLTextMaterial.ATTRIBUTES,y.VTLTextMaterial.ATTRIBUTES_INFO)),s.hasDataDrivenIcon=(null==(u=s.getPaintProperty("icon-color"))?void 0:u.isDataDriven)||(null==(f=s.getPaintProperty("icon-halo-blur"))?void 0:f.isDataDriven)||(null==(p=s.getPaintProperty("icon-halo-color"))?void 0:p.isDataDriven)||(null==(d=s.getPaintProperty("icon-halo-width"))?void 0:d.isDataDriven)||(null==(h=s.getPaintProperty("icon-opacity"))?void 0:h.isDataDriven)||(null==(v=s.getLayoutProperty("icon-size"))?void 0:v.isDataDriven),s.hasDataDrivenText=(null==(m=s.getPaintProperty("text-color"))?void 0:m.isDataDriven)||(null==(g=s.getPaintProperty("text-halo-blur"))?void 0:g.isDataDriven)||(null==(b=s.getPaintProperty("text-halo-color"))?void 0:b.isDataDriven)||(null==(_=s.getPaintProperty("text-halo-width"))?void 0:_.isDataDriven)||(null==(w=s.getPaintProperty("text-opacity"))?void 0:w.isDataDriven)||(null==(x=s.getLayoutProperty("text-size"))?void 0:x.isDataDriven),l.default(s)}return r}(_),T=function(e){"use strict";a.default(r,e);var t=o.default(r);function r(e,i,a,o){var s;return n.default(this,r),(s=t.call(this,e,i,a,o)).circleMaterial=new(0,p.VTLCircleMaterial)(s.computeAttributesKey(c.ShaderProgramType.CIRCLE,p.VTLCircleMaterial.ATTRIBUTES,p.VTLCircleMaterial.ATTRIBUTES_INFO)),l.default(s)}return r}(_),E=function(){"use strict";function e(t,r,i){var a,o,s,l,u,c;n.default(this,e),this.allowOverlap=t.getLayoutValue("icon-allow-overlap",r),this.ignorePlacement=t.getLayoutValue("icon-ignore-placement",r),this.keepUpright=t.getLayoutValue("icon-keep-upright",r),this.optional=t.getLayoutValue("icon-optional",r),this.rotationAlignment=t.getLayoutValue("icon-rotation-alignment",r),this.rotationAlignment===m.RotationAlignment.AUTO&&(this.rotationAlignment=i?m.RotationAlignment.MAP:m.RotationAlignment.VIEWPORT),null!=(a=c=t.getLayoutProperty("icon-anchor"))&&a.isDataDriven?this._anchorProp=c:this.anchor=t.getLayoutValue("icon-anchor",r),null!=(o=c=t.getLayoutProperty("icon-offset"))&&o.isDataDriven?this._offsetProp=c:this.offset=t.getLayoutValue("icon-offset",r),null!=(s=c=t.getLayoutProperty("icon-padding"))&&s.isDataDriven?this._paddingProp=c:this.padding=t.getLayoutValue("icon-padding",r),null!=(l=c=t.getLayoutProperty("icon-rotate"))&&l.isDataDriven?this._rotateProp=c:this.rotate=t.getLayoutValue("icon-rotate",r),null!=(u=c=t.getLayoutProperty("icon-size"))&&u.isDataDriven?this._sizeProp=c:this.size=t.getLayoutValue("icon-size",r)}return i.default(e,[{key:"update",value:function(e,t){this._anchorProp&&(this.anchor=this._anchorProp.getValue(e,t)),this._offsetProp&&(this.offset=this._offsetProp.getValue(e,t)),this._paddingProp&&(this.padding=this._paddingProp.getValue(e,t)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(e,t)),this._sizeProp&&(this.size=this._sizeProp.getValue(e,t))}}]),e}(),I=function(){"use strict";function e(t,r,i){var a,o,s,l,u,c,f,p,d,h,y,v;n.default(this,e),this.allowOverlap=t.getLayoutValue("text-allow-overlap",r),this.ignorePlacement=t.getLayoutValue("text-ignore-placement",r),this.keepUpright=t.getLayoutValue("text-keep-upright",r),this.optional=t.getLayoutValue("text-optional",r),this.rotationAlignment=t.getLayoutValue("text-rotation-alignment",r),this.rotationAlignment===m.RotationAlignment.AUTO&&(this.rotationAlignment=i?m.RotationAlignment.MAP:m.RotationAlignment.VIEWPORT),null!=(a=v=t.getLayoutProperty("text-anchor"))&&a.isDataDriven?this._anchorProp=v:this.anchor=t.getLayoutValue("text-anchor",r),null!=(o=v=t.getLayoutProperty("text-justify"))&&o.isDataDriven?this._justifyProp=v:this.justify=t.getLayoutValue("text-justify",r),null!=(s=v=t.getLayoutProperty("text-letter-spacing"))&&s.isDataDriven?this._letterSpacingProp=v:this.letterSpacing=t.getLayoutValue("text-letter-spacing",r),null!=(l=v=t.getLayoutProperty("text-line-height"))&&l.isDataDriven?this._lineHeightProp=v:this.lineHeight=t.getLayoutValue("text-line-height",r),null!=(u=v=t.getLayoutProperty("text-max-angle"))&&u.isDataDriven?this._maxAngleProp=v:this.maxAngle=t.getLayoutValue("text-max-angle",r),null!=(c=v=t.getLayoutProperty("text-max-width"))&&c.isDataDriven?this._maxWidthProp=v:this.maxWidth=t.getLayoutValue("text-max-width",r),null!=(f=v=t.getLayoutProperty("text-offset"))&&f.isDataDriven?this._offsetProp=v:this.offset=t.getLayoutValue("text-offset",r),null!=(p=v=t.getLayoutProperty("text-padding"))&&p.isDataDriven?this._paddingProp=v:this.padding=t.getLayoutValue("text-padding",r),null!=(d=v=t.getLayoutProperty("text-rotate"))&&d.isDataDriven?this._rotateProp=v:this.rotate=t.getLayoutValue("text-rotate",r),null!=(h=v=t.getLayoutProperty("text-size"))&&h.isDataDriven?this._sizeProp=v:this.size=t.getLayoutValue("text-size",r),null!=(y=v=t.getLayoutProperty("text-writing-mode"))&&y.isDataDriven?this._writingModeProp=v:this.writingMode=t.getLayoutValue("text-writing-mode",r)}return i.default(e,[{key:"update",value:function(e,t){this._anchorProp&&(this.anchor=this._anchorProp.getValue(e,t)),this._justifyProp&&(this.justify=this._justifyProp.getValue(e,t)),this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(e,t)),this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(e,t)),this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(e,t)),this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(e,t)),this._offsetProp&&(this.offset=this._offsetProp.getValue(e,t)),this._paddingProp&&(this.padding=this._paddingProp.getValue(e,t)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(e,t)),this._sizeProp&&(this.size=this._sizeProp.getValue(e,t)),this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(e,t))}}]),e}()})),s.register("acBaq",(function(t,r){var n,i,a,o,s,l,u,c,f,p;e(t.exports,"BucketType",(function(){return i})),e(t.exports,"ShaderProgramType",(function(){return o})),e(t.exports,"StyleUpdateType",(function(){return s})),(p=n||(n={}))[p.UNKNOWN=0]="UNKNOWN",p[p.FILL_VERTEX=1]="FILL_VERTEX",p[p.FILL_DD_VERTEX=2]="FILL_DD_VERTEX",p[p.FILL_INDEX=3]="FILL_INDEX",p[p.OUTLINE_VERTEX=4]="OUTLINE_VERTEX",p[p.OUTLINE_DD_VERTEX=5]="OUTLINE_DD_VERTEX",p[p.OUTLINE_INDEX=6]="OUTLINE_INDEX",p[p.LINE_VERTEX=7]="LINE_VERTEX",p[p.LINE_DD_VERTEX=8]="LINE_DD_VERTEX",p[p.LINE_INDEX=9]="LINE_INDEX",p[p.ICON_VERTEX=10]="ICON_VERTEX",p[p.ICON_DD_VERTEX=11]="ICON_DD_VERTEX",p[p.ICON_INDEX=12]="ICON_INDEX",p[p.TEXT_VERTEX=13]="TEXT_VERTEX",p[p.TEXT_DD_VERTEX=14]="TEXT_DD_VERTEX",p[p.TEXT_INDEX=15]="TEXT_INDEX",p[p.CIRCLE_VERTEX=16]="CIRCLE_VERTEX",p[p.CIRCLE_INDEX=17]="CIRCLE_INDEX",(f=i||(i={}))[f.FILL=1]="FILL",f[f.LINE=2]="LINE",f[f.SYMBOL=3]="SYMBOL",f[f.CIRCLE=4]="CIRCLE",(c=a||(a={}))[c.BACKGROUND=0]="BACKGROUND",c[c.OPAQUE=1]="OPAQUE",c[c.TRANSLUCENT=2]="TRANSLUCENT",c[c.SYMBOLS=3]="SYMBOLS",c[c.HITTEST=4]="HITTEST",(u=o||(o={}))[u.BACKGROUND=0]="BACKGROUND",u[u.FILL=1]="FILL",u[u.OUTLINE=2]="OUTLINE",u[u.LINE=3]="LINE",u[u.ICON=4]="ICON",u[u.CIRCLE=5]="CIRCLE",u[u.TEXT=6]="TEXT",u[u.TILEINFO=7]="TILEINFO",(l=s||(s={}))[l.PAINTER_CHANGED=0]="PAINTER_CHANGED",l[l.LAYOUT_CHANGED=1]="LAYOUT_CHANGED",l[l.LAYER_CHANGED=2]="LAYER_CHANGED",l[l.LAYER_REMOVED=3]="LAYER_REMOVED",l[l.SPRITES_CHANGED=4]="SPRITES_CHANGED"})),s.register("cfr1o",(function(t,r){e(t.exports,"VTLBackgroundMaterial",(function(){return f})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("jK9zx"),l=s("gnb6J"),u=s("8JzMA"),c=s("LW1Aq"),f=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){return a.default(this,r),t.call(this,e)}return o.default(r,[{key:"geometryInfo",value:function(){return r.GEOMETRY_LAYOUT}},{key:"opacityInfo",value:function(){return null}},{key:"attributes",value:function(){return r.ATTRIBUTES}},{key:"attributesInfo",value:function(){return r.ATTRIBUTES_INFO}}]),r}(l.VTLMaterial);f.ATTRIBUTES=[],f.GEOMETRY_LAYOUT=[new(0,c.VertexElementDescriptor)("a_pos",2,u.DataType.BYTE,0,2)],f.ATTRIBUTES_INFO={}})),s.register("gnb6J",(function(t,r){e(t.exports,"VTLMaterial",(function(){return h})),s("8TSCy");var n,i=s("f9pi5"),a=s("jK9zx"),o=s("ifq4M"),l=s("aNiFM"),u=s("7qybv"),c=s("hNthI"),f=s("4ln9C"),p=s("8JzMA"),d=s("LW1Aq"),h=function(){"use strict";function e(t){i.default(this,e),this._locations=new Map,this._key=t}return a.default(e,[{key:"key",get:function(){return this._key}},{key:"type",get:function(){return 7&this._key}},{key:"defines",value:function(){return[]}},{key:"getStride",value:function(){return this._layoutInfo||this._buildAttributesInfo(),this._stride}},{key:"getAttributeLocations",value:function(){return 0===this._locations.size&&this._buildAttributesInfo(),this._locations}},{key:"getLayoutInfo",value:function(){return this._layoutInfo||this._buildAttributesInfo(),this._layoutInfo}},{key:"getEncodingInfos",value:function(){return this._propertyEncodingInfo||this._buildAttributesInfo(),this._propertyEncodingInfo}},{key:"getUniforms",value:function(){return this._uniforms||this._buildAttributesInfo(),this._uniforms}},{key:"getShaderHeader",value:function(){return this._shaderHeader||this._buildAttributesInfo(),this._shaderHeader}},{key:"getShaderMain",value:function(){return this._shaderMain||this._buildAttributesInfo(),this._shaderMain}},{key:"setDataUniforms",value:function(e,t,r,n,i){var a=this.getUniforms(),o=!0,s=!1,l=void 0;try{for(var u,c=a[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value,p=f.name,d=f.type,h=(0,f.getValue)(r,t,n,i);if(null!==h)switch(d){case"float":e.setUniform1f(p,h);break;case"vec2":e.setUniform2fv(p,h);break;case"vec4":e.setUniform4fv(p,h)}}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}}},{key:"encodeAttributes",value:function(e,t,r,n){var i=this.attributesInfo(),a=this.getEncodingInfos(),o=[],s=0,l=0,u=!0,c=!1,p=void 0;try{for(var d,h=Object.keys(a)[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var y,v=d.value,m=a[v],g=i[v],b=g.type,_=g.precisionFactor,w=g.isLayout?r.getLayoutProperty(v):r.getPaintProperty(v),x=null==(y=w.interpolator)?void 0:y.getInterpolationRange(t),S=0,k=!0,T=!1,E=void 0;try{for(var I,C=m[Symbol.iterator]();!(k=(I=C.next()).done);k=!0){var O=I.value,L=O.offset,A=O.bufferElementsToAdd;if(A>0){for(var M=0;M<A;M++)o.push(0);s+=l,l=O.bufferElementsToAdd}var N=null!=n?n:w.getValue(x?x[S]:t,e);switch(b){case f.EncodingType.R8_SIGNED:case f.EncodingType.R8_UNSIGNED:o[s]|=this._encodeByte(N*(_||1),8*L);break;case f.EncodingType.R16_SIGNED:case f.EncodingType.R16_UNSIGNED:o[s]|=this._encodeShort(N*(_||1),8*L);break;case f.EncodingType.R8G8_SIGNED:case f.EncodingType.R8G8_UNSIGNED:o[s]|=this._encodeByte(N*(_||1),8*L),o[s]|=this._encodeByte(N*(_||1),8*L+8);break;case f.EncodingType.R16G16_SIGNED:case f.EncodingType.R16G16_UNSIGNED:o[s]|=this._encodeShort(N*(_||1),8*L),o[s]|=this._encodeShort(N*(_||1),8*L+16);break;case f.EncodingType.R8G8B8A8_SIGNED:case f.EncodingType.R8G8B8A8_UNSIGNED:o[s]|=this._encodeByte(N*(_||1),8*L),o[s]|=this._encodeByte(N*(_||1),8*L+8),o[s]|=this._encodeByte(N*(_||1),8*L+16),o[s]|=this._encodeByte(N*(_||1),8*L+24);break;case f.EncodingType.R8G8B8A8_COLOR:o[s]=this._encodeColor(N);break;case f.EncodingType.R16G16B16A16_DASHARRAY:case f.EncodingType.R16G16B16A16_PATTERN:this._encodePattern(s,o,N);break;default:throw new Error("Unsupported encoding type")}S++}}catch(e){T=!0,E=e}finally{try{k||null==C.return||C.return()}finally{if(T)throw E}}}}catch(e){c=!0,p=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw p}}return o}},{key:"getAtributeState",value:function(e){var t=0,r=3+2*e;return t|=this._bit(r),t|=this._bit(r+1)<<1}},{key:"_buildAttributesInfo",value:function(){var t=[],r={},n={},i=-1,a=this.attributesInfo(),o=this.attributes(),s=-1,l=!0,u=!1,c=void 0;try{for(var d,h=o[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var y=d.value;s++;var v=this.getAtributeState(s);if(v!==f.AttributeStatus.UNIFORM&&v!==f.AttributeStatus.UNUSED){var m=a[y],g=[];r[y]=g;for(var b=m.type,_=0;_<v;_++){var w=e._encodingInfo[b],x=w.dataType,S=w.bytesPerElement,k=w.count,T=w.normalized,E=S*k,I=n[x],C=0;if(!I||I.count+k>4)I={dataIndex:++i,count:0,offset:0},4!==k&&(n[x]=I),t.push({location:-1,name:"a_data_"+i,count:k,type:x,normalized:T}),C=Math.ceil(Math.max(E/4,1));else{var O=t[I.dataIndex];O.count+=k,C=Math.ceil(Math.max(O.count*S/4,1))-Math.ceil(Math.max(I.offset/4,1))}g.push({dataIndex:I.dataIndex,offset:I.offset,bufferElementsToAdd:C}),I.offset+=E,I.count+=k}}}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}var L=!0,A=!1,M=void 0;try{for(var N,R=t[Symbol.iterator]();!(L=(N=R.next()).done);L=!0){var P=N.value;switch(P.type){case p.DataType.BYTE:case p.DataType.UNSIGNED_BYTE:P.count=4;case p.DataType.SHORT:case p.DataType.UNSIGNED_SHORT:P.count+=P.count%2}}}catch(e){A=!0,M=e}finally{try{L||null==R.return||R.return()}finally{if(A)throw M}}this._buildVertexBufferLayout(t);var F=0,j=this._layoutInfo.geometry,D=!0,U=!1,V=void 0;try{for(var B,H=j[Symbol.iterator]();!(D=(B=H.next()).done);D=!0){var z=B.value;this._locations.set(z.name,F++)}}catch(e){U=!0,V=e}finally{try{D||null==H.return||H.return()}finally{if(U)throw V}}var W=this._layoutInfo.opacity,G=!0,J=!1,q=void 0;if(W)try{for(var X,K=W[Symbol.iterator]();!(G=(X=K.next()).done);G=!0){var $=X.value;this._locations.set($.name,F++)}}catch(e){J=!0,q=e}finally{try{G||null==K.return||K.return()}finally{if(J)throw q}}this._buildShaderInfo(t,r),this._propertyEncodingInfo=r}},{key:"_buildVertexBufferLayout",value:function(e){var t={},r=this.geometryInfo(),n=r[0].stride;if(0===e.length)t.geometry=r;else{var i=[],a=n,s=!0,l=!1,u=void 0;try{for(var c,f=e[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var p=c.value;n+=y(p.type)*p.count}}catch(e){l=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}var h=!0,v=!1,m=void 0;try{for(var g,b=r[Symbol.iterator]();!(h=(g=b.next()).done);h=!0){var _=g.value,w=o.default({},_);w.stride=n,i.push(w)}}catch(e){v=!0,m=e}finally{try{h||null==b.return||b.return()}finally{if(v)throw m}}var x=!0,S=!1,k=void 0;try{for(var T,E=e[Symbol.iterator]();!(x=(T=E.next()).done);x=!0){var I=T.value;i.push(new(0,d.VertexElementDescriptor)(I.name,I.count,I.type,a,n)),a+=y(I.type)*I.count}}catch(e){S=!0,k=e}finally{try{x||null==E.return||E.return()}finally{if(S)throw k}}t.geometry=i}this.opacityInfo()&&(t.opacity=this.opacityInfo()),this._layoutInfo=t,this._stride=n}},{key:"_buildShaderInfo",value:function(t,r){var n="\n",i="\n",a=[],o=!0,s=!1,l=void 0;try{for(var c,p=t[Symbol.iterator]();!(o=(c=p.next()).done);o=!0){var d=c.value;n+="attribute ".concat(this._getType(d.count)," ").concat(d.name,";\n")}}catch(e){s=!0,l=e}finally{try{o||null==p.return||p.return()}finally{if(s)throw l}}var h=this.attributes(),y=this.attributesInfo(),m=-1,g=!0,b=!1,_=void 0;try{for(var w,x=this,S=function(t,o){var s=o.value;m++;var l=y[s],c=l.name,p=l.type,d=l.precisionFactor,h=l.isLayout,g=d&&1!==d?" * "+1/d:"",b=e._encodingInfo[p],_=b.bytesPerElement,w=b.count,S=function(e){return"a_data_".concat(e.dataIndex).concat(v(w,e.offset,_))};switch(x.getAtributeState(m)){case f.AttributeStatus.UNIFORM:var k=x._getType(w),T="u_".concat(c);a.push({name:T,type:k,getValue:function(e,t,r,n){var i=h?e.getLayoutValue(s,t):e.getPaintValue(s,t);if(p===f.EncodingType.R16G16B16A16_DASHARRAY){var a=e.getDashKey(i,e.getLayoutValue("line-cap",t)),o=n.getMosaicItemPosition(a,!1);if((0,u.isNone)(o))return null;var l=o.tl,c=o.br;return[l[0],c[1],c[0],l[1]]}if(p===f.EncodingType.R16G16B16A16_PATTERN){var d=n.getMosaicItemPosition(i,-1===s.indexOf("line-"));if((0,u.isNone)(d))return null;var y=d.tl,v=d.br;return[y[0],v[1],v[0],y[1]]}if(p===f.EncodingType.R8G8B8A8_COLOR){var m=i[3];return[m*i[0],m*i[1],m*i[2],m]}return i}}),n+="uniform ".concat(k," ").concat(T,";\n"),i+="".concat(k," ").concat(c," = ").concat(T,";\n");break;case f.AttributeStatus.DATA_DRIVEN:var E=S(r[s][0]);i+="".concat(x._getType(w)," ").concat(c," = ").concat(E).concat(g,";\n");break;case f.AttributeStatus.INTERPOLATED_DATA_DRIVEN:var I="u_t_".concat(c);a.push({name:I,type:"float",getValue:function(e,t,r,n){return(h?e.getLayoutProperty(s):e.getPaintProperty(s)).interpolator.interpolationUniformValue(r,t)}}),n+="uniform float ".concat(I,";\n");var C=S(r[s][0]),O=S(r[s][1]);i+="".concat(x._getType(w)," ").concat(c," = mix(").concat(C).concat(g,", ").concat(O).concat(g,", ").concat(I,");\n")}},k=h[Symbol.iterator]();!(g=(w=k.next()).done);g=!0)S(0,w)}catch(e){b=!0,_=e}finally{try{g||null==k.return||k.return()}finally{if(b)throw _}}this._shaderHeader=n,this._shaderMain=i,this._uniforms=a}},{key:"_bit",value:function(e){return(this._key&1<<e)>>e}},{key:"_getType",value:function(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw new Error("Invalid count")}},{key:"_encodeColor",value:function(e){var t=255*e[3];return c.default.i8888to32(e[0]*t,e[1]*t,e[2]*t,t)}},{key:"_encodePattern",value:function(e,t,r){if(r&&r.rect){var n=r.rect,i=r.width,a=r.height;t[e]=this._encodeShort(n.x+2,0),t[e]|=this._encodeShort(n.y+2+a,16),t[e+1]=this._encodeShort(n.x+2+i,0),t[e+1]|=this._encodeShort(n.y+2,16)}}},{key:"_encodeByte",value:function(e,t){return(255&e)<<t}},{key:"_encodeShort",value:function(e,t){return(65535&e)<<t}}]),e}();h._encodingInfo=(n={},l.default(n,f.EncodingType.R8_SIGNED,{dataType:p.DataType.BYTE,bytesPerElement:1,count:1,normalized:!1}),l.default(n,f.EncodingType.R8_UNSIGNED,{dataType:p.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:1,normalized:!1}),l.default(n,f.EncodingType.R16_SIGNED,{dataType:p.DataType.SHORT,bytesPerElement:2,count:1,normalized:!1}),l.default(n,f.EncodingType.R16_UNSIGNED,{dataType:p.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:1,normalized:!1}),l.default(n,f.EncodingType.R8G8_SIGNED,{dataType:p.DataType.BYTE,bytesPerElement:1,count:2,normalized:!1}),l.default(n,f.EncodingType.R8G8_UNSIGNED,{dataType:p.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:2,normalized:!1}),l.default(n,f.EncodingType.R16G16_SIGNED,{dataType:p.DataType.SHORT,bytesPerElement:2,count:2,normalized:!1}),l.default(n,f.EncodingType.R16G16_UNSIGNED,{dataType:p.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:2,normalized:!1}),l.default(n,f.EncodingType.R8G8B8A8_SIGNED,{dataType:p.DataType.BYTE,bytesPerElement:1,count:4,normalized:!1}),l.default(n,f.EncodingType.R8G8B8A8_UNSIGNED,{dataType:p.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!1}),l.default(n,f.EncodingType.R8G8B8A8_COLOR,{dataType:p.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!0}),l.default(n,f.EncodingType.R16G16B16A16_DASHARRAY,{dataType:p.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}),l.default(n,f.EncodingType.R16G16B16A16_PATTERN,{dataType:p.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}),n);var y=function(e){switch(e){case p.DataType.FLOAT:case p.DataType.INT:case p.DataType.UNSIGNED_INT:return 4;case p.DataType.SHORT:case p.DataType.UNSIGNED_SHORT:return 2;case p.DataType.BYTE:case p.DataType.UNSIGNED_BYTE:return 1}},v=function(e,t,r){var n=t/r;if(1===e)switch(n){case 0:return".x";case 1:return".y";case 2:return".z";case 3:return".w"}else if(2===e)switch(n){case 0:return".xy";case 1:return".yz";case 2:return".zw"}else if(3===e)switch(n){case 0:return".xyz";case 1:return".yzw"}return""}})),s.register("hNthI",(function(t,r){e(t.exports,"default",(function(){return a})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=function(){"use strict";function e(t){n.default(this,e),this._array=[],t<=0&&console.error("strideInBytes must be positive!"),this._stride=t}return i.default(e,[{key:"array",get:function(){return this._array}},{key:"index",get:function(){return 4*this._array.length/this._stride}},{key:"itemSize",get:function(){return this._stride}},{key:"sizeInBytes",get:function(){return 4*this._array.length}},{key:"reset",value:function(){this.array.length=0}},{key:"toBuffer",value:function(){return new Uint32Array(this._array).buffer}}],[{key:"i1616to32",value:function(e,t){return 65535&e|t<<16}},{key:"i8888to32",value:function(e,t,r,n){return 255&e|(255&t)<<8|(255&r)<<16|n<<24}},{key:"i8816to32",value:function(e,t,r){return 255&e|(255&t)<<8|r<<16}}]),e}()})),s.register("4ln9C",(function(t,r){var n,i,a,o;e(t.exports,"EncodingType",(function(){return n})),e(t.exports,"AttributeStatus",(function(){return i})),(o=n||(n={}))[o.R8_SIGNED=0]="R8_SIGNED",o[o.R8_UNSIGNED=1]="R8_UNSIGNED",o[o.R16_SIGNED=2]="R16_SIGNED",o[o.R16_UNSIGNED=3]="R16_UNSIGNED",o[o.R8G8_SIGNED=4]="R8G8_SIGNED",o[o.R8G8_UNSIGNED=5]="R8G8_UNSIGNED",o[o.R16G16_SIGNED=6]="R16G16_SIGNED",o[o.R16G16_UNSIGNED=7]="R16G16_UNSIGNED",o[o.R8G8B8A8_SIGNED=8]="R8G8B8A8_SIGNED",o[o.R8G8B8A8_UNSIGNED=9]="R8G8B8A8_UNSIGNED",o[o.R8G8B8A8_COLOR=10]="R8G8B8A8_COLOR",o[o.R16G16B16A16_DASHARRAY=11]="R16G16B16A16_DASHARRAY",o[o.R16G16B16A16_PATTERN=12]="R16G16B16A16_PATTERN",(a=i||(i={}))[a.UNIFORM=0]="UNIFORM",a[a.DATA_DRIVEN=1]="DATA_DRIVEN",a[a.INTERPOLATED_DATA_DRIVEN=2]="INTERPOLATED_DATA_DRIVEN",a[a.UNUSED=3]="UNUSED"})),s.register("8JzMA",(function(t,r){var n,i,a,o,s,l,u,c,f,p,d,h,y,v,m,g,b,_,w,x,S,k,T,E,I,C,O,L,A,M,N,R,P,F,j,D,U,V,B,H,z,W,G,J;e(t.exports,"ClearBufferBit",(function(){return n})),e(t.exports,"PrimitiveType",(function(){return i})),e(t.exports,"BlendFactor",(function(){return a})),e(t.exports,"BlendOperation",(function(){return o})),e(t.exports,"BufferType",(function(){return s})),e(t.exports,"Face",(function(){return l})),e(t.exports,"CullMode",(function(){return u})),e(t.exports,"DataType",(function(){return c})),e(t.exports,"CompareFunction",(function(){return f})),e(t.exports,"StencilOperation",(function(){return p})),e(t.exports,"TextureSamplingMode",(function(){return d})),e(t.exports,"TextureWrapMode",(function(){return h})),e(t.exports,"TextureType",(function(){return y})),e(t.exports,"PixelFormat",(function(){return v})),e(t.exports,"SizedPixelFormat",(function(){return m})),e(t.exports,"PixelType",(function(){return g})),e(t.exports,"RenderbufferFormat",(function(){return b})),e(t.exports,"Usage",(function(){return _})),e(t.exports,"ShaderType",(function(){return w})),e(t.exports,"FramebufferTarget",(function(){return x})),e(t.exports,"TargetType",(function(){return S})),e(t.exports,"DepthStencilTargetType",(function(){return k})),e(t.exports,"BASE_TEXTURE_UNIT",(function(){return Y})),e(t.exports,"ResourceType",(function(){return q})),e(t.exports,"ColorAttachment",(function(){return X})),e(t.exports,"DepthStencilAttachment",(function(){return pe})),e(t.exports,"CompressedTextureFormat",(function(){return Z})),e(t.exports,"UniformType",(function(){return Q})),e(t.exports,"ClientWaitSyncStatus",(function(){return re})),e(t.exports,"SyncCondition",(function(){return ne})),(J=n||(n={}))[J.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",J[J.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",J[J.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",(G=i||(i={}))[G.POINTS=0]="POINTS",G[G.LINES=1]="LINES",G[G.LINE_LOOP=2]="LINE_LOOP",G[G.LINE_STRIP=3]="LINE_STRIP",G[G.TRIANGLES=4]="TRIANGLES",G[G.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",G[G.TRIANGLE_FAN=6]="TRIANGLE_FAN",(W=a||(a={}))[W.ZERO=0]="ZERO",W[W.ONE=1]="ONE",W[W.SRC_COLOR=768]="SRC_COLOR",W[W.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",W[W.SRC_ALPHA=770]="SRC_ALPHA",W[W.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",W[W.DST_ALPHA=772]="DST_ALPHA",W[W.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",W[W.DST_COLOR=774]="DST_COLOR",W[W.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",W[W.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",W[W.CONSTANT_COLOR=32769]="CONSTANT_COLOR",W[W.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",W[W.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",W[W.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",(z=o||(o={}))[z.ADD=32774]="ADD",z[z.SUBTRACT=32778]="SUBTRACT",z[z.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT",(H=s||(s={}))[H.ARRAY_BUFFER=34962]="ARRAY_BUFFER",H[H.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",H[H.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",H[H.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",H[H.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",H[H.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",H[H.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",(B=l||(l={}))[B.FRONT=1028]="FRONT",B[B.BACK=1029]="BACK",B[B.FRONT_AND_BACK=1032]="FRONT_AND_BACK",(V=u||(u={}))[V.CW=2304]="CW",V[V.CCW=2305]="CCW",(U=c||(c={}))[U.BYTE=5120]="BYTE",U[U.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",U[U.SHORT=5122]="SHORT",U[U.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",U[U.INT=5124]="INT",U[U.UNSIGNED_INT=5125]="UNSIGNED_INT",U[U.FLOAT=5126]="FLOAT",(D=f||(f={}))[D.NEVER=512]="NEVER",D[D.LESS=513]="LESS",D[D.EQUAL=514]="EQUAL",D[D.LEQUAL=515]="LEQUAL",D[D.GREATER=516]="GREATER",D[D.NOTEQUAL=517]="NOTEQUAL",D[D.GEQUAL=518]="GEQUAL",D[D.ALWAYS=519]="ALWAYS",(j=p||(p={}))[j.ZERO=0]="ZERO",j[j.KEEP=7680]="KEEP",j[j.REPLACE=7681]="REPLACE",j[j.INCR=7682]="INCR",j[j.DECR=7683]="DECR",j[j.INVERT=5386]="INVERT",j[j.INCR_WRAP=34055]="INCR_WRAP",j[j.DECR_WRAP=34056]="DECR_WRAP",(F=d||(d={}))[F.NEAREST=9728]="NEAREST",F[F.LINEAR=9729]="LINEAR",F[F.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",F[F.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",F[F.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",F[F.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",(P=h||(h={}))[P.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",P[P.REPEAT=10497]="REPEAT",P[P.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(R=y||(y={}))[R.TEXTURE_2D=3553]="TEXTURE_2D",R[R.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",R[R.TEXTURE_3D=32879]="TEXTURE_3D",R[R.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",R[R.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",R[R.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",R[R.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",R[R.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",R[R.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",R[R.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",(N=v||(v={}))[N.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",N[N.DEPTH_STENCIL=34041]="DEPTH_STENCIL",N[N.ALPHA=6406]="ALPHA",N[N.RGB=6407]="RGB",N[N.RGBA=6408]="RGBA",N[N.LUMINANCE=6409]="LUMINANCE",N[N.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",N[N.RED=6403]="RED",N[N.RG=33319]="RG",N[N.RED_INTEGER=36244]="RED_INTEGER",N[N.RG_INTEGER=33320]="RG_INTEGER",N[N.RGB_INTEGER=36248]="RGB_INTEGER",N[N.RGBA_INTEGER=36249]="RGBA_INTEGER",(M=m||(m={}))[M.RGBA4=32854]="RGBA4",M[M.R16F=33325]="R16F",M[M.RG16F=33327]="RG16F",M[M.RGB32F=34837]="RGB32F",M[M.RGBA16F=34842]="RGBA16F",M[M.R32F=33326]="R32F",M[M.RG32F=33328]="RG32F",M[M.RGBA32F=34836]="RGBA32F",M[M.R11F_G11F_B10F=35898]="R11F_G11F_B10F",M[M.RGB8=32849]="RGB8",M[M.RGBA8=32856]="RGBA8",M[M.RGB5_A1=32855]="RGB5_A1",M[M.R8=33321]="R8",M[M.RG8=33323]="RG8",M[M.R8I=33329]="R8I",M[M.R8UI=33330]="R8UI",M[M.R16I=33331]="R16I",M[M.R16UI=33332]="R16UI",M[M.R32I=33333]="R32I",M[M.R32UI=33334]="R32UI",M[M.RG8I=33335]="RG8I",M[M.RG8UI=33336]="RG8UI",M[M.RG16I=33337]="RG16I",M[M.RG16UI=33338]="RG16UI",M[M.RG32I=33339]="RG32I",M[M.RG32UI=33340]="RG32UI",M[M.RGB16F=34843]="RGB16F",M[M.RGB9_E5=35901]="RGB9_E5",M[M.SRGB8=35905]="SRGB8",M[M.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",M[M.RGB565=36194]="RGB565",M[M.RGBA32UI=36208]="RGBA32UI",M[M.RGB32UI=36209]="RGB32UI",M[M.RGBA16UI=36214]="RGBA16UI",M[M.RGB16UI=36215]="RGB16UI",M[M.RGBA8UI=36220]="RGBA8UI",M[M.RGB8UI=36221]="RGB8UI",M[M.RGBA32I=36226]="RGBA32I",M[M.RGB32I=36227]="RGB32I",M[M.RGBA16I=36232]="RGBA16I",M[M.RGB16I=36233]="RGB16I",M[M.RGBA8I=36238]="RGBA8I",M[M.RGB8I=36239]="RGB8I",M[M.R8_SNORM=36756]="R8_SNORM",M[M.RG8_SNORM=36757]="RG8_SNORM",M[M.RGB8_SNORM=36758]="RGB8_SNORM",M[M.RGBA8_SNORM=36759]="RGBA8_SNORM",M[M.RGB10_A2=32857]="RGB10_A2",M[M.RGB10_A2UI=36975]="RGB10_A2UI",(A=g||(g={}))[A.FLOAT=5126]="FLOAT",A[A.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",A[A.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",A[A.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",A[A.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",A[A.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",A[A.BYTE=5120]="BYTE",A[A.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",A[A.SHORT=5122]="SHORT",A[A.UNSIGNED_INT=5125]="UNSIGNED_INT",A[A.INT=5124]="INT",A[A.HALF_FLOAT=5131]="HALF_FLOAT",A[A.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",A[A.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",A[A.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",A[A.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",(L=b||(b={}))[L.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",L[L.STENCIL_INDEX8=36168]="STENCIL_INDEX8",L[L.DEPTH_STENCIL=34041]="DEPTH_STENCIL",L[L.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",L[L.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",L[L.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",L[L.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",(O=_||(_={}))[O.STATIC_DRAW=35044]="STATIC_DRAW",O[O.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",O[O.STREAM_DRAW=35040]="STREAM_DRAW",O[O.STATIC_READ=35045]="STATIC_READ",O[O.DYNAMIC_READ=35049]="DYNAMIC_READ",O[O.STREAM_READ=35041]="STREAM_READ",O[O.STATIC_COPY=35046]="STATIC_COPY",O[O.DYNAMIC_COPY=35050]="DYNAMIC_COPY",O[O.STREAM_COPY=35042]="STREAM_COPY",(C=w||(w={}))[C.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",C[C.VERTEX_SHADER=35633]="VERTEX_SHADER",(I=x||(x={}))[I.FRAMEBUFFER=36160]="FRAMEBUFFER",I[I.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",I[I.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",(E=S||(S={}))[E.TEXTURE=0]="TEXTURE",E[E.RENDER_BUFFER=1]="RENDER_BUFFER",E[E.CUBEMAP=2]="CUBEMAP",(T=k||(k={}))[T.NONE=0]="NONE",T[T.DEPTH_RENDER_BUFFER=1]="DEPTH_RENDER_BUFFER",T[T.STENCIL_RENDER_BUFFER=2]="STENCIL_RENDER_BUFFER",T[T.DEPTH_STENCIL_RENDER_BUFFER=3]="DEPTH_STENCIL_RENDER_BUFFER",T[T.DEPTH_STENCIL_TEXTURE=4]="DEPTH_STENCIL_TEXTURE";var q,X,K,$,Y=33984;($=q||(q={}))[$.Texture=0]="Texture",$[$.Buffer=1]="Buffer",$[$.VAO=2]="VAO",$[$.Shader=3]="Shader",$[$.Program=4]="Program",$[$.Framebuffer=5]="Framebuffer",$[$.Renderbuffer=6]="Renderbuffer",$[$.Sync=7]="Sync",$[$.COUNT=8]="COUNT",(K=X||(X={}))[K.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",K[K.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",K[K.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",K[K.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",K[K.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",K[K.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",K[K.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",K[K.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",K[K.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",K[K.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",K[K.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",K[K.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",K[K.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",K[K.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",K[K.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",K[K.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15";var Z,Q,ee,te,re,ne,ie,ae,oe,se,le,ue,ce,fe,pe=33306;(fe=Z||(Z={}))[fe.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",fe[fe.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",fe[fe.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",fe[fe.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",fe[fe.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",fe[fe.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",fe[fe.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",fe[fe.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",fe[fe.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",fe[fe.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",fe[fe.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",fe[fe.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",fe[fe.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",fe[fe.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",(ce=Q||(Q={}))[ce.FLOAT=5126]="FLOAT",ce[ce.FLOAT_VEC2=35664]="FLOAT_VEC2",ce[ce.FLOAT_VEC3=35665]="FLOAT_VEC3",ce[ce.FLOAT_VEC4=35666]="FLOAT_VEC4",ce[ce.INT=5124]="INT",ce[ce.INT_VEC2=35667]="INT_VEC2",ce[ce.INT_VEC3=35668]="INT_VEC3",ce[ce.INT_VEC4=35669]="INT_VEC4",ce[ce.BOOL=35670]="BOOL",ce[ce.BOOL_VEC2=35671]="BOOL_VEC2",ce[ce.BOOL_VEC3=35672]="BOOL_VEC3",ce[ce.BOOL_VEC4=35673]="BOOL_VEC4",ce[ce.FLOAT_MAT2=35674]="FLOAT_MAT2",ce[ce.FLOAT_MAT3=35675]="FLOAT_MAT3",ce[ce.FLOAT_MAT4=35676]="FLOAT_MAT4",ce[ce.SAMPLER_2D=35678]="SAMPLER_2D",ce[ce.SAMPLER_CUBE=35680]="SAMPLER_CUBE",ce[ce.UNSIGNED_INT=5125]="UNSIGNED_INT",ce[ce.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",ce[ce.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",ce[ce.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",ce[ce.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",ce[ce.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",ce[ce.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",ce[ce.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",ce[ce.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",ce[ce.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",ce[ce.SAMPLER_3D=35679]="SAMPLER_3D",ce[ce.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",ce[ce.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",ce[ce.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",ce[ce.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",ce[ce.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",ce[ce.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",ce[ce.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",ce[ce.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",ce[ce.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",ce[ce.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",ce[ce.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",ce[ce.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",(ue=ee||(ee={}))[ue.OBJECT_TYPE=37138]="OBJECT_TYPE",ue[ue.SYNC_CONDITION=37139]="SYNC_CONDITION",ue[ue.SYNC_STATUS=37140]="SYNC_STATUS",ue[ue.SYNC_FLAGS=37141]="SYNC_FLAGS",(le=te||(te={}))[le.UNSIGNALED=37144]="UNSIGNALED",le[le.SIGNALED=37145]="SIGNALED",(se=re||(re={}))[se.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",se[se.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",se[se.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",se[se.WAIT_FAILED=37149]="WAIT_FAILED",(oe=ne||(ne={}))[oe.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",(ae=ie||(ie={}))[ae.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"})),s.register("LW1Aq",(function(t,r){e(t.exports,"VertexElementDescriptor",(function(){return i})),s("8TSCy");var n=s("f9pi5"),i=function e(t,r,i,a,o){"use strict";var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;n.default(this,e),this.name=t,this.count=r,this.type=i,this.offset=a,this.stride=o,this.normalized=s,this.divisor=l}})),s.register("1D3GE",(function(t,r){e(t.exports,"VTLCircleMaterial",(function(){return p})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("jK9zx"),l=s("4ln9C"),u=s("gnb6J"),c=s("8JzMA"),f=s("LW1Aq"),p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){return a.default(this,r),t.call(this,e)}return o.default(r,[{key:"geometryInfo",value:function(){return r.GEOMETRY_LAYOUT}},{key:"opacityInfo",value:function(){return null}},{key:"attributes",value:function(){return r.ATTRIBUTES}},{key:"attributesInfo",value:function(){return r.ATTRIBUTES_INFO}}]),r}(u.VTLMaterial);p.ATTRIBUTES=["circle-radius","circle-color","circle-opacity","circle-stroke-width","circle-stroke-color","circle-stroke-opacity","circle-blur"],p.GEOMETRY_LAYOUT=[new(0,f.VertexElementDescriptor)("a_pos",2,c.DataType.SHORT,0,4)],p.ATTRIBUTES_INFO={"circle-radius":{name:"radius",type:l.EncodingType.R8_UNSIGNED},"circle-color":{name:"color",type:l.EncodingType.R8G8B8A8_COLOR},"circle-opacity":{name:"opacity",type:l.EncodingType.R8_UNSIGNED,precisionFactor:100},"circle-stroke-width":{name:"stroke_width",type:l.EncodingType.R8_UNSIGNED,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:l.EncodingType.R8G8B8A8_COLOR},"circle-stroke-opacity":{name:"stroke_opacity",type:l.EncodingType.R8_UNSIGNED,precisionFactor:100},"circle-blur":{name:"blur",type:l.EncodingType.R8_UNSIGNED,precisionFactor:32}}})),s.register("14JdJ",(function(t,r){e(t.exports,"VTLFillMaterial",(function(){return d})),e(t.exports,"VTLOutlineMaterial",(function(){return h})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("jK9zx"),l=s("bFSSc"),u=s("4ln9C"),c=s("gnb6J"),f=s("8JzMA"),p=s("LW1Aq"),d=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){return a.default(this,r),t.call(this,e)}return o.default(r,[{key:"geometryInfo",value:function(){return r.GEOMETRY_LAYOUT}},{key:"opacityInfo",value:function(){return null}},{key:"attributes",value:function(){return r.ATTRIBUTES}},{key:"attributesInfo",value:function(){return r.ATTRIBUTES_INFO}}]),r}(c.VTLMaterial);d.ATTRIBUTES=["fill-color","fill-opacity","fill-pattern"],d.GEOMETRY_LAYOUT=[new(0,p.VertexElementDescriptor)("a_pos",2,f.DataType.SHORT,0,4)],d.ATTRIBUTES_INFO={"fill-color":{name:"color",type:u.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:u.EncodingType.R8_UNSIGNED,precisionFactor:100},"fill-pattern":{name:"tlbr",type:u.EncodingType.R16G16B16A16_PATTERN,isOptional:!0}};var h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e,n){var i;return a.default(this,r),(i=t.call(this,e)).usefillColor=n,l.default(i)}return o.default(r,[{key:"geometryInfo",value:function(){return r.GEOMETRY_LAYOUT}},{key:"opacityInfo",value:function(){return null}},{key:"attributes",value:function(){return this.usefillColor?r.ATTRIBUTES_FILL:r.ATTRIBUTES_OUTLINE}},{key:"attributesInfo",value:function(){return this.usefillColor?r.ATTRIBUTES_INFO_FILL:r.ATTRIBUTES_INFO_OUTLINE}}]),r}(c.VTLMaterial);h.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"],h.ATTRIBUTES_FILL=["fill-color","fill-opacity"],h.GEOMETRY_LAYOUT=[new(0,p.VertexElementDescriptor)("a_pos",2,f.DataType.SHORT,0,8),new(0,p.VertexElementDescriptor)("a_offset",2,f.DataType.BYTE,4,8),new(0,p.VertexElementDescriptor)("a_xnormal",2,f.DataType.BYTE,6,8)],h.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",type:u.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:u.EncodingType.R8_UNSIGNED,precisionFactor:100}},h.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:u.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:u.EncodingType.R8_UNSIGNED,precisionFactor:100}}})),s.register("2BLQE",(function(t,r){e(t.exports,"VTLLineMaterial",(function(){return p})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("jK9zx"),l=s("4ln9C"),u=s("gnb6J"),c=s("8JzMA"),f=s("LW1Aq"),p=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){return a.default(this,r),t.call(this,e)}return o.default(r,[{key:"geometryInfo",value:function(){return r.GEOMETRY_LAYOUT}},{key:"opacityInfo",value:function(){return null}},{key:"attributes",value:function(){return r.ATTRIBUTES}},{key:"attributesInfo",value:function(){return r.ATTRIBUTES_INFO}}]),r}(u.VTLMaterial);p.ATTRIBUTES=["line-blur","line-color","line-gap-width","line-offset","line-opacity","line-width","line-pattern","line-dasharray"],p.GEOMETRY_LAYOUT=[new(0,f.VertexElementDescriptor)("a_pos",2,c.DataType.SHORT,0,16),new(0,f.VertexElementDescriptor)("a_extrude_offset",4,c.DataType.BYTE,4,16),new(0,f.VertexElementDescriptor)("a_dir_normal",4,c.DataType.BYTE,8,16),new(0,f.VertexElementDescriptor)("a_accumulatedDistance",2,c.DataType.UNSIGNED_SHORT,12,16)],p.ATTRIBUTES_INFO={"line-width":{name:"width",type:l.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-gap-width":{name:"gap_width",type:l.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-offset":{name:"offset",type:l.EncodingType.R8_SIGNED,precisionFactor:2},"line-color":{name:"color",type:l.EncodingType.R8G8B8A8_COLOR},"line-opacity":{name:"opacity",type:l.EncodingType.R8_UNSIGNED,precisionFactor:100},"line-blur":{name:"blur",type:l.EncodingType.R8_UNSIGNED,precisionFactor:4},"line-pattern":{name:"tlbr",type:l.EncodingType.R16G16B16A16_PATTERN,isOptional:!0},"line-dasharray":{name:"tlbr",type:l.EncodingType.R16G16B16A16_DASHARRAY,isOptional:!0}}})),s.register("jsw2J",(function(t,r){e(t.exports,"VTLIconMaterial",(function(){return h})),e(t.exports,"VTLTextMaterial",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("jK9zx"),l=s("4ln9C"),u=s("gnb6J"),c=s("8JzMA"),f=s("LW1Aq"),p=[new(0,f.VertexElementDescriptor)("a_pos",2,c.DataType.SHORT,0,16),new(0,f.VertexElementDescriptor)("a_vertexOffset",2,c.DataType.SHORT,4,16),new(0,f.VertexElementDescriptor)("a_texAngleRange",4,c.DataType.UNSIGNED_BYTE,8,16),new(0,f.VertexElementDescriptor)("a_levelInfo",4,c.DataType.UNSIGNED_BYTE,12,16)],d=[new(0,f.VertexElementDescriptor)("a_opacityInfo",1,c.DataType.UNSIGNED_BYTE,0,1)],h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){return a.default(this,r),t.call(this,e)}return o.default(r,[{key:"geometryInfo",value:function(){return p}},{key:"opacityInfo",value:function(){return d}},{key:"attributes",value:function(){return r.ATTRIBUTES}},{key:"attributesInfo",value:function(){return r.ATTRIBUTES_INFO}}]),r}(u.VTLMaterial);h.ATTRIBUTES=["icon-color","icon-opacity","icon-halo-blur","icon-halo-color","icon-halo-width","icon-size"],h.ATTRIBUTES_INFO={"icon-color":{name:"color",type:l.EncodingType.R8G8B8A8_COLOR},"icon-opacity":{name:"opacity",type:l.EncodingType.R8_UNSIGNED,precisionFactor:100},"icon-halo-color":{name:"halo_color",type:l.EncodingType.R8G8B8A8_COLOR},"icon-halo-width":{name:"halo_width",type:l.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:l.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-size":{name:"size",type:l.EncodingType.R8_UNSIGNED,precisionFactor:32,isLayout:!0}};var y=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){return a.default(this,r),t.call(this,e)}return o.default(r,[{key:"geometryInfo",value:function(){return p}},{key:"opacityInfo",value:function(){return d}},{key:"attributes",value:function(){return r.ATTRIBUTES}},{key:"attributesInfo",value:function(){return r.ATTRIBUTES_INFO}}]),r}(u.VTLMaterial);y.ATTRIBUTES=["text-color","text-opacity","text-halo-blur","text-halo-color","text-halo-width","text-size"],y.ATTRIBUTES_INFO={"text-color":{name:"color",type:l.EncodingType.R8G8B8A8_COLOR},"text-opacity":{name:"opacity",type:l.EncodingType.R8_UNSIGNED,precisionFactor:100},"text-halo-color":{name:"halo_color",type:l.EncodingType.R8G8B8A8_COLOR},"text-halo-width":{name:"halo_width",type:l.EncodingType.R8_UNSIGNED,precisionFactor:4},"text-halo-blur":{name:"halo_blur",type:l.EncodingType.R8_UNSIGNED,precisionFactor:4},"text-size":{name:"size",type:l.EncodingType.R8_UNSIGNED,isLayout:!0}}})),s.register("f1jQs",(function(t,r){e(t.exports,"default",(function(){return l})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("dMSmY"),o=s("7oiXL"),l=function(){"use strict";function e(t){n.default(this,e),this._expression=t}return i.default(e,[{key:"filter",value:function(e,t){if(!this._expression)return!0;try{return this._expression.evaluate(e,t)}catch(e){return console.log(e.message),!0}}}],[{key:"createFilter",value:function(t){if(!t)return null;this.isLegacyFilter(t)&&(t=this.convertLegacyFilter(t));try{return new e((0,a.createExpression)(t,null,o.BooleanType))}catch(e){return console.log(e.message),null}}},{key:"isLegacyFilter",value:function(e){if(!Array.isArray(e))return!0;if(0===e.length)return!0;switch(e[0]){case"==":case"!=":case">":case"<":case">=":case"<=":return 3===e.length&&"string"==typeof e[1]&&!Array.isArray(e[2]);case"in":return e.length>=3&&"string"==typeof e[1]&&!Array.isArray(e[2]);case"!in":case"none":case"!has":return!0;case"any":case"all":for(var t=1;t<e.length;t++)if(!this.isLegacyFilter(e[1]))return!1;return!0;case"has":return 2===e.length&&("$id"===e[1]||"$type"===e[1]);default:return!1}}},{key:"convertLegacyFilter",value:function(t){if(!Array.isArray(t)||0===t.length)return!0;var r=t[0];if(1===t.length)return"any"!==r;switch(r){case"==":return e.convertComparison("==",t[1],t[2]);case"!=":return e.negate(e.convertComparison("==",t[1],t[2]));case">":case"<":case">=":case"<=":return e.convertComparison(r,t[1],t[2]);case"in":return e.convertIn(t[1],t.slice(2));case"!in":return e.negate(e.convertIn(t[1],t.slice(2)));case"any":case"all":case"none":return e.convertCombining(r,t.slice(1));case"has":return e.convertHas(t[1]);case"!has":return e.negate(e.convertHas(t[1]));default:throw new Error("Unexpected legacy filter.")}}},{key:"convertComparison",value:function(e,t,r){switch(t){case"$type":return[e,["geometry-type"],r];case"$id":return[e,["id"],r];default:return[e,["get",t],r]}}},{key:"convertIn",value:function(e,t){switch(e){case"$type":return["in",["geometry-type"],["literal",t]];case"$id":return["in",["id"],["literal",t]];default:return["in",["get",e],["literal",t]]}}},{key:"convertHas",value:function(e){switch(e){case"$type":return!0;case"$id":return["has-id"];default:return["has",e]}}},{key:"convertCombining",value:function(e,t){return[e].concat(t.map(this.convertLegacyFilter))}},{key:"negate",value:function(e){return["!",e]}}]),e}()})),s.register("dMSmY",(function(t,r){e(t.exports,"Zoom",(function(){return S})),e(t.exports,"createExpression",(function(){return fe})),e(t.exports,"Interpolate",(function(){return D})),e(t.exports,"ops",(function(){return pe})),s("8TSCy");var n,i,a=s("f9pi5"),o=s("jK9zx"),l=s("g9uIT"),u=s("dap1g"),c=s("kswSi"),f=s("ifq4M"),p=s("5Vgx8"),d=s("jgs9n"),h=s("5xAFh"),y=s("d7O05"),v=s("7P6eh"),m=s("7oiXL"),g=s("ljf2P"),b=function(){"use strict";function e(t){a.default(this,e),this.parent=t,this.vars={}}return o.default(e,[{key:"add",value:function(e,t){this.vars[e]=t}},{key:"get",value:function(e){return this.vars[e]?this.vars[e]:this.parent?this.parent.get(e):null}}]),e}(),_=function(){"use strict";function e(){a.default(this,e),this.type=m.ValueType}return o.default(e,[{key:"evaluate",value:function(e,t){return null==e?void 0:e.id}}],[{key:"parse",value:function(t){if(t.length>1)throw new Error('"id" does not expect arguments');return new e}}]),e}(),w=function(){"use strict";function e(){a.default(this,e),this.type=m.StringType}return o.default(e,[{key:"evaluate",value:function(e,t){if(!e)return null;switch(e.type){case g.GeometryType.Point:return"Point";case g.GeometryType.LineString:return"LineString";case g.GeometryType.Polygon:return"Polygon";default:return null}}}],[{key:"parse",value:function(t){if(t.length>1)throw new Error('"geometry-type" does not expect arguments');return new e}}]),e}(),x=function(){"use strict";function e(){a.default(this,e),this.type=m.ObjectType}return o.default(e,[{key:"evaluate",value:function(e,t){return null==e?void 0:e.values}}],[{key:"parse",value:function(t){if(t.length>1)throw new Error('"properties" does not expect arguments');return new e}}]),e}(),S=function(){"use strict";function e(){a.default(this,e),this.type=m.NumberType}return o.default(e,[{key:"evaluate",value:function(e,t){return t}}],[{key:"parse",value:function(t){if(t.length>1)throw new Error('"zoom" does not expect arguments');return new e}}]),e}(),k=function(){"use strict";function e(t,r,n){a.default(this,e),this.lhs=t,this.rhs=r,this.compare=n,this.type=m.BooleanType}return o.default(e,[{key:"evaluate",value:function(e,t){return this.compare(this.lhs.evaluate(e,t),this.rhs.evaluate(e,t))}}],[{key:"parse",value:function(t,r,n){if(3!==t.length&&4!==t.length)throw new Error('"'.concat(t[0],'" expects 2 or 3 arguments'));if(4===t.length)throw new Error('"'.concat(t[0],'" collator not supported'));return new e(fe(t[1],r),fe(t[2],r),n)}}]),e}(),T=function(e){"use strict";l.default(r,e);var t=u.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,null,[{key:"parse",value:function(e,t){return k.parse(e,t,(function(e,t){return e===t}))}}]),r}(k),E=function(e){"use strict";l.default(r,e);var t=u.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,null,[{key:"parse",value:function(e,t){return k.parse(e,t,(function(e,t){return e!==t}))}}]),r}(k),I=function(e){"use strict";l.default(r,e);var t=u.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,null,[{key:"parse",value:function(e,t){return k.parse(e,t,(function(e,t){return e<t}))}}]),r}(k),C=function(e){"use strict";l.default(r,e);var t=u.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,null,[{key:"parse",value:function(e,t){return k.parse(e,t,(function(e,t){return e<=t}))}}]),r}(k),O=function(e){"use strict";l.default(r,e);var t=u.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,null,[{key:"parse",value:function(e,t){return k.parse(e,t,(function(e,t){return e>t}))}}]),r}(k),L=function(e){"use strict";l.default(r,e);var t=u.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,null,[{key:"parse",value:function(e,t){return k.parse(e,t,(function(e,t){return e>=t}))}}]),r}(k),A=function(){"use strict";function e(t){a.default(this,e),this.arg=t,this.type=m.BooleanType}return o.default(e,[{key:"evaluate",value:function(e,t){return!this.arg.evaluate(e,t)}}],[{key:"parse",value:function(t,r){if(2!==t.length)throw new Error('"!" expects 1 argument');return new e(fe(t[1],r))}}]),e}(),M=function(){"use strict";function e(t){a.default(this,e),this.args=t,this.type=m.BooleanType}return o.default(e,[{key:"evaluate",value:function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=this.args[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){if(!a.value.evaluate(e,t))return!1}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return!0}}],[{key:"parse",value:function(t,r){for(var n=[],i=1;i<t.length;i++)n.push(fe(t[i],r));return new e(n)}}]),e}(),N=function(){"use strict";function e(t){a.default(this,e),this.args=t,this.type=m.BooleanType}return o.default(e,[{key:"evaluate",value:function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=this.args[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){if(a.value.evaluate(e,t))return!0}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return!1}}],[{key:"parse",value:function(t,r){for(var n=[],i=1;i<t.length;i++)n.push(fe(t[i],r));return new e(n)}}]),e}(),R=function(){"use strict";function e(t){a.default(this,e),this.args=t,this.type=m.BooleanType}return o.default(e,[{key:"evaluate",value:function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=this.args[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){if(a.value.evaluate(e,t))return!1}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return!0}}],[{key:"parse",value:function(t,r){for(var n=[],i=1;i<t.length;i++)n.push(fe(t[i],r));return new e(n)}}]),e}(),P=function(){"use strict";function e(t,r,n){a.default(this,e),this.type=t,this.args=r,this.fallback=n}return o.default(e,[{key:"evaluate",value:function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=this.args[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(s.condition.evaluate(e,t))return s.output.evaluate(e,t)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return this.fallback.evaluate(e,t)}}],[{key:"parse",value:function(t,r,n){if(t.length<4)throw new Error('"case" expects at least 3 arguments');if(t.length%2==1)throw new Error('"case" expects an odd number of arguments');for(var i,a=[],o=1;o<t.length-1;o+=2){var s=fe(t[o],r),l=fe(t[o+1],r,n);i||(i=l.type),a.push({condition:s,output:l})}var u=fe(t[t.length-1],r,n);return i||(i=u.type),new e(i,a,u)}}]),e}(),F=function(){"use strict";function e(t,r){a.default(this,e),this.type=t,this.args=r}return o.default(e,[{key:"evaluate",value:function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=this.args[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value.evaluate(e,t);if(null!==s)return s}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return null}}],[{key:"parse",value:function(t,r){if(t.length<2)throw new Error('"coalesce" expects at least 1 argument');for(var n,i=[],a=1;a<t.length;a++){var o=fe(t[a],r);n||(n=o.type),i.push(o)}return new e(n,i)}}]),e}(),j=function(){"use strict";function e(t,r,n,i,o){a.default(this,e),this.type=t,this.input=r,this.labels=n,this.outputs=i,this.fallback=o}return o.default(e,[{key:"evaluate",value:function(e,t){var r=this.input.evaluate(e,t);return(this.outputs[this.labels[r]]||this.fallback).evaluate(e,t)}}],[{key:"parse",value:function(t,r){if(t.length<3)throw new Error('"match" expects at least 3 arguments');if(t.length%2==0)throw new Error('"case" expects an even number of arguments');for(var n,i,a=fe(t[1],r),o=[],s={},l=2;l<t.length-1;l+=2){var u=t[l];Array.isArray(u)||(u=[u]);var f=!0,p=!1,d=void 0;try{for(var h,y=u[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var v=h.value,m=void 0===v?"undefined":c.default(v);if("string"!==m&&"number"!==m)throw new Error('"match" requires string or number literal as labels');if(i){if(m!==i)throw new Error('"match" requires labels to have the same type')}else i=m;s[v]=o.length}}catch(e){p=!0,d=e}finally{try{f||null==y.return||y.return()}finally{if(p)throw d}}var g=fe(t[l+1],r);n||(n=g.type),o.push(g)}return new e(n,a,s,o,fe(t[t.length-1],r))}}]),e}(),D=function(){"use strict";function e(t,r,n,i,o){a.default(this,e),this.operator=t,this.type=r,this.interpolation=n,this.input=i,this.stops=o}return o.default(e,[{key:"evaluate",value:function(t,r){var n=this.stops;if(1===n.length)return n[0][1].evaluate(t,r);var i=this.input.evaluate(t,r);if(i<=n[0][0])return n[0][1].evaluate(t,r);if(i>=n[n.length-1][0])return n[n.length-1][1].evaluate(t,r);for(var a=0;++a<n.length&&!(i<n[a][0]););var o=n[a-1][0],s=n[a][0],l=e.interpolationRatio(this.interpolation,i,o,s),u=n[a-1][1].evaluate(t,r),c=n[a][1].evaluate(t,r);if("interpolate"===this.operator){if("array"===this.type.kind&&Array.isArray(u)&&Array.isArray(c))return u.map((function(e,t){return(0,v.interpolate)(e,c[t],l)}));if("color"===this.type.kind&&u instanceof d.default&&c instanceof d.default){var p=new(0,d.default)(u),y=new(0,d.default)(c);return new(0,d.default)([(0,v.interpolate)(p.r,y.r,l),(0,v.interpolate)(p.g,y.g,l),(0,v.interpolate)(p.b,y.b,l),(0,v.interpolate)(p.a,y.a,l)])}if("number"===this.type.kind&&"number"==typeof u&&"number"==typeof c)return(0,v.interpolate)(u,c,l);throw new Error('"'.concat(this.operator,'" cannot interpolate type ').concat((0,m.typeToString)(this.type)))}if("interpolate-hcl"===this.operator){var g=(0,h.toLCH)(u),b=(0,h.toLCH)(c),_=b.h-g.h,w=(0,h.toRGB)({h:g.h+l*(_>180||_<-180?_-360*Math.round(_/360):_),c:(0,v.interpolate)(g.c,b.c,l),l:(0,v.interpolate)(g.l,b.l,l)});return new(0,d.default)(f.default({a:(0,v.interpolate)(u.a,c.a,l)},w))}if("interpolate-lab"===this.operator){var x=(0,h.toLAB)(u),S=(0,h.toLAB)(c),k=(0,h.toRGB)({l:(0,v.interpolate)(x.l,S.l,l),a:(0,v.interpolate)(x.a,S.a,l),b:(0,v.interpolate)(x.b,S.b,l)});return new(0,d.default)(f.default({a:(0,v.interpolate)(u.a,c.a,l)},k))}throw new Error('Unexpected operator "'.concat(this.operator,'"'))}},{key:"interpolationUniformValue",value:function(t,r){var n=this.stops;if(1===n.length)return 0;if(t>=n[n.length-1][0])return 0;for(var i=0;++i<n.length&&!(t<n[i][0]););var a=n[i-1][0],o=n[i][0];return e.interpolationRatio(this.interpolation,r,a,o)}},{key:"getInterpolationRange",value:function(e){var t=this.stops;if(1===t.length){var r=t[0][0];return[r,r]}var n=t[t.length-1][0];if(e>=n)return[n,n];for(var i=0;++i<t.length&&!(e<t[i][0]););return[t[i-1][0],t[i][0]]}}],[{key:"parse",value:function(t,r,n){var i=t[0];if(t.length<5)throw new Error('"'.concat(i,'" expects at least 4 arguments'));var a=t[1];if(!Array.isArray(a)||0===a.length)throw new Error('"'.concat(a,'" is not a valid interpolation'));switch(a[0]){case"linear":if(1!==a.length)throw new Error("Linear interpolation cannot have parameters");break;case"exponential":if(2!==a.length||"number"!=typeof a[1])throw new Error("Exponential interpolation requires one numeric argument");break;case"cubic-bezier":if(5!==a.length)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");for(var o=1;o<5;o++){var s=a[o];if("number"!=typeof s||s<0||s>1)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1")}break;default:throw new Error('"'.concat(t[0],'" unknown interpolation type "').concat(a[0],'"'))}if(t.length%2!=1)throw new Error('"'.concat(i,'" expects an even number of arguments'));var l,u=fe(t[2],r,m.NumberType);"interpolate-hcl"===i||"interpolate-lab"===i?l=m.ColorType:n&&"value"!==n.kind&&(l=n);for(var c=[],f=3;f<t.length;f+=2){var p=t[f];if("number"!=typeof p)throw new Error('"'.concat(i,'" requires stop inputs as literal numbers'));if(c.length&&c[c.length-1][0]>=p)throw new Error('"'.concat(i,'" requires strictly ascending stop inputs'));var d=fe(t[f+1],r,l);l||(l=d.type),c.push([p,d])}if(l&&l!==m.ColorType&&l!==m.NumberType&&("array"!==l.kind||l.itemType!==m.NumberType))throw new Error('"'.concat(i,'" cannot interpolate type ').concat((0,m.typeToString)(l)));return new e(i,l,a,u,c)}},{key:"interpolationRatio",value:function(t,r,n,i){var a=0;return"linear"===t[0]?a=e._exponentialInterpolationRatio(r,1,n,i):"exponential"===t[0]?a=e._exponentialInterpolationRatio(r,t[1],n,i):"cubic-bezier"===t[0]&&(a=(0,y.unitBezier)(t[1],t[2],t[3],t[4])(e._exponentialInterpolationRatio(r,1,n,i),1e-5)),a<0?a=0:a>1&&(a=1),a}},{key:"_exponentialInterpolationRatio",value:function(e,t,r,n){var i=n-r;if(0===i)return 0;var a=e-r;return 1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}}]),e}(),U=function(){"use strict";function e(t,r,n){a.default(this,e),this.type=t,this.input=r,this.stops=n}return o.default(e,[{key:"evaluate",value:function(e,t){var r=this.stops;if(1===r.length)return r[0][1].evaluate(e,t);for(var n=this.input.evaluate(e,t),i=0;++i<r.length&&!(n<r[i][0]););return this.stops[i-1][1].evaluate(e,t)}}],[{key:"parse",value:function(t,r){if(t.length<5)throw new Error('"step" expects at least 4 arguments');if(t.length%2!=1)throw new Error('"step" expects an even number of arguments');var n,i=fe(t[1],r,m.NumberType),a=[];a.push([-1/0,fe(t[2],r)]);for(var o=3;o<t.length;o+=2){var s=t[o];if("number"!=typeof s)throw new Error('"step" requires stop inputs as literal numbers');if(a.length&&a[a.length-1][0]>=s)throw new Error('"step" requires strictly ascending stop inputs');var l=fe(t[o+1],r);n||(n=l.type),a.push([s,l])}return new e(n,i,a)}}]),e}(),V=function(){"use strict";function e(t,r){a.default(this,e),this.type=t,this.output=r}return o.default(e,[{key:"evaluate",value:function(e,t){return this.output.evaluate(e,t)}}],[{key:"parse",value:function(t,r,n){if(t.length<4)throw new Error('"let" expects at least 3 arguments');if(t.length%2==1)throw new Error('"let" expects an odd number of arguments');for(var i=new b(r),a=1;a<t.length-1;a+=2){var o=t[a];if("string"!=typeof o)throw new Error('"let" requires a string to define variable names - found '.concat(o));i.add(o,fe(t[a+1],r))}var s=fe(t[t.length-1],i,n);return new e(s.type,s)}}]),e}(),B=function(){"use strict";function e(t,r){a.default(this,e),this.type=t,this.output=r}return o.default(e,[{key:"evaluate",value:function(e,t){return this.output.evaluate(e,t)}}],[{key:"parse",value:function(t,r,n){if(2!==t.length||"string"!=typeof t[1])throw new Error('"var" requires just one literal string argument');var i=r.get(t[1]);if(!i)throw new Error("".concat(t[1],' must be defined before being used in a "var" expression'));return new e(n||m.ValueType,i)}}]),e}(),H=function(){"use strict";function e(t,r,n){a.default(this,e),this.type=t,this.index=r,this.array=n}return o.default(e,[{key:"evaluate",value:function(e,t){var r=this.index.evaluate(e,t),n=this.array.evaluate(e,t);if(r<0||r>=n.length)throw new Error('"at" index out of bounds');if(r!==Math.floor(r))throw new Error('"at" index must be an integer');return n[r]}}],[{key:"parse",value:function(t,r){if(3!==t.length)throw new Error('"at" expects 2 arguments');var n=fe(t[1],r,m.NumberType),i=fe(t[2],r);return new e(i.type.itemType,n,i)}}]),e}(),z=function(){"use strict";function e(t,r){a.default(this,e),this.key=t,this.obj=r,this.type=m.ValueType}return o.default(e,[{key:"evaluate",value:function(e,t){var r=this.key.evaluate(e,t);return this.obj?this.obj.evaluate(e,t)[r]:null==e?void 0:e.values[r]}}],[{key:"parse",value:function(t,r){switch(t.length){case 2:return new e(fe(t[1],r));case 3:return new e(fe(t[1],r),fe(t[2],r));default:throw new Error('"get" expects 1 or 2 arguments')}}}]),e}(),W=function(){"use strict";function e(t,r){a.default(this,e),this.key=t,this.obj=r,this.type=m.BooleanType}return o.default(e,[{key:"evaluate",value:function(e,t){var r=this.key.evaluate(e,t);return this.obj?r in this.obj.evaluate(e,t):!(null==e||!e.values[r])}}],[{key:"parse",value:function(t,r){switch(t.length){case 2:return new e(fe(t[1],r));case 3:return new e(fe(t[1],r),fe(t[2],r));default:throw new Error('"has" expects 1 or 2 arguments')}}}]),e}(),G=function(){"use strict";function e(t,r){a.default(this,e),this.key=t,this.vals=r,this.type=m.BooleanType}return o.default(e,[{key:"evaluate",value:function(e,t){var r=this.key.evaluate(e,t);return-1!==this.vals.evaluate(e,t).indexOf(r)}}],[{key:"parse",value:function(t,r){if(3!==t.length)throw new Error('"in" expects 2 arguments');return new e(fe(t[1],r),fe(t[2],r))}}]),e}(),J=function(){"use strict";function e(t,r,n){a.default(this,e),this.item=t,this.array=r,this.from=n,this.type=m.NumberType}return o.default(e,[{key:"evaluate",value:function(e,t){var r=this.item.evaluate(e,t),n=this.array.evaluate(e,t);if(this.from){var i=this.from.evaluate(e,t);if(i!==Math.floor(i))throw new Error('"index-of" index must be an integer');return n.indexOf(r,i)}return n.indexOf(r)}}],[{key:"parse",value:function(t,r){if(t.length<3||t.length>4)throw new Error('"index-of" expects 3 or 4 arguments');var n=fe(t[1],r),i=fe(t[2],r);return 4===t.length?new e(n,i,fe(t[3],r,m.NumberType)):new e(n,i)}}]),e}(),q=function(){"use strict";function e(t){a.default(this,e),this.arg=t,this.type=m.NumberType}return o.default(e,[{key:"evaluate",value:function(e,t){var r=this.arg.evaluate(e,t);if("string"==typeof r)return r.length;if(Array.isArray(r))return r.length;throw new Error('"length" expects string or array')}}],[{key:"parse",value:function(t,r){if(2!==t.length)throw new Error('"length" expects 2 arguments');return new e(fe(t[1],r))}}]),e}(),X=function(){"use strict";function e(t,r,n,i){a.default(this,e),this.type=t,this.array=r,this.from=n,this.to=i}return o.default(e,[{key:"evaluate",value:function(e,t){var r=this.array.evaluate(e,t);if(!Array.isArray(r)&&"string"!=typeof r)throw new Error('"slice" input must be an array or a string');var n=this.from.evaluate(e,t);if(n<0||n>=r.length)throw new Error('"slice" index out of bounds');if(n!==Math.floor(n))throw new Error('"slice" index must be an integer');if(this.to){var i=this.to.evaluate(e,t);if(i<0||i>=r.length)throw new Error('"slice" index out of bounds');if(i!==Math.floor(i))throw new Error('"slice" index must be an integer');return r.slice(n,i)}return r.slice(n)}}],[{key:"parse",value:function(t,r){if(t.length<3||t.length>4)throw new Error('"slice" expects 2 or 3 arguments');var n=fe(t[1],r),i=fe(t[2],r,m.NumberType);if(i.type!==m.NumberType)throw new Error('"slice" index must return a number');if(4===t.length){var a=fe(t[3],r,m.NumberType);if(a.type!==m.NumberType)throw new Error('"slice" index must return a number');return new e(n.type,n,i,a)}return new e(n.type,n,i)}}]),e}(),K=function(){"use strict";function e(){a.default(this,e),this.type=m.BooleanType}return o.default(e,[{key:"evaluate",value:function(e,t){return e&&void 0!==e.id}}],[{key:"parse",value:function(t){if(1!==t.length)throw new Error('"has-id" expects no arguments');return new e}}]),e}(),$=function(){"use strict";function e(t,r){a.default(this,e),this.args=t,this.calculate=r,this.type=m.NumberType}return o.default(e,[{key:"evaluate",value:function(e,t){var r;return this.args&&(r=this.args.map((function(r){return r.evaluate(e,t)}))),this.calculate(r)}}],[{key:"parse",value:function(t,r,n){return new e(t.slice(1).map((function(e){return fe(e,r)})),n)}}]),e}(),Y=function(e){"use strict";l.default(r,e);var t=u.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,null,[{key:"parse",value:function(e,t){switch(e.length){case 2:return $.parse(e,t,(function(e){return-e[0]}));case 3:return $.parse(e,t,(function(e){return e[0]-e[1]}));default:throw new Error('"-" expects 1 or 2 arguments')}}}]),r}($),Z=function(e){"use strict";l.default(r,e);var t=u.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,null,[{key:"parse",value:function(e,t){return $.parse(e,t,(function(e){var t=1,r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){t*=a.value}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}))}}]),r}($),Q=function(e){"use strict";l.default(r,e);var t=u.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,null,[{key:"parse",value:function(e,t){if(3===e.length)return $.parse(e,t,(function(e){return e[0]/e[1]}));throw new Error('"/" expects 2 arguments')}}]),r}($),ee=function(e){"use strict";l.default(r,e);var t=u.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,null,[{key:"parse",value:function(e,t){if(3===e.length)return $.parse(e,t,(function(e){return e[0]%e[1]}));throw new Error('"%" expects 2 arguments')}}]),r}($),te=function(e){"use strict";l.default(r,e);var t=u.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,null,[{key:"parse",value:function(e,t){if(3===e.length)return $.parse(e,t,(function(e){return Math.pow(e[0],e[1])}));throw new Error('"^" expects 1 or 2 arguments')}}]),r}($),re=function(e){"use strict";l.default(r,e);var t=u.default(r);function r(){return a.default(this,r),t.apply(this,arguments)}return o.default(r,null,[{key:"parse",value:function(e,t){return $.parse(e,t,(function(e){var t=0,r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){t+=a.value}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}))}}]),r}($),ne=function(){"use strict";function e(t,r){a.default(this,e),this.args=t,this.calculate=r,this.type=m.NumberType}return o.default(e,[{key:"evaluate",value:function(e,t){var r;return this.args&&(r=this.args.map((function(r){return r.evaluate(e,t)}))),this.calculate(r)}}],[{key:"parse",value:function(t,r){return new e(t.slice(1).map((function(e){return fe(e,r)})),e.ops[t[0]])}}]),e}();ne.ops={abs:function(e){return Math.abs(e[0])},acos:function(e){return Math.acos(e[0])},asin:function(e){return Math.asin(e[0])},atan:function(e){return Math.atan(e[0])},ceil:function(e){return Math.ceil(e[0])},cos:function(e){return Math.cos(e[0])},e:function(){return Math.E},floor:function(e){return Math.floor(e[0])},ln:function(e){return Math.log(e[0])},ln2:function(){return Math.LN2},log10:function(e){return Math.log(e[0])/Math.LN10},log2:function(e){return Math.log(e[0])/Math.LN2},max:function(e){return(n=Math).max.apply(n,p.default(e))},min:function(e){return(i=Math).min.apply(i,p.default(e))},pi:function(){return Math.PI},round:function(e){return Math.round(e[0])},sin:function(e){return Math.sin(e[0])},sqrt:function(e){return Math.sqrt(e[0])},tan:function(e){return Math.tan(e[0])}};var ie=function(){"use strict";function e(t){a.default(this,e),this.args=t,this.type=m.StringType}return o.default(e,[{key:"evaluate",value:function(e,t){return this.args.map((function(r){return r.evaluate(e,t)})).join("")}}],[{key:"parse",value:function(t,r){return new e(t.slice(1).map((function(e){return fe(e,r)})))}}]),e}(),ae=function(){"use strict";function e(t,r){a.default(this,e),this.arg=t,this.calculate=r,this.type=m.StringType}return o.default(e,[{key:"evaluate",value:function(e,t){return this.calculate(this.arg.evaluate(e,t))}}],[{key:"parse",value:function(t,r){if(2!==t.length)throw new Error("".concat(t[0]," expects 1 argument"));return new e(fe(t[1],r),e.ops[t[0]])}}]),e}();ae.ops={downcase:function(e){return e.toLowerCase()},upcase:function(e){return e.toUpperCase()}};var oe=function(){"use strict";function e(t){a.default(this,e),this.args=t,this.type=m.ColorType}return o.default(e,[{key:"evaluate",value:function(e,t){var r=this._validate(this.args[0].evaluate(e,t)),n=this._validate(this.args[1].evaluate(e,t)),i=this._validate(this.args[2].evaluate(e,t));return new(0,d.default)({r:r,g:n,b:i})}},{key:"_validate",value:function(e){if("number"!=typeof e||e<0||e>255)throw new Error("".concat(e,": invalid color component"));return Math.round(e)}}],[{key:"parse",value:function(t,r){if(4!==t.length)throw new Error('"rgb" expects 3 arguments');return new e(t.slice(1).map((function(e){return fe(e,r)})))}}]),e}(),se=function(){"use strict";function e(t){a.default(this,e),this.args=t,this.type=m.ColorType}return o.default(e,[{key:"evaluate",value:function(e,t){var r=this._validate(this.args[0].evaluate(e,t)),n=this._validate(this.args[1].evaluate(e,t)),i=this._validate(this.args[2].evaluate(e,t)),a=this._validateAlpha(this.args[3].evaluate(e,t));return new(0,d.default)({r:r,g:n,b:i,a:a})}},{key:"_validate",value:function(e){if("number"!=typeof e||e<0||e>255)throw new Error("".concat(e,": invalid color component"));return Math.round(e)}},{key:"_validateAlpha",value:function(e){if("number"!=typeof e||e<0||e>1)throw new Error("".concat(e,": invalid alpha color component"));return e}}],[{key:"parse",value:function(t,r){if(5!==t.length)throw new Error('"rgba" expects 4 arguments');return new e(t.slice(1).map((function(e){return fe(e,r)})))}}]),e}(),le=function(){"use strict";function e(t){a.default(this,e),this.color=t,this.type=(0,m.arrayType)(m.NumberType,4)}return o.default(e,[{key:"evaluate",value:function(e,t){return new(0,d.default)(this.color.evaluate(e,t)).toRgba()}}],[{key:"parse",value:function(t,r){if(2!==t.length)throw new Error('"to-rgba" expects 1 argument');return new e(fe(t[1],r))}}]),e}(),ue=function(){"use strict";function e(t,r){a.default(this,e),this.type=t,this.args=r}return o.default(e,[{key:"evaluate",value:function(e,t){var r,n=!0,i=!1,a=void 0;try{for(var o,s=this.args[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value.evaluate(e,t);if(r=(0,m.getType)(l),(0,m.matchType)(r,this.type))return l}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}throw new Error("Expected ".concat((0,m.typeToString)(this.type)," but got ").concat((0,m.typeToString)(r)))}}],[{key:"parse",value:function(t,r){var n=t[0];if(t.length<2)throw new Error("".concat(n," expects at least one argument"));var i,a=1;if("array"===n){if(t.length>2){switch(t[1]){case"string":i=m.StringType;break;case"number":i=m.NumberType;break;case"boolean":i=m.BooleanType;break;default:throw new Error('"array" type argument must be string, number or boolean')}a++}else i=m.ValueType;var o;if(t.length>3){if(null!==(o=t[2])&&("number"!=typeof o||o<0||o!==Math.floor(o)))throw new Error('"array" length argument must be a positive integer literal');a++}i=(0,m.arrayType)(i,o)}else switch(n){case"string":i=m.StringType;break;case"number":i=m.NumberType;break;case"boolean":i=m.BooleanType;break;case"object":i=m.ObjectType}for(var s=[];a<t.length;a++){var l=fe(t[a],r);s.push(l)}return new e(i,s)}}]),e}(),ce=function(){"use strict";function e(t,r){a.default(this,e),this.type=t,this.args=r}return o.default(e,[{key:"evaluate",value:function(t,r){if(this.type===m.BooleanType)return Boolean(this.args[0].evaluate(t,r));if(this.type===m.StringType)return(0,m.valueToString)(this.args[0].evaluate(t,r));if(this.type===m.NumberType){var n=!0,i=!1,a=void 0;try{for(var o,s=this.args[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value,u=Number(l.evaluate(t,r));if(!isNaN(u))return u}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return null}if(this.type===m.ColorType){var c=!0,f=!1,p=void 0;try{for(var h,y=this.args[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;try{var g=e.toColor(v.evaluate(t,r));if(g instanceof d.default)return g}catch(e){}}}catch(e){f=!0,p=e}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}return null}}}],[{key:"parse",value:function(t,r){var n=t[0],i=e.types[n];if(i===m.BooleanType||i===m.StringType){if(2!==t.length)throw new Error("".concat(n," expects one argument"))}else if(t.length<2)throw new Error("".concat(n," expects at least one argument"));for(var a=[],o=1;o<t.length;o++){var s=fe(t[o],r);a.push(s)}return new e(i,a)}},{key:"toBoolean",value:function(e){return Boolean(e)}},{key:"toString",value:function(e){return(0,m.valueToString)(e)}},{key:"toNumber",value:function(e){var t=Number(e);if(isNaN(t))throw new Error('"'.concat(e,'" is not a number'));return t}},{key:"toColor",value:function(e){if(e instanceof d.default)return e;if("string"==typeof e){var t=d.default.fromString(e);if(t)return t;throw new Error('"'.concat(e,'" is not a color'))}if(Array.isArray(e))return d.default.fromArray(e);throw new Error('"'.concat(e,'" is not a color'))}}]),e}();function fe(e,t,r){var n=void 0===e?"undefined":c.default(e);if("string"===n||"boolean"===n||"number"===n||null===e){if(r)switch(r.kind){case"string":"string"!==n&&(e=ce.toString(e));break;case"number":"number"!==n&&(e=ce.toNumber(e));break;case"color":e=ce.toColor(e)}e=["literal",e]}if(!Array.isArray(e)||0===e.length)throw new Error("Expression must be a non empty array");var i=e[0];if("string"!=typeof i)throw new Error("First element of expression must be a string");var a=pe[i];if(void 0===a)throw new Error('Invalid expression operator "'.concat(i,'"'));if(!a)throw new Error('Unimplemented expression operator "'.concat(i,'"'));return a.parse(e,t,r)}ce.types={"to-boolean":m.BooleanType,"to-color":m.ColorType,"to-number":m.NumberType,"to-string":m.StringType};var pe={array:ue,boolean:ue,collator:null,format:null,image:null,literal:function(){"use strict";function e(t){a.default(this,e),this.val=t,this.type=(0,m.getType)(t)}return o.default(e,[{key:"evaluate",value:function(e,t){return this.val}}],[{key:"parse",value:function(t){if(2!==t.length)throw new Error('"literal" expects 1 argument');return new e(t[1])}}]),e}(),number:ue,"number-format":null,object:ue,string:ue,"to-boolean":ce,"to-color":ce,"to-number":ce,"to-string":ce,typeof:function(){"use strict";function e(t){a.default(this,e),this.arg=t,this.type=m.StringType}return o.default(e,[{key:"evaluate",value:function(e,t){return(0,m.typeToString)((0,m.getType)(this.arg.evaluate(e,t)))}}],[{key:"parse",value:function(t,r){if(2!==t.length)throw new Error('"typeof" expects 1 argument');return new e(fe(t[1],r))}}]),e}(),accumulated:null,"feature-state":null,"geometry-type":w,id:_,"line-progress":null,properties:x,at:H,get:z,has:W,in:G,"index-of":J,length:q,slice:X,"!":A,"!=":E,"<":I,"<=":C,"==":T,">":O,">=":L,all:M,any:N,case:P,coalesce:F,match:j,within:null,interpolate:D,"interpolate-hcl":D,"interpolate-lab":D,step:U,let:V,var:B,concat:ie,downcase:ae,"is-supported-script":null,"resolved-locale":null,upcase:ae,rgb:oe,rgba:se,"to-rgba":le,"-":Y,"*":Z,"/":Q,"%":ee,"^":te,"+":re,abs:ne,acos:ne,asin:ne,atan:ne,ceil:ne,cos:ne,e:ne,floor:ne,ln:ne,ln2:ne,log10:ne,log2:ne,max:ne,min:ne,pi:ne,round:ne,sin:ne,sqrt:ne,tan:ne,zoom:S,"heatmap-density":null,"has-id":K,none:R}})),s.register("5xAFh",(function(t,r){function n(e){return"h"in e&&"s"in e&&"v"in e}function i(e){return"l"in e&&"a"in e&&"b"in e}function a(e){return"l"in e&&"c"in e&&"h"in e}function o(e){return"x"in e&&"y"in e&&"z"in e}e(t.exports,"toRGB",(function(){return g})),e(t.exports,"toHSV",(function(){return b})),e(t.exports,"toLAB",(function(){return _})),e(t.exports,"toLCH",(function(){return w}));var s=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],l=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function u(e,t){var r,n,i=[];if(e[0].length!==t.length)throw"dimensions do not match";var a=e.length,o=e[0].length,s=0;for(r=0;r<a;r++){for(s=0,n=0;n<o;n++)s+=e[r][n]*t[n];i.push(s)}return i}function c(e){var t=[e.r/255,e.g/255,e.b/255].map((function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)})),r=u(s,t);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function f(e){var t=u(l,[e.x/100,e.y/100,e.z/100]).map((function(e){var t=e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055;return Math.min(1,Math.max(t,0))}));return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function p(e){var t=[e.x/95.047,e.y/100,e.z/108.883].map((function(e){return e>Math.pow(6/29,3)?Math.pow(e,1/3):1/3*Math.pow(29/6,2)*e+4/29}));return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function d(e){var t=e.l,r=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map((function(e){return e>6/29?Math.pow(e,3):3*Math.pow(6/29,2)*(e-4/29)}));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function h(e){return p(c(e))}function y(e){return f(d(e))}function v(e){return t=p(c(e)),r=t.l,n=t.a,i=t.b,a=Math.sqrt(n*n+i*i),o=Math.atan2(i,n),{l:r,c:a,h:o=o>0?o:o+2*Math.PI};var t,r,n,i,a,o}function m(e){return f(d((r=(t=e).l,n=t.c,i=t.h,{l:r,a:n*Math.cos(i),b:n*Math.sin(i)})));var t,r,n,i}function g(e){return"r"in(t=e)&&"g"in t&&"b"in t?e:a(e)?m(e):i(e)?y(e):o(e)?f(e):n(e)?function(e){var t,r=(e.h+360)%360/60,n=e.s/100,i=e.v/100*255,a=i*n,o=a*(1-Math.abs(r%2-1));switch(Math.floor(r)){case 0:t={r:a,g:o,b:0};break;case 1:t={r:o,g:a,b:0};break;case 2:t={r:0,g:a,b:o};break;case 3:t={r:0,g:o,b:a};break;case 4:t={r:o,g:0,b:a};break;case 5:case 6:t={r:a,g:0,b:o};break;default:t={r:0,g:0,b:0}}return t.r=Math.round(t.r+i-a),t.g=Math.round(t.g+i-a),t.b=Math.round(t.b+i-a),t}(e):e;var t}function b(e){return n(e)?e:(t=g(e),r=t.r,i=t.g,a=t.b,o=Math.max(r,i,a),s=o-Math.min(r,i,a),l=o,c=0===s?0:s/l,(u=0===s?0:o===r?(i-a)/s%6:o===i?(a-r)/s+2:(r-i)/s+4)<0&&(u+=6),{h:u*=60,s:c*=100,v:l*=100/255});var t,r,i,a,o,s,l,u,c}function _(e){return i(e)?e:h(g(e))}function w(e){return a(e)?e:v(g(e))}})),s.register("d7O05",(function(t,r){function n(e,t,r,n){var i=3*e,a=3*(r-e)-i,o=1-i-a,s=3*t,l=3*(n-t)-s,u=1-s-l;function c(e){return((o*e+a)*e+i)*e}function f(e){return((u*e+l)*e+s)*e}function p(e,t){var r,n,s,l,u,f,p;for(s=e,f=0;f<8;f++){if(l=c(s)-e,Math.abs(l)<t)return s;if(u=(3*o*(p=s)+2*a)*p+i,Math.abs(u)<1e-6)break;s-=l/u}if((s=e)<(r=0))return r;if(s>(n=1))return n;for(;r<n;){if(l=c(s),Math.abs(l-e)<t)return s;e>l?r=s:n=s,s=.5*(n-r)+r}return s}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-6;return f(p(e,t))}}e(t.exports,"unitBezier",(function(){return n})),e(t.exports,"easingFunctions",(function(){return a})),e(t.exports,"parse",(function(){return o}));var i=/^cubic-bezier\((.*)\)/,a={};function o(e){var t=a[e]||null;if(!t){var r=i.exec(e);if(r){var o=r[1].split(",").map((function(e){return parseFloat(e.trim())}));4!==o.length||o.some((function(e){return isNaN(e)}))||(t=n.apply(n,o))}}return t}a.ease=n(.25,.1,.25,1),a.linear=n(0,0,1,1),a.easeIn=a["ease-in"]=n(.42,0,1,1),a.easeOut=a["ease-out"]=n(0,0,.58,1),a.easeInOut=a["ease-in-out"]=n(.42,0,.58,1)})),s.register("7P6eh",(function(t,r){e(t.exports,"C_INFINITY",(function(){return n})),e(t.exports,"C_PI",(function(){return i})),e(t.exports,"C_2PI",(function(){return a})),e(t.exports,"C_DEG_TO_RAD",(function(){return s})),e(t.exports,"positiveMod",(function(){return u})),e(t.exports,"radToByte",(function(){return c})),e(t.exports,"log2",(function(){return f})),e(t.exports,"interpolate",(function(){return p}));var n=Number.POSITIVE_INFINITY,i=Math.PI,a=2*i,o=128/i,s=i/180,l=1/Math.LN2;function u(e,t){return(e%=t)>=0?e:e+t}function c(e){return u(e*o,256)}function f(e){return Math.log(e)*l}function p(e,t,r){return e*(1-r)+t*r}})),s.register("7oiXL",(function(t,r){e(t.exports,"NumberType",(function(){return o})),e(t.exports,"StringType",(function(){return l})),e(t.exports,"BooleanType",(function(){return u})),e(t.exports,"ColorType",(function(){return c})),e(t.exports,"ObjectType",(function(){return f})),e(t.exports,"ValueType",(function(){return p})),e(t.exports,"arrayType",(function(){return d})),e(t.exports,"typeToString",(function(){return y})),e(t.exports,"getType",(function(){return v})),e(t.exports,"matchType",(function(){return m})),e(t.exports,"valueToString",(function(){return g})),s("8TSCy");var n=s("kswSi"),i=s("jgs9n"),a={kind:"null"},o={kind:"number"},l={kind:"string"},u={kind:"boolean"},c={kind:"color"},f={kind:"object"},p={kind:"value"};function d(e,t){return{kind:"array",itemType:e,n:t}}var h=[a,o,l,u,c,f,d(p)];function y(e){if("array"===e.kind){var t=y(e.itemType);return"number"==typeof e.n?"array<".concat(t,", ").concat(e.n,">"):"value"===e.itemType.kind?"array":"array<".concat(t,">")}return e.kind}function v(e){if(null===e)return a;if("string"==typeof e)return l;if("boolean"==typeof e)return u;if("number"==typeof e)return o;if(e instanceof i.default)return c;if(Array.isArray(e)){var t,r=!0,n=!1,s=void 0;try{for(var h,y=e[Symbol.iterator]();!(r=(h=y.next()).done);r=!0){var m=v(h.value);if(t){if(t!==m){t=p;break}}else t=m}}catch(e){n=!0,s=e}finally{try{r||null==y.return||y.return()}finally{if(n)throw s}}return d(t||p,e.length)}return"object"==typeof e?f:p}function m(e,t){if("array"===t.kind)return"array"===e.kind&&(0===e.n&&"value"===e.itemType.kind||m(e.itemType,t.itemType))&&("number"!=typeof t.n||t.n===e.n);if("value"===t.kind){var r=!0,n=!1,i=void 0;try{for(var a,o=h[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){if(m(e,a.value))return!0}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}return t.kind===e.kind}function g(e){if(null===e)return"";var t=void 0===e?"undefined":n.default(e);return"string"===t?e:"number"===t||"boolean"===t?String(e):e instanceof i.default?e.toString():JSON.stringify(e)}})),s.register("ljf2P",(function(t,r){e(t.exports,"Point",(function(){return l})),e(t.exports,"GeometryType",(function(){return n})),s("8TSCy");var n,i,a=s("f9pi5"),o=s("jK9zx"),l=function(){"use strict";function e(t,r){a.default(this,e),this.x=t,this.y=r}return o.default(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"equals",value:function(e,t){return e===this.x&&t===this.y}},{key:"isEqual",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"setCoords",value:function(e,t){this.x=e,this.y=t}},{key:"normalize",value:function(){var e=this.x,t=this.y,r=Math.sqrt(e*e+t*t);this.x/=r,this.y/=r}},{key:"rightPerpendicular",value:function(){var e=this.x;this.x=this.y,this.y=-e}},{key:"move",value:function(e,t){this.x+=e,this.y+=t}},{key:"assign",value:function(e){this.x=e.x,this.y=e.y}},{key:"assignAdd",value:function(e,t){this.x=e.x+t.x,this.y=e.y+t.y}},{key:"assignSub",value:function(e,t){this.x=e.x-t.x,this.y=e.y-t.y}},{key:"rotate",value:function(e,t){var r=this.x,n=this.y;this.x=r*e-n*t,this.y=r*t+n*e}},{key:"scale",value:function(e){this.x*=e,this.y*=e}},{key:"length",value:function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}}],[{key:"distance",value:function(e,t){var r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)}},{key:"add",value:function(t,r){return new e(t.x+r.x,t.y+r.y)}},{key:"sub",value:function(t,r){return new e(t.x-r.x,t.y-r.y)}}]),e}();(i=n||(n={}))[i.Unknown=0]="Unknown",i[i.Point=1]="Point",i[i.LineString=2]="LineString",i[i.Polygon=3]="Polygon"})),s.register("7mcLd",(function(t,r){e(t.exports,"default",(function(){return c})),s("8TSCy");var n=s("f9pi5"),i=s("jK9zx"),a=s("jgs9n"),o=s("7P6eh"),l=s("dMSmY"),u=s("7oiXL"),c=function(){"use strict";function e(t,r){var i;switch(n.default(this,e),this.isDataDriven=!1,this.interpolator=null,t.type){case"number":case"color":i=!0;break;case"array":i="number"===t.value;break;default:i=!1}if(null==r&&(r=t.default),Array.isArray(r)&&r.length>0&&l.ops[r[0]]){var a={number:u.NumberType,color:u.ColorType,string:u.StringType,boolean:u.BooleanType,enum:u.StringType};try{var o="array"===t.type?(0,u.arrayType)(a[t.value]||u.ValueType,t.length):a[t.type],s=(0,l.createExpression)(r,null,o);this.getValue=this._buildExpression(s,t),this.isDataDriven=!0,s instanceof l.Interpolate&&s.input instanceof l.Zoom&&(this.interpolator=s)}catch(e){console.log(e.message),this.getValue=this._buildSimple(t.default)}}else{i&&"interval"===r.type&&(i=!1);var c=r&&r.stops&&r.stops.length>0,f=!0,p=!1,d=void 0;if(c)try{for(var h,y=r.stops[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var v=h.value;v[1]=this._validate(v[1],t)}}catch(e){p=!0,d=e}finally{try{f||null==y.return||y.return()}finally{if(p)throw d}}if(this.isDataDriven=!!r&&!!r.property,this.isDataDriven)if(void 0!==r.default&&(r.default=this._validate(r.default,t)),c)switch(r.type){case"identity":this.getValue=this._buildIdentity(r,t);break;case"categorical":this.getValue=this._buildCategorical(r,t);break;default:this.getValue=i?this._buildInterpolate(r,t):this._buildInterval(r,t)}else this.getValue=this._buildIdentity(r,t);else c?this.getValue=i?this._buildZoomInterpolate(r):this._buildZoomInterval(r):(r=this._validate(r,t),this.getValue=this._buildSimple(r))}}return i.default(e,[{key:"_validate",value:function(t,r){if("number"===r.type){if(t<r.minimum)return r.minimum;if(t>r.maximum)return r.maximum}else"color"===r.type?t=e._parseColor(t):"enum"===r.type?"string"==typeof t&&(t=r.values.indexOf(t)):"array"===r.type&&"enum"===r.value?t=t.map((function(e){return"string"==typeof e?r.values.indexOf(e):e})):"string"===r.type&&(t=(0,u.valueToString)(t));return t}},{key:"_buildSimple",value:function(e){return function(){return e}}},{key:"_buildExpression",value:function(e,t){var r=this;return function(n,i){try{var a=e.evaluate(i,n);return void 0===a?t.default:r._validate(a,t)}catch(e){return console.log(e.message),t.default}}}},{key:"_buildIdentity",value:function(e,t){var r=this;return function(n,i){var a;return i&&(a=i.values[e.property]),void 0!==a&&(a=r._validate(a,t)),null!=a?a:void 0!==e.default?e.default:t.default}}},{key:"_buildCategorical",value:function(e,t){var r=this;return function(n,i){var a;return i&&(a=i.values[e.property]),void 0!==(a=r._categorical(a,e.stops))?a:void 0!==e.default?e.default:t.default}}},{key:"_buildInterval",value:function(e,t){var r=this;return function(n,i){var a;return i&&(a=i.values[e.property]),"number"==typeof a?r._interval(a,e.stops):void 0!==e.default?e.default:t.default}}},{key:"_buildInterpolate",value:function(e,t){var r=this;return function(n,i){var a;return i&&(a=i.values[e.property]),"number"==typeof a?r._interpolate(a,e.stops,e.base||1):void 0!==e.default?e.default:t.default}}},{key:"_buildZoomInterpolate",value:function(e){var t=this;return function(r){return t._interpolate(r,e.stops,e.base||1)}}},{key:"_buildZoomInterval",value:function(e){var t=this;return function(r){return t._interval(r,e.stops)}}},{key:"_categorical",value:function(e,t){for(var r=t.length,n=0;n<r;n++)if(t[n][0]===e)return t[n][1]}},{key:"_interval",value:function(e,t){for(var r=t.length,n=0,i=0;i<r&&t[i][0]<=e;i++)n=i;return t[n][1]}},{key:"_interpolate",value:function(e,t,r){for(var n,i,a=t.length,s=0;s<a;s++){var l=t[s];if(!(l[0]<=e)){i=l;break}n=l}if(n&&i){var u=i[0]-n[0],c=e-n[0],f=1===r?c/u:(Math.pow(r,c)-1)/(Math.pow(r,u)-1);if(Array.isArray(n[1])){for(var p=n[1],d=i[1],h=[],y=0;y<p.length;y++)h.push((0,o.interpolate)(p[y],d[y],f));return h}return(0,o.interpolate)(n[1],i[1],f)}return n?n[1]:i?i[1]:void 0}}],[{key:"_isEmpty",value:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},{key:"_parseColor",value:function(e){return Array.isArray(e)?e:("string"==typeof e&&(e=new(0,a.default)(e)),e instanceof a.default&&!this._isEmpty(e)?a.default.toUnitRGBA(e):void 0)}}]),e}()})),s.register("4WoSm",(function(t,r){e(t.exports,"NAN_MAGIC_NUMBER",(function(){return n})),e(t.exports,"PICTURE_FILL_COLOR",(function(){return i})),e(t.exports,"TILE_SIZE",(function(){return a})),e(t.exports,"DOT_DENSITY_MAX_FIELDS",(function(){return o})),e(t.exports,"MAGIC_LABEL_LINE_HEIGHT",(function(){return s})),e(t.exports,"GLYPH_SIZE",(function(){return l})),e(t.exports,"TEXT_PLACEMENT_PADDING",(function(){return u})),e(t.exports,"AVERAGE_GLYPH_MOSAIC_ITEM",(function(){return c})),e(t.exports,"TEXTURE_BINDING_SPRITE_ATLAS",(function(){return f})),e(t.exports,"TEXTURE_BINDING_GLYPH_ATLAS",(function(){return p})),e(t.exports,"TEXTURE_BINDING_BITMAP",(function(){return d})),e(t.exports,"TEXTURE_BINDING_ATTRIBUTE_DATA_0",(function(){return h})),e(t.exports,"TEXTURE_BINDING_ATTRIBUTE_DATA_1",(function(){return y})),e(t.exports,"TEXTURE_BINDING_ATTRIBUTE_DATA_2",(function(){return v})),e(t.exports,"TEXTURE_BINDING_ATTRIBUTE_DATA_3",(function(){return m})),e(t.exports,"TEXTURE_BINDING_GPGPU",(function(){return g})),e(t.exports,"TEXTURE_BINDING_HIGHLIGHT_0",(function(){return b})),e(t.exports,"TEXTURE_BINDING_HIGHLIGHT_1",(function(){return _})),e(t.exports,"TEXTURE_BINDING_RENDERER_0",(function(){return w})),e(t.exports,"TEXTURE_BINDING_RENDERER_1",(function(){return x})),e(t.exports,"ATTRIBUTE_DATA_FILTER_FLAGS",(function(){return S})),e(t.exports,"ATTRIBUTE_DATA_ANIMATION",(function(){return k})),e(t.exports,"ATTRIBUTE_DATA_GPGPU",(function(){return T})),e(t.exports,"ATTRIBUTE_DATA_VV",(function(){return E})),e(t.exports,"ATTRIBUTE_DATA_DD1",(function(){return I})),e(t.exports,"MAX_FILTERS",(function(){return C})),e(t.exports,"HIGHLIGHT_FLAG",(function(){return O})),e(t.exports,"FILTER_FLAG_0",(function(){return L})),e(t.exports,"EFFECT_FLAG_0",(function(){return A})),e(t.exports,"THIN_LINE_HALF_WIDTH_THRESHOLD",(function(){return M})),e(t.exports,"HITTEST_RADIUS",(function(){return N})),e(t.exports,"VTL_TEXTURE_BINDING_UNIT_SPRITES",(function(){return R})),e(t.exports,"VTL_TEXTURE_BINDING_UNIT_GLYPHS",(function(){return P})),e(t.exports,"VTL_HIGH_RES_CUTOFF",(function(){return F})),e(t.exports,"SPRITE_PADDING",(function(){return j})),e(t.exports,"DISPLAY_RECORD_INT_PER_ELEMENT",(function(){return D})),e(t.exports,"PATCH_PIXEL_BUFFER_ALLOC_SIZE",(function(){return U})),e(t.exports,"MIN_MAX_ZOOM_PRECISION_FACTOR",(function(){return V})),e(t.exports,"BITSET_GENERIC_LOCK_COLOR",(function(){return B})),e(t.exports,"BITSET_MARKER_ALIGNMENT_SCREEN",(function(){return H})),e(t.exports,"BITSET_MARKER_ALIGNMENT_MAP",(function(){return z})),e(t.exports,"BITSET_MARKER_OUTLINE_ALLOW_COLOR_OVERRIDE",(function(){return W})),e(t.exports,"BITSET_MARKER_SCALE_SYMBOLS_PROPORTIONALLY",(function(){return G})),e(t.exports,"BITSET_LINE_SCALE_DASH",(function(){return J})),e(t.exports,"BITSET_TYPE_FILL_OUTLINE",(function(){return q}));var n=1e-30,i=4294967295,a=512,o=8,s=29,l=24,u=8,c={metrics:{width:15,height:17,left:0,top:-7,advance:14}},f=0,p=0,d=0,h=1,y=2,v=3,m=4,g=12,b=5,_=6,w=5,x=6,S=0,k=1,T=2,E=3,I=4,C=2,O=1,L=2,A=4,M=1.05,N=3,R=5,P=6,F=1.15,j=2,D=8,U=500,V=10,B=2,H=0,z=1,W=4,G=8,J=4,q=1})),s.register("acTpS",(function(e,t){e.exports=s("4WKyX")(s("aNJCr").getBundleURL("9p9yL")+s("iE7OH").resolve("xjh3K")).then((function(){return s("kkmVT")}))})),s.register("71zrS",(function(t,r){e(t.exports,"conversionTypeKebabDict",(function(){return n}));var n=new(0,s("79ASa").JSONMap)({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"})}));s.register("87zjX",(function(t,r){e(t.exports,"generalizeToRESTParameters",(function(){return o}));var n=s("79ASa"),i=s("79LpT"),a=new(0,n.JSONMap)({109006:"centimeters",9102:"decimal-degrees",109005:"decimeters",9002:"feet",109009:"inches",9036:"kilometers",9001:"meters",9035:"miles",109007:"millimeters",109012:"nautical-miles",9096:"yards"});function o(e){var t=e.toJSON(),r=t.geometries,n=t.deviationUnit,o={maxDeviation:t.maxDeviation};return r&&r.length&&(o.geometries=JSON.stringify({geometryType:(0,i.getJsonType)(r[0]),geometries:r}),o.sr=JSON.stringify(r[0].spatialReference)),a.write(n,o,"deviationUnit"),o}})),s.register("5QT0o",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("1XAcN"),c=s("iho5X");s("lNwWH"),s("2VlWd");var f=s("iJAIC"),p=s("fcwIv"),d=s("79LpT"),h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).deviationUnit=null,n.geometries=null,n.maxDeviation=null,o.default(n)}return r}(u.JSONSupport);(0,l._)([(0,c.property)({type:String,json:{write:!0}})],h.prototype,"deviationUnit",void 0),(0,l._)([(0,c.property)({json:{read:{reader:function(e){return e?e.map((function(e){return(0,d.fromJSON)(e)})):null}},write:{writer:function(e,t){t.geometries=e.map((function(e){return e.toJSON()}))}}}})],h.prototype,"geometries",void 0),(0,l._)([(0,c.property)({type:Number,json:{write:!0}})],h.prototype,"maxDeviation",void 0),(h=(0,l._)([(0,p.subclass)("esri.rest.support.GeneralizeParameters")],h)).from=(0,f.ensureType)(h);var y=h})),s.register("ianYB",(function(t,r){e(t.exports,"lengthsToRESTParameters",(function(){return i}));var n=new(0,s("79ASa").JSONMap)({preserveShape:"preserve-shape"});function i(e){var t=e.toJSON(),r=t.polylines,i=t.lengthUnit,a=t.geodesic,o=t.calculationType,s={};s.polylines=JSON.stringify(r);var l=e.polylines[0].spatialReference;return s.sr=l.wkid?l.wkid:JSON.stringify(l.toJSON()),i&&(s.lengthUnit=i),a&&(s.geodesic=a),o&&(s.calculationType=n.toJSON(o)),s}})),s.register("nnDFM",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO");s("2ILM8");var u=s("1XAcN"),c=s("iho5X");s("lNwWH"),s("2VlWd");var f=s("iJAIC"),p=s("fcwIv"),d=s("79LpT"),h=s("95Tg0"),y=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).calculationType=null,n.geodesic=null,n.lengthUnit=null,n.polylines=null,o.default(n)}return r}(u.JSONSupport);(0,l._)([(0,c.property)({type:String,json:{write:!0}})],y.prototype,"calculationType",void 0),(0,l._)([(0,c.property)({type:Boolean,json:{write:!0}})],y.prototype,"geodesic",void 0),(0,l._)([(0,c.property)({json:{write:!0}})],y.prototype,"lengthUnit",void 0),(0,l._)([(0,c.property)({type:[h.default],json:{read:{reader:function(e){return e?e.map((function(e){return(0,d.fromJSON)(e)})):null}},write:{writer:function(e,t){t.polylines=e.map((function(e){return e.toJSON()}))}}}})],y.prototype,"polylines",void 0),(y=(0,l._)([(0,p.subclass)("esri.rest.support.LengthsParameters")],y)).from=(0,f.ensureType)(y);var v=y})),s.register("1VQ1t",(function(t,r){e(t.exports,"offsetToRESTParameters",(function(){return l}));var n=s("79ASa"),i=s("79LpT"),a=new(0,n.JSONMap)({esriGeometryOffsetBevelled:"bevelled",esriGeometryOffsetMitered:"mitered",esriGeometryOffsetRounded:"rounded"}),o=new(0,n.JSONMap)({9001:"meters",9002:"feet",9036:"kilometers",9093:"miles",109012:"nautical-miles",109001:"yards"});function l(e){var t=e.toJSON(),r=t.geometries,n=t.bevelRatio,s=t.offsetDistance,l=t.offsetHow,u=t.offsetUnit,c={bevelRatio:n,offsetDistance:s};return r&&r.length&&(c.geometries=JSON.stringify({geometryType:(0,i.getJsonType)(r[0]),geometries:r}),c.sr=JSON.stringify(r[0].spatialReference)),l&&(c.offsetHow=a.toJSON(l)),u&&(c.offsetUnit=o.toJSON(u)),c}})),s.register("kZ9tA",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("1XAcN"),c=s("iho5X");s("lNwWH"),s("2VlWd");var f=s("iJAIC"),p=s("fcwIv"),d=s("79LpT"),h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).bevelRatio=null,n.geometries=null,n.offsetDistance=null,n.offsetHow=null,n.offsetUnit=null,o.default(n)}return r}(u.JSONSupport);(0,l._)([(0,c.property)({type:Number,json:{write:!0}})],h.prototype,"bevelRatio",void 0),(0,l._)([(0,c.property)({json:{read:{reader:function(e){return e?e.map((function(e){return(0,d.fromJSON)(e)})):null}},write:{writer:function(e,t){t.geometries=e.map((function(e){return e.toJSON()}))}}}})],h.prototype,"geometries",void 0),(0,l._)([(0,c.property)({type:Number,json:{write:!0}})],h.prototype,"offsetDistance",void 0),(0,l._)([(0,c.property)({type:String,json:{write:!0}})],h.prototype,"offsetHow",void 0),(0,l._)([(0,c.property)({type:String,json:{write:!0}})],h.prototype,"offsetUnit",void 0),(h=(0,l._)([(0,p.subclass)("esri.rest.support.OffsetParameters")],h)).from=(0,f.ensureType)(h);var y=h})),s.register("8Gyem",(function(t,r){e(t.exports,"project",(function(){return y})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("9pNSx"),u=s("iJAIC"),c=s("79LpT"),f=s("dsJ7q"),p=s("4t1M8"),d=s("eV5OI"),h=(0,u.ensureType)(d.default);function y(e,t,r){return v.apply(this,arguments)}function v(){return(v=i.default(n(o).mark((function e(t,r,i){var s,u,d,y,v;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h(r),s=(0,f.parseUrl)(t),u=a.default({},s.query,{f:"json"},r.toJSON()),d=r.outSpatialReference,y=(0,c.getJsonType)(r.geometries[0]),v=(0,f.asValidOptions)(u,i),e.abrupt("return",(0,l.default)(s.path+"/project",v).then((function(e){var t=e.data.geometries;return(0,p.decodeGeometries)(t,y,d)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),s.register("4t1M8",(function(t,r){e(t.exports,"encodeGeometries",(function(){return i})),e(t.exports,"decodeGeometries",(function(){return a}));var n=s("79LpT");function i(e){return{geometryType:(0,n.getJsonType)(e[0]),geometries:e.map((function(e){return e.toJSON()}))}}function a(e,t,r){var i=(0,n.getGeometryType)(t);return e.map((function(e){var t=i.fromJSON(e);return t.spatialReference=r,t}))}})),s.register("eV5OI",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("7eJjO"),c=s("1XAcN"),f=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var p=s("fcwIv"),d=s("79LpT"),h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).geometries=null,n.outSpatialReference=null,n.transformation=null,n.transformForward=null,o.default(n)}return l.default(r,[{key:"toJSON",value:function(){var e=this.geometries.map((function(e){return e.toJSON()})),t=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:(0,d.getJsonType)(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}}]),r}(c.JSONSupport);(0,u._)([(0,f.property)()],h.prototype,"geometries",void 0),(0,u._)([(0,f.property)({json:{read:{source:"outSR"}}})],h.prototype,"outSpatialReference",void 0),(0,u._)([(0,f.property)()],h.prototype,"transformation",void 0),(0,u._)([(0,f.property)()],h.prototype,"transformForward",void 0);var y=h=(0,u._)([(0,p.subclass)("esri.rest.support.ProjectParameters")],h)})),s.register("hDy6B",(function(t,r){e(t.exports,"relationToRESTParameters",(function(){return o}));var n=s("79ASa"),i=s("79LpT"),a=new(0,n.JSONMap)({esriGeometryRelationCross:"cross",esriGeometryRelationDisjoint:"disjoint",esriGeometryRelationIn:"in",esriGeometryRelationInteriorIntersection:"interior-intersection",esriGeometryRelationIntersection:"intersection",esriGeometryRelationLineCoincidence:"line-coincidence",esriGeometryRelationLineTouch:"line-touch",esriGeometryRelationOverlap:"overlap",esriGeometryRelationPointTouch:"point-touch",esriGeometryRelationTouch:"touch",esriGeometryRelationWithin:"within",esriGeometryRelationRelation:"relation"});function o(e){var t=e.toJSON(),r=t.geometries1,n=t.geometries2,o=t.relation,s=t.relationParameter,l={};if(r&&r.length){l.geometries1=JSON.stringify({geometryType:(0,i.getJsonType)(r[0]),geometries:r});var u=r[0].spatialReference;l.sr=u.wkid?u.wkid:JSON.stringify(u)}return n&&n.length>0&&(l.geometries2=JSON.stringify({geometryType:(0,i.getJsonType)(n[0]),geometries:n})),o&&(l.relation=a.toJSON(o)),s&&(l.relationParam=s),l}})),s.register("iKaZP",(function(t,r){e(t.exports,"default",(function(){return y})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO"),u=s("1XAcN"),c=s("iho5X");s("lNwWH"),s("2VlWd");var f=s("iJAIC"),p=s("fcwIv"),d=s("79LpT"),h=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).geometries1=null,n.geometries2=null,n.relation=null,n.relationParameter=null,o.default(n)}return r}(u.JSONSupport);(0,l._)([(0,c.property)({json:{read:{reader:function(e){return e?e.map((function(e){return(0,d.fromJSON)(e)})):null}},write:{writer:function(e,t){t.geometries1=e.map((function(e){return e.toJSON()}))}}}})],h.prototype,"geometries1",void 0),(0,l._)([(0,c.property)({json:{read:{reader:function(e){return e?e.map((function(e){return(0,d.fromJSON)(e)})):null}},write:{writer:function(e,t){t.geometries2=e.map((function(e){return e.toJSON()}))}}}})],h.prototype,"geometries2",void 0),(0,l._)([(0,c.property)({type:String,json:{write:!0}})],h.prototype,"relation",void 0),(0,l._)([(0,c.property)({type:String,json:{write:!0}})],h.prototype,"relationParameter",void 0),(h=(0,l._)([(0,p.subclass)("esri.rest.support.RelationParameters")],h)).from=(0,f.ensureType)(h);var y=h})),s.register("gJEe4",(function(t,r){e(t.exports,"trimExtendToRESTParameters",(function(){return i}));var n=new(0,s("79ASa").JSONMap)({0:"default-curve-extension",1:"relocate-ends",2:"keep-end-attributes",4:"no-end-attributes",8:"no-extend-at-from",16:"no-extend-at-to"});function i(e){var t=e.toJSON(),r=t.extendHow,i=t.polylines,a=t.trimExtendTo,o={};return o.extendHow=n.toJSON(r),i&&i.length&&(o.polylines=JSON.stringify(i),o.sr=JSON.stringify(i[0].spatialReference)),a&&(o.trimExtendTo=JSON.stringify(a)),o}})),s.register("bBvGf",(function(t,r){e(t.exports,"default",(function(){return v})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("7eJjO");s("2ILM8");var u=s("1XAcN"),c=s("iho5X");s("lNwWH"),s("2VlWd");var f=s("iJAIC"),p=s("fcwIv"),d=s("79LpT"),h=s("95Tg0"),y=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).extendHow="default-curve-extension",n.polylines=null,n.trimExtendTo=null,o.default(n)}return r}(u.JSONSupport);(0,l._)([(0,c.property)({type:String,json:{write:!0}})],y.prototype,"extendHow",void 0),(0,l._)([(0,c.property)({type:[h.default],json:{read:{reader:function(e){return e?e.map((function(e){return(0,d.fromJSON)(e)})):null}},write:{writer:function(e,t){t.polylines=e.map((function(e){return e.toJSON()}))}}}})],y.prototype,"polylines",void 0),(0,l._)([(0,c.property)({json:{read:{reader:function(e){return e?(0,d.fromJSON)(e):null}},write:{writer:function(e,t){t.trimExtendTo=e.toJSON()}}}})],y.prototype,"trimExtendTo",void 0),(y=(0,l._)([(0,p.subclass)("esri.rest.support.TrimExtendParameters")],y)).from=(0,f.ensureType)(y);var v=y})),s.register("a4nX6",(function(t,r){e(t.exports,"EffectView",(function(){return _})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("5Vgx8"),c=s("7eJjO"),f=s("jymfC"),p=s("2VlWd"),d=s("flPLJ"),h=s("jHOLN"),y=s("iho5X");s("iJAIC");var v=s("fcwIv"),m=s("2oxAO"),g=s("dEkJf"),b=-1,_=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e))._from=null,n._to=null,n._final=null,n._current=[],n._time=0,n.duration=(0,p.default)("mapview-transitions-duration"),n.effects=[],o.default(n)}return l.default(r,[{key:"effect",set:function(e){if(this._get("effect")!==(e=e||"")){this._set("effect",e);try{this._transitionTo(w(e))}catch(t){this._transitionTo([]),h.default.getLogger(this.declaredClass).warn("Invalid Effect",{effect:e,error:t})}}}},{key:"hasEffects",get:function(){return this.transitioning||!!this.effects.length}},{key:"scale",set:function(e){this._updateForScale(e)}},{key:"transitioning",get:function(){return null!==this._to}},{key:"canTransitionTo",value:function(e){try{return this.scale>0&&x(this._current,w(e),this.scale)}catch(e){return!1}}},{key:"transitionStep",value:function(e,t){this._applyTimeTransition(e),this._updateForScale(t)}},{key:"end",value:function(){this._applyTimeTransition(this.duration)}},{key:"_transitionTo",value:function(e){this.scale>0&&x(this._current,e,this.scale)?(this._final=e,this._to=(0,d.clone)(e),function(e,t,r){for(var n,i,a=e.length>t.length?e:t,o=e.length>t.length?t:e,s=o[o.length-1],l=null!=(n=null==s?void 0:s.scale)?n:r,c=null!=(i=null==s?void 0:s.effects)?i:[],f=o.length;f<a.length;f++)o.push({scale:l,effects:u.default(c)});for(var p=0;p<a.length;p++)o[p].scale=o[p].scale===b?r:o[p].scale,a[p].scale=a[p].scale===b?r:a[p].scale,(0,g.normalizeEffects)(o[p].effects,a[p].effects)}(this._current,this._to,this.scale),this._from=(0,d.clone)(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=e),this._set("effects",this._current[0]?(0,d.clone)(this._current[0].effects):[])}},{key:"_applyTimeTransition",value:function(e){if(this._to&&this._from&&this._current&&this._final){this._time+=e;for(var t,r,n=Math.min(1,this._time/this.duration),i=0;i<this._current.length;i++){var a=this._current[i],o=this._from[i],s=this._to[i];a.scale=(t=o.scale,r=s.scale,t+(r-t)*n);for(var l=0;l<a.effects.length;l++){var u=a.effects[l],c=o.effects[l],f=s.effects[l];u.interpolate(c,f,n)}}1===n&&(this._current=this._final,this._set("effects",this._current[0]?(0,d.clone)(this._current[0].effects):[]),this._from=this._to=this._final=null)}}},{key:"_updateForScale",value:function(e){if(this._set("scale",e),0!==this._current.length){var t,r,n=this._current,i=this._current.length-1,a=1;if(1===n.length||e>=n[0].scale)r=t=n[0].effects;else if(e<=n[i].scale)r=t=n[i].effects;else for(var o=0;o<i;o++){var s=n[o],l=n[o+1];if(s.scale>=e&&l.scale<=e){a=(e-s.scale)/(l.scale-s.scale),t=s.effects,r=l.effects;break}}for(var u=0;u<this.effects.length;u++)this.effects[u].interpolate(t[u],r[u],a)}}}]),r}(f.default);function w(e){var t=(0,m.parse)(e)||[];return function(e){var t=e[0];return!!t&&"type"in t}(t)?[{scale:b,effects:t}]:t}function x(e,t,r){var n,i,a,o;return null==(n=e[0])||!n.effects||null==(i=t[0])||!i.effects||!(((null==(a=e[0])?void 0:a.scale)===b||(null==(o=t[0])?void 0:o.scale)===b)&&(e.length>1||t.length>1)&&r<=0)&&(0,g.canInterpolateEffects)(e[0].effects,t[0].effects)}(0,c._)([(0,y.property)()],_.prototype,"_to",void 0),(0,c._)([(0,y.property)()],_.prototype,"duration",void 0),(0,c._)([(0,y.property)({value:""})],_.prototype,"effect",null),(0,c._)([(0,y.property)({readOnly:!0})],_.prototype,"effects",void 0),(0,c._)([(0,y.property)({readOnly:!0})],_.prototype,"hasEffects",null),(0,c._)([(0,y.property)({value:0})],_.prototype,"scale",null),(0,c._)([(0,y.property)({readOnly:!0})],_.prototype,"transitioning",null),_=(0,c._)([(0,v.subclass)("esri.layers.effects.EffectView")],_)})),s.register("7vAR5",(function(t,r){e(t.exports,"ExportImageParameters",(function(){return _})),s("8TSCy");var n=s("g9uIT"),i=s("dap1g"),a=s("f9pi5"),o=s("bFSSc"),l=s("jK9zx"),u=s("ifq4M"),c=s("7eJjO"),f=s("jymfC"),p=s("6dXDO"),d=s("7qybv"),h=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");var y=s("fcwIv"),v=s("gRgX5"),m=s("dL9AF"),g=s("eMbRX"),b={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"},_=function(e){"use strict";n.default(r,e);var t=i.default(r);function r(e){var n;return a.default(this,r),(n=t.call(this,e)).floors=null,n.scale=0,o.default(n)}return l.default(r,[{key:"destroy",value:function(){this.layer=null}},{key:"dynamicLayers",get:function(){var e=this;if(!this.hasDynamicLayers)return null;var t=this.visibleSublayers.map((function(t){var r=(0,g.getLayerFloorFilterClause)(e.floors,t);return t.toExportImageJSON(r)}));return t.length?JSON.stringify(t):null}},{key:"hasDynamicLayers",get:function(){return this.layer&&(0,m.isExportDynamic)(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}},{key:"layer",set:function(e){var t=this;this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.allSublayers.on("change",(function(){return t.notifyChange("visibleSublayers")})),e.on("sublayer-update",(function(e){return t.notifyChange(b[e.propertyName])}))],"layer"))}},{key:"layers",get:function(){var e=this.visibleSublayers;return e?e.length?"show:"+e.map((function(e){return e.id})).join(","):"show:-1":null}},{key:"layerDefs",get:function(){var e,t=this,r=!(null==(e=this.floors)||!e.length),n=this.visibleSublayers.filter((function(e){return null!=e.definitionExpression||r&&null!=e.floorInfo}));return n.length?JSON.stringify(n.reduce((function(e,r){var n=(0,g.getLayerFloorFilterClause)(t.floors,r),i=(0,d.isSome)(n)?(0,g.combineFloorsDefinitionExpression)(n,r):r.definitionExpression;return e[r.id]=i,e}),{})):null}},{key:"version",get:function(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers"),this.commitProperty("timeExtent");var e=this.layer;return e&&(e.commitProperty("dpi"),e.commitProperty("imageFormat"),e.commitProperty("imageTransparency"),e.commitProperty("gdbVersion")),(this._get("version")||0)+1}},{key:"visibleSublayers",get:function(){var e=this,t=[];if(!this.layer)return t;var r=this.layer.sublayers,n=function(r){var i=e.scale,a=0===i,o=0===r.minScale||i<=r.minScale,s=0===r.maxScale||i>=r.maxScale;r.visible&&(a||o&&s)&&(r.sublayers?r.sublayers.forEach(n):t.unshift(r))};r&&r.forEach(n);var i=this._get("visibleSublayers");return!i||i.length!==t.length||i.some((function(e,r){return t[r]!==e}))?t:i}},{key:"toJSON",value:function(){var e=this.layer,t={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?t.dynamicLayers=this.dynamicLayers:t=u.default({},t,{layers:this.layers,layerDefs:this.layerDefs}),t}}]),r}((0,p.HandleOwnerMixin)(f.default));(0,c._)([(0,h.property)({readOnly:!0})],_.prototype,"dynamicLayers",null),(0,c._)([(0,h.property)()],_.prototype,"floors",void 0),(0,c._)([(0,h.property)({readOnly:!0})],_.prototype,"hasDynamicLayers",null),(0,c._)([(0,h.property)()],_.prototype,"layer",null),(0,c._)([(0,h.property)({readOnly:!0})],_.prototype,"layers",null),(0,c._)([(0,h.property)({readOnly:!0})],_.prototype,"layerDefs",null),(0,c._)([(0,h.property)({type:Number})],_.prototype,"scale",void 0),(0,c._)([(0,h.property)(v.combinedViewLayerTimeExtentProperty)],_.prototype,"timeExtent",void 0),(0,c._)([(0,h.property)({readOnly:!0})],_.prototype,"version",null),(0,c._)([(0,h.property)({readOnly:!0})],_.prototype,"visibleSublayers",null),_=(0,c._)([(0,y.subclass)("esri.layers.mixins.ExportImageParameters")],_)})),s.register("bFgGH",(function(t,r){e(t.exports,"renderSymbol",(function(){return d})),e(t.exports,"tintImageWithColor",(function(){return y}));var n=s("dLARP"),i=s("9pNSx"),a=s("5xAFh"),o=s("kyj08"),l=s("2VlWd");s("axJY9");var u=s("lvmVw"),c=s("iPUyc"),f=s("8NoYK"),p=(0,u.createProjector)();function d(e,t,r){var n=Math.ceil(t[0]),i=Math.ceil(t[1]);if(!e.some((function(e){return!!e.length})))return null;var a=r&&r.node||document.createElement("div");return null!=r.opacity&&(a.style.opacity=r.opacity.toString()),null!=r.effectView&&(a.style.filter=(0,f.getCSSFilterFromEffectList)(r.effectView)),p.append(a,c.renderSVG.bind(null,e,n,i,r)),a}function h(e,t,r,n,i){if("multiply"===i)e[t+0]*=r[0],e[t+1]*=r[1],e[t+2]*=r[2],e[t+3]*=r[3];else{var o=(0,a.toHSV)({r:e[t+0],g:e[t+1],b:e[t+2]});o.h=n.h,o.s=n.s,o.v=o.v/100*n.v;var s=(0,a.toRGB)(o);e[t+0]=s.r,e[t+1]=s.g,e[t+2]=s.b,e[t+3]*=r[3]}}function y(e,t,r,s,u){return(c=e,f=t,p=u,c?(0,i.default)(c,{responseType:"image"}).then((function(e){var t=e.data,r=t.width,n=t.height,i=r/n,a=f;if(p){var o=Math.max(r,n);a=Math.min(a,o)}return{image:t,width:i<=1?Math.ceil(a*i):a,height:i<=1?a:Math.ceil(a/i)}})):Promise.reject(new(0,o.default)("renderUtils: imageDataSize","href not provided."))).then((function(i){var o,u,c=i.width?i.width:t,f=i.height?i.height:t;if(i.image&&(u=s,(o=r)&&"ignore"!==u&&("multiply"!==u||255!==o.r||255!==o.g||255!==o.b||1!==o.a))){var p=i.image.width,d=i.image.height;(0,l.default)("edge")&&/\.svg$/i.test(e)&&(p-=1,d-=1);var y=function(e,t){e=Math.ceil(e),t=Math.ceil(t);var r=document.createElement("canvas");r.width=e,r.height=t,r.style.width=e+"px",r.style.height=t+"px";var n=r.getContext("2d");return n.clearRect(0,0,e,t),n}(c,f);y.drawImage(i.image,0,0,p,d,0,0,c,f);for(var v=y.getImageData(0,0,c,f),m=[r.r/255,r.g/255,r.b/255,r.a],g=(0,a.toHSV)(r),b=0;b<v.data.length;b+=4)h(v.data,b,m,g,s);y.putImageData(v,0,0),e=y.canvas.toDataURL("image/png")}else{var _=n.id&&n.id.findCredential(e);if(_&&_.token){var w=-1===e.indexOf("?")?"?":"&";e="".concat(e).concat(w,"token=").concat(_.token)}}return{url:e,width:c,height:f}})).catch((function(){return{url:e,width:t,height:t}}));var c,f,p}})),s.register("iPUyc",(function(t,r){e(t.exports,"renderShape",(function(){return x})),e(t.exports,"generateFillAttributes",(function(){return S})),e(t.exports,"generateStrokeAttributes",(function(){return k})),e(t.exports,"renderDef",(function(){return T})),e(t.exports,"getBoundingBox",(function(){return A})),e(t.exports,"computeBBox",(function(){return M})),e(t.exports,"getTransformMatrix",(function(){return N})),e(t.exports,"renderSVG",(function(){return R}));var n=s("jgs9n"),i=s("2VlWd"),a=s("cMCBC"),o=s("b4Wmd");s("6zpox"),s("jHOLN");var l=s("yibdR"),u=0,c=0,f=(0,i.default)("android"),p=(0,i.default)("chrome")||f&&f>=4?"auto":"optimizeLegibility",d={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},h=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,y={},v={},m={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},g=Math.PI,b=1;function _(e,t){var r=e*(g/180);return Math.abs(t*Math.sin(r))+Math.abs(t*Math.cos(r))}function w(e){return e.map((function(e){return"".concat(e.command," ").concat(e.values.join(" "))})).join(" ").trim()}function x(e,t,r,n){if(e){if("circle"===e.type)return(0,l.tsx)("circle",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,r:e.r});if("ellipse"===e.type)return(0,l.tsx)("ellipse",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,rx:e.rx,ry:e.ry});if("rect"===e.type)return(0,l.tsx)("rect",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",x:e.x,y:e.y,width:e.width,height:e.height});if("image"===e.type)return(0,l.tsx)("image",{href:e.src,x:e.x,y:e.y,width:e.width,height:e.height,preserveAspectRatio:"none"});if("path"===e.type){var i="string"!=typeof e.path?w(e.path):e.path;return(0,l.tsx)("path",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",d:i})}if("text"===e.type)return(0,l.tsx)("text",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4","text-anchor":n.align,"text-decoration":n.decoration,kerning:n.kerning,rotate:n.rotate,"text-rendering":p,"font-style":n.font.style,"font-variant":n.font.variant,"font-weight":n.font.weight,"font-size":n.font.size,"font-family":n.font.family,x:e.x,y:e.y},e.text)}return null}function S(e){var t={fill:"none",pattern:null,linearGradient:null};if(e)if("type"in e&&"pattern"===e.type){var r="patternId-"+ ++u;t.fill="url(#".concat(r,")"),t.pattern={id:r,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}}}else if("type"in e&&"linear"===e.type){var i="linearGradientId-"+ ++c;t.fill="url(#".concat(i,")"),t.linearGradient={id:i,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map((function(e){return{offset:e.offset,color:e.color&&new(0,n.default)(e.color).toString()}}))}}else if(e){var a=new(0,n.default)(e);t.fill=a.toString()}return t}function k(e){var t={color:"none",width:1,cap:"butt",join:"4",dashArray:"none"};if(e&&(null!=e.width&&(t.width=e.width),e.cap&&(t.cap=e.cap),e.join&&(t.join=e.join.toString()),e.color&&(t.color=new(0,n.default)(e.color).toString()),e.style)){var r=null;if(e.style in m&&(r=m[e.style]),Array.isArray(r)){r=r.slice(0);for(var i=0;i<r.length;++i)r[i]*=e.width;if("butt"!==e.cap){for(var a=0;a<r.length;a+=2)r[a]-=e.width,r[a]<1&&(r[a]=1);for(var o=1;o<r.length;o+=2)r[o]+=e.width}r=r.join(",")}t.dashArray=r}return t}function T(e){var t=e.pattern,r=e.linearGradient;if(t)return(0,l.tsx)("pattern",{id:t.id,patternUnits:"userSpaceOnUse",x:t.x,y:t.y,width:t.width,height:t.height},(0,l.tsx)("image",{x:t.image.x,y:t.image.y,width:t.image.width,height:t.image.height,href:t.image.href}));if(r){var n=r.stops.map((function(e,t){return(0,l.tsx)("stop",{key:"".concat(t,"-stop"),offset:e.offset,"stop-color":e.color})}));return(0,l.tsx)("linearGradient",{id:r.id,gradientUnits:"userSpaceOnUse",x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},n)}return null}function E(e,t,r){return(0,o.t)(e,(0,o.c)(e),[t,r])}function I(e,t,r,n,i){return(0,o.s)(e,(0,o.c)(e),[t,r]),e[4]=e[4]*t-n*t+n,e[5]=e[5]*r-i*r+i,e}function C(e,t){y&&"left"in y?(y.left>e&&(y.left=e),y.right<e&&(y.right=e),y.top>t&&(y.top=t),y.bottom<t&&(y.bottom=t)):y={left:e,bottom:t,right:e,top:t}}function O(e){var t,r=e.args,n=r.length;switch(e.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(t=0;t<n;t+=2)C(r[t],r[t+1]);v.x=r[n-2],v.y=r[n-1];break;case"H":for(t=0;t<n;++t)C(r[t],v.y);v.x=r[n-1];break;case"V":for(t=0;t<n;++t)C(v.x,r[t]);v.y=r[n-1];break;case"m":var i=0;"x"in v||(C(v.x=r[0],v.y=r[1]),i=2);for(t=i;t<n;t+=2)C(v.x+=r[t],v.y+=r[t+1]);break;case"l":case"t":for(t=0;t<n;t+=2)C(v.x+=r[t],v.y+=r[t+1]);break;case"h":for(t=0;t<n;++t)C(v.x+=r[t],v.y);break;case"v":for(t=0;t<n;++t)C(v.x,v.y+=r[t]);break;case"c":for(t=0;t<n;t+=6)C(v.x+r[t],v.y+r[t+1]),C(v.x+r[t+2],v.y+r[t+3]),C(v.x+=r[t+4],v.y+=r[t+5]);break;case"s":case"q":for(t=0;t<n;t+=4)C(v.x+r[t],v.y+r[t+1]),C(v.x+=r[t+2],v.y+=r[t+3]);break;case"A":for(t=0;t<n;t+=7)C(r[t+5],r[t+6]);v.x=r[n-2],v.y=r[n-1];break;case"a":for(t=0;t<n;t+=7)C(v.x+=r[t+5],v.y+=r[t+6])}}function L(e,t,r){var n,i=d[e.toLowerCase()];"number"==typeof i&&(i?t.length>=i&&(n={action:e,args:t.slice(0,t.length-t.length%i)},r.push(n),O(n)):(n={action:e,args:[]},r.push(n),O(n)))}function A(e){var t={x:0,y:0,width:0,height:0};if("circle"===e.type)t.x=e.cx-e.r,t.y=e.cy-e.r,t.width=2*e.r,t.height=2*e.r;else if("ellipse"===e.type)t.x=e.cx-e.rx,t.y=e.cy-e.ry,t.width=2*e.rx,t.height=2*e.ry;else if("image"===e.type||"rect"===e.type)t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height;else if("path"===e.type){var r=function(e){var t=("string"!=typeof e.path?w(e.path):e.path).match(h),r=[];if(y={},v={},!t)return null;for(var n="",i=[],a=t.length,o=0;o<a;++o){var s=t[o],l=parseFloat(s);isNaN(l)?(n&&L(n,i,r),i=[],n=s):i.push(l)}L(n,i,r);var u={x:0,y:0,width:0,height:0};return y&&"left"in y&&(u.x=y.left,u.y=y.top,u.width=y.right-y.left,u.height=y.bottom-y.top),u}(e);t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height}return t}function M(e){var t={x:0,y:0,width:0,height:0},r=null,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;r?(r.x=Math.min(r.x,c.x),r.y=Math.min(r.y,c.y),n=Math.max(n,c.x+c.width),i=Math.max(i,c.y+c.height)):((r=t).x=c.x,r.y=c.y,n=c.x+c.width,i=c.y+c.height)}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return r&&(r.width=n-r.x,r.height=i-r.y),r}function N(e,t,r,n,i,s,l,u,c){var f=(l&&s?_(s,t):t)/2,p=(l&&s?_(s,r):r)/2;if(c){var d=c[0],h=c[1];f=(l&&s?_(s,d):d)/2,p=(l&&s?_(s,h):h)/2}var y=e.width+n,v=e.height+n,m=(0,a.c)(),g=(0,a.c)(),b=!1;if(i&&0!==y&&0!==v){var w=t!==r?t/r:y/v,x=t>r?t:r,S=1,k=1;isNaN(x)||(w>1?(S=x/y,k=x/w/v):(k=x/v,S=x*w/y)),(0,o.m)(g,g,I(m,S,k,f,p)),b=!0}var T=e.x+(y-n)/2,C=e.y+(v-n)/2;if((0,o.m)(g,g,E(m,f-T,p-C)),!b&&(y>t||v>r)){var O=y/t>v/r,L=(O?t:r)/(O?y:v);(0,o.m)(g,g,I(m,L,L,T,C))}return s&&(0,o.m)(g,g,function(e,t,r,n){var i=t%360*Math.PI/180;(0,o.r)(e,(0,o.c)(e),i);var a=Math.cos(i),s=Math.sin(i),l=e[4],u=e[5];return e[4]=l*a-u*s+n*s-r*a+r,e[5]=u*a+l*s-r*s-n*a+n,e}(m,s,T,C)),u&&(0,o.m)(g,g,E(m,u[0],u[1])),"matrix(".concat(g[0],",").concat(g[1],",").concat(g[2],",").concat(g[3],",").concat(g[4],",").concat(g[5],")")}function R(e,t,r,n){var i=[],a=[],o=++b,s=function(e,t,r){var n=null==e?void 0:e.effects.find((function(e){return"bloom"===e.type}));if(!n)return null;var i=n.strength,a=n.radius,o=i>0?a:0,s=(i+o)*t,u=4*i+1;return(0,l.tsx)("filter",{id:"bloom".concat(r),x:"-100%",y:"-100%",width:"300%",height:"300%",filterUnits:"userSpaceOnUse"},(0,l.tsx)("feMorphology",{operator:"dilate",radius:(i+.5*o)*(Math.pow(5,t/100)*(.4+t/100)),in:"SourceGraphic",result:"dilate"}),(0,l.tsx)("feGaussianBlur",{in:"dilate",stdDeviation:s/25,result:"blur"}),(0,l.tsx)("feGaussianBlur",{in:"blur",stdDeviation:s/50,result:"intensityBlur"}),(0,l.tsx)("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},(0,l.tsx)("feFuncR",{type:"linear",slope:u}),(0,l.tsx)("feFuncG",{type:"linear",slope:u}),(0,l.tsx)("feFuncB",{type:"linear",slope:u})),(0,l.tsx)("feMerge",null,(0,l.tsx)("feMergeNode",{in:"intensityBlur"}),(0,l.tsx)("feMergeNode",{in:"intensityBrightness"}),(0,l.tsx)("feGaussianBlur",{stdDeviation:i/10})))}(null==n?void 0:n.effectView,t,o),u=null;if(s){var c,f=null==n||null==(c=n.effectView)?void 0:c.effects.find((function(e){return"bloom"===e.type})),p=(f.strength?f.strength+f.radius/2:0)/3,d=t+t*p,h=r+r*p;u=[Math.max(d,10),Math.max(h,10)]}var y,v,m,g=!0,w=!1,E=void 0;try{for(var I,C=e[Symbol.iterator]();!(g=(I=C.next()).done);g=!0){var O=I.value,L=[],R=[],P=0,F=0,j=0,D=!0,U=!1,V=void 0;try{for(var B,H=O[Symbol.iterator]();!(D=(B=H.next()).done);D=!0){var z=B.value,W=z.shape,G=z.fill,J=z.stroke,q=z.font,X=z.offset;P+=J&&J.width||0;var K=S(G),$=k(J),Y="text"===W.type?(v=q,m=void 0,m={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}},(y=W)&&(m.align=y.align,m.decoration=y.decoration,m.kerning=y.kerning?"auto":"0",m.rotate=y.rotated?"90":"0",m.font.style=v.style||"normal",m.font.variant=v.variant||"normal",m.font.weight=v.weight||"normal",m.font.size=v.size&&v.size.toString()||"10pt",m.font.family=v.family||"serif"),m):null;i.push(T(K)),L.push(x(W,K.fill,$,Y)),R.push(A(W)),X&&(F+=X[0],j+=X[1])}}catch(e){U=!0,V=e}finally{try{D||null==H.return||H.return()}finally{if(U)throw V}}var Z=N(M(R),t,r,P,null==n?void 0:n.scale,null==n?void 0:n.rotation,null==n?void 0:n.useRotationSize,[F,j],u);a.push((0,l.tsx)("g",{transform:Z},L))}}catch(e){w=!0,E=e}finally{try{g||null==C.return||C.return()}finally{if(w)throw E}}return null!=n&&n.useRotationSize&&null!=n&&n.rotation&&(t=_(null==n?void 0:n.rotation,t),r=_(null==n?void 0:n.rotation,r)),s&&(t=u[0],r=u[1]),(0,l.tsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r,style:"display: block;"},s,(0,l.tsx)("defs",null,i),s?(0,l.tsx)("g",{filter:"url(#bloom".concat(o,")")},a):a)}})),s.register("5TXU6",(function(t,r){e(t.exports,"getSymbolLayerFill",(function(){return A})),e(t.exports,"getPatternDescriptor",(function(){return M})),e(t.exports,"getSizeFromOptions",(function(){return D})),e(t.exports,"previewSymbol3D",(function(){return B})),s("8TSCy");var i=s("jcnGU"),a=s("ifq4M"),o=s("2TvXO"),l=s("i9j5X"),u=s("5xAFh");s("2VlWd");var c=s("kyj08"),f=s("jHOLN"),p=s("7qybv"),d=s("10vEZ"),h=s("iXlXu"),y=s("dNlty"),v=s("c35Oi"),m=s("5craB"),g=s("cBxZc"),b=s("bFgGH"),_=s("8NoYK"),w=s("cVYSt"),x=g.SymbolSizeDefaults.size,S=g.SymbolSizeDefaults.maxSize,k=g.SymbolSizeDefaults.maxOutlineSize,T=g.SymbolSizeDefaults.lineWidth,E=g.SymbolSizeDefaults.tallSymbolWidth,I=f.default.getLogger("esri.symbols.support.previewSymbol3D");function C(e){var t=e.outline,r=(0,p.isSome)(e.material)?e.material.color:null,n=(0,p.isSome)(r)?r.toHex():null;if((0,p.isNone)(t)||"pattern"in t&&(0,p.isSome)(t.pattern)&&"style"===t.pattern.type&&"none"===t.pattern.style)return"fill"===e.type&&"#ffffff"===n?{color:"#bdc3c7",width:.75}:null;var i=(0,h.pt2px)(t.size)||0;return{color:"rgba("+((0,p.isSome)(t.color)?t.color.toRgba():"255,255,255,1")+")",width:Math.min(i,k),style:"pattern"in t&&(0,p.isSome)(t.pattern)&&"style"===t.pattern.type?(0,y.dekebabifyLineStyle)(t.pattern.style):null,join:"butt",cap:"patternCap"in t?t.patternCap:"butt"}}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e.a,n=(0,u.toHSV)(e),i=n.h,a=n.s/t,o=100-(100-n.v)/t,s=(0,u.toRGB)({h:i,s:a,v:o}),l=s.r,c=s.g,f=s.b;return[l,c,f,r]}function L(e){return"water"===e.type?(0,p.isNone)(e.color)?null:e.color:(0,p.isNone)(e.material)||(0,p.isNone)(e.material.color)?null:e.material.color}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=L(e);if(!r){if("fill"===e.type)return null;var n=y.defaultThematicColor.r,i=(0,g.adjustColorComponentBrightness)(n,t);return[i,i,i,100]}for(var a=r.toRgba(),o=0;o<3;o++)a[o]=(0,g.adjustColorComponentBrightness)(a[o],t);return a}function M(e,t){return N.apply(this,arguments)}function N(){return(N=i.default(n(o).mark((function e(t,r){var i;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("none"!==(i=t.style)){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,(0,y.getPatternUrlWithColor)((0,l.getAssetUrl)("esri/symbols/patterns/".concat(i,".png")),r.toCss(!0));case 5:return e.t0=e.sent,e.abrupt("return",{type:"pattern",x:0,y:0,src:e.t0,width:5,height:5});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return e.outline?C(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function P(e,t){var r=L(e);if(!r)return null;var n="rgba(";return n+=(0,g.adjustColorComponentBrightness)(r.r,t)+",",n+=(0,g.adjustColorComponentBrightness)(r.g,t)+",",(n+=(0,g.adjustColorComponentBrightness)(r.b,t)+",")+r.a+");"}function F(e,t){var r=P(e,t);return r?"pattern"in e&&(0,p.isSome)(e.pattern)&&"style"===e.pattern.type&&"none"===e.pattern.style?null:{color:r,width:Math.min(e.size?(0,h.pt2px)(e.size):.75,k),style:"pattern"in e&&(0,p.isSome)(e.pattern)&&"style"===e.pattern.type?(0,y.dekebabifyLineStyle)(e.pattern.style):null,cap:"cap"in e?e.cap:null,join:"join"in e?"miter"===e.join?(0,h.pt2px)(2):e.join:null}:{}}function j(e,t,r){var n=.75*r;return{type:"linear",x1:n?.25*n:0,y1:n?.5*n:0,x2:n||4,y2:n?.5*n:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function D(e){var t="number"==typeof(null==e?void 0:e.size)?null==e?void 0:e.size:null;return t?(0,h.pt2px)(t):null}function U(e,t){var r,n=D(t),i=t&&t.maxSize?(0,h.pt2px)(t.maxSize):null,a=t&&t.disableUpsampling,o=e.symbolLayers,s=[],u=0,c=0,f=o.getItemAt(o.length-1);return f&&"icon"===f.type&&(r=f.size&&(0,h.pt2px)(f.size)),o.forEach((function(o){if("icon"===o.type||"object"===o.type){var f,p,d,y,k="icon"===o.type?o.size&&(0,h.pt2px)(o.size):0,T=n||k?Math.ceil(Math.min(n||k,i||S)):x;if(o&&o.resource&&o.resource.href){var I=function(e,t){var r=t&&t.resource,n=r&&r.href;if(e.thumbnail&&e.thumbnail.url)return Promise.resolve(e.thumbnail.url);if(n&&"object"!==t.type)return Promise.resolve((0,_.getIconHref)(e,t));var i=(0,l.getAssetUrl)("esri/images/Legend/legend3dsymboldefault.png");return e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)?(0,w.resolveWebStyleSymbol)(e.styleOrigin,{portal:e.styleOrigin.portal},"webRef").catch((function(e){return e})).then((function(e){var t;return(null==e||null==(t=e.thumbnail)?void 0:t.url)||i})):Promise.resolve(i)}(e,o).then((function(e){var t=o.get("material.color"),r="icon"===o.type?"multiply":"tint";return(0,b.tintImageWithColor)(e,T,t,r,a)})).then((function(e){var t=e.width,r=e.height;return u=Math.max(u,t),c=Math.max(c,r),[{shape:{type:"image",x:0,y:0,width:t,height:r,src:e.url},fill:null,stroke:null}]}));s.push(I)}else{var O,L=T;"icon"===o.type&&r&&n&&(L=T*(k/r));var M="tall"===(null==t?void 0:t.symbolConfig)||(null==t||null==(O=t.symbolConfig)?void 0:O.isTall)||"object"===o.type&&(p=(f=o).depth,d=f.height,(y=f.width)&&p&&d&&y===p&&y<d);u=Math.max(u,M?E:L),c=Math.max(c,L),s.push(Promise.resolve(function(e,t,r){var n=[];if(!e)return n;switch(e.type){case"icon":var i=t,a=t;switch(e.resource&&e.resource.primitive||v.defaultPrimitive){case"circle":n.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:A(e,0),stroke:C(e)});break;case"square":n.push({shape:{type:"path",path:[{command:"M",values:[0,a]},{command:"L",values:[0,0]},{command:"L",values:[i,0]},{command:"L",values:[i,a]},{command:"Z",values:[]}]},fill:A(e,0),stroke:C(e)});break;case"triangle":n.push({shape:{type:"path",path:[{command:"M",values:[0,a]},{command:"L",values:[.5*i,0]},{command:"L",values:[i,a]},{command:"Z",values:[]}]},fill:A(e,0),stroke:C(e)});break;case"cross":n.push({shape:{type:"path",path:[{command:"M",values:[.5*i,0]},{command:"L",values:[.5*i,a]},{command:"M",values:[0,.5*a]},{command:"L",values:[i,.5*a]}]},stroke:R(e)});break;case"x":n.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[i,a]},{command:"M",values:[i,0]},{command:"L",values:[0,a]}]},stroke:R(e)});break;case"kite":n.push({shape:{type:"path",path:[{command:"M",values:[0,.5*a]},{command:"L",values:[.5*i,0]},{command:"L",values:[i,.5*a]},{command:"L",values:[.5*i,a]},{command:"Z",values:[]}]},fill:A(e,0),stroke:C(e)})}break;case"object":switch(e.resource&&e.resource.primitive||m.defaultPrimitive){case"cone":var o=j(A(e,0),A(e,-.6),r?E:t),s=(0,g.getConeShapes)(t,r);n.push({shape:s[0],fill:o}),n.push({shape:s[1],fill:o});break;case"inverted-cone":var l=A(e,0),u=j(l,A(e,-.6),t),c=(0,g.getInvertedConeShapes)(t);n.push({shape:c[0],fill:u}),n.push({shape:c[1],fill:l});break;case"cube":var f=(0,g.getCubeShapes)(t,r);n.push({shape:f[0],fill:A(e,0)}),n.push({shape:f[1],fill:A(e,-.3)}),n.push({shape:f[2],fill:A(e,-.5)});break;case"cylinder":var p=j(A(e,0),A(e,-.6),r?E:t),d=(0,g.getCylinderShapes)(t,r);n.push({shape:d[0],fill:p}),n.push({shape:d[1],fill:p}),n.push({shape:d[2],fill:A(e,0)});break;case"diamond":var h=(0,g.getDiamondShapes)(t);n.push({shape:h[0],fill:A(e,-.3)}),n.push({shape:h[1],fill:A(e,0)}),n.push({shape:h[2],fill:A(e,-.3)}),n.push({shape:h[3],fill:A(e,-.7)});break;case"sphere":var y=j(A(e,0),A(e,-.6));y.x1=0,y.y1=0,y.x2=.25*t,y.y2=.25*t,n.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:y});break;case"tetrahedron":var b=(0,g.getTetrahedronShapes)(t);n.push({shape:b[0],fill:A(e,-.3)}),n.push({shape:b[1],fill:A(e,0)}),n.push({shape:b[2],fill:A(e,-.6)})}}return n}(o,L,M)))}}})),(0,d.eachAlways)(s).then((function(e){var r=[];return e.forEach((function(e){e.value?r.push(e.value):e.error&&I.warn("error while building swatchInfo!",e.error)})),(0,b.renderSymbol)(r,[u,c],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})}))}function V(){return(V=i.default(n(o).mark((function e(t,r){var i,s,l,u,c,f,d,y,v,m,_,w,k,T,E,I,N,R,P,j,U,V,B,H,z,W,G,J,q,X,K,$,Y;return n(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i="mesh-3d"===t.type,s=t.symbolLayers,l=D(r),u=r&&r.maxSize?(0,h.pt2px)(r.maxSize):null,c=l||x,f=[],d=0,y=0,v=!1,m=0;case 3:if(!(m<s.length)){e.next=42;break}if(_=s.getItemAt(m),w=[],!i||"fill"===_.type){e.next=7;break}return e.abrupt("continue",39);case 7:k=g.shapes.fill[0],e.t0=_.type,e.next="fill"===e.t0?11:"line"===e.t0?22:"extrude"===e.t0?28:"water"===e.t0?33:38;break;case 11:if(T=C(_),E=Math.min(c,u||S),d=Math.max(d,E),y=Math.max(y,E),v=!0,I=A(_,0),N="pattern"in _&&_.pattern,R=L(_),e.t1=!i&&(0,p.isSome)(N)&&"style"===N.type&&"solid"!==N.style&&R,!e.t1){e.next=20;break}return e.next=19,M(N,R);case 19:I=e.sent;case 20:return w.push({shape:k,fill:I,stroke:T}),e.abrupt("break",38);case 22:if(P=F(_,0),!(0,p.isNone)(P)){e.next=25;break}return e.abrupt("break",38);case 25:return j={stroke:P,shape:k},d=Math.max(d,x),y=Math.max(y,x),w.push(j),e.abrupt("break",38);case 28:return U=a.default({join:"round",width:1},F(_,-.4)),V=A(_,0),B=A(_,-.2),H=Math.min(c,u||S),z=(0,g.getExtrudeSymbolShapes)(H),U.width=1,w.push({shape:z[0],fill:B,stroke:U}),w.push({shape:z[1],fill:B,stroke:U}),w.push({shape:z[2],fill:V,stroke:U}),W=x,G=.7*x+.5*H,d=Math.max(d,W),y=Math.max(y,G),e.abrupt("break",38);case 33:return J=L(_),q=O(J),X=O(J,2),K=O(J,3),$=(0,g.getWaterSymbolShapes)(),v=!0,w.push({shape:$[0],fill:q}),w.push({shape:$[1],fill:X}),w.push({shape:$[2],fill:K}),Y=Math.min(c,u||S),d=Math.max(d,Y),y=Math.max(y,Y),e.abrupt("break",38);case 38:f.push(w);case 39:m++,e.next=3;break;case 42:return e.abrupt("return",Promise.resolve((0,b.renderSymbol)(f,[d,y],{node:r&&r.node,scale:v,opacity:r&&r.opacity})));case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){if(0===e.symbolLayers.length)return Promise.reject(new(0,c.default)("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(e.type){case"point-3d":return U(e,t);case"line-3d":return n=t,o=(r=e).symbolLayers,s=[],l=(0,_.isVolumetricSymbol)(r),u=D(n),f=(n&&n.maxSize?(0,h.pt2px)(n.maxSize):null)||k,d=0,y=0,o.forEach((function(e,t){if(e&&("line"===e.type||"path"===e.type)){var r=[];switch(e.type){case"line":var n=F(e,0);if((0,p.isNone)(n))break;var o=n&&n.width||0;0===t&&(i=o);var l=Math.min(u||o,f),c=0===t?l:u?l*(o/i):l,h=c>T/2?2*c:T;y=Math.max(y,c),d=Math.max(d,h),n.width=c,r.push({shape:{type:"path",path:[{command:"M",values:[0,.5*y]},{command:"L",values:[d,.5*y]}]},stroke:n});break;case"path":var v=Math.min(u||x,f),m=A(e,0),b=A(e,-.2),_=P(e,-.4),w=_?{color:_,width:1}:{};if("quad"===e.profile){var S=e.width,k=e.height,E=(0,g.getPathSymbolShapes)(S&&k?S/k:1,0===k,0===S),I=a.default({},w,{join:"bevel"});r.push({shape:E[0],fill:b,stroke:I}),r.push({shape:E[1],fill:b,stroke:I}),r.push({shape:E[2],fill:m,stroke:I})}else r.push({shape:g.shapes.pathSymbol3DLayer[0],fill:b,stroke:w}),r.push({shape:g.shapes.pathSymbol3DLayer[1],fill:m,stroke:w});y=Math.max(y,v),d=y}s.push(r)}})),Promise.resolve((0,b.renderSymbol)(s,[d,y],{node:n&&n.node,scale:l,opacity:n&&n.opacity}));case"polygon-3d":case"mesh-3d":return function(e,t){return V.apply(this,arguments)}(e,t)}var r,n,i,o,s,l,u,f,d,y;return Promise.reject(new(0,c.default)("symbolPreview: swatchInfo3D","symbol not supported."))}})),s.register("cVYSt",(function(t,r){e(t.exports,"resolveWebStyleSymbol",(function(){return h})),e(t.exports,"fetchSymbolFromStyle",(function(){return y}));var n=s("cM5QQ"),i=s("3gVHR"),a=s("kyj08"),o=s("kYueh"),l=s("ajJOT"),u=s("9ELaA"),c=s("3Lb13"),f=s("97VC5"),p=s("dmPQi"),d=s("3Hb4Y");function h(e,t,r,n){return e.name?e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?(i=e,s=t,l=n,u=p.Style2DUrlTemplate.replace(/\{SymbolName\}/gi,i.name),(0,p.requestJSON)(u,l).then((function(e){var t=(0,p.makeCIMSymbolRef)(e.data);return(0,c.fromJSON)(t,{portal:s.portal,url:(0,o.urlToObject)((0,o.removeFile)(u)),origin:"portal-item"})}))):(0,p.fetchStyle)(e,t,n).then((function(i){return y(i,e.name,t,r,n)})):Promise.reject(new(0,a.default)("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"));var i,s,l,u}function y(e,t,r,s,h){var y=e.data,v={portal:r&&r.portal||l.default.getDefault(),url:(0,o.urlToObject)(e.baseUrl),origin:"portal-item"},m=y.items.find((function(e){return e.name===t}));if(!m){var g="The symbol name '".concat(t,"' could not be found");return Promise.reject(new(0,a.default)("symbolstyleutils:symbol-name-not-found",g,{symbolName:t}))}var b=(0,u.f)((0,p.symbolUrlFromStyleItem)(m,s),v),_=m.thumbnail&&m.thumbnail.href,w=m.thumbnail&&m.thumbnail.imageData;(0,i.isDevEnvironment)()&&(b=(0,i.adjustStaticAGOUrl)(b),_=(0,i.adjustStaticAGOUrl)(_));var x={portal:r.portal,url:(0,o.urlToObject)((0,o.removeFile)(b)),origin:"portal-item"};return(0,p.requestJSON)(b,h).then((function(i){var a="cimRef"===s?(0,p.makeCIMSymbolRef)(i.data):i.data,o=(0,c.fromJSON)(a,x);if(o&&(0,n.isSymbol3D)(o)){if(_){var l=(0,u.f)(_,v);o.thumbnail=new(0,d.Thumbnail)({url:l})}else w&&(o.thumbnail=new(0,d.Thumbnail)({url:"data:image/png;base64,".concat(w)}));e.styleUrl?o.styleOrigin=new(0,f.default)({portal:r.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(o.styleOrigin=new(0,f.default)({portal:r.portal,styleName:e.styleName,name:t}))}return o}))}})),s.register("3gVHR",(function(t,r){function n(e){return e=e||globalThis.location.hostname,u.some((function(t){var r;return null!=(null==(r=e)?void 0:r.match(t))}))}function i(e,t){return e&&(t=t||globalThis.location.hostname)?null!=t.match(a)||null!=t.match(s)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(o)||null!=t.match(l)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}e(t.exports,"isDevEnvironment",(function(){return n})),e(t.exports,"adjustStaticAGOUrl",(function(){return i}));var a=/^devext.arcgis.com$/,o=/^qaext.arcgis.com$/,s=/^[\w-]*\.mapsdevext.arcgis.com$/,l=/^[\w-]*\.mapsqa.arcgis.com$/,u=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,a,o,/^jsapps.esri.com$/,s,l]})),s.register("2CGtF",(function(t,i){r(t.exports),e(t.exports,"default",(function(){return $})),s("8TSCy");var a=s("g9uIT"),o=s("dap1g"),l=s("f9pi5"),u=s("5Vgx8"),c=s("bFSSc"),f=s("jK9zx"),p=s("ifq4M"),d=s("jcnGU"),h=s("2TvXO"),y=s("7eJjO"),v=s("9pNSx"),m=s("9DeZf"),g=s("kyj08"),b=s("6dXDO"),_=s("9MlGz"),w=s("7qybv"),x=s("8NioF"),S=s("10vEZ"),k=s("iho5X");s("lNwWH"),s("2VlWd");var T=s("iJAIC"),E=s("eB8sj"),I=s("fcwIv"),C=s("kced1"),O=s("Ej9Ns"),L=s("gINRd"),A=s("k0Vu4"),M=s("4LDxK"),N=s("jy0BF"),R=s("ds6X2"),P=s("aLy89"),F=s("gIXJ2"),j=s("cv2jJ"),D=s("5N5S1"),U=s("9bAYR"),V=s("13Qxf"),B=s("3GzOb"),H=s("bMJ3b"),z=s("2t08e"),W=s("gRgX5"),G=s("7vAR5"),J=s("5qsk3"),q=s("dL9AF"),X=s("iaMRW"),K=function(e){"use strict";a.default(r,e);var t=o.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a;return l.default(this,r),(a=t.call.apply(t,[this].concat(u.default(n)))).datesInUnknownTimezone=!1,a.dpi=96,a.gdbVersion=null,a.imageFormat="png24",a.imageMaxHeight=2048,a.imageMaxWidth=2048,a.imageTransparency=!0,a.isReference=null,a.labelsVisible=!1,a.operationalLayerType="ArcGISMapServiceLayer",a.sourceJSON=null,a.sublayers=null,a.type="map-image",a.url=null,c.default(a)}return f.default(r,[{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?p.default({url:e},t):e}},{key:"load",value:function(e){var t=this,r=(0,w.isSome)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).catch(S.throwIfAbortError).then((function(){return t._fetchService(r)}))),Promise.resolve(this)}},{key:"readImageFormat",value:function(e,t){var r=t.supportedImageFormatTypes;return r&&r.indexOf("PNG32")>-1?"png32":"png24"}},{key:"writeSublayers",value:function(e,t,r,n){if(this.loaded&&e){var i=e.slice().reverse().flatten((function(e){var t=e.sublayers;return t&&t.toArray().reverse()})).toArray(),a=!1;if(this.capabilities&&this.capabilities.operations.supportsExportMap&&this.capabilities.exportMap.supportsDynamicLayers){var o=(0,O.nameToId)(n.origin);if(o===O.OriginId.PORTAL_ITEM){var s=this.createSublayersForOrigin("service").sublayers;a=(0,q.shouldWriteSublayerStructure)(i,s,O.OriginId.SERVICE)}else if(o>O.OriginId.PORTAL_ITEM){var l=this.createSublayersForOrigin("portal-item");a=(0,q.shouldWriteSublayerStructure)(i,l.sublayers,(0,O.nameToId)(l.origin))}}var u=[],c=p.default({writeSublayerStructure:a},n),f=a;i.forEach((function(e){var t=e.write({},c);u.push(t),f=f||"user"===e.originOf("visible")})),u.some((function(e){return Object.keys(e).length>1}))&&(t.layers=u),f&&(t.visibleLayers=i.filter((function(e){return e.visible})).map((function(e){return e.id})))}}},{key:"createExportImageParameters",value:function(e,t,r,n){var i=n&&n.pixelRatio||1;e&&this.version>=10&&(e=e.clone().shiftCentralMeridian());var a=new(0,G.ExportImageParameters)({layer:this,floors:null==n?void 0:n.floors,scale:(0,A.getScale)({extent:e,width:t})*i}),o=a.toJSON();a.destroy();var s=!n||!n.rotation||this.version<10.3?{}:{rotation:-n.rotation},l=e&&e.spatialReference,u=l.wkid||JSON.stringify(l.toJSON());o.dpi*=i;var c={};if(null!=n&&n.timeExtent){var f=n.timeExtent.toJSON(),d=f.start,h=f.end;c.time=d&&h&&d===h?""+d:"".concat(null==d?"null":d,",").concat(null==h?"null":h)}else this.timeInfo&&!this.timeInfo.hasLiveData&&(c.time="null,null");return p.default({bbox:e&&e.xmin+","+e.ymin+","+e.xmax+","+e.ymax,bboxSR:u,imageSR:u,size:t+","+r},o,s,c)}},{key:"fetchImage",value:function(e,t,r,i){var a=this;return d.default(n(h).mark((function o(){var s,l,u;return n(h).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l={responseType:"image",signal:null!=(s=null==i?void 0:i.signal)?s:null,query:p.default({},a.parsedUrl.query,a.createExportImageParameters(e,t,r,i),{f:"image"},a.refreshParameters,a.customParameters,{token:a.apiKey})},u=a.parsedUrl.path+"/export",null==l.query.dynamicLayers||a.capabilities.exportMap.supportsDynamicLayers){n.next=4;break}return n.abrupt("return",Promise.reject(new(0,g.default)("mapimagelayer:dynamiclayer-not-supported","service ".concat(a.url," doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source."),{query:l.query})));case 4:return n.abrupt("return",(0,v.default)(u,l).then((function(e){return e.data})).catch((function(e){if((0,S.isAbortError)(e))throw e;throw new(0,g.default)("mapimagelayer:image-fetch-error","Unable to load image: ".concat(u),{error:e})})));case 5:case"end":return n.stop()}}),o)})))()}},{key:"fetchRecomputedExtents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return d.default(n(h).mark((function r(){var i,a,o,s,l,u,c;return n(h).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=p.default({},e,{query:p.default({returnUpdates:!0,f:"json"},t.customParameters,{token:t.apiKey})}),r.next=3,(0,v.default)(t.url,i);case 3:return a=r.sent,o=a.data,s=o.extent,l=o.fullExtent,u=o.timeExtent,c=s||l,r.abrupt("return",{fullExtent:c&&L.default.fromJSON(c),timeExtent:u&&m.default.fromJSON({start:u[0],end:u[1]})});case 10:case"end":return r.stop()}}),r)})))()}},{key:"loadAll",value:function(){var e=this;return(0,_.loadAll)(this,(function(t){t(e.allSublayers)}))}},{key:"serviceSupportsSpatialReference",value:function(e){return(0,X.serviceSupportsSpatialReference)(this,e)}},{key:"_fetchService",value:function(e){var t=this;return d.default(n(h).mark((function r(){var i,a;return n(h).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.sourceJSON){r.next=2;break}return r.abrupt("return",void t.read(t.sourceJSON,{origin:"service",url:t.parsedUrl}));case 2:return r.next=4,(0,v.default)(t.parsedUrl.path,{query:p.default({f:"json"},t.parsedUrl.query,t.customParameters,{token:t.apiKey}),signal:e});case 4:i=r.sent,a=i.data,i.ssl&&(t.url=t.url.replace(/^http:/i,"https:")),t.sourceJSON=a,t.read(a,{origin:"service",url:t.parsedUrl});case 8:case"end":return r.stop()}}),r)})))()}}]),r}((0,F.BlendLayer)((0,z.TemporalLayer)((0,B.ScaleRangeLayer)((0,H.SublayersOwner)((0,R.ArcGISMapService)((0,P.ArcGISService)((0,D.OperationalLayer)((0,U.PortalLayer)((0,x.MultiOriginJSONMixin)((0,V.RefreshableLayer)((0,N.APIKeyMixin)((0,j.CustomParametersMixin)((0,b.HandleOwnerMixin)(M.default))))))))))))));(0,y._)([(0,k.property)({type:Boolean})],K.prototype,"datesInUnknownTimezone",void 0),(0,y._)([(0,k.property)()],K.prototype,"dpi",void 0),(0,y._)([(0,k.property)()],K.prototype,"gdbVersion",void 0),(0,y._)([(0,k.property)()],K.prototype,"imageFormat",void 0),(0,y._)([(0,E.reader)("imageFormat",["supportedImageFormatTypes"])],K.prototype,"readImageFormat",null),(0,y._)([(0,k.property)({json:{origins:{service:{read:{source:"maxImageHeight"}}}}})],K.prototype,"imageMaxHeight",void 0),(0,y._)([(0,k.property)({json:{origins:{service:{read:{source:"maxImageWidth"}}}}})],K.prototype,"imageMaxWidth",void 0),(0,y._)([(0,k.property)()],K.prototype,"imageTransparency",void 0),(0,y._)([(0,k.property)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],K.prototype,"isReference",void 0),(0,y._)([(0,k.property)({json:{read:!1,write:!1}})],K.prototype,"labelsVisible",void 0),(0,y._)([(0,k.property)({type:["ArcGISMapServiceLayer"]})],K.prototype,"operationalLayerType",void 0),(0,y._)([(0,k.property)({json:{read:!1,write:!1}})],K.prototype,"popupEnabled",void 0),(0,y._)([(0,k.property)()],K.prototype,"sourceJSON",void 0),(0,y._)([(0,k.property)({json:{write:{ignoreOrigin:!0}}})],K.prototype,"sublayers",void 0),(0,y._)([(0,C.writer)("sublayers",{layers:{type:[J.default]},visibleLayers:{type:[T.Integer]}})],K.prototype,"writeSublayers",null),(0,y._)([(0,k.property)({type:["show","hide","hide-children"]})],K.prototype,"listMode",void 0),(0,y._)([(0,k.property)({json:{read:!1},readOnly:!0,value:"map-image"})],K.prototype,"type",void 0),(0,y._)([(0,k.property)(W.url)],K.prototype,"url",void 0);var $=K=(0,y._)([(0,I.subclass)("esri.layers.MapImageLayer")],K)})),s("iE7OH").register(JSON.parse('{"9p9yL":"index.a528f241.js","3EXx4":"request.06c3f9e1.js","al1SC":"request.578a2c5f.js","fhBiJ":"IdentityManager.73735d52.js","k4uMW":"shadow-css.93c403df.js","38nlG":"PortalItem.473adfad.js","lMUHQ":"resourceUtils.ab22ee91.js","g1BEA":"PortalGroup.ba8c8e24.js","fJnUX":"PortalUser.132903c8.js","gQmW2":"Basemap.8c5f84d8.js","92xMW":"layersCreator.6c20858e.js","ihA8s":"arcgisLayers.96fdb6ec.js","f3pY0":"BingMapsLayer.514fd544.js","ehAuN":"BuildingSceneLayer.5aca6864.js","9gLwi":"BuildingSceneLayer.078754f6.js","5DuLk":"schemaValidator.9231633d.js","hoe6s":"BuildingSceneLayer.3e8f900f.js","8xKMC":"BuildingSceneLayer.78c5c2cd.js","fYT6T":"CSVLayer.35faa551.js","6Qw24":"ElevationLayer.af16bc5f.js","k6tQN":"ElevationQuery.d8a1665d.js","55FX7":"FeatureLayer.d23fab33.js","l5Wbg":"editingSupport.e59a7fc3.js","9NcSU":"FeatureLayerSource.b943ebd1.js","3PyzW":"GroupLayer.f3cc1808.js","ex7zq":"GeoRSSLayer.8ff9b9a7.js","ebkeC":"GeoJSONLayer.4afab30b.js","2ywvw":"ImageryLayer.05acafa5.js","gs1ib":"ImageryLayer.f990de2a.js","894JC":"ImageryLayer.a1a051f7.js","i5Rau":"lerc-wasm.8ffec0c1.js","33h8u":"ImageryLayer.b9232c92.js","jBpnf":"ImageryLayer.95860883.js","jKG7E":"ImageryTileLayer.943159d4.js","fSCWj":"ImageryTileLayer.62987f88.js","ccGkE":"IntegratedMeshLayer.812aef41.js","e5HkO":"KMLLayer.61cc80f8.js","aWe0x":"MapImageLayer.c8b5b12c.js","bIcJH":"MapNotesLayer.46b106c3.js","74VV5":"OGCFeatureLayer.bcb25cbe.js","f96if":"GeoJSONSourceWorker.38334a05.js","8iwCO":"Pipeline.e1218031.js","kHKat":"OpenStreetMapLayer.ce379734.js","kYckf":"OpenStreetMapLayer.71ff1b18.js","hn2fB":"PointCloudLayer.701227ab.js","gt13X":"PointCloudLayer.0887f52d.js","1g0iB":"RouteLayer.a16475b8.js","7NfmM":"ClosestFacilityTask.61389b62.js","eqi7U":"SceneLayer.715d74f0.js","8tTjL":"StreamLayer.db586c07.js","iYbbF":"TileLayer.ec26862c.js","lboAR":"UnknownLayer.fe5d16af.js","5r2kZ":"UnsupportedLayer.4e0d38d5.js","dfOWB":"VectorTileLayer.3bb68bba.js","jqBZs":"VoxelLayer.ffb7397e.js","8rr3j":"vxlLayer.8e1d462c.js","gXTRO":"WebTileLayer.bceeb8f8.js","gI6gk":"WFSLayer.44f2cb78.js","4cUy4":"WFSLayer.1292c178.js","bbKls":"WMSLayer.d78b3fd1.js","jJaCD":"WMTSLayer.bb5f398f.js","eqm84":"ClosestFacilityTask.8cd71e1a.js","i0GP0":"arcadeUtils.60ffa4b2.js","al8ad":"geomasync.b5b0a120.js","dOuKD":"geomasync.bcccc5c1.js","eJ3K3":"geometryEngine.ae9c2a60.js","Km0rI":"geometryEngineWorker.0f2640aa.js","3eQsj":"geomsync.1ae3ea27.js","fnGjB":"arcadeAsyncRuntime.ce3bd7e2.js","S8gYA":"featureSetUtils.f655bc1e.js","6hdyD":"CSVSourceWorker.917206f6.js","j5U2t":"CSVSourceWorker.b89ac07d.js","8ze8K":"featureSetUtils.e6af23e4.js","iursJ":"featureSetUtils.45593de6.js","bwvo4":"featuresetbase.59dc6b26.js","j4JQq":"featuresetgeom.bc118deb.js","bsWcR":"featuresetstats.0248a88f.js","9wTFF":"featuresetstring.d53dddb4.js","9ZckW":"statsWorker.213a2569.js","9Txsk":"geometryEngineWorker.7476d6f3.js","9JJ0n":"CSVSourceWorker.133747f6.js","8c89X":"CSVSourceWorker.af44615f.js","vg0wl":"geometryEngineJSON.98fac709.js","e9iZe":"CSVSourceWorker.9136cc71.js","enCB8":"pe-wasm.ffb3106f.js","9ESom":"geometryEngineBase.906b791b.js","20VjG":"hydrated.7525ce0f.js","epUi4":"EdgeProcessingWorker.ac61484d.js","9f5d1":"EdgeProcessingWorker.9c4ef2ee.js","KN9dG":"ElevationSamplerWorker.681a41d0.js","ep82W":"ElevationSamplerWorker.0411008c.js","8SHJF":"FeatureServiceSnappingSourceWorker.b03e9964.js","cUtJI":"GeoJSONSourceWorker.8df55fbc.js","dH36x":"LercWorker.99170e7a.js","2nD6L":"MemorySourceWorker.92cc01ac.js","2eYgr":"PBFDecoderWorker.dc86299f.js","b3gJV":"Pipeline.ac9c299c.js","ef3zG":"HeatmapProcessor.ba60f220.js","iT6wT":"SymbolProcessor.1111cbc2.js","2FSCg":"SymbolProcessor.802d3325.js","4BbkU":"SymbolProcessor.8868e4a0.js","gPWYb":"SymbolProcessor.121cad3d.js","29UfA":"createSymbolSchema.81a413a5.js","8Epn2":"DictionaryLoader.37d66442.js","16ztO":"SymbolProcessor.16f3c61d.js","6NR5v":"libtess-asm.3bb0c0e1.js","5N1h7":"libtess.418f9ab9.js","8N9PD":"SymbolProcessor.10ece5a7.js","2lYZ9":"SymbolProcessor.7798c368.js","eLcBA":"Pipeline.ca070c19.js","aYE2P":"Pipeline.dc39a421.js","cz7gJ":"Pipeline.73decabb.js","eeyk4":"labelFormatUtils.47fd756b.js","cgD2M":"WhereClause.f460a38e.js","8EaKC":"Pipeline.d5d350af.js","1NzFX":"FeatureFilter.7c4d0e43.js","j0WEn":"webStyleSymbolUtils.baf9f1e4.js","kcJXD":"arcgisLayers.45e03989.js","avUEr":"layersLoader.6ac53746.js","3sUCe":"symbolLayerUtils.23a3ad2e.js","8E9o0":"objectResourceUtils.6e2a0dcb.js","gXmoU":"basis_transcoder.47e07ac4.js","hA0eb":"DefaultMaterial.glsl.55025634.js","qiuYd":"RealisticTree.glsl.31ac6d50.js","4SbGZ":"objectResourceUtils.43309e94.js","1LDdt":"objectResourceUtils.9773c025.js","19UW4":"objectResourceUtils.0bae765d.js","buzSS":"query.03a6449f.js","8sKBp":"FeatureSet.7576dcc5.js","lwXPz":"portalLayers.27fe4d83.js","c0ZBe":"meshFeatureSet.1747ff92.js","g86MI":"loadGLTFMesh.7e19e7ef.js","h1U5Z":"gltfexport.835af747.js","k5oY2":"PointCloudWorker.035a89f8.js","2wJZH":"RasterWorker.3291bf8b.js","25Kje":"SceneLayerWorker.7db4f955.js","9O0mo":"i3s.f517cfb4.js","cLFQp":"WFSSourceWorker.ae756d59.js","4V7yl":"WorkerTileHandler.4f07052e.js","gjU9a":"GeometryService.320995f0.js","e9ULP":"PrintTask.bf64a30d.js","jkJqt":"RouteTask.196ec878.js","gdjkh":"ServiceAreaTask.e2619cd4.js","jrhGB":"ar.4d42ee1f.js","9SlG0":"bg_BG.d3aeabac.js","xpJum":"bs_BA.183efb7d.js","lC8sN":"ca_ES.465a8edb.js","7gdna":"cs_CZ.fcfb4109.js","9RtDg":"da_DK.0c6a63c3.js","htm2c":"de_DE.e9c6afb7.js","kdkgT":"de_CH.498db413.js","gQr0N":"el_GR.21b4aed7.js","jEG16":"en_US.b732ebd1.js","fVknj":"en_CA.31cf3e8a.js","g4V27":"es_ES.5b0d750f.js","h2kjm":"et_EE.68531ec3.js","kllpC":"fi_FI.3484d476.js","drbZl":"fr_FR.a180d4c4.js","5nPd7":"he_IL.7f18a8a0.js","jNHOp":"hr_HR.59b46119.js","2GTDy":"hu_HU.6ed1caa8.js","cjWDf":"id_ID.dd27b63f.js","2uJu3":"it_IT.2be32a3a.js","fj9eL":"ja_JP.13b2979d.js","i1c27":"ko_KR.286eb80c.js","3Lk6X":"lt_LT.91ff5cd5.js","6jfRU":"lv_LV.14b85b72.js","ar14b":"nb_NO.06bc63a4.js","kGMXn":"nl_NL.459b120d.js","8d9Uu":"pl_PL.bca03a23.js","dpZtI":"pt_BR.a9aa1bdd.js","5wR44":"pt_PT.621164a0.js","f9y8p":"ro_RO.f882dfef.js","ck8HV":"ru_RU.aeeedb4e.js","jlJHr":"sk_SK.c5fec898.js","2SZiy":"sl_SL.7d16b6ec.js","4xOUv":"sr_RS.256a5218.js","dmAj6":"sv_SE.5a8e089c.js","jRXuP":"th_TH.010fe179.js","2hYhv":"tr_TR.a95b00b0.js","lv2Fc":"uk_UA.cf17db19.js","imv9E":"vi_VN.5a111ba3.js","bHZq7":"zh_Hans.069f0501.js","fgGfW":"zh_Hant.46fb5e9a.js","28mjO":"chunks.d1edcdf7.js","2wyYU":"calcite-notice.5f95102a.js","cCJoO":"previewWebStyleSymbol.2557f95b.js","3m7eS":"previewSymbol3D.3574462c.js","1XcNv":"previewSymbol2D.9533ae04.js","5CgZu":"previewCIMSymbol.d0ebe496.js","kfhjL":"visualVariableUtils.072c505a.js","6P8cp":"geometryServiceUtils.f90ad170.js","9egUh":"webglDeps.bf708b6d.js","ghFVP":"webglDeps.299626c1.js","8Z92h":"mapViewDeps.c37a9707.js","1fup3":"mask-svg.195acb43.js","99lYH":"overlay-svg.2a3fbe90.js","7Hegi":"mapViewDeps.49108226.js","iE50C":"mapViewDeps.9493f694.js","3GLUi":"mapViewDeps.8fb029b7.js","9t5Hg":"mapViewDeps.b4711b2e.js","i5UZv":"TileLayerView2D.90405596.js","9Pwwm":"TileLayerView2D.1083e7ab.js","fNM3p":"FeatureLayerView2D.73ef3d87.js","kRbDc":"FeatureLayerView2D.eb362cb4.js","eA7fV":"SymbolTileRenderer.b8fb6d46.js","h6ouu":"HeatmapTileRenderer.0a57fd37.js","3QXPu":"BaseDynamicLayerView2D.667353cf.js","7nNUU":"BaseDynamicLayerView2D.70dcd2bf.js","5DMwv":"GeoRSSLayerView2D.a291b44f.js","l4MHr":"GraphicsLayerView2D.d8b33ef9.js","fP9MM":"GroupLayerView2D.a45a0073.js","9zFne":"ImageryLayerView2D.505f77be.js","2DyV1":"ImageryLayerView2D.2f688a20.js","jVSFJ":"ImageryTileLayerView2D.ab053885.js","6mwxg":"KMLLayerView2D.3cb08286.js","bjDX9":"MapImageLayerView2D.dd781d34.js","25vpt":"MapNotesLayerView2D.3dc4672f.js","2BnfR":"OGCFeatureLayerView2D.31972367.js","6XaD5":"OGCFeatureLayerView2D.45bd6736.js","fyRU3":"RouteLayerView2D.e24cc6cc.js","3COjU":"StreamLayerView2D.6565bc66.js","k0jn1":"SubtypeGroupLayerView2D.f7ca60ed.js","7WiOP":"VectorTileLayerView2D.4b776889.js","6F8MA":"WMSLayerView2D.cf302802.js","8sUny":"WMTSLayerView2D.f225dca3.js","xjh3K":"calcite-scrim.4575e58c.js"}'));var l={};s("8TSCy");var u=s("kswSi");
/*!
  * Bootstrap v4.6.1 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */!function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=n(t),a=n(r);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p="transitionend",d=1e6,h=1e3;function y(e){return null==e?""+e:{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()}function v(){return{bindType:p,delegateType:p,handle:function(e){if(i.default(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function m(e){var t=this,r=!1;return i.default(this).one(b.TRANSITION_END,(function(){r=!0})),setTimeout((function(){r||b.triggerTransitionEnd(t)}),e),this}function g(){i.default.fn.emulateTransitionEnd=m,i.default.event.special[b.TRANSITION_END]=v()}var b={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(Math.random()*d)}while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");if(!t||"#"===t){var r=e.getAttribute("href");t=r&&"#"!==r?r.trim():""}try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=i.default(e).css("transition-duration"),r=i.default(e).css("transition-delay"),n=parseFloat(t),a=parseFloat(r);return n||a?(t=t.split(",")[0],r=r.split(",")[0],(parseFloat(t)+parseFloat(r))*h):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){i.default(e).trigger(p)},supportsTransitionEnd:function(){return Boolean(p)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=r[n],a=t[n],o=a&&b.isElement(a)?"element":y(a);if(!new RegExp(i).test(o))throw new Error(e.toUpperCase()+': Option "'+n+'" provided type "'+o+'" but expected type "'+i+'".')}},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){var t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?b.findShadowRoot(e.parentNode):null},jQueryDetection:function(){if(void 0===i.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=i.default.fn.jquery.split(" ")[0].split("."),t=1,r=2,n=9,a=1,o=4;if(e[0]<r&&e[1]<n||e[0]===t&&e[1]===n&&e[2]<a||e[0]>=o)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};b.jQueryDetection(),g();var _="alert",w="4.6.1",x="bs.alert",S="."+x,k=".data-api",T=i.default.fn[_],E="alert",I="fade",C="show",O="close"+S,L="closed"+S,A="click"+S+k,M='[data-dismiss="alert"]',N=function(){function e(e){this._element=e}var t=e.prototype;return t.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},t.dispose=function(){i.default.removeData(this._element,x),this._element=null},t._getRootElement=function(e){var t=b.getSelectorFromElement(e),r=!1;return t&&(r=document.querySelector(t)),r||(r=i.default(e).closest("."+E)[0]),r},t._triggerCloseEvent=function(e){var t=i.default.Event(O);return i.default(e).trigger(t),t},t._removeElement=function(e){var t=this;if(i.default(e).removeClass(C),i.default(e).hasClass(I)){var r=b.getTransitionDurationFromElement(e);i.default(e).one(b.TRANSITION_END,(function(r){return t._destroyElement(e,r)})).emulateTransitionEnd(r)}else this._destroyElement(e)},t._destroyElement=function(e){i.default(e).detach().trigger(L).remove()},e._jQueryInterface=function(t){return this.each((function(){var r=i.default(this),n=r.data(x);n||(n=new e(this),r.data(x,n)),"close"===t&&n[t](this)}))},e._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},s(e,null,[{key:"VERSION",get:function(){return w}}]),e}();i.default(document).on(A,M,N._handleDismiss(new N)),i.default.fn[_]=N._jQueryInterface,i.default.fn[_].Constructor=N,i.default.fn[_].noConflict=function(){return i.default.fn[_]=T,N._jQueryInterface};var R="button",P="4.6.1",F="bs.button",j="."+F,D=".data-api",U=i.default.fn[R],V="active",B="btn",H="focus",z="click"+j+D,W="focus"+j+D+" blur"+j+D,G="load"+j+D,J='[data-toggle^="button"]',q='[data-toggle="buttons"]',X='[data-toggle="button"]',K='[data-toggle="buttons"] .btn',$='input:not([type="hidden"])',Y=".active",Z=".btn",Q=function(){function e(e){this._element=e,this.shouldAvoidTriggerChange=!1}var t=e.prototype;return t.toggle=function(){var e=!0,t=!0,r=i.default(this._element).closest(q)[0];if(r){var n=this._element.querySelector($);if(n){if("radio"===n.type)if(n.checked&&this._element.classList.contains(V))e=!1;else{var a=r.querySelector(Y);a&&i.default(a).removeClass(V)}e&&("checkbox"!==n.type&&"radio"!==n.type||(n.checked=!this._element.classList.contains(V)),this.shouldAvoidTriggerChange||i.default(n).trigger("change")),n.focus(),t=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(t&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(V)),e&&i.default(this._element).toggleClass(V))},t.dispose=function(){i.default.removeData(this._element,F),this._element=null},e._jQueryInterface=function(t,r){return this.each((function(){var n=i.default(this),a=n.data(F);a||(a=new e(this),n.data(F,a)),a.shouldAvoidTriggerChange=r,"toggle"===t&&a[t]()}))},s(e,null,[{key:"VERSION",get:function(){return P}}]),e}();i.default(document).on(z,J,(function(e){var t=e.target,r=t;if(i.default(t).hasClass(B)||(t=i.default(t).closest(Z)[0]),!t||t.hasAttribute("disabled")||t.classList.contains("disabled"))e.preventDefault();else{var n=t.querySelector($);if(n&&(n.hasAttribute("disabled")||n.classList.contains("disabled")))return void e.preventDefault();"INPUT"!==r.tagName&&"LABEL"===t.tagName||Q._jQueryInterface.call(i.default(t),"toggle","INPUT"===r.tagName)}})).on(W,J,(function(e){var t=i.default(e.target).closest(Z)[0];i.default(t).toggleClass(H,/^focus(in)?$/.test(e.type))})),i.default(window).on(G,(function(){for(var e=[].slice.call(document.querySelectorAll(K)),t=0,r=e.length;t<r;t++){var n=e[t],i=n.querySelector($);i.checked||i.hasAttribute("checked")?n.classList.add(V):n.classList.remove(V)}for(var a=0,o=(e=[].slice.call(document.querySelectorAll(X))).length;a<o;a++){var s=e[a];"true"===s.getAttribute("aria-pressed")?s.classList.add(V):s.classList.remove(V)}})),i.default.fn[R]=Q._jQueryInterface,i.default.fn[R].Constructor=Q,i.default.fn[R].noConflict=function(){return i.default.fn[R]=U,Q._jQueryInterface};var ee="carousel",te="4.6.1",re="bs.carousel",ne="."+re,ie=".data-api",ae=i.default.fn[ee],oe=37,se=39,le=500,ue=40,ce="carousel",fe="active",pe="slide",de="carousel-item-right",he="carousel-item-left",ye="carousel-item-next",ve="carousel-item-prev",me="pointer-event",ge="next",be="prev",_e="left",we="right",xe="slide"+ne,Se="slid"+ne,ke="keydown"+ne,Te="mouseenter"+ne,Ee="mouseleave"+ne,Ie="touchstart"+ne,Ce="touchmove"+ne,Oe="touchend"+ne,Le="pointerdown"+ne,Ae="pointerup"+ne,Me="dragstart"+ne,Ne="load"+ne+ie,Re="click"+ne+ie,Pe=".active",Fe=".active.carousel-item",je=".carousel-item",De=".carousel-item img",Ue=".carousel-item-next, .carousel-item-prev",Ve=".carousel-indicators",Be="[data-slide], [data-slide-to]",He='[data-ride="carousel"]',ze={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},We={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Ge={TOUCH:"touch",PEN:"pen"},Je=function(){function e(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(Ve),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var t=e.prototype;return t.next=function(){this._isSliding||this._slide(ge)},t.nextWhenVisible=function(){var e=i.default(this._element);!document.hidden&&e.is(":visible")&&"hidden"!==e.css("visibility")&&this.next()},t.prev=function(){this._isSliding||this._slide(be)},t.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(Ue)&&(b.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},t.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},t.to=function(e){var t=this;this._activeElement=this._element.querySelector(Fe);var r=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)i.default(this._element).one(Se,(function(){return t.to(e)}));else{if(r===e)return this.pause(),void this.cycle();var n=e>r?ge:be;this._slide(n,this._items[e])}},t.dispose=function(){i.default(this._element).off(ne),i.default.removeData(this._element,re),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},t._getConfig=function(e){return e=l({},ze,e),b.typeCheckConfig(ee,e,We),e},t._handleSwipe=function(){var e=Math.abs(this.touchDeltaX);if(!(e<=ue)){var t=e/this.touchDeltaX;this.touchDeltaX=0,t>0&&this.prev(),t<0&&this.next()}},t._addEventListeners=function(){var e=this;this._config.keyboard&&i.default(this._element).on(ke,(function(t){return e._keydown(t)})),"hover"===this._config.pause&&i.default(this._element).on(Te,(function(t){return e.pause(t)})).on(Ee,(function(t){return e.cycle(t)})),this._config.touch&&this._addTouchEventListeners()},t._addTouchEventListeners=function(){var e=this;if(this._touchSupported){var t=function(t){e._pointerEvent&&Ge[t.originalEvent.pointerType.toUpperCase()]?e.touchStartX=t.originalEvent.clientX:e._pointerEvent||(e.touchStartX=t.originalEvent.touches[0].clientX)},r=function(t){e.touchDeltaX=t.originalEvent.touches&&t.originalEvent.touches.length>1?0:t.originalEvent.touches[0].clientX-e.touchStartX},n=function(t){e._pointerEvent&&Ge[t.originalEvent.pointerType.toUpperCase()]&&(e.touchDeltaX=t.originalEvent.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout((function(t){return e.cycle(t)}),le+e._config.interval))};i.default(this._element.querySelectorAll(De)).on(Me,(function(e){return e.preventDefault()})),this._pointerEvent?(i.default(this._element).on(Le,(function(e){return t(e)})),i.default(this._element).on(Ae,(function(e){return n(e)})),this._element.classList.add(me)):(i.default(this._element).on(Ie,(function(e){return t(e)})),i.default(this._element).on(Ce,(function(e){return r(e)})),i.default(this._element).on(Oe,(function(e){return n(e)})))}},t._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case oe:e.preventDefault(),this.prev();break;case se:e.preventDefault(),this.next()}},t._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(je)):[],this._items.indexOf(e)},t._getItemByDirection=function(e,t){var r=e===ge,n=e===be,i=this._getItemIndex(t),a=this._items.length-1;if((n&&0===i||r&&i===a)&&!this._config.wrap)return t;var o=(i+(e===be?-1:1))%this._items.length;return-1===o?this._items[this._items.length-1]:this._items[o]},t._triggerSlideEvent=function(e,t){var r=this._getItemIndex(e),n=this._getItemIndex(this._element.querySelector(Fe)),a=i.default.Event(xe,{relatedTarget:e,direction:t,from:n,to:r});return i.default(this._element).trigger(a),a},t._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var t=[].slice.call(this._indicatorsElement.querySelectorAll(Pe));i.default(t).removeClass(fe);var r=this._indicatorsElement.children[this._getItemIndex(e)];r&&i.default(r).addClass(fe)}},t._updateInterval=function(){var e=this._activeElement||this._element.querySelector(Fe);if(e){var t=parseInt(e.getAttribute("data-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}},t._slide=function(e,t){var r,n,a,o=this,s=this._element.querySelector(Fe),l=this._getItemIndex(s),u=t||s&&this._getItemByDirection(e,s),c=this._getItemIndex(u),f=Boolean(this._interval);if(e===ge?(r=he,n=ye,a=_e):(r=de,n=ve,a=we),u&&i.default(u).hasClass(fe))this._isSliding=!1;else if(!this._triggerSlideEvent(u,a).isDefaultPrevented()&&s&&u){this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(u),this._activeElement=u;var p=i.default.Event(Se,{relatedTarget:u,direction:a,from:l,to:c});if(i.default(this._element).hasClass(pe)){i.default(u).addClass(n),b.reflow(u),i.default(s).addClass(r),i.default(u).addClass(r);var d=b.getTransitionDurationFromElement(s);i.default(s).one(b.TRANSITION_END,(function(){i.default(u).removeClass(r+" "+n).addClass(fe),i.default(s).removeClass(fe+" "+n+" "+r),o._isSliding=!1,setTimeout((function(){return i.default(o._element).trigger(p)}),0)})).emulateTransitionEnd(d)}else i.default(s).removeClass(fe),i.default(u).addClass(fe),this._isSliding=!1,i.default(this._element).trigger(p);f&&this.cycle()}},e._jQueryInterface=function(t){return this.each((function(){var r=i.default(this).data(re),n=l({},ze,i.default(this).data());"object"==typeof t&&(n=l({},n,t));var a="string"==typeof t?t:n.slide;if(r||(r=new e(this,n),i.default(this).data(re,r)),"number"==typeof t)r.to(t);else if("string"==typeof a){if(void 0===r[a])throw new TypeError('No method named "'+a+'"');r[a]()}else n.interval&&n.ride&&(r.pause(),r.cycle())}))},e._dataApiClickHandler=function(t){var r=b.getSelectorFromElement(this);if(r){var n=i.default(r)[0];if(n&&i.default(n).hasClass(ce)){var a=l({},i.default(n).data(),i.default(this).data()),o=this.getAttribute("data-slide-to");o&&(a.interval=!1),e._jQueryInterface.call(i.default(n),a),o&&i.default(n).data(re).to(o),t.preventDefault()}}},s(e,null,[{key:"VERSION",get:function(){return te}},{key:"Default",get:function(){return ze}}]),e}();i.default(document).on(Re,Be,Je._dataApiClickHandler),i.default(window).on(Ne,(function(){for(var e=[].slice.call(document.querySelectorAll(He)),t=0,r=e.length;t<r;t++){var n=i.default(e[t]);Je._jQueryInterface.call(n,n.data())}})),i.default.fn[ee]=Je._jQueryInterface,i.default.fn[ee].Constructor=Je,i.default.fn[ee].noConflict=function(){return i.default.fn[ee]=ae,Je._jQueryInterface};var qe="collapse",Xe="4.6.1",Ke="bs.collapse",$e="."+Ke,Ye=".data-api",Ze=i.default.fn[qe],Qe="show",et="collapse",tt="collapsing",rt="collapsed",nt="width",it="height",at="show"+$e,ot="shown"+$e,st="hide"+$e,lt="hidden"+$e,ut="click"+$e+Ye,ct=".show, .collapsing",ft='[data-toggle="collapse"]',pt={toggle:!0,parent:""},dt={toggle:"boolean",parent:"(string|element)"},ht=function(){function e(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var r=[].slice.call(document.querySelectorAll(ft)),n=0,i=r.length;n<i;n++){var a=r[n],o=b.getSelectorFromElement(a),s=[].slice.call(document.querySelectorAll(o)).filter((function(t){return t===e}));null!==o&&s.length>0&&(this._selector=o,this._triggerArray.push(a))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var t=e.prototype;return t.toggle=function(){i.default(this._element).hasClass(Qe)?this.hide():this.show()},t.show=function(){var t,r,n=this;if(!(this._isTransitioning||i.default(this._element).hasClass(Qe)||(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(ct)).filter((function(e){return"string"==typeof n._config.parent?e.getAttribute("data-parent")===n._config.parent:e.classList.contains(et)}))).length&&(t=null),t&&(r=i.default(t).not(this._selector).data(Ke))&&r._isTransitioning))){var a=i.default.Event(at);if(i.default(this._element).trigger(a),!a.isDefaultPrevented()){t&&(e._jQueryInterface.call(i.default(t).not(this._selector),"hide"),r||i.default(t).data(Ke,null));var o=this._getDimension();i.default(this._element).removeClass(et).addClass(tt),this._element.style[o]=0,this._triggerArray.length&&i.default(this._triggerArray).removeClass(rt).attr("aria-expanded",!0),this.setTransitioning(!0);var s=function(){i.default(n._element).removeClass(tt).addClass(et+" "+Qe),n._element.style[o]="",n.setTransitioning(!1),i.default(n._element).trigger(ot)},l="scroll"+(o[0].toUpperCase()+o.slice(1)),u=b.getTransitionDurationFromElement(this._element);i.default(this._element).one(b.TRANSITION_END,s).emulateTransitionEnd(u),this._element.style[o]=this._element[l]+"px"}}},t.hide=function(){var e=this;if(!this._isTransitioning&&i.default(this._element).hasClass(Qe)){var t=i.default.Event(st);if(i.default(this._element).trigger(t),!t.isDefaultPrevented()){var r=this._getDimension();this._element.style[r]=this._element.getBoundingClientRect()[r]+"px",b.reflow(this._element),i.default(this._element).addClass(tt).removeClass(et+" "+Qe);var n=this._triggerArray.length;if(n>0)for(var a=0;a<n;a++){var o=this._triggerArray[a],s=b.getSelectorFromElement(o);null!==s&&(i.default([].slice.call(document.querySelectorAll(s))).hasClass(Qe)||i.default(o).addClass(rt).attr("aria-expanded",!1))}this.setTransitioning(!0);var l=function(){e.setTransitioning(!1),i.default(e._element).removeClass(tt).addClass(et).trigger(lt)};this._element.style[r]="";var u=b.getTransitionDurationFromElement(this._element);i.default(this._element).one(b.TRANSITION_END,l).emulateTransitionEnd(u)}}},t.setTransitioning=function(e){this._isTransitioning=e},t.dispose=function(){i.default.removeData(this._element,Ke),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},t._getConfig=function(e){return(e=l({},pt,e)).toggle=Boolean(e.toggle),b.typeCheckConfig(qe,e,dt),e},t._getDimension=function(){return i.default(this._element).hasClass(nt)?nt:it},t._getParent=function(){var t,r=this;b.isElement(this._config.parent)?(t=this._config.parent,void 0!==this._config.parent.jquery&&(t=this._config.parent[0])):t=document.querySelector(this._config.parent);var n='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',a=[].slice.call(t.querySelectorAll(n));return i.default(a).each((function(t,n){r._addAriaAndCollapsedClass(e._getTargetFromElement(n),[n])})),t},t._addAriaAndCollapsedClass=function(e,t){var r=i.default(e).hasClass(Qe);t.length&&i.default(t).toggleClass(rt,!r).attr("aria-expanded",r)},e._getTargetFromElement=function(e){var t=b.getSelectorFromElement(e);return t?document.querySelector(t):null},e._jQueryInterface=function(t){return this.each((function(){var r=i.default(this),n=r.data(Ke),a=l({},pt,r.data(),"object"==typeof t&&t?t:{});if(!n&&a.toggle&&"string"==typeof t&&/show|hide/.test(t)&&(a.toggle=!1),n||(n=new e(this,a),r.data(Ke,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},s(e,null,[{key:"VERSION",get:function(){return Xe}},{key:"Default",get:function(){return pt}}]),e}();i.default(document).on(ut,ft,(function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var t=i.default(this),r=b.getSelectorFromElement(this),n=[].slice.call(document.querySelectorAll(r));i.default(n).each((function(){var e=i.default(this),r=e.data(Ke)?"toggle":t.data();ht._jQueryInterface.call(e,r)}))})),i.default.fn[qe]=ht._jQueryInterface,i.default.fn[qe].Constructor=ht,i.default.fn[qe].noConflict=function(){return i.default.fn[qe]=Ze,ht._jQueryInterface};var yt="dropdown",vt="4.6.1",mt="bs.dropdown",gt="."+mt,bt=".data-api",_t=i.default.fn[yt],wt=27,xt=32,St=9,kt=38,Tt=40,Et=3,It=new RegExp(kt+"|"+Tt+"|"+wt),Ct="disabled",Ot="show",Lt="dropup",At="dropright",Mt="dropleft",Nt="dropdown-menu-right",Rt="position-static",Pt="hide"+gt,Ft="hidden"+gt,jt="show"+gt,Dt="shown"+gt,Ut="click"+gt,Vt="click"+gt+bt,Bt="keydown"+gt+bt,Ht="keyup"+gt+bt,zt='[data-toggle="dropdown"]',Wt=".dropdown form",Gt=".dropdown-menu",Jt=".navbar-nav",qt=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Xt="top-start",Kt="top-end",$t="bottom-start",Yt="bottom-end",Zt="right-start",Qt="left-start",er={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},tr={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},rr=function(){function e(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var t=e.prototype;return t.toggle=function(){if(!this._element.disabled&&!i.default(this._element).hasClass(Ct)){var t=i.default(this._menu).hasClass(Ot);e._clearMenus(),t||this.show(!0)}},t.show=function(t){if(void 0===t&&(t=!1),!(this._element.disabled||i.default(this._element).hasClass(Ct)||i.default(this._menu).hasClass(Ot))){var r={relatedTarget:this._element},n=i.default.Event(jt,r),o=e._getParentFromElement(this._element);if(i.default(o).trigger(n),!n.isDefaultPrevented()){if(!this._inNavbar&&t){if(void 0===a.default)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var s=this._element;"parent"===this._config.reference?s=o:b.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&i.default(o).addClass(Rt),this._popper=new a.default(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===i.default(o).closest(Jt).length&&i.default(document.body).children().on("mouseover",null,i.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),i.default(this._menu).toggleClass(Ot),i.default(o).toggleClass(Ot).trigger(i.default.Event(Dt,r))}}},t.hide=function(){if(!this._element.disabled&&!i.default(this._element).hasClass(Ct)&&i.default(this._menu).hasClass(Ot)){var t={relatedTarget:this._element},r=i.default.Event(Pt,t),n=e._getParentFromElement(this._element);i.default(n).trigger(r),r.isDefaultPrevented()||(this._popper&&this._popper.destroy(),i.default(this._menu).toggleClass(Ot),i.default(n).toggleClass(Ot).trigger(i.default.Event(Ft,t)))}},t.dispose=function(){i.default.removeData(this._element,mt),i.default(this._element).off(gt),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},t.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},t._addEventListeners=function(){var e=this;i.default(this._element).on(Ut,(function(t){t.preventDefault(),t.stopPropagation(),e.toggle()}))},t._getConfig=function(e){return e=l({},this.constructor.Default,i.default(this._element).data(),e),b.typeCheckConfig(yt,e,this.constructor.DefaultType),e},t._getMenuElement=function(){if(!this._menu){var t=e._getParentFromElement(this._element);t&&(this._menu=t.querySelector(Gt))}return this._menu},t._getPlacement=function(){var e=i.default(this._element.parentNode),t=$t;return e.hasClass(Lt)?t=i.default(this._menu).hasClass(Nt)?Kt:Xt:e.hasClass(At)?t=Zt:e.hasClass(Mt)?t=Qt:i.default(this._menu).hasClass(Nt)&&(t=Yt),t},t._detectNavbar=function(){return i.default(this._element).closest(".navbar").length>0},t._getOffset=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=l({},t.offsets,e._config.offset(t.offsets,e._element)),t}:t.offset=this._config.offset,t},t._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),l({},e,this._config.popperConfig)},e._jQueryInterface=function(t){return this.each((function(){var r=i.default(this).data(mt);if(r||(r=new e(this,"object"==typeof t?t:null),i.default(this).data(mt,r)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t]()}}))},e._clearMenus=function(t){if(!t||t.which!==Et&&("keyup"!==t.type||t.which===St))for(var r=[].slice.call(document.querySelectorAll(zt)),n=0,a=r.length;n<a;n++){var o=e._getParentFromElement(r[n]),s=i.default(r[n]).data(mt),l={relatedTarget:r[n]};if(t&&"click"===t.type&&(l.clickEvent=t),s){var u=s._menu;if(i.default(o).hasClass(Ot)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&t.which===St)&&i.default.contains(o,t.target))){var c=i.default.Event(Pt,l);i.default(o).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&i.default(document.body).children().off("mouseover",null,i.default.noop),r[n].setAttribute("aria-expanded","false"),s._popper&&s._popper.destroy(),i.default(u).removeClass(Ot),i.default(o).removeClass(Ot).trigger(i.default.Event(Ft,l)))}}}},e._getParentFromElement=function(e){var t,r=b.getSelectorFromElement(e);return r&&(t=document.querySelector(r)),t||e.parentNode},e._dataApiKeydownHandler=function(t){if(!(/input|textarea/i.test(t.target.tagName)?t.which===xt||t.which!==wt&&(t.which!==Tt&&t.which!==kt||i.default(t.target).closest(Gt).length):!It.test(t.which))&&!this.disabled&&!i.default(this).hasClass(Ct)){var r=e._getParentFromElement(this),n=i.default(r).hasClass(Ot);if(n||t.which!==wt){if(t.preventDefault(),t.stopPropagation(),!n||t.which===wt||t.which===xt)return t.which===wt&&i.default(r.querySelector(zt)).trigger("focus"),void i.default(this).trigger("click");var a=[].slice.call(r.querySelectorAll(qt)).filter((function(e){return i.default(e).is(":visible")}));if(0!==a.length){var o=a.indexOf(t.target);t.which===kt&&o>0&&o--,t.which===Tt&&o<a.length-1&&o++,o<0&&(o=0),a[o].focus()}}}},s(e,null,[{key:"VERSION",get:function(){return vt}},{key:"Default",get:function(){return er}},{key:"DefaultType",get:function(){return tr}}]),e}();i.default(document).on(Bt,zt,rr._dataApiKeydownHandler).on(Bt,Gt,rr._dataApiKeydownHandler).on(Vt+" "+Ht,rr._clearMenus).on(Vt,zt,(function(e){e.preventDefault(),e.stopPropagation(),rr._jQueryInterface.call(i.default(this),"toggle")})).on(Vt,Wt,(function(e){e.stopPropagation()})),i.default.fn[yt]=rr._jQueryInterface,i.default.fn[yt].Constructor=rr,i.default.fn[yt].noConflict=function(){return i.default.fn[yt]=_t,rr._jQueryInterface};var nr="modal",ir="4.6.1",ar="bs.modal",or="."+ar,sr=".data-api",lr=i.default.fn[nr],ur=27,cr="modal-dialog-scrollable",fr="modal-scrollbar-measure",pr="modal-backdrop",dr="modal-open",hr="fade",yr="show",vr="modal-static",mr="hide"+or,gr="hidePrevented"+or,br="hidden"+or,_r="show"+or,wr="shown"+or,xr="focusin"+or,Sr="resize"+or,kr="click.dismiss"+or,Tr="keydown.dismiss"+or,Er="mouseup.dismiss"+or,Ir="mousedown.dismiss"+or,Cr="click"+or+sr,Or=".modal-dialog",Lr=".modal-body",Ar='[data-toggle="modal"]',Mr='[data-dismiss="modal"]',Nr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Rr=".sticky-top",Pr={backdrop:!0,keyboard:!0,focus:!0,show:!0},Fr={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},jr=function(){function e(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(Or),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var t=e.prototype;return t.toggle=function(e){return this._isShown?this.hide():this.show(e)},t.show=function(e){var t=this;if(!this._isShown&&!this._isTransitioning){var r=i.default.Event(_r,{relatedTarget:e});i.default(this._element).trigger(r),r.isDefaultPrevented()||(this._isShown=!0,i.default(this._element).hasClass(hr)&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),i.default(this._element).on(kr,Mr,(function(e){return t.hide(e)})),i.default(this._dialog).on(Ir,(function(){i.default(t._element).one(Er,(function(e){i.default(e.target).is(t._element)&&(t._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return t._showElement(e)})))}},t.hide=function(e){var t=this;if(e&&e.preventDefault(),this._isShown&&!this._isTransitioning){var r=i.default.Event(mr);if(i.default(this._element).trigger(r),this._isShown&&!r.isDefaultPrevented()){this._isShown=!1;var n=i.default(this._element).hasClass(hr);if(n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),i.default(document).off(xr),i.default(this._element).removeClass(yr),i.default(this._element).off(kr),i.default(this._dialog).off(Ir),n){var a=b.getTransitionDurationFromElement(this._element);i.default(this._element).one(b.TRANSITION_END,(function(e){return t._hideModal(e)})).emulateTransitionEnd(a)}else this._hideModal()}}},t.dispose=function(){[window,this._element,this._dialog].forEach((function(e){return i.default(e).off(or)})),i.default(document).off(xr),i.default.removeData(this._element,ar),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},t.handleUpdate=function(){this._adjustDialog()},t._getConfig=function(e){return e=l({},Pr,e),b.typeCheckConfig(nr,e,Fr),e},t._triggerBackdropTransition=function(){var e=this,t=i.default.Event(gr);if(i.default(this._element).trigger(t),!t.isDefaultPrevented()){var r=this._element.scrollHeight>document.documentElement.clientHeight;r||(this._element.style.overflowY="hidden"),this._element.classList.add(vr);var n=b.getTransitionDurationFromElement(this._dialog);i.default(this._element).off(b.TRANSITION_END),i.default(this._element).one(b.TRANSITION_END,(function(){e._element.classList.remove(vr),r||i.default(e._element).one(b.TRANSITION_END,(function(){e._element.style.overflowY=""})).emulateTransitionEnd(e._element,n)})).emulateTransitionEnd(n),this._element.focus()}},t._showElement=function(e){var t=this,r=i.default(this._element).hasClass(hr),n=this._dialog?this._dialog.querySelector(Lr):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),i.default(this._dialog).hasClass(cr)&&n?n.scrollTop=0:this._element.scrollTop=0,r&&b.reflow(this._element),i.default(this._element).addClass(yr),this._config.focus&&this._enforceFocus();var a=i.default.Event(wr,{relatedTarget:e}),o=function(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,i.default(t._element).trigger(a)};if(r){var s=b.getTransitionDurationFromElement(this._dialog);i.default(this._dialog).one(b.TRANSITION_END,o).emulateTransitionEnd(s)}else o()},t._enforceFocus=function(){var e=this;i.default(document).off(xr).on(xr,(function(t){document!==t.target&&e._element!==t.target&&0===i.default(e._element).has(t.target).length&&e._element.focus()}))},t._setEscapeEvent=function(){var e=this;this._isShown?i.default(this._element).on(Tr,(function(t){e._config.keyboard&&t.which===ur?(t.preventDefault(),e.hide()):e._config.keyboard||t.which!==ur||e._triggerBackdropTransition()})):this._isShown||i.default(this._element).off(Tr)},t._setResizeEvent=function(){var e=this;this._isShown?i.default(window).on(Sr,(function(t){return e.handleUpdate(t)})):i.default(window).off(Sr)},t._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((function(){i.default(document.body).removeClass(dr),e._resetAdjustments(),e._resetScrollbar(),i.default(e._element).trigger(br)}))},t._removeBackdrop=function(){this._backdrop&&(i.default(this._backdrop).remove(),this._backdrop=null)},t._showBackdrop=function(e){var t=this,r=i.default(this._element).hasClass(hr)?hr:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=pr,r&&this._backdrop.classList.add(r),i.default(this._backdrop).appendTo(document.body),i.default(this._element).on(kr,(function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===t._config.backdrop?t._triggerBackdropTransition():t.hide())})),r&&b.reflow(this._backdrop),i.default(this._backdrop).addClass(yr),!e)return;if(!r)return void e();var n=b.getTransitionDurationFromElement(this._backdrop);i.default(this._backdrop).one(b.TRANSITION_END,e).emulateTransitionEnd(n)}else if(!this._isShown&&this._backdrop){i.default(this._backdrop).removeClass(yr);var a=function(){t._removeBackdrop(),e&&e()};if(i.default(this._element).hasClass(hr)){var o=b.getTransitionDurationFromElement(this._backdrop);i.default(this._backdrop).one(b.TRANSITION_END,a).emulateTransitionEnd(o)}else a()}else e&&e()},t._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},t._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},t._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(e.left+e.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},t._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){var t=[].slice.call(document.querySelectorAll(Nr)),r=[].slice.call(document.querySelectorAll(Rr));i.default(t).each((function(t,r){var n=r.style.paddingRight,a=i.default(r).css("padding-right");i.default(r).data("padding-right",n).css("padding-right",parseFloat(a)+e._scrollbarWidth+"px")})),i.default(r).each((function(t,r){var n=r.style.marginRight,a=i.default(r).css("margin-right");i.default(r).data("margin-right",n).css("margin-right",parseFloat(a)-e._scrollbarWidth+"px")}));var n=document.body.style.paddingRight,a=i.default(document.body).css("padding-right");i.default(document.body).data("padding-right",n).css("padding-right",parseFloat(a)+this._scrollbarWidth+"px")}i.default(document.body).addClass(dr)},t._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(Nr));i.default(e).each((function(e,t){var r=i.default(t).data("padding-right");i.default(t).removeData("padding-right"),t.style.paddingRight=r||""}));var t=[].slice.call(document.querySelectorAll(""+Rr));i.default(t).each((function(e,t){var r=i.default(t).data("margin-right");void 0!==r&&i.default(t).css("margin-right",r).removeData("margin-right")}));var r=i.default(document.body).data("padding-right");i.default(document.body).removeData("padding-right"),document.body.style.paddingRight=r||""},t._getScrollbarWidth=function(){var e=document.createElement("div");e.className=fr,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},e._jQueryInterface=function(t,r){return this.each((function(){var n=i.default(this).data(ar),a=l({},Pr,i.default(this).data(),"object"==typeof t&&t?t:{});if(n||(n=new e(this,a),i.default(this).data(ar,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t](r)}else a.show&&n.show(r)}))},s(e,null,[{key:"VERSION",get:function(){return ir}},{key:"Default",get:function(){return Pr}}]),e}();i.default(document).on(Cr,Ar,(function(e){var t,r=this,n=b.getSelectorFromElement(this);n&&(t=document.querySelector(n));var a=i.default(t).data(ar)?"toggle":l({},i.default(t).data(),i.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var o=i.default(t).one(_r,(function(e){e.isDefaultPrevented()||o.one(br,(function(){i.default(r).is(":visible")&&r.focus()}))}));jr._jQueryInterface.call(i.default(t),a,this)})),i.default.fn[nr]=jr._jQueryInterface,i.default.fn[nr].Constructor=jr,i.default.fn[nr].noConflict=function(){return i.default.fn[nr]=lr,jr._jQueryInterface};var Dr=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Ur={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Vr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Br=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Hr(e,t){var r=e.nodeName.toLowerCase();if(-1!==t.indexOf(r))return-1===Dr.indexOf(r)||Boolean(Vr.test(e.nodeValue)||Br.test(e.nodeValue));for(var n=t.filter((function(e){return e instanceof RegExp})),i=0,a=n.length;i<a;i++)if(n[i].test(r))return!0;return!1}function zr(e,t,r){if(0===e.length)return e;if(r&&"function"==typeof r)return r(e);for(var n=(new window.DOMParser).parseFromString(e,"text/html"),i=Object.keys(t),a=[].slice.call(n.body.querySelectorAll("*")),o=function(e,r){var n=a[e],o=n.nodeName.toLowerCase();if(-1===i.indexOf(n.nodeName.toLowerCase()))return n.parentNode.removeChild(n),"continue";var s=[].slice.call(n.attributes),l=[].concat(t["*"]||[],t[o]||[]);s.forEach((function(e){Hr(e,l)||n.removeAttribute(e.nodeName)}))},s=0,l=a.length;s<l;s++)o(s);return n.body.innerHTML}var Wr="tooltip",Gr="4.6.1",Jr="bs.tooltip",qr="."+Jr,Xr=i.default.fn[Wr],Kr="bs-tooltip",$r=new RegExp("(^|\\s)"+Kr+"\\S+","g"),Yr=["sanitize","whiteList","sanitizeFn"],Zr="fade",Qr="show",en="show",tn="out",rn=".tooltip-inner",nn=".arrow",an="hover",on="focus",sn="click",ln="manual",un={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},cn={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:Ur,popperConfig:null},fn={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},pn={HIDE:"hide"+qr,HIDDEN:"hidden"+qr,SHOW:"show"+qr,SHOWN:"shown"+qr,INSERTED:"inserted"+qr,CLICK:"click"+qr,FOCUSIN:"focusin"+qr,FOCUSOUT:"focusout"+qr,MOUSEENTER:"mouseenter"+qr,MOUSELEAVE:"mouseleave"+qr},dn=function(){function e(e,t){if(void 0===a.default)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var t=e.prototype;return t.enable=function(){this._isEnabled=!0},t.disable=function(){this._isEnabled=!1},t.toggleEnabled=function(){this._isEnabled=!this._isEnabled},t.toggle=function(e){if(this._isEnabled)if(e){var t=this.constructor.DATA_KEY,r=i.default(e.currentTarget).data(t);r||(r=new this.constructor(e.currentTarget,this._getDelegateConfig()),i.default(e.currentTarget).data(t,r)),r._activeTrigger.click=!r._activeTrigger.click,r._isWithActiveTrigger()?r._enter(null,r):r._leave(null,r)}else{if(i.default(this.getTipElement()).hasClass(Qr))return void this._leave(null,this);this._enter(null,this)}},t.dispose=function(){clearTimeout(this._timeout),i.default.removeData(this.element,this.constructor.DATA_KEY),i.default(this.element).off(this.constructor.EVENT_KEY),i.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&i.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},t.show=function(){var e=this;if("none"===i.default(this.element).css("display"))throw new Error("Please use show on visible elements");var t=i.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){i.default(this.element).trigger(t);var r=b.findShadowRoot(this.element),n=i.default.contains(null!==r?r:this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!n)return;var o=this.getTipElement(),s=b.getUID(this.constructor.NAME);o.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&i.default(o).addClass(Zr);var l="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,u=this._getAttachment(l);this.addAttachmentClass(u);var c=this._getContainer();i.default(o).data(this.constructor.DATA_KEY,this),i.default.contains(this.element.ownerDocument.documentElement,this.tip)||i.default(o).appendTo(c),i.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new a.default(this.element,o,this._getPopperConfig(u)),i.default(o).addClass(Qr),i.default(o).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&i.default(document.body).children().on("mouseover",null,i.default.noop);var f=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,i.default(e.element).trigger(e.constructor.Event.SHOWN),t===tn&&e._leave(null,e)};if(i.default(this.tip).hasClass(Zr)){var p=b.getTransitionDurationFromElement(this.tip);i.default(this.tip).one(b.TRANSITION_END,f).emulateTransitionEnd(p)}else f()}},t.hide=function(e){var t=this,r=this.getTipElement(),n=i.default.Event(this.constructor.Event.HIDE),a=function(){t._hoverState!==en&&r.parentNode&&r.parentNode.removeChild(r),t._cleanTipClass(),t.element.removeAttribute("aria-describedby"),i.default(t.element).trigger(t.constructor.Event.HIDDEN),null!==t._popper&&t._popper.destroy(),e&&e()};if(i.default(this.element).trigger(n),!n.isDefaultPrevented()){if(i.default(r).removeClass(Qr),"ontouchstart"in document.documentElement&&i.default(document.body).children().off("mouseover",null,i.default.noop),this._activeTrigger[sn]=!1,this._activeTrigger[on]=!1,this._activeTrigger[an]=!1,i.default(this.tip).hasClass(Zr)){var o=b.getTransitionDurationFromElement(r);i.default(r).one(b.TRANSITION_END,a).emulateTransitionEnd(o)}else a();this._hoverState=""}},t.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},t.isWithContent=function(){return Boolean(this.getTitle())},t.addAttachmentClass=function(e){i.default(this.getTipElement()).addClass(Kr+"-"+e)},t.getTipElement=function(){return this.tip=this.tip||i.default(this.config.template)[0],this.tip},t.setContent=function(){var e=this.getTipElement();this.setElementContent(i.default(e.querySelectorAll(rn)),this.getTitle()),i.default(e).removeClass(Zr+" "+Qr)},t.setElementContent=function(e,t){"object"!=typeof t||!t.nodeType&&!t.jquery?this.config.html?(this.config.sanitize&&(t=zr(t,this.config.whiteList,this.config.sanitizeFn)),e.html(t)):e.text(t):this.config.html?i.default(t).parent().is(e)||e.empty().append(t):e.text(i.default(t).text())},t.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},t._getPopperConfig=function(e){var t=this;return l({},{placement:e,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:nn},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}},this.config.popperConfig)},t._getOffset=function(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=l({},t.offsets,e.config.offset(t.offsets,e.element)),t}:t.offset=this.config.offset,t},t._getContainer=function(){return!1===this.config.container?document.body:b.isElement(this.config.container)?i.default(this.config.container):i.default(document).find(this.config.container)},t._getAttachment=function(e){return un[e.toUpperCase()]},t._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach((function(t){if("click"===t)i.default(e.element).on(e.constructor.Event.CLICK,e.config.selector,(function(t){return e.toggle(t)}));else if(t!==ln){var r=t===an?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,n=t===an?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;i.default(e.element).on(r,e.config.selector,(function(t){return e._enter(t)})).on(n,e.config.selector,(function(t){return e._leave(t)}))}})),this._hideModalHandler=function(){e.element&&e.hide()},i.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=l({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},t._fixTitle=function(){var e=u.default(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},t._enter=function(e,t){var r=this.constructor.DATA_KEY;(t=t||i.default(e.currentTarget).data(r))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),i.default(e.currentTarget).data(r,t)),e&&(t._activeTrigger["focusin"===e.type?on:an]=!0),i.default(t.getTipElement()).hasClass(Qr)||t._hoverState===en?t._hoverState=en:(clearTimeout(t._timeout),t._hoverState=en,t.config.delay&&t.config.delay.show?t._timeout=setTimeout((function(){t._hoverState===en&&t.show()}),t.config.delay.show):t.show())},t._leave=function(e,t){var r=this.constructor.DATA_KEY;(t=t||i.default(e.currentTarget).data(r))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),i.default(e.currentTarget).data(r,t)),e&&(t._activeTrigger["focusout"===e.type?on:an]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=tn,t.config.delay&&t.config.delay.hide?t._timeout=setTimeout((function(){t._hoverState===tn&&t.hide()}),t.config.delay.hide):t.hide())},t._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},t._getConfig=function(e){var t=i.default(this.element).data();return Object.keys(t).forEach((function(e){-1!==Yr.indexOf(e)&&delete t[e]})),"number"==typeof(e=l({},this.constructor.Default,t,"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),b.typeCheckConfig(Wr,e,this.constructor.DefaultType),e.sanitize&&(e.template=zr(e.template,e.whiteList,e.sanitizeFn)),e},t._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},t._cleanTipClass=function(){var e=i.default(this.getTipElement()),t=e.attr("class").match($r);null!==t&&t.length&&e.removeClass(t.join(""))},t._handlePopperPlacementChange=function(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},t._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(i.default(e).removeClass(Zr),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},e._jQueryInterface=function(t){return this.each((function(){var r=i.default(this),n=r.data(Jr),a="object"==typeof t&&t;if((n||!/dispose|hide/.test(t))&&(n||(n=new e(this,a),r.data(Jr,n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},s(e,null,[{key:"VERSION",get:function(){return Gr}},{key:"Default",get:function(){return cn}},{key:"NAME",get:function(){return Wr}},{key:"DATA_KEY",get:function(){return Jr}},{key:"Event",get:function(){return pn}},{key:"EVENT_KEY",get:function(){return qr}},{key:"DefaultType",get:function(){return fn}}]),e}();i.default.fn[Wr]=dn._jQueryInterface,i.default.fn[Wr].Constructor=dn,i.default.fn[Wr].noConflict=function(){return i.default.fn[Wr]=Xr,dn._jQueryInterface};var hn="popover",yn="4.6.1",vn="bs.popover",mn="."+vn,gn=i.default.fn[hn],bn="bs-popover",_n=new RegExp("(^|\\s)"+bn+"\\S+","g"),wn="fade",xn="show",Sn=".popover-header",kn=".popover-body",Tn=l({},dn.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),En=l({},dn.DefaultType,{content:"(string|element|function)"}),In={HIDE:"hide"+mn,HIDDEN:"hidden"+mn,SHOW:"show"+mn,SHOWN:"shown"+mn,INSERTED:"inserted"+mn,CLICK:"click"+mn,FOCUSIN:"focusin"+mn,FOCUSOUT:"focusout"+mn,MOUSEENTER:"mouseenter"+mn,MOUSELEAVE:"mouseleave"+mn},Cn=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var r=t.prototype;return r.isWithContent=function(){return this.getTitle()||this._getContent()},r.addAttachmentClass=function(e){i.default(this.getTipElement()).addClass(bn+"-"+e)},r.getTipElement=function(){return this.tip=this.tip||i.default(this.config.template)[0],this.tip},r.setContent=function(){var e=i.default(this.getTipElement());this.setElementContent(e.find(Sn),this.getTitle());var t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(kn),t),e.removeClass(wn+" "+xn)},r._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},r._cleanTipClass=function(){var e=i.default(this.getTipElement()),t=e.attr("class").match(_n);null!==t&&t.length>0&&e.removeClass(t.join(""))},t._jQueryInterface=function(e){return this.each((function(){var r=i.default(this).data(vn),n="object"==typeof e?e:null;if((r||!/dispose|hide/.test(e))&&(r||(r=new t(this,n),i.default(this).data(vn,r)),"string"==typeof e)){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e]()}}))},s(t,null,[{key:"VERSION",get:function(){return yn}},{key:"Default",get:function(){return Tn}},{key:"NAME",get:function(){return hn}},{key:"DATA_KEY",get:function(){return vn}},{key:"Event",get:function(){return In}},{key:"EVENT_KEY",get:function(){return mn}},{key:"DefaultType",get:function(){return En}}]),t}(dn);i.default.fn[hn]=Cn._jQueryInterface,i.default.fn[hn].Constructor=Cn,i.default.fn[hn].noConflict=function(){return i.default.fn[hn]=gn,Cn._jQueryInterface};var On="scrollspy",Ln="4.6.1",An="bs.scrollspy",Mn="."+An,Nn=".data-api",Rn=i.default.fn[On],Pn="dropdown-item",Fn="active",jn="activate"+Mn,Dn="scroll"+Mn,Un="load"+Mn+Nn,Vn="offset",Bn="position",Hn='[data-spy="scroll"]',zn=".nav, .list-group",Wn=".nav-link",Gn=".nav-item",Jn=".list-group-item",qn=".dropdown",Xn=".dropdown-item",Kn=".dropdown-toggle",$n={offset:10,method:"auto",target:""},Yn={offset:"number",method:"string",target:"(string|element)"},Zn=function(){function e(e,t){var r=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" "+Wn+","+this._config.target+" "+Jn+","+this._config.target+" "+Xn,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,i.default(this._scrollElement).on(Dn,(function(e){return r._process(e)})),this.refresh(),this._process()}var t=e.prototype;return t.refresh=function(){var e=this,t=this._scrollElement===this._scrollElement.window?Vn:Bn,r="auto"===this._config.method?t:this._config.method,n=r===Bn?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(e){var t,a=b.getSelectorFromElement(e);if(a&&(t=document.querySelector(a)),t){var o=t.getBoundingClientRect();if(o.width||o.height)return[i.default(t)[r]().top+n,a]}return null})).filter((function(e){return e})).sort((function(e,t){return e[0]-t[0]})).forEach((function(t){e._offsets.push(t[0]),e._targets.push(t[1])}))},t.dispose=function(){i.default.removeData(this._element,An),i.default(this._scrollElement).off(Mn),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},t._getConfig=function(e){if("string"!=typeof(e=l({},$n,"object"==typeof e&&e?e:{})).target&&b.isElement(e.target)){var t=i.default(e.target).attr("id");t||(t=b.getUID(On),i.default(e.target).attr("id",t)),e.target="#"+t}return b.typeCheckConfig(On,e,Yn),e},t._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},t._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},t._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},t._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),r=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=r){var n=this._targets[this._targets.length-1];this._activeTarget!==n&&this._activate(n)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&e>=this._offsets[i]&&(void 0===this._offsets[i+1]||e<this._offsets[i+1])&&this._activate(this._targets[i])}},t._activate=function(e){this._activeTarget=e,this._clear();var t=this._selector.split(",").map((function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'})),r=i.default([].slice.call(document.querySelectorAll(t.join(","))));r.hasClass(Pn)?(r.closest(qn).find(Kn).addClass(Fn),r.addClass(Fn)):(r.addClass(Fn),r.parents(zn).prev(Wn+", "+Jn).addClass(Fn),r.parents(zn).prev(Gn).children(Wn).addClass(Fn)),i.default(this._scrollElement).trigger(jn,{relatedTarget:e})},t._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(e){return e.classList.contains(Fn)})).forEach((function(e){return e.classList.remove(Fn)}))},e._jQueryInterface=function(t){return this.each((function(){var r=i.default(this).data(An);if(r||(r=new e(this,"object"==typeof t&&t),i.default(this).data(An,r)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t]()}}))},s(e,null,[{key:"VERSION",get:function(){return Ln}},{key:"Default",get:function(){return $n}}]),e}();i.default(window).on(Un,(function(){for(var e=[].slice.call(document.querySelectorAll(Hn)),t=e.length;t--;){var r=i.default(e[t]);Zn._jQueryInterface.call(r,r.data())}})),i.default.fn[On]=Zn._jQueryInterface,i.default.fn[On].Constructor=Zn,i.default.fn[On].noConflict=function(){return i.default.fn[On]=Rn,Zn._jQueryInterface};var Qn="tab",ei="4.6.1",ti="bs.tab",ri="."+ti,ni=".data-api",ii=i.default.fn[Qn],ai="dropdown-menu",oi="active",si="disabled",li="fade",ui="show",ci="hide"+ri,fi="hidden"+ri,pi="show"+ri,di="shown"+ri,hi="click"+ri+ni,yi=".dropdown",vi=".nav, .list-group",mi=".active",gi="> li > .active",bi='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',_i=".dropdown-toggle",wi="> .dropdown-menu .active",xi=function(){function e(e){this._element=e}var t=e.prototype;return t.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&i.default(this._element).hasClass(oi)||i.default(this._element).hasClass(si))){var t,r,n=i.default(this._element).closest(vi)[0],a=b.getSelectorFromElement(this._element);if(n){var o="UL"===n.nodeName||"OL"===n.nodeName?gi:mi;r=(r=i.default.makeArray(i.default(n).find(o)))[r.length-1]}var s=i.default.Event(ci,{relatedTarget:this._element}),l=i.default.Event(pi,{relatedTarget:r});if(r&&i.default(r).trigger(s),i.default(this._element).trigger(l),!l.isDefaultPrevented()&&!s.isDefaultPrevented()){a&&(t=document.querySelector(a)),this._activate(this._element,n);var u=function(){var t=i.default.Event(fi,{relatedTarget:e._element}),n=i.default.Event(di,{relatedTarget:r});i.default(r).trigger(t),i.default(e._element).trigger(n)};t?this._activate(t,t.parentNode,u):u()}}},t.dispose=function(){i.default.removeData(this._element,ti),this._element=null},t._activate=function(e,t,r){var n=this,a=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?i.default(t).children(mi):i.default(t).find(gi))[0],o=r&&a&&i.default(a).hasClass(li),s=function(){return n._transitionComplete(e,a,r)};if(a&&o){var l=b.getTransitionDurationFromElement(a);i.default(a).removeClass(ui).one(b.TRANSITION_END,s).emulateTransitionEnd(l)}else s()},t._transitionComplete=function(e,t,r){if(t){i.default(t).removeClass(oi);var n=i.default(t.parentNode).find(wi)[0];n&&i.default(n).removeClass(oi),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}i.default(e).addClass(oi),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),b.reflow(e),e.classList.contains(li)&&e.classList.add(ui);var a=e.parentNode;if(a&&"LI"===a.nodeName&&(a=a.parentNode),a&&i.default(a).hasClass(ai)){var o=i.default(e).closest(yi)[0];if(o){var s=[].slice.call(o.querySelectorAll(_i));i.default(s).addClass(oi)}e.setAttribute("aria-expanded",!0)}r&&r()},e._jQueryInterface=function(t){return this.each((function(){var r=i.default(this),n=r.data(ti);if(n||(n=new e(this),r.data(ti,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},s(e,null,[{key:"VERSION",get:function(){return ei}}]),e}();i.default(document).on(hi,bi,(function(e){e.preventDefault(),xi._jQueryInterface.call(i.default(this),"show")})),i.default.fn[Qn]=xi._jQueryInterface,i.default.fn[Qn].Constructor=xi,i.default.fn[Qn].noConflict=function(){return i.default.fn[Qn]=ii,xi._jQueryInterface};var Si="toast",ki="4.6.1",Ti="bs.toast",Ei="."+Ti,Ii=i.default.fn[Si],Ci="fade",Oi="hide",Li="show",Ai="showing",Mi="click.dismiss"+Ei,Ni="hide"+Ei,Ri="hidden"+Ei,Pi="show"+Ei,Fi="shown"+Ei,ji='[data-dismiss="toast"]',Di={animation:!0,autohide:!0,delay:500},Ui={animation:"boolean",autohide:"boolean",delay:"number"},Vi=function(){function e(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}var t=e.prototype;return t.show=function(){var e=this,t=i.default.Event(Pi);if(i.default(this._element).trigger(t),!t.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add(Ci);var r=function(){e._element.classList.remove(Ai),e._element.classList.add(Li),i.default(e._element).trigger(Fi),e._config.autohide&&(e._timeout=setTimeout((function(){e.hide()}),e._config.delay))};if(this._element.classList.remove(Oi),b.reflow(this._element),this._element.classList.add(Ai),this._config.animation){var n=b.getTransitionDurationFromElement(this._element);i.default(this._element).one(b.TRANSITION_END,r).emulateTransitionEnd(n)}else r()}},t.hide=function(){if(this._element.classList.contains(Li)){var e=i.default.Event(Ni);i.default(this._element).trigger(e),e.isDefaultPrevented()||this._close()}},t.dispose=function(){this._clearTimeout(),this._element.classList.contains(Li)&&this._element.classList.remove(Li),i.default(this._element).off(Mi),i.default.removeData(this._element,Ti),this._element=null,this._config=null},t._getConfig=function(e){return e=l({},Di,i.default(this._element).data(),"object"==typeof e&&e?e:{}),b.typeCheckConfig(Si,e,this.constructor.DefaultType),e},t._setListeners=function(){var e=this;i.default(this._element).on(Mi,ji,(function(){return e.hide()}))},t._close=function(){var e=this,t=function(){e._element.classList.add(Oi),i.default(e._element).trigger(Ri)};if(this._element.classList.remove(Li),this._config.animation){var r=b.getTransitionDurationFromElement(this._element);i.default(this._element).one(b.TRANSITION_END,t).emulateTransitionEnd(r)}else t()},t._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},e._jQueryInterface=function(t){return this.each((function(){var r=i.default(this),n=r.data(Ti);if(n||(n=new e(this,"object"==typeof t&&t),r.data(Ti,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t](this)}}))},s(e,null,[{key:"VERSION",get:function(){return ki}},{key:"DefaultType",get:function(){return Ui}},{key:"Default",get:function(){return Di}}]),e}();i.default.fn[Si]=Vi._jQueryInterface,i.default.fn[Si].Constructor=Vi,i.default.fn[Si].noConflict=function(){return i.default.fn[Si]=Ii,Vi._jQueryInterface},e.Alert=N,e.Button=Q,e.Carousel=Je,e.Collapse=ht,e.Dropdown=rr,e.Modal=jr,e.Popover=Cn,e.Scrollspy=Zn,e.Tab=xi,e.Toast=Vi,e.Tooltip=dn,e.Util=b,Object.defineProperty(e,"__esModule",{value:!0})}(l,s("9qak9"),s("gDcFo")),window.$=s("9qak9"),$("#about-btn").click((function(){$("#aboutModal").modal("show")})),$("#basemap-btn").click((function(){$("#basemapModal").modal("show")})),$("#legend-btn").click((function(){$("#legendModal").modal("show")})),$("#disclaimer-btn").click((function(){$("#disclaimerModal").modal("show")}));var c=s("cu9iz");s("8TSCy");var f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),m=s("lnx4K");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5");var g=s("Kn7R4"),b=(h=s("bFSSc"),y=s("jK9zx"),s("ifq4M")),_=s("jcnGU"),w=s("8atho"),x=s("aNpz9"),S=s("2TvXO"),k=(v=s("7eJjO"),s("jgs9n")),T=s("d2yMj"),E=s("30Aps"),I=s("dMFG2"),C=s("kyj08"),O=s("1XAcN"),L=s("flPLJ"),A=s("bQCqB"),M=s("9MlGz"),N=s("jHOLN"),R=s("10vEZ"),P=s("iho5X"),F=s("iJAIC"),j=s("fcwIv"),D=s("kced1");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),O=s("1XAcN");s("jHOLN"),s("iJAIC"),s("lNwWH"),s("2VlWd"),s("62edV");var U,V=s("bSafx"),B=(j=s("fcwIv"),U=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).type="none",h.default(n)}return y.default(r,[{key:"clone",value:function(){return new U({type:this.type})}}]),r}(O.JSONSupport));(0,v._)([(0,V.enumeration)({none:"none",stayAbove:"stay-above"})],B.prototype,"type",void 0),B=U=(0,v._)([(0,j.subclass)("esri.ground.NavigationConstraint")],B);var H,z=s("7gqUJ"),W=N.default.getLogger("esri.Ground"),G=H=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;d.default(this,r),(n=t.call(this,e)).opacity=1,n.surfaceColor=null,n.navigationConstraint=null,n.layers=new(0,T.default);return n.layers.on("after-add",(function(e){return(t=e.item).parent&&t.parent!==g.default(n)&&"remove"in t.parent&&t.parent.remove(t),t.parent=g.default(n),void("elevation"!==t.type&&"base-elevation"!==t.type&&W.error("Layer '".concat(t.title,", id:").concat(t.id,"' of type '").concat(t.type,"' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.")));var t})),n.layers.on("after-remove",(function(e){e.item.parent=null})),h.default(n)}return y.default(r,[{key:"initialize",value:function(){this.when().catch((function(e){W.error("#load()","Failed to load ground",e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}},{key:"destroy",value:function(){var e=this.layers.removeAll(),t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.destroy()}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}this.layers.destroy()}},{key:"normalizeCtorArgs",value:function(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e=b.default({},e)).resourceInfo),e}},{key:"layers",set:function(e){this._set("layers",(0,E.referenceSetter)(e,this._get("layers")))}},{key:"writeLayers",value:function(e,t,r,n){var i=[];e?(n=b.default({},n,{layerContainerType:"ground"}),e.forEach((function(e){if("write"in e){var t={};(0,I.typeCast)(e)().write(t,n)&&i.push(t)}else n&&n.messages&&n.messages.push(new(0,C.default)("layer:unsupported","Layers (".concat(e.title,", ").concat(e.id,") of type '").concat(e.declaredClass,"' cannot be persisted in the ground"),{layer:e}))})),t.layers=i):t.layers=i}},{key:"load",value:function(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}},{key:"loadAll",value:function(){var e=this;return(0,M.loadAll)(this,(function(t){t(e.layers)}))}},{key:"queryElevation",value:function(e,t){var r=this;return _.default(n(S).mark((function i(){var a,o,l,u;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.load({signal:null==t?void 0:t.signal});case 2:return n.next=4,s("9M1zq");case 4:return a=n.sent,o=a.ElevationQuery,(0,R.throwIfAborted)(t),l=new o,u=r.layers.filter(J).toArray(),n.abrupt("return",l.queryAll(u,e,t));case 9:case"end":return n.stop()}}),i)})))()}},{key:"createElevationSampler",value:function(e,t){var r=this;return _.default(n(S).mark((function i(){var a,o,l,u;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.load({signal:null==t?void 0:t.signal});case 2:return n.next=4,s("9M1zq");case 4:return a=n.sent,o=a.ElevationQuery,(0,R.throwIfAborted)(t),l=new o,u=r.layers.filter(J).toArray(),n.abrupt("return",l.createSamplerAll(u,e,t));case 9:case"end":return n.stop()}}),i)})))()}},{key:"clone",value:function(){var e={opacity:this.opacity,surfaceColor:(0,L.clone)(this.surfaceColor),navigationConstraint:(0,L.clone)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new H({resourceInfo:this.resourceInfo}).set(e)}},{key:"read",value:function(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),w.default(x.default(r.prototype),"read",this).call(this,e,t)}},{key:"_loadFromSource",value:function(e){var t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve(null)}},{key:"_loadLayersFromJSON",value:function(e,t,r){var n=this,i=t&&t.origin||"web-scene",a=t&&t.portal||null,o=t&&t.url||null;return s("bW6jd").then((function(t){var s=t.populateOperationalLayers;(0,R.throwIfAborted)(r);var l=[];if(e.layers&&Array.isArray(e.layers)){var u={context:{origin:i,url:o,portal:a,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};l.push(s(n.layers,e.layers,u))}return(0,R.eachAlways)(l)})).then((function(){}))}}]),r}((0,O.JSONSupportMixin)(A.default));function J(e){return"elevation"===e.type||(t=e)&&"createElevationSampler"in t;var t}(0,v._)([(0,P.property)({json:{read:!1}})],G.prototype,"layers",null),(0,v._)([(0,D.writer)("layers")],G.prototype,"writeLayers",null),(0,v._)([(0,P.property)({readOnly:!0})],G.prototype,"resourceInfo",void 0),(0,v._)([(0,P.property)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:F.Integer,read:{reader:z.transparencyToOpacity,source:"transparency"},write:{writer:function(e,t){t.transparency=(0,z.opacityToTransparency)(e)},target:"transparency"}}})],G.prototype,"opacity",void 0),(0,v._)([(0,P.property)({type:k.default,json:{type:[F.Integer],write:function(e,t){t.surfaceColor=e.toJSON().slice(0,3)}}})],G.prototype,"surfaceColor",void 0),(0,v._)([(0,P.property)({type:B,json:{write:!0}})],G.prototype,"navigationConstraint",void 0);var q=G=H=(0,v._)([(0,j.subclass)("esri.Ground")],G),X=s("jymfC"),K=s("7FmYA"),Y=s("amfHf"),Z=s("7qybv");P=s("iho5X");s("lNwWH"),s("2VlWd");var Q=s("ba18L");j=s("fcwIv");function ee(e){var t;return!(!(e&&e.loaded&&"capabilities"in e&&null!=e&&null!=(t=e.capabilities)&&t.operations&&"supportsEditing"in e.capabilities.operations&&!0===e.capabilities.operations.supportsEditing)||"editingEnabled"in e&&!e.editingEnabled)}s("8TSCy");var te=s("iCnzh"),re=(m=s("lnx4K"),c=s("cu9iz"),T=s("d2yMj"),N=s("jHOLN"),Z=s("7qybv"),s("kYueh")),ne=(F=s("iJAIC"),s("jgJQw")),ie=N.default.getLogger("esri.support.basemapUtils");function ae(e){for(var t in e){var r=e[t];!1===(null==r?void 0:r.destroyed)&&r.destroy(),delete e[t]}}function oe(e,t){var r,n;if("string"==typeof e){if(!(e in ne.esriBasemapDefinitions)){var i=Object.entries(ne.esriBasemapDefinitions).filter((function(e){var t=te.default(e,2),r=(t[0],t[1]);return c.default.apiKey&&!r.classic||!c.default.apiKey&&r.classic&&!r.deprecated})).map((function(e){var t=te.default(e,1)[0];return'"'.concat(t,'"')})).join(", ");return ie.warn("Unable to find basemap definition for: ".concat(e,". Try one of these: ").concat(i)),null}t&&(n=t[e]),n||(n=m.default.fromId(e),t&&(t[e]=n))}else n=(0,F.ensureType)(m.default,e);return null!=(r=n)&&r.destroyed&&(ie.warn("The provided basemap is already destroyed",{basemap:n}),n=null),n}function se(e){var t=null,r=ue(e),n=!r.baseLayers.length;for(var i in ne.esriBasemapDefinitions){var a=he(r,pe(ne.esriBasemapDefinitions[i]),{mustMatchReferences:n});if("equal"===a){t=i;break}"base-layers-equal"===a&&(t=i)}return t}function le(e,t){var r,n,i;if((0,Z.isNone)(t)||(0,Z.isNone)(e))return{spatialReference:null,updating:!1};if("not-loaded"===t.loadStatus)return t.load(),{spatialReference:null,updating:!0};if(t.spatialReference)return{spatialReference:t.spatialReference,updating:!1};if(0===t.baseLayers.length)return{spatialReference:null,updating:!1};var a=t.baseLayers.getItemAt(0);switch(a.loadStatus){case"not-loaded":a.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}var o=(("supportedSpatialReferences"in a?a.supportedSpatialReferences:null)||["tileInfo"in a?null==(r=a.tileInfo)?void 0:r.spatialReference:a.spatialReference]).filter(Boolean);return e.spatialReference?{spatialReference:null!=(n=null!=(i=o.find((function(t){return e.spatialReference.equals(t)})))?i:o[0])?n:null,updating:!1}:{spatialReference:o[0],updating:!1}}function ue(e){return e?!e.loaded&&e.resourceInfo?pe(e.resourceInfo.data):{baseLayers:ce(e.baseLayers),referenceLayers:ce(e.referenceLayers)}:null}function ce(e){return(T.default.isCollection(e)?e.toArray():e).map(fe)}function fe(e){var t,r;return{type:e.type,url:me("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible,sublayers:"map-image"!==e.type&&"wms"!==e.type||!(0,Z.isSome)(e.sublayers)||null==(t=e.sublayers)?void 0:t.map((function(e){return{id:e.id,visible:e.visible}})),activeLayerId:"wmts"===e.type?null==(r=e.activeLayer)?void 0:r.id:void 0}}function pe(e){return e?{baseLayers:de(e.baseMapLayers.filter((function(e){return!e.isReference}))),referenceLayers:de(e.baseMapLayers.filter((function(e){return e.isReference})))}:null}function de(e){return e.map((function(e){return function(e){var t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;default:t="unknown"}return{type:t,url:me(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!=e.minScale?e.minScale:0,maxScale:null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visibility||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}(e)}))}function he(e,t,r){return null!=e!=(null!=t)?"not-equal":e?ye(e.baseLayers,t.baseLayers)?ye(e.referenceLayers,t.referenceLayers)?"equal":r.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function ye(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!ve(e[r],t[r]))return!1;return!0}function ve(e,t){if(e.type!==t.type||e.url!==t.url||e.minScale!==t.minScale||e.maxScale!==t.maxScale||e.visible!==t.visible||e.opacity!==t.opacity)return!1;if((0,Z.isSome)(e.activeLayerId)||(0,Z.isSome)(t.activeLayerId))return e.activeLayerId===t.activeLayerId;if((0,Z.isSome)(e.sublayers)||(0,Z.isSome)(t.sublayers)){if((0,Z.isNone)(e.sublayers)||(0,Z.isNone)(t.sublayers)||e.sublayers.length!==t.sublayers.length)return!1;for(var r=0;r<e.sublayers.length;r++){var n=e.sublayers.at(r),i=t.sublayers.at(r);if(n.id!==i.id||n.visible!==i.visible)return!1}}return!0}function me(e){return e?(0,re.normalize)(e).replace(/^\s*https?:/i,"").toLowerCase():""}N=s("jHOLN"),F=s("iJAIC");var ge=N.default.getLogger("esri.support.groundUtils"),be={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function _e(e){var t=null;"string"==typeof e?e in be?t=new q({resourceInfo:{data:{layers:[be[e]]}}}):ge.warn("Unable to find ground definition for: ".concat(e,'. Try "world-elevation"')):t=(0,F.ensureType)(q,e);return t}var we=s("flvKv"),xe=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).allLayers=new(0,K.default)({getCollections:function(){var e,t,r;return[null==(e=n.basemap)?void 0:e.baseLayers,null==(t=n.ground)?void 0:t.layers,n.layers,null==(r=n.basemap)?void 0:r.referenceLayers]},getChildrenFunction:function(e){return"layers"in e?e.layers:null}}),n.allTables=new(0,K.default)({getCollections:function(){return[n.tables,n.layers]},getChildrenFunction:function(e){var t=[];return"tables"in e&&t.push(e.tables),"layers"in e&&t.push(e.layers),t},itemFilterFunction:function(e){var t=e.parent;return t&&"tables"in t&&t.tables.includes(e)}}),n.basemap=null,n.editableLayers=new(0,K.default)({getCollections:function(){return[n.allLayers]},itemFilterFunction:ee}),n.ground=new q,n._basemapCache={},h.default(n)}return y.default(r,[{key:"destroy",value:function(){var e,t;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),null==(e=this.ground)||e.destroy(),null==(t=this.basemap)||t.destroy(),ae(this._basemapCache),this._basemapCache=null}},{key:"castBasemap",value:function(e){return oe(e,this._basemapCache)}},{key:"castGround",value:function(e){var t=_e(e);return(0,Z.isNone)(t)?this._get("ground"):t}},{key:"findLayerById",value:function(e){return this.allLayers.find((function(t){return t.id===e}))}},{key:"findTableById",value:function(e){return this.allTables.find((function(t){return t.id===e}))}}]),r}((0,s("4oitb").TablesMixin)((0,we.LayersMixin)(Y.default.EventedMixin(X.default))));(0,v._)([(0,P.property)({readOnly:!0,dependsOn:[]})],xe.prototype,"allLayers",void 0),(0,v._)([(0,P.property)({readOnly:!0})],xe.prototype,"allTables",void 0),(0,v._)([(0,P.property)({type:m.default})],xe.prototype,"basemap",void 0),(0,v._)([(0,Q.cast)("basemap")],xe.prototype,"castBasemap",null),(0,v._)([(0,P.property)({readOnly:!0})],xe.prototype,"editableLayers",void 0),(0,v._)([(0,P.property)({type:q,nonNullable:!0})],xe.prototype,"ground",void 0),(0,v._)([(0,Q.cast)("ground")],xe.prototype,"castGround",null);var Se=xe=(0,v._)([(0,j.subclass)("esri.Map")],xe),ke=s("8TSCy"),Te=(S=s("2TvXO"),v=s("7eJjO"),s("bsvXr")),Ee=s("9UYxM"),Ie=(T=s("d2yMj"),K=s("7FmYA"),C=s("kyj08"),s("2VlWd")),Ce=s("97KKx"),Oe=(N=s("jHOLN"),Z=s("7qybv"),R=s("10vEZ"),s("lKPaD")),Le=s("iXlXu"),Ae=s("lfedQ"),Me=s("gdXB3");P=s("iho5X");s("lNwWH"),s("iJAIC");j=s("fcwIv");var Ne=s("gINRd"),Re=s("d1Fqh"),Pe=s("7RvA5"),Fe=s("eY5Yp"),je=s("xQ42o");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5");var De=s("5Vgx8"),Ue=(h=s("bFSSc"),y=s("jK9zx"),b=s("ifq4M"),v=s("7eJjO"),s("8IgiO")),Ve=s("qhgF7");Z=s("7qybv"),Oe=s("lKPaD"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Be={widthBreakpoint:{getValue:function(e){var t=e.viewSize[0],r=e.breakpoints,n=this.values;return t<=r.xsmall?n.xsmall:t<=r.small?n.small:t<=r.medium?n.medium:t<=r.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue:function(e){var t=e.viewSize[1],r=e.breakpoints,n=this.values;return t<=r.xsmall?n.xsmall:t<=r.small?n.small:t<=r.medium?n.medium:t<=r.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue:function(e){var t=e.viewSize,r=t[0],n=t[1],i=this.values;return n>=r?i.portrait:i.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},He={xsmall:544,small:768,medium:992,large:1200};function ze(e,t){return t?Be[e].valueToClassName[t].split(" "):[]}s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),De=s("5Vgx8"),h=s("bFSSc"),y=s("jK9zx"),te=s("iCnzh"),v=s("7eJjO");var We=s("285ef"),Ge=(Oe=s("lKPaD"),s("7LFLF"));P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),X=s("jymfC"),T=s("d2yMj"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");s("axJY9");var Je=s("lvmVw"),qe=s("1Zzc4"),Xe=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){var e;return d.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).items=new(0,T.default),e._watchUpdatingTracking=new(0,qe.WatchUpdatingTracking),e._callbacks=new Map,e._projector=(0,Je.createProjector)(),e._hiddenProjector=(0,Je.createProjector)(),h.default(e)}return y.default(r,[{key:"needsRender",get:function(){return this.items.length>0}},{key:"initialize",value:function(){var e=this,t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange((function(){return e.items}),(function(t){var r=!0,n=!1,i=void 0;try{for(var a,o=function(t,r){var n=r.value,i=function(){return n.render()};e._callbacks.set(n,i),e._projector.append(e.surface,i)},s=t.added[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)o(0,a)}catch(e){n=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}var l=!0,u=!1,c=void 0;try{for(var f,p=t.removed[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var d=f.value,h=e._projector.detach(e._callbacks.get(d));e.surface.removeChild(h.domNode),e._callbacks.delete(d)}}catch(e){u=!0,c=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}}))}},{key:"addItem",value:function(e){this.items.add(e)}},{key:"removeItem",value:function(e){this.items.remove(e)}},{key:"destroy",value:function(){var e=this;this.items.removeAll(),this._callbacks.forEach((function(t){return e._projector.detach(t)})),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}},{key:"render",value:function(){this._projector.renderNow()}},{key:"computeBoundingRect",value:function(e){var t=this._hiddenSurface,r=this._hiddenProjector,n=null,i=function(){return n=e.render()};r.append(t,i),r.renderNow();var a={left:0,top:0,right:0,bottom:0};if(n&&n.domNode){var o=n.domNode.getBoundingClientRect();a.left=o.left,a.top=o.top,a.right=o.right,a.bottom=o.bottom}for(r.detach(i);t.firstChild;)t.removeChild(t.firstChild);return a}},{key:"overlaps",value:function(e,t){var r=this.computeBoundingRect(e),n=this.computeBoundingRect(t);return Math.max(r.left,n.left)<=Math.min(r.right,n.right)&&Math.max(r.top,n.top)<=Math.min(r.bottom,n.bottom)}},{key:"hasVisibleItems",get:function(){return this.items.some((function(e){return e.visible}))}},{key:"renderCanvas",value:function(e){if(this.items.some((function(e){return e.visible}))){var t=e.getContext("2d");t.save(),t.font="10px ".concat(getComputedStyle(this.surface).fontFamily),this.items.forEach((function(e){t.save(),e.renderCanvas(t),t.restore()})),t.restore()}}}]),r}(X.default);(0,v._)([(0,P.property)({readOnly:!0})],Xe.prototype,"surface",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Xe.prototype,"items",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Xe.prototype,"needsRender",null),(0,v._)([(0,P.property)({readOnly:!0})],Xe.prototype,"_watchUpdatingTracking",void 0),(0,v._)([(0,P.property)({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],Xe.prototype,"updating",void 0);var Ke=Xe=(0,v._)([(0,j.subclass)("esri.views.overlay.ViewOverlay")],Xe);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),te=s("iCnzh"),b=s("ifq4M"),g=s("Kn7R4"),h=s("bFSSc"),y=s("jK9zx");var $e=s("aNiFM");_=s("jcnGU"),S=s("2TvXO"),v=s("7eJjO");s("4M5RN");T=s("d2yMj");var Ye=s("cj7C1"),Ze=(Ve=s("qhgF7"),N=s("jHOLN"),Z=s("7qybv"),Oe=s("lKPaD"),s("9uTTh")),Qe=s("5qZXj"),et=s("kDa5L");s("lNwWH"),s("2VlWd");Q=s("ba18L"),P=s("iho5X"),j=s("fcwIv");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),b=s("ifq4M"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO");s("4M5RN");Qe=s("5qZXj"),et=s("kDa5L");s("lNwWH"),s("2VlWd");Q=s("ba18L"),P=s("iho5X"),j=s("fcwIv");var tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),Qe=s("5qZXj"),et=s("kDa5L");s("lNwWH"),s("2VlWd"),s("iJAIC");P=s("iho5X"),j=s("fcwIv");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),b=s("ifq4M"),h=s("bFSSc"),y=s("jK9zx"),$e=s("aNiFM"),v=s("7eJjO"),C=s("kyj08");var rt=s("dbxRf"),nt=s("iVfa0"),it=s("1TSdR"),at=s("5vzSQ"),ot=s("1RkqB");var st=["B","kB","MB","GB","TB"];function lt(e,t){var r=0===t?0:Math.floor(Math.log(t)/Math.log(rt.ByteSizeUnit.KILOBYTES));r=(0,nt.clamp)(r,0,st.length-1);var n=(0,ot.formatNumber)(t/Math.pow(rt.ByteSizeUnit.KILOBYTES,r),{maximumFractionDigits:2});return(0,it.replace)(e.units.bytes[st[r]],{fileSize:n})}Qe=s("5qZXj"),et=s("kDa5L");s("lNwWH"),s("2VlWd");Q=s("ba18L"),P=s("iho5X"),j=s("fcwIv"),tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),b=s("ifq4M"),g=s("Kn7R4"),h=s("bFSSc"),y=s("jK9zx"),_=s("jcnGU"),S=s("2TvXO"),v=s("7eJjO"),Te=s("bsvXr"),T=s("d2yMj"),C=s("kyj08");var ut=s("6dXDO");Z=s("7qybv"),Qe=s("5qZXj"),P=s("iho5X");s("lNwWH"),s("2VlWd");Q=s("ba18L"),j=s("fcwIv");var ct=s("crcVj"),ft=s("lYvo2");s("8TSCy");_=s("jcnGU"),b=s("ifq4M"),De=s("5Vgx8"),S=s("2TvXO");s("4M5RN");N=s("jHOLN"),Z=s("7qybv"),it=s("1TSdR");var pt=s("8lxrq"),dt=(ot=s("1RkqB"),s("7vTUY")),ht=s("7vbz9"),yt=s("3nnTb"),vt=N.default.getLogger("esri.widgets.Feature.support.featureUtils"),mt=/href=(""|'')/gi,gt=/(\{([^\{\r\n]+)\})/g,bt=/\'/g,_t=/^\s*expression\//i,wt=/(\n)/gi,xt=/[\u00A0-\u9999<>\&]/gim,St=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,kt=/^(?:mailto:|tel:)/,Tt="relationships/",Et=(0,pt.convertDateFormatToIntlOptions)("short-date-short-time");function It(e){if(!(0,Z.isNone)(e))return e.get("sourceLayer")||e.get("layer")}function Ct(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=_.default(n(S).mark((function e(t,r){return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","function"==typeof t?t.call(null,r):t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e)return!kt.test(e.trim().toLowerCase())}function At(e){return!!e&&_t.test(e)}function Mt(e,t){var r=function(e,t){if(!At(t)||!e)return null;var r,n=t.replace(_t,"").toLowerCase();return e.some((function(e){return e.name.toLowerCase()===n&&(r=e,!0)})),r}(t,null==e?void 0:e.fieldName);return r?r.title||null:e?e.label||e.fieldName:null}function Nt(e,t){var r=Rt(t,e);return r?r.name:e}function Rt(e,t){return e&&"function"==typeof e.getField?e.getField(t):null}function Pt(e){return"".concat(e).trim()}function Ft(e){var t,r,n,i,a=e.attributes,o=e.globalAttributes,s=e.layer,l=e.text,u=e.expressionAttributes,c=e.fieldInfoMap;return l?jt({formattedAttributes:o,template:(t=l,r=b.default({},o,u,a),n=s,i=Ut(t,n),i?i.replace(St,(function(e,t,n){return i=e,o=r,s=(a=Pt(a=t||n))&&"{"!==a[0],(0,it.replace)(i,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=b.default({},e);return Object.keys(r).forEach((function(e){return Dt(e,r,t)})),r}(o,s));var i,a,o,s})):i),fieldInfoMap:c}):""}function jt(e){var t=e.formattedAttributes,r=e.template,n=e.fieldInfoMap;return Pt((0,it.replace)((0,it.replace)(r,(function(e){return t=e,r=n.get(t.toLowerCase()),"{".concat(r&&r.fieldName||t,"}");var t,r})),t).replace(mt,""))}function Dt(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t[e];if("string"==typeof n){var i="%27",a=(r?encodeURIComponent(n):n).replace(bt,i);t[e]=a}}function Ut(e,t){return e.replace(gt,(function(e,r,n){var i=Rt(t,n);return i?"{".concat(i.name,"}"):r}))}function Vt(e,t){var r,n,i,a=t.fieldInfos,o=t.fieldName,s=Bt(a,o),l=null==s?void 0:s.clone(),u=t.preventPlacesFormatting,c=t.layer,f=Rt(c,o);if(l&&"date"===(null==f?void 0:f.type)){var p=l.format||new(0,ht.default);p.dateFormat=p.dateFormat||"short-date-short-time",p.dateTimeFormatOptions="feature"===(null==(i=c)?void 0:i.type)&&c.datesInUnknownTimezone||null!=(n=c)&&n.layer&&"map-image"===(null==(r=c.layer)?void 0:r.type)&&c.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,l.format=p}var d=l&&l.format;return"string"==typeof(e=function(e,t){if("string"==typeof e&&t&&null==t.dateFormat&&(null!=t.places||null!=t.digitSeparator)){var r=Number(e);if(!isNaN(r))return r}return e}(e,d))||null==e||null==d?Gt(e):u?(0,ot.formatNumber)(e,b.default({},(0,ot.convertNumberFormatToIntlOptions)(d),{minimumFractionDigits:0,maximumFractionDigits:20})):d.format(e)}function Bt(e,t){if(e&&e.length&&t){var r,n=t.toLowerCase();return e.some((function(e){return!(!e.fieldName||e.fieldName.toLowerCase()!==n||(r=e,0))})),r}}function Ht(e,t){var r=e.creatorField,n=e.creationDateField,i=e.editorField,a=e.editDateField;if(t){var o=t[a];if("number"==typeof o){var s=t[i];return{type:"edit",date:(0,pt.formatDate)(o,Et),user:s}}var l=t[n];if("number"==typeof l){var u=t[r];return{type:"create",date:(0,pt.formatDate)(l,Et),user:u}}return null}}function zt(e){var t,r=[];if(!e)return r;var n=e.fieldInfos,i=e.content;return n&&(t=r).push.apply(t,De.default(n)),i&&Array.isArray(i)?(i.forEach((function(e){if("fields"===e.type){var t,n=e&&e.fieldInfos;n&&(t=r).push.apply(t,De.default(n))}})),r):r}function Wt(e){return e.replace(xt,(function(e){return"&#".concat(e.charCodeAt(0),";")}))}function Gt(e){return"string"==typeof e?e.replace(wt,'<br class="esri-text-new-line" />'):e}function Jt(e){var t=e.value,r=e.fieldName,n=e.fieldInfos,i=e.fieldInfoMap,a=e.layer,o=e.graphic;if(null==t)return"";var s=function(e){var t=e.fieldName,r=e.value,n=e.graphic,i=e.layer;if(er(t))return null;if(!i||"function"!=typeof i.getFieldDomain)return null;var a=i.getFieldDomain(t,{feature:n});return a&&"coded-value"===a.type?a.getName(r):null}({fieldName:r,value:t,graphic:o,layer:a});if(s)return s;var l=function(e){var t=e.fieldName,r=e.graphic,n=e.layer;if(er(t))return null;if(!n||"function"!=typeof n.getFeatureType)return null;var i=n.typeIdField;if(!i||t!==i)return null;var a=n.getFeatureType(r);return a?a.name:null}({fieldName:r,graphic:o,layer:a});if(l)return l;if(i.get(r.toLowerCase()))return Vt(t,{fieldInfos:n,fieldName:r,layer:a});var u=a&&a.fieldsIndex;return u&&u.isDateField(r)?(0,pt.formatDate)(t,Et):Gt(t)}function qt(e){var t=e.fieldInfos,r=e.attributes,n=e.layer,i=e.graphic,a=e.fieldInfoMap,o=e.relatedInfos,s={};return null==o||o.forEach((function(e){return r=e,void((t=s)&&r&&(r.relatedFeatures&&r.relatedFeatures&&r.relatedFeatures.forEach((function(e){return tr({attributes:t,graphic:e,relatedInfo:r})})),r.relatedStatsFeatures&&r.relatedStatsFeatures&&r.relatedStatsFeatures.forEach((function(e){return tr({attributes:t,graphic:e,relatedInfo:r})}))));var t,r})),Object.keys(r).forEach((function(e){var o=r[e];s[e]=Jt({fieldName:e,fieldInfos:t,fieldInfoMap:a,layer:n,value:o,graphic:i})})),s}function Xt(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=_.default(n(S).mark((function e(t,r){var i,a,o,s,l,u,c,f,p,d,h,y;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.layer,s=t.graphic,l=t.outFields,u=t.objectIds,c=t.returnGeometry,f=t.spatialReference,"number"==typeof(p=u[0])||"string"==typeof p){e.next=5;break}return"Could not query required fields for the specified feature. The feature's ID is invalid.",d={layer:o,graphic:s,objectId:p,requiredFields:l},e.abrupt("return",(vt.warn("Could not query required fields for the specified feature. The feature's ID is invalid.",d),null));case 5:if(null!=(i=o.capabilities)&&null!=(a=i.operations)&&a.supportsQuery){e.next=8;break}return"The specified layer cannot be queried. The following fields will not be available.",h={layer:o,graphic:s,requiredFields:l,returnGeometry:c},e.abrupt("return",(vt.warn("The specified layer cannot be queried. The following fields will not be available.",h),null));case 8:return(y=o.createQuery()).objectIds=u,y.outFields=null!=l&&l.length?l:[o.objectIdField],y.returnGeometry=!!c,y.returnZ=!!c,y.returnM=!!c,y.outSpatialReference=f,e.next=12,o.queryFeatures(y,r);case 12:return e.abrupt("return",e.sent.features[0]);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=_.default(n(S).mark((function e(t){var r,i,a,o;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(r=t.expressionInfos)&&r.length){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,(0,yt.loadArcade)();case 5:return i=e.sent,a=i.arcadeUtils,o=a.hasGeometryFunctions,e.abrupt("return",o(t));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zt(e,t){return Qt.apply(this,arguments)}function Qt(){return(Qt=_.default(n(S).mark((function e(t,r){var i,a,o,s,l,u,c,f,p,d,h;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.graphic,a=t.popupTemplate,o=t.layer,s=t.spatialReference,o&&a){e.next=3;break}return e.abrupt("return");case 3:if(e.t0="function"==typeof o.load,!e.t0){e.next=7;break}return e.next=7,o.load(r);case 7:if(e.t0&&e.sent,i.attributes){e.next=9;break}return e.abrupt("return");case 9:if(null!=(l=i.attributes[o.objectIdField])){e.next=12;break}return e.abrupt("return");case 12:return u=[l],e.next=15,a.getRequiredFields(o.fieldsIndex);case 15:if(c=e.sent,f=(0,dt.featureHasFields)(c,i),p=f?[]:c,e.t1=a.returnGeometry,e.t1){e.next=23;break}return e.next=22,$t(a);case 22:e.t1=e.sent;case 23:if(d=e.t1,!f||d){e.next=26;break}return e.abrupt("return");case 26:return e.next=28,Xt({layer:o,graphic:i,outFields:p,objectIds:u,returnGeometry:d,spatialReference:s},r);case 28:(h=e.sent)&&(h.geometry&&(i.geometry=h.geometry),h.attributes&&(i.attributes=b.default({},i.attributes,h.attributes)));case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!e&&-1!==e.indexOf(Tt)}function tr(e){var t=e.attributes,r=e.graphic,n=e.relatedInfo;t&&r&&n&&Object.keys(r.attributes).forEach((function(e){var i,a=(i={layerId:n.relation.id.toString(),fieldName:e})?"".concat(Tt).concat(i.layerId,"/").concat(i.fieldName):"";t[a]=r.attributes[e]}))}var rr=function(e){if(!e)return!1;var t=e.toUpperCase();return t.indexOf("CURRENT_TIMESTAMP")>-1||t.indexOf("CURRENT_DATE")>-1||t.indexOf("CURRENT_TIME")>-1},nr=function(e){var t,r,n=e.layer,i=e.method,a=e.query,o=e.definitionExpression;if(null!=(t=n.capabilities)&&null!=(r=t.query)&&r.supportsCacheHint&&"attachments"!==i){var s=(0,Z.isSome)(a.where)&&a.where,l=(0,Z.isSome)(a.geometry)&&a.geometry;rr(o)||rr(s)||"extent"===(null==l?void 0:l.type)||"tile"===a.resultType||(a.cacheHint=!0)}},ir={editing:!1,operations:{add:!0,update:!0,delete:!0}},ar=T.default.ofType(ct.default),or=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._getAttachmentsPromise=null,n._attachmentLayer=null,n.abilities=b.default({},ir),n.activeAttachmentInfo=null,n.attachmentInfos=new ar,n.graphic=null,n.mode="view",n.handles.add([(0,Qe.init)(g.default(n),"graphic",(function(){return n._graphicChanged()}))]),h.default(n)}return y.default(r,[{key:"destroy",value:function(){this._attachmentLayer=null,this.graphic=null}},{key:"castAbilities",value:function(e){return b.default({},ir,e)}},{key:"state",get:function(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}},{key:"supportsResizeAttachments",get:function(){return this.get("graphic.layer.capabilities.operations.supportsResizeAttachments")||!1}},{key:"getAttachments",value:function(){var e=this;return _.default(n(S).mark((function t(){var r,i,a,o,s,l,u;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e._attachmentLayer,i=e.attachmentInfos,r&&"function"==typeof r.queryAttachments){t.next=3;break}throw new(0,C.default)("invalid-layer","getAttachments(): A valid layer is required.");case 3:return a=e._getFeatureId(),o=new(0,ft.default)({objectIds:[a],returnMetadata:!0}),s=[],l=r.queryAttachments(o).then((function(e){return e[a]||s})).catch((function(){return s})),e._getAttachmentsPromise=l,e.notifyChange("state"),t.next=7,l;case 7:return u=t.sent,t.abrupt("return",(i.removeAll(),u.length&&i.addMany(u),e._getAttachmentsPromise=null,e.notifyChange("state"),u));case 9:case"end":return t.stop()}}),t)})))()}},{key:"addAttachment",value:function(e){var t=this;return _.default(n(S).mark((function r(){var i,a,o,s,l,u;return n(S).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t._attachmentLayer,a=t.attachmentInfos,o=t.graphic,s=t.abilities,e){r.next=3;break}throw new(0,C.default)("invalid-attachment","addAttachment(): An attachment is required.",{attachment:e});case 3:if(s.operations.add){r.next=5;break}throw new(0,C.default)("invalid-abilities","addAttachment(): add abilities are required.");case 5:if(i&&"function"==typeof i.addAttachment){r.next=7;break}throw new(0,C.default)("invalid-layer","addAttachment(): A valid layer is required.");case 7:return l=i.addAttachment(o,e).then((function(e){return t._queryAttachment(e.objectId)})),r.next=10,l;case 10:return u=r.sent,r.abrupt("return",(a.add(u),u));case 12:case"end":return r.stop()}}),r)})))()}},{key:"deleteAttachment",value:function(e){var t=this;return _.default(n(S).mark((function r(){var i,a,o,s,l,u;return n(S).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t._attachmentLayer,a=t.attachmentInfos,o=t.graphic,s=t.abilities,e){r.next=3;break}throw new(0,C.default)("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:e});case 3:if(s.operations.delete){r.next=5;break}throw new(0,C.default)("invalid-abilities","deleteAttachment(): delete abilities are required.");case 5:if(i&&"function"==typeof i.deleteAttachments){r.next=7;break}throw new(0,C.default)("invalid-layer","deleteAttachment(): A valid layer is required.");case 7:return l=i.deleteAttachments(o,[e.id]).then((function(){return e})),r.next=10,l;case 10:return u=r.sent,r.abrupt("return",(a.remove(u),u));case 12:case"end":return r.stop()}}),r)})))()}},{key:"updateAttachment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.activeAttachmentInfo,r=this;return _.default(n(S).mark((function i(){var a,o,s,l,u,c,f;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=r._attachmentLayer,o=r.attachmentInfos,s=r.graphic,l=r.abilities,e){n.next=3;break}throw new(0,C.default)("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:e});case 3:if(t){n.next=5;break}throw new(0,C.default)("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:t});case 5:if(l.operations.update){n.next=7;break}throw new(0,C.default)("invalid-abilities","updateAttachment(): Update abilities are required.");case 7:if(u=o.findIndex((function(e){return e===t})),a&&"function"==typeof a.updateAttachment){n.next=10;break}throw new(0,C.default)("invalid-layer","updateAttachment(): A valid layer is required.");case 10:return c=a.updateAttachment(s,t.id,e).then((function(e){return r._queryAttachment(e.objectId)})),n.next=13,c;case 13:return f=n.sent,n.abrupt("return",(o.splice(u,1,f),f));case 15:case"end":return n.stop()}}),i)})))()}},{key:"_queryAttachment",value:function(e){var t=this;return _.default(n(S).mark((function r(){var i,a,o;return n(S).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}throw new(0,C.default)("invalid-attachment-id","Could not query attachment.");case 2:return i=t._attachmentLayer,a=t._getFeatureId(),o=new(0,ft.default)({objectIds:[a],attachmentsWhere:"AttachmentId=".concat(e),returnMetadata:!0}),r.abrupt("return",i.queryAttachments(o).then((function(e){return e[a][0]})));case 4:case"end":return r.stop()}}),r)})))()}},{key:"_getFeatureId",value:function(){var e=this._attachmentLayer,t=this.graphic;if(!e||!t)return null;var r=e.objectIdField,n=t.attributes;return n&&n[r]}},{key:"_graphicChanged",value:function(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch((function(){})))}},{key:"_setAttachmentLayer",value:function(){var e=It(this.graphic);this._attachmentLayer=e?"scene"===e.type&&(0,Z.isSome)(e.associatedLayer)?e.associatedLayer:e:null}}]),r}(ut.HandleOwner);(0,v._)([(0,P.property)()],or.prototype,"abilities",void 0),(0,v._)([(0,Q.cast)("abilities")],or.prototype,"castAbilities",null),(0,v._)([(0,P.property)()],or.prototype,"activeAttachmentInfo",void 0),(0,v._)([(0,P.property)({readOnly:!0,type:ar})],or.prototype,"attachmentInfos",void 0),(0,v._)([(0,P.property)({type:Te.default})],or.prototype,"graphic",void 0),(0,v._)([(0,P.property)()],or.prototype,"mode",void 0),(0,v._)([(0,P.property)({readOnly:!0})],or.prototype,"state",null),(0,v._)([(0,P.property)({readOnly:!0})],or.prototype,"supportsResizeAttachments",null);var sr=or=(0,v._)([(0,j.subclass)("esri.widgets.Attachments.AttachmentsViewModel")],or),lr=s("i9j5X");function ur(e){var t=(0,lr.getAssetUrl)("esri/themes/base/images/files/");return e?"text/plain"===e?"".concat(t,"text-32.svg"):"application/pdf"===e?"".concat(t,"pdf-32.svg"):"text/csv"===e?"".concat(t,"csv-32.svg"):"application/gpx+xml"===e?"".concat(t,"gpx-32.svg"):"application/x-dwf"===e?"".concat(t,"cad-32.svg"):"application/postscript"===e||"application/json"===e||"text/xml"===e||"model/vrml"===e?"".concat(t,"code-32.svg"):"application/x-zip-compressed"===e||"application/x-7z-compressed"===e||"application/x-gzip"===e||"application/x-tar"===e||"application/x-gtar"===e||"application/x-bzip2"===e||"application/gzip"===e||"application/x-compress"===e||"application/x-apple-diskimage"===e||"application/x-rar-compressed"===e||"application/zip"===e?"".concat(t,"zip-32.svg"):-1!==e.indexOf("image/")?"".concat(t,"image-32.svg"):-1!==e.indexOf("audio/")?"".concat(t,"sound-32.svg"):-1!==e.indexOf("video/")?"".concat(t,"video-32.svg"):-1!==e.indexOf("msexcel")||-1!==e.indexOf("ms-excel")||-1!==e.indexOf("spreadsheetml")?"".concat(t,"excel-32.svg"):-1!==e.indexOf("msword")||-1!==e.indexOf("ms-word")||-1!==e.indexOf("wordprocessingml")?"".concat(t,"word-32.svg"):-1!==e.indexOf("powerpoint")||-1!==e.indexOf("presentationml")?"".concat(t,"report-32.svg"):"".concat(t,"generic-32.svg"):"".concat(t,"generic-32.svg")}var cr=s("6zpox"),fr=s("dKwUH");s("jHOLN");var pr=s("yibdR"),dr={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},hr="esri-attachments",yr="esri-attachments__loader-container",vr="esri-attachments__loader",mr="esri-attachments__container",gr="esri-attachments__container--list",br="esri-attachments__container--preview",_r="esri-attachments__actions",wr="esri-attachments__delete-button",xr="esri-attachments__add-attachment-button",Sr="esri-attachments__error-message",kr="esri-attachments__items",Tr="esri-attachments__item",Er="esri-attachments__item-button",Ir="esri-attachments__item-mask",Cr="esri-attachments__item-mask--icon",Or="esri-attachments__image",Lr="esri-attachments__image--resizable",Ar="esri-attachments__label",Mr="esri-attachments__filename",Nr="esri-attachments__item-chevron-icon",Rr="esri-attachments__item-link",Pr="esri-attachments__item-link-overlay",Fr="esri-attachments__item-link-overlay-icon",jr="esri-attachments__item-add-icon",Dr="esri-attachments__form-node",Ur="esri-attachments__file-fieldset",Vr="esri-attachments__file-label",Br="esri-attachments__file-name",Hr="esri-attachments__file-input",zr="esri-attachments__metadata",Wr="esri-attachments__metadata-fieldset",Gr="esri-attachments__progress-bar",Jr="esri-widget",qr="esri-button",Xr="esri-button--disabled",Kr="esri-button--secondary",$r="esri-button--tertiary",Yr="esri-button--third",Zr="esri-button--small",Qr="esri-button--half",en="esri-widget__content--empty",tn="esri-icon-right",rn="esri-icon-left",nn="esri-icon-plus",an=window.CSS,on=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n)).abilities=null,i.displayType="auto",i.graphic=null,i.label=void 0,i.messages=null,i.messagesUnits=null,i.selectedFile=null,i.submitting=!1,i.viewModel=new sr,i.visibleElements=b.default({},dr),i._supportsImageOrientation=an&&an.supports&&an.supports("image-orientation","from-image"),i._addAttachmentForm=null,i._updateAttachmentForm=null,h.default(i)}return y.default(r,[{key:"initialize",value:function(){var e=this;this.own((0,Qe.on)(this,"viewModel.attachmentInfos","change",(function(){return e.scheduleRender()})),(0,Qe.init)(this,"viewModel.mode",(function(){return e._modeChanged()})))}},{key:"effectiveDisplayType",get:function(){var e=this.displayType;return e&&"auto"!==e?e:this.viewModel.supportsResizeAttachments?"preview":"list"}},{key:"castVisibleElements",value:function(e){return b.default({},dr,e)}},{key:"addAttachment",value:function(){var e=this,t=this._addAttachmentForm,r=this.viewModel;return this._set("submitting",!0),this._set("error",null),r.addAttachment(t).then((function(t){return e._set("submitting",!1),e._set("error",null),r.mode="view",t})).catch((function(t){throw e._set("submitting",!1),e._set("error",new(0,C.default)("attachments:add-attachment",e.messages.addErrorMessage,t)),t}))}},{key:"deleteAttachment",value:function(e){var t=this,r=this.viewModel;return this._set("submitting",!0),this._set("error",null),r.deleteAttachment(e).then((function(e){return t._set("submitting",!1),t._set("error",null),r.mode="view",e})).catch((function(e){throw t._set("submitting",!1),t._set("error",new(0,C.default)("attachments:delete-attachment",t.messages.deleteErrorMessage,e)),e}))}},{key:"updateAttachment",value:function(){var e=this,t=this.viewModel,r=this._updateAttachmentForm;return this._set("submitting",!0),this._set("error",null),t.updateAttachment(r).then((function(r){return e._set("submitting",!1),e._set("error",null),t.mode="view",r})).catch((function(t){throw e._set("submitting",!1),e._set("error",new(0,C.default)("attachments:update-attachment",e.messages.updateErrorMessage,t)),t}))}},{key:"render",value:function(){var e=this.submitting,t=this.viewModel.state;return(0,pr.tsx)("div",{class:this.classes(hr,Jr)},e?this.renderProgressBar():null,"loading"===t?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}},{key:"renderErrorMessage",value:function(){var e=this.error,t=this.visibleElements;return e&&t.errorMessage?(0,pr.tsx)("div",{key:"error-message",class:Sr},e.message):null}},{key:"renderAttachments",value:function(){var e=this.viewModel,t=e.mode,r=e.activeAttachmentInfo;return"add"===t?this.renderAddForm():"edit"===t?this.renderDetailsForm(r):this.renderAttachmentContainer()}},{key:"renderLoading",value:function(){return(0,pr.tsx)("div",{class:yr,key:"loader"},(0,pr.tsx)("div",{class:vr}))}},{key:"renderProgressBar",value:function(){return this.visibleElements.progressBar?(0,pr.tsx)("div",{class:Gr,key:"progress-bar"}):null}},{key:"renderAddForm",value:function(){var e=this.submitting,t=this.selectedFile,r=e||!t,n=this.visibleElements.cancelAddButton?(0,pr.tsx)("button",{type:"button",bind:this,disabled:e,onclick:this._cancelForm,class:this.classes(qr,$r,Zr,Qr,e&&Xr)},this.messages.cancel):null,i=this.visibleElements.addSubmitButton?(0,pr.tsx)("button",{type:"submit",disabled:r,class:this.classes(qr,Kr,Zr,Qr,$e.default({},Xr,r))},this.messages.add):null,a=t?(0,pr.tsx)("span",{key:"file-name",class:Br},t.name):null,o=(0,pr.tsx)("form",{bind:this,afterCreate:cr.storeNode,afterRemoved:cr.discardNode,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},(0,pr.tsx)("fieldset",{class:Ur},a,(0,pr.tsx)("label",{class:this.classes(Vr,qr,Kr)},t?this.messages.changeFile:this.messages.selectFile,(0,pr.tsx)("input",{class:Hr,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),i,n);return(0,pr.tsx)("div",{key:"add-form-container",class:Dr},o)}},{key:"renderDetailsForm",value:function(e){var t=this,r=this,n=r.visibleElements,i=r.viewModel,a=r.selectedFile,o=r.submitting,s=e.contentType,l=e.size,u=e.url,c=i.abilities,f=o||!a,p=c.editing&&c.operations.delete&&n.deleteButton?(0,pr.tsx)("button",{key:"delete-button",type:"button",disabled:o,bind:this,onclick:function(r){return t._submitDeleteAttachment(r,e)},class:this.classes(qr,Zr,$r,wr,$e.default({},Xr,o))},this.messages.delete):null,d=c.editing&&c.operations.update&&n.updateButton?(0,pr.tsx)("button",{disabled:f,key:"update-button",type:"submit",class:this.classes(qr,Zr,Yr,$e.default({},Xr,f))},this.messages.update):null,h=this.visibleElements.cancelUpdateButton?(0,pr.tsx)("button",{disabled:o,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes(qr,Zr,$r,Yr,$e.default({},Xr,o))},this.messages.cancel):null,y=a?(0,pr.tsx)("span",{key:"file-name",class:Br},a.name):null,v=c.editing&&c.operations.update?(0,pr.tsx)("fieldset",{key:"file",class:Ur},y,(0,pr.tsx)("label",{class:this.classes(Vr,qr,Kr)},this.messages.changeFile,(0,pr.tsx)("input",{class:Hr,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null,m=(0,pr.tsx)("fieldset",{key:"size",class:Wr},(0,pr.tsx)("label",null,lt(this.messagesUnits,l))),g=(0,pr.tsx)("fieldset",{key:"content-type",class:Wr},(0,pr.tsx)("label",null,s)),b=(0,pr.tsx)("form",{bind:this,afterCreate:cr.storeNode,afterRemoved:cr.discardNode,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},(0,pr.tsx)("div",{class:zr},m,g),v,(0,pr.tsx)("div",{class:_r},p,h,d));return(0,pr.tsx)("div",{key:"edit-form-container",class:Dr},(0,pr.tsx)("a",{class:Rr,href:u,rel:"noreferrer",target:"_blank"},this.renderImageMask({attachmentInfo:e,size:400}),(0,pr.tsx)("div",{class:Pr},(0,pr.tsx)("span",{class:Fr},(0,pr.tsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},(0,pr.tsx)("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),(0,pr.tsx)("path",{fill:"none",d:"M0 0h32v32H0z"}))))),b)}},{key:"renderImageMask",value:function(e){var t,r=e.attachmentInfo,n=e.size,i=this.viewModel.supportsResizeAttachments,a=r.contentType,o=r.name,s=r.url,l=i&&("image/bmp"===(t=a.toLowerCase())||"image/emf"===t||"image/exif"===t||"image/gif"===t||"image/x-icon"===t||"image/jpeg"===t||"image/png"===t||"image/tiff"===t||"image/x-wmf"===t),u=this._getCSSTransform(r,l),c=u?{transform:u,"image-orientation":"none"}:{},f=-1===s.indexOf("?")?"?":"&",p=l?"".concat(s).concat(f,"w=").concat(n):ur(a),d=$e.default({},Cr,!l),h=$e.default({},Lr,i);return(0,pr.tsx)("div",{class:this.classes(d,Ir)},(0,pr.tsx)("img",{styles:c,alt:o,src:p,class:this.classes(h,Or)}))}},{key:"renderAttachmentInfo",value:function(e){var t=e.attachmentInfo,r=e.displayType,n=this,i=this.viewModel.abilities,a=t.name,o=t.url,s=this.renderImageMask({attachmentInfo:t,size:"list"===r?48:400}),l=i.editing?(0,pr.tsx)("span",{"aria-hidden":"true",class:this.classes(Nr,(0,cr.isRTL)(this.container)?rn:tn)}):null,u=[s,(0,pr.tsx)("label",{class:Ar},(0,pr.tsx)("span",{class:Mr},a||this.messages.noTitle),l)],c=i.editing?(0,pr.tsx)("button",{key:"details-button",bind:this,class:Er,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":t.id,onclick:function(){return n._startEditAttachment(t)},type:"button"},u):(0,pr.tsx)("a",{key:"details-link",class:Er,href:o,target:"_blank"},u);return(0,pr.tsx)("li",{class:Tr,key:t},c)}},{key:"renderAttachmentContainer",value:function(){var e,t=this,r=this,n=r.effectiveDisplayType,i=r.viewModel,a=r.visibleElements,o=i.attachmentInfos,s=i.abilities,l=o&&o.length,u=(e={},$e.default(e,gr,"preview"!==n),$e.default(e,br,"preview"===n),e),c=s.editing&&s.operations.add&&a.addButton?(0,pr.tsx)("button",{bind:this,onclick:function(){return t._startAddAttachment()},class:this.classes(qr,$r,xr),type:"button"},(0,pr.tsx)("span",{"aria-hidden":"true",class:this.classes(jr,nn)}),this.messages.add):null,f=l?(0,pr.tsx)("ul",{class:kr},o.toArray().map((function(e){return t.renderAttachmentInfo({attachmentInfo:e,displayType:n})}))):(0,pr.tsx)("div",{class:en},this.messages.noAttachments);return(0,pr.tsx)("div",{key:"attachments-container",class:this.classes(mr,u)},f,c)}},{key:"_modeChanged",value:function(){this._set("error",null),this._set("selectedFile",null)}},{key:"_handleFileInputChange",value:function(e){var t=e.target,r=t&&t.files&&t.files.item(0);this._set("selectedFile",r)}},{key:"_submitDeleteAttachment",value:function(e,t){e.preventDefault(),this.deleteAttachment(t)}},{key:"_submitAddAttachment",value:function(e){e.preventDefault(),this.addAttachment()}},{key:"_submitUpdateAttachment",value:function(e){e.preventDefault(),this.updateAttachment()}},{key:"_startEditAttachment",value:function(e){var t=this.viewModel;t.activeAttachmentInfo=e,t.mode="edit"}},{key:"_startAddAttachment",value:function(){this.viewModel.mode="add"}},{key:"_cancelForm",value:function(e){e.preventDefault(),this.viewModel.mode="view"}},{key:"_getCSSTransform",value:function(e,t){var r=e.orientationInfo;return!this._supportsImageOrientation&&t&&r?[r.rotation?"rotate(".concat(r.rotation,"deg)"):"",r.mirrored?"scaleX(-1)":""].join(" "):""}}]),r}(tt.default);(0,v._)([(0,et.aliasOf)("viewModel.abilities")],on.prototype,"abilities",void 0),(0,v._)([(0,P.property)()],on.prototype,"displayType",void 0),(0,v._)([(0,P.property)({readOnly:!0})],on.prototype,"effectiveDisplayType",null),(0,v._)([(0,et.aliasOf)("viewModel.graphic")],on.prototype,"graphic",void 0),(0,v._)([(0,P.property)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],on.prototype,"label",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/Attachments/t9n/Attachments")],on.prototype,"messages",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/core/t9n/Units")],on.prototype,"messagesUnits",void 0),(0,v._)([(0,P.property)({readOnly:!0})],on.prototype,"selectedFile",void 0),(0,v._)([(0,P.property)({readOnly:!0})],on.prototype,"submitting",void 0),(0,v._)([(0,P.property)({readOnly:!0})],on.prototype,"error",void 0),(0,v._)([(0,P.property)({type:sr})],on.prototype,"viewModel",void 0),(0,v._)([(0,P.property)()],on.prototype,"visibleElements",void 0),(0,v._)([(0,Q.cast)("visibleElements")],on.prototype,"castVisibleElements",null);var sn=on=(0,v._)([(0,j.subclass)("esri.widgets.Attachments")],on);tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),v=s("7eJjO"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var ln=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).description=null,n.title=null,h.default(n)}return r}(sr);(0,v._)([(0,P.property)()],ln.prototype,"description",void 0),(0,v._)([(0,P.property)()],ln.prototype,"title",void 0);var un=ln=(0,v._)([(0,j.subclass)("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],ln);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv"),tt=s("kXohW");s("8TSCy");b=s("ifq4M"),nt=s("iVfa0"),cr=s("6zpox");s("2VlWd"),s("jHOLN");pr=s("yibdR");var cn="esri-widget__heading";function fn(e,t){var r=pn(e.level),n="h".concat(r);return delete e.level,(0,pr.tsx)(n,b.default({},e,{class:(0,cr.classes)(cn,e.class),role:"heading","aria-level":String(r)}),t)}function pn(e){return(0,nt.clamp)(Math.ceil(e),1,6)}function dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return pn(e+t)}s("6zpox"),s("jHOLN");pr=s("yibdR");var hn="esri-feature-element-info",yn="esri-feature-element-info__title",vn="esri-feature-element-info__description",mn=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n)).description=null,i.headingLevel=2,i.title=null,h.default(i)}return y.default(r,[{key:"render",value:function(){return(0,pr.tsx)("div",{class:hn},this.renderTitle(),this.renderDescription())}},{key:"renderTitle",value:function(){var e=this.title;return e?(0,pr.tsx)(fn,{level:this.headingLevel,class:yn},e):null}},{key:"renderDescription",value:function(){var e=this.description;return e?(0,pr.tsx)("div",{key:"description",class:vn},e):null}}]),r}(tt.default);(0,v._)([(0,P.property)()],mn.prototype,"description",void 0),(0,v._)([(0,P.property)()],mn.prototype,"headingLevel",void 0),(0,v._)([(0,P.property)()],mn.prototype,"title",void 0);var gn=mn=(0,v._)([(0,j.subclass)("esri.widgets.Feature.support.FeatureElementInfo")],mn);s("6zpox"),s("jHOLN");pr=s("yibdR");var bn="esri-feature-attachments",_n=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n))._featureElementInfo=null,i.attachmentsWidget=new sn,i.description=null,i.displayType=null,i.graphic=null,i.headingLevel=2,i.title=null,i.viewModel=new un,h.default(i)}return y.default(r,[{key:"initialize",value:function(){var e=this;this._featureElementInfo=new gn,(0,Qe.init)(this,["viewModel.description","viewModel.title","headingLevel"],(function(){return e._setupFeatureElementInfo()})),(0,Qe.init)(this,"viewModel.graphic",(function(t){return e.attachmentsWidget.graphic=t}))}},{key:"destroy",value:function(){this.attachmentsWidget.destroy(),this._featureElementInfo.destroy()}},{key:"render",value:function(){var e,t=this.attachmentsWidget;return(0,pr.tsx)("div",{class:bn},null==(e=this._featureElementInfo)?void 0:e.render(),null==t?void 0:t.render())}},{key:"_setupFeatureElementInfo",value:function(){var e=this,t=e.description,r=e.title,n=e.headingLevel;this._featureElementInfo.set({description:t,title:r,headingLevel:n})}}]),r}(tt.default);(0,v._)([(0,P.property)({readOnly:!0})],_n.prototype,"attachmentsWidget",void 0),(0,v._)([(0,et.aliasOf)("viewModel.description")],_n.prototype,"description",void 0),(0,v._)([(0,et.aliasOf)("attachmentsWidget.displayType")],_n.prototype,"displayType",void 0),(0,v._)([(0,et.aliasOf)("viewModel.graphic")],_n.prototype,"graphic",void 0),(0,v._)([(0,P.property)()],_n.prototype,"headingLevel",void 0),(0,v._)([(0,et.aliasOf)("viewModel.title")],_n.prototype,"title",void 0),(0,v._)([(0,P.property)({type:un})],_n.prototype,"viewModel",void 0);var wn=_n=(0,v._)([(0,j.subclass)("esri.widgets.Feature.FeatureAttachments")],_n);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),et=s("kDa5L");s("lNwWH"),s("2VlWd"),s("iJAIC");P=s("iho5X"),j=s("fcwIv"),tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),h=s("bFSSc"),y=s("jK9zx"),_=s("jcnGU"),S=s("2TvXO"),v=s("7eJjO"),Te=s("bsvXr"),X=s("jymfC"),ut=s("6dXDO"),Qe=s("5qZXj"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var xn=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._loadingPromise=null,n.created=null,n.creator=null,n.destroyer=null,n.graphic=null,n.handles.add((0,Qe.init)(g.default(n),"creator",(function(e){n._destroyContent(),n._createContent(e)}))),h.default(n)}return y.default(r,[{key:"destroy",value:function(){this._destroyContent()}},{key:"state",get:function(){return this._loadingPromise?"loading":"ready"}},{key:"_destroyContent",value:function(){var e=this,t=e.created,r=e.graphic,n=e.destroyer;t&&(Ct(n,{graphic:r}).catch((function(){return null})),this._set("created",null))}},{key:"_createContent",value:function(e){var t=this;return _.default(n(S).mark((function r(){var i,a,o;return n(S).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=t.graphic,a=Ct(e,{graphic:i}).catch((function(){return null})),t._loadingPromise=a,t.notifyChange("state"),r.next=4,a;case 4:o=r.sent,a===t._loadingPromise&&(t._loadingPromise=null,t.notifyChange("state"),t._set("created",o));case 6:case"end":return r.stop()}}),r)})))()}}]),r}((0,ut.HandleOwnerMixin)(X.default));(0,v._)([(0,P.property)({readOnly:!0})],xn.prototype,"created",void 0),(0,v._)([(0,P.property)()],xn.prototype,"creator",void 0),(0,v._)([(0,P.property)()],xn.prototype,"destroyer",void 0),(0,v._)([(0,P.property)({type:Te.default})],xn.prototype,"graphic",void 0),(0,v._)([(0,P.property)({readOnly:!0})],xn.prototype,"state",null);var Sn=xn=(0,v._)([(0,j.subclass)("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],xn),kn=s("fSvdV"),Tn=(pr=s("yibdR"),"esri-feature-content"),En="esri-feature-content__loader-container",In="esri-feature-content__loader",Cn=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n)).creator=null,i.graphic=null,i.viewModel=null,i._addTargetToAnchors=function(e){Array.from(e.querySelectorAll("a")).forEach((function(e){Lt(e.href)&&!e.hasAttribute("target")&&e.setAttribute("target","_blank")}))},h.default(i)}return y.default(r,[{key:"renderLoading",value:function(){return(0,pr.tsx)("div",{class:En,key:"loader"},(0,pr.tsx)("div",{class:In}))}},{key:"renderCreated",value:function(){var e,t=null==(e=this.viewModel)?void 0:e.created;return t?t instanceof HTMLElement?(0,pr.tsx)("div",{key:t,bind:t,afterCreate:this._attachToNode}):(0,kn.isWidget)(t)?(0,pr.tsx)("div",{key:t},!t.destroyed&&t.render()):(0,pr.tsx)("div",{key:t,innerHTML:t,afterCreate:this._addTargetToAnchors}):null}},{key:"render",value:function(){var e,t=null==(e=this.viewModel)?void 0:e.state;return(0,pr.tsx)("div",{class:Tn},"loading"===t?this.renderLoading():this.renderCreated())}},{key:"_attachToNode",value:function(e){e.appendChild(this)}}]),r}(tt.default);(0,v._)([(0,et.aliasOf)("viewModel.creator")],Cn.prototype,"creator",void 0),(0,v._)([(0,et.aliasOf)("viewModel.graphic")],Cn.prototype,"graphic",void 0),(0,v._)([(0,P.property)({type:Sn})],Cn.prototype,"viewModel",void 0);var On=Cn=(0,v._)([(0,j.subclass)("esri.widgets.Feature.FeatureContent")],Cn);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),Qe=s("5qZXj"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv"),tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),$e=s("aNiFM"),v=s("7eJjO"),Qe=s("5qZXj"),et=s("kDa5L");s("lNwWH"),s("2VlWd"),s("iJAIC");P=s("iho5X"),j=s("fcwIv"),tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),X=s("jymfC"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Ln=s("l1hgk"),An=s("0kIkz"),Mn=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).attributes=null,n.expressionInfos=null,n.description=null,n.fieldInfos=null,n.title=null,h.default(n)}return y.default(r,[{key:"formattedFieldInfos",get:function(){var e=this.expressionInfos,t=this.fieldInfos,r=[];return null==t||t.forEach((function(t){if(!t.hasOwnProperty("visible")||t.visible){var n=t.clone();n.label=Mt(n,e),r.push(n)}})),r}}]),r}(X.default);(0,v._)([(0,P.property)()],Mn.prototype,"attributes",void 0),(0,v._)([(0,P.property)({type:[Ln.default]})],Mn.prototype,"expressionInfos",void 0),(0,v._)([(0,P.property)()],Mn.prototype,"description",void 0),(0,v._)([(0,P.property)({type:[An.default]})],Mn.prototype,"fieldInfos",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Mn.prototype,"formattedFieldInfos",null),(0,v._)([(0,P.property)()],Mn.prototype,"title",void 0);var Nn=Mn=(0,v._)([(0,j.subclass)("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],Mn),Rn=(it=s("1TSdR"),[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}]);function Pn(e,t){if("string"!=typeof t||!t)return t;var r,n,i=(r=t,n=null,Rn.some((function(e){return e.pattern.test(r)&&(n=e),!!n})),n);if(!i)return t;var a=t.match(i.pattern),o=a&&a[2],s=(0,it.replace)((0,it.replace)(i.label,{messages:e,hierPart:o}),{appName:i.appName}),l=i.target?' target="'.concat(i.target,'"'):"",u="_blank"===i.target?' rel="noreferrer"':"";return t.replace(i.pattern,"<a".concat(l,' href="$1"').concat(u,">").concat(s,"</a>"))}s("6zpox");fr=s("dKwUH");s("jHOLN");pr=s("yibdR");var Fn="esri-feature-fields",jn="esri-feature-fields__field-header",Dn="esri-feature-fields__field-data",Un="esri-feature-fields__field-data--date",Vn="esri-widget__table",Bn=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n))._featureElementInfo=null,i.attributes=null,i.description=null,i.expressionInfos=null,i.fieldInfos=null,i.title=null,i.viewModel=new Nn,i.messages=null,i.messagesURIUtils=null,h.default(i)}return y.default(r,[{key:"initialize",value:function(){var e=this;this._featureElementInfo=new gn,(0,Qe.init)(this,["viewModel.description","viewModel.title"],(function(){return e._setupFeatureElementInfo()}))}},{key:"destroy",value:function(){this._featureElementInfo.destroy()}},{key:"renderFieldInfo",value:function(e,t){var r=this.viewModel.attributes,n=e.fieldName,i=e.label||n,a=r?null==r[n]?"":r[n]:"",o=!(!e.format||!e.format.dateFormat),s="number"!=typeof a||o?Pn(this.messagesURIUtils,a):this._forceLTR(a),l=$e.default({},Un,o);return(0,pr.tsx)("tr",{key:"fields-element-info-row-".concat(n,"-").concat(t)},(0,pr.tsx)("th",{key:"fields-element-info-row-header-".concat(n,"-").concat(t),class:jn,innerHTML:i}),(0,pr.tsx)("td",{key:"fields-element-info-row-data-".concat(n,"-").concat(t),class:this.classes(Dn,l),innerHTML:s}))}},{key:"renderFields",value:function(){var e=this,t=this.viewModel.formattedFieldInfos;return null!=t&&t.length?(0,pr.tsx)("table",{class:Vn,summary:this.messages.fieldsSummary},(0,pr.tsx)("tbody",null,t.map((function(t,r){return e.renderFieldInfo(t,r)})))):null}},{key:"render",value:function(){var e;return(0,pr.tsx)("div",{class:Fn},null==(e=this._featureElementInfo)?void 0:e.render(),this.renderFields())}},{key:"_setupFeatureElementInfo",value:function(){var e=this.description,t=this.title;this._featureElementInfo.set({description:e,title:t})}},{key:"_forceLTR",value:function(e){return"&lrm;".concat(e)}}]),r}(tt.default);(0,v._)([(0,et.aliasOf)("viewModel.attributes")],Bn.prototype,"attributes",void 0),(0,v._)([(0,et.aliasOf)("viewModel.description")],Bn.prototype,"description",void 0),(0,v._)([(0,et.aliasOf)("viewModel.expressionInfos")],Bn.prototype,"expressionInfos",void 0),(0,v._)([(0,et.aliasOf)("viewModel.fieldInfos")],Bn.prototype,"fieldInfos",void 0),(0,v._)([(0,et.aliasOf)("viewModel.title")],Bn.prototype,"title",void 0),(0,v._)([(0,P.property)({type:Nn})],Bn.prototype,"viewModel",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/Feature/t9n/Feature")],Bn.prototype,"messages",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/support/t9n/uriUtils")],Bn.prototype,"messagesURIUtils",void 0);var Hn=Bn=(0,v._)([(0,j.subclass)("esri.widgets.Feature.FeatureFields")],Bn);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),_=s("jcnGU"),h=s("bFSSc"),y=s("jK9zx"),te=s("iCnzh"),S=s("2TvXO"),v=s("7eJjO"),Ye=s("cj7C1"),Qe=s("5qZXj"),et=s("kDa5L");s("lNwWH"),s("2VlWd"),s("iJAIC");P=s("iho5X"),j=s("fcwIv"),tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),b=s("ifq4M"),h=s("bFSSc"),y=s("jK9zx"),De=s("5Vgx8"),v=s("7eJjO"),X=s("jymfC"),P=s("iho5X");s("lNwWH"),s("2VlWd");Q=s("ba18L"),j=s("fcwIv"),An=s("0kIkz");var zn=s("aJUzf");s("8TSCy");te=s("iCnzh"),_=s("jcnGU"),S=s("2TvXO");var Wn=s("9pNSx"),Gn=(C=s("kyj08"),N=s("jHOLN"),R=s("10vEZ"),dt=s("7vTUY"),s("cRlei")),Jn=s("8g8vH"),qn=s("0L5NP"),Xn=s("ky1Bg"),Kn=N.default.getLogger("esri.widgets.Feature.support.relatedFeatureUtils"),$n=new Map;function Yn(e){if(!er(e))return null;var t=te.default(e.split("/").slice(1),2);return{layerId:t[0],fieldName:t[1]}}function Zn(e){var t,r=e.originRelationship,n=e.relationships,i=e.layerId;return n&&n.some((function(e){return"".concat(e.relatedTableId)===i&&e.id===r.id&&(t=e),!!t})),t}function Qn(e,t){var r=t.toLowerCase();for(var n in e)if(n.toLowerCase()===r)return e[n];return null}function ei(e,t){var r=function(e,t){if(!t.relationships)return null;var r=null;return t.relationships.some((function(t){return t.id===parseInt(e,10)&&(r=t,!0)})),r}(e,t);if(r){var n="".concat(t.url,"/").concat(r.relatedTableId);return{url:n,queryTask:new(0,Xn.default)({url:n,sourceSpatialReference:t.spatialReference}),relation:r,relatedFields:[],outStatistics:[]}}}function ti(e,t){if(t&&e){var r=e.features,n=e.statsFeatures,i=r&&r.value;t.relatedFeatures=i?i.features:[];var a=n&&n.value;t.relatedStatsFeatures=a?a.features:[]}}function ri(e,t,r,n){var i=new(0,Jn.default);return i.outFields=["*"],i.relationshipId="number"==typeof t.id?t.id:parseInt(t.id,10),i.objectIds=[e.attributes[r.objectIdField]],r.queryRelatedFeatures(i,n)}function ni(e,t,r){for(var n=0,i=[];n<t.length;)i.push("".concat(e," IN (").concat(t.slice(n,r+n),")")),n+=r;return i.join(" OR ")}function ii(){return(ii=_.default(n(S).mark((function e(t,r,i,a){var o,s,l,u,c,f,p,d,h,y,v,m,g,b,_,w,x,k;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.layerId.toString(),s=r.layerInfo,l=r.queryTask,u=r.relation,c=r.relatedFields,f=r.outStatistics,!(p=Zn({originRelationship:u,relationships:s.relationships,layerId:o})).relationshipTableId||!p.keyFieldInRelationshipTable){e.next=14;break}return e.next=4,ri(t,p,i,a);case 4:if(e.t0=t.attributes[i.objectIdField],d=e.sent[e.t0]){e.next=8;break}return e.abrupt("return",null);case 8:if(h=d.features.map((function(e){return e.attributes[s.objectIdField]})),!((null==f?void 0:f.length)>0&&s.supportsStatistics)){e.next=14;break}return(y=new(0,Gn.default)).where=ni(s.objectIdField,h,1e3),y.outFields=c,y.outStatistics=f,v={features:Promise.resolve(d),statsFeatures:l.execute(y)},e.abrupt("return",(0,R.eachAlways)(v));case 14:if(!(m=null==p?void 0:p.keyField)){e.next=18;break}return g=(0,dt.isNumericField)(li(s.fields,m)),b=Qn(t.attributes,u.keyField),_=g?"".concat(m,"=").concat(b):"".concat(m,"='").concat(b,"'"),w=l.execute(new(0,Gn.default)({where:_,outFields:r.relatedFields}),a),x=r.outStatistics&&r.outStatistics.length>0&&s.supportsStatistics?l.execute(new(0,Gn.default)({where:_,outFields:r.relatedFields,outStatistics:r.outStatistics}),a):null,k={features:w},e.abrupt("return",(x&&(k.statsFeatures=x),(0,R.eachAlways)(k)));case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ai(e,t){var r=e.relatedInfos,n=e.layer,i={};return r.forEach((function(e,r){var a=e.relation;if(!a){var o=new(0,C.default)("relation-required","A relation is required on a layer to retrieve related records.");throw Kn.error(o),o}var s=a.relatedTableId;if("number"!=typeof s){var l=new(0,C.default)("A related table ID is required on a layer to retrieve related records.");throw Kn.error(l),l}var u,c,f="".concat(n.url,"/").concat(s),p=$n.get(f),d=p||(u=f,c=t,(0,Wn.default)(u,{query:{f:"json"},signal:c&&c.signal}));p||$n.set(f,d),i[r]=d})),(0,R.eachAlways)(i)}function oi(e,t){var r=e.graphic,n=e.relatedInfos,i=e.layer,a={};return n.forEach((function(e,n){e.layerInfo&&(a[n]=function(e,t,r,n){return ii.apply(this,arguments)}(r,e,i,t))})),(0,R.eachAlways)(a)}function si(e){var t=e.relatedInfo,r=e.fieldName,n=e.fieldInfo;if(t.relatedFields.push(r),n.statisticType){var i=new(0,qn.default)({statisticType:n.statisticType,onStatisticField:r,outStatisticFieldName:r});t.outStatistics.push(i)}}function li(e,t){if(null!=e){t=t.toLowerCase();var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(s&&s.name.toLowerCase()===t)return s}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}return null}var ui={chartAnimation:!0},ci=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).abilities=b.default({},ui),n.activeMediaInfoIndex=0,n.attributes=null,n.description=null,n.fieldInfoMap=null,n.formattedAttributes=null,n.expressionAttributes=null,n.layer=null,n.mediaInfos=null,n.popupTemplate=null,n.relatedInfos=null,n.title=null,h.default(n)}return y.default(r,[{key:"castAbilities",value:function(e){return b.default({},ui,e)}},{key:"activeMediaInfo",get:function(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}},{key:"formattedMediaInfos",get:function(){return this._formatMediaInfos()||[]}},{key:"formattedMediaInfoCount",get:function(){return this.formattedMediaInfos.length}},{key:"setActiveMedia",value:function(e){this._setContentElementMedia(e)}},{key:"next",value:function(){this._pageContentElementMedia(1)}},{key:"previous",value:function(){this._pageContentElementMedia(-1)}},{key:"_setContentElementMedia",value:function(e){var t=this.formattedMediaInfoCount,r=(e+t)%t;this.activeMediaInfoIndex=r}},{key:"_pageContentElementMedia",value:function(e){var t=this.activeMediaInfoIndex+e;this._setContentElementMedia(t)}},{key:"_formatMediaInfos",value:function(){var e=this,t=this,r=t.attributes,n=t.mediaInfos,i=t.formattedAttributes,a=t.expressionAttributes,o=t.fieldInfoMap,s=t.layer;return null==n?void 0:n.map((function(t){var n=null==t?void 0:t.clone();if(!n)return null;if(n.title=Ft({attributes:r,fieldInfoMap:o,globalAttributes:i,expressionAttributes:a,layer:s,text:n.title}),n.caption=Ft({attributes:r,fieldInfoMap:o,globalAttributes:i,expressionAttributes:a,layer:s,text:n.caption}),n.altText=Ft({attributes:r,fieldInfoMap:o,globalAttributes:i,expressionAttributes:a,layer:s,text:n.altText}),"image"===n.type){var l=n.value;return e._setImageValue({value:l,formattedAttributes:i,layer:s}),n.value.sourceURL?n:void 0}if("pie-chart"===n.type||"line-chart"===n.type||"column-chart"===n.type||"bar-chart"===n.type){var u=n.value;return e._setChartValue({value:u,chartType:n.type,attributes:r,formattedAttributes:i,layer:s}),n}return null})).filter(Boolean)}},{key:"_setImageValue",value:function(e){var t=this.fieldInfoMap,r=e.value,n=e.formattedAttributes,i=e.layer,a=r.linkURL,o=r.sourceURL;if(o){var s=Ut(o,i);r.sourceURL=jt({formattedAttributes:n,template:s,fieldInfoMap:t})}if(a){var l=Ut(a,i);r.linkURL=jt({formattedAttributes:n,template:l,fieldInfoMap:t})}}},{key:"_setChartValue",value:function(e){var t,r,n=this,i=e.value,a=e.attributes,o=e.formattedAttributes,s=e.chartType,l=e.layer,u=this.popupTemplate,c=this.relatedInfos,f=i.fields,p=i.normalizeField;if(i.fields=(r=l,(t=f)&&t.map((function(e){return Nt(e,r)}))),p&&(i.normalizeField=Nt(p,l)),f.some((function(e){return!!(null!=o[e]||er(e)&&c.size)}))){var d=null==u?void 0:u.fieldInfos;f.forEach((function(e){if(er(e))i.series=De.default(i.series).concat(De.default(n._getRelatedChartInfos({fieldInfos:d,fieldName:e,formattedAttributes:o,chartType:s,value:i})));else{var t=n._getChartOption({value:i,attributes:a,chartType:s,formattedAttributes:o,fieldName:e,fieldInfos:d});i.series.push(t)}}))}}},{key:"_getRelatedChartInfos",value:function(e){var t,r=this,n=e.fieldInfos,i=e.fieldName,a=e.formattedAttributes,o=e.chartType,s=e.value,l=[],u=Yn(i),c=u.layerId,f=u.fieldName,p=null==(t=this.relatedInfos)?void 0:t.get(c.toString());if(!p)return l;var d=p.relatedFeatures,h=p.relation;if(!h||!d)return l;var y=h.cardinality;return d.forEach((function(e){var t=r,u=e.attributes;u&&Object.keys(u).forEach((function(e){e===f&&l.push(t._getChartOption({value:s,attributes:u,formattedAttributes:a,fieldName:i,chartType:o,relatedFieldName:e,fieldInfos:n}))}))})),"one-to-many"===y||"many-to-many"===y?l:[l[0]]}},{key:"_getTooltip",value:function(e){var t=e.label,r=e.value;return"pie-chart"===e.chartType?t:"".concat(t,": ").concat(r)}},{key:"_getChartOption",value:function(e){var t,r=e.value,n=e.attributes,i=e.formattedAttributes,a=e.fieldName,o=e.relatedFieldName,s=e.fieldInfos,l=e.chartType,u=this.layer,c=r.normalizeField,f=r.tooltipField,p=c?er(c)?n[Yn(c).fieldName]:n[c]:null,d=o&&void 0!==n[o]?n[o]:void 0!==n[a]?n[a]:i[a],h=void 0===d?null:d&&p?d/p:d,y=new(0,zn.default)({value:h});if(er(a)){var v=Yn(a),m=Yn(f),g=m?m.fieldName:null,b=Vt(h,{fieldInfos:s,fieldName:o,layer:u,preventPlacesFormatting:!!p}),_=v?v.label||v.fieldName:o,w=g&&void 0!==n[g]?n[g]:_;return y.tooltip=this._getTooltip({label:w,value:b,chartType:l}),y}var x=Bt(s,a),S=Nt(a,u),k=f&&void 0!==i[f]?i[f]:Mt(x||new(0,An.default)({fieldName:S}),null==(t=this.popupTemplate)?void 0:t.expressionInfos),T=i[S];return y.tooltip=this._getTooltip({label:k,value:T,chartType:l}),y}}]),r}(X.default);(0,v._)([(0,P.property)()],ci.prototype,"abilities",void 0),(0,v._)([(0,Q.cast)("abilities")],ci.prototype,"castAbilities",null),(0,v._)([(0,P.property)()],ci.prototype,"activeMediaInfoIndex",void 0),(0,v._)([(0,P.property)({readOnly:!0})],ci.prototype,"activeMediaInfo",null),(0,v._)([(0,P.property)()],ci.prototype,"attributes",void 0),(0,v._)([(0,P.property)()],ci.prototype,"description",void 0),(0,v._)([(0,P.property)()],ci.prototype,"fieldInfoMap",void 0),(0,v._)([(0,P.property)()],ci.prototype,"formattedAttributes",void 0),(0,v._)([(0,P.property)()],ci.prototype,"expressionAttributes",void 0),(0,v._)([(0,P.property)({readOnly:!0})],ci.prototype,"formattedMediaInfos",null),(0,v._)([(0,P.property)()],ci.prototype,"layer",void 0),(0,v._)([(0,P.property)({readOnly:!0})],ci.prototype,"formattedMediaInfoCount",null),(0,v._)([(0,P.property)()],ci.prototype,"mediaInfos",void 0),(0,v._)([(0,P.property)()],ci.prototype,"popupTemplate",void 0),(0,v._)([(0,P.property)()],ci.prototype,"relatedInfos",void 0),(0,v._)([(0,P.property)()],ci.prototype,"title",void 0);var fi=ci=(0,v._)([(0,j.subclass)("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],ci),pi=(ke=s("8TSCy"),S=s("2TvXO"),["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"]),di=[].concat(pi.slice(30,39),pi.slice(28,30).reverse()),hi=[{name:"default",colors:di},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}];s("4M5RN"),s("2VlWd");var yi,vi,mi=s("86CDN"),gi="en-us",bi=new Map([["ar",function(){return s("1wv2a").then((function(e){return e.a}))}],["bg-bg",function(){return s("5X6dU").then((function(e){return e.b}))}],["bs-ba",function(){return s("i64n1").then((function(e){return e.b}))}],["ca-es",function(){return s("cnqO3").then((function(e){return e.c}))}],["cs-cz",function(){return s("4Gox6").then((function(e){return e.c}))}],["da-dk",function(){return s("dlXC5").then((function(e){return e.d}))}],["de-de",function(){return s("ghZFt").then((function(e){return e.d}))}],["de-ch",function(){return s("5Ahsb").then((function(e){return e.d}))}],["el-gr",function(){return s("3WxkZ").then((function(e){return e.e}))}],["en-us",function(){return s("c3i7U").then((function(e){return e.e}))}],["en-ca",function(){return s("ajcj2").then((function(e){return e.e}))}],["es-es",function(){return s("i46bm").then((function(e){return e.e}))}],["et-ee",function(){return s("8sgnn").then((function(e){return e.e}))}],["fi-fi",function(){return s("9Wv0J").then((function(e){return e.f}))}],["fr-fr",function(){return s("ghKQX").then((function(e){return e.f}))}],["he-il",function(){return s("l1932").then((function(e){return e.h}))}],["hr-hr",function(){return s("465Mx").then((function(e){return e.h}))}],["hu-hu",function(){return s("aLbjF").then((function(e){return e.h}))}],["id-id",function(){return s("l8M3G").then((function(e){return e.i}))}],["it-it",function(){return s("cJHCj").then((function(e){return e.i}))}],["ja-jp",function(){return s("g438c").then((function(e){return e.j}))}],["ko-kr",function(){return s("4pAPC").then((function(e){return e.k}))}],["lt-lt",function(){return s("85ctC").then((function(e){return e.l}))}],["lv-lv",function(){return s("gZS2x").then((function(e){return e.l}))}],["nb-no",function(){return s("cXU0E").then((function(e){return e.n}))}],["nl-nl",function(){return s("emhoz").then((function(e){return e.n}))}],["pl-pl",function(){return s("aVnZ2").then((function(e){return e.p}))}],["pt-br",function(){return s("97z3J").then((function(e){return e.p}))}],["pt-pt",function(){return s("lQld9").then((function(e){return e.p}))}],["ro-ro",function(){return s("ajbx4").then((function(e){return e.r}))}],["ru-ru",function(){return s("aYbHA").then((function(e){return e.r}))}],["sk-sk",function(){return s("iPyZz").then((function(e){return e.s}))}],["sl-sl",function(){return s("dijL3").then((function(e){return e.s}))}],["sr-rs",function(){return s("cLgLt").then((function(e){return e.s}))}],["sv-se",function(){return s("6Fck5").then((function(e){return e.s}))}],["th-th",function(){return s("aPjAn").then((function(e){return e.t}))}],["tr-tr",function(){return s("1EHwB").then((function(e){return e.t}))}],["uk-ua",function(){return s("dWSPu").then((function(e){return e.u}))}],["vi-vn",function(){return s("dTnvf").then((function(e){return e.v}))}],["zh-cn",function(){return s("6VWtl").then((function(e){return e.z}))}],["zh-hk",function(){return s("dcLVk").then((function(e){return e.z}))}],["zh-tw",function(){return s("dcLVk").then((function(e){return e.z}))}]]);function _i(e){return e?bi.has(e.toLowerCase())?e.toLowerCase():function(e){var t=e.split("-")[0].toLowerCase(),r=null,n=!0,i=!1,a=void 0;try{for(var o,s=bi.keys()[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;if(l.startsWith(t)){r=l;break}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e)||gi:gi}function wi(){return xi.apply(this,arguments)}function xi(){return xi=ke.asyncToGenerator(n(S).mark((function e(){var t,r,i,a,o=arguments;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_i(t=o.length>0&&void 0!==o[0]?o[0]:(0,mi.getLocale)()),!yi||t!==vi){e.next=3;break}return e.abrupt("return",yi);case 3:return yi=s("hr2Ts").then((function(e){return e.i})),vi=t,e.prev=4,e.t0=ke,e.next=8,Promise.all([yi,bi.get(vi)()]);case 8:e.t1=e.sent,r=e.t0.slicedToArray.call(e.t0,e.t1,2),i=r[0],a=r[1],vi===t&&(i.am4core.options.defaultLocale=a.default),i.am4core.options.suppressWarnings=!0,i.am4core.options.autoDispose=!0,e.next=18;break;case 15:return e.prev=15,e.t2=e.catch(4),e.abrupt("return",(yi=null,vi=null,null));case 18:return e.abrupt("return",yi);case 19:case"end":return e.stop()}}),e,null,[[4,15]])}))),xi.apply(this,arguments)}function Si(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=hi.find((function(e){return e.name===t}));return r?r.colors.map((function(t){return e.color(t)})):null}cr=s("6zpox"),fr=s("dKwUH");s("jHOLN");pr=s("yibdR");var ki=s("bnSL3"),Ti="esri-feature-media",Ei="esri-feature-media__container",Ii="esri-feature-media__item-container",Ci="esri-feature-media__item",Oi="esri-feature-media__item-title",Li="esri-feature-media__item-caption",Ai="esri-feature-media__previous",Mi="esri-feature-media__previous-icon",Ni="esri-feature-media__previous-icon--rtl",Ri="esri-feature-media__next",Pi="esri-feature-media__next-icon",Fi="esri-feature-media__next-icon--rtl",ji="esri-feature-media__chart",Di="esri-feature-media__button",Ui="esri-feature-media__icon",Vi="esri-icon-left-triangle-arrow",Bi="esri-icon-right-triangle-arrow",Hi=.05,zi=.95,Wi=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,i){var a;d.default(this,r);var o,s=g.default(a);return(a=t.call(this,e,i))._refreshTimer=null,a._refreshIntervalInfo=null,a._featureElementInfo=null,a.attributes=null,a.activeMediaInfoIndex=null,a.description=null,a.fieldInfoMap=null,a.layer=null,a.mediaInfos=null,a.popupTemplate=null,a.relatedInfos=null,a.title=null,a.viewModel=new fi,a.messages=null,a._getChartDependencies=(o=_.default(n(S).mark((function e(t){var r,i,a,o;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wi();case 2:if(r=e.sent,i=s.destroyed,a=s.viewModel,!i&&a&&t){e.next=7;break}return e.abrupt("return");case 7:o=a.activeMediaInfo,s._renderChart({chartDiv:t,mediaInfo:o,chartsModule:r});case 9:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)}),h.default(a)}return y.default(r,[{key:"initialize",value:function(){var e=this;this._featureElementInfo=new gn,this.own((0,Qe.init)(this,["viewModel.activeMediaInfo","viewModel.activeMediaInfoIndex"],(function(){return e._setupMediaRefreshTimer()})),(0,Qe.init)(this,["viewModel.description","viewModel.title"],(function(){return e._setupFeatureElementInfo()})))}},{key:"destroy",value:function(){this._clearMediaRefreshTimer(),this._featureElementInfo.destroy()}},{key:"render",value:function(){var e;return(0,pr.tsx)("div",{bind:this,class:Ti,onkeyup:this._handleMediaKeyup},null==(e=this._featureElementInfo)?void 0:e.render(),this.renderMedia())}},{key:"renderMedia",value:function(){return this.viewModel.formattedMediaInfoCount?(0,pr.tsx)("div",{key:"media-element-container",class:Ei},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}},{key:"renderImageMediaInfo",value:function(e){var t=this._refreshIntervalInfo,r=this.viewModel,n=r.activeMediaInfoIndex,i=r.formattedMediaInfoCount,a=e.value,o=e.refreshInterval,s=e.altText,l=e.title,u=e.type,c=a.sourceURL,f=a.linkURL,p=Lt(f)?"_blank":"_self",d="_blank"===p?"noreferrer":"",h=o?t:null,y=h?h.timestamp:0,v=h?h.sourceURL:c,m=(0,pr.tsx)("img",{alt:s||l,key:"media-".concat(u,"-").concat(n,"-").concat(i,"-").concat(y),src:v});return(f?(0,pr.tsx)("a",{title:l,href:f,rel:d,target:p},m):null)||m}},{key:"renderChartMediaInfo",value:function(e){var t=this.viewModel,r=t.activeMediaInfoIndex,n=t.formattedMediaInfoCount;return(0,pr.tsx)("div",{key:"media-".concat(e.type,"-").concat(r,"-").concat(n),bind:this,class:ji,afterCreate:this._getChartDependencies})}},{key:"renderMediaInfoType",value:function(){var e=this.viewModel.activeMediaInfo;return e?"image"===e.type?this.renderImageMediaInfo(e):-1!==e.type.indexOf("chart")?this.renderChartMediaInfo(e):null:null}},{key:"renderMediaInfo",value:function(){var e=this.viewModel.activeMediaInfo;if(!e)return null;var t=e.title?(0,pr.tsx)("div",{key:"media-title",class:Oi,innerHTML:e.title}):null,r=e.caption?(0,pr.tsx)("div",{key:"media-caption",class:Li,innerHTML:e.caption}):null;return(0,pr.tsx)("div",{key:"media-container",class:Ii},(0,pr.tsx)("div",{key:"media-item-container",class:Ci},this.renderMediaInfoType()),t,r)}},{key:"renderMediaPageButton",value:function(e){if(this.viewModel.formattedMediaInfoCount<2)return null;var t="previous"===e,r=t?this.messages.previous:this.messages.next,n=t?this.classes(Di,Ai):this.classes(Di,Ri),i=t?this.classes(Ui,Mi,Vi):this.classes(Ui,Pi,Bi),a=t?this.classes(Ui,Ni,Bi):this.classes(Ui,Fi,Vi),o=t?"media-previous":"media-next",s=t?this._previous:this._next;return(0,pr.tsx)("button",{type:"button",key:o,title:r,"aria-label":r,tabIndex:0,class:n,bind:this,onclick:s},(0,pr.tsx)("span",{"aria-hidden":"true",class:i}),(0,pr.tsx)("span",{"aria-hidden":"true",class:a}))}},{key:"_setupFeatureElementInfo",value:function(){var e=this.description,t=this.title;this._featureElementInfo.set({description:e,title:t})}},{key:"_next",value:function(){this.viewModel.next()}},{key:"_previous",value:function(){this.viewModel.previous()}},{key:"_handleMediaKeyup",value:function(e){var t=(0,Ye.eventKey)(e);"ArrowLeft"===t&&(e.stopPropagation(),this.viewModel.previous()),"ArrowRight"===t&&(e.stopPropagation(),this.viewModel.next())}},{key:"_renderChart",value:function(e){var t=this.viewModel.abilities,r=e.chartsModule,n=e.chartDiv,i=e.mediaInfo,a=i.value,o=i.type,s=r.am4core,l=Si(s);(0,ki.isDarkTheme)()&&s.useTheme(r.am4themes_dark);var u=window.matchMedia("(prefers-reduced-motion: reduce)");t.chartAnimation&&!u.matches?s.useTheme(r.am4themes_animated):s.unuseTheme(r.am4themes_animated),s.useTheme((function(e){e instanceof s.ColorSet&&l&&(e.list=l)}));var c="pie-chart"===o?this._createPieChart(e):this._createXYChart(e);n.setAttribute("aria-label",i.altText||i.title),c.data=a.series.map((function(e){return{tooltip:e.tooltip,value:e.value}})).filter((function(e){return"pie-chart"!==o||e.value>0}))}},{key:"_customizeChartTooltip",value:function(e,t){e.label.wrap=!0,e.label.maxWidth=200,e.autoTextColor=!1,e.getFillFromObject=!1,e.label.fill=t.color("#ffffff"),e.background.fill=t.color({r:0,g:0,b:0,a:.7})}},{key:"_createPieChart",value:function(e){var t=e.chartDiv,r=e.chartsModule,n=r.am4core,i=r.am4charts,a=n.create(t,i.PieChart);a.rtl=(0,cr.isRTL)(this.container);var o=a.series.push(new i.PieSeries);return o.labels.template.disabled=!0,o.ticks.template.disabled=!0,o.dataFields.value="value",o.dataFields.category="tooltip",this._customizeChartTooltip(o.tooltip,n),o.slices.template.tooltipText=a.rtl?"{category}: %{value.percent.formatNumber('#.0')}":"{category}: {value.percent.formatNumber('#.0')}%",a}},{key:"_getMinSeriesValue",value:function(e){var t=0;return e.forEach((function(e){return t=Math.min(e.value,t)})),t}},{key:"_createColumnChart",value:function(e,t){var r=t.chartsModule,n=t.mediaInfo.value,i=r.am4core,a=r.am4charts,o=e.xAxes.push(new a.CategoryAxis);o.dataFields.category="tooltip",o.renderer.labels.template.disabled=!0,this._customizeChartTooltip(o.tooltip,i),o.tooltip.events.on("sizechanged",(function(){o.tooltip.dy=-o.tooltip.contentHeight}));var s=e.yAxes.push(new a.ValueAxis),l=s.renderer.labels.template;s.renderer.minLabelPosition=Hi,s.renderer.maxLabelPosition=zi,s.min=this._getMinSeriesValue(n.series),this._customizeChartTooltip(s.tooltip,i),l.wrap=!0;var u=e.series.push(new a.ColumnSeries);u.dataFields.valueY="value",u.dataFields.categoryX="tooltip",e.cursor=new a.XYCursor,n.series.length>15&&(e.scrollbarX=new i.Scrollbar)}},{key:"_createBarChart",value:function(e,t){var r=t.chartsModule,n=t.mediaInfo.value,i=r.am4core,a=r.am4charts,o=e.yAxes.push(new a.CategoryAxis);o.dataFields.category="tooltip",o.renderer.inversed=!0,o.renderer.labels.template.disabled=!0,this._customizeChartTooltip(o.tooltip,i),o.tooltip.events.on("sizechanged",(function(){o.tooltip.dx=o.tooltip.contentWidth}));var s=e.xAxes.push(new a.ValueAxis),l=s.renderer.labels.template;s.renderer.minLabelPosition=Hi,s.renderer.maxLabelPosition=zi,s.min=this._getMinSeriesValue(n.series),this._customizeChartTooltip(s.tooltip,i),l.wrap=!0;var u=e.series.push(new a.ColumnSeries);u.dataFields.valueX="value",u.dataFields.categoryY="tooltip",e.cursor=new a.XYCursor,n.series.length>15&&(e.scrollbarY=new i.Scrollbar)}},{key:"_createLineChart",value:function(e,t){var r=t.chartsModule,n=t.mediaInfo.value,i=r.am4core,a=r.am4charts,o=e.xAxes.push(new a.CategoryAxis);o.dataFields.category="tooltip",o.renderer.labels.template.disabled=!0,this._customizeChartTooltip(o.tooltip,i),o.tooltip.events.on("sizechanged",(function(){o.tooltip.dy=-o.tooltip.contentHeight}));var s=e.yAxes.push(new a.ValueAxis),l=s.renderer.labels.template;s.renderer.minLabelPosition=Hi,s.renderer.maxLabelPosition=zi,s.min=this._getMinSeriesValue(n.series),this._customizeChartTooltip(s.tooltip,i),l.wrap=!0;var u=e.series.push(new a.LineSeries);u.dataFields.categoryX="tooltip",u.dataFields.valueY="value",e.cursor=new a.XYCursor,n.series.length>15&&(e.scrollbarX=new i.Scrollbar)}},{key:"_createXYChart",value:function(e){var t=e.chartDiv,r=e.chartsModule,n=e.mediaInfo.type,i=r.am4core,a=r.am4charts,o=i.create(t,a.XYChart);return o.rtl=(0,cr.isRTL)(this.container),"column-chart"===n&&this._createColumnChart(o,e),"bar-chart"===n&&this._createBarChart(o,e),"line-chart"===n&&this._createLineChart(o,e),o}},{key:"_clearMediaRefreshTimer",value:function(){var e=this._refreshTimer;e&&(clearTimeout(e),this._refreshTimer=null)}},{key:"_updateMediaInfoTimestamp",value:function(e){var t=Date.now();this._refreshIntervalInfo={timestamp:t,sourceURL:this._getImageSource(e,t)},this.scheduleRender()}},{key:"_setupMediaRefreshTimer",value:function(){this._clearMediaRefreshTimer();var e=this.viewModel.activeMediaInfo;e&&"image"===e.type&&e.refreshInterval&&this._setRefreshTimeout(e)}},{key:"_setRefreshTimeout",value:function(e){var t=this,r=e.refreshInterval,n=e.value;if(r){var i=6e4*r;this._updateMediaInfoTimestamp(n.sourceURL);var a=setInterval((function(){t._updateMediaInfoTimestamp(n.sourceURL)}),i);this._refreshTimer=a}}},{key:"_getImageSource",value:function(e,t){var r=-1!==e.indexOf("?")?"&":"?",n=te.default(e.split("#"),2),i=n[0],a=n[1],o=void 0===a?"":a;return"".concat(i).concat(r,"timestamp=").concat(t).concat(o?"#":"").concat(o)}}]),r}(tt.default);(0,v._)([(0,et.aliasOf)("viewModel.attributes")],Wi.prototype,"attributes",void 0),(0,v._)([(0,et.aliasOf)("viewModel.activeMediaInfoIndex")],Wi.prototype,"activeMediaInfoIndex",void 0),(0,v._)([(0,et.aliasOf)("viewModel.description")],Wi.prototype,"description",void 0),(0,v._)([(0,et.aliasOf)("viewModel.fieldInfoMap")],Wi.prototype,"fieldInfoMap",void 0),(0,v._)([(0,et.aliasOf)("viewModel.layer")],Wi.prototype,"layer",void 0),(0,v._)([(0,et.aliasOf)("viewModel.mediaInfos")],Wi.prototype,"mediaInfos",void 0),(0,v._)([(0,et.aliasOf)("viewModel.popupTemplate")],Wi.prototype,"popupTemplate",void 0),(0,v._)([(0,et.aliasOf)("viewModel.relatedInfos")],Wi.prototype,"relatedInfos",void 0),(0,v._)([(0,et.aliasOf)("viewModel.title")],Wi.prototype,"title",void 0),(0,v._)([(0,P.property)({type:fi})],Wi.prototype,"viewModel",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/Feature/t9n/Feature")],Wi.prototype,"messages",void 0);var Gi=Wi=(0,v._)([(0,j.subclass)("esri.widgets.Feature.FeatureMedia")],Wi);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),_=s("jcnGU"),h=s("bFSSc"),y=s("jK9zx"),S=s("2TvXO"),v=s("7eJjO"),Te=s("bsvXr");var Ji=s("e8oaX");X=s("jymfC"),ut=s("6dXDO"),Ze=s("9uTTh"),Qe=s("5qZXj"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");s("9Hey9"),s("5j1Qi"),s("4NqMe"),s("hviGF");var qi=s("1HxLt"),Xi=s("26JOX"),Ki=s("2l7B9"),$i=s("8pRV1"),Yi=(ke=s("8TSCy"),S=s("2TvXO"),N=s("jHOLN"),R=s("10vEZ"),s("g15Jq")),Zi=["$datastore","$map","$layer","$aggregatedfeatures"],Qi=N.default.getLogger("esri.widgets.Feature.support.arcadeFeatureUtils");function ea(e){return"string"==typeof e?Gt(Wt(e)):Array.isArray(e)?'<ul class="esri-widget__list">'.concat(e.map((function(e){return"<li>".concat("string"==typeof e?Gt(Wt(e)):e,"</li>")})).join(""),"</ul>"):"esri.arcade.Dictionary"===(null==e?void 0:e.declaredClass)?'<table class="esri-widget__table">'.concat((t=e).keys().map((function(e){var r=t.field(e);return"<tr><th>".concat(e,"</th><td>").concat("string"==typeof r?Gt(Wt(r)):r,"</td></tr>")})).join(""),"</table>"):e;var t}function ta(e){var t=e.aggregatedFeatures,r=e.arcadeUtils,n=e.featureSetVars,i=e.context,a=e.viewInfo,o=e.map,s=e.graphic,l=e.interceptor;n.forEach((function(e){var n=e.toLowerCase(),u={map:o,spatialReference:a.sr,interceptor:l};if("$map"===n&&(i.vars[n]=r.convertMapToFeatureSetCollection(u)),"$layer"===n&&(i.vars[n]=r.convertFeatureLayerToFeatureSet({layer:s.sourceLayer,spatialReference:a.sr,interceptor:l})),"$datastore"===n&&(i.vars[n]=r.convertServiceUrlToWorkspace({url:s.sourceLayer.url,spatialReference:a.sr,interceptor:l})),"$aggregatedfeatures"===n){var c=s.layer,f=c.fields,p=c.objectIdField,d=c.geometryType,h=c.spatialReference,y=c.displayField,v=new(0,Yi.default)(ke.objectSpread({fields:f,objectIdField:p,geometryType:d,spatialReference:h,displayField:y},"feature"===c.type?{templates:c.templates,typeIdField:c.typeIdField,types:c.types}:null,{source:t}));i.vars[n]=r.convertFeatureLayerToFeatureSet({layer:v,spatialReference:a.sr,interceptor:l})}}))}function ra(){return s("bvofb")}function na(e){return ia.apply(this,arguments)}function ia(){return(ia=ke.asyncToGenerator(n(S).mark((function e(t){var r,i,a,o,s,l,u,c;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.graphic,i=t.view,a=r.isAggregate,o=r.layer,a&&o&&"2d"===(null==i?void 0:i.type)){e.next=4;break}return e.abrupt("return",[]);case 4:return e.next=6,i.whenLayerView(o);case 6:if((s=e.sent).createQuery&&s.queryFeatures){e.next=9;break}return e.abrupt("return",[]);case 9:return(l=s.createQuery()).aggregateIds=[r.getObjectId()],e.next=13,s.queryFeatures(l);case 13:return u=e.sent,c=u.features,e.abrupt("return",c);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aa(e){return oa.apply(this,arguments)}function oa(){return(oa=ke.asyncToGenerator(n(S).mark((function e(t){var r,i,a,o,s,l,u,c,f,p,d,h,y,v;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.expressionInfo,i=t.arcadeUtils,a=t.interceptor,o=t.spatialReference,s=t.map,l=t.graphic,u=t.view,r&&r.expression){e.next=3;break}return e.abrupt("return",null);case 3:return c=i.createSyntaxTree(r.expression),f=Zi.filter((function(e){return i.hasVariable(c,e)})),e.t0=ke,e.next=8,(0,R.all)([na({graphic:l,view:u}),i.loadScriptDependencies(c,!0,f)]);case 8:return e.t1=e.sent,p=e.t0.slicedToArray.call(e.t0,e.t1,1),d=p[0],h=i.getViewInfo({spatialReference:o}),(y=i.createExecContext(l,h)).interceptor=a,y.useAsync=!0,ta({aggregatedFeatures:d,arcadeUtils:i,featureSetVars:f,context:y,viewInfo:h,map:s,graphic:l,interceptor:a}),v=i.createFunction(c,y),e.abrupt("return",i.executeAsyncFunction(v,y).catch((function(e){return Qi.error("arcade-execution-error",{error:e,graphic:l,expressionInfo:r})})));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sa(e){return la.apply(this,arguments)}function la(){return(la=ke.asyncToGenerator(n(S).mark((function e(t){var r,i,a,o,s,l,u,c,f,p,d,h,y,v,m,g,b;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.expressionInfos,i=t.spatialReference,a=t.graphic,o=t.interceptor,s=t.map,l=t.view,r&&r.length){e.next=3;break}return e.abrupt("return",{});case 3:return e.next=5,ra();case 5:for(u=e.sent,c={},f=!0,p=!1,d=void 0,e.prev=8,h=r[Symbol.iterator]();!(f=(y=h.next()).done);f=!0)v=y.value,c["expression/".concat(v.name)]=aa({expressionInfo:v,arcadeUtils:u,interceptor:o,spatialReference:i,map:s,graphic:a,view:l});e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),p=!0,d=e.t0;case 16:e.prev=16,e.prev=17,f||null==h.return||h.return();case 19:if(e.prev=19,!p){e.next=22;break}throw d;case 22:return e.finish(19);case 23:return e.finish(16);case 24:return e.next=26,(0,R.eachAlways)(c);case 26:for(b in m=e.sent,g={},m)g[b]=ea(m[b].value);return e.abrupt("return",g);case 30:case"end":return e.stop()}}),e,null,[[8,12,16,24],[17,,19,23]])})))).apply(this,arguments)}var ua=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var i;d.default(this,r);var a=g.default(i),o=g.default(i);return(i=t.call(this,e))._abortController=null,i.expressionInfo=null,i.graphic=null,i.contentElement=null,i.contentElementViewModel=null,i.interceptor=null,i.view=null,i._cancelQuery=function(){var e=g.default(i)._abortController;e&&e.abort(),i._abortController=null},i._createVM=function(){var e,t,r=null==(e=i.contentElement)?void 0:e.type;null==(t=i.contentElementViewModel)||t.destroy();var n="fields"===r?new Nn:"media"===r?new fi:"text"===r?new Sn:null;i._set("contentElementViewModel",n)},i._compile=_.default(n(S).mark((function e(){var t;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a._cancelQuery(),t=new AbortController,a._abortController=t,e.next=5,a._compileExpression();case 5:a._abortController===t&&(a._abortController=null);case 6:case"end":return e.stop()}}),e)}))),i._compileThrottled=(0,Ze.throttle)(i._compile,1,g.default(i)),i._compileExpression=_.default(n(S).mark((function e(){var t,r,i,a,s,l,u,c,f,p,d,h;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.expressionInfo,r=o.graphic,i=o.interceptor,a=o.spatialReference,s=o.map,l=o.view,u=o._abortController,t&&r&&a&&s){e.next=3;break}return e.abrupt("return",void o._set("contentElement",null));case 3:return e.next=5,ra();case 5:if(c=e.sent,u===o._abortController){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,aa({arcadeUtils:c,expressionInfo:t,graphic:r,interceptor:i,map:s,spatialReference:a,view:l});case 10:if((f=e.sent)&&"esri.arcade.Dictionary"===f.declaredClass){e.next=13;break}return e.abrupt("return",void o._set("contentElement",null));case 13:return e.next=15,(0,Ji.x)(f,u.signal);case 15:p=e.sent,d=null==p?void 0:p.type,h="media"===d?Xi.default.fromJSON(p):"text"===d?Ki.default.fromJSON(p):"fields"===d?qi.default.fromJSON(p):null,o._set("contentElement",h);case 19:case"end":return e.stop()}}),e)}))),i.handles.add([(0,Qe.init)(g.default(i),["expressionInfo","graphic","map","spatialReference","view"],i._compileThrottled),(0,Qe.init)(g.default(i),"contentElement",i._createVM)]),h.default(i)}return y.default(r,[{key:"destroy",value:function(){var e;this._cancelQuery(),null==(e=this.contentElementViewModel)||e.destroy(),this._set("contentElementViewModel",null),this._set("contentElement",null)}},{key:"spatialReference",get:function(){var e;return(null==(e=this.view)?void 0:e.spatialReference)||null},set:function(e){void 0!==e?this._override("spatialReference",e):this._clearOverride("spatialReference")}},{key:"state",get:function(){var e=this,t=e._abortController,r=e.contentElement,n=e.contentElementViewModel;return t?"loading":r||n?"ready":"disabled"}},{key:"map",get:function(){var e;return(null==(e=this.view)?void 0:e.map)||null},set:function(e){void 0!==e?this._override("map",e):this._clearOverride("map")}}]),r}((0,ut.HandleOwnerMixin)(X.default));(0,v._)([(0,P.property)()],ua.prototype,"_abortController",void 0),(0,v._)([(0,P.property)({type:$i.default})],ua.prototype,"expressionInfo",void 0),(0,v._)([(0,P.property)({type:Te.default})],ua.prototype,"graphic",void 0),(0,v._)([(0,P.property)({readOnly:!0})],ua.prototype,"contentElement",void 0),(0,v._)([(0,P.property)({readOnly:!0})],ua.prototype,"contentElementViewModel",void 0),(0,v._)([(0,P.property)()],ua.prototype,"interceptor",void 0),(0,v._)([(0,P.property)()],ua.prototype,"spatialReference",null),(0,v._)([(0,P.property)({readOnly:!0})],ua.prototype,"state",null),(0,v._)([(0,P.property)()],ua.prototype,"map",null),(0,v._)([(0,P.property)()],ua.prototype,"view",void 0);var ca=ua=(0,v._)([(0,j.subclass)("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],ua);s("6zpox"),s("jHOLN");pr=s("yibdR");var fa="esri-icon-loading-indicator esri-rotating",pa="esri-feature-expression",da="esri-feature__loading-container",ha="esri-feature__loading-spinner",ya=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n)).viewModel=new ca,h.default(i)}return y.default(r,[{key:"initialize",value:function(){var e=this;(0,Qe.init)(this,"viewModel.contentElementViewModel",(function(){return e._setupExpressionWidget()}))}},{key:"destroy",value:function(){this._destroyContentWidget()}},{key:"renderLoading",value:function(){return(0,pr.tsx)("div",{key:"loading-container",class:da},(0,pr.tsx)("span",{class:this.classes(fa,ha)}))}},{key:"render",value:function(){var e,t=this.viewModel.state;return(0,pr.tsx)("div",{class:pa},"loading"===t?this.renderLoading():"disabled"===t?null:null==(e=this._contentWidget)?void 0:e.render())}},{key:"_destroyContentWidget",value:function(){var e=this._contentWidget;e&&(e.viewModel=null,e.destroy()),this._contentWidget=null}},{key:"_setupExpressionWidget",value:function(){var e=this.viewModel,t=e.contentElementViewModel,r=e.contentElement,n=null==r?void 0:r.type;this._destroyContentWidget();var i=t?"fields"===n?new Hn({viewModel:t}):"media"===n?new Gi({viewModel:t}):"text"===n?new On({viewModel:t}):null:null;this._contentWidget=i,this.scheduleRender()}}]),r}(tt.default);(0,v._)([(0,P.property)({type:ca})],ya.prototype,"viewModel",void 0);var va=ya=(0,v._)([(0,j.subclass)("esri.widgets.Feature.FeatureExpression")],ya);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),b=s("ifq4M"),h=s("bFSSc"),y=s("jK9zx"),_=s("jcnGU"),S=s("2TvXO"),v=s("7eJjO"),Te=s("bsvXr");s("8TSCy");d=s("f9pi5"),X=s("jymfC"),Ve=s("qhgF7"),N=s("jHOLN"),Z=s("7qybv"),R=s("10vEZ"),Ze=s("9uTTh"),Qe=s("5qZXj"),P=s("iho5X");s("lNwWH"),s("2VlWd");Q=s("ba18L"),j=s("fcwIv"),Ki=s("2l7B9");var ma,ga="content-view-models",ba="esri.widgets.FeatureViewModel",_a=N.default.getLogger(ba),wa={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0},xa=ma=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._handles=new(0,Ve.default),n._error=null,n._featureAbortController=null,n.graphicChangedThrottled=(0,Ze.throttle)(n._graphicChanged,1,g.default(n)),n._expressionAttributes=null,n._graphicExpressionAttributes=null,n.abilities=b.default({},wa),n.content=null,n.contentViewModels=[],n.defaultPopupTemplateEnabled=!1,n.formattedAttributes=null,n.lastEditInfo=null,n.relatedInfos=new Map,n.title="",n.view=null,n._isAllowedContentType=function(e){var t=g.default(n).abilities;return"attachments"===e.type&&t.attachmentsContent||"custom"===e.type&&t.customContent||"fields"===e.type&&t.fieldsContent||"media"===e.type&&t.mediaContent||"text"===e.type&&t.textContent||"expression"===e.type&&t.expressionContent},n._handles.add((0,Qe.init)(g.default(n),["graphic","_effectivePopupTemplate","abilities"],(function(){return n.graphicChangedThrottled()}))),h.default(n)}return y.default(r,[{key:"destroy",value:function(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this._handles=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}},{key:"_effectivePopupTemplate",get:function(){return(0,Z.isSome)(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}},{key:"_fieldInfoMap",get:function(){return e=zt(this._effectivePopupTemplate),t=this._sourceLayer,r=new Map,e&&e.forEach((function(e){var n=Nt(e.fieldName,t);e.fieldName=n,r.set(n.toLowerCase(),e)})),r;var e,t,r}},{key:"_sourceLayer",get:function(){return It(this.graphic)}},{key:"castAbilities",value:function(e){return b.default({},wa,e)}},{key:"state",get:function(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}},{key:"graphic",set:function(e){this._set("graphic",e?e.clone():null)}},{key:"spatialReference",get:function(){return this.get("view.spatialReference")||null},set:function(e){void 0!==e?this._override("spatialReference",e):this._clearOverride("spatialReference")}},{key:"map",get:function(){return this.get("view.map")||null},set:function(e){void 0!==e?this._override("map",e):this._clearOverride("map")}},{key:"waitingForContent",get:function(){return!!this._featureAbortController}},{key:"setActiveMedia",value:function(e,t){var r=this.contentViewModels[e];r instanceof fi&&r.setActiveMedia(t)}},{key:"nextMedia",value:function(e){var t=this.contentViewModels[e];t instanceof fi&&t.next()}},{key:"previousMedia",value:function(e){var t=this.contentViewModels[e];t instanceof fi&&t.previous()}},{key:"_clear",value:function(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}},{key:"_graphicChanged",value:function(){var e=this;return _.default(n(S).mark((function t(){var r,i;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._cancelFeatureQuery(),e._error=null,e._clear(),r=e.graphic){t.next=4;break}return t.abrupt("return");case 4:return i=new AbortController,e._featureAbortController=i,t.prev=6,t.next=9,e._queryFeature({signal:i.signal});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(6),(0,R.isAbortError)(t.t0)||(e._error=t.t0,_a.error("error","The popupTemplate could not be displayed for this feature.",{error:t.t0,graphic:r,popupTemplate:e._effectivePopupTemplate}));case 14:e._featureAbortController===i&&(e._featureAbortController=null);case 15:case"end":return t.stop()}}),t,null,[[6,11]])})))()}},{key:"_cancelFeatureQuery",value:function(){var e=this._featureAbortController;e&&e.abort(),this._featureAbortController=null}},{key:"_compileContentElement",value:function(e,t){return"attachments"===e.type?this._compileAttachments(e,t):"custom"===e.type?this._compileCustom(e,t):"fields"===e.type?this._compileFields(e,t):"media"===e.type?this._compileMedia(e,t):"text"===e.type?this._compileText(e,t):"expression"===e.type?this._compileExpression(e,t):void 0}},{key:"_compileContent",value:function(e){var t=this;if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.filter(this._isAllowedContentType).map((function(e,r){return t._compileContentElement(e,r)})):"string"==typeof e?this._compileText(new(0,Ki.default)({text:e}),0).text:e}},{key:"_destroyContentViewModels",value:function(){var e;null==(e=this._handles)||e.remove(ga),this.contentViewModels.forEach((function(e){return e&&!e.destroyed&&e.destroy()})),this._set("contentViewModels",[])}},{key:"_setExpressionContentVM",value:function(e,t){var r=this.formattedAttributes,n=e.contentElement,i=e.contentElementViewModel,a=null==n?void 0:n.type;i&&a&&("fields"===a&&(this._createFieldsFormattedAttributes({contentElement:n,contentElementIndex:t,formattedAttributes:r}),i.set(this._createFieldsVMParams(n,t))),"media"===a&&(this._createMediaFormattedAttributes({contentElement:n,contentElementIndex:t,formattedAttributes:r}),i.set(this._createMediaVMParams(n,t))),"text"===a&&i.set(this._createTextVMParams(n)))}},{key:"_compileExpression",value:function(e,t){var r=this,n=e.expressionInfo,i=this,a=i.graphic,o=i.map,s=i.spatialReference,l=i.view,u=new ca({expressionInfo:n,graphic:a,interceptor:ma.interceptor,map:o,spatialReference:s,view:l});return this.contentViewModels[t]=u,this._handles.add((0,Qe.init)(u,"contentElementViewModel",(function(){return r._setExpressionContentVM(u,t)})),ga),e}},{key:"_compileAttachments",value:function(e,t){var r=this.graphic,n=e.description,i=e.title;return this.contentViewModels[t]=new un(b.default({graphic:r},this._compileTitleAndDesc({title:i,description:n}))),e}},{key:"_compileCustom",value:function(e,t){var r=this.graphic,n=e.creator,i=e.destroyer;return this.contentViewModels[t]=new Sn({graphic:r,creator:n,destroyer:i}),e}},{key:"_compileTitleAndDesc",value:function(e){var t=e.title,r=e.description,n=this,i=n._fieldInfoMap,a=n._sourceLayer,o=n.graphic,s=n.formattedAttributes,l=n._expressionAttributes,u=o.attributes,c=s.global;return{title:Ft({attributes:u,fieldInfoMap:i,globalAttributes:c,expressionAttributes:l,layer:a,text:t}),description:Ft({attributes:u,fieldInfoMap:i,globalAttributes:c,expressionAttributes:l,layer:a,text:r})}}},{key:"_createFieldsVMParams",value:function(e,t){var r=this._effectivePopupTemplate,n=this.formattedAttributes,i=b.default({},n.global,n.content[t]),a=(null==e?void 0:e.fieldInfos)||(null==r?void 0:r.fieldInfos),o=null==a?void 0:a.filter((function(e){var t=e.fieldName;return At(t)||er(t)||i.hasOwnProperty(t)})),s=null==r?void 0:r.expressionInfos,l=e.description,u=e.title;return b.default({attributes:i,expressionInfos:s,fieldInfos:o},this._compileTitleAndDesc({title:u,description:l}))}},{key:"_compileFields",value:function(e,t){var r=e.clone(),n=new Nn(this._createFieldsVMParams(e,t));return this.contentViewModels[t]=n,r.fieldInfos=n.formattedFieldInfos.slice(0),r}},{key:"_createMediaVMParams",value:function(e,t){var r=this,n=r.abilities,i=r.graphic,a=r._fieldInfoMap,o=r.formattedAttributes,s=r._effectivePopupTemplate,l=r.relatedInfos,u=r._sourceLayer,c=r._expressionAttributes,f=i.attributes,p=e.description,d=e.mediaInfos,h=e.title;return b.default({abilities:{chartAnimation:n.chartAnimation},activeMediaInfoIndex:e.activeMediaInfoIndex||0,attributes:f,layer:u,fieldInfoMap:a,formattedAttributes:b.default({},o.global,o.content[t]),expressionAttributes:c,mediaInfos:d,popupTemplate:s,relatedInfos:l},this._compileTitleAndDesc({title:h,description:p}))}},{key:"_compileMedia",value:function(e,t){var r=e.clone(),n=new fi(this._createMediaVMParams(e,t));return r.mediaInfos=n.formattedMediaInfos.slice(0),this.contentViewModels[t]=n,r}},{key:"_createTextVMParams",value:function(e){var t=this,r=t.graphic,n=t._fieldInfoMap,i=t._sourceLayer,a=t._expressionAttributes;if(e&&e.text){var o=r.attributes,s=this.formattedAttributes.global;e.text=Ft({attributes:o,fieldInfoMap:n,globalAttributes:s,expressionAttributes:a,layer:i,text:e.text})}return{graphic:r,creator:e.text}}},{key:"_compileText",value:function(e,t){var r=e.clone();return this.contentViewModels[t]=new Sn(this._createTextVMParams(r)),r}},{key:"_compileLastEditInfo",value:function(){var e=this,t=e._effectivePopupTemplate,r=e._sourceLayer,n=e.graphic;if(t){var i=t.lastEditInfoEnabled,a=null==r?void 0:r.editFieldsInfo;return i&&a?Ht(a,n.attributes):void 0}}},{key:"_compileTitle",value:function(e){var t=this,r=t._fieldInfoMap,n=t._sourceLayer,i=t.graphic,a=t._expressionAttributes;return Ft({attributes:i.attributes,fieldInfoMap:r,globalAttributes:this.formattedAttributes.global,expressionAttributes:a,layer:n,text:e})}},{key:"_getTitle",value:function(){var e=this;return _.default(n(S).mark((function t(){var r,i,a;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e._effectivePopupTemplate,i=e.graphic,a=null==r?void 0:r.title,t.abrupt("return",Ct(a,{graphic:i}));case 2:case"end":return t.stop()}}),t)})))()}},{key:"_getContent",value:function(){var e=this;return _.default(n(S).mark((function t(){var r,i,a;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e._effectivePopupTemplate,i=e.graphic,a=null==r?void 0:r.content,t.abrupt("return",Ct(a,{graphic:i}));case 2:case"end":return t.stop()}}),t)})))()}},{key:"_queryFeature",value:function(e){var t=this;return _.default(n(S).mark((function r(){var i,a,o,s,l,u,c,f,p,d,h,y,v,m,g;return n(S).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=t._featureAbortController,a=t._sourceLayer,o=t.graphic,s=t._effectivePopupTemplate,l=t.spatialReference,u=t.map,c=t.view,r.next=9,(0,R.eachAlways)({content:t._getContent(),title:t._getTitle()});case 9:if(f=r.sent,p=f.content,d=p.value,h=f.title,y=h.value,i===t._featureAbortController&&o){r.next=16;break}return r.abrupt("return");case 16:return r.next=18,Zt({graphic:o,popupTemplate:s,layer:a,spatialReference:l},e);case 18:return r.next=20,(0,R.eachAlways)({checkForRelatedFeatures:t._checkForRelatedFeatures(e),expressionAttributes:sa({expressionInfos:null==s?void 0:s.expressionInfos,spatialReference:l,graphic:o,map:u,interceptor:ma.interceptor,view:c})});case 20:v=r.sent,m=v.expressionAttributes,g=m.value,i===t._featureAbortController&&o&&(t._expressionAttributes=g,t._graphicExpressionAttributes=b.default({},o.attributes,g),t._set("formattedAttributes",t._createFormattedAttributes(d)),t._set("title",t._compileTitle(y)),t._set("lastEditInfo",t._compileLastEditInfo()||null),t._set("content",t._compileContent(d)||null));case 24:case"end":return r.stop()}}),r)})))()}},{key:"_createMediaFormattedAttributes",value:function(e){var t=e.contentElement,r=e.contentElementIndex,n=e.formattedAttributes,i=this,a=i._effectivePopupTemplate,o=i.graphic,s=i.relatedInfos,l=i._sourceLayer,u=i._fieldInfoMap,c=i._graphicExpressionAttributes;n.content[r]=qt({fieldInfos:null==a?void 0:a.fieldInfos,graphic:o,attributes:b.default({},c,t.attributes),layer:l,fieldInfoMap:u,relatedInfos:s})}},{key:"_createFieldsFormattedAttributes",value:function(e){var t=e.contentElement,r=e.contentElementIndex,n=e.formattedAttributes;if(t.fieldInfos){var i=this,a=i.graphic,o=i.relatedInfos,s=i._sourceLayer,l=i._fieldInfoMap,u=i._graphicExpressionAttributes;n.content[r]=qt({fieldInfos:t.fieldInfos,graphic:a,attributes:b.default({},u,t.attributes),layer:s,fieldInfoMap:l,relatedInfos:o})}}},{key:"_createFormattedAttributes",value:function(e){var t=this,r=this,n=r._effectivePopupTemplate,i=r.graphic,a=r.relatedInfos,o=r._sourceLayer,s=r._fieldInfoMap,l=r._graphicExpressionAttributes,u={global:qt({fieldInfos:null==n?void 0:n.fieldInfos,graphic:i,attributes:l,layer:o,fieldInfoMap:s,relatedInfos:a}),content:[]};return Array.isArray(e)&&e.forEach((function(e,r){"fields"===e.type&&t._createFieldsFormattedAttributes({contentElement:e,contentElementIndex:r,formattedAttributes:u}),"media"===e.type&&t._createMediaFormattedAttributes({contentElement:e,contentElementIndex:r,formattedAttributes:u})})),u}},{key:"_checkForRelatedFeatures",value:function(e){var t=this.graphic,r=this._effectivePopupTemplate;return this._queryRelatedInfos(t,zt(r),e)}},{key:"_queryRelatedInfos",value:function(e,t,r){var i=this;return _.default(n(S).mark((function a(){var o,s,l,u,c,f;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i.relatedInfos,s=i._sourceLayer,o.clear(),!(0,Z.isSome)(s.associatedLayer)){n.next=8;break}return n.next=5,s.associatedLayer.load(r);case 5:n.t0=n.sent,n.next=9;break;case 8:n.t0=s;case 9:if(l=n.t0){n.next=12;break}return n.abrupt("return");case 12:if((u=t.filter((function(e){return e&&er(e.fieldName)})))&&u.length){n.next=15;break}return n.abrupt("return");case 15:return t.forEach((function(e){return i._configureRelatedInfo(e,l)})),n.next=18,ai({relatedInfos:o,layer:l},r);case 18:return c=n.sent,Object.keys(c).forEach((function(e){var t,r=o.get(e.toString()),n=null==(t=c[e])?void 0:t.value;r&&n&&(r.layerInfo=n.data)})),n.next=22,oi({graphic:e,relatedInfos:o,layer:l},r);case 22:f=n.sent,Object.keys(f).forEach((function(e){var t;ti(null==(t=f[e])?void 0:t.value,o.get(e.toString()))}));case 24:case"end":return n.stop()}}),a)})))()}},{key:"_configureRelatedInfo",value:function(e,t){var r=this.relatedInfos,n=Yn(e.fieldName);if(n){var i=n.layerId,a=n.fieldName;if(i){var o=r.get(i.toString())||ei(i,t);o&&(si({relatedInfo:o,fieldName:a,fieldInfo:e}),this.relatedInfos.set(i,o))}}}}]),r}(X.default);xa.interceptor=new function e(t,r){"use strict";d.default(this,e),this.preLayerQueryCallback=t,this.preRequestCallback=r,this.preLayerQueryCallback||(this.preLayerQueryCallback=function(e){}),this.preRequestCallback||(this.preLayerQueryCallback=function(e){})}((function(e){var t=e.query,r=e.layer,n=e.method;nr({layer:r,method:n,query:t,definitionExpression:"".concat(r.definitionExpression," ").concat(r.serviceDefinitionExpression)})}),(function(e){var t=e.queryPayload,r=e.layer,n=e.method;nr({layer:r,method:n,query:t,definitionExpression:"".concat(r.definitionExpression," ").concat(r.serviceDefinitionExpression)})})),(0,v._)([(0,P.property)()],xa.prototype,"_error",void 0),(0,v._)([(0,P.property)()],xa.prototype,"_featureAbortController",void 0),(0,v._)([(0,P.property)({readOnly:!0})],xa.prototype,"_effectivePopupTemplate",null),(0,v._)([(0,P.property)({readOnly:!0})],xa.prototype,"_fieldInfoMap",null),(0,v._)([(0,P.property)({readOnly:!0})],xa.prototype,"_sourceLayer",null),(0,v._)([(0,P.property)()],xa.prototype,"abilities",void 0),(0,v._)([(0,Q.cast)("abilities")],xa.prototype,"castAbilities",null),(0,v._)([(0,P.property)({readOnly:!0})],xa.prototype,"content",void 0),(0,v._)([(0,P.property)({readOnly:!0})],xa.prototype,"contentViewModels",void 0),(0,v._)([(0,P.property)({type:Boolean})],xa.prototype,"defaultPopupTemplateEnabled",void 0),(0,v._)([(0,P.property)({readOnly:!0})],xa.prototype,"state",null),(0,v._)([(0,P.property)({readOnly:!0})],xa.prototype,"formattedAttributes",void 0),(0,v._)([(0,P.property)({type:Te.default,value:null})],xa.prototype,"graphic",null),(0,v._)([(0,P.property)({readOnly:!0})],xa.prototype,"lastEditInfo",void 0),(0,v._)([(0,P.property)({readOnly:!0})],xa.prototype,"relatedInfos",void 0),(0,v._)([(0,P.property)()],xa.prototype,"spatialReference",null),(0,v._)([(0,P.property)({readOnly:!0})],xa.prototype,"title",void 0),(0,v._)([(0,P.property)()],xa.prototype,"map",null),(0,v._)([(0,P.property)({readOnly:!0})],xa.prototype,"waitingForContent",null),(0,v._)([(0,P.property)()],xa.prototype,"view",void 0);var Sa=xa=ma=(0,v._)([(0,j.subclass)(ba)],xa);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO");s("jHOLN"),s("iJAIC"),s("lNwWH"),s("2VlWd"),s("62edV");j=s("fcwIv"),kn=s("fSvdV"),pr=s("yibdR");var ka=function(e){var t=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){var e;return d.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).renderNodeContent=function(t){return(0,kn.isWidget)(t)&&!t.destroyed?(0,pr.tsx)("div",{key:t},t.render()):t instanceof HTMLElement?(0,pr.tsx)("div",{key:t,bind:t,afterCreate:e._attachToNode}):(0,kn.hasDomNode)(t)?(0,pr.tsx)("div",{key:t,bind:t.domNode,afterCreate:e._attachToNode}):null},h.default(e)}return y.default(r,[{key:"_attachToNode",value:function(e){e.appendChild(this)}}]),r}(e);return t=(0,v._)([(0,j.subclass)("esri.widgets.Feature.ContentMixin")],t)};s("6zpox");fr=s("dKwUH");s("jHOLN");pr=s("yibdR");var Ta=s("aBds0"),Ea="esri-icon-loading-indicator esri-rotating",Ia="esri-widget",Ca="esri-feature",Oa="esri-feature__size-container",La="esri-feature__title",Aa="esri-feature__main-container",Ma="esri-feature__content-element",Na="esri-feature__text",Ra="esri-feature__last-edited-info",Pa="esri-feature__loading-container",Fa="esri-feature__loading-spinner",ja={title:!0,content:!0,lastEditedInfo:!0},Da=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n))._contentWidgets=[],i.graphic=null,i.defaultPopupTemplateEnabled=!1,i.headingLevel=2,i.label=void 0,i.messages=null,i.messagesCommon=null,i.messagesURIUtils=null,i.spatialReference=null,i.title=null,i.visibleElements=b.default({},ja),i.map=null,i.view=null,i.viewModel=new Sa,h.default(i)}return y.default(r,[{key:"initialize",value:function(){var e=this;this.own((0,Qe.init)(this,"viewModel.contentViewModels",(function(){return e._setupContentWidgets()})))}},{key:"loadDependencies",value:function(){return s("eaNgI")}},{key:"destroy",value:function(){this._destroyContentWidgets()}},{key:"castVisibleElements",value:function(e){return b.default({},ja,e)}},{key:"render",value:function(){var e=this.viewModel.state,t=(0,pr.tsx)("div",{class:Oa,key:"container"},this.renderTitle(),"error"===e?this.renderError():"loading"===e?this.renderLoading():this.renderContentContainer());return(0,pr.tsx)("div",{class:this.classes(Ca,Ia)},t)}},{key:"setActiveMedia",value:function(e,t){this.viewModel.setActiveMedia(e,t)}},{key:"nextMedia",value:function(e){this.viewModel.nextMedia(e)}},{key:"previousMedia",value:function(e){this.viewModel.previousMedia(e)}},{key:"renderError",value:function(){var e=this,t=e.messagesCommon,r=e.messages,n=e.visibleElements;return(0,pr.tsx)("calcite-notice",{active:!0,color:"red",icon:"exclamation-mark-circle",scale:"s"},n.title?(0,pr.tsx)("div",{key:"error-title",slot:"title"},t.errorMessage):null,(0,pr.tsx)("div",{key:"error-message",slot:"message"},r.loadingError))}},{key:"renderLoading",value:function(){return(0,pr.tsx)("div",{key:"loading-container",class:Pa},(0,pr.tsx)("span",{class:this.classes(Ea,Fa)}))}},{key:"renderContentContainer",value:function(){return this.visibleElements.content?(0,pr.tsx)("div",{class:Aa},[this.renderContent(),this.renderLastEditInfo()]):null}},{key:"renderTitle",value:function(){var e=this.visibleElements,t=this.title;return e.title?(0,pr.tsx)(fn,{level:this.headingLevel,class:La,innerHTML:t}):null}},{key:"renderContent",value:function(){var e=this.viewModel.content,t="content";if(!e)return null;if(Array.isArray(e))return e.length?(0,pr.tsx)("div",{key:"".concat(t,"-content-elements")},e.map(this.renderContentElement,this)):null;if("string"==typeof e){var r=this._contentWidgets[0];return!r||r.destroyed?null:(0,pr.tsx)("div",{key:"".concat(t,"-content")},r.render())}return this.renderNodeContent(e)}},{key:"renderContentElement",value:function(e,t){var r=this.visibleElements;if("boolean"!=typeof r.content&&!r.content[e.type])return null;switch(e.type){case"attachments":return this.renderAttachments(t);case"custom":return this.renderCustom(e,t);case"fields":return this.renderFields(t);case"media":return this.renderMedia(t);case"text":return this.renderText(e,t);case"expression":return this.renderExpression(t);default:return null}}},{key:"renderAttachments",value:function(e){var t=this._contentWidgets[e];if(!t||t.destroyed)return null;var r=t.viewModel,n=r.state,i=r.attachmentInfos;return"loading"===n||i.length>0?(0,pr.tsx)("div",{key:this._buildKey("attachments-element",e),class:this.classes(Ma)},t.render()):null}},{key:"renderExpression",value:function(e){var t=this._contentWidgets[e];return!t||t.destroyed?null:(0,pr.tsx)("div",{key:this._buildKey("expression-element",e),class:Ma},t.render())}},{key:"renderCustom",value:function(e,t){var r=e.creator,n=this._contentWidgets[t];return!n||n.destroyed?null:r?(0,pr.tsx)("div",{key:this._buildKey("custom-element",t),class:Ma},n.render()):null}},{key:"renderFields",value:function(e){var t=this._contentWidgets[e];return!t||t.destroyed?null:(0,pr.tsx)("div",{key:this._buildKey("fields-element",e),class:Ma},t.render())}},{key:"renderMedia",value:function(e){var t=this._contentWidgets[e];return!t||t.destroyed?null:(0,pr.tsx)("div",{key:this._buildKey("media-element",e),class:Ma},t.render())}},{key:"renderLastEditInfo",value:function(){var e=this.visibleElements,t=this.messages,r=this.viewModel.lastEditInfo;if(!r||!e.lastEditedInfo)return null;var n=r.date,i=r.user,a="edit"===r.type?i?t.lastEditedByUser:t.lastEdited:i?t.lastCreatedByUser:t.lastCreated,o=(0,Ta.substitute)(a,{date:n,user:i});return(0,pr.tsx)("div",{key:"edit-info-element",class:this.classes(Ra,Ma)},o)}},{key:"renderText",value:function(e,t){var r=e.text,n=this._contentWidgets[t];return!n||n.destroyed?null:r?(0,pr.tsx)("div",{key:this._buildKey("text-element",t),class:this.classes(Ma,Na)},n.render()):null}},{key:"_buildKey",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return"".concat(e,"__").concat(this.get("viewModel.graphic.uid")||"0","-").concat(r.join("-"))}},{key:"_destroyContentWidget",value:function(e){e&&(e.viewModel=null,!e.destroyed&&e.destroy())}},{key:"_destroyContentWidgets",value:function(){var e=this;this._contentWidgets.forEach((function(t){return e._destroyContentWidget(t)})),this._contentWidgets=[]}},{key:"_setupContentWidgets",value:function(){var e=this;this._destroyContentWidgets();var t=this.headingLevel,r=this.visibleElements,n=this.get("viewModel.content"),i=this.viewModel.contentViewModels;if(Array.isArray(n))n.forEach((function(n,a){"attachments"===n.type&&(e._contentWidgets[a]=new wn({displayType:n.displayType,headingLevel:r.title?t+1:t,viewModel:i[a]})),"fields"===n.type&&(e._contentWidgets[a]=new Hn({viewModel:i[a]})),"media"===n.type&&(e._contentWidgets[a]=new Gi({viewModel:i[a]})),"text"===n.type&&(e._contentWidgets[a]=new On({viewModel:i[a]})),"custom"===n.type&&(e._contentWidgets[a]=new On({viewModel:i[a]})),"expression"===n.type&&(e._contentWidgets[a]=new va({viewModel:i[a]}))}),this);else{var a=i[0];a&&!a.destroyed&&(this._contentWidgets[0]=new On({viewModel:a}))}this.scheduleRender()}}]),r}(ka(tt.default));(0,v._)([(0,et.aliasOf)("viewModel.graphic")],Da.prototype,"graphic",void 0),(0,v._)([(0,et.aliasOf)("viewModel.defaultPopupTemplateEnabled")],Da.prototype,"defaultPopupTemplateEnabled",void 0),(0,v._)([(0,P.property)()],Da.prototype,"headingLevel",void 0),(0,v._)([(0,P.property)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Da.prototype,"label",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/Feature/t9n/Feature")],Da.prototype,"messages",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/t9n/common")],Da.prototype,"messagesCommon",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/support/t9n/uriUtils")],Da.prototype,"messagesURIUtils",void 0),(0,v._)([(0,et.aliasOf)("viewModel.spatialReference")],Da.prototype,"spatialReference",void 0),(0,v._)([(0,et.aliasOf)("viewModel.title")],Da.prototype,"title",void 0),(0,v._)([(0,P.property)()],Da.prototype,"visibleElements",void 0),(0,v._)([(0,Q.cast)("visibleElements")],Da.prototype,"castVisibleElements",null),(0,v._)([(0,et.aliasOf)("viewModel.map")],Da.prototype,"map",void 0),(0,v._)([(0,et.aliasOf)("viewModel.view")],Da.prototype,"view",void 0),(0,v._)([(0,P.property)({type:Sa})],Da.prototype,"viewModel",void 0);var Ua=Da=(0,v._)([(0,j.subclass)("esri.widgets.Feature")],Da);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),$e=s("aNiFM"),v=s("7eJjO"),Z=s("7qybv"),R=s("10vEZ"),Qe=s("5qZXj"),et=s("kDa5L");s("lNwWH"),s("2VlWd"),s("iJAIC");P=s("iho5X"),j=s("fcwIv"),tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),v=s("7eJjO"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),Y=s("amfHf"),Ve=s("qhgF7"),Z=s("7qybv"),Qe=s("5qZXj"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Va=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._anchorHandles=new(0,Ve.default),n.location=null,n.screenLocation=null,n.screenLocationEnabled=!1,n.view=null,n._anchorHandles.add([(0,Qe.watch)(g.default(n),["screenLocationEnabled","location","view.size","view.stationary"],(function(){return n._updateScreenPointAndHandle()})),(0,Qe.watch)(g.default(n),["view","view.ready"],(function(){return n._wireUpView()}))]),h.default(n)}return y.default(r,[{key:"destroy",value:function(){this.view=null,this._anchorHandles&&this._anchorHandles.destroy(),this._anchorHandles=null,this._viewpointHandle=null}},{key:"_wireUpView",value:function(){var e=this,t="view";if(this._anchorHandles.remove(t),this._viewpointHandle=null,this.get("view.ready")){this._setScreenLocation();var r=this.view,n="3d"===r.type?"camera":"viewpoint",i=(0,Qe.pausable)(r,n,(function(){return e._viewpointChange()}));this._anchorHandles.add(i,t),this._viewpointHandle=i,this._toggleWatchingViewpoint()}}},{key:"_viewpointChange",value:function(){this._setScreenLocation(),this.emit("view-change")}},{key:"_updateScreenPointAndHandle",value:function(){this._setScreenLocation(),this._toggleWatchingViewpoint()}},{key:"_toggleWatchingViewpoint",value:function(){var e=this,t=e._viewpointHandle,r=e.location,n=e.screenLocationEnabled;t&&(r&&n?t.resume():t.pause())}},{key:"_setScreenLocation",value:function(){var e=this,t=e.location,r=e.view,n=e.screenLocationEnabled,i=this.get("view.ready"),a=n&&i&&(0,Z.isSome)(t)?r.toScreen(t):null;this._set("screenLocation",a)}}]),r}(Y.default.EventedAccessor);(0,v._)([(0,P.property)()],Va.prototype,"location",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Va.prototype,"screenLocation",void 0),(0,v._)([(0,P.property)()],Va.prototype,"screenLocationEnabled",void 0),(0,v._)([(0,P.property)()],Va.prototype,"view",void 0);var Ba=Va=(0,v._)([(0,j.subclass)("esri.widgets.support.AnchorElementViewModel")],Va),Ha=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).visible=!1,h.default(n)}return r}(Ba);(0,v._)([(0,P.property)()],Ha.prototype,"visible",void 0);var za=Ha=(0,v._)([(0,j.subclass)("esri.widgets.CompassViewModel")],Ha);s("6zpox"),s("jHOLN");pr=s("yibdR");var Wa="esri-spinner",Ga="esri-spinner--start",Ja="esri-spinner--finish",qa=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n))._animationDelay=500,i._animationPromise=null,i.location=null,i.view=null,i.viewModel=new za,i.visible=!1,h.default(i)}return y.default(r,[{key:"initialize",value:function(){var e=this;this.own([(0,Qe.watch)(this,"visible",(function(t){return e._visibleChange(t)}))])}},{key:"destroy",value:function(){this._animationPromise=null}},{key:"show",value:function(e){var t=this,r=e.location,n=e.promise;r&&(this.viewModel.location=r),this.visible=!0;n&&n.catch((function(){})).then((function(){return t.hide()}))}},{key:"hide",value:function(){this.visible=!1}},{key:"render",value:function(){var e,t=this.visible,r=!!this.viewModel.screenLocation,n=t&&r,i=!t&&r,a=(e={},$e.default(e,Ga,n),$e.default(e,Ja,i),e),o=this._getPositionStyles();return(0,pr.tsx)("div",{class:this.classes(Wa,a),styles:o})}},{key:"_visibleChange",value:function(e){var t=this;if(e)this.viewModel.screenLocationEnabled=!0;else{var r=(0,R.after)(this._animationDelay);this._animationPromise=r,r.catch((function(){})).then((function(){t._animationPromise===r&&(t.viewModel.screenLocationEnabled=!1,t._animationPromise=null)}))}}},{key:"_getPositionStyles",value:function(){var e=this.viewModel,t=e.screenLocation,r=e.view;if(!r||(0,Z.isNone)(t))return{};var n=r.padding;return{left:t.x-n.left+"px",top:t.y-n.top+"px"}}}]),r}(tt.default);(0,v._)([(0,et.aliasOf)("viewModel.location")],qa.prototype,"location",void 0),(0,v._)([(0,et.aliasOf)("viewModel.view")],qa.prototype,"view",void 0),(0,v._)([(0,P.property)({type:za})],qa.prototype,"viewModel",void 0),(0,v._)([(0,et.aliasOf)("viewModel.visible")],qa.prototype,"visible",void 0);var Xa=qa=(0,v._)([(0,j.subclass)("esri.widgets.Spinner")],qa);tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),b=s("ifq4M"),_=s("jcnGU"),De=s("5Vgx8"),S=s("2TvXO"),v=s("7eJjO");s("2ILM8");Te=s("bsvXr");s("cM5QQ");T=s("d2yMj"),C=s("kyj08"),Ve=s("qhgF7"),N=s("jHOLN"),Z=s("7qybv"),Qe=s("5qZXj"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Ka=s("eF88h"),$a=s("4LDxK"),Ya=s("42uvh"),Za=s("102u7"),Qa=s("hFzu1");s("8TSCy");_=s("jcnGU"),b=s("ifq4M"),S=s("2TvXO");s("2VlWd");Z=s("7qybv"),yt=s("3nnTb");var eo=s("cBxZc"),to=s("8NoYK"),ro=null;function no(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function io(e,t,r){var n=e.backgroundColor,i=e.outline,a=e.dotSize,o=r&&r.swatchSize||eo.SymbolSizeDefaults.size,s=Math.round(o*o/Math.pow(a,2)*.8),l=window.devicePixelRatio,u=document.createElement("canvas"),c=o*l;u.width=c,u.height=c,u.style.width=u.width/l+"px",u.style.height=u.height/l+"px";var f=u.getContext("2d");if(n&&(f.fillStyle=n.toCss(!0),f.fillRect(0,0,c,c),f.fill()),f.fillStyle=t.toCss(!0),ro&&ro.length/2===s)for(var p=0;p<2*s;p+=2){var d=ro[p],h=ro[p+1];f.fillRect(d,h,a*l,a*l),f.fill()}else{ro=[];for(var y=0;y<2*s;y+=2){var v=no(0,c),m=no(0,c);ro.push(v,m),f.fillRect(v,m,a*l,a*l),f.fill()}}i&&(i.color&&(f.strokeStyle=i.color.toCss(!0)),f.lineWidth=i.width,f.strokeRect(0,0,c,c));var g=new Image(o,o);return g.src=u.toDataURL(),g}function ao(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=24,n=75,i="horizontal"===t.align,a=i?n:r,o=i?r:n,s=t.width,l=void 0===s?a:s,u=t.height,c=void 0===u?o:u,f=t.gradient,p=void 0===f||f,d=window.devicePixelRatio,h=l*d,y=c*d,v=document.createElement("canvas");v.width=h,v.height=y,v.style.width="".concat(l,"px"),v.style.height="".concat(c,"px");var m=v.getContext("2d"),g=i?h:0,b=i?0:y;if(p){var _=m.createLinearGradient(0,0,g,b),w=e.length,x=1===w?0:1/(w-1);e.forEach((function(e,t){return _.addColorStop(t*x,e.toString())})),m.fillStyle=_,m.fillRect(0,0,h,y)}else{var S=i?h/e.length:h,k=i?y:y/e.length,T=0,E=0,I=!0,C=!1,O=void 0;try{for(var L,A=e[Symbol.iterator]();!(I=(L=A.next()).done);I=!0){var M=L.value;m.fillStyle=M.toString(),m.fillRect(T,E,S,k),T=i?T+S:0,E=i?0:E+k}}catch(e){C=!0,O=e}finally{try{I||null==A.return||A.return()}finally{if(C)throw O}}}var N=document.createElement("div");return N.style.width="".concat(l,"px"),N.style.height="".concat(c,"px"),oo(N,null==t?void 0:t.effectList),N.appendChild(v),N}function oo(e,t){if(t){e.style.filter=(0,to.getCSSFilterFromEffectList)(t);var r=t.effects;if(r){var n=!0,i=!1,a=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;if("drop-shadow"===(null==l?void 0:l.type)){l.offsetX<0?e.style.marginLeft="".concat(Math.abs(l.offsetX),"px"):e.style.marginRight="".concat(l.offsetX,"px");break}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}}}function so(e,t){return lo.apply(this,arguments)}function lo(){return(lo=_.default(n(S).mark((function e(t,r){var i,a,o,l,u,c,f,p;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="web-style"===e.t0?3:"label-3d"===e.t0||"line-3d"===e.t0||"mesh-3d"===e.t0||"point-3d"===e.t0||"polygon-3d"===e.t0?8:"simple-marker"===e.t0||"simple-line"===e.t0||"simple-fill"===e.t0||"picture-marker"===e.t0||"picture-fill"===e.t0||"text"===e.t0?13:"cim"===e.t0?18:23;break;case 3:return e.next=5,s("eKxKE");case 5:return i=e.sent,a=i.previewWebStyleSymbol,e.abrupt("return",a(t,so,r));case 8:return e.next=10,s("23KVz");case 10:return o=e.sent,l=o.previewSymbol3D,e.abrupt("return",l(t,r));case 13:return e.next=15,s("frBqB");case 15:return u=e.sent,c=u.previewSymbol2D,e.abrupt("return",c(t,r));case 18:return e.next=20,s("1fQVT");case 20:return f=e.sent,p=f.previewCIMSymbol,e.abrupt("return",p(t,r));case 23:return e.abrupt("return");case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uo(e){return e&&"opacity"in e?e.opacity*uo(e.parent):1}function co(e,t){return fo.apply(this,arguments)}function fo(){return(fo=_.default(n(S).mark((function e(t,r){var i,a,o,l,u,c,f,p,d,h,y,v,m,g,_,w,x,k,T,E,I,C,O,L,A,M,N,R,P,F,j;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return e.abrupt("return");case 3:if(o=t.sourceLayer,l=null!=(i=(0,Z.isSome)(r)&&null!=(a=r.useSourceLayer)&&a?o:t.layer)?i:o,u=uo(l),!(0,Z.isSome)(t.symbol)||(0,Z.isSome)(r)&&!0===r.ignoreGraphicSymbol){e.next=14;break}if("web-style"!==t.symbol.type){e.next=11;break}return e.next=8,t.symbol.fetchSymbol((0,Z.isSome)(r)?r.abortOptions:null);case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=t.symbol.clone();case 12:return c=e.t0,e.abrupt("return",((0,to.applyColorToSymbol)(c,null,u),c));case 14:if(!(f=(0,Z.isSome)(r)&&r.renderer||l&&"renderer"in l&&l.renderer)||!("getSymbolAsync"in f)){e.next=21;break}return e.next=18,f.getSymbolAsync(t,r);case 18:e.t1=e.sent,e.next=22;break;case 21:e.t1=null;case 22:if(p=e.t1){e.next=25;break}return e.abrupt("return");case 25:if("web-style"!==p.type){e.next=31;break}return e.next=28,p.fetchSymbol((0,Z.isSome)(r)?r.abortOptions:null);case 28:e.t2=e.sent,e.next=32;break;case 31:e.t2=p.clone();case 32:if(p=e.t2,"visualVariables"in f&&f.visualVariables&&f.visualVariables.length){e.next=35;break}return e.abrupt("return",((0,to.applyColorToSymbol)(p,null,u),p));case 35:if(!("arcadeRequiredForVisualVariables"in f)||!f.arcadeRequiredForVisualVariables||!(0,Z.isNone)(r)&&!(0,Z.isNone)(r.arcade)){e.next=41;break}return d=b.default({},(0,Z.unwrap)(r)),e.next=39,(0,yt.loadArcade)();case 39:d.arcade=e.sent,r=d;case 41:return e.next=43,s("kdZ8m");case 43:h=e.sent,y=[],v=[],m=[],g=[],_=!0,w=!1,x=void 0,e.prev=49,k=f.visualVariables[Symbol.iterator]();case 51:if(_=(T=k.next()).done){e.next=66;break}E=T.value,e.t3=E.type,e.next="color"===e.t3?56:"opacity"===e.t3?58:"rotation"===e.t3?60:"size"===e.t3?62:63;break;case 56:return y.push(E),e.abrupt("break",63);case 58:return v.push(E),e.abrupt("break",63);case 60:return g.push(E),e.abrupt("break",63);case 62:E.target||m.push(E);case 63:_=!0,e.next=51;break;case 66:e.next=72;break;case 68:e.prev=68,e.t4=e.catch(49),w=!0,x=e.t4;case 72:e.prev=72,e.prev=73,_||null==k.return||k.return();case 75:if(e.prev=75,!w){e.next=78;break}throw x;case 78:return e.finish(75);case 79:return e.finish(72);case 80:if(I=!!y.length&&y[y.length-1],C=I?h.getColor(I,t,r):null,O=!!v.length&&v[v.length-1],L=O?h.getOpacity(O,t,r):null,null!=u&&(L=null!=L?L*u:u),(0,to.applyColorToSymbol)(p,C,L),!m.length){e.next=86;break}return A=h.getAllSizes(m,t,r),e.next=86,(0,to.applySizesToSymbol)(p,A);case 86:for(M=!0,N=!1,R=void 0,e.prev=87,P=g[Symbol.iterator]();!(M=(F=P.next()).done);M=!0)j=F.value,(0,to.applyRotationToSymbol)(p,h.getRotationAngle(j,t,r),j.axis);e.next=95;break;case 91:e.prev=91,e.t5=e.catch(87),N=!0,R=e.t5;case 95:e.prev=95,e.prev=96,M||null==P.return||P.return();case 98:if(e.prev=98,!N){e.next=101;break}throw R;case 101:return e.finish(98);case 102:return e.finish(95);case 103:return e.abrupt("return",p);case 104:case"end":return e.stop()}}),e,null,[[49,68,72,80],[73,,75,79],[87,91,95,103],[96,,98,102]])})))).apply(this,arguments)}var po=s("8aXDa");Z=s("7qybv");var ho="esri-icon-zoom-in-magnifying-glass",yo="esri-icon-trash",vo="esri-icon-table",mo=new(0,(Za=s("102u7")).default)({id:"zoom-to-feature",title:"{messages.zoom}",className:ho}),go=new(0,Za.default)({id:"remove-selected-feature",title:"{messages.remove}",className:yo}),bo=new(0,Za.default)({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:ho}),_o=new(0,Za.default)({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:vo});s("8TSCy");_=s("jcnGU"),S=s("2TvXO"),C=s("kyj08"),N=s("jHOLN"),R=s("10vEZ");var wo=N.default.getLogger("esri.widgets.Popup.PopupViewModel"),xo=function(e){var t=e.event,r=e.view,n=t.action,i=r&&r.popup;if(!n)return Promise.reject(new(0,C.default)("trigger-action:missing-arguments","Event has no action"));if(!i)return Promise.reject(new(0,C.default)("trigger-action:missing-arguments","view.popup is missing"));var a=n.disabled,o=n.id;if(!o)return Promise.reject(new(0,C.default)("trigger-action:invalid-action","action.id is missing"));if(a)return Promise.reject(new(0,C.default)("trigger-action:invalid-action","Action is disabled"));if(o===mo.id)return function(e){return To.apply(this,arguments)}(i.viewModel).catch(R.throwIfNotAbortError);if(o===bo.id)return function(e){return Eo.apply(this,arguments)}(i.viewModel);if(o===_o.id)return i.featureMenuOpen=!i.featureMenuOpen,i.viewModel.browseClusterEnabled=!i.viewModel.browseClusterEnabled,Promise.resolve();if(i.viewModel.browseClusterEnabled=!1,o===go.id){i.close();var s=i.selectedFeature;if(!s)return Promise.reject(new(0,C.default)("trigger-action:".concat(go.id),"selectedFeature is required",{selectedFeature:s}));var l=s.sourceLayer;return l?l.remove(s):r.graphics.remove(s),Promise.resolve()}return Promise.resolve()};function So(e){var t=e.selectedFeature,r=e.location,n=e.view;return n?"3d"===n.type?t||r:e.get("selectedFeature.geometry")||r:null}function ko(e,t){if("3d"!==(null==t?void 0:t.type)||!e||"esri.Graphic"!==e.declaredClass)return!0;var r=t.getViewForGraphic(e);if(r&&"whenGraphicBounds"in r){var n=!1;return r.whenGraphicBounds(e,{useViewElevation:!0}).then((function(e){n=!e||!e.boundingBox||e.boundingBox[0]===e.boundingBox[3]&&e.boundingBox[1]===e.boundingBox[4]&&e.boundingBox[2]===e.boundingBox[5]})).catch((function(){var t=new(0,C.default)("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:e});wo.error(t)})),n}return!0}function To(){return To=_.default(n(S).mark((function e(t){var r,i,a,o,s,l,u,c,f;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.location,i=t.selectedFeature,a=t.view,o=t.zoomFactor,s=So(t)){e.next=4;break}return l=new(0,C.default)("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:s,view:a}),e.abrupt("return",(wo.error(l),Promise.reject(l)));case 4:return u=a.scale/o,c=t.get("selectedFeature.geometry")||r,f=c&&"point"===c.type&&ko(i,a),mo.active=!0,mo.disabled=!0,e.prev=6,e.next=9,t.view.goTo({target:s,scale:f?u:void 0});case 9:return e.prev=9,mo.active=!1,mo.disabled=!1,t.zoomToLocation=null,f&&(t.location=c),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[6,,9,12]])}))),To.apply(this,arguments)}function Eo(){return Eo=_.default(n(S).mark((function e(t){var r,i,a,o,s,l,u,c,f;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.selectedFeature,"2d"===(null==(i=t.view)?void 0:i.type)){e.next=4;break}throw a=new(0,C.default)("zoomToCluster:invalid-view","View must be 2d MapView.",{view:i}),wo.error(a),a;case 4:if(r.isAggregate){e.next=7;break}throw o=new(0,C.default)("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:r}),wo.error(o),o;case 7:return s=r.sourceLayer,e.next=10,i.whenLayerView(s);case 10:return l=e.sent,(u=l.createQuery()).aggregateIds=[r.getObjectId()],bo.active=!0,bo.disabled=!0,e.next=15,l.queryExtent(u);case 15:return c=e.sent,f=c.extent,e.next=19,i.goTo({target:f});case 19:bo.active=!1,bo.disabled=!1;case 21:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function Io(e){return Co.apply(this,arguments)}function Co(){return(Co=_.default(n(S).mark((function e(t){var r,i,a,o,s,l,u,c,f;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.selectedFeature,"2d"===(null==(i=t.view)?void 0:i.type)){e.next=4;break}throw a=new(0,C.default)("displayClusterExtent:invalid-view","View must be 2d MapView.",{view:i}),wo.error(a),a;case 4:if(r.isAggregate){e.next=7;break}throw o=new(0,C.default)("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:r}),wo.error(o),o;case 7:return s=r.sourceLayer,e.next=10,i.whenLayerView(s);case 10:return l=e.sent,(u=l.createQuery()).aggregateIds=[r.getObjectId()],e.next=15,l.queryExtent(u);case 15:c=e.sent,f=c.extent,t.selectedClusterBoundaryFeature.geometry=f,i.graphics.add(t.selectedClusterBoundaryFeature);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oo(e){return Lo.apply(this,arguments)}function Lo(){return Lo=_.default(n(S).mark((function e(t){var r,i,a,o,s,l,u,c,f;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.selectedFeature,"2d"===(null==(i=t.view)?void 0:i.type)){e.next=4;break}throw a=new(0,C.default)("browseAggregateFeatures:invalid-view","View must be 2d MapView.",{view:i}),wo.error(a),a;case 4:if(r.isAggregate){e.next=7;break}throw o=new(0,C.default)("browseAggregateFeatures:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:r}),wo.error(o),o;case 7:return s=r.sourceLayer,e.next=10,i.whenLayerView(s);case 10:return l=e.sent,(u=l.createQuery()).aggregateIds=[r.getObjectId()],_o.active=!0,_o.disabled=!0,e.next=15,l.queryFeatures(u);case 15:c=e.sent,f=c.features,_o.active=!1,_o.disabled=!1,i.popup.open({features:[r].concat(f),featureMenuOpen:!0});case 18:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),De=s("5Vgx8"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Ao=function(e){var t=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a;return d.default(this,r),(a=t.call.apply(t,[this].concat(De.default(n)))).goToOverride=null,a.view=null,h.default(a)}return y.default(r,[{key:"callGoTo",value:function(e){var t=this.view;return this.goToOverride?this.goToOverride(t,e):t.goTo(e.target,e.options)}}]),r}(e);return(0,v._)([(0,P.property)()],t.prototype,"goToOverride",void 0),(0,v._)([(0,P.property)()],t.prototype,"view",void 0),t=(0,v._)([(0,j.subclass)("esri.widgets.support.GoTo")],t)},Mo=s("SVQ32"),No=(Re=s("d1Fqh"),T.default.ofType({key:"type",defaultKeyValue:"button",base:Ya.default,typeMap:{button:Za.default,toggle:Qa.default}})),Ro="esri.widgets.Popup.PopupViewModel",Po=N.default.getLogger(Ro),Fo=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._handles=new(0,Ve.default),n._pendingPromises=new Set,n._fetchFeaturesController=null,n._selectedClusterFeature=null,n.featurePage=null,n.actions=new No,n.defaultPopupTemplateEnabled=!1,n.autoCloseEnabled=!1,n.autoOpenEnabled=!0,n.browseClusterEnabled=!1,n.content=null,n.featuresPerPage=20,n.featureViewModelAbilities=null,n.featureViewModels=[],n.highlightEnabled=!0,n.includeDefaultActions=!0,n.selectedClusterBoundaryFeature=new(0,Te.default)({symbol:new(0,Mo.default)({outline:{width:1.5,color:"cyan"},style:"none"})}),n.title=null,n.updateLocationEnabled=!1,n.view=null,n.visible=!1,n.zoomFactor=4,n.zoomToLocation=null,h.default(n)}return y.default(r,[{key:"isLoadingFeature",get:function(){return this.featureViewModels.some((function(e){return e.waitingForContent}))}},{key:"initialize",value:function(){var e=this;this._handles.add([(0,Qe.init)(this,["autoOpenEnabled","view"],(function(){return e._autoOpenEnabledChange()})),this.on("view-change",(function(){return e._autoClose()})),(0,Qe.watch)(this,["highlightEnabled","selectedFeature","visible","view"],(function(){return e._highlightFeature()})),(0,Qe.watch)(this,"view.animation.state",(function(t){return e._animationStateChange(t)})),(0,Qe.watch)(this,"location",(function(t){return e._locationChange(t)})),(0,Qe.watch)(this,"selectedFeature",(function(t){return e._selectedFeatureChange(t)})),(0,Qe.watch)(this,["selectedFeatureIndex","featureCount","featuresPerPage"],(function(){return e._selectedFeatureIndexChange()})),(0,Qe.watch)(this,["featurePage","selectedFeatureIndex","featureCount","featuresPerPage, featureViewModels"],(function(){return e._setGraphicOnFeatureViewModels()})),(0,Qe.watch)(this,"featureViewModels",(function(){return e._featureViewModelsChange()})),this.on("trigger-action",(function(t){return xo({event:t,view:e.view})})),(0,Qe.whenFalse)(this,"waitingForResult",(function(){return e._waitingForResultChange()}),!0),(0,Qe.watch)(this,["features","view","view.map","view.spatialReference"],(function(){return e._updateFeatureVMs()})),(0,Qe.watch)(this,["view.scale"],this._viewScaleChange),(0,Qe.whenFalse)(this,"visible",(function(){return e.browseClusterEnabled=!1})),(0,Qe.watch)(this,"browseClusterEnabled",(function(t){return t?e.enableClusterBrowsing():e.disableClusterBrowsing()}))])}},{key:"destroy",value:function(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}},{key:"active",get:function(){return!(!this.visible||this.waitingForResult)}},{key:"allActions",get:function(){var e=this._get("allActions")||new No;e.removeAll();var t=this,r=t.actions,n=t.defaultActions,i=t.defaultPopupTemplateEnabled,a=t.includeDefaultActions,o=t.selectedFeature,s=a?n.concat(r):r,l=o&&("function"==typeof o.getEffectivePopupTemplate&&o.getEffectivePopupTemplate(i)||o.popupTemplate),u=l&&l.actions,c=l&&l.overwriteActions?u:u?u.concat(s):s;return c&&c.filter(Boolean).forEach((function(t){return e.add(t)})),e}},{key:"defaultActions",get:function(){var e,t=this._get("defaultActions")||new No;return t.removeAll(),t.addMany(null!=(e=this.selectedFeature)&&e.isAggregate?[bo.clone(),_o.clone()]:[mo.clone()]),t}},{key:"featureCount",get:function(){return this.features.length}},{key:"features",get:function(){return this._get("features")||[]},set:function(e){var t=e||[];this._set("features",t);var r=this,n=r.pendingPromisesCount,i=r.promiseCount,a=r.selectedFeatureIndex,o=i&&t.length;o&&n&&-1===a?this.selectedFeatureIndex=0:o&&-1!==a||(this.selectedFeatureIndex=t.length?0:-1)}},{key:"location",get:function(){return this._get("location")||null},set:function(e){var t=this.get("view.spatialReference.isWebMercator");e&&e.get("spatialReference.isWGS84")&&t&&(e=(0,Ka.geographicToWebMercator)(e)),this._set("location",e)}},{key:"pendingPromisesCount",get:function(){return this._pendingPromises.size}},{key:"waitingForResult",get:function(){return!(!(this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}},{key:"promiseCount",get:function(){return this.promises.length}},{key:"promises",get:function(){return this._get("promises")||[]},set:function(e){var t=this;if(this._pendingPromises.clear(),this.features=[],!Array.isArray(e)||!e.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",e),(e=e.slice(0)).forEach((function(e){var r=t;t._pendingPromises.add(e);e.then((function(t){r._pendingPromises.has(e)&&r._updateFeatures(t),r._updatePendingPromises(e)}),(function(){return r._updatePendingPromises(e)}))})),this.notifyChange("pendingPromisesCount")}},{key:"selectedFeature",get:function(){var e=this.features,t=this.selectedFeatureIndex;return-1===t?null:e[t]||null}},{key:"selectedFeatureIndex",get:function(){var e=this._get("selectedFeatureIndex");return"number"==typeof e?e:-1},set:function(e){var t=this.featureCount;e=isNaN(e)||e<-1||!t?-1:(e+t)%t,this._set("selectedFeatureIndex",e)}},{key:"selectedFeatureViewModel",get:function(){return this.featureViewModels[this.selectedFeatureIndex]||null}},{key:"state",get:function(){return this.get("view.ready")?"ready":"disabled"}},{key:"centerAtLocation",value:function(){var e=this.view,t=So(this);if(!t){var r=new(0,C.default)("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:t,view:e});return Po.error(r),Promise.reject(r)}return this.callGoTo({target:{target:t,scale:e.scale}})}},{key:"clear",value:function(){this.set({promises:[],features:[],content:null,title:null,location:null})}},{key:"fetchFeatures",value:function(e,t){var r=this.view;if(!r||!e){var n=new(0,C.default)("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:e,view:r});return Po.error(n),Promise.reject(n)}return r.fetchPopupFeatures(e,{event:t&&t.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:t&&t.signal})}},{key:"open",value:function(e){var t=b.default({updateLocationEnabled:!1,promises:[],fetchFeatures:!1},e,{visible:!0}),r=t.fetchFeatures;delete t.fetchFeatures,r&&this._setFetchFeaturesPromises(t.location);var n=!0,i=!1,a=void 0;try{for(var o,s=["actionsMenuOpen","collapsed","featureMenuOpen"][Symbol.iterator]();!(n=(o=s.next()).done);n=!0){delete t[o.value]}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}this.set(t)}},{key:"triggerAction",value:function(e){var t=this.allActions.getItemAt(e);t&&!t.disabled&&this.emit("trigger-action",{action:t})}},{key:"next",value:function(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}},{key:"previous",value:function(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}},{key:"disableClusterBrowsing",value:function(){var e,t;null!=(t=(e=this).selectedFeature)&&t.isAggregate&&(e.features=e.features.filter((function(e){return e.isAggregate}))),this._clearBrowsedClusterGraphics()}},{key:"enableClusterBrowsing",value:function(){var e=this;return _.default(n(S).mark((function t(){return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Io(e);case 2:return t.next=4,Oo(e);case 4:case"end":return t.stop()}}),t)})))()}},{key:"_animationStateChange",value:function(e){this.zoomToLocation||(mo.disabled="waiting-for-target"===e)}},{key:"_clearBrowsedClusterGraphics",value:function(){var e,t=null==(e=this.view)?void 0:e.graphics;t&&(t.remove(this.selectedClusterBoundaryFeature),t.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}},{key:"_viewScaleChange",value:function(){var e;if(null!=(e=this.selectedFeature)&&e.isAggregate)return this.browseClusterEnabled=!1,this.visible=!1,void this.clear();this.browseClusterEnabled&&(this.browseClusterEnabled=!1,this.features=[this.selectedFeature])}},{key:"_locationChange",value:function(e){var t=this.selectedFeature;this.updateLocationEnabled&&e&&(!t||t.geometry)&&this.centerAtLocation()}},{key:"_selectedFeatureIndexChange",value:function(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}},{key:"_featureViewModelsChange",value:function(){this.featurePage=this.featureCount>1?1:null}},{key:"_setGraphicOnFeatureViewModels",value:function(){var e=this,t=e.features,r=e.featureCount,n=e.featurePage,i=e.featuresPerPage,a=e.featureViewModels;if(null!==n){var o=((n-1)*i+r)%r,s=o+i;a.slice(o,s).forEach((function(e,r){e&&!e.graphic&&(e.graphic=t[o+r])}))}}},{key:"_selectedFeatureChange",value:function(e){var t=this;return _.default(n(S).mark((function r(){var i,a,o;return n(S).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return");case 2:if(i=t.location,a=t.updateLocationEnabled,o=t.view,!t.browseClusterEnabled){r.next=11;break}if(t._selectedClusterFeature&&(o.graphics.remove(t._selectedClusterFeature),t._selectedClusterFeature=null),!e.isAggregate){r.next=6;break}return r.abrupt("return");case 6:return r.next=8,co(e);case 8:return e.symbol=r.sent,t._selectedClusterFeature=e,r.abrupt("return",void o.graphics.add(t._selectedClusterFeature));case 11:!a&&i||!e.geometry?a&&!e.geometry&&t.centerAtLocation().then((function(){t.location=o.center.clone()})):t.location=(0,Z.unwrap)(t._getPointFromGeometry(e.geometry));case 12:case"end":return r.stop()}}),r)})))()}},{key:"_waitingForResultChange",value:function(){!this.featureCount&&this.promises&&(this.visible=!1)}},{key:"_setFetchFeaturesPromises",value:function(e){var t=this;return this._fetchFeaturesWithController(this._getScreenPoint(e||this.location)).then((function(e){var r=e.clientOnlyGraphics,n=e.promisesPerLayerView,i=Promise.resolve(r),a=n.map((function(e){return e.promise}));t.promises=[i].concat(De.default(a))}))}},{key:"_destroyFeatureVMs",value:function(){this.featureViewModels.forEach((function(e){return e&&!e.destroyed&&e.destroy()})),this._set("featureViewModels",[])}},{key:"_updateFeatureVMs",value:function(){var e=this,t=this,r=t.selectedFeature,n=t.features,i=t.featureViewModels;if(null!=r&&r.isAggregate||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),n&&n.length){var a=i.slice(0),o=[];n.forEach((function(t,n){if(t){var i=null;if(a.some((function(e,r){return e&&e.graphic===t&&(i=e,a.splice(r,1)),!!i})),i)o[n]=i;else{var s,l,u=new Sa({abilities:e.featureViewModelAbilities,defaultPopupTemplateEnabled:e.defaultPopupTemplateEnabled,spatialReference:null==(s=e.view)?void 0:s.spatialReference,graphic:t===r?t:null,map:null==(l=e.view)?void 0:l.map,view:e.view});o[n]=u}}})),a.forEach((function(e){return e&&!e.destroyed&&e.destroy()})),this._set("featureViewModels",o)}}},{key:"_getScreenPoint",value:function(e){var t=this.view;return t&&e&&"function"==typeof t.toScreen?t.toScreen(e):null}},{key:"_autoOpenEnabledChange",value:function(){var e="auto-fetch-features",t=this._handles,r=this.autoOpenEnabled;if(t.remove(e),r&&this.view){var n=this,i=this.view.on("click",(function(e){"mouse"===e.pointerType&&0!==e.button||n._fetchFeaturesAndOpen(e)}),po.ViewEventPriorities.WIDGET);t.add(i,e)}}},{key:"_cancelFetchingFeatures",value:function(){var e=this._fetchFeaturesController;e&&e.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}},{key:"_fetchFeaturesWithController",value:function(e,t){var r=this;this._cancelFetchingFeatures();var n=new AbortController,i=n.signal;this._fetchFeaturesController=n,this.notifyChange("waitingForResult");var a=this.fetchFeatures(e,{signal:i,event:t});return a.catch((function(){})).then((function(){r._fetchFeaturesController=null,r.notifyChange("waitingForResult")})),a}},{key:"_fetchFeaturesAndOpen",value:function(e){var t=e.screenPoint,r=e.mapPoint,n=this.view;this._fetchFeaturesWithController(t,e).then((function(e){var t=e.clientOnlyGraphics,i=e.promisesPerLayerView,a=e.location,o=[Promise.resolve(t)].concat(De.default(i.map((function(e){return e.promise}))));return n.popup.open({location:a||r,promises:o}),e}))}},{key:"_updatePendingPromises",value:function(e){e&&this._pendingPromises.has(e)&&(this._pendingPromises.delete(e),this.notifyChange("pendingPromisesCount"))}},{key:"_autoClose",value:function(){this.autoCloseEnabled&&(this.visible=!1)}},{key:"_getPointFromGeometry",value:function(e){return(0,Z.isNone)(e)?null:"point"===e.type?e:"extent"===e.type?e.center:"polygon"===e.type?e.centroid:"multipoint"===e.type||"polyline"===e.type?e.extent.center:null}},{key:"_getLayerView",value:function(e,t){return _.default(n(S).mark((function r(){return n(S).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.when();case 2:return r.abrupt("return",(r.sent,e.whenLayerView(t)));case 3:case"end":return r.stop()}}),r)})))()}},{key:"_highlightFeature",value:function(){var e=this;return _.default(n(S).mark((function t(){var r,i,a,o,s,l,u,c,f,p,d,h,y;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r="highlight",e._handles.remove(r),i=e.selectedFeature,a=e.highlightEnabled,o=e.view,s=e.visible,i&&o&&a&&s){t.next=5;break}return t.abrupt("return");case 5:if(l=i.layer,"map-notes"!==(null==(u=i.sourceLayer)?void 0:u.type)&&"subtype-group"!==(null==u?void 0:u.type)||(l=u),l&&l instanceof $a.default){t.next=8;break}return t.abrupt("return");case 8:return c=e._getLayerView(o,l),e._highlightPromise=c,t.next=12,c;case 12:if((f=t.sent)&&((n=f)&&"function"==typeof n.highlight)&&e._highlightPromise===c&&e.selectedFeature&&e.highlightEnabled&&e.visible){t.next=15;break}return t.abrupt("return");case 15:p="imagery"===l.type?void 0:"objectIdField"in l&&l.objectIdField,d=i.attributes,h=d&&p&&d[p],y=f.highlight(h||i),e._handles.add(y,r);case 17:case"end":return t.stop()}var n}),t)})))()}},{key:"_updateFeatures",value:function(e){var t=this.features;if(e&&e.length)if(t.length){var r=e.filter((function(e){return-1===t.indexOf(e)}));this.features=t.concat(r)}else this.features=e}}]),r}(Ao(Ba));(0,v._)([(0,P.property)()],Fo.prototype,"featurePage",void 0),(0,v._)([(0,P.property)()],Fo.prototype,"isLoadingFeature",null),(0,v._)([(0,P.property)({type:No})],Fo.prototype,"actions",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Fo.prototype,"active",null),(0,v._)([(0,P.property)({readOnly:!0})],Fo.prototype,"allActions",null),(0,v._)([(0,P.property)({type:Boolean})],Fo.prototype,"defaultPopupTemplateEnabled",void 0),(0,v._)([(0,P.property)()],Fo.prototype,"autoCloseEnabled",void 0),(0,v._)([(0,P.property)()],Fo.prototype,"autoOpenEnabled",void 0),(0,v._)([(0,P.property)()],Fo.prototype,"browseClusterEnabled",void 0),(0,v._)([(0,P.property)()],Fo.prototype,"content",void 0),(0,v._)([(0,P.property)({type:No,readOnly:!0})],Fo.prototype,"defaultActions",null),(0,v._)([(0,P.property)({readOnly:!0})],Fo.prototype,"featureCount",null),(0,v._)([(0,P.property)()],Fo.prototype,"features",null),(0,v._)([(0,P.property)()],Fo.prototype,"featuresPerPage",void 0),(0,v._)([(0,P.property)()],Fo.prototype,"featureViewModelAbilities",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Fo.prototype,"featureViewModels",void 0),(0,v._)([(0,P.property)()],Fo.prototype,"highlightEnabled",void 0),(0,v._)([(0,P.property)()],Fo.prototype,"includeDefaultActions",void 0),(0,v._)([(0,P.property)({type:Re.default})],Fo.prototype,"location",null),(0,v._)([(0,P.property)({readOnly:!0})],Fo.prototype,"pendingPromisesCount",null),(0,v._)([(0,P.property)({readOnly:!0})],Fo.prototype,"selectedClusterBoundaryFeature",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Fo.prototype,"waitingForResult",null),(0,v._)([(0,P.property)({readOnly:!0})],Fo.prototype,"promiseCount",null),(0,v._)([(0,P.property)()],Fo.prototype,"promises",null),(0,v._)([(0,P.property)({value:null,readOnly:!0})],Fo.prototype,"selectedFeature",null),(0,v._)([(0,P.property)({value:-1})],Fo.prototype,"selectedFeatureIndex",null),(0,v._)([(0,P.property)({readOnly:!0})],Fo.prototype,"selectedFeatureViewModel",null),(0,v._)([(0,P.property)({readOnly:!0})],Fo.prototype,"state",null),(0,v._)([(0,P.property)()],Fo.prototype,"title",void 0),(0,v._)([(0,P.property)()],Fo.prototype,"updateLocationEnabled",void 0),(0,v._)([(0,P.property)()],Fo.prototype,"view",void 0),(0,v._)([(0,P.property)()],Fo.prototype,"visible",void 0),(0,v._)([(0,P.property)()],Fo.prototype,"zoomFactor",void 0),(0,v._)([(0,P.property)()],Fo.prototype,"zoomToLocation",void 0),(0,v._)([(0,P.property)()],Fo.prototype,"centerAtLocation",null);var jo=Fo=(0,v._)([(0,j.subclass)(Ro)],Fo),Do=s("9FnE2"),Uo=(fr=s("dKwUH"),s("4S8Bn")),Vo=(pr=s("yibdR"),cr=s("6zpox"),Ta=s("aBds0"),"selected-index"),Bo="popup-spinner",Ho="esri-icon-left-triangle-arrow",zo="esri-icon-right-triangle-arrow",Wo="esri-icon-maximize",Go="esri-icon-dock-bottom",Jo="esri-icon-dock-left",qo="esri-icon-dock-right",Xo="esri-icon-close",Ko="esri-icon-minimize",$o="esri-icon-check-mark",Yo="esri-icon-loading-indicator",Zo="esri-icon-default-action",Qo="esri-icon-handle-horizontal",es="esri-rotating",ts="esri-popup",rs="esri-widget",ns="esri-popup__main-container",is="esri-popup__loading-container",as="esri-popup--is-collapsible",os="esri-popup--is-collapsed",ss="esri-popup--shadow",ls="esri-popup--is-docked",us="esri-popup--is-docked-top-left",cs="esri-popup--is-docked-top-center",fs="esri-popup--is-docked-top-right",ps="esri-popup--is-docked-bottom-left",ds="esri-popup--is-docked-bottom-center",hs="esri-popup--is-docked-bottom-right",ys="esri-popup--aligned-top-center",vs="esri-popup--aligned-bottom-center",ms="esri-popup--aligned-top-left",gs="esri-popup--aligned-bottom-left",bs="esri-popup--aligned-top-right",_s="esri-popup--aligned-bottom-right",ws="esri-popup--feature-menu-open",xs="esri-popup--actions-menu-open",Ss="esri-popup--feature-updated",ks="esri-popup__header",Ts="esri-popup__header-buttons",Es="esri-popup__header-container",Is="esri-popup__header-container--button",Cs="esri-popup__header-title",Os="esri-popup__content",Ls="esri-popup__footer",As="esri-popup__footer--has-pagination",Ms="esri-popup__footer--has-actions",Ns="esri-popup__footer--has-actions-menu",Rs="esri-popup__button",Ps="esri-popup__button--disabled",Fs="esri-popup__button--dock",js="esri-popup__icon",Ds="esri-popup__icon--dock-icon",Us="esri-popup__inline-actions-container",Vs="esri-popup__actions-menu-button",Bs="esri-popup__actions",Hs="esri-popup__action",zs="esri-popup__action-image",Ws="esri-popup__action-text",Gs="esri-popup__action-toggle",Js="esri-popup__action-toggle--on",qs="esri-popup__pointer",Xs="esri-popup__pointer-direction",Ks="esri-popup__navigation",$s="esri-popup__pagination-previous",Ys="esri-popup__pagination-next",Zs="esri-popup__pagination-previous-icon",Qs="esri-popup__pagination-previous-icon--rtl",el="esri-popup__pagination-next-icon",tl="esri-popup__pagination-next-icon--rtl",rl="esri-popup__feature-menu",nl="esri-popup__feature-menu-list",il="esri-popup__feature-menu-item",al="esri-popup__feature-menu-viewport",ol="esri-popup__feature-menu-header",sl="esri-popup__feature-menu-item--selected",ll="esri-popup__feature-menu-button",ul="esri-popup__feature-menu-title",cl="esri-popup__feature-menu-observer",fl="esri-popup__feature-menu-loader",pl={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},dl="esri-popup";function hl(e,t){return void 0===t?"".concat(dl,"__").concat(e):"".concat(dl,"__").concat(e,"-").concat(t)}var yl="esri.widgets.Popup",vl=N.default.getLogger(yl),ml={closeButton:!0,featureNavigation:!0},gl=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n))._blurClose=!1,i._blurContainer=!1,i._containerNode=null,i._mainContainerNode=null,i._featureMenuNode=null,i._actionsMenuNode=null,i._focusClose=!1,i._focusContainer=!1,i._focusDockButton=!1,i._focusFeatureMenuButton=!1,i._focusActionsMenuButton=!1,i._focusFirstFeature=!1,i._focusFirstAction=!1,i._handles=new(0,Ve.default),i._pointerOffsetInPx=16,i._spinner=null,i._feature=null,i._featureMenuIntersectionObserverCallback=function(e){var t=te.default(e,1)[0];null!=t&&t.isIntersecting&&i.viewModel.featurePage++},i._featureMenuIntersectionObserver=new IntersectionObserver(i._featureMenuIntersectionObserverCallback,{root:window.document}),i._displaySpinnerThrottled=(0,Ze.throttle)((function(){return i._displaySpinner()}),0),i.actions=null,i.alignment="auto",i.autoCloseEnabled=null,i.autoOpenEnabled=null,i.defaultPopupTemplateEnabled=null,i.content=null,i.collapsed=!1,i.collapseEnabled=!0,i.dockEnabled=!1,i.featureCount=null,i.featureMenuOpen=!1,i.features=null,i.goToOverride=null,i.headingLevel=2,i.highlightEnabled=null,i.location=null,i.label=void 0,i.maxInlineActions=3,i.messages=null,i.messagesCommon=null,i.promises=null,i.selectedFeature=null,i.selectedFeatureIndex=null,i.spinnerEnabled=!0,i.title=null,i.updateLocationEnabled=null,i.view=null,i.viewModel=new jo,i.visible=null,i.visibleElements=b.default({},ml),i._addSelectedFeatureIndexHandle(),i.own([(0,Qe.watch)(g.default(i),"viewModel.screenLocation",(function(){return i._positionContainer()})),(0,Qe.watch)(g.default(i),["viewModel.active","dockEnabled"],(function(){return i._toggleScreenLocationEnabled()})),(0,Qe.watch)(g.default(i),"viewModel.screenLocation",(function(e,t){!!e!=!!t&&i.reposition()})),(0,Qe.watch)(g.default(i),["viewModel.view.padding","viewModel.view.size","viewModel.active","viewModel.location","alignment"],(function(){return i.reposition()})),(0,Qe.watch)(g.default(i),"spinnerEnabled",(function(e){return i._spinnerEnabledChange(e)})),(0,Qe.watch)(g.default(i),"viewModel.view.size",(function(e,t){return i._updateDockEnabledForViewSize(e,t)})),(0,Qe.watch)(g.default(i),"viewModel.view",(function(e,t){return i._viewChange(e,t)})),(0,Qe.watch)(g.default(i),"viewModel.view.ready",(function(e,t){return i._viewReadyChange(e,t)})),(0,Qe.watch)(g.default(i),["viewModel.waitingForResult","viewModel.location"],(function(){i._hideSpinner(),i._displaySpinnerThrottled()})),(0,Qe.watch)(g.default(i),["selectedFeatureWidget.viewModel.title","selectedFeatureWidget.viewModel.state"],(function(){return i._setTitleFromFeatureWidget()})),(0,Qe.watch)(g.default(i),["selectedFeatureWidget.viewModel.content","selectedFeatureWidget.viewModel.state"],(function(){return i._setContentFromFeatureWidget()})),(0,Qe.whenFalse)(g.default(i),"collapsed",(function(){var e,t;"xsmall"===(null==(e=i.viewModel)||null==(t=e.view)?void 0:t.widthBreakpoint)&&i.viewModel.active&&i.collapseEnabled&&i.viewModel.centerAtLocation()})),(0,Qe.on)(g.default(i),"viewModel.allActions","change",(function(){return i._watchActions()})),(0,Qe.init)(g.default(i),"viewModel.allActions",(function(){return i._watchActions()})),(0,Qe.watch)(g.default(i),"viewModel.featureViewModels",(function(){return i._featureMenuViewportScrollTop()}))]),h.default(i)}return y.default(r,[{key:"destroy",value:function(){var e,t;this._destroySelectedFeatureWidget(),this._destroySpinner(),null==(e=this._handles)||e.destroy(),this._unobserveFeatureMenuObserver(),null==(t=this._featureMenuIntersectionObserver)||t.disconnect(),this._handles=null}},{key:"actionsMenuId",get:function(){return"".concat(this.id,"-actions-menu")}},{key:"actionsMenuButtonId",get:function(){return"".concat(this.id,"-actions-menu-button")}},{key:"featureMenuId",get:function(){return"".concat(this.id,"-feature-menu")}},{key:"titleId",get:function(){return"".concat(this.id,"-popup-title")}},{key:"contentId",get:function(){return"".concat(this.id,"-popup-content")}},{key:"hasContent",get:function(){var e,t,r,n,i,a,o;return!!(this.selectedFeatureWidget?(null==(e=this.selectedFeatureWidget)||null==(t=e.viewModel)?void 0:t.waitingForContent)||"error"===(null==(r=this.selectedFeatureWidget)||null==(n=r.viewModel)?void 0:n.state)||(null==(i=this.selectedFeatureWidget)||null==(a=i.viewModel)?void 0:a.content):null==(o=this.viewModel)?void 0:o.content)}},{key:"featureNavigationVisible",get:function(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}},{key:"collapsible",get:function(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}},{key:"featureMenuVisible",get:function(){return this.featureNavigationVisible&&this.featureMenuOpen}},{key:"contentCollapsed",get:function(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}},{key:"dividedActions",get:function(){return this._divideActions()}},{key:"actionsMenuOpen",get:function(){return!!this.viewModel.active&&this._get("actionsMenuOpen")},set:function(e){this._set("actionsMenuOpen",!!e)}},{key:"currentAlignment",get:function(){return this._getCurrentAlignment()}},{key:"currentDockPosition",get:function(){return this._getCurrentDockPosition()}},{key:"dockOptions",get:function(){return this._get("dockOptions")||pl},set:function(e){var t=b.default({},pl),r=this.get("viewModel.view.breakpoints"),n={};r&&(n.width=r.xsmall,n.height=r.xsmall);var i=b.default({},t,e),a=b.default({},t.breakpoint,n),o=i.breakpoint;!0===o?i.breakpoint=a:"object"==typeof o&&(i.breakpoint=b.default({},a,o)),this._set("dockOptions",i),this._setCurrentDockPosition(),this.reposition()}},{key:"selectedFeatureWidget",get:function(){var e=this,t=e._feature,r=e.visibleElements,n=e.headingLevel,i=this.viewModel.selectedFeatureViewModel,a=b.default({},r,{title:!1});return i?(t?(t.viewModel=i,t.visibleElements=a):this._feature=new Ua({headingLevel:n+1,viewModel:i,visibleElements:a}),this._feature):null}},{key:"castVisibleElements",value:function(e){return b.default({},ml,e)}},{key:"blur",value:function(){this.viewModel.active||vl.warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}},{key:"clear",value:function(){this.viewModel.clear()}},{key:"close",value:function(){this.visible=!1}},{key:"fetchFeatures",value:function(e,t){return this.viewModel.fetchFeatures(e,t)}},{key:"focus",value:function(){this.viewModel.active||vl.warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}},{key:"next",value:function(){return this.viewModel.next()}},{key:"open",value:function(e){var t,r;this._handles.remove(Vo);var n=!!e&&!!e.featureMenuOpen,i=!!e&&!!e.actionsMenuOpen,a={collapsed:!!e&&!!e.collapsed,actionsMenuOpen:i,featureMenuOpen:n};"xsmall"===(null==(t=this.viewModel)||null==(r=t.view)?void 0:r.widthBreakpoint)&&(a.collapsed=!0),this.set(a),this.viewModel.open(e),this._shouldFocus(e),this._addSelectedFeatureIndexHandle()}},{key:"previous",value:function(){return this.viewModel.previous()}},{key:"reposition",value:function(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}},{key:"triggerAction",value:function(e){this.viewModel.triggerAction(e)}},{key:"render",value:function(){var e,t,r,n,i,a=this,o=a.actionsMenuOpen,s=a.dockEnabled,l=a.featureMenuVisible,u=a.dividedActions,c=a.currentAlignment,f=a.currentDockPosition,p=this.viewModel.active,d=u.menuActions,h=p&&d.length>1&&o,y=p&&s,v=p&&!s,m=null==(e=this.selectedFeature)||null==(t=e.layer)?void 0:t.title,g=null==(r=this.selectedFeature)||null==(n=r.layer)?void 0:n.id,b=(i={},$e.default(i,ys,"top-center"===c),$e.default(i,vs,"bottom-center"===c),$e.default(i,ms,"top-left"===c),$e.default(i,gs,"bottom-left"===c),$e.default(i,bs,"top-right"===c),$e.default(i,_s,"bottom-right"===c),$e.default(i,ls,y),$e.default(i,ss,v),$e.default(i,us,"top-left"===f),$e.default(i,cs,"top-center"===f),$e.default(i,fs,"top-right"===f),$e.default(i,ps,"bottom-left"===f),$e.default(i,ds,"bottom-center"===f),$e.default(i,hs,"bottom-right"===f),$e.default(i,ws,l),$e.default(i,xs,h),i);return(0,pr.tsx)("div",{class:this.classes(ts,b),role:"presentation","data-layer-title":m,"data-layer-id":g,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},p?[this.renderMainContainer(),this.renderPointer()]:null)}},{key:"renderLoadingIcon",value:function(){return(0,pr.tsx)("span",{"aria-hidden":"true",class:this.classes(js,Yo,es)})}},{key:"renderNavigationLoading",value:function(){var e=this.messagesCommon;return this.viewModel.pendingPromisesCount?(0,pr.tsx)("div",{key:hl("loading-container"),role:"presentation",class:is,"aria-label":e.loading,title:e.loading},this.renderLoadingIcon()):null}},{key:"renderPreviousIcon",value:function(){var e,t=(0,cr.isRTL)(this.container),r=(e={},$e.default(e,zo,t),$e.default(e,Qs,t),$e.default(e,Ho,!t),$e.default(e,Zs,!t),e);return(0,pr.tsx)("span",{"aria-hidden":"true",class:this.classes(js,r)})}},{key:"renderPreviousButton",value:function(){var e=this.messages;return(0,pr.tsx)("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(Rs,$s),"aria-label":e.previous,title:e.previous},this.renderPreviousIcon())}},{key:"renderNextIcon",value:function(){var e,t=(0,cr.isRTL)(this.container),r=(e={},$e.default(e,Ho,t),$e.default(e,tl,t),$e.default(e,zo,!t),$e.default(e,el,!t),e);return(0,pr.tsx)("span",{"aria-hidden":"true",class:this.classes(js,r)})}},{key:"renderNextButton",value:function(){var e=this.messages;return(0,pr.tsx)("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(Rs,Ys),"aria-label":e.next,title:e.next},this.renderNextIcon())}},{key:"renderFeatureMenuButton",value:function(){var e=this,t=e.featureMenuOpen,r=e.featureMenuId,n=e.messagesCommon,i=this.viewModel,a=i.featureCount,o=i.selectedFeatureIndex;return(0,pr.tsx)("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(Rs,ll),"aria-haspopup":"true","aria-controls":r,"aria-expanded":t.toString(),"aria-label":n.menu,title:n.menu},this._getPageText(a,o))}},{key:"renderNavigationButtons",value:function(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}},{key:"renderDockIcon",value:function(){var e,t=this.dockEnabled,r=this._wouldDockTo(),n=(e={},$e.default(e,Ko,t),$e.default(e,Ds,!t),$e.default(e,qo,!t&&("top-right"===r||"bottom-right"===r)),$e.default(e,Jo,!t&&("top-left"===r||"bottom-left"===r)),$e.default(e,Wo,!t&&"top-center"===r),$e.default(e,Go,!t&&"bottom-center"===r),e);return(0,pr.tsx)("span",{"aria-hidden":"true",class:this.classes(n,js)})}},{key:"renderDockButton",value:function(){var e,t,r,n=this.dockEnabled,i=this.messages,a=null==(e=this.viewModel)||null==(t=e.view)?void 0:t.widthBreakpoint,o=n?i.undock:i.dock;return"xsmall"!==a&&null!=(r=this.dockOptions)&&r.buttonEnabled?(0,pr.tsx)("div",{role:"button","aria-label":o,title:o,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(Rs,Fs)},this.renderDockIcon()):null}},{key:"renderTitle",value:function(){var e=this.viewModel.title,t=this,r=t.titleId,n=t.collapsible,i=t.contentCollapsed,a=t.messagesCommon,o=$e.default({},Is,n),s=(0,pr.tsx)(fn,{level:this.headingLevel,class:Cs,innerHTML:e}),l=n?(0,pr.tsx)("button",{key:"".concat(e,"--collapsible"),id:r,title:i?a.expand:a.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(Es,o),"aria-expanded":i?"false":"true",onclick:this._toggleCollapsed,type:"button"},s):(0,pr.tsx)("div",{key:e,id:r,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(Es,o)},s);return e?l:null}},{key:"renderCloseIcon",value:function(){return(0,pr.tsx)("span",{"aria-hidden":"true",class:this.classes(js,Xo)})}},{key:"renderCloseButton",value:function(){var e=this.visibleElements,t=this.messagesCommon;return e.closeButton?(0,pr.tsx)("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:Rs,"aria-label":t.close,title:t.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}},{key:"renderHeader",value:function(){return(0,pr.tsx)("header",{class:ks},this.renderTitle(),(0,pr.tsx)("div",{class:Ts},this.renderDockButton(),this.renderCloseButton()))}},{key:"renderContentContainer",value:function(){var e=this,t=e.contentId,r=e.hasContent,n=e.contentCollapsed,i=this.viewModel.content;return r&&!n?(0,pr.tsx)("article",{key:i,enterAnimation:this._createFeatureUpdatedAnimation(),id:t,class:Os},this.renderContent()):null}},{key:"renderActionsMenuButton",value:function(){var e=this,t=e.actionsMenuId,r=e.actionsMenuButtonId,n=e.actionsMenuOpen,i=e.dividedActions,a=e.messagesCommon,o=n?a.close:a.open;return i.menuActions.length?(0,pr.tsx)("div",{key:hl("actions-menu-button"),class:this.classes(Rs,Vs),role:"button",id:r,"aria-haspopup":"true","aria-controls":n?t:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":o,title:o},(0,pr.tsx)("span",{"aria-hidden":"true",class:Qo})):null}},{key:"renderMenuActions",value:function(){var e=this,t=this,r=t.actionsMenuId,n=t.actionsMenuButtonId,i=t.actionsMenuOpen,a=t.dividedActions.menuActions;return a.length&&i?(0,pr.tsx)("ul",{id:r,role:"menu","aria-labelledby":n,key:hl("actions"),class:Bs,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},a.toArray().map((function(t){return e.renderAction({action:t,type:"menu-item"})}))):null}},{key:"renderInlineActions",value:function(){var e=this,t=this.dividedActions.inlineActions;return!!t.length&&t.toArray().map((function(t){return e.renderAction({action:t,type:"inline"})}))}},{key:"renderInlineActionsContainer",value:function(){var e=this.dividedActions,t=e.inlineActions,r=e.menuActions,n=!!t.length,i=!!r.length;return n||i?(0,pr.tsx)("div",{key:"inline-actions-container","data-inline-actions":n.toString(),"data-menu-actions":i.toString(),class:Us},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}},{key:"renderNavigation",value:function(){return this.featureNavigationVisible?(0,pr.tsx)("section",{key:hl("navigation"),class:this.classes(Ks)},this.renderNavigationButtons()):null}},{key:"renderFooter",value:function(){var e,t=this.featureNavigationVisible,r=this.dividedActions,n=r.inlineActions,i=r.menuActions,a=!!n.length,o=!!i.length,s=(e={},$e.default(e,As,t),$e.default(e,Ms,a),$e.default(e,Ns,o),e);return t||a?(0,pr.tsx)("div",{key:hl("feature-buttons"),class:this.classes(Ls,s)},this.renderInlineActionsContainer(),this.renderNavigation()):null}},{key:"renderFeatureMenuContainer",value:function(){var e=this.messages,t=this.viewModel,r=t.featureViewModels,n=t.isLoadingFeature,i=(0,Ta.substitute)(e.selectedFeatures,{total:r.length});return(0,pr.tsx)("section",{key:hl("menu"),class:rl},(0,pr.tsx)("strong",{class:ol},i),(0,pr.tsx)("nav",{bind:this,class:al,"data-node-ref":"_featureMenuViewportNode",afterCreate:cr.storeNode},this.renderFeatureMenu(),(0,pr.tsx)("div",{class:cl,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),n?(0,pr.tsx)("div",{class:fl},this.renderLoadingIcon()):null))}},{key:"renderPointer",value:function(){return this.dockEnabled?null:(0,pr.tsx)("div",{key:hl("pointer"),class:qs,role:"presentation"},(0,pr.tsx)("div",{class:this.classes(Xs,ss)}))}},{key:"renderMainContainer",value:function(){var e,t=this,r=t.dockEnabled,n=t.currentAlignment,i=t.currentDockPosition,a=t.titleId,o=t.contentId,s=t.collapsible,l=t.hasContent,u=t.contentCollapsed,c=t.visibleElements,f=this.viewModel.title,p="bottom-left"===n||"bottom-center"===n||"bottom-right"===n||"top-left"===i||"top-center"===i||"top-right"===i,d="top-left"===n||"top-center"===n||"top-right"===n||"bottom-left"===i||"bottom-center"===i||"bottom-right"===i,h=(e={},$e.default(e,ss,r),$e.default(e,as,s),$e.default(e,os,u),e);return(0,pr.tsx)("div",{class:this.classes(ns,rs,h),tabIndex:c.closeButton?null:-1,role:"dialog","aria-labelledby":f?a:"","aria-describedby":l&&!u?o:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},p?this.renderFooter():null,p?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),d?this.renderFooter():null,d?this.renderFeatureMenuContainer():null)}},{key:"renderContent",value:function(){var e,t=null==(e=this.viewModel)?void 0:e.content;return t?"string"==typeof t?(0,pr.tsx)("div",{key:t,innerHTML:t}):this.renderNodeContent(t):null}},{key:"renderActionText",value:function(e){return(0,pr.tsx)("span",{key:"text",class:Ws},e)}},{key:"renderActionIcon",value:function(e){var t,r=this._getActionClass(e),n=this._getActionImage(e),i=(t={},$e.default(t,Yo,e.active),$e.default(t,es,e.active),$e.default(t,js,!!r),$e.default(t,zs,!e.active&&!!n),t);return r&&(i[r]=!e.active),(0,pr.tsx)("span",{key:"icon","aria-hidden":"true",class:this.classes(js,i),styles:this._getIconStyles(n)})}},{key:"renderAction",value:function(e){var t,r=e.action,n=e.type,i=this._getActionTitle(r),a=(t={},$e.default(t,Hs,"toggle"!==r.type),$e.default(t,Gs,"toggle"===r.type),$e.default(t,Js,"toggle"===r.type&&r.value),$e.default(t,Ps,r.disabled),t),o=[this.renderActionIcon(r),this.renderActionText(i)],s="menu-item"===n?(0,pr.tsx)("li",{key:r.uid,role:"menuitem",tabIndex:0,title:i,"aria-label":i,class:this.classes(Rs,a),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":r.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},o):(0,pr.tsx)("div",{key:r.uid,role:"button",tabIndex:0,title:i,"aria-label":i,class:this.classes(Rs,a),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":r.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},o);return r.visible?s:null}},{key:"renderFeatureMenuItem",value:function(e,t){var r=this.messages,n=this.messagesCommon,i=this.viewModel,a=i.selectedFeatureIndex,o=e===i.selectedFeatureViewModel,s=$e.default({},sl,o),l=o?(0,pr.tsx)("span",{key:hl("feature-menu-selected-feature-".concat(a)),title:r.selectedFeature,"aria-label":r.selectedFeature,class:$o}):null,u=(0,pr.tsx)("span",{innerHTML:e.title||n.untitled});return(0,pr.tsx)("li",{role:"menuitem",tabIndex:-1,key:hl("feature-menu-feature-".concat(a)),class:this.classes(s,il),bind:this,"data-feature-index":t,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},(0,pr.tsx)("span",{class:ul},u,l))}},{key:"renderFeatureMenu",value:function(){var e=this,t=this.featureMenuId,r=this.viewModel.featureViewModels;return r.length>1?(0,pr.tsx)("ol",{class:nl,id:t,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},r.filter((function(e){return!!e.graphic})).map((function(t,r){return e.renderFeatureMenuItem(t,r)}))):null}},{key:"_getActionTitle",value:function(e){var t=this,r=t.messages,n=t.selectedFeature,i=t.messagesCommon,a=e.id,o=null==n?void 0:n.attributes,s="zoom-to-feature"===a?(0,Ta.substitute)(e.title,{messages:r}):"remove-selected-feature"===a?(0,Ta.substitute)(e.title,{messages:i}):"zoom-to-clustered-features"===a||"browse-clustered-features"===a?(0,Ta.substitute)(e.title,{messages:r}):e.title;return s&&o?(0,Ta.substitute)(s,o):s}},{key:"_getActionClass",value:function(e){var t=this.selectedFeature,r=null==t?void 0:t.attributes,n=e.className,i=e.image||n?n:Zo;return i&&r?(0,Ta.substitute)(i,r):i}},{key:"_getActionImage",value:function(e){var t=this.selectedFeature,r=null==t?void 0:t.attributes,n=e.image;return n&&r?(0,Ta.substitute)(n,r):n}},{key:"_createFeatureUpdatedAnimation",value:function(){return(0,cr.cssTransition)("enter",Ss)}},{key:"_getInlineActionCount",value:function(){var e=this.maxInlineActions,t=this.featureNavigationVisible;if("number"!=typeof e)return null;var r=Math.round(e);return Math.max(t?r-1:r,0)}},{key:"_watchActions",value:function(){var e=this,t=this.viewModel.allActions;this.notifyChange("dividedActions");var r="actions";this._handles.remove(r),t&&t.forEach((function(t){var n=e;e._handles.add((0,Qe.watch)(t,["uid","active","className","disabled","id","title","image","visible"],(function(){return n.scheduleRender()})),r)}))}},{key:"_divideActions",value:function(){var e=this.viewModel.allActions.filter((function(e){return e.visible})),t=this._getInlineActionCount(),r=null===t,n=0===t;return{inlineActions:r?e.slice(0):n?new(0,T.default):e.slice(0,t),menuActions:r?new(0,T.default):n?e.slice(0):e.slice(t)}}},{key:"_featureMenuOpenChanged",value:function(e){e?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}},{key:"_actionsMenuOpenChanged",value:function(e){e?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}},{key:"_setTitleFromFeatureWidget",value:function(){var e,t,r=this.selectedFeatureWidget,n=this.messagesCommon;r&&(this.viewModel.title="error"===(null==(e=r.viewModel)?void 0:e.state)?n.errorMessage:(null==(t=r.viewModel)?void 0:t.title)||"")}},{key:"_setContentFromFeatureWidget",value:function(){var e=this.selectedFeatureWidget;e&&(this.viewModel.content=e)}},{key:"_unobserveFeatureMenuObserver",value:function(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}},{key:"_featureMenuIntersectionObserverCreated",value:function(e){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(e),this._featureMenuIntersectionObserverNode=e}},{key:"_handleFeatureMenuKeyup",value:function(e){"Escape"===(0,Ye.eventKey)(e)&&(e.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}},{key:"_handleActionMenuKeyup",value:function(e){"Escape"===(0,Ye.eventKey)(e)&&(e.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}},{key:"_handleFeatureMenuItemKeyup",value:function(e){var t=(0,Ye.eventKey)(e),r=this._featureMenuNode,n=e.currentTarget["data-feature-index"];if(r){var i=r.querySelectorAll("li"),a=i.length;"ArrowUp"!==t?"ArrowDown"!==t?"Home"!==t?"End"!==t||(e.stopPropagation(),i[i.length-1].focus()):(e.stopPropagation(),i[0].focus()):(e.stopPropagation(),i[(n+1+a)%a].focus()):(e.stopPropagation(),i[(n-1+a)%a].focus())}}},{key:"_handleActionMenuItemKeyup",value:function(e){var t=(0,Ye.eventKey)(e),r=this._actionsMenuNode,n=e.currentTarget.dataset.actionUid,i=this.dividedActions.menuActions.findIndex((function(e){return e.uid===n}));if(r){var a=r.querySelectorAll("li"),o=a.length;"ArrowUp"!==t?"ArrowDown"!==t?"Home"!==t?"End"!==t||(e.stopPropagation(),a[a.length-1].focus()):(e.stopPropagation(),a[0].focus()):(e.stopPropagation(),a[(i+1+o)%o].focus()):(e.stopPropagation(),a[(i-1+o)%o].focus())}}},{key:"_handleMainKeyup",value:function(e){var t=(0,Ye.eventKey)(e);"ArrowLeft"===t&&(e.stopPropagation(),this.previous()),"ArrowRight"===t&&(e.stopPropagation(),this.next())}},{key:"_spinnerEnabledChange",value:function(e){if(this._destroySpinner(),e){var t=this.get("viewModel.view");this._createSpinner(t)}}},{key:"_hideSpinner",value:function(){var e=this._spinner;e&&(e.location=null,e.hide())}},{key:"_displaySpinner",value:function(){var e=this._spinner;if(e){var t=this.viewModel,r=t.location;t.waitingForResult?e.show({location:r}):e.hide()}}},{key:"_getIconStyles",value:function(e){return{"background-image":e?"url(".concat(e,")"):""}}},{key:"_shouldFocus",value:function(e){var t=this;return _.default(n(S).mark((function r(){return n(S).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=e.shouldFocus,!r.t0){r.next=5;break}return r.next=4,(0,Oe.whenOnce)((function(){var e;return!0===(null==(e=t.viewModel)?void 0:e.active)}));case 4:t.focus();case 5:case"end":return r.stop()}}),r)})))()}},{key:"_addSelectedFeatureIndexHandle",value:function(){var e=this,t=(0,Qe.watch)(this,"viewModel.selectedFeatureIndex",(function(t,r){return e._selectedFeatureIndexUpdated(t,r)}));this._handles.add(t,Vo)}},{key:"_selectedFeatureIndexUpdated",value:function(e,t){this.featureCount&&e!==t&&-1!==e&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}},{key:"_destroySelectedFeatureWidget",value:function(){var e=this._feature;e&&(e.viewModel=null,e&&!e.destroyed&&e.destroy()),this._feature=null}},{key:"_isScreenLocationWithinView",value:function(e,t){return e.x>-1&&e.y>-1&&e.x<=t.width&&e.y<=t.height}},{key:"_isOutsideView",value:function(e){var t=e.popupHeight,r=e.popupWidth,n=e.screenLocation,i=e.side,a=e.view;if(isNaN(r)||isNaN(t)||!a||!n)return!1;var o=a.padding;return"right"===i&&n.x+r/2>a.width-o.right||"left"===i&&n.x-r/2<o.left||"top"===i&&n.y-t<o.top||"bottom"===i&&n.y+t>a.height-o.bottom}},{key:"_calculateAutoAlignment",value:function(e){if("auto"!==e)return e;var t=this,r=t._pointerOffsetInPx,n=t._containerNode,i=t._mainContainerNode,a=t.viewModel,o=a.screenLocation,s=a.view;if((0,Z.isNone)(o)||!s||!n)return"top-center";if(!this._isScreenLocationWithinView(o,s))return this._get("currentAlignment")||"top-center";function l(e){return parseInt(e.replace(/[^-\d\.]/g,""),10)}var u=i?window.getComputedStyle(i,null):null,c=u?l(u.getPropertyValue("max-height")):0,f=u?l(u.getPropertyValue("height")):0,p=n.getBoundingClientRect(),d=p.height,h=p.width+r,y=Math.max(d,c,f)+r,v=this._isOutsideView({popupHeight:y,popupWidth:h,screenLocation:o,side:"right",view:s}),m=this._isOutsideView({popupHeight:y,popupWidth:h,screenLocation:o,side:"left",view:s}),g=this._isOutsideView({popupHeight:y,popupWidth:h,screenLocation:o,side:"top",view:s}),b=this._isOutsideView({popupHeight:y,popupWidth:h,screenLocation:o,side:"bottom",view:s});return m?g?"bottom-right":"top-right":v?g?"bottom-left":"top-left":g?b?"top-center":"bottom-center":"top-center"}},{key:"_callCurrentAlignment",value:function(e){return"function"==typeof e?e.call(this):e}},{key:"_getCurrentAlignment",value:function(){var e=this.alignment;return this.dockEnabled||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)))}},{key:"_setCurrentAlignment",value:function(){this._set("currentAlignment",this._getCurrentAlignment())}},{key:"_setCurrentDockPosition",value:function(){this._set("currentDockPosition",this._getCurrentDockPosition())}},{key:"_calculatePositionResult",value:function(e){var t=["left","right"];return(0,cr.isRTL)(this.container)&&t.reverse(),e.replace(/leading/gi,t[0]).replace(/trailing/gi,t[1])}},{key:"_callDockPosition",value:function(e){return"function"==typeof e?e.call(this):e}},{key:"_getDockPosition",value:function(){var e;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null==(e=this.dockOptions)?void 0:e.position)))}},{key:"_getCurrentDockPosition",value:function(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}},{key:"_wouldDockTo",value:function(){return this.dockEnabled?null:this._getDockPosition()}},{key:"_calculateAutoDockPosition",value:function(e){var t;if("auto"!==e)return e;var r=null==(t=this.viewModel)?void 0:t.view,n=(0,cr.isRTL)(this.container)?"top-left":"top-right";if(!r)return n;var i=r.padding||{left:0,right:0,top:0,bottom:0},a=r.width-i.left-i.right,o=r.breakpoints;return o&&a<=o.xsmall?"bottom-center":n}},{key:"_positionContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._containerNode;if(e&&(this._containerNode=e),e){var t=this.viewModel,r=t.screenLocation,n=e.getBoundingClientRect(),i=n.width,a=this._calculatePositionStyle(r,i);a&&(e.style.top=a.top,e.style.left=a.left,e.style.bottom=a.bottom,e.style.right=a.right)}}},{key:"_calculateFullWidth",value:function(e){var t=this.currentAlignment,r=this._pointerOffsetInPx;return"top-left"===t||"bottom-left"===t||"top-right"===t||"bottom-right"===t?e+r:e}},{key:"_calculateAlignmentPosition",value:function(e,t,r,n){var i=this.currentAlignment,a=this._pointerOffsetInPx,o=n/2,s=r.height-t,l=r.width-e,u=this.view.padding;return"bottom-center"===i?{top:t+a-u.top,left:e-o-u.left}:"top-left"===i?{bottom:s+a-u.bottom,right:l+a-u.right}:"bottom-left"===i?{top:t+a-u.top,right:l+a-u.right}:"top-right"===i?{bottom:s+a-u.bottom,left:e+a-u.left}:"bottom-right"===i?{top:t+a-u.top,left:e+a-u.left}:"top-center"===i?{bottom:s+a-u.bottom,left:e-o-u.left}:void 0}},{key:"_calculatePositionStyle",value:function(e,t){var r=this.dockEnabled,n=this.view;if(n){if(r)return{left:"",top:"",right:"",bottom:""};if(!(0,Z.isNone)(e)&&t){var i=this._calculateFullWidth(t),a=this._calculateAlignmentPosition(e.x,e.y,n,i);return a?{top:void 0!==a.top?"".concat(a.top,"px"):"auto",left:void 0!==a.left?"".concat(a.left,"px"):"auto",bottom:void 0!==a.bottom?"".concat(a.bottom,"px"):"auto",right:void 0!==a.right?"".concat(a.right,"px"):"auto"}:void 0}}}},{key:"_viewChange",value:function(e,t){e&&t&&(this.close(),this.clear())}},{key:"_viewReadyChange",value:function(e,t){if(e){var r=this.get("viewModel.view");this._wireUpView(r)}else t&&(this.close(),this.clear())}},{key:"_wireUpView",value:function(e){if(this._destroySpinner(),e){this.spinnerEnabled&&this._createSpinner(e),this._setDockEnabledForViewSize(this.dockOptions)}}},{key:"_dockingThresholdCrossed",value:function(e,t,r){var n=te.default(e,2),i=n[0],a=n[1],o=te.default(t,2),s=o[0],l=o[1],u=r.width,c=r.height;return i<=u&&s>u||i>u&&s<=u||a<=c&&l>c||a>c&&l<=c}},{key:"_updateDockEnabledForViewSize",value:function(e,t){if(e&&t){var r=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},n=r.left+r.right,i=r.top+r.bottom,a=[],o=[];a[0]=e[0]-n,a[1]=e[1]-i,o[0]=t[0]-n,o[1]=t[1]-i;var s=this.dockOptions,l=s.breakpoint;this._dockingThresholdCrossed(a,o,l)&&this._setDockEnabledForViewSize(s),this._setCurrentDockPosition()}}},{key:"_focusDockButtonNode",value:function(e){this._focusDockButton&&(this._focusDockButton=!1,e.focus())}},{key:"_closeButtonNodeUpdated",value:function(e){return this._focusClose?(this._focusClose=!1,void e.focus()):this._blurClose?(this._blurClose=!1,void e.blur()):void 0}},{key:"_mainContainerNodeUpdated",value:function(e){return this._mainContainerNode=e,this._focusContainer?(this._focusContainer=!1,void e.focus()):this._blurContainer?(this._blurContainer=!1,void e.blur()):void 0}},{key:"_featureMenuNodeUpdated",value:function(e){if(this._featureMenuNode=e,e&&this._focusFirstFeature){this._focusFirstFeature=!1;var t=e.querySelectorAll("li");t.length&&t[0].focus()}}},{key:"_actionsMenuNodeUpdated",value:function(e){if(this._actionsMenuNode=e,e&&this._focusFirstAction){this._focusFirstAction=!1;var t=e.querySelectorAll("li");t.length&&t[0].focus()}}},{key:"_focusFeatureMenuButtonNode",value:function(e){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,e.focus())}},{key:"_focusActionsMenuButtonNode",value:function(e){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,e.focus())}},{key:"_featureMenuViewportScrollTop",value:function(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}},{key:"_toggleScreenLocationEnabled",value:function(){var e=this.dockEnabled,t=this.viewModel;if(t){var r=t.active&&!e;t.screenLocationEnabled=r}}},{key:"_shouldDockAtCurrentViewSize",value:function(e){var t,r,n=e.breakpoint,i=null==(t=this.viewModel)||null==(r=t.view)?void 0:r.ui;if(!i)return!1;var a=i.width,o=i.height;if(isNaN(a)||isNaN(o))return!1;var s=n.hasOwnProperty("width")&&a<=n.width,l=n.hasOwnProperty("height")&&o<=n.height;return s||l}},{key:"_setDockEnabledForViewSize",value:function(e){e.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(e))}},{key:"_getPageText",value:function(e,t){return this.featureNavigationVisible?(0,Ta.substitute)(this.messages.pageText,{index:t+1,total:e}):null}},{key:"_destroySpinner",value:function(){var e=this._spinner,t=this.view;e&&(t&&t.ui&&t.ui.remove(this._spinner,Bo),e.destroy(),this._spinner=null)}},{key:"_createSpinner",value:function(e){e&&(this._spinner=new Xa({view:e}),e.ui.add(this._spinner,{key:Bo,position:"manual"}))}},{key:"_toggleCollapsed",value:function(){this.collapsed=!this.collapsed}},{key:"_close",value:function(){this.close(),this.view&&this.view.focus()}},{key:"_toggleDockEnabled",value:function(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}},{key:"_toggleFeatureMenu",value:function(){var e=!this.featureMenuOpen;this._featureMenuOpenChanged(e),this.actionsMenuOpen=!1,this.featureMenuOpen=e}},{key:"_toggleActionsMenu",value:function(){var e=!this.actionsMenuOpen;this._actionsMenuOpenChanged(e),this.featureMenuOpen=!1,this.actionsMenuOpen=e}},{key:"_triggerAction",value:function(e){var t=e.currentTarget.dataset.actionUid,r=this.viewModel.allActions,n=r.findIndex((function(e){return e.uid===t})),i=r.getItemAt(n);i&&"toggle"===i.type&&(i.value=!i.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(n)}},{key:"_selectFeature",value:function(e){var t=e.currentTarget["data-feature-index"];isNaN(t)||(this.viewModel.selectedFeatureIndex=t),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}},{key:"_next",value:function(){this.next()}},{key:"_previous",value:function(){this.previous()}}]),r}(ka(tt.default));(0,v._)([(0,P.property)({readOnly:!0})],gl.prototype,"actionsMenuId",null),(0,v._)([(0,P.property)({readOnly:!0})],gl.prototype,"actionsMenuButtonId",null),(0,v._)([(0,P.property)({readOnly:!0})],gl.prototype,"featureMenuId",null),(0,v._)([(0,P.property)({readOnly:!0})],gl.prototype,"titleId",null),(0,v._)([(0,P.property)({readOnly:!0})],gl.prototype,"contentId",null),(0,v._)([(0,P.property)({readOnly:!0})],gl.prototype,"hasContent",null),(0,v._)([(0,P.property)({readOnly:!0})],gl.prototype,"featureNavigationVisible",null),(0,v._)([(0,P.property)({readOnly:!0})],gl.prototype,"collapsible",null),(0,v._)([(0,P.property)({readOnly:!0})],gl.prototype,"featureMenuVisible",null),(0,v._)([(0,P.property)({readOnly:!0})],gl.prototype,"contentCollapsed",null),(0,v._)([(0,P.property)({readOnly:!0})],gl.prototype,"dividedActions",null),(0,v._)([(0,et.aliasOf)("viewModel.actions")],gl.prototype,"actions",void 0),(0,v._)([(0,P.property)()],gl.prototype,"actionsMenuOpen",null),(0,v._)([(0,P.property)()],gl.prototype,"alignment",void 0),(0,v._)([(0,et.aliasOf)("viewModel.autoCloseEnabled")],gl.prototype,"autoCloseEnabled",void 0),(0,v._)([(0,et.aliasOf)("viewModel.autoOpenEnabled")],gl.prototype,"autoOpenEnabled",void 0),(0,v._)([(0,et.aliasOf)("viewModel.defaultPopupTemplateEnabled")],gl.prototype,"defaultPopupTemplateEnabled",void 0),(0,v._)([(0,et.aliasOf)("viewModel.content")],gl.prototype,"content",void 0),(0,v._)([(0,P.property)()],gl.prototype,"collapsed",void 0),(0,v._)([(0,P.property)()],gl.prototype,"collapseEnabled",void 0),(0,v._)([(0,P.property)({readOnly:!0})],gl.prototype,"currentAlignment",null),(0,v._)([(0,P.property)({readOnly:!0})],gl.prototype,"currentDockPosition",null),(0,v._)([(0,P.property)()],gl.prototype,"dockOptions",null),(0,v._)([(0,P.property)()],gl.prototype,"dockEnabled",void 0),(0,v._)([(0,et.aliasOf)("viewModel.featureCount")],gl.prototype,"featureCount",void 0),(0,v._)([(0,P.property)()],gl.prototype,"featureMenuOpen",void 0),(0,v._)([(0,et.aliasOf)("viewModel.features")],gl.prototype,"features",void 0),(0,v._)([(0,et.aliasOf)("viewModel.goToOverride")],gl.prototype,"goToOverride",void 0),(0,v._)([(0,P.property)()],gl.prototype,"headingLevel",void 0),(0,v._)([(0,et.aliasOf)("viewModel.highlightEnabled")],gl.prototype,"highlightEnabled",void 0),(0,v._)([(0,et.aliasOf)("viewModel.location")],gl.prototype,"location",void 0),(0,v._)([(0,P.property)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],gl.prototype,"label",void 0),(0,v._)([(0,P.property)()],gl.prototype,"maxInlineActions",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/Popup/t9n/Popup")],gl.prototype,"messages",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/t9n/common")],gl.prototype,"messagesCommon",void 0),(0,v._)([(0,et.aliasOf)("viewModel.promises")],gl.prototype,"promises",void 0),(0,v._)([(0,et.aliasOf)("viewModel.selectedFeature")],gl.prototype,"selectedFeature",void 0),(0,v._)([(0,et.aliasOf)("viewModel.selectedFeatureIndex")],gl.prototype,"selectedFeatureIndex",void 0),(0,v._)([(0,P.property)({readOnly:!0})],gl.prototype,"selectedFeatureWidget",null),(0,v._)([(0,P.property)()],gl.prototype,"spinnerEnabled",void 0),(0,v._)([(0,et.aliasOf)("viewModel.title")],gl.prototype,"title",void 0),(0,v._)([(0,et.aliasOf)("viewModel.updateLocationEnabled")],gl.prototype,"updateLocationEnabled",void 0),(0,v._)([(0,et.aliasOf)("viewModel.view")],gl.prototype,"view",void 0),(0,v._)([(0,P.property)({type:jo}),(0,Uo.vmEvent)(["triggerAction","trigger-action"])],gl.prototype,"viewModel",void 0),(0,v._)([(0,et.aliasOf)("viewModel.visible")],gl.prototype,"visible",void 0),(0,v._)([(0,P.property)()],gl.prototype,"visibleElements",void 0),(0,v._)([(0,Q.cast)("visibleElements")],gl.prototype,"castVisibleElements",null),(0,v._)([(0,Do.accessibleHandler)()],gl.prototype,"_close",null),(0,v._)([(0,Do.accessibleHandler)()],gl.prototype,"_toggleDockEnabled",null),(0,v._)([(0,Do.accessibleHandler)()],gl.prototype,"_toggleFeatureMenu",null),(0,v._)([(0,Do.accessibleHandler)()],gl.prototype,"_toggleActionsMenu",null),(0,v._)([(0,Do.accessibleHandler)()],gl.prototype,"_triggerAction",null),(0,v._)([(0,Do.accessibleHandler)()],gl.prototype,"_selectFeature",null),(0,v._)([(0,Do.accessibleHandler)()],gl.prototype,"_next",null),(0,v._)([(0,Do.accessibleHandler)()],gl.prototype,"_previous",null);var bl=gl=(0,v._)([(0,j.subclass)(yl)],gl),_l=[0,0];function wl(e){e&&((0,We.empty)(e),e.parentNode&&e.parentNode.removeChild(e))}var xl=16,Sl=750;s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),y=s("jK9zx"),_=s("jcnGU"),De=s("5Vgx8"),S=s("2TvXO"),v=s("7eJjO"),Z=s("7qybv"),R=s("10vEZ");s("jHOLN"),s("iJAIC"),s("lNwWH"),s("2VlWd"),s("62edV");j=s("fcwIv");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),h=s("bFSSc"),y=s("jK9zx"),b=s("ifq4M"),_=s("jcnGU"),w=s("8atho"),x=s("aNpz9"),S=s("2TvXO"),v=s("7eJjO");var kl=s("9DeZf"),Tl=(X=s("jymfC"),T=s("d2yMj"),K=s("7FmYA"),C=s("kyj08"),Y=s("amfHf"),ut=s("6dXDO"),s("6ah52")),El=(A=s("bQCqB"),N=s("jHOLN"),Z=s("7qybv"),s("hmHbS"));R=s("10vEZ"),Oe=s("lKPaD"),et=s("kDa5L");s("lNwWH"),s("2VlWd"),s("iJAIC");P=s("iho5X"),j=s("fcwIv");var Il=s("cvNNH"),Cl=(Ne=s("gINRd"),s("dt8qO")),Ol=s("j40xv");Fe=s("eY5Yp");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),N=s("jHOLN"),Z=s("7qybv");s("iJAIC"),s("lNwWH"),s("2VlWd"),s("62edV");j=s("fcwIv"),Il=s("cvNNH");var Ll=N.default.getLogger("esri.support.AnalysesCollection"),Al=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).handles.add(n.on("before-add",(function(e){(0,Z.isNone)(e.item)||e.item.parent===n.owner&&(Ll.warn("Analysis inside the collection must be unique. Not adding this element again."),e.preventDefault())}))),h.default(n)}return y.default(r,[{key:"_own",value:function(e){e.parent=this.owner}},{key:"_release",value:function(e){e.parent=null}}]),r}(Il.OwningCollection);Al=(0,v._)([(0,j.subclass)("esri.support.AnalysesCollection")],Al);var Ml=s("iWNhG");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),X=s("jymfC"),T=s("d2yMj"),Qe=s("5qZXj"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Nl=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).view=null,n.baseLayerViews=new(0,T.default),n.referenceLayerViews=new(0,T.default),n._loadingHandle=(0,Qe.init)(g.default(n),"view.map.basemap",(function(e){e&&e.load().catch((function(){}))})),h.default(n)}return y.default(r,[{key:"destroy",value:function(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}},{key:"suspended",get:function(){return!this.view||this.view.suspended}},{key:"updating",get:function(){var e,t;if(this.view&&this.view.suspended)return!1;var r=null==(e=this.view)||null==(t=e.map)?void 0:t.basemap;return!!r&&!!r.loaded&&(this.baseLayerViews.some((function(e){return e.updating}))||this.referenceLayerViews.some((function(e){return e.updating})))}}]),r}(X.default);(0,v._)([(0,P.property)({constructOnly:!0})],Nl.prototype,"view",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Nl.prototype,"baseLayerViews",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Nl.prototype,"referenceLayerViews",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Nl.prototype,"suspended",null),(0,v._)([(0,P.property)({type:Boolean,readOnly:!0})],Nl.prototype,"updating",null),Nl=(0,v._)([(0,j.subclass)("esri.views.BasemapView")],Nl),s("8TSCy");d=s("f9pi5"),y=s("jK9zx"),_=s("jcnGU"),f=s("g9uIT"),p=s("dap1g"),te=s("iCnzh"),De=s("5Vgx8"),h=s("bFSSc"),S=s("2TvXO"),v=s("7eJjO"),K=s("7FmYA"),C=s("kyj08"),ut=s("6dXDO"),N=s("jHOLN");var Rl=s("edmn4");Z=s("7qybv"),R=s("10vEZ"),Oe=s("lKPaD"),Ge=s("7LFLF"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv"),qe=s("1Zzc4");var Pl=N.default.getLogger("esri.views.LayerViewManager"),Fl=function(){"use strict";function e(t,r,n){var i=this;d.default(this,e),this.layer=t,this.view=r,this.layerViewImporter=n,this._controller=new AbortController,this._deferred=(0,R.createDeferred)(),this._started=!1,this.done=!1,(0,R.onAbort)(this._controller.signal,(function(){var e=new(0,C.default)("cancelled:layerview-create","layerview creation cancelled",{layer:t});i._deferred.reject(e)}))}return y.default(e,[{key:"promise",get:function(){return this._deferred.promise}},{key:"destroy",value:function(){this._controller.abort();var e=this.layerView;if(e){var t=this.layer,r=this.view;t.emit("layerview-destroy",{view:r,layerView:e}),r.emit("layerview-destroy",{layer:t,layerView:e}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}}},{key:"start",value:function(){var e=this;return _.default(n(S).mark((function t(){var r,i,a,o,s,l,u,c,f,p;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._started){t.next=2;break}return t.abrupt("return");case 2:return e._started=!0,r=e._controller,i=r.signal,a=e.layer,o=e.view,e._map=o.map,t.prev=5,t.next=10,a.load({signal:i});case 10:if(t.t0="prefetchResources"in a,!t.t0){t.next=14;break}return t.next=14,a.prefetchResources({signal:i});case 14:if(t.sent,t.t0&&t.sent,!a.createLayerView){t.next=20;break}return t.next=17,a.createLayerView(o,{signal:i});case 17:u=t.sent,t.next=26;break;case 20:if(e.layerViewImporter.hasLayerViewModule(a)){t.next=22;break}throw new(0,C.default)("layer:view-not-supported","No layerview implementation was found");case 22:return t.next=24,e.layerViewImporter.importLayerView(a);case 24:f=t.sent,(0,R.throwIfAborted)(i),u="default"in f?new f.default({layer:a,view:o}):new f({layer:a,view:o});case 26:return p=function(){c=(0,Z.removeMaybe)(c),u.destroyed||u.destroy(),u.layer=null,u.parent=null,u.view=null,e.done=!0},c=(0,R.onAbort)(i,p),(0,R.throwIfAborted)(i),t.prev=28,t.next=31,u.when();case 31:t.next=36;break;case 33:throw t.prev=33,t.t1=t.catch(28),p(),t.t1;case 36:if(null==(s=e._map)||null==(l=s.allLayers)?void 0:l.includes(a)){t.next=38;break}return t.abrupt("return",(p(),void e._deferred.reject(new(0,C.default)("view:no-layerview-for-layer","The layer has been removed from the map",{layer:a}))));case 38:e.layerView=u,a.emit("layerview-create",{view:o,layerView:u}),o.emit("layerview-create",{layer:a,layerView:u}),e.done=!0,e._deferred.resolve(u),t.next=44;break;case 41:t.prev=41,t.t2=t.catch(5),a.emit("layerview-create-error",{view:o,error:t.t2}),o.emit("layerview-create-error",{layer:a,error:t.t2}),e.done=!0,e._deferred.reject(new(0,C.default)("layerview:create-error","layerview creation failed",{layer:a,error:t.t2}));case 44:case"end":return t.stop()}}),t,null,[[5,41],[28,33]])})))()}}]),e}(),jl=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._layerLayerViewInfoMap=new Map,n._watchUpdatingTracking=new(0,qe.WatchUpdatingTracking),n.supportsGround=!0,n._preloadLayerViewModules=function(){var e,t=null==(e=n.view.map)?void 0:e.allLayers,r=!0,i=!1,a=void 0;if(t)try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;n.layerViewImporter.hasLayerViewModule(l)&&n.layerViewImporter.importLayerView(l)}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}},n._reschedule=function(){return(0,Z.isNone)(n._workPromise)&&(n._workPromise=(0,R.createDeferred)()),n.handles.remove("reschedule"),n.handles.add((0,Ge.schedule)(n._doWork),"reschedule"),n._workPromise.promise},n._doWork=function(){var e,t,r,i=n.view.map;if(n._map!==i&&(n.clear(),n._map=i),(0,Z.isNone)(n._workPromise))n.notifyChange("updating");else{n.handles.remove("reschedule"),n.handles.remove("collection-change");var a=new(0,K.default)({getCollections:function(){return n._rootCollectionNames.map((function(e){return n.get(e)}))},getChildrenFunction:function(e){return e&&"layers"in e?e.layers:null}});if(!a)return n._workPromise.resolve(),void(n._workPromise=null);var o=!0,s=!1,l=void 0;try{for(var u,c=a[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;n._createLayerView(f)}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}n._refreshCollections();var p=!0,d=!1,h=void 0;try{for(var y,v=n._layerLayerViewInfoMap[Symbol.iterator]();!(p=(y=v.next()).done);p=!0){var m=te.default(y.value,2),g=m[0],b=m[1];a.includes(g)||(n._layerLayerViewInfoMap.delete(b.layer),b.destroy())}}catch(e){d=!0,h=e}finally{try{p||null==v.return||v.return()}finally{if(d)throw h}}var _=a.filter((function(e){return"group"===e.type})).map((function(e){return e.layers})),w=[null==i||null==(e=i.ground)?void 0:e.layers,null==i||null==(t=i.basemap)?void 0:t.baseLayers,null==i||null==(r=i.basemap)?void 0:r.referenceLayers,null==i?void 0:i.layers].concat(De.default(_)).filter((function(e){return!!e}));n.handles.add(w.map((function(e){return n._watchUpdatingTracking.addOnCollectionChange((function(){return e}),n._reschedule)})),"collection-change"),n._workPromise.resolve(),n._workPromise=null}},h.default(n)}return y.default(r,[{key:"initialize",value:function(){var e=this;this.handles.add([(0,Oe.on)((function(){var t,r;return null==(t=e.view)||null==(r=t.map)?void 0:r.allLayers}),"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),(0,Oe.watch)((function(){var t=e.view,r=null==t?void 0:t.map;return[null==r?void 0:r.basemap,null==r?void 0:r.ground,null==r?void 0:r.layers,null==t?void 0:t.ready]}),(function(){return e._reschedule()}),Oe.syncAndInitial)]),this._preloadLayerViewModules(),this._reschedule()}},{key:"destroy",value:function(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}},{key:"_layersToLayerViews",get:function(){var e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}},{key:"_rootCollectionNames",get:function(){return Array.from(this._layersToLayerViews.keys())}},{key:"updating",get:function(){return(0,Z.isSome)(this._workPromise)||this._watchUpdatingTracking.updating||(0,Rl.someMap)(this._layerLayerViewInfoMap,(function(e){return!e.done}))}},{key:"updatingRemaining",get:function(){var e=0,t=!0,r=!1,n=void 0;try{for(var i,a=this._layerLayerViewInfoMap.values()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.done||++e}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return e}},{key:"clear",value:function(){if(!this.destroyed){var e=!0,t=!1,r=void 0;try{for(var n,i=this._layerLayerViewInfoMap.values()[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){n.value.destroy()}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}},{key:"whenLayerView",value:function(e){var t=this;return _.default(n(S).mark((function r(){return n(S).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t._reschedule();case 2:if(r.sent,t._layerLayerViewInfoMap.has(e)){r.next=4;break}throw new(0,C.default)("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e});case 4:return r.abrupt("return",t._layerLayerViewInfoMap.get(e).promise);case 5:case"end":return r.stop()}}),r)})))()}},{key:"_refreshCollections",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this._layersToLayerViews[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=te.default(n.value,2),o=a[0],s=a[1];this._populateLayerViewsOwners(this.get(o),this.get(s),this.view)}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}this.notifyChange("updating"),this.notifyChange("updatingRemaining")}},{key:"_populateLayerViewsOwners",value:function(e,t,r){if(e&&t){var n=0,i=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=this._layerLayerViewInfoMap.get(u);if(c&&c.layerView){var f=c.layerView;f.layer=u,f.parent=r,t.getItemAt(n)!==f&&t.splice(n,0,f),u.layers&&this._populateLayerViewsOwners(u.layers,f.layerViews,f),n+=1}}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}n<t.length&&t.splice(n,t.length)}else t&&t.removeAll()}},{key:"_createLayerView",value:function(e){var t=this;if(this._layerLayerViewInfoMap.has(e))return this.view.ready&&this._layerLayerViewInfoMap.get(e).start(),this.notifyChange("updating"),void this.notifyChange("updatingRemaining");e.load().catch((function(){})),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);var r=new Fl(e,this.view,this.layerViewImporter);r.promise.then((function(){return t._refreshCollections()}),(function(r){var n,i;r&&((0,R.isAbortError)(r)||"cancelled:layerview-create"===r.name)||Pl.error("Failed to create layerview for layer title:'".concat(null!=(n=e.title)?n:"no title","', id:'").concat(null!=(i=e.id)?i:"no id","' of type '").concat(e.type,"'."),{layer:e,error:r}),t._refreshCollections()})),this._layerLayerViewInfoMap.set(e,r),this.view.ready&&r.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}}]),r}(ut.HandleOwner);(0,v._)([(0,P.property)()],jl.prototype,"_workPromise",void 0),(0,v._)([(0,P.property)({readOnly:!0})],jl.prototype,"_watchUpdatingTracking",void 0),(0,v._)([(0,P.property)({readOnly:!0})],jl.prototype,"_layersToLayerViews",null),(0,v._)([(0,P.property)({readOnly:!0})],jl.prototype,"_rootCollectionNames",null),(0,v._)([(0,P.property)()],jl.prototype,"layerViewImporter",void 0),(0,v._)([(0,P.property)()],jl.prototype,"supportsGround",void 0),(0,v._)([(0,P.property)({readOnly:!0})],jl.prototype,"updating",null),(0,v._)([(0,P.property)({readOnly:!0})],jl.prototype,"updatingRemaining",null),(0,v._)([(0,P.property)({constructOnly:!0})],jl.prototype,"view",void 0);var Dl=jl=(0,v._)([(0,j.subclass)("esri.views.LayerViewManager")],jl);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),X=s("jymfC"),Le=s("iXlXu"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Ul=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).factor=1.5,n.offset=(0,Le.createScreenPoint)(0,0),n.position=null,n.size=120,n.maskUrl=null,n.maskEnabled=!0,n.overlayUrl=null,n.overlayEnabled=!0,n.visible=!0,h.default(n)}return y.default(r,[{key:"version",get:function(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}}]),r}(X.default);(0,v._)([(0,P.property)({type:Number})],Ul.prototype,"factor",void 0),(0,v._)([(0,P.property)({nonNullable:!0})],Ul.prototype,"offset",void 0),(0,v._)([(0,P.property)()],Ul.prototype,"position",void 0),(0,v._)([(0,P.property)({type:Number,range:{min:0}})],Ul.prototype,"size",void 0),(0,v._)([(0,P.property)()],Ul.prototype,"maskUrl",void 0),(0,v._)([(0,P.property)()],Ul.prototype,"maskEnabled",void 0),(0,v._)([(0,P.property)()],Ul.prototype,"overlayUrl",void 0),(0,v._)([(0,P.property)()],Ul.prototype,"overlayEnabled",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Ul.prototype,"version",null),(0,v._)([(0,P.property)({type:Boolean})],Ul.prototype,"visible",void 0);var Vl=Ul=(0,v._)([(0,j.subclass)("esri.views.Magnifier")],Ul);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),De=s("5Vgx8"),b=s("ifq4M"),v=s("7eJjO"),X=s("jymfC"),T=s("d2yMj"),ut=s("6dXDO"),Tl=s("6ah52"),N=s("jHOLN"),Z=s("7qybv"),Qe=s("5qZXj"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),w=s("8atho"),x=s("aNpz9"),v=s("7eJjO"),X=s("jymfC"),Z=s("7qybv"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Bl=s("5U4nr"),Hl=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i,a;return d.default(this,r),(i=t.call(this,{}))._stage=e,i._textureRequests=new Map,i._frameTask=null!=(a=null==n?void 0:n.registerTask(Bl.TaskPriority.TEXTURE_UNLOAD))?a:Bl.ImmediateTask,h.default(i)}return y.default(r,[{key:"normalizeCtorArgs",value:function(){return{}}},{key:"destroy",value:function(){var e=this;w.default(x.default(r.prototype),"destroy",this).call(this),this._frameTask.remove(),this._textureRequests.forEach((function(t){return e._releaseTextureRequest(t)})),this._textureRequests.clear()}},{key:"updating",get:function(){return this._frameTask.updating}},{key:"fromData",value:function(e,t,r){var n=this,i=this.makeUid(e),a=this._textureRequests.get(i);return a||(a={referenceCount:0,texture:t(),textureAsync:null,abortController:null,onRemove:r},this._stage&&(this._stage.add(a.texture),this._stage.loadImmediate(a.texture)),this._textureRequests.set(i,a)),a.referenceCount++,{uid:i,texture:a.texture,release:function(){return n._release(i)}}}},{key:"_release",value:function(e){var t=this,r=this._textureRequests.get(e);r?(r.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+e),r.referenceCount--,r.referenceCount<1&&this._frameTask.schedule((function(){return t._releaseNow(e)}))):console.warn("TextureCollection: texture doesn't exist: '".concat(e,"'"))}},{key:"test",get:function(){return{textureRequests:this._textureRequests}}},{key:"_releaseNow",value:function(e){if(this._textureRequests){var t=this._textureRequests.get(e);!t||t.referenceCount>0||(this._releaseTextureRequest(t),this._textureRequests.delete(e))}}},{key:"_releaseTextureRequest",value:function(e){var t;e.onRemove&&e.onRemove(),e.texture?null==(t=this._stage)||t.remove(e.texture):e.abortController&&(e.abortController.abort(),e.abortController=null)}},{key:"makeUid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,Z.isSome)(t)?"".concat(e,".").concat(t,"px"):e}}]),r}(X.default);(0,v._)([(0,P.property)()],Hl.prototype,"_frameTask",void 0),(0,v._)([(0,P.property)()],Hl.prototype,"updating",null),Hl=(0,v._)([(0,j.subclass)("esri.views.3d.support.TextureCollection")],Hl);po=s("8aXDa");s("8TSCy");d=s("f9pi5"),y=s("jK9zx"),f=s("g9uIT"),p=s("dap1g"),h=s("bFSSc");s("2VlWd");nt=s("iVfa0"),Le=s("iXlXu");var zl,Wl,Gl=s("fOORG");po=s("8aXDa");(Wl=zl||(zl={}))[Wl.Left=0]="Left",Wl[Wl.Middle=1]="Middle",Wl[Wl.Right=2]="Right";var Jl=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],ql={};function Xl(e){return!!ql[e]}Jl.forEach((function(e){ql[e]=!0}));var Kl,$l,Yl,Zl,Ql,eu,tu=function(){"use strict";function e(t){d.default(this,e),this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=t,this.inputManager=null}return y.default(e,[{key:"connect",value:function(e){var t=this;e&&this.disconnect(),this.inputManager=e,this.handlers.forEach((function(e,r){var n=e.handler,i=e.priority;return t.inputManager.installHandlers(r,[n],i)}))}},{key:"disconnect",value:function(){var e=this;this.inputManager&&this.handlers.forEach((function(t,r){return e.inputManager.uninstallHandlers(r)})),this.inputManager=null}},{key:"destroy",value:function(){this.disconnect(),this.handlers.clear(),this.view=null}},{key:"on",value:function(e,t,r,n){var i,a,o=this,s=Array.isArray(e)?e:e.split(",");if(!function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)if(!Xl(i.value))return!1}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return!0}(s))return s.some(Xl)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;Array.isArray(t)?a=t:(i=t,a=[]),"function"==typeof r?i=r:n=r,n=null!=n?n:po.ViewEventPriorities.DEFAULT;var l=this._createUniqueGroupName(),u=new ru(this.view,s,a,i);this.handlers.set(l,{handler:u,priority:n});var c=!0,f=!1,p=void 0;try{for(var d,h=s[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var y=d.value,v=this.handlerCounts.get(y)||0;this.handlerCounts.set(y,v+1)}}catch(e){f=!0,p=e}finally{try{c||null==h.return||h.return()}finally{if(f)throw p}}return this.inputManager&&this.inputManager.installHandlers(l,[u],n),{remove:function(){return o._removeHandler(l,s)}}}},{key:"hasHandler",value:function(e){return!!this.handlerCounts.get(e)}},{key:"_removeHandler",value:function(e,t){if(this.handlers.has(e)){this.handlers.delete(e);var r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value,l=this.handlerCounts.get(s);void 0===l?console.error("Trying to remove handler for event that has no handlers registered: ",s):1===l?this.handlerCounts.delete(s):this.handlerCounts.set(s,l-1)}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}this.inputManager&&this.inputManager.uninstallHandlers(e)}},{key:"_createUniqueGroupName",value:function(){return this.counter+=1,"viewEvents_".concat(this.counter)}}]),e}(),ru=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n,i,a){var o;d.default(this,r),(o=t.call(this,!0)).view=e;var s=!0,l=!1,u=void 0;try{for(var c,f=n[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){switch(c.value){case"click":o.registerIncoming("click",i,(function(e){return a(o._wrapClick(e))}));break;case"double-click":o.registerIncoming("double-click",i,(function(e){return a(o._wrapDoubleClick(e))}));break;case"immediate-click":o.registerIncoming("immediate-click",i,(function(e){return a(o._wrapImmediateClick(e))}));break;case"immediate-double-click":o.registerIncoming("immediate-double-click",i,(function(e){return a(o._wrapImmediateDoubleClick(e))}));break;case"hold":o.registerIncoming("hold",i,(function(e){return a(o._wrapHold(e))}));break;case"drag":o.registerIncoming("drag",i,(function(e){var t=o._wrapDrag(e);t&&a(t)}));break;case"key-down":o.registerIncoming("key-down",i,(function(e){return a(o._wrapKeyDown(e))}));break;case"key-up":o.registerIncoming("key-up",i,(function(e){return a(o._wrapKeyUp(e))}));break;case"pointer-down":o.registerIncoming("pointer-down",i,(function(e){return a(o._wrapPointer(e,"pointer-down"))}));break;case"pointer-move":o.registerIncoming("pointer-move",i,(function(e){return a(o._wrapPointer(e,"pointer-move"))}));break;case"pointer-up":o.registerIncoming("pointer-up",i,(function(e){return a(o._wrapPointer(e,"pointer-up"))}));break;case"pointer-drag":o.registerIncoming("pointer-drag",i,(function(e){return a(o._wrapPointerDrag(e))}));break;case"mouse-wheel":o.registerIncoming("mouse-wheel",i,(function(e){return a(o._wrapMouseWheel(e))}));break;case"pointer-enter":o.registerIncoming("pointer-enter",i,(function(e){return a(o._wrapPointer(e,"pointer-enter"))}));break;case"pointer-leave":o.registerIncoming("pointer-leave",i,(function(e){return a(o._wrapPointer(e,"pointer-leave"))}));break;case"gamepad":o.registerIncoming("gamepad",i,(function(e){a(o._wrapGamepad(e))}));break;case"focus":o.registerIncoming("focus",i,(function(e){a(o._wrapFocus(e))}));break;case"blur":o.registerIncoming("blur",i,(function(e){a(o._wrapBlur(e))}))}}}catch(e){l=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}return h.default(o)}return y.default(r,[{key:"_wrapFocus",value:function(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"_wrapBlur",value:function(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"_wrapClick",value:function(e){var t=e.data,r=t.pointerType,n=t.button,i=t.buttons,a=t.x,o=t.y,s=t.native,l=t.eventId,u=e.cancelable;return{type:"click",pointerType:r,button:n,buttons:i,x:a,y:o,native:s,timestamp:e.timestamp,screenPoint:(0,Le.createScreenPoint)(a,o),mapPoint:this._getMapPoint(a,o),eventId:l,cancelable:u,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"_wrapDoubleClick",value:function(e){var t=e.data,r=t.pointerType,n=t.button,i=t.buttons,a=t.x,o=t.y,s=t.native,l=t.eventId,u=e.cancelable;return{type:"double-click",pointerType:r,button:n,buttons:i,x:a,y:o,native:s,timestamp:e.timestamp,mapPoint:this._getMapPoint(a,o),eventId:l,cancelable:u,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"_wrapImmediateClick",value:function(e){var t=e.data,r=t.pointerType,n=t.button,i=t.buttons,a=t.x,o=t.y,s=t.native,l=t.eventId,u=s.pointerId,c=e.cancelable;return{type:"immediate-click",pointerId:u,pointerType:r,button:n,buttons:i,x:a,y:o,native:s,timestamp:e.timestamp,mapPoint:this._getMapPoint(a,o),eventId:l,cancelable:c,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"_wrapImmediateDoubleClick",value:function(e){var t=e.data,r=t.pointerType,n=t.button,i=t.buttons,a=t.x,o=t.y,s=t.native,l=t.eventId,u=s.pointerId,c=e.cancelable;return{type:"immediate-double-click",pointerId:u,pointerType:r,button:n,buttons:i,x:a,y:o,native:s,timestamp:e.timestamp,mapPoint:this._getMapPoint(a,o),eventId:l,cancelable:c,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"_wrapHold",value:function(e){var t=e.data,r=t.pointerType,n=t.button,i=t.buttons,a=t.x,o=t.y,s=t.native,l=e.cancelable;return{type:"hold",pointerType:r,button:n,buttons:i,x:a,y:o,native:s,timestamp:e.timestamp,mapPoint:this._getMapPoint(a,o),cancelable:l,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"_getMapPoint",value:function(e,t){return this.view.toMap((0,Le.createScreenPoint)(e,t),{exclude:[]})}},{key:"_wrapDrag",value:function(e){var t=e.data,r=t.center,n=r.x,i=r.y,a=t.action,o=t.pointerType,s=t.button;if("start"===a&&(this.latestDragStart=t),this.latestDragStart){var l=t.pointer.native,u=t.buttons,c=e.cancelable,f=e.timestamp,p={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return"end"===a&&(this.latestDragStart=void 0),{type:"drag",action:a,x:n,y:i,origin:p,pointerType:o,button:s,buttons:u,radius:t.radius,angle:(0,nt.rad2deg)(t.angle),native:l,timestamp:f,cancelable:c,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}}},{key:"_wrapKeyDown",value:function(e){var t=e.data,r=t.key,n=t.repeat,i=t.native,a=e.cancelable;return{type:"key-down",key:r,repeat:n,native:i,timestamp:e.timestamp,cancelable:a,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"_wrapKeyUp",value:function(e){var t=e.data,r=t.key,n=t.native,i=e.cancelable;return{type:"key-up",key:r,native:n,timestamp:e.timestamp,cancelable:i,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"_wrapPointer",value:function(e,t){var r=e.data,n=r.x,i=r.y,a=r.button,o=r.buttons,s=r.native,l=r.eventId,u=s.pointerId,c=s.pointerType,f=e.cancelable;return{type:t,x:n,y:i,pointerId:u,pointerType:c,button:a,buttons:o,native:s,timestamp:e.timestamp,eventId:l,cancelable:f,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"_wrapPointerDrag",value:function(e){var t=e.data.currentEvent,r=t.x,n=t.y,i=t.buttons,a=t.native,o=t.eventId,s=e.data.startEvent.button,l=e.data.startEvent.native.pointerId,u=e.data.startEvent.native.pointerType,c=e.data.action,f={x:e.data.startEvent.x,y:e.data.startEvent.y},p=e.cancelable;return{type:"pointer-drag",x:r,y:n,pointerId:l,pointerType:u,button:s,buttons:i,action:c,origin:f,native:a,timestamp:e.timestamp,eventId:o,cancelable:p,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"_wrapMouseWheel",value:function(e){var t=e.cancelable,r=e.data,n=e.timestamp;return{type:"mouse-wheel",x:r.x,y:r.y,deltaY:r.deltaY,native:r.native,timestamp:n,cancelable:t,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}},{key:"_wrapGamepad",value:function(e){var t=e.data,r=t.action,n=t.state,i=t.device,a=e.cancelable;return{type:"gamepad",device:i,timestamp:e.timestamp,action:r,buttons:n.buttons,axes:n.axes,cancelable:a,stopPropagation:function(){return e.stopPropagation()},async:function(t){return e.async(t)},preventDefault:function(){return e.preventDefault()}}}}]),r}(Gl.InputHandler);N=s("jHOLN");(eu=Kl||(Kl={}))[eu.USER=0]="USER",eu[eu.MANAGER=1]="MANAGER",(Ql=$l||($l={}))[Ql.None=0]="None",Ql[Ql.Unfocused=1]="Unfocused",Ql[Ql.Focused=2]="Focused",Ql[Ql.Unselected=4]="Unselected",Ql[Ql.Selected=8]="Selected",Ql[Ql.All=15]="All",(Zl=Yl||(Yl={}))[Zl.None=0]="None",Zl[Zl.Custom1=16]="Custom1",Zl[Zl.Custom2=32]="Custom2",Zl[Zl.Custom3=64]="Custom3",Zl[Zl.Custom4=128]="Custom4",Zl[Zl.Custom5=256]="Custom5",Zl[Zl.Custom6=512]="Custom6",Zl[Zl.Custom7=1024]="Custom7",Zl[Zl.Custom8=2048]="Custom8",Zl[Zl.Custom9=4096]="Custom9",Zl[Zl.Custom10=8192]="Custom10",Zl[Zl.Custom11=16384]="Custom11",Zl[Zl.Custom12=32768]="Custom12",Zl[Zl.All=65520]="All";var nu=N.default.getLogger("esri.views.interactive.interactiveToolUtils");function iu(e){return e.visible&&e.getEditableFlag(Kl.USER)&&e.getEditableFlag(Kl.MANAGER)}s("8TSCy");d=s("f9pi5"),y=s("jK9zx"),Rl=s("edmn4"),nt=s("iVfa0"),Z=s("7qybv"),Le=s("iXlXu");s("2VlWd");Le=s("iXlXu");function au(e){return(0,Le.createScreenPoint)(e.x,e.y)}function ou(e,t){var r=(e instanceof HTMLElement?e:e.surface).getBoundingClientRect();return(0,Le.createScreenPoint)(t.clientX-r.left,t.clientY-r.top)}function su(e,t){return t instanceof Event?ou(e,t):au(t)}function lu(e){if(e instanceof Event)return!0;if("object"==typeof e&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}var uu=function(){"use strict";function e(){d.default(this,e),this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._currentlyActiveTool=null,this._revertToActiveTool=!1,this._cursor=null}return y.default(e,[{key:"cursor",get:function(){return this._cursor}},{key:"handleInputEvent",value:function(e,t){var r=function(){return e.stopPropagation()};switch(e.type){case"pointer-move":cu(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(r(),"end"===e.action&&(this._stopDrag=!1));break;case"pointer-down":if(!fu(e))break;var n=au(e),i=this._intersect(n,e.pointerType,t.forEachTool);if((0,Z.isNone)(i))break;var a=this._findToolAndManipulatorByKey(i,t.forEachTool,pu),o=(0,Z.applySome)(a,(function(e){return e.manipulator})),s=(0,Z.applySome)(a,(function(e){return e.tool}));!((0,Z.isSome)(o)&&(0,Z.isSome)(s)&&o.interactive)||o.grabbable&&o.grabbableForEvent(e)||!o.grabbing||o.dragging||this._ungrabManipulatorBeforeDragging(o,s,e),(0,Z.isSome)(o)&&o.interactive&&o.grabbable&&o.grabbableForEvent(e)&&!o.grabbing&&(this._grabbedManipulators.set(e.pointerId,{key:i,start:n,pointerType:e.pointerType}),1===this._grabbedManipulators.size&&t.activeTool!==i.tool&&(this._currentlyActiveTool=t.activeTool,this._revertToActiveTool=!0,t.setActiveTool(i.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:e.pointerType,screenPoint:n}),r());break;case"pointer-up":this._handlePointerEnd(e,t);break;case"pointer-drag":if(!fu(e))break;var l=this._grabbedManipulators.get(e.pointerId),u=this._draggedManipulators.get(e.pointerId),c=(0,Z.applySome)(l||u,(function(e){return e.key})),f=this._findManipulatorByKey(c,t.forEachTool);if((0,Z.isNone)(f))break;var p=au(e);p.x=(0,nt.clamp)(p.x,0,t.view.width),p.y=(0,nt.clamp)(p.y,0,t.view.height);var d=(0,Z.unwrap)(l||u).start;switch(e.action){case"start":case"update":"update"!==e.action&&1!==this._grabbedManipulators.size||(f.dragging=!0,u?f.events.emit("drag",{action:"update",start:d,screenPoint:p}):f.events.emit("drag",{action:"start",start:d,screenPoint:p,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{key:(0,Z.unwrap)(c),start:d}));break;case"end":f.dragging=!1,u&&f.events.emit("drag",{action:"end",start:d,screenPoint:p}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,t)}r();break;case"immediate-click":var h=au(e),y=this._intersect(h,e.pointerType,t.forEachTool),v=this._findToolAndManipulatorByKey(y,t.forEachTool,pu);if(!!e.native.shiftKey||t.forEachTool((function(e){if((!(0,Z.isSome)(v)||v.tool!==e||e.automaticManipulatorSelection)&&e.manipulators){var t=!1;e.manipulators.forEach((function(e){var r=e.manipulator;r.selected&&(r.selected=!1,t=!0)})),t&&e.manipulatorSelectionChanged&&e.manipulatorSelectionChanged()}})),(0,Z.isNone)(v))break;var m=v.manipulator,g=v.tool;if(!m.interactive)break;m.selectable&&g.automaticManipulatorSelection&&(m.selected=!m.selected,g.manipulatorSelectionChanged&&g.manipulatorSelectionChanged());var b=e.native.shiftKey;m.events.emit("immediate-click",{screenPoint:h,button:e.button,pointerType:e.pointerType,shiftKey:b,stopPropagation:r});break;case"click":var _=au(e),w=this._intersect(_,e.pointerType,t.forEachTool),x=this._findManipulatorByKey(w,t.forEachTool);if((0,Z.isNone)(x)||!x.interactive)break;var S=e.native.shiftKey;x.events.emit(e.type,{screenPoint:_,button:e.button,pointerType:e.pointerType,shiftKey:S}),r();break;case"double-click":var k=au(e),T=this._intersect(k,e.pointerType,t.forEachTool),E=this._findManipulatorByKey(T,t.forEachTool);if((0,Z.isNone)(E)||!E.interactive)break;var I=e.native.shiftKey;E.events.emit("double-click",{screenPoint:k,button:e.button,pointerType:e.pointerType,shiftKey:I,stopPropagation:r});break;case"immediate-double-click":var C=au(e),O=this._intersect(C,e.pointerType,t.forEachTool),L=this._findManipulatorByKey(O,t.forEachTool);if((0,Z.isNone)(L)||!L.interactive)break;var A=e.native.shiftKey;L.events.emit("immediate-double-click",{screenPoint:C,button:e.button,pointerType:e.pointerType,shiftKey:A,stopPropagation:r})}this._updateCursor(t.forEachTool)}},{key:"_ungrabManipulatorBeforeDragging",value:function(e,t,r){var n=this;e.grabbing=!1,e.events.emit("grab-changed",{action:"end",pointerType:r.pointerType,screenPoint:au(r)}),this._grabbedManipulators.forEach((function(r,i){var a=r.key;a.tool===t&&t.manipulators.findById(a.manipulatorId)===e&&n._grabbedManipulators.delete(i)}))}},{key:"_handlePointerEnd",value:function(e,t){var r=(0,Z.applySome)(this._grabbedManipulators.get(e.pointerId),(function(e){return e.key})),n=this._findManipulatorByKey(r,t.forEachTool);(0,Z.isSome)(n)&&!n.dragging&&(1===this._grabbedManipulators.size&&0===this._draggedManipulators.size&&this._revertToActiveTool&&(t.setActiveTool(this._currentlyActiveTool),this._revertToActiveTool=!1,this._currentlyActiveTool=null),n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:e.pointerType,screenPoint:au(e)})),this._grabbedManipulators.delete(e.pointerId))}},{key:"_cursorFromMap",value:function(e,t){var r=this,n=null;return(0,Rl.someMap)(e,(function(e){var i=e.key,a=r._findManipulatorByKey(i,t);return!!((0,Z.isSome)(a)&&a.interactive&&"cursor"in a&&a.cursor)&&(n=a.cursor,!0)})),n}},{key:"_updateCursor",value:function(e){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators,e)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators,e)||"pointer":this._cursor=null}},{key:"clearPointers",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0,i=this,a=function(t){return t.tool===e&&((0,Z.isNone)(n)||t.manipulatorId===n)};this._grabbedManipulators.forEach((function(e,r){var n=e.key,o=e.pointerType;if(a(n)){i._grabbedManipulators.delete(r);var s=i._findManipulatorByKey(n,t);(0,Z.isSome)(s)&&(s.grabbing=!1,s.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:o}))}})),this._draggedManipulators.forEach((function(e,r){var n=e.key;if(a(n)){i._draggedManipulators.delete(r);var o=i._findManipulatorByKey(n,t);(0,Z.isSome)(o)&&(o.dragging=!1,o.events.emit("drag",{action:"cancel"}))}})),r&&this._hoveredManipulators.forEach((function(e,r){var n=e.key;if(a(n)){i._hoveredManipulators.delete(r);var o=i._findManipulatorByKey(n,t);(0,Z.isSome)(o)&&(o.hovering=!1)}})),this._updateCursor(t)}},{key:"_intersect",value:function(e,t,r){var n=null;return r((function(r){if(null==r.manipulators||!iu(r))return!1;var i=r.manipulators.intersect(e,t);return!(0,Z.isNone)(i)&&(n={manipulatorId:i.id,tool:r},!0)})),n}},{key:"updateHoveredStateFromKnownPointers",value:function(e){var t=this;this._pointerLocations.forEach((function(r,n){t._updateHoveredStateForPointerAtScreenPosition((0,Le.createScreenPoint)(r.x,r.y),n,r.pointerType,e)}))}},{key:"handleHoverEvent",value:function(e,t){"pointer-up"!==e.type&&"immediate-click"!==e.type&&"pointer-move"!==e.type||!cu(e.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(au(e),e.pointerId,e.pointerType,t)}},{key:"_updateHoveredStateForPointerAtScreenPosition",value:function(e,t,r,n){var i=this._intersect(e,r,n),a=this._findManipulatorByKey(i,n),o=(0,Z.applySome)(this._hoveredManipulators.get(t),(function(e){return e.key})),s=this._findManipulatorByKey(o,n);(0,Z.isSome)(a)&&!a.interactive&&(a=null),s!==a&&((0,Z.isSome)(s)&&(s.hovering=!1),(0,Z.isSome)(a)?(a.hovering=!0,this._hoveredManipulators.set(t,{key:(0,Z.unwrap)(i)})):this._hoveredManipulators.delete(t),this._updateCursor(n))}},{key:"_findManipulatorByKey",value:function(e,t){return this._findToolAndManipulatorByKey(e,t,pu)?pu.manipulator:null}},{key:"_findToolAndManipulatorByKey",value:function(e,t,r){return(0,Z.isNone)(e)?null:(r.tool=null,r.manipulator=null,t((function(t){if(t!==e.tool||null==t.manipulators||!iu(t))return!1;var n=t.manipulators.findById(e.manipulatorId);return!!(0,Z.isSome)(n)&&(r.manipulator=n,r.tool=t,!0)})),r.manipulator?r:null)}}]),e}();function cu(e){return"mouse"===e}function fu(e){return"mouse"!==e.pointerType||0===e.button}var pu={manipulator:null,tool:null},du=N.default.getLogger("esri.views.ToolViewManager"),hu="attached",yu="tools",vu=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._manipulatorState=new uu,n.tools=new(0,T.default),n.cursor=null,n._forEachTool=function(e){var t=!0,r=!1,i=void 0;try{for(var a,o=n.tools.items[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){if(e(a.value))return}}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}},h.default(n)}return y.default(r,[{key:"initialize",value:function(){var e,t=this;this.handles.add([this.view.on(Jl,(function(e){t._handleInputEvent(e)}),po.ViewEventPriorities.TOOL)].concat(De.default([(e=this.tools).on("before-add",(function(t){var r=t.item;if(null==r||e.includes(r))return nu.warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault()})),e.on("after-remove",(function(e){var t=e.item;t.visible=!1,t.active&&(t.view.activeTool=null),t.destroy()}))]),[this.tools.on("before-remove",(function(e){var r=e.item;t._manipulatorState.clearPointers(r,t._forEachTool)})),this.tools.on("change",(function(){t._refreshToolWatchers()}))]))}},{key:"destroy",value:function(){this.detach(),this.handles.removeAll()}},{key:"activeTool",set:function(e){if(!(0,Z.isSome)(e)||this.view.ready)if(e!==this.activeTool){var t=this.activeTool;this._set("activeTool",e),(0,Z.isSome)(t)&&t.deactivate(),(0,Z.isSome)(e)&&e.activate(),this._removeIncompleteTools(e);var r=(0,Z.isNone)(this.activeTool),n=!0,i=!1,a=void 0;try{for(var o,s=this.tools[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;l.setEditableFlag(Kl.MANAGER,r||l===this.activeTool);var u=iu(l);!r&&u||this._manipulatorState.clearPointers(l,this._forEachTool,!u)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}this._updateCursor()}else(0,Z.isSome)(e)&&du.warn("Tool is already active - ignoring activation request.");else du.error("Cannot set active tool while view is not ready.")}},{key:"updating",get:function(){var e,t;return this.updatingHandles.updating||this.tools.some((function(e){return e.updating}))||null!=(e=null==(t=this.textures)?void 0:t.updating)&&e}},{key:"attach",value:function(){var e=this;"3d"===this.view.type?(this._set("textures",new Hl(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([this.view.state.watch("camera",(function(){e._forEachManipulator((function(e){null!=e.onViewChange&&e.onViewChange()}))})),this.view.elevationProvider.on("elevation-change",(function(t){e._forEachManipulator((function(e){null!=e.onElevationChange&&e.onElevationChange(t)}))})),(0,Tl.makeHandle)((function(){return e._set("textures",(0,Z.destroyMaybe)(e.textures))}))],hu)):this.handles.add(this.view.watch("extent",(function(){e._forEachManipulator((function(e){null!=e.onViewChange&&e.onViewChange()}))})))}},{key:"detach",value:function(){(0,Z.isSome)(this.activeTool)&&(this.activeTool=null),this.tools.removeAll(),this.handles.remove(hu)}},{key:"_forEachManipulator",value:function(e){this._forEachTool((function(t){t.manipulators&&t.manipulators.forEach((function(r){var n=r.manipulator;return e(n,t)}))}))}},{key:"_handleInputEvent",value:function(e){var t=this,r=!1,n=b.default({},e,{stopPropagation:function(){r=!0,e.stopPropagation()}});(0,Z.isSome)(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(n):this._forEachTool((function(e){!r&&e.visible&&e.handleInputEvent(n)})),!r&&"key-down"===e.type&&"Escape"===e.key&&this.activeTool&&(e.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(n,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:function(e){t.activeTool=e},view:this.view}),!r&&(0,Z.isSome)(this.activeTool)&&this.activeTool.handleInputEventAfter(n),this._manipulatorState.handleHoverEvent(n,this._forEachTool),this._updateCursor()}},{key:"_refreshToolWatchers",value:function(){var e=this;this.handles.remove(yu),this._forEachTool((function(t){var r=e;if(t instanceof X.default){var n=e,i=(0,Qe.watch)(t,["cursor","visible","editable"],(function(){iu(t)||n._manipulatorState.clearPointers(t,n._forEachTool),n._updateCursor()}));e.handles.add(i,yu)}t.manipulators&&e.handles.add(t.manipulators.on("change",(function(e){var n=r;e.removed.forEach((function(e){var r=e.id;n._manipulatorState.clearPointers(t,n._forEachTool,!0,r)})),r._manipulatorState.updateHoveredStateFromKnownPointers(r._forEachTool),r._updateCursor()})),yu)})),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}},{key:"_updateCursor",value:function(){var e=this._manipulatorState.cursor;this._forEachTool((function(t){return!(!(0,Z.isSome)(t.cursor)||!t.visible||(e=t.cursor,0))})),this._get("cursor")!==e&&this._set("cursor",e)}},{key:"_removeIncompleteTools",value:function(e){var t=this;this.tools.filter((function(t){return((0,Z.isNone)(e)||t!==e)&&!t.created})).forEach((function(e){t.tools.remove(e)}))}}]),r}(ut.HandleOwner);(0,v._)([(0,P.property)({constructOnly:!0,nonNullable:!0})],vu.prototype,"view",void 0),(0,v._)([(0,P.property)({readOnly:!0,nonNullable:!0})],vu.prototype,"textures",void 0),(0,v._)([(0,P.property)({value:null})],vu.prototype,"activeTool",null),(0,v._)([(0,P.property)({readOnly:!0,type:T.default})],vu.prototype,"tools",void 0),(0,v._)([(0,P.property)({readOnly:!0})],vu.prototype,"cursor",void 0),(0,v._)([(0,P.property)({readOnly:!0})],vu.prototype,"updating",null);var mu=vu=(0,v._)([(0,j.subclass)("esri.views.ToolViewManager")],vu);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),v=s("7eJjO"),X=s("jymfC"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),De=s("5Vgx8"),h=s("bFSSc"),v=s("7eJjO"),X=s("jymfC"),T=s("d2yMj"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),X=s("jymfC"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var gu=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this)).nativeIndex=null,n._detectedDeviceType="unknown","standard"===e.mapping?n._detectedDeviceType="standard":bu.test(e.id)?n._detectedDeviceType="spacemouse":n._detectedDeviceType="unknown",n.nativeIndex=e.index,h.default(n)}return y.default(r,[{key:"native",get:function(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}},{key:"deviceType",get:function(){return this._detectedDeviceType}},{key:"axisThreshold",get:function(){return _u[this.deviceType]}}]),r}(X.default);(0,v._)([(0,P.property)({nonNullable:!0,readOnly:!0})],gu.prototype,"nativeIndex",void 0),(0,v._)([(0,P.property)({type:String,readOnly:!0})],gu.prototype,"deviceType",null),(0,v._)([(0,P.property)({type:Number,readOnly:!0})],gu.prototype,"axisThreshold",null),gu=(0,v._)([(0,j.subclass)("esri.views.input.gamepad.GamepadInputDevice")],gu);var bu=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),_u={standard:.15,spacemouse:.025,unknown:0},wu=gu,xu=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a;return d.default(this,r),(a=t.call.apply(t,[this].concat(De.default(n)))).devices=new(0,T.default),a.enabledFocusMode="document",h.default(a)}return r}(X.default);(0,v._)([(0,P.property)({type:T.default.ofType(wu),readOnly:!0})],xu.prototype,"devices",void 0),(0,v._)([(0,P.property)({type:["document","view","none"]})],xu.prototype,"enabledFocusMode",void 0);var Su=xu=(0,v._)([(0,j.subclass)("esri.views.input.gamepad.GamepadSettings")],xu),ku=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){var e;return d.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).gamepad=new Su,h.default(e)}return r}(X.default);(0,v._)([(0,P.property)({readOnly:!0})],ku.prototype,"gamepad",void 0);var Tu=ku=(0,v._)([(0,j.subclass)("esri.views.input.Input")],ku);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),v=s("7eJjO"),X=s("jymfC"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),v=s("7eJjO"),X=s("jymfC"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Eu=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).enabled=!0,n.device=null,n.mode="pan",n.tiltDirection="forward-down",n.velocityFactor=1,h.default(n)}return r}(X.default);(0,v._)([(0,P.property)({type:Boolean,nonNullable:!0})],Eu.prototype,"enabled",void 0),(0,v._)([(0,P.property)({type:wu})],Eu.prototype,"device",void 0),(0,v._)([(0,P.property)({type:["pan","zoom"],nonNullable:!0})],Eu.prototype,"mode",void 0),(0,v._)([(0,P.property)({type:["forward-down","forward-up"],nonNullable:!0})],Eu.prototype,"tiltDirection",void 0),(0,v._)([(0,P.property)({type:Number,nonNullable:!0})],Eu.prototype,"velocityFactor",void 0);var Iu=Eu=(0,v._)([(0,j.subclass)("esri.views.navigation.gamepad.GamepadSettings")],Eu),Cu=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).browserTouchPanEnabled=!0,n.gamepad=new Iu,n.momentumEnabled=!0,n.mouseWheelZoomEnabled=!0,h.default(n)}return r}(X.default);(0,v._)([(0,P.property)({type:Boolean})],Cu.prototype,"browserTouchPanEnabled",void 0),(0,v._)([(0,P.property)({type:Iu,nonNullable:!0})],Cu.prototype,"gamepad",void 0),(0,v._)([(0,P.property)({type:Boolean})],Cu.prototype,"momentumEnabled",void 0),(0,v._)([(0,P.property)({type:Boolean})],Cu.prototype,"mouseWheelZoomEnabled",void 0);var Ou=Cu=(0,v._)([(0,j.subclass)("esri.views.navigation.Navigation")],Cu);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),u=s("kswSi"),_=s("jcnGU"),b=s("ifq4M"),De=s("5Vgx8"),S=s("2TvXO"),v=s("7eJjO"),X=s("jymfC"),N=s("jHOLN"),Z=s("7qybv"),R=s("10vEZ"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");s("2VlWd");C=s("kyj08"),Z=s("7qybv"),Cl=s("dt8qO");var Lu,Au,Mu=s("lmu5w");function Nu(e){var t=e.url&&(0,Mu.parse)(e.url);return null==(e.spatialReference&&e.spatialReference.vcsWkid)&&(0,Z.isSome)(t)&&"ImageServer"===t.serverType||!Ru(e)||!e.heightModelInfo?Fu(e)?Cl.default.deriveUnitFromSR(Du,e.spatialReference):null:e.heightModelInfo}function Ru(e){return"heightModelInfo"in e}function Pu(e){if("unknown"===e.type||!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"wfs":return!0;default:return!1}}function Fu(e){return Pu(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):ju(e)}function ju(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"analysis":case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"map-image":case"map-notes":case"ogc-feature":case"open-street-map":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(Au=Lu||(Lu={}))[Au.Ok=0]="Ok",Au[Au.Units=1]="Units",Au[Au.HeightModel=2]="HeightModel",Au[Au.CRS=3]="CRS",Au[Au.Unsupported=4]="Unsupported";var Du=new(0,Cl.default)({heightModel:"gravity-related-height"}),Uu=s("lSSNj");s("8TSCy");_=s("jcnGU"),S=s("2TvXO"),R=s("10vEZ"),Pe=s("7RvA5");var Vu,Bu=null;function Hu(e){return zu.apply(this,arguments)}function zu(){return(zu=_.default(n(S).mark((function e(t){return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bu||(Bu=s("56utH").then((function(e){return Vu=e}))),e.next=3,Bu;case 3:(0,R.throwIfAborted)(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wu(e,t,r,n){return Gu.apply(this,arguments)}function Gu(){return(Gu=_.default(n(S).mark((function e(t,r,i,a){var o;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(o=t.spatialReference,!(0,Pe.isLoaded)()&&!(0,Pe.canProjectWithoutEngine)(o,r)){e.next=7;break}e.t0=(0,Pe.project)(t,r),e.next=15;break;case 7:if(!Vu){e.next=11;break}e.t1=Vu.projectGeometry(t,r,i,a),e.next=14;break;case 11:return e.next=13,Promise.race([Hu(a),(0,Pe.load)(a)]);case 13:e.t1=(e.sent,Wu(t,r,i,a));case 14:e.t0=e.t1;case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ju=N.default.getLogger("esri.views.support.DefaultsFromMap");Ju.level="info";var qu=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).required={tileInfo:!1,heightModelInfo:!1,extent:!1},n.defaultSpatialReference=null,n.userSpatialReference=null,n.sourcePreloadCount=10,n.priorityCollection=null,n.logDebugInformation=!1,n.requiresExtentInSpatialReference=!0,n.suspended=!1,n._projectExtentTask={task:null,input:null,output:null,spatialReference:null},h.default(n)}return y.default(r,[{key:"destroy",value:function(){this._projectExtentTask.task&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=(0,Z.abortMaybe)(this._projectExtentTask.task)),this._set("map",null)}},{key:"ready",get:function(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}},{key:"heightModelInfoReady",get:function(){return!this._heightModelInfoTask.updating}},{key:"spatialReference",get:function(){return(0,Z.isSome)(this.userSpatialReference)?this.userSpatialReference:(0,Z.unwrap)(this._spatialReferenceTask.spatialReference)}},{key:"extent",get:function(){return(0,Z.unwrap)(this._extentTask.extent)}},{key:"heightModelInfo",get:function(){return(0,Z.unwrap)(this._heightModelInfoTask.heightModelInfo)}},{key:"vcsWkid",get:function(){return(0,Z.unwrap)(this._heightModelInfoTask.vcsWkid)}},{key:"latestVcsWkid",get:function(){return(0,Z.unwrap)(this._heightModelInfoTask.latestVcsWkid)}},{key:"viewingMode",get:function(){return(0,Z.isNone)(this.userSpatialReference)||this.userSpatialReference.equals((0,Z.unwrap)(this._spatialReferenceTask.spatialReference))?(0,Z.unwrap)(this._spatialReferenceTask.viewingMode):null}},{key:"tileInfo",get:function(){return(0,Z.unwrap)(this._tileInfoTask.tileInfo)}},{key:"mapCollections",get:function(){var e,t,r,n,i=null==(e=this.map)?void 0:e.call(this),a=[];return(0,Z.isSome)(this.priorityCollection)&&a.push(this.priorityCollection),a.push({parent:null==i?void 0:i.basemap,layers:null==i||null==(t=i.basemap)?void 0:t.baseLayers},{layers:null==i?void 0:i.layers},{parent:null==i?void 0:i.ground,layers:null==i||null==(r=i.ground)?void 0:r.layers},{parent:null==i?void 0:i.basemap,layers:null==i||null==(n=i.basemap)?void 0:n.referenceLayers}),a}},{key:"_allLayers",get:function(){var e,t,r=this._collectLayers(this.mapCollections);return this._debug("Collected",null!=(e=null==(t=r.layers)?void 0:t.length)?e:0,"layers, updating",r.updating),r}},{key:"_spatialReferenceTask",get:function(){var e,t;if(this.suspended)return null!=(t=this._get("_spatialReferenceTask"))?t:{updating:!1};var r=this._allLayers,n=r.layers,i=r.updating,a={candidates:null},o=!0,s=!1,l=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;if(this._processSpatialReferenceCandidates(f,a),a.candidates&&1===a.candidates.length)break}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}if(1!==(null==(e=a.candidates)?void 0:e.length)&&i)return{updating:!0};var p=this._pickSpatialReferenceCandidate(a.candidates);return this._debug("Finished spatial reference",(0,Z.isSome)(p)?"".concat(p.spatialReference.wkid,":").concat((0,Z.isSome)(p.viewingMode)?(0,Uu.stringFromViewingMode)(p.viewingMode):"global/local"):"none available"),{spatialReference:(0,Z.isSome)(p)?p.spatialReference:null,viewingMode:(0,Z.isSome)(p)?p.viewingMode:null,updating:!1}}},{key:"_tileInfoTask",get:function(){var e,t,r,n,i,a,o,s;if(!this.required.tileInfo)return null!=(s=this._get("_tileInfoTask"))?s:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};var l=this._collectLayers([{parent:null==(e=this.map)||null==(t=e.call(this))?void 0:t.basemap,layers:null==(r=this.map)||null==(n=r.call(this))||null==(i=n.basemap)?void 0:i.baseLayers},{layers:null==(a=this.map)||null==(o=a.call(this))?void 0:o.layers}]),u=l.layers,c=l.updating;if(u&&u.length>0&&"tileInfo"in u[0]){var f=u[0].tileInfo;return{tileInfo:f&&f.spatialReference.equals(this.spatialReference)?f:null,updating:!1}}return{updating:c}}},{key:"_heightModelInfoTask",get:function(){var e,t;if(!this.required.heightModelInfo||this.suspended&&null!=(e=this._get("_heightModelInfoTask"))&&e.heightModelInfo)return null!=(t=this._get("_heightModelInfoTask"))?t:{updating:!1};var r,n=this._allLayers,i=n.layers,a=n.updating,o=!0,s=!1,l=void 0;try{for(var u,c=i[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f,p,d=u.value;if(this._debug("Considering",null!=(f=null!=(p=d.title)?p:d.id)?f:d.declaredClass,"for height model info"),null!=(r=d).layers||ju(r)||Pu(r)||Ru(r)){var h,y,v=Nu(d);if(v)return this._debug("Derived height model info",v),{heightModelInfo:v,vcsWkid:null==(h=d.spatialReference)?void 0:h.vcsWkid,latestVcsWkid:null==(y=d.spatialReference)?void 0:y.latestVcsWkid,updating:!1}}this._debug("Layer does not support height models")}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}return this._debug("No height model info found,","updating",a),{updating:a}}},{key:"_extentCandidatesTask",get:function(){var e;if(this.suspended||!this.required.extent)return null!=(e=this._get("_extentCandidatesTask"))?e:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};var t=this._allLayers,r=t.updating,n=[],i=!0,a=!1,o=void 0;try{for(var s,l=this,c=function(e,t){var r,i=t.value,a=l,o="fullExtents"in i&&i.fullExtents||((0,Z.isSome)(i.fullExtent)?[i.fullExtent]:[]),s=l.requiresExtentInSpatialReference?null:o[0],u=null!=(r=o.find((function(e){return e.spatialReference.equals(a.spatialReference)})))?r:s;if(u)return{v:{candidates:[{extent:u,layer:i}],updating:!1}};var c=!0,f=!1,p=void 0;if(l._getSupportedSpatialReferences(i).length>0)try{for(var d,h=o[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var y=d.value;n.push({extent:y,layer:i})}}catch(e){f=!0,p=e}finally{try{c||null==h.return||h.return()}finally{if(f)throw p}}},f=t.layers[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var p=c(0,s);if("object"===u.default(p))return p.v}}catch(e){a=!0,o=e}finally{try{i||null==f.return||f.return()}finally{if(a)throw o}}return{candidates:n,updating:r}}},{key:"_extentTask",get:function(){var e=this._extentCandidatesTask,t=e.candidates,r=e.updating;if(r)return{updating:r};if((0,Z.isNone)(t)||0===t.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};var i,a=this._pickExtentCandidate(t),o=this.spatialReference,s=this;return a.extent.equals(this._projectExtentTask.input)&&o.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:(0,Z.isSome)(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished}:((0,Z.isSome)(this._projectExtentTask.task)&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=(0,Z.abortMaybe)(this._projectExtentTask.task)),this._debug("Starting project extent task for",a.extent),this._projectExtentTask={input:a.extent.clone(),output:null,spatialReference:o.clone(),task:(0,R.createTask)((i=_.default(n(S).mark((function e(t){var r;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wu(a.extent,o,a.layer.portalItem,t);case 3:r=e.sent,s._debug("Project extent task finished",r),s._projectExtentTask=b.default({},s._projectExtentTask,{task:null,output:r}),e.next=12;break;case 7:if(e.prev=7,e.t0=e.catch(0),!(0,R.isAborted)(t)){e.next=11;break}return e.abrupt("return");case 11:s._projectExtentTask=b.default({},s._projectExtentTask,{task:null});case 12:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e){return i.apply(this,arguments)}))},{updating:!0})}},{key:"_processSpatialReferenceCandidates",value:function(e,t){var r,n,i,a=this._getSupportedSpatialReferences(e);if(0!==a.length)if(this._debug("Spatial reference candidates from",null!=(r=e.title)?r:e.id,":",a.map((function(e){return"".concat(e.spatialReference.wkid,":").concat((0,Z.isSome)(e.viewingMode)?(0,Uu.stringFromViewingMode)(e.viewingMode):"global/local")})).join(", ")),t.candidates){var o=[],s=!0,l=!1,u=void 0,c=!0,f=!1,p=void 0;try{for(var d,h=t.candidates[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var y=d.value;try{for(var v,m=a[Symbol.iterator]();!(s=(v=m.next()).done);s=!0){var g=v.value;if(y.spatialReference.equals(g.spatialReference)){var b=(n=y,i=g,(0,Z.isNone)(n.viewingMode)?i.viewingMode:((0,Z.isNone)(i.viewingMode)||n.viewingMode===i.viewingMode)&&n.viewingMode);if(!1!==b){o.push({spatialReference:y.spatialReference,viewingMode:b});break}}}}catch(e){l=!0,u=e}finally{try{s||null==m.return||m.return()}finally{if(l)throw u}}}}catch(e){f=!0,p=e}finally{try{c||null==h.return||h.return()}finally{if(f)throw p}}o.length>0&&(t.candidates=o)}else t.candidates=a}},{key:"_pickSpatialReferenceCandidate",value:function(e){var t=this.defaultSpatialReference;return!e||e.length<1?(0,Z.isSome)(t)?{spatialReference:t,viewingMode:null}:null:((0,Z.isSome)(t)&&e.length>1&&e.some((function(e){return e.spatialReference.equals(t)}))&&(e=e.filter((function(e){return e.spatialReference.equals(t)}))),e.length>1&&e.some((function(e){return e.viewingMode!==Uu.ViewingMode.Local}))&&(e=e.filter((function(e){return e.viewingMode!==Uu.ViewingMode.Local}))),e[0])}},{key:"_getSupportedSpatialReferences",value:function(e){var t="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(0===t.length)return[];var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value,u=this.getSpatialReferenceSupport({spatialReference:l,layer:e});if((0,Z.isSome)(u)){var c=(0,Z.isSome)(u.constraints)?u.constraints:[{spatialReference:l}],f=!0,p=!1,d=void 0;try{for(var h,y=c[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var v=h.value,m=v.spatialReference,g=v.viewingMode;(!this.requiresExtentInSpatialReference||(0,Z.isNone)(this.userSpatialReference)||m.equals(this.userSpatialReference))&&r.push({spatialReference:m,viewingMode:g})}}catch(e){p=!0,d=e}finally{try{f||null==y.return||y.return()}finally{if(p)throw d}}}}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}},{key:"_pickExtentCandidate",value:function(e){var t=this.spatialReference;return e.find((function(e){var r=e.extent;return t.equals(r.spatialReference)}))||e[0]}},{key:"_collectLayers",value:function(e){var t;if("loaded"!==this._loadMaybe(null==(t=this.map)?void 0:t.call(this)))return{layers:[],updating:!0};var r={layers:[],preloading:-1,updating:!1},n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;if(this._collectCollection(l,r),r.preloading===this.sourcePreloadCount)break}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return{layers:r.layers,updating:r.updating}}},{key:"_collectCollection",value:function(e,t){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return t.updating=!0,void++t.preloading;case"failed":return}var r=!0,n=!1,i=void 0;try{for(var a,o=e.layers[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;switch(this._loadMaybe(s)){case"failed":continue;case"loading":t.updating=!0,++t.preloading;break;case"loaded":var l,u;t.updating||(this._debug("Considering layer",null!=(l=null!=(u=s.title)?u:s.id)?l:s.declaredClass),t.layers.push(s)),"layers"in s&&this._collectCollection({layers:s.layers},t)}if(t.preloading===this.sourcePreloadCount)break}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}}},{key:"_loadMaybe",value:function(e){var t,r;return e&&"loadStatus"in e?"not-loaded"===e.loadStatus?(this._debug("Triggering load",null!=(t=null!=(r=e.title)?r:e.id)?t:e.declaredClass),e.load(),"loading"):e.loadStatus:"loaded"}},{key:"_debug",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;this.logDebugInformation&&(n=Ju).info.apply(n,De.default(t))}}]),r}(X.default);(0,v._)([(0,P.property)()],qu.prototype,"required",void 0),(0,v._)([(0,P.property)({constructOnly:!0})],qu.prototype,"map",void 0),(0,v._)([(0,P.property)({constructOnly:!0})],qu.prototype,"getSpatialReferenceSupport",void 0),(0,v._)([(0,P.property)()],qu.prototype,"defaultSpatialReference",void 0),(0,v._)([(0,P.property)()],qu.prototype,"userSpatialReference",void 0),(0,v._)([(0,P.property)()],qu.prototype,"sourcePreloadCount",void 0),(0,v._)([(0,P.property)()],qu.prototype,"priorityCollection",void 0),(0,v._)([(0,P.property)()],qu.prototype,"logDebugInformation",void 0),(0,v._)([(0,P.property)()],qu.prototype,"requiresExtentInSpatialReference",void 0),(0,v._)([(0,P.property)()],qu.prototype,"suspended",void 0),(0,v._)([(0,P.property)({readOnly:!0})],qu.prototype,"ready",null),(0,v._)([(0,P.property)({readOnly:!0})],qu.prototype,"heightModelInfoReady",null),(0,v._)([(0,P.property)({readOnly:!0})],qu.prototype,"spatialReference",null),(0,v._)([(0,P.property)({readOnly:!0})],qu.prototype,"extent",null),(0,v._)([(0,P.property)({readOnly:!0})],qu.prototype,"heightModelInfo",null),(0,v._)([(0,P.property)({readOnly:!0})],qu.prototype,"vcsWkid",null),(0,v._)([(0,P.property)({readOnly:!0})],qu.prototype,"latestVcsWkid",null),(0,v._)([(0,P.property)({readOnly:!0})],qu.prototype,"viewingMode",null),(0,v._)([(0,P.property)({readOnly:!0})],qu.prototype,"tileInfo",null),(0,v._)([(0,P.property)({readOnly:!0})],qu.prototype,"mapCollections",null),(0,v._)([(0,P.property)({readOnly:!0})],qu.prototype,"_allLayers",null),(0,v._)([(0,P.property)({readOnly:!0})],qu.prototype,"_spatialReferenceTask",null),(0,v._)([(0,P.property)({readOnly:!0})],qu.prototype,"_tileInfoTask",null),(0,v._)([(0,P.property)({readOnly:!0})],qu.prototype,"_heightModelInfoTask",null),(0,v._)([(0,P.property)({readOnly:!0})],qu.prototype,"_extentCandidatesTask",null),(0,v._)([(0,P.property)()],qu.prototype,"_extentTask",null),(0,v._)([(0,P.property)()],qu.prototype,"_projectExtentTask",void 0);var Xu,Ku=qu=(0,v._)([(0,j.subclass)("esri.views.support.DefaultsFromMap")],qu),$u=N.default.getLogger("esri.views.View"),Yu=Xu=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._userSpatialReference=null,n._cursor=null,n.allLayerViews=new(0,K.default)({getCollections:function(){var e,t,r;return[null==(e=n.basemapView)?void 0:e.baseLayerViews,null==(t=n.groundView)?void 0:t.layerViews,n.layerViews,null==(r=n.basemapView)?void 0:r.referenceLayerViews]},getChildrenFunction:function(e){return e.layerViews}}),n.groundView=null,n.animation=null,n.basemapView=null,n.fatalError=null,n.extent=null,n.graphics=new(0,Ml.GraphicsCollection),n.analyses=new Al,n.navigating=!1,n.typeSpecificPreconditionsReady=!0,n.layerViews=new(0,T.default),n.magnifier=new Vl,n.padding={left:0,top:0,right:0,bottom:0},n.ready=!1,n.spatialReferenceWarningDelay=1e3,n.supportsGround=!0,n.timeExtent=null,n.type=null,n.scale=null,n.updating=!1,n.initialExtentRequired=!0,n.input=new Tu,n.navigation=new Ou,n.layerViewManager=null,n.analysisViewManager=null,n.isHeightModelInfoRequired=!1,n.width=null,n.height=null,n.resizing=!1,n.suspended=!1,n.viewEvents=new tu(g.default(n)),n.persistableViewModels=new(0,T.default),n._isValid=!1,n._readyCycleForced=!1,n.handles.add(n.watch("preconditionsReady",(function(e){var t,r;e?(n._currentSpatialReference=n.spatialReference,Xu.views.add(g.default(n))):(n._currentSpatialReference=null,Xu.views.remove(g.default(n))),n.notifyChange("spatialReference"),!e&&n.ready?(null==(t=n.layerViewManager)||t.clear(),null==(r=n.toolViewManager)||r.detach(),(0,Z.isSome)(n.analysisViewManager)&&n.analysisViewManager.detach(),n._teardown()):e&&!n.ready&&((0,Z.isSome)(n.analysisViewManager)&&n.analysisViewManager.attach(),n._startup(),n.toolViewManager.attach())}),!0)),h.default(n)}return y.default(r,[{key:"initialize",value:function(){var e=this;this.addResolvingPromise(this.validate().then((function(){return e._isValid=!0,(0,Oe.whenOnce)((function(){return e.ready}))}))),this.basemapView=new Nl({view:this}),this.layerViewManager=new Dl({view:this,layerViewImporter:{importLayerView:function(t){return e.importLayerView(t)},hasLayerViewModule:function(t){return e.hasLayerViewModule(t)}},supportsGround:this.supportsGround}),this.toolViewManager=new mu({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([(0,Oe.watch)((function(){return e.initialExtentRequired}),(function(t){return e.defaultsFromMap.required=b.default({},e.defaultsFromMap.required,{extent:t})}),{sync:!0,initial:!0}),(0,Oe.watch)((function(){return e.ready}),(function(t){e.defaultsFromMap&&(e.defaultsFromMap.suspended=t,e.defaultsFromMap.userSpatialReference=t?e.spatialReference:e._userSpatialReference)}),{sync:!0}),(0,Oe.watch)((function(){return e._userSpatialReference}),(function(t){e.defaultsFromMap&&(e.defaultsFromMap.userSpatialReference=t)}),{sync:!0,initial:!0})])}},{key:"_setupSpatialReferenceLogger",value:function(){var e=this,t=null;this.handles.add([(0,Oe.watch)((function(){var t;return null==(t=e.defaultsFromMap)?void 0:t.ready}),(function(r){var i,a,o=(null==(i=e.map)?void 0:i.allLayers.length)>0;if(r&&!e.spatialReference&&o){if((0,Z.isSome)(t))return;var s=(0,Tl.makeHandle)((function(){return t=(0,Z.abortMaybe)(t)})),l=e;t=(0,R.createTask)((a=_.default(n(S).mark((function e(r){return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,R.after)(l.spatialReferenceWarningDelay,null,r);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:return e.prev=8,t=null,e.finish(8);case 11:$u.warn("#spatialReference","no spatial reference could be derived from the currently added map layers");case 12:case"end":return e.stop()}}),e,null,[[0,5,8,11]])}))),function(e){return a.apply(this,arguments)})),e.handles.add(s,"spatial-reference-logger-task")}else e.handles.remove("spatial-reference-logger-task")}),{sync:!0})])}},{key:"destroy",value:function(){if(!this.destroyed){this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=(0,Z.destroyMaybe)(this.graphics),this.analyses=(0,Z.destroyMaybe)(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.toolViewManager=(0,Z.destroyMaybe)(this.toolViewManager),this.layerViewManager=(0,Z.destroyMaybe)(this.layerViewManager),this.basemapView=(0,Z.destroyMaybe)(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll();var e=this.map;this.map=null,null==e||e.destroy()}}},{key:"_startup",value:function(){this._set("ready",!0)}},{key:"_teardown",value:function(){this._set("ready",!1)}},{key:"whenReady",value:function(){return Promise.resolve(this)}},{key:"toMap",value:function(){return $u.error("#toMap()","Not implemented on this instance of View"),null}},{key:"_defaultsFromMapSettings",get:function(){return{}}},{key:"defaultsFromMap",get:function(){var e=this;return new Ku(b.default({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:function(){return e.map},getSpatialReferenceSupport:function(t){return e.getSpatialReferenceSupport(t)}},this._defaultsFromMapSettings))}},{key:"heightModelInfo",get:function(){return this.getDefaultHeightModelInfo()}},{key:"interacting",get:function(){return this.navigating}},{key:"preconditionsReady",get:function(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||A.default.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!(this._currentSpatialReference||null!=(e=this.defaultsFromMap)&&e.ready)||!this.typeSpecificPreconditionsReady)}},{key:"map",set:function(e){var t;e!==this._get("map")&&(null!=(t=e)&&t.destroyed&&($u.warn("#map","The provided map is already destroyed",{map:e}),e=null),A.default.isLoadable(e)&&e.load().catch((function(){})),this.initialized&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",e))}},{key:"spatialReference",get:function(){var e,t,r=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return r&&null!=(e=this.defaultsFromMap)&&null!=(t=e.required)&&t.heightModelInfo&&((r=r.clone()).vcsWkid=this.defaultsFromMap.vcsWkid,r.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),r},set:function(e){var t=!(0,Fe.equals)(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}},{key:"_spatialReferenceChanged",value:function(e){}},{key:"stationary",get:function(){return!this.animation&&!this.navigating&&!this.resizing}},{key:"initialExtent",get:function(){var e;return null==(e=this.defaultsFromMap)?void 0:e.extent}},{key:"cursor",get:function(){var e=this.toolViewManager?this.toolViewManager.cursor:null;return(0,Z.isSome)(e)?e:this._cursor||"default"},set:function(e){this._cursor=e,this.notifyChange("cursor")}},{key:"size",get:function(){return[this.width,this.height]}},{key:"whenLayerView",value:function(e){return this.layerViewManager.whenLayerView(e)}},{key:"getDefaultSpatialReference",value:function(){var e;return null==(e=this.defaultsFromMap)?void 0:e.spatialReference}},{key:"getDefaultHeightModelInfo",value:function(){var e,t,r;return null!=(e=null!=(t=this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)?t:null==(r=this.defaultsFromMap)?void 0:r.heightModelInfo)?e:null}},{key:"importLayerView",value:function(e){throw new(0,C.default)("importLayerView() not implemented")}},{key:"hasLayerViewModule",value:function(e){return!1}},{key:"validate",value:function(){return _.default(n(S).mark((function e(){return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},{key:"invalidate",value:function(){this._isValid=!1}},{key:"getSpatialReferenceSupport",value:function(){return{}}},{key:"_validateSpatialReference",value:function(e){return(0,Z.isSome)(this.getSpatialReferenceSupport({spatialReference:e}))}},{key:"when",value:function(e,t){return this.isResolved()&&!this.ready&&$u.warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),w.default(x.default(r.prototype),"when",this).call(this,e,t)}},{key:"forceReadyCycle",value:function(){var e=this;this.ready&&((0,Oe.when)((function(){return!1===e.preconditionsReady}),(function(){return e._readyCycleForced=!1}),{once:!0}),this._readyCycleForced=!0)}},{key:"addAndActivateTool",value:function(e){this.toolViewManager.tools.add(e),this.activeTool=e}},{key:"tryFatalErrorRecovery",value:function(){this.fatalError=null}}]),r}((0,ut.HandleOwnerMixin)(Y.default.EventedMixin((0,El.EsriPromiseMixin)(X.default))));Yu.views=new(0,T.default),(0,v._)([(0,P.property)()],Yu.prototype,"_userSpatialReference",void 0),(0,v._)([(0,et.aliasOf)("toolViewManager.activeTool")],Yu.prototype,"activeTool",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Yu.prototype,"allLayerViews",void 0),(0,v._)([(0,P.property)()],Yu.prototype,"groundView",void 0),(0,v._)([(0,P.property)()],Yu.prototype,"animation",void 0),(0,v._)([(0,P.property)()],Yu.prototype,"basemapView",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Yu.prototype,"_defaultsFromMapSettings",null),(0,v._)([(0,P.property)()],Yu.prototype,"defaultsFromMap",null),(0,v._)([(0,P.property)()],Yu.prototype,"fatalError",void 0),(0,v._)([(0,P.property)({type:Ne.default})],Yu.prototype,"extent",void 0),(0,v._)([(0,P.property)((0,Il.owningCollectionProperty)(Ml.GraphicsCollection,"graphics"))],Yu.prototype,"graphics",void 0),(0,v._)([(0,P.property)((0,Il.owningCollectionProperty)(Al,"analyses"))],Yu.prototype,"analyses",void 0),(0,v._)([(0,P.property)({readOnly:!0,type:Cl.default})],Yu.prototype,"heightModelInfo",null),(0,v._)([(0,P.property)({readOnly:!0})],Yu.prototype,"interacting",null),(0,v._)([(0,P.property)({readOnly:!0})],Yu.prototype,"navigating",void 0),(0,v._)([(0,P.property)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Yu.prototype,"preconditionsReady",null),(0,v._)([(0,P.property)({readOnly:!0})],Yu.prototype,"typeSpecificPreconditionsReady",void 0),(0,v._)([(0,P.property)({type:T.default,readOnly:!0})],Yu.prototype,"layerViews",void 0),(0,v._)([(0,P.property)({type:Vl})],Yu.prototype,"magnifier",void 0),(0,v._)([(0,P.property)({value:null,type:Se})],Yu.prototype,"map",null),(0,v._)([(0,P.property)()],Yu.prototype,"padding",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Yu.prototype,"ready",void 0),(0,v._)([(0,P.property)({type:Ol.default})],Yu.prototype,"spatialReference",null),(0,v._)([(0,P.property)()],Yu.prototype,"spatialReferenceWarningDelay",void 0),(0,v._)([(0,P.property)()],Yu.prototype,"stationary",null),(0,v._)([(0,P.property)({readOnly:!0})],Yu.prototype,"supportsGround",void 0),(0,v._)([(0,P.property)({type:kl.default})],Yu.prototype,"timeExtent",void 0),(0,v._)([(0,et.aliasOf)("toolViewManager.tools")],Yu.prototype,"tools",void 0),(0,v._)([(0,P.property)()],Yu.prototype,"toolViewManager",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Yu.prototype,"type",void 0),(0,v._)([(0,P.property)({type:Number})],Yu.prototype,"scale",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Yu.prototype,"updating",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Yu.prototype,"initialExtentRequired",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Yu.prototype,"initialExtent",null),(0,v._)([(0,P.property)()],Yu.prototype,"cursor",null),(0,v._)([(0,P.property)({readOnly:!0})],Yu.prototype,"input",void 0),(0,v._)([(0,P.property)({type:Ou,nonNullable:!0})],Yu.prototype,"navigation",void 0),(0,v._)([(0,P.property)()],Yu.prototype,"layerViewManager",void 0),(0,v._)([(0,P.property)()],Yu.prototype,"analysisViewManager",void 0),(0,v._)([(0,P.property)()],Yu.prototype,"width",void 0),(0,v._)([(0,P.property)()],Yu.prototype,"height",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Yu.prototype,"resizing",void 0),(0,v._)([(0,P.property)({value:null,readOnly:!0})],Yu.prototype,"size",null),(0,v._)([(0,P.property)({readOnly:!0})],Yu.prototype,"suspended",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Yu.prototype,"viewEvents",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Yu.prototype,"persistableViewModels",void 0),(0,v._)([(0,P.property)()],Yu.prototype,"_isValid",void 0),(0,v._)([(0,P.property)()],Yu.prototype,"_readyCycleForced",void 0),(0,v._)([(0,P.property)()],Yu.prototype,"_currentSpatialReference",void 0);var Zu=Yu=Xu=(0,v._)([(0,j.subclass)("esri.views.View")],Yu);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),C=s("kyj08"),El=s("hmHbS"),R=s("10vEZ"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Qu=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).state="running",n.target=null,h.default(n)}return y.default(r,[{key:"initialize",value:function(){var e=this;this.addResolvingPromise(new Promise((function(t,r){return e._dfd={resolve:t,reject:r}})))}},{key:"done",get:function(){return"finished"===this.state||"stopped"===this.state}},{key:"stop",value:function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd.reject(new(0,C.default)("ViewAnimation stopped")))}},{key:"finish",value:function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._dfd.resolve())}},{key:"update",value:function(e,t){t||(t=(0,R.isPromiseLike)(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",t)}}]),r}(El.EsriPromise);(0,v._)([(0,P.property)({readOnly:!0})],Qu.prototype,"done",null),(0,v._)([(0,P.property)({readOnly:!0,type:String})],Qu.prototype,"state",void 0),(0,v._)([(0,P.property)()],Qu.prototype,"target",void 0),Qu=(0,v._)([(0,j.subclass)("esri.views.ViewAnimation")],Qu),(Qu||(Qu={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};var ec=Qu;s("8TSCy");d=s("f9pi5"),y=s("jK9zx"),f=s("g9uIT"),p=s("dap1g"),g=s("Kn7R4"),h=s("bFSSc"),v=s("7eJjO");s("2ILM8");Ee=s("9UYxM"),X=s("jymfC"),Ge=s("7LFLF"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var tc=s("d7O05"),rc=s("hgO8t"),nc=(Re=s("d1Fqh"),function(){"use strict";function e(t,r,n,i){d.default(this,e);var a=t.targetGeometry,o=r.targetGeometry;i?"string"==typeof i&&(i=(0,tc.parse)(i)||tc.easingFunctions.ease):i=tc.easingFunctions.ease,this.easing=i,this.duration=n,this.sCenterX=a.x,this.sCenterY=a.y,this.sScale=t.scale,this.sRotation=t.rotation,this.tCenterX=o.x,this.tCenterY=o.y,this.tScale=r.scale,this.tRotation=r.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}return y.default(e,[{key:"applyRatio",value:function(e,t){var r,n,i,a,o=this.easing(t);t>=1?(r=this.tCenterX,n=this.tCenterY,i=this.tRotation,a=this.tScale):(r=this.sCenterX+o*this.dCenterX,n=this.sCenterY+o*this.dCenterY,i=this.sRotation+o*this.dRotation,a=this.sScale+o*this.dScale),e.targetGeometry.x=r,e.targetGeometry.y=n,e.scale=a,e.rotation=i}}]),e}()),ic=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).duration=200,n.transition=null,n.easing=tc.easingFunctions.ease,n.view=null,n.viewpoint=null,n.viewpoint=new(0,Ee.default)({targetGeometry:new(0,Re.default),scale:0,rotation:0}),n._updateTask=(0,Ge.addFrameTask)({postRender:n._postRender.bind(g.default(n))}),n._updateTask.pause(),h.default(n)}return y.default(r,[{key:"destroy",value:function(){this._updateTask.remove(),this._updateTask=null}},{key:"animate",value:function(e,t,r){var n=this;this.stop();var i=this.viewpoint;(0,rc.copy)(i,t),this.transition=new nc(this.viewpoint,e.target,r&&r.duration||this.duration,r&&r.easing||this.easing);var a=function(){n.animation===e&&n._updateTask&&("finished"===e.state&&(n.transition.applyRatio(n.viewpoint,1),n.view.state&&(n.view.state.viewpoint=n.viewpoint.clone())),n.animation=null,n.updateFunction=null)};return e.when(a,a),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}},{key:"animateContinous",value:function(e,t){var r=this;this.stop(),this.updateFunction=t,this.viewpoint=e;var n=new ec({target:e.clone()}),i=function(){r.animation===n&&r._updateTask&&(r.animation=null,r.updateFunction=null)};return n.when(i,i),this._startTime=performance.now(),this._updateTask.resume(),this.animation=n,n}},{key:"stop",value:function(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}},{key:"_postRender",value:function(e){var t=this.animation;if(t&&t.state!==ec.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime);else{var r=(performance.now()-this._startTime)/this.transition.duration,n=r>=1;this.transition.applyRatio(this.viewpoint,r),n&&this.animation.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}}]),r}(X.default);(0,v._)([(0,P.property)()],ic.prototype,"animation",void 0),(0,v._)([(0,P.property)()],ic.prototype,"duration",void 0),(0,v._)([(0,P.property)()],ic.prototype,"transition",void 0),(0,v._)([(0,P.property)()],ic.prototype,"easing",void 0),(0,v._)([(0,P.property)()],ic.prototype,"view",void 0),(0,v._)([(0,P.property)()],ic.prototype,"viewpoint",void 0);var ac=ic=(0,v._)([(0,j.subclass)("esri.views.2d.AnimationManager")],ic);s("8TSCy");d=s("f9pi5"),y=s("jK9zx"),Z=s("7qybv"),Ge=s("7LFLF");var oc=function(){"use strict";function e(t){var r=this;d.default(this,e),this.view=t,this._frameTaskHandle=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=function(){r._updateParameters.state=r.view.state,r._updateParameters.stationary=r.view.stationary,r._updateParameters.pixelRatio=window.devicePixelRatio,r._updateParameters.renderingOptions=r.view.renderingOptions},this.update=function(){r._updateRequested=!1;var e=r.view,t=e.basemapView,n=e.graphicsView,i=e.labelManager,a=e.layerViews,o=e.state.id;t.baseLayerViews.forEach(r._updateLayerView,r),a.forEach(r._updateLayerView,r),t.referenceLayerViews.forEach(r._updateLayerView,r),(0,Z.isSome)(i)&&(i.lastUpdateId!==o&&(i.viewChange(),i.lastUpdateId=o),i.updateRequested&&i.processUpdate(r._updateParameters)),(0,Z.isSome)(n)&&(n.lastUpdateId!==o&&(n.viewChange(),n.lastUpdateId=o),n.updateRequested&&n.processUpdate(r._updateParameters)),r.view.graphicsTileStore.setViewState(r._updateParameters.state),r.animationInProgress||r._updateRequested||r._frameTaskHandle.pause()}}return y.default(e,[{key:"destroy",value:function(){this.stop()}},{key:"start",value:function(){var e=this;this._frameTaskHandle||(this.stationary=this.view.stationary,this._updateParameters={state:this.view.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:this.view.renderingOptions},this._stationaryHandle=this.view.watch("stationary",(function(t){e.stationary=t,e.requestFrame()})),this._frameTaskHandle=(0,Ge.addFrameTask)(this),this.requestUpdate())}},{key:"stop",value:function(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}},{key:"requestUpdate",value:function(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}},{key:"requestFrame",value:function(){this._frameTaskHandle&&this._frameTaskHandle.resume()}},{key:"_updateLayerView",value:function(e){var t=this.view.state,r=e.lastUpdateId;null!=r&&(this.stationary||e.moving)||(e.moving=!0,e.moveStart()),r!==t.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=t.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&e.layerViews.forEach(this._updateLayerView,this)}}]),e}();C=s("kyj08"),Z=s("7qybv");function sc(){return Promise.all([s("bl6dC"),s("kofl2")])}var lc=function(){return sc().then((function(){return s("hruMq")}))},uc=function(){return sc().then((function(){return s("fV2Tq")}))},cc={"base-dynamic":function(){return sc().then((function(){return s("50sjh")}))},"base-tile":lc,"bing-maps":lc,csv:uc,"geo-rss":function(){return sc().then((function(){return s("9F1vC")}))},feature:uc,geojson:uc,graphics:function(){return sc().then((function(){return s("diMyG")}))},group:function(){return sc().then((function(){return s("8dmTP")}))},imagery:function(){return sc().then((function(){return s("lMcYZ")}))},"imagery-tile":function(){return sc().then((function(){return s("lA4Mt")}))},kml:function(){return sc().then((function(){return s("arCIt")}))},"map-image":function(){return sc().then((function(){return s("84jEJ")}))},"map-notes":function(){return sc().then((function(){return s("jV9CX")}))},"ogc-feature":function(){return sc().then((function(){return s("bnrxk")}))},"open-street-map":lc,route:function(){return sc().then((function(){return s("l41Ac")}))},stream:function(){return sc().then((function(){return s("8xwDc")}))},"subtype-group":function(){return sc().then((function(){return s("3GJig")}))},tile:lc,"vector-tile":function(){return sc().then((function(){return s("ckMXC")}))},wcs:function(){return sc().then((function(){return s("lA4Mt")}))},"web-tile":lc,wfs:uc,wms:function(){return sc().then((function(){return s("lFiiz")}))},wmts:function(){return sc().then((function(){return s("fzMdv")}))},analysis:null,"base-elevation":null,"building-scene":null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};var fc={hasLayerViewModule:function(e){return(0,Z.isSome)(cc[e.type])},importLayerView:function(e){var t=cc[e.type];if(!(0,Z.isSome)(t))throw function(e){var t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new(0,C.default)("".concat(r,":view-not-supported"),"".concat(t," is not supported in 2D"))}(e);return t(e)}};s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO");s("2ILM8");X=s("jymfC"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var pc=s("he5Ty");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),X=s("jymfC"),N=s("jHOLN"),Z=s("7qybv"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv"),Pe=s("7RvA5");var dc=s("8Iadx");s("2ILM8");var hc,yc=s("hRgCq"),vc=s("exxMy");Re=s("d1Fqh");function mc(e,t){var r=t.spatialReference,n=[t.x,t.y],i=Number.POSITIVE_INFINITY,a=0,o=0,s=[0,0],l="extent"===e.type?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings,u=!0,c=!1,f=void 0;try{for(var p,d=l[Symbol.iterator]();!(u=(p=d.next()).done);u=!0)for(var h=p.value,y=0;y<h.length-1;y++){(0,vc.projectPointOnLine)(s,n,h,y);var v=(0,yc.b)(n,s);v<i&&(i=v,a=s[0],o=s[1])}}catch(e){c=!0,f=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw f}}return{coordinate:new(0,Re.default)({x:a,y:o,spatialReference:r}),distance:i}}var gc=N.default.getLogger("esri.views.MapView"),bc=hc=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).geometry=null,n.spatialReference=null,h.default(n)}return y.default(r,[{key:"normalizedGeometry",get:function(){if((0,Z.isNone)(this.geometry)||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return(0,Pe.project)(this.geometry,this.spatialReference)}catch(e){return gc.error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}},{key:"constrain",value:function(e,t){if((0,Z.isNone)(this.normalizedGeometry))return e;var r=e.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,dc.extentContainsPoint)(this.normalizedGeometry,r):(0,dc.polygonContainsPoint)(this.normalizedGeometry,r))return e;var n=mc(this.normalizedGeometry,r).coordinate;return n?(e.targetGeometry=n,e):e}},{key:"clone",value:function(){var e,t;return new hc({geometry:null==(e=this.geometry)?void 0:e.clone(),spatialReference:null==(t=this.spatialReference)?void 0:t.clone()})}}]),r}(X.default);(0,v._)([(0,P.property)({constructOnly:!0})],bc.prototype,"geometry",void 0),(0,v._)([(0,P.property)({readOnly:!0})],bc.prototype,"normalizedGeometry",null),(0,v._)([(0,P.property)({constructOnly:!0})],bc.prototype,"spatialReference",void 0),bc=hc=(0,v._)([(0,j.subclass)("esri.views.2d.constraints.GeometryConstraint")],bc),s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),X=s("jymfC"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var _c,wc=_c=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){var e;return d.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).enabled=!0,e.rotationEnabled=!0,h.default(e)}return y.default(r,[{key:"constrain",value:function(e,t){return this.enabled&&t?(this.rotationEnabled||(e.rotation=t.rotation),e):e}},{key:"clone",value:function(){return new _c({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}}]),r}(X.default);(0,v._)([(0,P.property)()],wc.prototype,"enabled",void 0),(0,v._)([(0,P.property)()],wc.prototype,"rotationEnabled",void 0);var xc=wc=_c=(0,v._)([(0,j.subclass)("esri.views.2d.constraints.RotationConstraint")],wc);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),X=s("jymfC"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Sc,kc=Sc=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._lodByScale={},n._scales=[],n.effectiveLODs=null,n.effectiveMinZoom=-1,n.effectiveMaxZoom=-1,n.effectiveMinScale=0,n.effectiveMaxScale=0,n.lods=null,n.minZoom=-1,n.maxZoom=-1,n.minScale=0,n.maxScale=0,n.snapToZoom=!0,h.default(n)}return y.default(r,[{key:"initialize",value:function(){var e,t,r=this,n=this,i=n.lods,a=n.minScale,o=n.maxScale,s=n.minZoom,l=n.maxZoom,u=-1,c=-1,f=!1,p=!1;if(0!==a&&0!==o&&a<o&&(a=(t=[o,a])[0],o=t[1]),!i||!i.length)return this._set("effectiveMinScale",a),void this._set("effectiveMaxScale",o);(i=i.map((function(e){return e.clone()}))).sort((function(e,t){return t.scale-e.scale})),i.forEach((function(e,t){return e.level=t}));var d,h=!0,y=!1,v=void 0;try{for(var m,g=i[Symbol.iterator]();!(h=(m=g.next()).done);h=!0){var b=m.value;!f&&a>0&&a>=b.scale&&(u=b.level,f=!0),!p&&o>0&&o>=b.scale&&(c=e?e.level:-1,p=!0),e=b}}catch(e){y=!0,v=e}finally{try{h||null==g.return||g.return()}finally{if(y)throw v}}-1===s&&(s=0===a?0:u),-1===l&&(l=0===o?i.length-1:c),s=Math.max(s,0),s=Math.min(s,i.length-1),l=Math.max(l,0),s>(l=Math.min(l,i.length-1))&&(s=(d=[l,s])[0],l=d[1]),a=i[s].scale,o=i[l].scale,i.splice(0,s),i.splice(l-s+1,i.length),i.forEach((function(e,t){r._lodByScale[e.scale]=e,r._scales[t]=e.scale})),this._set("effectiveLODs",i),this._set("effectiveMinZoom",s),this._set("effectiveMaxZoom",l),this._set("effectiveMinScale",a),this._set("effectiveMaxScale",o)}},{key:"constrain",value:function(e,t){if(t&&e.scale===t.scale)return e;var r=this.effectiveMinScale,n=this.effectiveMaxScale,i=e.targetGeometry,a=t&&t.targetGeometry,o=0!==n&&e.scale<n,s=0!==r&&e.scale>r;if(o||s){var l=s?r:n;if(a){var u=(l-t.scale)/(e.scale-t.scale);i.x=a.x+(i.x-a.x)*u,i.y=a.y+(i.y-a.y)*u}e.scale=l}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}},{key:"fit",value:function(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);var t=this.scaleToZoom(e.scale),r=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(r>.99?Math.round(t):Math.floor(t)),e}},{key:"zoomToScale",value:function(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);var t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];var r=Math.round(e-.5),n=Math.round(e);return t[n]+(n-e)*(t[r]-t[n])}},{key:"scaleToZoom",value:function(e){if(!this.effectiveLODs)return-1;var t,r,n=this._scales;if(e>=n[0])return this.effectiveMinZoom;if(e<=n[n.length-1])return this.effectiveMaxZoom;for(var i=0;i<n.length-1;i++){if(t=n[i],(r=n[i+1])===e)return i+this.effectiveMinZoom+1;if(t>e&&r<e)return i+this.effectiveMinZoom+1-(e-r)/(t-r)}}},{key:"snapToClosestScale",value:function(e){if(!this.effectiveLODs)return e;var t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}},{key:"snapToNextScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;if(!this.effectiveLODs)return e*t;var r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r+1)}},{key:"snapToPreviousScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!this.effectiveLODs)return e*t;var r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r-1)}},{key:"clone",value:function(){return new Sc({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}},{key:"_getClosestScale",value:function(e){return this._lodByScale[e]||(e=this._scales.reduce((function(t,r){return Math.abs(r-e)<=Math.abs(t-e)?r:t}),this._scales[0])),this._lodByScale[e].scale}}]),r}(X.default);(0,v._)([(0,P.property)({readOnly:!0})],kc.prototype,"effectiveLODs",void 0),(0,v._)([(0,P.property)({readOnly:!0})],kc.prototype,"effectiveMinZoom",void 0),(0,v._)([(0,P.property)({readOnly:!0})],kc.prototype,"effectiveMaxZoom",void 0),(0,v._)([(0,P.property)({readOnly:!0})],kc.prototype,"effectiveMinScale",void 0),(0,v._)([(0,P.property)({readOnly:!0})],kc.prototype,"effectiveMaxScale",void 0),(0,v._)([(0,P.property)()],kc.prototype,"lods",void 0),(0,v._)([(0,P.property)()],kc.prototype,"minZoom",void 0),(0,v._)([(0,P.property)()],kc.prototype,"maxZoom",void 0),(0,v._)([(0,P.property)()],kc.prototype,"minScale",void 0),(0,v._)([(0,P.property)()],kc.prototype,"maxScale",void 0),(0,v._)([(0,P.property)()],kc.prototype,"snapToZoom",void 0);var Tc=kc=Sc=(0,v._)([(0,j.subclass)("esri.views.2d.constraints.ZoomConstraint")],kc),Ec=(Ne=s("gINRd"),s("fTq43")),Ic={base:null,key:"type",typeMap:{extent:Ne.default,polygon:Ec.default}},Cc=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).lods=null,n.minScale=0,n.maxScale=0,n.minZoom=-1,n.maxZoom=-1,n.rotationEnabled=!0,n.snapToZoom=!0,h.default(n)}return y.default(r,[{key:"destroy",value:function(){this.view=null,this._set("_zoom",null),this._set("_rotation",null),this._set("_geometry",null)}},{key:"geometry",set:function(e){e?this._set("geometry",e):this._set("geometry",null)}},{key:"version",get:function(){var e;return this.commitProperty("_zoom"),this.commitProperty("_rotation"),this.commitProperty("_geometry"),(null!=(e=this._get("version"))?e:0)+1}},{key:"_defaultLODs",get:function(){var e,t,r,n=null==(e=this.view)||null==(t=e.defaultsFromMap)?void 0:t.tileInfo,i=null==(r=this.view)?void 0:r.spatialReference;return n&&i&&n.spatialReference.equals(i)?n.lods:null}},{key:"_geometry",get:function(){var e;return new bc({geometry:this.geometry,spatialReference:null==(e=this.view)?void 0:e.spatialReference})}},{key:"_rotation",get:function(){return new xc({rotationEnabled:this.rotationEnabled})}},{key:"_zoom",get:function(){var e=this._get("_zoom"),t=this.lods||this._defaultLODs,r=this.minZoom,n=this.maxZoom,i=this.minScale,a=this.maxScale,o=this.snapToZoom;return e&&e.lods===t&&e.minZoom===r&&e.maxZoom===n&&e.minScale===i&&e.maxScale===a&&e.snapToZoom===o?e:new Tc({lods:t,minZoom:r,maxZoom:n,minScale:i,maxScale:a,snapToZoom:o})}},{key:"canZoomInTo",value:function(e){var t=this.effectiveMaxScale;return 0===t||e>=t}},{key:"canZoomOutTo",value:function(e){var t=this.effectiveMinScale;return 0===t||e<=t}},{key:"constrain",value:function(e,t){return this._zoom.constrain(e,t),this._rotation.constrain(e,t),this._geometry.constrain(e,t),e}},{key:"constrainByGeometry",value:function(e){return this._geometry.constrain(e)}},{key:"fit",value:function(e){return this._zoom.fit(e)}},{key:"zoomToScale",value:function(e){return this._zoom.zoomToScale(e)}},{key:"scaleToZoom",value:function(e){return this._zoom.scaleToZoom(e)}},{key:"snapScale",value:function(e){return this._zoom.snapToClosestScale(e)}},{key:"snapToNextScale",value:function(e){return this._zoom.snapToNextScale(e)}},{key:"snapToPreviousScale",value:function(e){return this._zoom.snapToPreviousScale(e)}}]),r}(X.default);(0,v._)([(0,P.property)({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],Cc.prototype,"effectiveLODs",void 0),(0,v._)([(0,P.property)({readOnly:!0,aliasOf:"_zoom.effectiveMinScale"})],Cc.prototype,"effectiveMinScale",void 0),(0,v._)([(0,P.property)({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],Cc.prototype,"effectiveMaxScale",void 0),(0,v._)([(0,P.property)({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],Cc.prototype,"effectiveMinZoom",void 0),(0,v._)([(0,P.property)({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],Cc.prototype,"effectiveMaxZoom",void 0),(0,v._)([(0,P.property)({types:Ic,value:null})],Cc.prototype,"geometry",null),(0,v._)([(0,P.property)({type:[pc.default]})],Cc.prototype,"lods",void 0),(0,v._)([(0,P.property)()],Cc.prototype,"minScale",void 0),(0,v._)([(0,P.property)()],Cc.prototype,"maxScale",void 0),(0,v._)([(0,P.property)()],Cc.prototype,"minZoom",void 0),(0,v._)([(0,P.property)()],Cc.prototype,"maxZoom",void 0),(0,v._)([(0,P.property)()],Cc.prototype,"rotationEnabled",void 0),(0,v._)([(0,P.property)()],Cc.prototype,"snapToZoom",void 0),(0,v._)([(0,P.property)()],Cc.prototype,"view",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Cc.prototype,"version",null),(0,v._)([(0,P.property)()],Cc.prototype,"_defaultLODs",null),(0,v._)([(0,P.property)({type:bc})],Cc.prototype,"_geometry",null),(0,v._)([(0,P.property)({type:xc})],Cc.prototype,"_rotation",null),(0,v._)([(0,P.property)({readOnly:!0,type:Tc})],Cc.prototype,"_zoom",null);var Oc=Cc=(0,v._)([(0,j.subclass)("esri.views.2d.MapViewConstraints")],Cc);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),De=s("5Vgx8"),v=s("7eJjO"),X=s("jymfC"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv"),yc=s("hRgCq");var Lc=s("iE3Nt");rc=s("hgO8t");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO");s("2ILM8");Ee=s("9UYxM"),O=s("1XAcN"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Ac=s("1CBkz"),Mc=s("b4Wmd"),Nc=s("cMCBC"),Rc=s("7ewN0"),Pc=s("j3x2p"),Fc=s("eYrMi"),jc=(yc=s("hRgCq"),s("0P8XU"));Lc=s("iE3Nt");function Dc(e){return(r=e)instanceof Float32Array&&r.length>=2||(t=e,Array.isArray(t)&&t.length>=2);var t,r}rc=s("hgO8t"),Ne=s("gINRd"),Re=s("d1Fqh");var Uc,Vc=[0,0],Bc=Uc=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._viewpoint2D={center:(0,Lc.a)(),rotation:0,scale:0,spatialReference:null},n.center=[0,0],n.extent=new(0,Ne.default),n.id=0,n.inverseTransform=(0,Rc.c)(),n.resolution=0,n.rotation=0,n.scale=0,n.transform=(0,Rc.c)(),n.transformNoRotation=(0,Rc.c)(),n.displayMat3=(0,Fc.c)(),n.displayViewMat3=(0,Fc.c)(),n.viewMat3=(0,Fc.c)(),n.viewMat2d=(0,Nc.c)(),n.worldScreenWidth=0,n.size=[0,0],h.default(n)}return y.default(r,[{key:"pixelRatio",set:function(e){this._set("pixelRatio",e),this._update()}},{key:"size",set:function(e){this._set("size",e),this._update()}},{key:"viewpoint",set:function(e){if(e){var t=this._viewpoint2D,r=e.targetGeometry;t.center[0]=r.x,t.center[1]=r.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=r.spatialReference}this._update()}},{key:"copy",value:function(e){var t=this.size,r=this.viewpoint;return r&&t?(this.viewpoint=(0,rc.copy)(r,e.viewpoint),this._set("size",(0,yc.c)(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}},{key:"clone",value:function(){return new Uc({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}},{key:"toMap",value:function(e,t,r){return Dc(t)?(0,yc.t)(e,t,this.inverseTransform):(Vc[0]=t,Vc[1]=r,(0,yc.t)(e,Vc,this.inverseTransform))}},{key:"toScreen",value:function(e,t,r){return Dc(t)?(0,yc.t)(e,t,this.transform):(Vc[0]=t,Vc[1]=r,(0,yc.t)(e,Vc,this.transform))}},{key:"toScreenNoRotation",value:function(e,t,r){return Dc(t)?(0,yc.t)(e,t,this.transformNoRotation):(Vc[0]=t,Vc[1]=r,(0,yc.t)(e,Vc,this.transformNoRotation))}},{key:"getScreenTransform",value:function(e,t){var r=this._viewpoint2D.center,n=this._get("pixelRatio")||1,i=this._get("size");return(0,rc.getMatrix)(e,r,i,t,0,n),e}},{key:"_update",value:function(){var e=this._viewpoint2D,t=e.center,r=e.spatialReference,n=e.scale,i=e.rotation,a=this._get("pixelRatio")||1,o=this._get("size"),s=new(0,Ee.default)({targetGeometry:new(0,Re.default)(t[0],t[1],r),scale:n,rotation:i});if(this._set("viewpoint",s),o&&r&&n){this.resolution=(0,rc.getResolution)(s),this.rotation=i,this.scale=n,this.spatialReference=r,(0,yc.c)(this.center,t);var l=0!==o[0]?2/o[0]:0,u=0!==o[1]?-2/o[1]:0;(0,Pc.s)(this.displayMat3,l,0,0,0,u,0,-1,1,1);var c=(0,Pc.b)(this.viewMat3),f=(0,jc.f)(o[0]/2,o[1]/2),p=(0,jc.f)(-o[0]/2,-o[1]/2),d=(0,Ac.t)(i);(0,Pc.c)(c,c,f),(0,Pc.r)(c,c,d),(0,Pc.c)(c,c,p),(0,Pc.m)(this.displayViewMat3,this.displayMat3,c);var h=(0,Mc.a)(this.viewMat2d,f);return(0,Mc.r)(h,h,d),(0,Mc.t)(h,h,p),(0,rc.getExtent)(this.extent,s,o),(0,rc.getTransform)(this.transform,s,o,a),(0,Mc.i)(this.inverseTransform,this.transform),(0,rc.getTransformNoRotation)(this.transformNoRotation,s,o,a),this.worldScreenWidth=(0,rc.getWorldScreenWidth)(this.spatialReference,this.resolution),this._set("id",this.id+1),this}}}]),r}(O.JSONSupport);(0,v._)([(0,P.property)({readOnly:!0})],Bc.prototype,"id",void 0),(0,v._)([(0,P.property)({value:1,json:{write:!0}})],Bc.prototype,"pixelRatio",null),(0,v._)([(0,P.property)({json:{write:!0}})],Bc.prototype,"size",null),(0,v._)([(0,P.property)()],Bc.prototype,"spatialReference",void 0),(0,v._)([(0,P.property)({type:Ee.default,json:{write:!0}})],Bc.prototype,"viewpoint",null);var Hc,zc,Wc=Bc=Uc=(0,v._)([(0,j.subclass)("esri.views.2d.ViewState")],Bc),Gc=Hc=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){var e;return d.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).left=0,e.top=0,e.right=0,e.bottom=0,h.default(e)}return y.default(r,[{key:"clone",value:function(){return new Hc({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}}]),r}(X.default);(0,v._)([(0,P.property)()],Gc.prototype,"left",void 0),(0,v._)([(0,P.property)()],Gc.prototype,"top",void 0),(0,v._)([(0,P.property)()],Gc.prototype,"right",void 0),(0,v._)([(0,P.property)()],Gc.prototype,"bottom",void 0),Gc=Hc=(0,v._)([(0,j.subclass)("esri.views.2d.PaddedViewState.Padding")],Gc);var Jc=zc=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a,o;return d.default(this,r),(a=t.call.apply(t,[this].concat(De.default(n)))).paddedViewState=new Wc,a._updateContent=(o=(0,Lc.a)(),function(){var e=a._get("size"),t=a._get("padding");if(e&&t){var r=a.paddedViewState;(0,yc.s)(o,t.left+t.right,t.top+t.bottom),(0,yc.f)(o,e,o),(0,yc.c)(r.size,o);var n=r.viewpoint;n&&(a.viewpoint=n)}}),a.watch(["size","padding"],a._updateContent,!0),a.padding=new Gc,a.size=[0,0],h.default(a)}return y.default(r,[{key:"padding",set:function(e){this._set("padding",e||new Gc)}},{key:"viewpoint",set:function(e){if(e){var t=e.clone();this.paddedViewState.viewpoint=e,(0,rc.addPadding)(t,e,this._get("size"),this._get("padding"));var r=this._viewpoint2D,n=t.targetGeometry;r.center[0]=n.x,r.center[1]=n.y,r.rotation=t.rotation,r.scale=t.scale,r.spatialReference=n.spatialReference,this._update()}}},{key:"clone",value:function(){return new zc({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}}]),r}(Wc);(0,v._)([(0,P.property)()],Jc.prototype,"paddedViewState",void 0),(0,v._)([(0,P.property)({type:Gc})],Jc.prototype,"padding",null),(0,v._)([(0,P.property)()],Jc.prototype,"viewpoint",null);var qc=Jc=zc=(0,v._)([(0,j.subclass)("esri.views.2d.PaddedViewState")],Jc);s("3yhCg");var Xc=s("cqGfY");s("i90gL"),s("eX6AZ"),s("gZ2KV");rc=s("hgO8t");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),X=s("jymfC"),Ve=s("qhgF7"),Qe=s("5qZXj"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx");function Kc(e,t){switch(t){case"primary":return"touch"===e.pointerType||0===e.button;case"secondary":return"touch"!==e.pointerType&&2===e.button;case"tertiary":return"touch"!==e.pointerType&&1===e.button}}var $c=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,!0)).view=e,i.registerIncoming("double-click",n,(function(e){return i._handleDoubleClick(e,n)})),h.default(i)}return y.default(r,[{key:"_handleDoubleClick",value:function(e,t){Kc(e.data,"primary")&&(e.stopPropagation(),t?this.view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this.view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}}]),r}((Gl=s("fOORG")).InputHandler);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx");s("2VlWd");var Yc=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n,i){var a;return d.default(this,r),(a=t.call(this,!0)).view=e,a.pointerType=n,a.registerIncoming("double-tap-drag",i,(function(e){return a._handleDoubleTapDrag(e)})),h.default(a)}return y.default(r,[{key:"_handleDoubleTapDrag",value:function(e){var t=e.data;if(t.pointerType===this.pointerType){e.stopPropagation();var r=t.action,n=t.delta,i=this.view,a=i.mapViewNavigation;switch(r){case"begin":var o=i.scale;this._startScale=o,this._currentScale=o,this._previousDelta=n,a.begin();break;case"update":if(this._previousDelta.y===n.y)return;this._previousDelta=n;var s=Math.pow(1.015,n.y),l=this._startScale*s,u=l/this._currentScale;a.setViewpointImmediate(u),this._currentScale=l;break;case"end":var c=i.constraints,f=c.effectiveLODs;if(!c.snapToZoom||!f)return void a.end();var p=c.snapScale(this._currentScale),d=(n.y>0?Math.max(p,c.snapToPreviousScale(this._startScale)):Math.min(p,c.snapToNextScale(this._startScale)))/this._currentScale;a.zoom(d)}}}}]),r}((Gl=s("fOORG")).InputHandler);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),w=s("8atho"),x=s("aNpz9");s("8TSCy");d=s("f9pi5"),y=s("jK9zx");var Zc=function(){"use strict";function e(t){d.default(this,e),this.callbacks=t,this.currentCount=0,this.callbacks.condition||(this.callbacks.condition=function(){return!0})}return y.default(e,[{key:"handle",value:function(e){var t=e.data,r=t.pointers.size;switch(t.action){case"start":this.currentCount=r,this._emitStart(e);break;case"added":this._emitEnd(this.previousEvent),this.currentCount=r,this._emitStart(e);break;case"update":this._emitUpdate(e);break;case"removed":this.startEvent&&this._emitEnd(this.previousEvent),this.currentCount=r,this._emitStart(e);break;case"end":this._emitEnd(e),this.currentCount=0}this.previousEvent=e}},{key:"_emitStart",value:function(e){this.startEvent=e,this.callbacks.condition(this.currentCount,e)&&this.callbacks.start(this.currentCount,e,this.startEvent)}},{key:"_emitUpdate",value:function(e){this.callbacks.condition(this.currentCount,e)&&this.callbacks.update(this.currentCount,e,this.startEvent)}},{key:"_emitEnd",value:function(e){this.callbacks.condition(this.currentCount,e)&&this.callbacks.end(this.currentCount,e,this.startEvent),this.startEvent=null}}]),e}(),Qc=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n,i){var a;return d.default(this,r),(a=t.call(this,!0)).view=e,a.pointerAction=n,a.registerIncoming("drag",i,(function(e){return a._handleDrag(e)})),a.registerIncoming("pointer-down",(function(){return a.stopMomentumNavigation()})),h.default(a)}return y.default(r,[{key:"onInstall",value:function(e){var t=this;w.default(x.default(r.prototype),"onInstall",this).call(this,e),this.dragEventSeparator=new Zc({start:function(e,r){t.view.mapViewNavigation.pan.begin(t.view,r.data),r.stopPropagation()},update:function(e,r){t.view.mapViewNavigation.pan.update(t.view,r.data),r.stopPropagation()},end:function(e,r){t.view.mapViewNavigation.pan.end(t.view,r.data),r.stopPropagation()},condition:function(e,r){return 1===e&&Kc(r.data,t.pointerAction)}})}},{key:"_handleDrag",value:function(e){var t=this.view.mapViewNavigation;t.pinch.zoomMomentum||t.pinch.rotateMomentum?this.stopMomentumNavigation():this.dragEventSeparator.handle(e)}},{key:"stopMomentumNavigation",value:function(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}]),r}((Gl=s("fOORG")).InputHandler);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc");var ef=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n,i){var a;d.default(this,r),(a=t.call(this,!0)).view=e,a.pointerAction=n;var o=a.view.mapViewNavigation;return a.dragEventSeparator=new Zc({start:function(e,t){o.rotate.begin(a.view,t.data),t.stopPropagation()},update:function(e,t){o.rotate.update(a.view,t.data),t.stopPropagation()},end:function(e,t){o.rotate.end(),t.stopPropagation()},condition:function(e,t){return 1===e&&Kc(t.data,a.pointerAction)}}),a.registerIncoming("drag",i,(function(e){return a.dragEventSeparator.handle(e)})),h.default(a)}return r}((Gl=s("fOORG")).InputHandler);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),w=s("8atho"),x=s("aNpz9"),Ve=s("qhgF7"),Ge=s("7LFLF"),Qe=s("5qZXj"),rc=s("hgO8t"),Gl=s("fOORG");var tf=s("e4Xv2");function rf(e){var t=e*e;return e<0&&(t*=-1),t}function nf(e,t,r){var n=r,i=e.state,a=e.device,o="forward-down"===t.tiltDirection?1:-1;return"standard"===a.deviceType?(n.translation[0]=rf(i.axes[0]),n.translation[1]=rf(i.axes[1]),n.translation[2]=rf(i.buttons[7])-rf(i.buttons[6]),n.heading=rf(i.axes[2]),n.tilt=rf(i.axes[3])):"spacemouse"===a.deviceType&&(n.translation[0]=1.2*rf(i.axes[0]),n.translation[1]=1.2*rf(i.axes[1]),n.translation[2]=2*-rf(i.axes[2]),n.heading=1.2*rf(i.axes[5]),n.tilt=1.2*rf(i.axes[3])),n.tilt*=o,(0,tf.a)(n.translation,n.translation,1),n}function af(e){return 0===e.translation[0]&&0===e.translation[1]&&0===e.translation[2]&&0===e.heading&&0===e.tilt&&0===e.zoom}var of=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,!0)).view=e,n.frameTask=null,n.watchHandles=new(0,Ve.default),n.currentDevice=null,n.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},n.handle=n.registerIncoming("gamepad",(function(e){return n._handleGamePadEvent(e)})),n.handle.pause(),h.default(n)}return y.default(r,[{key:"onInstall",value:function(e){var t=this;w.default(x.default(r.prototype),"onInstall",this).call(this,e),this.watchHandles.add([(0,Qe.init)(this.view.navigation.gamepad,"enabled",(function(e){var r=t;e?(t.handle.resume(),t.frameTask||(t.frameTask=(0,Ge.addFrameTask)({update:function(e){return r._frameUpdate(e.deltaTime)}}))):(t.handle.pause(),t.frameTask&&(t.frameTask.remove(),t.frameTask=null))}))])}},{key:"onUninstall",value:function(){this.watchHandles.removeAll(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null),w.default(x.default(r.prototype),"onUninstall",this).call(this)}},{key:"_handleGamePadEvent",value:function(e){var t,r=this.view.navigation.gamepad.device;r&&e.data.device!==r||this.currentDevice&&this.currentDevice!==e.data.device||("end"===e.data.action?(this.currentDevice=null,(t=this.transformation).translation[0]=0,t.translation[1]=0,t.translation[2]=0,t.heading=0,t.tilt=0):(this.currentDevice=e.data.device,nf(e.data,this.view.navigation.gamepad,this.transformation)))}},{key:"_frameUpdate",value:function(e){var t=this.transformation;if(!af(t)){var r=this.view.viewpoint.clone(),n=this.view.navigation.gamepad.velocityFactor,i=lf*n*e;(0,rc.translateBy)(r,r,[t.translation[0]*i,-t.translation[1]*i]);var a=1+t.translation[2]*uf*e,o=this.view.constraints.rotationEnabled?-t.heading*sf*e:0,s=this.view.size,l=[s[0]/2,s[1]];(0,rc.scaleAndRotateBy)(r,r,a,o,l,s);var u=this.view.constraints.constrain(r,this.view.viewpoint);this.view.viewpoint=u}}}]),r}(Gl.InputHandler),sf=.06,lf=.7,uf=6e-4;s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),$e=s("aNiFM"),h=s("bFSSc"),y=s("jK9zx");var cf=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n,i){var a,o;return d.default(this,r),(a=t.call(this,!0)).view=e,a.keys=n,a._pressed=!1,a._keyMap=(o={},$e.default(o,n.left,"left"),$e.default(o,n.right,"right"),$e.default(o,n.up,"up"),$e.default(o,n.down,"down"),o),a.registerIncoming("key-down",i,(function(e){return a._handleKeyDown(e)})),a.registerIncoming("key-up",i,(function(e){return a._handleKeyUp(e)})),a.registerIncoming("blur",i,(function(){return a._handleBlur()})),h.default(a)}return y.default(r,[{key:"_handleKeyDown",value:function(e){e.data.repeat||this._handleKey(e,!0)}},{key:"_handleKeyUp",value:function(e){this._handleKey(e,!1)}},{key:"_handleBlur",value:function(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}},{key:"_handleKey",value:function(e,t){var r=this._keyMap[e.data.key];if(this._pressed=null!=r,this._pressed){if(t)switch(this.view.mapViewNavigation.begin(),r){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}}]),r}((Gl=s("fOORG")).InputHandler);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),$e=s("aNiFM"),h=s("bFSSc"),y=s("jK9zx");var ff=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n,i){var a,o;return d.default(this,r),(a=t.call(this,!0)).view=e,a.keys=n,a._pressed=!1,a._keyToDirection=(o={},$e.default(o,n.clockwiseOption1,"clockwise"),$e.default(o,n.clockwiseOption2,"clockwise"),$e.default(o,n.counterClockwiseOption1,"counterClockwise"),$e.default(o,n.counterClockwiseOption2,"counterClockwise"),$e.default(o,n.resetOption1,"reset"),$e.default(o,n.resetOption2,"reset"),o),a.registerIncoming("key-down",i,(function(e){return a._handleKeyDown(e)})),a.registerIncoming("key-up",i,(function(e){return a._handleKeyUp(e)})),a.registerIncoming("blur",i,(function(){return a._handleBlur()})),h.default(a)}return y.default(r,[{key:"_handleKeyDown",value:function(e){e.data.repeat||this._handleKey(e,!0)}},{key:"_handleKeyUp",value:function(e){this._handleKey(e,!1)}},{key:"_handleBlur",value:function(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}},{key:"_handleKey",value:function(e,t){var r=e.modifiers;if(!(r.size>0&&!r.has("Shift")||!this.view.constraints.rotationEnabled)){var n=this._keyToDirection[e.data.key];if(this._pressed=null!=n,this._pressed){if(t)switch(this.view.mapViewNavigation.begin(),n){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}}}]),r}((Gl=s("fOORG")).InputHandler);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx");s("2VlWd");var pf;Gl=s("fOORG");!function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"}(pf||(pf={}));var df=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n,i){var a;return d.default(this,r),(a=t.call(this,!0)).view=e,a.keys=n,a._keysToZoomAction={},a.registerIncoming("key-down",i,(function(e){return a._handleKeyDown(e)})),n.zoomIn.forEach((function(e){return a._keysToZoomAction[e]=pf.IN})),n.zoomOut.forEach((function(e){return a._keysToZoomAction[e]=pf.OUT})),h.default(a)}return y.default(r,[{key:"_handleKeyDown",value:function(e){this._handleKey(e)}},{key:"_handleKey",value:function(e){var t=e.modifiers;if(!(t.size>0)||t.has("Shift")){var r=e.data.key;if(r in this._keysToZoomAction){var n=this._keysToZoomAction[r],i=this.view.mapViewNavigation,a=null;switch(n){case pf.IN:a=i.zoomIn();break;case pf.OUT:a=i.zoomOut();break;default:return}i.begin(),a.then((function(){return i.end()})),e.stopPropagation()}}}}]),r}(Gl.InputHandler);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),Gl=s("fOORG");var hf=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,!0)).view=e,i._canZoom=!0,i.registerIncoming("mouse-wheel",n,(function(e){return i._handleMouseWheel(e)})),h.default(i)}return y.default(r,[{key:"_handleMouseWheel",value:function(e){var t=this;if(this.view.navigation.mouseWheelZoomEnabled&&(e.preventDefault(),e.stopPropagation(),this._canZoom)){var r=this.view.mapViewNavigation,n=e.data,i=n.x,a=n.y,o=n.deltaY,s=1/Math.pow(.6,1/60*o),l=r.zoom(s,[i,a]);l&&(this._canZoom=!1,l.catch((function(){})).then((function(){t._canZoom=!0,r.end()})))}}}]),r}(Gl.InputHandler);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx");var yf=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;d.default(this,r),(n=t.call(this,!0)).view=e,n.registerIncoming("drag",(function(e){return n._handleDrag(e)})),n.registerIncoming("pointer-down",(function(){return n._stopMomentumNavigation()}));var i=n.view.mapViewNavigation;return n.dragEventSeparator=new Zc({start:function(e,t){i.pinch.begin(n.view,t.data),t.stopPropagation()},update:function(e,t){i.pinch.update(n.view,t.data),t.stopPropagation()},end:function(e,t){i.pinch.end(n.view),t.stopPropagation()},condition:function(e){return e>=2}}),h.default(n)}return y.default(r,[{key:"_handleDrag",value:function(e){this.dragEventSeparator.handle(e)}},{key:"_stopMomentumNavigation",value:function(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}]),r}((Gl=s("fOORG")).InputHandler);s("8TSCy");d=s("f9pi5"),y=s("jK9zx"),Ie=s("2VlWd");var vf=s("2mqmh");s("8TSCy");d=s("f9pi5"),y=s("jK9zx"),Ge=s("7LFLF");function mf(e){var t=e.native;return t?{buttons:t.buttons.map((function(e){return e.pressed?e.value?e.value:1:0})),axes:t.axes.map((function(t){return r=t,n=e.axisThreshold,(i=Math.abs(r))<n?0:Math.sign(r)*(i-n)/(1-n);var r,n,i}))}:{buttons:[],axes:[]}}function gf(e,t){if(e.axes.length!==t.axes.length)return!1;if(e.buttons.length!==t.buttons.length)return!1;for(var r=0;r<e.axes.length;r++)if(e.axes[r]!==t.axes[r])return!1;for(var n=0;n<e.buttons.length;n++)if(e.buttons[n]!==t.buttons[n])return!1;return!0}function bf(e){for(var t=0;t<e.axes.length;t++)if(0!==e.axes[t])return!1;for(var r=0;r<e.buttons.length;r++)if(0!==e.buttons[r])return!1;return!0}var _f=function(){"use strict";function e(t,r){var n=this;d.default(this,e),this.element=t,this.input=r,this._hasEventListeners=!1,this._onConnectGamepad=function(e){n._connectGamepad(e.gamepad)},this._onDisconnectGamepad=function(e){var t=e.gamepad,r=t.index,i=n.inputDevices[r];i&&(n._emitGamepadEvent(t,mf(i),!1),n.inputDevices.splice(r,1),n.latestUpdate.splice(r,1),n.input.gamepad.devices.remove(i),n.ensurePollingState())},this.frameTask=null,this.latestUpdate=new Array,this.inputDevices=new Array,this.callback=null;var i="getGamepads"in window.navigator,a=window.isSecureContext;this.supported=i&&a,this.supported&&(this._forEachGamepad((function(e){return n._connectGamepad(e)})),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}return y.default(e,[{key:"destroy",value:function(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}},{key:"hasEventListeners",set:function(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState())}},{key:"eventsEnabled",get:function(){return this.supported&&this.inputDevices.length>0&&this._hasEventListeners}},{key:"onEvent",set:function(e){this.callback=e}},{key:"_connectGamepad",value:function(e){var t=new wu(e);"unknown"!==t.deviceType&&(this.inputDevices[e.index]=t,this.input.gamepad.devices.add(t)),this.ensurePollingState()}},{key:"ensurePollingState",value:function(){this.eventsEnabled?this._startPolling():this._stopPolling()}},{key:"_startPolling",value:function(){var e=this;null==this.frameTask&&(this.frameTask=(0,Ge.addFrameTask)({update:function(){return e._readGamepadState()}}))}},{key:"_stopPolling",value:function(){null!=this.frameTask&&(this.frameTask.remove(),this.frameTask=null,this.latestUpdate=new Array)}},{key:"_readGamepadState",value:function(){var e=this,t=document.hasFocus(),r=this.element.contains(document.activeElement),n="document"===this.input.gamepad.enabledFocusMode&&!t||"view"===this.input.gamepad.enabledFocusMode&&!r;this._forEachGamepad((function(t){var r=e.inputDevices[t.index];if(r){var i=e.latestUpdate[t.index],a=mf(r),o=n||bf(a);if(i){if(i.timestamp===t.timestamp)return;if(!i.active&&o)return;if(gf(i.state,a))return}e._emitGamepadEvent(t,a,!o)}}))}},{key:"_forEachGamepad",value:function(e){for(var t=window.navigator.getGamepads(),r=0;r<t.length;r++){var n=t[r];this._validate(n)&&e(n)}}},{key:"_emitGamepadEvent",value:function(e,t,r){var n=this.latestUpdate[e.index],i=n&&n.active;if(i||r){var a=!i&&r?"start":i&&r?"update":"end";this.latestUpdate[e.index]={timestamp:e.timestamp,state:t,active:r},this.callback&&this.callback({device:this.inputDevices[e.index],state:t,action:a})}}},{key:"_validate",value:function(e){if(!e)return!1;if(!e.connected)return!1;for(var t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}}]),e}(),wf=(0,Ie.default)("trident"),xf=(0,Ie.default)("edge"),Sf=(0,Ie.default)("chrome"),kf=(0,Ie.default)("ff"),Tf=(0,Ie.default)("safari"),Ef="esri-view-surface--touch-none",If="esri-view-surface--touch-pan",Cf=function(){"use strict";function e(t,r){var n=this;d.default(this,e),this.input=r,this._active={},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new _f(t,this.input),this._gamepadSource.onEvent=function(e){return n._callback("gamepad",e)}}return y.default(e,[{key:"destroy",value:function(){var e=this;this._callback=null,this.activeEvents=null,this._activePointerCaptures.forEach((function(t){e._releasePointerCaptureSafe(t)})),this._gamepadSource&&(this._gamepadSource.destroy(),this._gamepadSource=null),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}},{key:"browserTouchPanningEnabled",get:function(){return this._browserTouchPanningEnabled},set:function(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}},{key:"onEventReceived",set:function(e){this._callback=e}},{key:"activeEvents",set:function(e){var t=this;for(var r in this._active)if(!e||!e.has(r)){var n=this._active[r];this._element.removeEventListener(Of[r],n),delete this._active[r]}e&&e.forEach((function(e){if(!t._active[e]&&Of[e]){var r=(t._eventHandlers[e]||t._handleDefault).bind(t,e);t._element.addEventListener(Of[e],r),t._active[e]=r}})),this._gamepadSource.hasEventListeners=e&&e.has("gamepad")}},{key:"setPointerCapture",value:function(e,t){t?(this._element.setPointerCapture(e.pointerId),this._activePointerCaptures.add(e.pointerId)):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}},{key:"_updateTouchAction",value:function(){this._element.classList.remove(this._browserTouchPanningEnabled?Ef:If),this._element.classList.add(this._browserTouchPanningEnabled?If:Ef)}},{key:"_updateTouchEventHandling",value:function(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}},{key:"_removeTouchAction",value:function(){this._element.classList.remove(Ef),this._element.classList.remove(If),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}},{key:"_releasePointerCaptureSafe",value:function(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e)}catch(e){}}},{key:"_updateNormalizedPointerLikeEvent",value:function(t,r){var n=ou(this._element,t);return e.test.disableSubpixelCoordinates&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),r.x=n.x,r.y=n.y,r}},{key:"_handleKey",value:function(e,t){var r=(0,vf.eventKey)(t);r&&"key-up"===e&&this._keyDownState.delete(r);var n={native:t,key:r,repeat:r&&this._keyDownState.has(r)};r&&"key-down"===e&&this._keyDownState.add(n.key),this._callback(e,n)}},{key:"_handlePointer",value:function(e,t){var r=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});this._callback(e,r)}},{key:"_handlePointerPreventDefault",value:function(e,t){var r=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});t.preventDefault(),this._callback(e,r)}},{key:"_handleMouseWheel",value:function(e,t){var r=t.deltaY;switch(t.deltaMode){case 0:(wf||xf)&&(r=r/document.documentElement.clientHeight*600);break;case 1:r*=30;break;case 2:r*=900}wf||xf?r*=.7:Sf||Tf?r*=.6:kf&&(r*=1.375);var n=Math.abs(r);if(n>100){r=r/n*200/(1+Math.exp(-.02*(n-100)))}var i=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,deltaY:r});this._callback(e,i)}},{key:"_handlePointerCaptureLost",value:function(e,t){this._activePointerCaptures.delete(t.pointerId),this._handleDefault(e,t)}},{key:"_handleDefault",value:function(e,t){var r={native:t};t.preventDefault(),this._callback(e,r)}},{key:"_preventAltKeyDefault",value:function(e){"Alt"===e.key&&e.preventDefault()}},{key:"_preventMultiTouchPanning",value:function(e){e.touches.length>1&&e.preventDefault()}}]),e}();Cf.test={disableSubpixelCoordinates:!1};var Of={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};po=s("8aXDa");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc");var Lf=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){var e;return d.default(this,r),(e=t.call(this,!0)).registerIncoming("context-menu",(function(e){e.data.native.preventDefault()})),h.default(e)}return r}((Gl=s("fOORG")).InputHandler);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx");var Af=s("bCqxt");Rl=s("edmn4"),Le=s("iXlXu"),Gl=s("fOORG");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),h=s("bFSSc"),y=s("jK9zx"),Af=s("bCqxt"),Rl=s("edmn4"),Z=s("7qybv"),Gl=s("fOORG");s("8TSCy");te=s("iCnzh"),Le=s("iXlXu");function Mf(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function Nf(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:(0,Le.createScreenPoint)()},0===e.length)return t;if(1===e.length)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(2===e.length){var r=te.default(e,2),n=r[0],i=r[1],a=[i.x-n.x,i.y-n.y],o=a[0],s=a[1];return t.radius=Math.sqrt(o*o+s*s)/2,t.center.x=(n.x+i.x)/2,t.center.y=(n.y+i.y)/2,t}for(var l=0,u=0,c=0;c<e.length;c++)l+=e[c].x,u+=e[c].y;l/=e.length,u/=e.length;for(var f=e.map((function(e){return e.x-l})),p=e.map((function(e){return e.y-u})),d=0,h=0,y=0,v=0,m=0,g=0,b=0,_=0;_<f.length;_++){var w=f[_],x=p[_],S=w*w,k=x*x;d+=S,h+=k,y+=w*x,v+=S*w,m+=k*x,g+=w*k,b+=x*S}var T=.5*(v+g),E=.5*(m+b),I=d*h-y*y,C=(T*h-E*y)/I,O=(d*E-y*T)/I,L=(0,Le.createScreenPoint)(C+l,O+u);return{radius:Math.sqrt(C*C+O*O+(d+h)/e.length),center:L}}var Rf={maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35},Pf=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rf.maximumDoubleClickDelay,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rf.maximumDoubleClickDistance,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rf.maximumDoubleTouchDelay,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Rf.maximumDoubleTouchDistance,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Af.clock;return d.default(this,r),(e=t.call(this,!1)).maximumDoubleClickDelay=n,e.maximumDoubleClickDistance=i,e.maximumDoubleTouchDelay=a,e.maximumDoubleTouchDistance=o,e._clock=s,e._pointerState=new Map,e._click=e.registerOutgoing("click"),e._doubleClick=e.registerOutgoing("double-click"),e.registerIncoming("immediate-click",e._handleImmediateClick.bind(g.default(e))),e.registerIncoming("pointer-drag",e._handlePointerDrag.bind(g.default(e))),e.registerIncoming("drag",e._handleDrag.bind(g.default(e))),h.default(e)}return y.default(r,[{key:"onUninstall",value:function(){this._pointerState.forEach((function(e){return e.doubleClickTimeout=(0,Z.removeMaybe)(e.doubleClickTimeout)}))}},{key:"hasPendingInputs",get:function(){return(0,Rl.someMap)(this._pointerState,(function(e){return null!=e.doubleClickTimeout}))}},{key:"_pointerId",value:function(e){var t=e.native;return"mouse"===t.pointerType?"".concat(t.pointerId,":").concat(t.button):"".concat(t.pointerType)}},{key:"_handleImmediateClick",value:function(e){var t=e.data,r=this._pointerId(t),n=this._pointerState.get(r);if(n){var i="touch"===t.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;Mf(n.event.data,t)>i?(this._clearDoubleClickTimeout(r,!0),this._startClick(e)):(this._clearDoubleClickTimeout(r,!1),this._doubleClick.emit(n.event.data,void 0,n.event.modifiers))}else this._startClick(e)}},{key:"_startClick",value:function(e){var t=this,r=this._pointerId(e.data),n="touch"===e.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;this._pointerState.set(r,{event:e,doubleClickTimeout:this._clock.setTimeout((function(){return t._doubleClickTimeoutExceeded(r)}),n)}),this.refreshHasPendingInputs()}},{key:"_handlePointerDrag",value:function(e){var t=this._pointerId(e.data.currentEvent);this._clearDoubleClickTimeout(t,!0)}},{key:"_handleDrag",value:function(e){var t=this._pointerId(e.data.pointer);this._clearDoubleClickTimeout(t,!0)}},{key:"_clearDoubleClickTimeout",value:function(e,t){var r=this._pointerState.get(e);r&&(r.doubleClickTimeout.remove(),r.doubleClickTimeout=null,t&&this._doubleClickTimeoutExceeded(e),this._pointerState.delete(e),this.refreshHasPendingInputs())}},{key:"_doubleClickTimeoutExceeded",value:function(e){var t=this._pointerState.get(e);this._click.emit(t.event.data,void 0,t.event.modifiers),t.doubleClickTimeout=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}}]),r}(Gl.InputHandler),Ff=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rf.maximumDoubleClickDelay,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rf.maximumDoubleClickDistance,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rf.maximumDoubleTouchDelay,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Rf.maximumDoubleTouchDistance,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Af.clock;return d.default(this,r),(e=t.call(this,!1)).maximumDoubleClickDelay=n,e.maximumDoubleClickDistance=i,e.maximumDoubleTouchDelay=a,e.maximumDoubleTouchDistance=o,e._clock=s,e._doubleTapDragReady=!1,e._doubleTapDragActive=!1,e._dragStartCenter=(0,Le.createScreenPoint)(0,0),e._pointerState=new Map,e._doubleTapDrag=e.registerOutgoing("double-tap-drag"),e._dragEventSeparator=new Zc({start:function(t,r){return e._dragStart(t,r)},update:function(t,r){return e._dragUpdate(r)},end:function(t,r){return e._dragEnd(r)}}),e.registerIncoming("drag",(function(t){return e._dragEventSeparator.handle(t)})),e.registerIncoming("pointer-down",(function(t){return e._handlePointerDown(t)})),e.registerIncoming("pointer-up",(function(){return e._handlePointerUp()})),h.default(e)}return y.default(r,[{key:"onUninstall",value:function(){this._pointerState.forEach((function(e){null!=e.doubleTapTimeout&&(e.doubleTapTimeout.remove(),e.doubleTapTimeout=null)}))}},{key:"hasPendingInputs",get:function(){return(0,Rl.someMap)(this._pointerState,(function(e){return null!=e.doubleTapTimeout}))}},{key:"_clearPointerDown",value:function(e){var t=this._pointerState.get(e);t&&(t.doubleTapTimeout.remove(),t.doubleTapTimeout=null,this._pointerState.delete(e),this.refreshHasPendingInputs())}},{key:"_createDoubleTapDragData",value:function(e,t,r){return{action:e,delta:t,button:r.button,buttons:r.buttons,pointer:r.pointer,pointers:r.pointers,pointerType:r.pointerType,timestamp:r.timestamp}}},{key:"_dragStart",value:function(e,t){if(this._doubleTapDragReady&&1===e){this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;var r=t.data,n=t.modifiers,i=r.center;this._dragStartCenter=i;var a=this._createDoubleTapDragData("begin",(0,Le.createScreenPoint)(0,0),r);this._doubleTapDrag.emit(a,void 0,n),t.stopPropagation()}}},{key:"_dragUpdate",value:function(e){if(this._doubleTapDragActive){var t=e.data,r=e.modifiers,n=t.center,i=(0,Le.createScreenPoint)(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),a=this._createDoubleTapDragData("update",i,t);this._doubleTapDrag.emit(a,void 0,r),e.stopPropagation()}}},{key:"_dragEnd",value:function(e){if(this._doubleTapDragActive){var t=e.data,r=e.modifiers,n=t.center,i=(0,Le.createScreenPoint)(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),a=this._createDoubleTapDragData("end",i,t);this._doubleTapDrag.emit(a,void 0,r),this._doubleTapDragActive=!1,e.stopPropagation()}}},{key:"_handlePointerDown",value:function(e){var t=e.data,r=this._pointerId(t),n=this._pointerState.get(r),i=t.native.pointerType;if(n){var a="touch"===i?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;this._clearPointerDown(r),Mf(n.event.data,t)>a?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}},{key:"_handlePointerUp",value:function(){this._doubleTapDragReady=!1}},{key:"_pointerId",value:function(e){var t=e.native,r=t.pointerId,n=t.button,i=t.pointerType;return"mouse"===i?"".concat(r,":").concat(n):"".concat(i)}},{key:"_storePointerDown",value:function(e){var t=this,r=e.data,n=r.native.pointerType,i=this._pointerId(r),a="touch"===n?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay,o=this._clock.setTimeout((function(){return t._clearPointerDown(i)}),a);this._pointerState.set(i,{event:e,doubleTapTimeout:o}),this.refreshHasPendingInputs()}}]),r}(Gl.InputHandler);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),h=s("bFSSc"),y=s("jK9zx"),Le=s("iXlXu");var jf,Df,Uf=s("60cAN"),Vf=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,!1)).navigationTouch=e,n.startStateModifiers=new Set,n.activePointerMap=new Map,n.isDragging=!1,n.isCurrentDragSuppressed=!1,n.drag=n.registerOutgoing("drag"),n.registerIncoming("pointer-drag",n._handlePointerDrag.bind(g.default(n))),n.registerIncoming("pointer-up",n._handlePointerUpAndPointerLost.bind(g.default(n))),n.registerIncoming("pointer-capture-lost",n._handlePointerUpAndPointerLost.bind(g.default(n))),n.registerIncoming("pointer-cancel",n._handlePointerUpAndPointerLost.bind(g.default(n))),h.default(n)}return y.default(r,[{key:"_createPayload",value:function(e,t,r,n){return{action:e,pointerType:this.pointerType,button:this.mouseButton,buttons:t.buttons,timestamp:n,pointers:zf(this.activePointerMap),pointer:t,angle:r.angle,radius:r.radius,center:r.center}}},{key:"_addPointer",value:function(e){var t=e.native.pointerId,r=Hf(this.activePointerMap).angle,n={event:e,initialAngle:0,lastAngle:0};this.activePointerMap.set(t,n);var i=Wf(n,Bf(this.activePointerMap));n.initialAngle=i,n.lastAngle=i,this._updatePointerAngles(r)}},{key:"_updatePointer",value:function(e){if(!e||null!=e.x||null!=e.y){var t=e.native.pointerId,r=this.activePointerMap.get(t);r?r.event=e:this._addPointer(e)}}},{key:"_removePointer",value:function(e){var t=Hf(this.activePointerMap).angle;this.activePointerMap.delete(e),this._updatePointerAngles(t)}},{key:"_updatePointerAngles",value:function(e){var t=Hf(this.activePointerMap);this.activePointerMap.forEach((function(r){r.initialAngle=Wf(r,t)-e,r.lastAngle=Wf(r,t)-e}))}},{key:"_emitEvent",value:function(e,t,r){var n=Hf(this.activePointerMap);this.drag.emit(this._createPayload(e,t,n,r),void 0,this.startStateModifiers)}},{key:"_handlePointerUpAndPointerLost",value:function(e){var t=e.data.native.pointerId,r=(0,Uf.Milliseconds)(e.timestamp);this.activePointerMap.get(t)&&(1===this.activePointerMap.size?(this._updatePointer(e.data),!this.isCurrentDragSuppressed&&this._emitEvent("end",e.data,r),this.isDragging=!1,this.isCurrentDragSuppressed=!1,this._removePointer(t)):(this._removePointer(t),this._emitEvent("removed",e.data,(0,Uf.Milliseconds)(e.timestamp))))}},{key:"_handlePointerDrag",value:function(e){var t=e.data,r=t.currentEvent,n=(0,Uf.Milliseconds)(e.timestamp);switch(t.action){case"start":case"update":this.isDragging?this.activePointerMap.has(r.native.pointerId)?(this._updatePointer(r),!this.isCurrentDragSuppressed&&this._emitEvent("update",r,n)):(this._addPointer(r),this._emitEvent("added",r,n),this.isCurrentDragSuppressed=this.isSuppressed):(this._updatePointer(r),this.pointerType=e.data.startEvent.pointerType,this.mouseButton=e.data.startEvent.button,this.startStateModifiers=e.modifiers,this.isDragging=!0,this.isCurrentDragSuppressed=this.isSuppressed,!this.isCurrentDragSuppressed&&this._emitEvent("start",r,n))}}},{key:"isSuppressed",get:function(){return this.navigationTouch&&!this.navigationTouch.browserTouchPanEnabled&&"touch"===this.pointerType&&1===this.activePointerMap.size}}]),r}((Gl=s("fOORG")).InputHandler);function Bf(e){var t=[];return e.forEach((function(e){t.push((0,Le.createScreenPoint)(e.event.x,e.event.y))})),Nf(t)}function Hf(e){var t=Bf(e),r=0;return e.forEach((function(e){for(var n=Wf(e,t),i=n-e.lastAngle;i>Math.PI;)i-=2*Math.PI;for(;i<-Math.PI;)i+=2*Math.PI;n=e.lastAngle+i,e.lastAngle=n;var a=n-e.initialAngle;r+=a})),{angle:r/=e.size||1,radius:t.radius,center:t.center}}function zf(e){var t=new Map;return e.forEach((function(e,r){return t.set(r,e.event)})),t}function Wf(e,t){var r=e.event,n=r.x-t.center.x,i=r.y-t.center.y;return Math.atan2(i,n)}(Df=jf||(jf={}))[Df.Left=0]="Left",Df[Df.Middle=1]="Middle",Df[Df.Right=2]="Right",Df[Df.Back=3]="Back",Df[Df.Forward=4]="Forward",Df[Df.Undefined=-1]="Undefined",s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),h=s("bFSSc"),y=s("jK9zx"),w=s("8atho"),x=s("aNpz9"),Af=s("bCqxt");var Gf=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rf.maximumDoubleClickDelay,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rf.maximumDoubleClickDistance,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rf.maximumDoubleTouchDelay,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Rf.maximumDoubleTouchDistance,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Af.clock;return d.default(this,r),(e=t.call(this,!1)).maximumDoubleClickDelay=n,e.maximumDoubleClickDistance=i,e.maximumDoubleTouchDelay=a,e.maximumDoubleTouchDistance=o,e._clock=s,e._pointerState=new Map,e._immediateDoubleClick=e.registerOutgoing("immediate-double-click"),e.registerIncoming("pointer-down",e._handlePointerDown.bind(g.default(e))),e.registerIncoming("pointer-up",(function(t){e._handlePointerLoss(t,"pointer-up")})),e.registerIncoming("pointer-capture-lost",(function(t){e._handlePointerLoss(t,"pointer-capture-lost")})),e.registerIncoming("pointer-cancel",(function(t){e._handlePointerLoss(t,"pointer-cancel")})),h.default(e)}return y.default(r,[{key:"onUninstall",value:function(){this._pointerState.forEach((function(e){e.immediateDoubleClick&&e.immediateDoubleClick.timeoutHandle.remove()})),w.default(x.default(r.prototype),"onUninstall",this).call(this)}},{key:"_handlePointerDown",value:function(e){var t=e.data,r=this._pointerId(t);if(!this._pointerState.has(r)){var n={downButton:t.native.button,immediateDoubleClick:null};this._pointerState.set(r,n),this.startCapturingPointer(t.native)}}},{key:"_handlePointerLoss",value:function(e,t){var r=e.data,n=this._pointerId(r),i=this._pointerState.get(n);if(i&&"pointer-up"===t&&i.downButton===r.native.button){var a=i.immediateDoubleClick;if(a){a.timeoutHandle.remove();var o="touch"===e.data.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;Mf(a,e.data)>o?this._startImmediateDoubleClick(e,i):(this._immediateDoubleClick.emit(e.data,void 0,a.modifiers),this._removeState(r))}else this._startImmediateDoubleClick(e,i)}}},{key:"_startImmediateDoubleClick",value:function(e,t){var r=this,n="touch"===e.data.native.pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;t.immediateDoubleClick={x:e.data.x,y:e.data.y,modifiers:e.modifiers,timeoutHandle:this._clock.setTimeout((function(){return r._removeState(e.data)}),n)}}},{key:"_pointerId",value:function(e){var t=e.native;return"mouse"===t.pointerType?"".concat(t.pointerId,":").concat(t.button):"".concat(t.pointerType)}},{key:"_removeState",value:function(e){var t=this._pointerId(e);this._pointerState.delete(t),this.stopCapturingPointer(e.native),this.refreshHasPendingInputs()}}]),r}((Gl=s("fOORG")).InputHandler);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),h=s("bFSSc"),y=s("jK9zx"),w=s("8atho"),x=s("aNpz9"),Af=s("bCqxt"),Gl=s("fOORG");var Jf=300,qf=1.5,Xf=6,Kf=6,$f=500,Yf=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jf,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qf,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xf,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Kf,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$f,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Af.clock;return d.default(this,r),(e=t.call(this,!1)).maximumClickDelay=n,e.movementUntilMouseDrag=i,e.movementUntilPenDrag=a,e.movementUntilTouchDrag=o,e.holdDelay=s,e._clock=l,e._pointerState=new Map,e._pointerDrag=e.registerOutgoing("pointer-drag"),e._immediateClick=e.registerOutgoing("immediate-click"),e._pointerHold=e.registerOutgoing("hold"),e.registerIncoming("pointer-down",e._handlePointerDown.bind(g.default(e))),e.registerIncoming("pointer-up",(function(t){e._handlePointerLoss(t,"pointer-up")})),e.registerIncoming("pointer-capture-lost",(function(t){e._handlePointerLoss(t,"pointer-capture-lost")})),e.registerIncoming("pointer-cancel",(function(t){e._handlePointerLoss(t,"pointer-cancel")})),e._moveHandle=e.registerIncoming("pointer-move",e._handlePointerMove.bind(g.default(e))),e._moveHandle.pause(),h.default(e)}return y.default(r,[{key:"onUninstall",value:function(){this._pointerState.forEach((function(e){null!=e.holdTimeout&&(e.holdTimeout.remove(),e.holdTimeout=null)})),w.default(x.default(r.prototype),"onUninstall",this).call(this)}},{key:"_handlePointerDown",value:function(e){var t=this,r=e.data,n=r.native.pointerId,i=null;0===this._pointerState.size&&(i=this._clock.setTimeout((function(){var r=t._pointerState.get(n);if(r){if(!r.isDragging){var i=r.previousEvent;t._pointerHold.emit(i,void 0,e.modifiers),r.holdEmitted=!0}r.holdTimeout=null}}),this.holdDelay));var a={startEvent:r,previousEvent:r,startTimestamp:e.timestamp,isDragging:!1,downButton:r.native.button,holdTimeout:i,modifiers:new Set};this._pointerState.set(n,a),this.startCapturingPointer(r.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(e)}},{key:"_createPointerDragData",value:function(e,t,r){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:r}}},{key:"_handlePointerMove",value:function(e){var t,r,n,i,a=e.data,o=a.native.pointerId,s=this._pointerState.get(o);s&&(s.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",s,a),void 0,s.modifiers):(t=a,r=s.startEvent,n=r.x-t.x,i=r.y-t.y,Math.sqrt(n*n+i*i)>this._getDragThreshold(a.native.pointerType)&&this._startDragging(e)),s.previousEvent=a)}},{key:"_getDragThreshold",value:function(e){switch(e){case"touch":return this.movementUntilTouchDrag;case"pen":return this.movementUntilPenDrag;default:return this.movementUntilMouseDrag}}},{key:"_startDragging",value:function(e){var t=this,r=e.data,n=r.native.pointerId;this._pointerState.forEach((function(i){null!=i.holdTimeout&&(i.holdTimeout.remove(),i.holdTimeout=null),i.isDragging||(i.modifiers=e.modifiers,i.isDragging=!0,n===i.startEvent.native.pointerId?t._pointerDrag.emit(t._createPointerDragData("start",i,r)):t._pointerDrag.emit(t._createPointerDragData("start",i,i.previousEvent),e.timestamp))}))}},{key:"_handlePointerLoss",value:function(e,t){var r=e.data,n=r.native.pointerId,i=this._pointerState.get(n);i&&(null!=i.holdTimeout&&(i.holdTimeout.remove(),i.holdTimeout=null),i.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",i,"pointer-up"===t?r:i.previousEvent),void 0,i.modifiers):"pointer-up"===t&&i.downButton===r.native.button&&e.timestamp-i.startTimestamp<=this.maximumClickDelay&&!i.holdEmitted&&this._immediateClick.emit(r),this._pointerState.delete(n),this.stopCapturingPointer(r.native),0===this._pointerState.size&&this._moveHandle.pause())}}]),r}(Gl.InputHandler),Zf="Ctrl",Qf={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},ep={zoomIn:["=","+"],zoomOut:["-","_"]},tp={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"},rp=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){var e;return d.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))))._handles=new(0,Ve.default),h.default(e)}return y.default(r,[{key:"initialize",value:function(){var e=this;this._handles.add([(0,Qe.whenNot)(this.view,"ready",(function(){return e._disconnect()})),(0,Qe.when)(this.view,"ready",(function(){return e._connect()}))])}},{key:"destroy",value:function(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect()}},{key:"_disconnect",value:function(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null)}},{key:"_connect",value:function(){var e=this,t=this.view.surface,r=new Cf(t,this.view.input),n=[new Gf,new Yf,new Pf,new Vf(this.view.navigation),new Ff],i=new(0,po.InputManager)({eventSource:r,recognizers:n});i.installHandlers("prevent-context-menu",[new Lf],po.ViewEventPriorities.INTERNAL),i.installHandlers("navigation",[new yf(this.view),new of(this.view),new hf(this.view),new $c(this.view),new $c(this.view,[Zf]),new Qc(this.view,"primary"),new cf(this.view,Qf),new df(this.view,ep),new ff(this.view,tp),new ef(this.view,"secondary"),new Yc(this.view,"touch")],po.ViewEventPriorities.INTERNAL),this.view.viewEvents.connect(i),this._source=r,this._inputManager=i,(0,Qe.init)(this.view.navigation,"browserTouchPanEnabled",(function(t){e._source.browserTouchPanningEnabled=!t}))}},{key:"test",get:function(){return{inputManager:this._inputManager}}}]),r}(X.default);(0,v._)([(0,P.property)()],rp.prototype,"view",void 0);var np=rp=(0,v._)([(0,j.subclass)("esri.views.2d.input.MapViewInputManager")],rp),ip=s("887rD");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),k=s("jgs9n"),X=s("jymfC"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var ap=0,op=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){var e;return d.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).color=new(0,k.default)([0,255,255]),e.haloOpacity=1,e.fillOpacity=.25,h.default(e)}return y.default(r,[{key:"version",get:function(){return ap++}}]),r}(X.default);(0,v._)([(0,P.property)({readOnly:!0})],op.prototype,"version",null),(0,v._)([(0,P.property)({type:k.default})],op.prototype,"color",void 0),(0,v._)([(0,P.property)({type:k.default})],op.prototype,"haloColor",void 0),(0,v._)([(0,P.property)()],op.prototype,"haloOpacity",void 0),(0,v._)([(0,P.property)()],op.prototype,"fillOpacity",void 0);var sp=op=(0,v._)([(0,j.subclass)("esri.views.2d.support.HighlightOptions")],op),lp=s("baDo1");function up(e,t,r,n,i,a,o,s){var l;e.ignorePadding&&(n={left:0,right:0,top:0,bottom:0}),null!=e.width&&null!=e.height?l=[e.width,e.height]:null==e.width&&null!=e.height?l=[e.height,e.height]:null!=e.width&&null==e.height?l=[e.width,e.width]:null==e.width&&null==e.height&&(l=null);var u,c,f=r[0]-(n.left+n.right),p=r[1]-(n.top+n.bottom),d=e.area||{x:0,y:0,width:f,height:p};if(l){var h=f/p,y=l[0]/l[1];if(y>h){var v=d.width/y;d={x:d.x,y:Math.round(d.y+(d.height-v)/2),width:d.width,height:Math.round(v)}}else{var m=d.height*y;d={x:Math.round(d.x+(d.width-m)/2),y:d.y,width:Math.round(m),height:d.height}}}else l=[d.width,d.height];return l[0]>d.width?(u=Math.min(l[0]/d.width,t),c=l[0]/d.width/u):(u=1,c=l[0]/d.width),{resolutionScale:u,cropArea:{x:Math.round((d.x+n.left)*u),y:Math.round((d.y+n.top)*u),width:Math.round(d.width*u),height:Math.round(d.height*u)},outputScale:c,format:i,quality:a,children:o,rotation:s}}var cp=s("cOnBU"),fp=(C=s("kyj08"),s("3NAox")),pp=s("fnzEM");function dp(e){var t=function(e){for(var t=(0,pp.getContextTypes)(e);t.length>1;){var r=(0,fp.getWebGLCapabilities)(t.shift());if(r.available)return r}return(0,fp.getWebGLCapabilities)(t.shift())}(e);if(!t.available)return new(0,C.default)("webgl:required","WebGL is required but not supported.");if("3d"===e&&t.majorPerformanceCaveat)return new(0,C.default)("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!t.supportsHighPrecisionFragment)return new(0,C.default)("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!t.supportsVertexShaderSamplers)return new(0,C.default)("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(t.type===pp.ContextType.WEBGL1){if(!t.supportsElementIndexUint)return new(0,C.default)("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!t.supportsStandardDerivatives)return new(0,C.default)("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!t.supportsInstancedArrays)return new(0,C.default)("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),v=s("7eJjO"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),w=s("8atho"),x=s("aNpz9"),v=s("7eJjO");s("2VlWd");N=s("jHOLN"),Oe=s("lKPaD"),P=s("iho5X");s("lNwWH"),s("iJAIC");j=s("fcwIv");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),X=s("jymfC"),We=s("285ef"),P=s("iho5X");s("lNwWH"),s("2VlWd");Q=s("ba18L"),j=s("fcwIv");var hp="esri-component",yp=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){var e;return d.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).widget=null,h.default(e)}return y.default(r,[{key:"destroy",value:function(){this.widget&&this.widget.destroy(),this.node=null}},{key:"id",get:function(){return this.get("widget.id")||this.get("node.id")}},{key:"node",set:function(e){var t=this._get("node");e!==t&&(e&&e.classList.add(hp),t&&t.classList.remove(hp),this._set("node",e))}},{key:"castNode",value:function(e){return e?"string"==typeof e||function(e){return e&&"nodeType"in e}(e)?(this._set("widget",null),(0,We.byId)(e)):((t=e)&&"function"==typeof t.render&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null);var t}}]),r}(X.default);(0,v._)([(0,P.property)({dependsOn:[]})],yp.prototype,"id",null),(0,v._)([(0,P.property)()],yp.prototype,"node",null),(0,v._)([(0,Q.cast)("node")],yp.prototype,"castNode",null),(0,v._)([(0,P.property)({readOnly:!0})],yp.prototype,"widget",void 0);var vp=yp=(0,v._)([(0,j.subclass)("esri.views.ui.Component")],yp);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),b=s("ifq4M"),v=s("7eJjO"),We=s("285ef"),Y=s("amfHf"),Ve=s("qhgF7"),Oe=s("lKPaD"),P=s("iho5X");s("lNwWH"),s("2VlWd");Q=s("ba18L"),j=s("fcwIv"),cr=s("6zpox");s("jHOLN");ki=s("bnSL3");var mp={left:0,top:0,bottom:0,right:0},gp={bottom:30,top:15,right:15,left:15},bp="manual",_p="esri-ui",wp="esri-ui-corner",xp="esri-ui-inner-container",Sp="esri-ui-manual-container",kp="esri-ui-corner-container",Tp="esri-ui-top-left",Ep="esri-ui-top-right",Ip="esri-ui-bottom-left",Cp="esri-ui-bottom-right";function Op(e){var t=e,r="object"==typeof t&&null!==t&&Object.getPrototypeOf(t);return null!==r&&r!==Object.prototype||!("component"in t||"index"in t||"position"in t)?null:e}function Lp(e,t){var r=t.top,n=t.bottom,i=t.left,a=t.right;e.style.top=r,e.style.bottom=n,e.style.left=i,e.style.right=a}var Ap=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._cornerNameToContainerLookup={},n._positionNameToContainerLookup={},n._components=new Array,n._componentToKey=new Map,n._handles=new(0,Ve.default),n.view=null,n._applyViewPadding=function(){var e=n.container;e&&Lp(e,n._toPxPosition(n._getViewPadding()))},n._applyUIPadding=function(){var e=n._innerContainer;e&&Lp(e,n._toPxPosition(n.padding))},n._initContainers(),h.default(n)}return y.default(r,[{key:"initialize",value:function(){var e=this;this._handles.add([(0,Oe.watch)((function(){var t;return[null==(t=e.view)?void 0:t.padding,e.container]}),this._applyViewPadding,Oe.initial),(0,Oe.watch)((function(){return e.padding}),this._applyUIPadding,Oe.initial)])}},{key:"destroy",value:function(){this.container=null;var e=!0,t=!1,r=void 0;try{for(var n,i=this._components[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){n.value.destroy()}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}this._components.length=0,this._handles.destroy(),this._componentToKey.clear()}},{key:"container",set:function(e){var t=this._get("container");e!==t&&(e&&(e.classList.add(_p),e.classList.add((0,ki.getCalciteThemeClass)()),this._attachContainers(e)),t&&(t.classList.remove(_p),Lp(t,{top:"",bottom:"",left:"",right:""}),(0,We.empty)(t)),this._set("container",e))}},{key:"height",get:function(){var e=this.get("view.height")||0;if(0===e)return e;var t=this._getViewPadding(),r=t.top+t.bottom;return Math.max(e-r,0)}},{key:"padding",get:function(){return this._get("padding")},set:function(e){e?this._override("padding",e):this._clearOverride("padding")}},{key:"castPadding",value:function(e){return"number"==typeof e?{bottom:e,top:e,right:e,left:e}:b.default({},gp,e)}},{key:"width",get:function(){var e=this.get("view.width")||0;if(0===e)return e;var t=this._getViewPadding(),r=t.left+t.right;return Math.max(e-r,0)}},{key:"add",value:function(e,t){var r,n,i=this;if(Array.isArray(e))e.forEach((function(e){return i.add(e,t)}));else{var a,o,s=Op(e);s&&(r=(a=s).index,t=a.position,e=a.component,n=a.key),t&&"object"==typeof t&&(r=(o=t).index,n=o.key,t=o.position),!e||t&&!this._isValidPosition(t)||this._add(e,t,r,n)}}},{key:"remove",value:function(e,t){var r=this;if(e){if(Array.isArray(e))return e.map((function(e){return r.remove(e,t)}));var n=this._find(e);if(n){var i=this._componentToKey;if(i.has(e)&&i.get(e)!==t)return;var a=this._components.indexOf(n);return n.node.parentNode&&n.node.parentNode.removeChild(n.node),this._componentToKey.delete(e),this._components.splice(a,1)[0]}}}},{key:"empty",value:function(e){var t=this;return Array.isArray(e)?e.map((function(e){return t.empty(e)})).reduce((function(e,t){return e.concat(t)})):(e=e||bp)===bp?Array.prototype.slice.call(this._manualContainer.children).filter((function(e){return!e.classList.contains(wp)})).map((function(e){return t.remove(e)})):this._isValidPosition(e)?Array.prototype.slice.call(this._cornerNameToContainerLookup[e].children).map(this.remove,this):null}},{key:"move",value:function(e,t){var r=this;if(Array.isArray(e)&&e.forEach((function(e){return r.move(e,t)})),e){var n,i=Op(e)||Op(t);if(i&&(n=i.index,t=i.position,e=i.component||e),!t||this._isValidPosition(t)){var a=this.remove(e);a&&this.add(a,{position:t,index:n})}}}},{key:"find",value:function(e){if(!e)return null;var t=this._findById(e);return t&&(t.widget||t.node)}},{key:"getPosition",value:function(e){for(var t in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[t].contains(e))return t;return null}},{key:"_add",value:function(e,t,r,n){e instanceof vp||(e=new vp({node:e})),this._place({component:e,position:t,index:r}),this._components.push(e),n&&this._componentToKey.set(e,n)}},{key:"_find",value:function(e){return e?e instanceof vp?this._findByComponent(e):"string"==typeof e?this._findById(e):this._findByNode(e.domNode||e):null}},{key:"_getViewPadding",value:function(){return this.get("view.padding")||mp}},{key:"_attachContainers",value:function(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}},{key:"_initContainers",value:function(){var e=document.createElement("div");e.classList.add(xp),e.classList.add(kp);var t=document.createElement("div");t.classList.add(xp),t.classList.add(Sp);var r=document.createElement("div");r.classList.add(Tp),r.classList.add(wp),e.appendChild(r);var n=document.createElement("div");n.classList.add(Ep),n.classList.add(wp),e.appendChild(n);var i=document.createElement("div");i.classList.add(Ip),i.classList.add(wp),e.appendChild(i);var a=document.createElement("div");a.classList.add(Cp),a.classList.add(wp),e.appendChild(a),this._innerContainer=e,this._manualContainer=t;var o=(0,cr.isRTL)();this._cornerNameToContainerLookup={"top-left":r,"top-right":n,"bottom-left":i,"bottom-right":a,"top-leading":o?n:r,"top-trailing":o?r:n,"bottom-leading":o?a:i,"bottom-trailing":o?i:a},this._positionNameToContainerLookup=b.default({manual:t},this._cornerNameToContainerLookup)}},{key:"_isValidPosition",value:function(e){return!!this._positionNameToContainerLookup[e]}},{key:"_place",value:function(e){var t=e.component,r=e.position||bp,n=e.index,i=this._positionNameToContainerLookup[r],a=n>-1;if(function(e){return e&&!e._started&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}(t.widget)&&t.widget.startup(),a){var o=Array.prototype.slice.call(i.children);0!==n?n>=o.length?i.appendChild(t.node):(0,We.insertBefore)(t.node,o[n]):i.firstChild?(0,We.insertBefore)(t.node,i.firstChild):i.appendChild(t.node)}else i.appendChild(t.node)}},{key:"_toPxPosition",value:function(e){return{top:this._toPxUnit(e.top),left:this._toPxUnit(e.left),right:this._toPxUnit(e.right),bottom:this._toPxUnit(e.bottom)}}},{key:"_toPxUnit",value:function(e){return 0===e?"0":e+"px"}},{key:"_findByComponent",value:function(e){var t,r=null;return this._components.some((function(n){return(t=n===e)&&(r=n),t})),r}},{key:"_findById",value:function(e){var t,r=null;return this._components.some((function(n){return(t=n.id===e)&&(r=n),t})),r}},{key:"_findByNode",value:function(e){var t,r=null;return this._components.some((function(n){return(t=n.node===e)&&(r=n),t})),r}}]),r}(Y.default.EventedAccessor);(0,v._)([(0,P.property)()],Ap.prototype,"container",null),(0,v._)([(0,P.property)()],Ap.prototype,"height",null),(0,v._)([(0,P.property)({value:gp})],Ap.prototype,"padding",null),(0,v._)([(0,Q.cast)("padding")],Ap.prototype,"castPadding",null),(0,v._)([(0,P.property)()],Ap.prototype,"view",void 0),(0,v._)([(0,P.property)()],Ap.prototype,"width",null);var Mp=Ap=(0,v._)([(0,j.subclass)("esri.views.ui.UI")],Ap);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),$e=s("aNiFM"),v=s("7eJjO"),Qe=s("5qZXj"),et=s("kDa5L");s("lNwWH"),s("2VlWd"),s("iJAIC");P=s("iho5X"),j=s("fcwIv"),tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),h=s("bFSSc"),y=s("jK9zx"),_=s("jcnGU"),S=s("2TvXO"),v=s("7eJjO");s("2ILM8");var Np=s("dqkq5");T=s("d2yMj"),ut=s("6dXDO"),Qe=s("5qZXj"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv"),dc=s("8Iadx"),Ka=s("eF88h"),Ol=s("j40xv");function Rp(e,t){return e&&"copyright"in e&&(!t||"function"==typeof e.originOf&&"user"===e.originOf("copyright"))}function Pp(e,t,r){r&&t&&(e.find((function(e){return e.layerView===t&&e.text===r}))||e.push({text:r,layerView:t}))}var Fp=[],jp=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._clear=function(){n._fetchedAttributionData.clear(),n._pendingAttributions.clear(),n.handles.remove("suspension"),n.notifyChange("state")},n._pendingAttributions=new Set,n._fetchedAttributionData=new Map,n.items=new(0,T.default),n.view=null,n._allLayerViewsChange=function(e){n.handles.remove("suspension");var t=n.get("view.allLayerViews");t&&n.handles.add(t.map((function(e){return e.watch(["suspended","attributionVisible"],n._updateAttributionItems)})),"suspension"),e&&e.removed&&e.removed.forEach((function(e){n._pendingAttributions.delete(e),n._fetchedAttributionData.delete(e)})),n._updateAttributionItems()},n._updateAttributionItems=function(){var e,t,r=n.get("view.allLayerViews");Fp.length=0,r?(r.forEach((function(e){if(!e.suspended&&e.get("layer.attributionVisible")){var t=e.layer;if(Rp(t,"user"))Pp(Fp,e,t.copyright);else if(t.hasAttributionData){if(n._fetchedAttributionData.has(e)){var r=n._fetchedAttributionData.get(e);return void(r?Pp(Fp,e,n._getDynamicAttribution(r,n.view,t)):Rp(t)&&Pp(Fp,e,t.copyright))}n._fetchAttributionData(e)}else{var i=t.get("portalItem.accessInformation");Pp(Fp,e,i||t.copyright)}}})),e=n.items,t=Fp,(e.length!==t.length||e.some((function(e,r){return e.text!==t[r].text})))&&(n.items.removeAll(),n.items.addMany(Fp)),Fp.length=0,n.notifyChange("state")):n._clear()},n.handles.add([(0,Qe.on)(g.default(n),"view.allLayerViews","change",n._allLayerViewsChange,n._allLayerViewsChange,n._clear),(0,Qe.whenTrue)(g.default(n),"view.stationary",(function(){return n._updateAttributionItems()}))]),h.default(n)}return y.default(r,[{key:"destroy",value:function(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}},{key:"state",get:function(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}},{key:"_fetchAttributionData",value:function(e){var t=this;return _.default(n(S).mark((function r(){var i,a;return n(S).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t._pendingAttributions.has(e)){r.next=2;break}return r.abrupt("return");case 2:return t._pendingAttributions.add(e),r.next=5,(0,Np.result)(e.layer.fetchAttributionData());case 5:i=r.sent,t._pendingAttributions.has(e)&&(a=i.ok?t._createContributionIndex(i.value,"bing-maps"===e.layer.type):null,t._pendingAttributions.delete(e),t._fetchedAttributionData.set(e,a)),t._updateAttributionItems();case 8:case"end":return r.stop()}}),r)})))()}},{key:"_createContributionIndex",value:function(e,t){var r=e.contributors,n={};if(!r)return n;for(var i=0;i<r.length;i++){var a=r[i],o=a.coverageAreas;if(!o)return;var s=!0,l=!1,u=void 0;try{for(var c,f=o[Symbol.iterator]();!(s=(c=f.next()).done);s=!0)for(var p=c.value,d=p.bbox,h=p.zoomMin-(t&&p.zoomMin?1:0),y=p.zoomMax-(t&&p.zoomMax?1:0),v={xmin:d[1],ymin:d[0],xmax:d[3],ymax:d[2],spatialReference:Ol.default.WGS84},m={extent:(0,Ka.geographicToWebMercator)(v),attribution:a.attribution||"",score:null!=p.score?p.score:100,id:i},g=h;g<=y;g++)n[g]=n[g]||[],n[g].push(m)}catch(e){l=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}}return n.maxKey=Math.max.apply(null,Object.keys(n)),n}},{key:"_getDynamicAttribution",value:function(e,t,r){var n=t.extent,i=t.scale,a=r.tileInfo.scaleToZoom(i);if(a=Math.min(e.maxKey,Math.round(a)),!n||null==a||a<=-1)return"";var o=e[a],s=(0,Ka.project)(n.center.clone().normalize(),t.spatialReference),l={};return o?o.filter((function(e){var t=!l[e.id]&&s&&(0,dc.extentContainsPoint)(e.extent,s);return t&&(l[e.id]=!0),t})).sort((function(e,t){return t.score-e.score||e.objectId-t.objectId})).map((function(e){return e.attribution})).join(", "):""}}]),r}(ut.HandleOwner);(0,v._)([(0,P.property)({readOnly:!0,type:T.default})],jp.prototype,"items",void 0),(0,v._)([(0,P.property)({readOnly:!0})],jp.prototype,"state",null),(0,v._)([(0,P.property)()],jp.prototype,"view",void 0);var Dp=jp=(0,v._)([(0,j.subclass)("esri.widgets.Attribution.AttributionViewModel")],jp);Do=s("9FnE2"),fr=s("dKwUH");s("jHOLN");pr=s("yibdR");s("6zpox");var Up="esri-attribution esri-widget",Vp="esri-attribution__powered-by",Bp="esri-attribution__sources",Hp="esri-attribution--open",zp="esri-attribution__sources--open",Wp="esri-attribution__link",Gp="esri-icon-description",Jp="esri-interactive",qp=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n))._isOpen=!1,i._attributionTextOverflowed=!1,i._prevSourceNodeHeight=0,i.iconClass=Gp,i.itemDelimiter=" | ",i.label=void 0,i.messages=null,i.view=null,i.viewModel=new Dp,h.default(i)}return y.default(r,[{key:"initialize",value:function(){var e=this;this.own((0,Qe.on)(this,"viewModel.items","change",(function(){return e.scheduleRender()})))}},{key:"_isInteractive",get:function(){return this._isOpen||this._attributionTextOverflowed}},{key:"attributionText",get:function(){return this.viewModel.items.reduce((function(e,t){return-1===e.indexOf(t.text)&&e.push(t.text),e}),[]).join(this.itemDelimiter)}},{key:"render",value:function(){var e=$e.default({},Hp,this._isOpen);return(0,pr.tsx)("div",{bind:this,class:this.classes(Up,e),onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}},{key:"renderPoweredBy",value:function(){return(0,pr.tsx)("div",{class:Vp},"Powered by"," ",(0,pr.tsx)("a",{class:Wp,href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}},{key:"renderSourcesNode",value:function(){var e,t=this._isOpen,r=this._isInteractive,n=r?0:-1,i=this.attributionText,a=r?"button":void 0,o=(e={},$e.default(e,zp,t),$e.default(e,Jp,r),e);return(0,pr.tsx)("div",{afterCreate:this._afterSourcesNodeCreate,afterUpdate:this._afterSourcesNodeUpdate,bind:this,class:this.classes(Bp,o),innerHTML:i,role:a,tabIndex:n})}},{key:"_afterSourcesNodeCreate",value:function(e){this._prevSourceNodeHeight=e.clientWidth}},{key:"_afterSourcesNodeUpdate",value:function(e){var t=!1,r=e.clientHeight,n=e.clientWidth,i=e.scrollWidth>=n,a=this._attributionTextOverflowed!==i;if(this._attributionTextOverflowed=i,a&&(t=!0),this._isOpen){var o=r<this._prevSourceNodeHeight;this._prevSourceNodeHeight=r,o&&(this._isOpen=!1,t=!0)}t&&this.scheduleRender()}},{key:"_toggleState",value:function(){this._isInteractive&&(this._isOpen=!this._isOpen)}}]),r}(tt.default);(0,v._)([(0,P.property)()],qp.prototype,"_isOpen",void 0),(0,v._)([(0,P.property)()],qp.prototype,"_isInteractive",null),(0,v._)([(0,P.property)()],qp.prototype,"_attributionTextOverflowed",void 0),(0,v._)([(0,P.property)()],qp.prototype,"_prevSourceNodeHeight",void 0),(0,v._)([(0,P.property)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],qp.prototype,"attributionText",null),(0,v._)([(0,P.property)()],qp.prototype,"iconClass",void 0),(0,v._)([(0,P.property)()],qp.prototype,"itemDelimiter",void 0),(0,v._)([(0,P.property)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],qp.prototype,"label",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/Attribution/t9n/Attribution")],qp.prototype,"messages",void 0),(0,v._)([(0,et.aliasOf)("viewModel.view")],qp.prototype,"view",void 0),(0,v._)([(0,P.property)({type:Dp})],qp.prototype,"viewModel",void 0),(0,v._)([(0,Do.accessibleHandler)()],qp.prototype,"_toggleState",null);var Xp=qp=(0,v._)([(0,j.subclass)("esri.widgets.Attribution")],qp);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),$e=s("aNiFM"),v=s("7eJjO"),et=s("kDa5L");s("lNwWH"),s("2VlWd"),s("iJAIC");P=s("iho5X"),j=s("fcwIv"),tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),X=s("jymfC"),Ve=s("qhgF7"),Qe=s("5qZXj"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Kp=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._handles=new(0,Ve.default),n.orientation={x:0,y:0,z:0},n.view=null,n._updateForCamera=n._updateForCamera.bind(g.default(n)),n._updateForRotation=n._updateForRotation.bind(g.default(n)),n._updateRotationWatcher=n._updateRotationWatcher.bind(g.default(n)),h.default(n)}return y.default(r,[{key:"initialize",value:function(){this._handles.add((0,Qe.init)(this,"view",this._updateRotationWatcher))}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null,this.view=null}},{key:"canShowNorth",get:function(){var e=this.get("view.spatialReference");return!(!e||!e.isWebMercator&&!e.isGeographic)}},{key:"state",get:function(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}},{key:"reset",value:function(){if(this.get("view.ready")){var e={};"2d"===this.view.type?e.rotation=0:e.heading=0,this.callGoTo({target:e})}}},{key:"_updateForRotation",value:function(e){null!=e&&(this.orientation={z:e})}},{key:"_updateForCamera",value:function(e){if(e){var t=-e.heading;this.orientation={x:0,y:0,z:t}}}},{key:"_updateRotationWatcher",value:function(e){this._handles.removeAll(),e&&("2d"===e.type?this._handles.add((0,Qe.init)(this,"view.rotation",this._updateForRotation)):this._handles.add((0,Qe.init)(this,"view.camera",this._updateForCamera)))}}]),r}(Ao(X.default));(0,v._)([(0,P.property)({readOnly:!0})],Kp.prototype,"canShowNorth",null),(0,v._)([(0,P.property)()],Kp.prototype,"orientation",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Kp.prototype,"state",null),(0,v._)([(0,P.property)()],Kp.prototype,"view",void 0);var $p=Kp=(0,v._)([(0,j.subclass)("esri.widgets.CompassViewModel")],Kp);Do=s("9FnE2"),fr=s("dKwUH");s("jHOLN");pr=s("yibdR");s("6zpox");var Yp="esri-compass esri-widget--button esri-widget",Zp="esri-icon-font-fallback-text",Qp="esri-compass__icon",ed="esri-icon-dial",td="esri-icon-compass",rd="esri-icon-locate-circled",nd="esri-interactive",id="esri-disabled",ad=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n)).goToOverride=null,i.iconClass=rd,i.label=void 0,i.messages=null,i.view=null,i.viewModel=new $p,h.default(i)}return y.default(r,[{key:"reset",value:function(){return this.viewModel.reset()}},{key:"render",value:function(){var e,t,r=this.viewModel,n=r.orientation,i=r.state,a="disabled"===i,o="compass"==("rotation"===i?"rotation":"compass"),s=a?-1:0,l=(e={},$e.default(e,id,a),$e.default(e,nd,!a),e),u=(t={},$e.default(t,td,o),$e.default(t,ed,!o),t),c=this.messages;return(0,pr.tsx)("div",{bind:this,class:this.classes(Yp,l),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:s,"aria-label":c.reset,title:c.reset},(0,pr.tsx)("span",{"aria-hidden":"true",class:this.classes(Qp,u),styles:this._toRotationTransform(n)}),(0,pr.tsx)("span",{class:Zp},c.reset))}},{key:"_reset",value:function(){this.viewModel.reset()}},{key:"_toRotationTransform",value:function(e){return{transform:"rotateZ(".concat(e.z,"deg)")}}}]),r}(tt.default);(0,v._)([(0,et.aliasOf)("viewModel.goToOverride")],ad.prototype,"goToOverride",void 0),(0,v._)([(0,P.property)()],ad.prototype,"iconClass",void 0),(0,v._)([(0,P.property)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ad.prototype,"label",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/Compass/t9n/Compass")],ad.prototype,"messages",void 0),(0,v._)([(0,et.aliasOf)("viewModel.view")],ad.prototype,"view",void 0),(0,v._)([(0,P.property)({type:$p})],ad.prototype,"viewModel",void 0),(0,v._)([(0,Do.accessibleHandler)()],ad.prototype,"_reset",null);var od=ad=(0,v._)([(0,j.subclass)("esri.widgets.Compass")],ad);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),$e=s("aNiFM"),v=s("7eJjO"),et=s("kDa5L");s("lNwWH"),s("2VlWd"),s("iJAIC");P=s("iho5X"),j=s("fcwIv"),tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),X=s("jymfC"),Ve=s("qhgF7"),Qe=s("5qZXj"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var sd=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._handles=new(0,Ve.default),n.navigationMode="pan",n.view=null,h.default(n)}return y.default(r,[{key:"initialize",value:function(){this._handles.add((0,Qe.when)(this,"view.inputManager",this._setNavigationMode.bind(this)))}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null,this.view=null}},{key:"state",get:function(){return this.get("view.ready")&&"3d"===this.view.type?"ready":"disabled"}},{key:"toggle",value:function(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())}},{key:"_setNavigationMode",value:function(){this.get("view.inputManager").primaryDragAction="pan"===this.navigationMode?"pan":"rotate"}}]),r}(X.default);(0,v._)([(0,P.property)({readOnly:!0})],sd.prototype,"state",null),(0,v._)([(0,P.property)()],sd.prototype,"navigationMode",void 0),(0,v._)([(0,P.property)()],sd.prototype,"view",void 0);var ld=sd=(0,v._)([(0,j.subclass)("esri.widgets.NavigationToggleViewModel")],sd);Do=s("9FnE2"),fr=s("dKwUH");s("jHOLN");pr=s("yibdR");s("6zpox");var ud="esri-navigation-toggle esri-widget",cd="esri-navigation-toggle__button esri-widget--button",fd="esri-navigation-toggle__button--active",pd="esri-navigation-toggle__button--pan",dd="esri-navigation-toggle__button--rotate",hd="esri-navigation-toggle--horizontal",yd="esri-icon-rotate",vd="esri-icon-pan",md="esri-icon-pan2",gd="esri-disabled",bd=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n)).iconClass=md,i.label=void 0,i.messages=null,i.view=null,i.viewModel=new ld,h.default(i)}return y.default(r,[{key:"layout",set:function(e){"horizontal"!==e&&(e="vertical"),this._set("layout",e)}},{key:"toggle",value:function(){return this.viewModel.toggle()}},{key:"render",value:function(){var e,t="disabled"===this.get("viewModel.state"),r="pan"===this.get("viewModel.navigationMode"),n=(e={},$e.default(e,gd,t),$e.default(e,hd,"horizontal"===this.layout),e),i=$e.default({},fd,r),a=$e.default({},fd,!r),o=t?-1:0,s=this.messages.toggle;return(0,pr.tsx)("div",{bind:this,class:this.classes(ud,n),onclick:this._toggle,onkeydown:this._toggle,tabIndex:o,"aria-label":s,title:s},(0,pr.tsx)("div",{class:this.classes(cd,pd,i)},(0,pr.tsx)("span",{class:vd})),(0,pr.tsx)("div",{class:this.classes(cd,dd,a)},(0,pr.tsx)("span",{class:yd})))}},{key:"_toggle",value:function(){this.toggle()}}]),r}(tt.default);(0,v._)([(0,P.property)()],bd.prototype,"iconClass",void 0),(0,v._)([(0,P.property)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],bd.prototype,"label",void 0),(0,v._)([(0,P.property)({value:"vertical"})],bd.prototype,"layout",null),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],bd.prototype,"messages",void 0),(0,v._)([(0,et.aliasOf)("viewModel.view")],bd.prototype,"view",void 0),(0,v._)([(0,P.property)({type:ld})],bd.prototype,"viewModel",void 0),(0,v._)([(0,Do.accessibleHandler)()],bd.prototype,"_toggle",null);var _d=bd=(0,v._)([(0,j.subclass)("esri.widgets.NavigationToggle")],bd);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),$e=s("aNiFM"),v=s("7eJjO"),et=s("kDa5L");s("lNwWH"),s("2VlWd"),s("iJAIC");P=s("iho5X"),j=s("fcwIv"),tt=s("kXohW");s("6zpox");fr=s("dKwUH");s("jHOLN");pr=s("yibdR");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),$e=s("aNiFM"),v=s("7eJjO"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv"),tt=s("kXohW"),Do=s("9FnE2");s("jHOLN");pr=s("yibdR");s("6zpox");var wd="esri-widget--button esri-widget",xd="esri-disabled",Sd="esri-interactive",kd="esri-icon-font-fallback-text",Td="esri-icon",Ed=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){var e;return d.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).enabled=!0,e.iconClass="",e.title="",h.default(e)}return y.default(r,[{key:"render",value:function(){var e,t=this.enabled?0:-1,r=(e={},$e.default(e,xd,!this.enabled),$e.default(e,Sd,this.enabled),e),n=$e.default({},this.iconClass,!!this.iconClass);return(0,pr.tsx)("div",{bind:this,class:this.classes(wd,r),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:t,title:this.title},(0,pr.tsx)("span",{"aria-hidden":"true",role:"presentation",class:this.classes(Td,n)}),(0,pr.tsx)("span",{class:kd},this.title))}},{key:"_triggerAction",value:function(){this.action.call(this)}}]),r}(tt.default);(0,v._)([(0,P.property)()],Ed.prototype,"action",void 0),(0,v._)([(0,P.property)()],Ed.prototype,"enabled",void 0),(0,v._)([(0,P.property)()],Ed.prototype,"iconClass",void 0),(0,v._)([(0,P.property)()],Ed.prototype,"title",void 0),(0,v._)([(0,Do.accessibleHandler)()],Ed.prototype,"_triggerAction",null);var Id=Ed=(0,v._)([(0,j.subclass)("esri.widgets.IconButton")],Ed);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),X=s("jymfC"),R=s("10vEZ"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),y=s("jK9zx"),v=s("7eJjO"),X=s("jymfC"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Cd=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){return d.default(this,r),t.apply(this,arguments)}return y.default(r,[{key:"canZoomIn",get:function(){if(!this.get("view.ready"))return!1;var e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMaxScale");return 0===t||e>t}},{key:"canZoomOut",get:function(){if(!this.get("view.ready"))return!1;var e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMinScale");return 0===t||e<t}}]),r}(X.default);(0,v._)([(0,P.property)({readOnly:!0})],Cd.prototype,"canZoomIn",null),(0,v._)([(0,P.property)({readOnly:!0})],Cd.prototype,"canZoomOut",null),(0,v._)([(0,P.property)()],Cd.prototype,"view",void 0);var Od=Cd=(0,v._)([(0,j.subclass)("esri.widgets.Zoom.ZoomConditions2D")],Cd);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),y=s("jK9zx"),v=s("7eJjO"),X=s("jymfC"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Ld=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){return d.default(this,r),t.apply(this,arguments)}return y.default(r,[{key:"canZoomIn",get:function(){return!!this.get("view.ready")}},{key:"canZoomOut",get:function(){return!!this.get("view.ready")}}]),r}(X.default);(0,v._)([(0,P.property)({readOnly:!0})],Ld.prototype,"canZoomIn",null),(0,v._)([(0,P.property)({readOnly:!0})],Ld.prototype,"canZoomOut",null),(0,v._)([(0,P.property)()],Ld.prototype,"view",void 0);var Ad=Ld=(0,v._)([(0,j.subclass)("esri.widgets.Zoom.ZoomConditions3D")],Ld),Md=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).canZoomIn=!1,n.canZoomOut=!1,h.default(n)}return y.default(r,[{key:"destroy",value:function(){this.view=null}},{key:"state",get:function(){return this.get("view.ready")?"ready":"disabled"}},{key:"view",set:function(e){e?"2d"===e.type?this._zoomConditions=new Od({view:e}):"3d"===e.type&&(this._zoomConditions=new Ad({view:e})):this._zoomConditions=null,this._set("view",e)}},{key:"zoomIn",value:function(){if(this.canZoomIn){var e=this.view;"2d"===e.type?e.mapViewNavigation.zoomIn():(0,R.ignoreAbortErrors)(e.goTo({zoomFactor:2}))}}},{key:"zoomOut",value:function(){if(this.canZoomOut){var e=this.view;"2d"===e.type?e.mapViewNavigation.zoomOut():(0,R.ignoreAbortErrors)(e.goTo({zoomFactor:.5}))}}}]),r}(X.default);(0,v._)([(0,P.property)()],Md.prototype,"_zoomConditions",void 0),(0,v._)([(0,P.property)({aliasOf:"_zoomConditions.canZoomIn",readOnly:!0})],Md.prototype,"canZoomIn",void 0),(0,v._)([(0,P.property)({aliasOf:"_zoomConditions.canZoomOut",readOnly:!0})],Md.prototype,"canZoomOut",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Md.prototype,"state",null),(0,v._)([(0,P.property)()],Md.prototype,"view",null);var Nd=Md=(0,v._)([(0,j.subclass)("esri.widgets.Zoom.ZoomViewModel")],Md),Rd="esri-zoom esri-widget",Pd="esri-zoom--horizontal",Fd="esri-icon-plus",jd="esri-icon-minus",Dd="esri-icon-zoom-in-magnifying-glass",Ud=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n)).iconClass=Dd,i.label=void 0,i.messages=null,i.view=null,i.viewModel=new Nd,h.default(i)}return y.default(r,[{key:"initialize",value:function(){this._zoomInButton=new Id({action:this.zoomIn.bind(this),iconClass:Fd}),this._zoomOutButton=new Id({action:this.zoomOut.bind(this),iconClass:jd})}},{key:"destroy",value:function(){this._zoomInButton.destroy(),this._zoomOutButton.destroy(),this._zoomInButton=null,this._zoomOutButton=null}},{key:"layout",set:function(e){"horizontal"!==e&&(e="vertical"),this._set("layout",e)}},{key:"render",value:function(){var e=this.viewModel,t=$e.default({},Pd,"horizontal"===this.layout);return this._zoomInButton.enabled="ready"===e.state&&e.canZoomIn,this._zoomOutButton.enabled="ready"===e.state&&e.canZoomOut,this._zoomInButton.title=this.messages.zoomIn,this._zoomOutButton.title=this.messages.zoomOut,(0,pr.tsx)("div",{class:this.classes(Rd,t)},this._zoomInButton.render(),this._zoomOutButton.render())}},{key:"zoomIn",value:function(){return this.viewModel.zoomIn()}},{key:"zoomOut",value:function(){return this.viewModel.zoomOut()}}]),r}(tt.default);(0,v._)([(0,P.property)()],Ud.prototype,"iconClass",void 0),(0,v._)([(0,P.property)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ud.prototype,"label",void 0),(0,v._)([(0,P.property)({value:"vertical"})],Ud.prototype,"layout",null),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/Zoom/t9n/Zoom")],Ud.prototype,"messages",void 0),(0,v._)([(0,et.aliasOf)("viewModel.view")],Ud.prototype,"view",void 0),(0,v._)([(0,P.property)({type:Nd})],Ud.prototype,"viewModel",void 0);var Vd=Ud=(0,v._)([(0,j.subclass)("esri.widgets.Zoom")],Ud),Bd="esri.views.ui.DefaultUI";N.default.getLogger(Bd);var Hd=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._defaultPositionLookup={attribution:"manual",compass:"top-leading","navigation-toggle":"top-leading",zoom:"top-leading"},n.components=[],h.default(n)}return y.default(r,[{key:"initialize",value:function(){var e=this;this._handles.add([(0,Oe.watch)((function(){return e.components}),this._componentsWatcher.bind(this),Oe.initial),(0,Oe.watch)((function(){return e.view}),this._updateViewAwareWidgets.bind(this),Oe.initial)])}},{key:"_add",value:function(e,t,n,i){if("string"==typeof e&&this._defaultPositionLookup[e]){if(this._find(e))return;e=this._createComponent(e)}w.default(x.default(r.prototype),"_add",this).call(this,e,t,n,i)}},{key:"_removeComponents",value:function(e){var t=this;e.forEach((function(e){var r=t._find(e);r&&(t.remove(r),r.destroy())}))}},{key:"_updateViewAwareWidgets",value:function(e){var t=this;this.components.forEach((function(r){var n=t._find(r),i=n&&n.widget;(function(e){return e&&void 0!==e.view})(i)&&(i.view=e)}))}},{key:"_componentsWatcher",value:function(e,t){this._removeComponents(t),this._addComponents(e),this._adjustPadding(e)}},{key:"_adjustPadding",value:function(e){if(-1===e.indexOf("attribution")&&!this._isOverridden("padding")){var t=this.padding.top;this.padding=t}}},{key:"_addComponents",value:function(e){var t=this;this.initialized&&e.forEach((function(e){return t.add(t._createComponent(e),t._defaultPositionLookup[e])}))}},{key:"_createComponent",value:function(e){var t=this._createWidget(e);if(t)return new vp({id:e,node:t})}},{key:"_createWidget",value:function(e){return"attribution"===e?this._createAttribution():"compass"===e?this._createCompass():"navigation-toggle"===e?this._createNavigationToggle():"zoom"===e?this._createZoom():void 0}},{key:"_createAttribution",value:function(){return new Xp({view:this.view})}},{key:"_createCompass",value:function(){return new od({view:this.view})}},{key:"_createNavigationToggle",value:function(){return new _d({view:this.view})}},{key:"_createZoom",value:function(){return new Vd({view:this.view})}}]),r}(Mp);(0,v._)([(0,P.property)()],Hd.prototype,"components",void 0);var zd=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).components=["attribution","zoom"],h.default(n)}return r}(Hd=(0,v._)([(0,j.subclass)(Bd)],Hd));(0,v._)([(0,P.property)()],zd.prototype,"components",void 0);var Wd=zd=(0,v._)([(0,j.subclass)("esri.views.ui.2d.DefaultUI2D")],zd);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),k=s("jgs9n"),O=s("1XAcN"),L=s("flPLJ"),P=s("iho5X");s("iJAIC");j=s("fcwIv");var Gd,Jd=Gd=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).color=new(0,k.default)([0,0,0,1]),h.default(n)}return y.default(r,[{key:"clone",value:function(){return new Gd((0,L.clone)({color:this.color}))}}]),r}(O.JSONSupport);(0,v._)([(0,P.property)({type:k.default,json:{write:!0}})],Jd.prototype,"color",void 0);var qd,Xd,Kd,$d,Yd,Zd,Qd=Jd=Gd=(0,v._)([(0,j.subclass)("esri.webmap.background.ColorBackground")],Jd),eh=N.default.getLogger("esri.views.MapView");function th(){return th=ke.asyncToGenerator(n(S).mark((function e(){var t,r,i,a,o,l,u,c;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ke,e.next=3,Promise.all([s("bl6dC"),s("kofl2")]);case 3:e.t1=e.sent,t=e.t0.slicedToArray.call(e.t0,e.t1,2),r=t[1],i=r.GraphicsView2D,a=r.GraphicContainer,o=r.LabelManager,l=r.MapViewNavigation,u=r.MagnifierView2D,c=r.Stage,Xd=i,Kd=a,$d=o,Yd=l,Zd=u,qd=c;case 13:case"end":return e.stop()}}),e)}))),th.apply(this,arguments)}var rh,nh,ih,ah,oh,sh=function(e){"use strict";ke.inherits(r,e);var t=ke.createSuper(r);function r(e){var n;return ke.classCallCheck(this,r),(n=t.call(this,e))._magnifierView=null,n._stage=null,n._resolveWhenReady=[],n.rootLayerViews=new(0,K.default)({getCollections:function(){var e,t;return[null==(e=n.basemapView)?void 0:e.baseLayerViews,n.layerViews,null==(t=n.basemapView)?void 0:t.referenceLayerViews]},getChildrenFunction:function(){return null}}),n.featuresTilingScheme=null,n.fullOpacity=1,n.graphicsView=null,n.labelManager=null,n.mapViewNavigation=null,n.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},n.rendering=!1,n.supersampleScreenshotsEnabled=!1,n.supportsGround=!1,n._stationaryTimer=null,n.frameTask=new oc(ke.assertThisInitialized(n)),n._pePromise=null,n.floors=new(0,T.default),n.highlightOptions=new sp,n.inputManager=new np({view:ke.assertThisInitialized(n)}),n.map=null,n.resizeAlign="center",n.spatialReferenceLocked=!1,n.timeline=new(0,lp.Timeline),n.type="2d",n.ui=new Wd,n.constraints=new Oc,n.padding={top:0,right:0,bottom:0,left:0},n.handles.add([(0,Oe.watch)((function(){return n.viewpoint}),(function(){n._lastStationaryEventTimestamp=performance.now(),n._flipStationary(160)}),Oe.sync),n.on("resize",(function(e){return n._resizeHandler(e)})),(0,Oe.watch)((function(){var e;return null==(e=n.animationManager)?void 0:e.animation}),(function(e){n.animation=e}))]),(0,Me.initialize)(),ke.possibleConstructorReturn(n)}return ke.createClass(r,[{key:"destroy",value:function(){this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}},{key:"graphicsTileStore",get:function(){return new(0,ip.default)(this.featuresTilingScheme)}},{key:"initialExtentRequired",get:function(){var e,t=this,r=t.scale,n=t.constraints,i=t.center,a=t.viewpoint,o=t.extent,s=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&null!=(e=this.map.initialViewProperties)&&e.viewpoint||o||(null!=n&&n.effectiveLODs||(s=-1),i&&(0!==r||-1!==s)||a&&(0,Z.isSome)(a.targetGeometry)&&("extent"===a.targetGeometry.type||a.scale)))}},{key:"resourceManager",get:function(){return this._stage.resourceManager}},{key:"textureManager",get:function(){return this._stage.painter.textureManager}},{key:"_defaultsFromMapSettings",get:function(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}},{key:"_projectionEngineLoaded",get:function(){var e=this;return!!(0,Pe.isLoaded)()||(this._pePromise||(this._pePromise=(0,Pe.load)().finally((function(){e._pePromise=null}))),!1)}},{key:"typeSpecificPreconditionsReady",get:function(){var e=this._getDefaultViewpoint();if(!e)return!1;var t=this.spatialReference,r=(0,Z.unwrap)(e.targetGeometry);return!!(0,Pe.canProjectWithoutEngine)(r.spatialReference,t)||this._projectionEngineLoaded}},{key:"animation",set:function(e){var t=this,r=this._get("animation");if(e!==r)if(r&&r.stop(),e&&!e.isFulfilled()){this._set("animation",e),this.frameTask.animationInProgress=!0;var n=function(){e===t._get("animation")&&(t._set("animation",null),t.frameTask.requestFrame()),t.frameTask.animationInProgress=!1};e.when(n,n)}else this._set("animation",null)}},{key:"background",get:function(){return this.get("map.initialViewProperties.background")||null},set:function(e){void 0===e?this._clearOverride("background"):this._override("background",e)}},{key:"center",get:function(){if(!this.ready)return this._get("center");var e=this.state.paddedViewState,t=e.center,r=e.spatialReference;return new(0,Re.default)({x:t[0],y:t[1],spatialReference:r})},set:function(e){if(null!=e){if(!this.ready)return this._set("center",e),void this.notifyChange("initialExtentRequired");var t;try{t=this._project(e,this.spatialReference)}catch(t){return void eh.error(new(0,C.default)("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:t}))}var r=this.viewpoint;(0,rc.centerAt)(r,r,t),this.viewpoint=r}}},{key:"constraints",set:function(e){var t=this,r=this._get("constraints");r&&(this.handles.remove("map-view-constraints"),r.destroy()),this._set("constraints",e),e&&(e.view=this,this.ready&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint)),this.handles.add((0,Oe.watch)((function(){return e.version}),(function(){t.ready&&t.state&&(t.state.viewpoint=e.fit(t.state.paddedViewState.viewpoint))}),Oe.sync),"map-view-constraints"))}},{key:"extent",get:function(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")},set:function(e){if(null!=e)if(e.width&&e.height){if(!this.ready)return this._set("extent",e),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");var t;try{t=this._project(e,this.spatialReference)}catch(e){return void eh.error(new(0,C.default)("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:e}))}var r=this.viewpoint;(0,rc.setExtent)(r,r,t,this.size,{constraints:this.constraints}),this.viewpoint=r}else eh.error(new(0,C.default)("mapview:invalid-extent","invalid extent size"))}},{key:"padding",get:function(){return this.ready?this.state.padding:this._get("padding")},set:function(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}},{key:"resolution",get:function(){return this.state?this.state.resolution:0}},{key:"rotation",get:function(){return this.ready?this.state.rotation:this._get("rotation")},set:function(e){if(!isNaN(e))if(this.ready){var t=this.viewpoint;(0,rc.rotateTo)(t,t,e),this.viewpoint=t}else this._set("rotation",e)}},{key:"scale",get:function(){return this.ready?this.state.scale:this._get("scale")},set:function(e){if(e&&!isNaN(e)){if(!this.ready){this._set("scale",e),this._set("zoom",-1);var t=this._get("extent");return t&&(this._set("extent",null),this._set("center",t.center)),void this.notifyChange("initialExtentRequired")}var r=this.viewpoint;(0,rc.scaleTo)(r,r,e),this.viewpoint=r}}},{key:"stationary",get:function(){return!(this.animation||this.navigating||this.resizing||this._stationaryTimer)}},{key:"updating",get:function(){return!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some((function(e){return!e.destroyed&&!("layerViews"in e)&&!0===e.updating})))}},{key:"viewpoint",get:function(){if(!this.ready)return this._get("viewpoint");var e=this.state.paddedViewState;return e&&e.viewpoint.clone()},set:function(e){if(null!=e){if(!this.ready)return this._set("viewpoint",e),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");var t,r;try{t=this._project(e,this.spatialReference),!e.scale||isNaN(e.scale)?r=new(0,C.default)("mapview:invalid-viewpoint","invalid scale value of ".concat(e.scale)):(0,Z.isNone)(e.targetGeometry)&&(r=new(0,C.default)("mapview:invalid-viewpoint","geometry not defined"))}catch(e){r=new(0,C.default)("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:e})}if(r)eh.error(r);else{this._scaleBeforeChangingSpatialReference=null;var n=new(0,Ee.default)({targetGeometry:new(0,Re.default),scale:0,rotation:0});(0,rc.copy)(n,t),this.constraints.constrain(n,this.state.paddedViewState.viewpoint),this.state.viewpoint=n,this.frameTask.requestFrame(),this._set("viewpoint",n)}}}},{key:"zoom",get:function(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")},set:function(e){if(null!=e){if(!this.ready){this._set("zoom",e),this._set("scale",0);var t=this._get("extent");return t&&(this._set("extent",null),this._set("center",t.center)),void this.notifyChange("initialExtentRequired")}if(this.constraints.effectiveLODs){var r=this.viewpoint;(0,rc.scaleTo)(r,r,this.constraints.zoomToScale(e)),this.viewpoint=r,this._set("zoom",this.constraints.scaleToZoom(this.scale))}else this._set("zoom",-1)}}},{key:"navigating",get:function(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}},{key:"goTo",value:function(e,t){var r=this;if(e)return this.animation&&(this.animation=null),this._createAnimation(),(0,Oe.whenOnce)((function(){return r.ready}),t).then((function(){var n=ke.objectSpread({animate:!0},t),i=(0,rc.create)(e,r);return r.animation.update(i),r._gotoTask={},n.animate?r._gotoAnimated(i,n):r._gotoImmediate(i,n)}));eh.error("#goTo()","target cannot be null or undefined")}},{key:"hitTest",value:function(e,t){var r=this;return ke.asyncToGenerator(n(S).mark((function i(){var a,o,s,l,u,c,f,p;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=lu(e)?su(r,e):e,r.ready&&!isNaN(a.x)&&!isNaN(a.y)){n.next=3;break}return n.abrupt("return",{screenPoint:a,results:[]});case 3:return o=new Set,s=!1,l=null,u=null,null!=t&&t.include?fh(t.include,ch(r,(function(e){return o.add(e)}),(function(e){l||(l=new Set),l.add(e)}),(function(e){return o.add(e)}),(function(){return s=!0}))):(s=!0,o=new Set(r.allLayerViews)),null!=t&&t.exclude&&fh(t.exclude,ch(r,(function(e){return o.delete(e)}),(function(e){u||(u=new Set),u.add(e)}))),c=r.allLayerViews.filter((function(e){return!e.suspended&&o.has(e)})).reverse(),f=r.toMap(a),n.next=8,Promise.all([s?r.graphicsView.hitTest(f):null].concat(ke.toConsumableArray(c.map((function(e){return e.hitTest(f,a)})))));case 8:return p=n.sent.filter(Z.isSome).flat(),n.abrupt("return",(l&&(p=p.filter((function(e){return l.has(uh(e))}))),u&&(p=p.filter((function(e){return!u.has(uh(e))}))),{screenPoint:a,results:p.map((function(e){return{mapPoint:f,graphic:e}}))}));case 10:case"end":return n.stop()}}),i)})))()}},{key:"takeScreenshot",value:function(e){var t=this;e=e||{};var r,n=this.supersampleScreenshotsEnabled?Math.min(4,(0,cp.getMaximumResolutionScale)(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;e.layers?(r=[],e.layers.forEach((function(e){var n=t.allLayerViews.find((function(t){return t.layer.id===e.id}));n&&"container"in n&&n.container&&r.push(n.container)}))):r=this._stage.children;var i=(0,cp.getFormatAndQuality)(e.format,e.quality),a=i.format,o=i.quality,s=up(e,n,this.size,this.padding,a,o,r,e.rotation);return this._stage.takeScreenshot(s)}},{key:"toMap",value:function(e){if(!this.ready)return null;var t=lu(e)?su(this,e):e,r=ke.slicedToArray(this.state.toMap([0,0],[t.x,t.y]),2),n=r[0],i=r[1],a=this.spatialReference;return new(0,Re.default)({x:n,y:i,spatialReference:a})}},{key:"toScreen",value:function(e){if(!this.ready)return null;var t=this._project(e,this.spatialReference),r=[t.x,t.y];return this.state.toScreen(r,r),(0,Le.createScreenPoint)(r[0],r[1])}},{key:"on",value:function(e,t,n,i){return this.inputManager&&this.viewEvents.on(e,t,n,i)||ke.get(ke.getPrototypeOf(r.prototype),"on",this).call(this,e,t)}},{key:"hasEventListener",value:function(e){return ke.get(ke.getPrototypeOf(r.prototype),"hasEventListener",this).call(this,e)||this.viewEvents.hasHandler(e)}},{key:"whenLayerView",value:function(e){return ke.get(ke.getPrototypeOf(r.prototype),"whenLayerView",this).call(this,e)}},{key:"graphicChanged",value:function(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}},{key:"whenReady",value:function(){var e=this;return new Promise((function(t){e.ready?t(e):e._resolveWhenReady.push(t)}))}},{key:"forceDOMReadyCycle",value:function(){this.forceReadyCycle()}},{key:"getDefaultSpatialReference",value:function(){var e,t,r;return this.map&&"initialViewProperties"in this.map&&(null==(e=this.map)||null==(t=e.initialViewProperties)?void 0:t.spatialReference)||(null==(r=this.defaultsFromMap)?void 0:r.spatialReference)||null}},{key:"hasLayerViewModule",value:function(e){return fc.hasLayerViewModule(e)}},{key:"importLayerView",value:function(e){return fc.importLayerView(e)}},{key:"pixelSizeAt",value:function(){return this.ready?this.state.resolution:(eh.error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}},{key:"popupHitTest",value:function(e){var t=this;return this.hitTest(e).then((function(r){return ke.objectSpread({},r,{mapPoint:t.toMap(e)})}))}},{key:"requestUpdate",value:function(){this.ready&&this.frameTask.requestUpdate()}},{key:"validate",value:function(){var e=dp(this.type);return(0,Ie.default)("safari")&&(0,Ie.default)("safari")<9&&(e=new(0,C.default)("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,Ie.default)("safari")})),(0,Z.isSome)(e)?(eh.warn("#validate()",e.message),Promise.reject(e)):function(){return th.apply(this,arguments)}()}},{key:"_createAnimation",value:function(){return this.animation&&!this.animation.done||(this.animation=new ec),this.animation}},{key:"_cancellableGoTo",value:function(e,t,r){var n=this,i=function(){return e===n._gotoTask},a=r.then((function(){i()&&(n.animation=null)})).catch((function(e){throw i()&&(n.animation=null,t.done||(t.stop(),n.frameTask.animationInProgress=!1)),e})),o=new Promise((function(e){return e(a)}));return t.when().catch((function(){i()&&o.cancel&&o.cancel()})),o}},{key:"_gotoImmediate",value:function(e,t){var r=this,n=this._gotoTask,i=this.animation,a=e.then((function(e){if((0,R.throwIfAborted)(t),n!==r._gotoTask)throw new(0,C.default)("view:goto-interrupted","Goto was interrupted");r.viewpoint=i.target=e,i.finish()}));return this._cancellableGoTo(n,i,a)}},{key:"_flipStationary",value:function(e){var t=this;return null!==this._stationaryTimer||(this._stationaryTimer=setTimeout((function(){t._stationaryTimer=null;var e=performance.now()-t._lastStationaryEventTimestamp;e<160&&(t._stationaryTimer=t._flipStationary(e))}),e)),this._stationaryTimer}},{key:"_getDefaultViewpoint",value:function(){var e,t,r,n,i=this,a=i.constraints,o=i.initialExtent,s=i.map;if(!a)return null;var l=s&&"initialViewProperties"in s&&s.initialViewProperties,u={zoom:this._get("zoom"),scale:this._get("scale"),center:this._get("center"),extent:this._get("extent"),rotation:this._get("rotation"),viewpoint:this._get("viewpoint"),spatialReference:this._userSpatialReference};a.effectiveLODs?-1!==u.zoom&&(u.scale=a.zoomToScale(u.zoom)):u.zoom=-1;var c=null,f=null,p=0,d=u.viewpoint&&u.viewpoint.rotation,h=u.viewpoint&&u.viewpoint.targetGeometry;(0,Z.isSome)(h)&&("extent"===h.type?c=h:"point"===h.type&&(f=h,p=u.viewpoint.scale));var y=u.extent||c||(null==(e=(0,Z.unwrap)(null==l||null==(t=l.viewpoint)?void 0:t.targetGeometry))?void 0:e.extent)||o,v=u.center||f||(null==y?void 0:y.center),m=u.scale||p||(null==l||null==(r=l.viewpoint)?void 0:r.scale)||y&&(0,rc.extentToScale)(y,this.size),g=u.rotation||d||(null==l||null==(n=l.viewpoint)?void 0:n.rotation)||0;return v&&m?new(0,Ee.default)({targetGeometry:v,scale:m,rotation:g}):null}},{key:"_gotoAnimated",value:function(e,t){var r=this,n=this._gotoTask,i=this.animation,a=e.then((function(e){if((0,R.throwIfAborted)(t),n!==r._gotoTask)throw new(0,C.default)("view:goto-interrupted","Goto was interrupted");return i.update(e),r.animationManager.animate(i,r.viewpoint,t),i.when().then((function(){}),(function(){}))}));return this._cancellableGoTo(n,i,a)}},{key:"_project",value:function(e,t){var r,n=e&&e.targetGeometry||e;if(!t)return e;if(!n)return null;if(t.imageCoordinateSystem||null!=(r=n.spatialReference)&&r.imageCoordinateSystem)return e;if((0,Fe.equals)(t,n.spatialReference))return e;var i,a=(0,Pe.project)(n,t);if(!a)throw new(0,C.default)("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:n,spatialReference:t});return(i=e)&&"esri.Viewpoint"===i.declaredClass?(e.targetGeometry=a,e):a}},{key:"_resizeHandler",value:function(e){if(this.ready){var t=this.state,r=this.state.paddedViewState.viewpoint,n=this.state.paddedViewState.size.concat();t.size=[e.width,e.height],(0,rc.resize)(r,r,n,this.state.paddedViewState.size,this.resizeAlign),r=this.constraints.constrain(r,null),this.state.viewpoint=r}}},{key:"_startup",value:function(){var e,t=this;this.timeline.begin("MapView Startup");var r=this._getDefaultViewpoint(),n=r.targetGeometry;try{this._project(r,this.spatialReference)}catch(e){var i;eh.warn(new(0,Ae.default)("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:n.toJSON(),spatialReference:this.spatialReference,error:e})),r.targetGeometry=(null==(i=this.defaultsFromMap.extent)?void 0:i.center)||new(0,Re.default)({x:0,y:0,spatialReference:this.spatialReference})}null==(e=this.constraints)||e.fit(r),this._set("state",new qc({padding:this._get("padding"),size:this.size,viewpoint:r})),this.graphics.owner=this;var a=new qd(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=a,this._magnifierView=new Zd,this._magnifierView.magnifier=this.magnifier;var o=new $d({view:this});this._set("labelManager",o);var s=new ac({view:this});this._set("animationManager",s);var l=new Yd({view:this,animationManager:s});this._set("mapViewNavigation",l),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",(function(){return t._updateStageChildren()})),a.on("post-render",(function(){return t._set("rendering",a.renderRequested)})),a.on("will-render",(function(){return t._set("rendering",a.renderRequested)})),a.on("webgl-error",(function(e){return t.fatalError=e.error})),(0,Oe.watch)((function(){return t.stationary}),(function(e){return a.stationary=e}),Oe.syncAndInitial),(0,Oe.watch)((function(){return t.background}),(function(e){a.background=e,t._magnifierView.background=e}),Oe.syncAndInitial),(0,Oe.watch)((function(){return t.magnifier}),(function(e){return t._magnifierView.magnifier=e}),Oe.syncAndInitial),(0,Oe.watch)((function(){return t.renderingOptions}),(function(e){return a.renderingOptions=e}),Oe.syncAndInitial),(0,Oe.watch)((function(){return t.highlightOptions}),(function(e){return a.highlightOptions=e}),Oe.syncAndInitial),(0,Oe.watch)((function(){return t.state.id}),(function(){return a.state=t.state}),Oe.syncAndInitial)],"map-view"),this._updateStageChildren();var u=this._resolveWhenReady;this._resolveWhenReady=[],u.forEach((function(e){return e(t)})),this.timeline.end("MapView Startup"),this.frameTask&&this.frameTask.start(),this._set("ready",!0)}},{key:"_teardown",value:function(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1);var e=this.state.paddedViewState,t=ke.slicedToArray(e.center,2),r=t[0],n=t[1],i=e.spatialReference,a=e.rotation,o=e.scale,s=new(0,Re.default)({x:r,y:n,spatialReference:i});this._set("viewpoint",null),this._set("extent",null),this._set("center",s),this._set("zoom",-1),this._set("rotation",a),this._set("scale",o),this._set("spatialReference",i),this._set("state",null),this.animation=null}},{key:"_updateStageChildren",value:function(){var e=this;this._stage.removeAllChildren(),this.rootLayerViews.forEach((function(t){e._stage.addChild(t.container)}));var t=this.graphicsView;this._stage.addChild(t.container),this._stage.addChild(this._magnifierView)}},{key:"_setupSpatialReferenceDependentProperties",value:function(){var e=this,t=new(0,Xc.default)(je.default.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",t);var r=new Xd({view:this,graphics:this.graphics,requestUpdateCallback:function(){return e.requestUpdate()},container:new Kd(t)});this.frameTask.graphicsView=r,this._set("graphicsView",r)}},{key:"_destroySpatialReferenceDependentProperties",value:function(){var e=this.graphicsView;this._set("graphicsView",null),this.frameTask.graphicsView=null,e.destroy(),this._set("featuresTilingScheme",null)}},{key:"_spatialReferenceChanged",value:function(e){if(this.ready){this.frameTask.stop();var t=!0,r=!1,n=void 0;try{for(var i,a=this.allLayerViews[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.processDetach()}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}this._destroySpatialReferenceDependentProperties();var o=this.state.paddedViewState.clone();if((0,Z.isNone)(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=o.scale;else{var s=o.viewpoint.clone();s.scale=this._scaleBeforeChangingSpatialReference,o.viewpoint=s}var l=o.clone(),u=ke.slicedToArray(o.center,2),c=u[0],f=u[1],p=null;try{p=this._project(new(0,Re.default)({x:c,y:f,spatialReference:o.spatialReference}),e)}catch(t){(0,Pe.isLoaded)()||eh.warn(new(0,Ae.default)("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:p.toJSON(),spatialReference:e,error:t}))}p||(p=new(0,Re.default)({x:0,y:0,spatialReference:e}));var d=(0,rc.centerAt)(new(0,Ee.default)({targetGeometry:new(0,Re.default),scale:0,rotation:0}),o.viewpoint,p);l.viewpoint=d;try{var h=[o.size[0]/2,o.size[1]/2],y=[h[0]+20,h[1]],v=o.toMap([0,0],y),m=this._project(new(0,Re.default)({x:v[0],y:v[1],spatialReference:o.spatialReference}),e),g=m.x,b=m.y;v[0]=g,v[1]=b,l.toScreen(v,v);var _=(0,rc.angleBetween)(h,v,y),w=Math.hypot(v[0]-h[0],v[1]-h[1])/20;!Number.isFinite(w)||Math.abs(w)>4?(d.rotation=0,d.targetGeometry=new(0,Re.default)({x:0,y:0,spatialReference:e})):(d.scale*=w,d.scale>(0,Ie.default)("mapview-srswitch-adjust-rotation-scale-threshold")?d.rotation=0:d.rotation+=Number.isFinite(_)?_:0)}catch(e){}this._get("constraints").constrain(d,null),this._get("state").viewpoint=d,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();var x=!0,S=!1,k=void 0;try{for(var T,E=this.allLayerViews[Symbol.iterator]();!(x=(T=E.next()).done);x=!0){T.value.processAttach()}}catch(e){S=!0,k=e}finally{try{x||null==E.return||E.return()}finally{if(S)throw k}}this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}}]),r}((oh=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){return d.default(this,r),t.apply(this,arguments)}return y.default(r,[{key:"fetchPopupFeatures",value:function(e,t){var r=this;return _.default(n(S).mark((function i(){var a,o,s,l,u,c,f,p;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.when();case 2:return n.next=4,r._prepareFetchPopupFeatures(e,t);case 4:return a=n.sent,o=a.location,s=a.queryArea,l=a.layerViewsAndGraphics,u=a.clientOnlyGraphics,c=Promise.resolve(u),f=r._queryLayerPopupFeatures(s,l,t),p=f.map((function(e){return e.promise})),n.abrupt("return",{location:o,clientOnlyGraphics:u,allGraphicsPromise:(0,R.eachAlwaysValues)([c].concat(De.default(p))).then((function(e){return Array.from(new Set(e.flat()))})),promisesPerLayerView:f});case 13:case"end":return n.stop()}}),i)})))()}},{key:"_queryLayerPopupFeatures",value:function(e,t,r){return t.map((function(t){var n=t.layerView,i={clientGraphics:t.graphics,event:(0,Z.isSome)(r)?r.event:null,signal:(0,Z.isSome)(r)?r.signal:null,defaultPopupTemplateEnabled:!!(0,Z.isSome)(r)&&!!r.defaultPopupTemplateEnabled},a=n.fetchPopupFeatures(e,i);return{layerView:n,promise:a}}))}},{key:"_isValidPopupGraphic",value:function(e,t){return e&&!!e.getEffectivePopupTemplate((0,Z.isSome)(t)&&t.defaultPopupTemplateEnabled)}},{key:"_prepareFetchPopupFeatures",value:function(e,t){var r=this;return _.default(n(S).mark((function i(){var a,o,s,l,u,c,f,p;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r._popupHitTestGraphics(e,t);case 2:return a=n.sent,o=a.clientGraphics,s=a.queryArea,l=a.location,u=r._getFetchPopupLayerViews(),c=r._graphicsPerFetchPopupLayerView(o,u),f=c.layerViewsAndGraphics,p=c.clientOnlyGraphics,n.abrupt("return",{clientOnlyGraphics:p,layerViewsAndGraphics:f,queryArea:s,location:l});case 11:case"end":return n.stop()}}),i)})))()}},{key:"_popupHitTestGraphics",value:function(e,t){var r=this;return _.default(n(S).mark((function i(){var a,o,s,l,u;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.popupHitTest(e);case 2:return a=n.sent,o=a.results,s=a.mapPoint,l=o.filter((function(e){return r._isValidPopupGraphic(e.graphic,t)})),u=l.length?l[0].mapPoint:null,n.abrupt("return",{clientGraphics:l.map((function(e){return e.graphic})),queryArea:s,location:s||u});case 8:case"end":return n.stop()}}),i)})))()}},{key:"_getFetchPopupLayerViews",value:function(){var e=this,t=[];return this.allLayerViews.forEach((function(r){e._isValidPopupLayerView(r)&&t.push(r)})),(0,Z.isSome)(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&t.push(this.graphicsView),t.reverse()}},{key:"_isValidPopupLayerView",value:function(e){return(0,Z.isSome)(e)&&(!("layer"in e)||!e.suspended)&&"fetchPopupFeatures"in e}},{key:"_graphicsPerFetchPopupLayerView",value:function(e,t){var r=[],n=new Map,i=t.map((function(e){var t=[];return"layer"in e?n.set(e.layer,t):n.set(e.graphics,t),{layerView:e,graphics:t}})),a=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value,f=n.get(c.layer)||n.get(c.sourceLayer)||null;f?f.push(c):r.push(c)}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return{layerViewsAndGraphics:i,clientOnlyGraphics:r}}}]),r}(Zu),ih=oh=(0,v._)([(0,j.subclass)("esri.views.PopupView")],oh),ah=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a;return d.default(this,r),(a=t.call.apply(t,[this].concat(De.default(n))))._freqInfo={freq:xl,time:Sl},a._overlayRenderTaskHandle=null,a.height=0,a.position=null,a.resizing=!1,a.root=null,a.surface=null,a.suspended=!0,a.ui=null,a.userContent=null,a.width=0,a.widthBreakpoint=null,a.handles.add([a.watch("cursor",(function(e){var t=a.surface;t&&t.setAttribute("data-cursor",e)})),a.watch("interacting",(function(e){var t=a.surface;t&&t.setAttribute("data-interacting",e.toString())}))]),h.default(a)}return y.default(r,[{key:"initialize",value:function(){var e=this;this.handles.add(this.watch("ui",(function(t,r){return e._handleUIChange(t,r)}))),this._wireUI(this.ui),this.handles.add([this.on("focus",(function(){return e.notifyChange("focused")})),this.on("blur",(function(){return e.notifyChange("focused")}))])}},{key:"destroy",value:function(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}},{key:"container",set:function(e){var t=this._get("container");if(t!==e){var r="dom-size";if(this.handles.remove(r),this._stopMeasuring(),t&&(t.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),wl(this.root),this._set("root",null),(0,We.reparent)(this.userContent,t),wl(this.userContent),this._set("userContent",null)),e){var n=this;e.classList.add("esri-view");var i=document.createElement("div");i.className="esri-view-user-storage",(0,We.reparent)(e,i),e.appendChild(i),this._set("userContent",i);var a=document.createElement("div");a.className="esri-view-root",e.insertBefore(a,e.firstChild),this._set("root",a);var o=document.createElement("div");o.className="esri-view-surface",o.setAttribute("role","application"),o.tabIndex=0,a.appendChild(o),this._set("surface",o);var s=new Ke;a.appendChild(s.surface),this._set("overlay",s),s.watch("needsRender",(function(e){var t=n;e&&!n._overlayRenderTaskHandle?n._overlayRenderTaskHandle=(0,Ge.addFrameTask)({render:function(){t.overlay.render()}}):n._overlayRenderTaskHandle&&(n._overlayRenderTaskHandle.remove(),n._overlayRenderTaskHandle=null)})),this.forceDOMReadyCycle(),this.handles.add((0,Oe.watch)((function(){return n.size}),(function(e){var t=te.default(e,2),r=t[0],n=t[1],i="esri-view-surface--inset-outline";r>=document.body.clientWidth||n>=document.body.clientHeight?o.classList.add(i):o.classList.remove(i)}),Oe.initial),r),this._set("container",e),this._startMeasuring()}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)}}},{key:"focused",get:function(){var e=document.activeElement===this.surface;return document.hasFocus()&&e}},{key:"popup",get:function(){return this._get("popup")||new bl({view:this})},set:function(e){var t=this._get("popup");t&&t!==e&&t.destroy(),this._set("popup",e)}},{key:"size",get:function(){return[this.width,this.height]}},{key:"blur",value:function(){this.surface&&this.surface.blur()}},{key:"focus",value:function(){this.surface&&this.surface.focus()}},{key:"pageToContainer",value:function(e,t,r){var n=this.position;return e-=n[0],t-=n[1],r?(r[0]=e,r[1]=t):r=[e,t],r}},{key:"containerToPage",value:function(e,t,r){var n=this.position;return e+=n[0],t+=n[1],r?(r[0]=e,r[1]=t):r=[e,t],r}},{key:"_handleUIChange",value:function(e,t){t&&(this.handles.remove("ui"),t.destroy()),e&&this._wireUI(e),this._set("ui",e)}},{key:"_wireUI",value:function(e){var t=this;this.handles.remove("ui"),e&&(e.view=this,this.handles.add([(0,Oe.watch)((function(){return t.root}),(function(t){var r,n;e.container=t?(r=t,n=document.createElement("div"),r.appendChild(n),n):null}),Oe.initial),(0,Oe.watch)((function(){return t.popup}),(function(t,r){var n="popup";r&&e.remove(r,n),t&&(t.view=e.view,e.add(t,{key:n,position:"manual"}))}),Oe.initial)],"ui"))}},{key:"_stopMeasuring",value:function(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}},{key:"_startMeasuring",value:function(){var e,t=this,r=this._freqInfo;r.freq=xl,r.time=Sl,this.handles.add([(e=function(){r.freq=xl,r.time=Sl},window.addEventListener("resize",e),{remove:function(){window.removeEventListener("resize",e)}}),(0,Ge.addFrameTask)({prepare:function(e){var r=t._measure(),n=t._freqInfo;if(n.time+=e.deltaTime,r&&(n.freq=xl,t._get("resizing")||t._set("resizing",!0)),!(n.time<n.freq)){n.time=0;var i=t._position();n.freq=i||r?xl:Math.min(Sl,2*n.freq),!r&&n.freq>=512&&t._get("resizing")&&t._set("resizing",!1)}}})],"measuring"),this._measure(),this._position()}},{key:"_measure",value:function(){var e=this.container,t=e?e.clientWidth:0,r=e?e.clientHeight:0;if(0===t||0===r)return this.suspended||this._set("suspended",!0),!1;var n=this.width,i=this.height;return t===n&&r===i?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",t),this._set("height",r),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:n,oldHeight:i,width:t,height:r}),!0)}},{key:"_position",value:function(){var e,t,r,n=this.container,i=this.position,a=(t=((e=n).ownerDocument||window.document).defaultView,r=e.getBoundingClientRect(),_l[0]=r.left+t.pageXOffset,_l[1]=r.top+t.pageYOffset,_l);return!(i&&a[0]===i[0]&&a[1]===i[1]||(this._set("position",[a[0],a[1]]),0))}},{key:"forceDOMReadyCycle",value:function(){}}]),r}(ih),(0,v._)([(0,P.property)({value:null,cast:function(e){return(0,We.byId)(e)}})],ah.prototype,"container",null),(0,v._)([(0,P.property)({readOnly:!0})],ah.prototype,"focused",null),(0,v._)([(0,P.property)({readOnly:!0})],ah.prototype,"height",void 0),(0,v._)([(0,P.property)({type:bl})],ah.prototype,"popup",null),(0,v._)([(0,P.property)({type:Ke})],ah.prototype,"overlay",void 0),(0,v._)([(0,P.property)({readOnly:!0})],ah.prototype,"position",void 0),(0,v._)([(0,P.property)({readOnly:!0})],ah.prototype,"resizing",void 0),(0,v._)([(0,P.property)({readOnly:!0})],ah.prototype,"root",void 0),(0,v._)([(0,P.property)({value:null,readOnly:!0})],ah.prototype,"size",null),(0,v._)([(0,P.property)({readOnly:!0})],ah.prototype,"surface",void 0),(0,v._)([(0,P.property)({readOnly:!0})],ah.prototype,"suspended",void 0),(0,v._)([(0,P.property)()],ah.prototype,"ui",void 0),(0,v._)([(0,P.property)({readOnly:!0})],ah.prototype,"userContent",void 0),(0,v._)([(0,P.property)({readOnly:!0})],ah.prototype,"width",void 0),(0,v._)([(0,P.property)()],ah.prototype,"widthBreakpoint",void 0),rh=ah=(0,v._)([(0,j.subclass)("esri.views.DOMContainer")],ah),nh=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a;return d.default(this,r),(a=t.call.apply(t,[this].concat(De.default(n))))._breakpointsHandles=new(0,Ve.default),a.orientation=null,a.widthBreakpoint=null,a.heightBreakpoint=null,a.breakpoints=He,h.default(a)}return y.default(r,[{key:"initialize",value:function(){var e=this;this._breakpointsHandles.add((0,Oe.watch)((function(){return[e.breakpoints,e.size]}),(function(){return e._updateClassNames()}),Oe.initial))}},{key:"destroy",value:function(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=(0,Z.destroyMaybe)(this._breakpointsHandles))}},{key:"breakpoints",set:function(e){if(e!==this._get("breakpoints")){var t,r=(t=e)&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large;if(!r){var n=JSON.stringify(He,null,2);console.warn("provided breakpoints are not valid, using defaults:"+n)}e=r?e:He,this._set("breakpoints",b.default({},e))}}},{key:"_updateClassNames",value:function(){if(this.container){var e,t=Ue.default.acquire(),r=Ue.default.acquire(),n=!1;for(e in Be){var i=this[e],a=Be[e].getValue({viewSize:this.size,breakpoints:this.breakpoints});i!==a&&(n=!0,this[e]=a,ze(e,i).forEach((function(e){return r.push(e)})),ze(e,a).forEach((function(e){return t.push(e)})))}n&&(this._applyClassNameChanges(t,r),Ue.default.release(t),Ue.default.release(r))}}},{key:"_applyClassNameChanges",value:function(e,t){var r=this.container;r&&(t.forEach((function(e){return r.classList.remove(e)})),e.forEach((function(e){return r.classList.add(e)})))}},{key:"_removeActiveClassNames",value:function(){var e,t=this.container;if(t)for(e in Be)ze(e,this[e]).forEach((function(e){return t.classList.remove(e)}))}}]),r}(rh),(0,v._)([(0,P.property)()],nh.prototype,"breakpoints",null),(0,v._)([(0,P.property)()],nh.prototype,"orientation",void 0),(0,v._)([(0,P.property)()],nh.prototype,"widthBreakpoint",void 0),(0,v._)([(0,P.property)()],nh.prototype,"heightBreakpoint",void 0),nh=(0,v._)([(0,j.subclass)("esri.views.BreakpointsOwner")],nh)));(0,v._)([(0,P.property)({readOnly:!0})],sh.prototype,"animationManager",void 0),(0,v._)([(0,P.property)({constructOnly:!0})],sh.prototype,"deactivatedWebGLExtensions",void 0),(0,v._)([(0,P.property)({constructOnly:!0})],sh.prototype,"debugWebGLExtensions",void 0),(0,v._)([(0,P.property)({readOnly:!0})],sh.prototype,"featuresTilingScheme",void 0),(0,v._)([(0,P.property)({readOnly:!0})],sh.prototype,"fullOpacity",void 0),(0,v._)([(0,P.property)({readOnly:!0})],sh.prototype,"graphicsTileStore",null),(0,v._)([(0,P.property)()],sh.prototype,"graphicsView",void 0),(0,v._)([(0,P.property)({readOnly:!0})],sh.prototype,"state",void 0),(0,v._)([(0,P.property)()],sh.prototype,"initialExtentRequired",null),(0,v._)([(0,P.property)()],sh.prototype,"labelManager",void 0),(0,v._)([(0,P.property)({readOnly:!0})],sh.prototype,"resourceManager",null),(0,v._)([(0,P.property)({readOnly:!0})],sh.prototype,"textureManager",null),(0,v._)([(0,P.property)({readOnly:!0})],sh.prototype,"mapViewNavigation",void 0),(0,v._)([(0,P.property)({constructOnly:!0})],sh.prototype,"renderCanvas",void 0),(0,v._)([(0,P.property)()],sh.prototype,"renderingOptions",void 0),(0,v._)([(0,P.property)({readOnly:!0})],sh.prototype,"rendering",void 0),(0,v._)([(0,P.property)({constructOnly:!0})],sh.prototype,"supersampleScreenshotsEnabled",void 0),(0,v._)([(0,P.property)({readOnly:!0})],sh.prototype,"supportsGround",void 0),(0,v._)([(0,P.property)()],sh.prototype,"_stationaryTimer",void 0),(0,v._)([(0,P.property)()],sh.prototype,"_defaultsFromMapSettings",null),(0,v._)([(0,P.property)()],sh.prototype,"_pePromise",void 0),(0,v._)([(0,P.property)({readOnly:!0})],sh.prototype,"typeSpecificPreconditionsReady",null),(0,v._)([(0,P.property)()],sh.prototype,"animation",null),(0,v._)([(0,P.property)({type:Qd})],sh.prototype,"background",null),(0,v._)([(0,P.property)({value:null,type:Re.default,dependsOn:["state.id","ready"]})],sh.prototype,"center",null),(0,v._)([(0,P.property)({type:Oc})],sh.prototype,"constraints",null),(0,v._)([(0,P.property)({value:null,type:Ne.default,dependsOn:["state.id","ready"]})],sh.prototype,"extent",null),(0,v._)([(0,P.property)()],sh.prototype,"floors",void 0),(0,v._)([(0,P.property)({type:sp})],sh.prototype,"highlightOptions",void 0),(0,v._)([(0,P.property)({readOnly:!0})],sh.prototype,"inputManager",void 0),(0,v._)([(0,P.property)()],sh.prototype,"map",void 0),(0,v._)([(0,P.property)({value:{top:0,right:0,bottom:0,left:0},cast:function(e){return ke.objectSpread({top:0,right:0,bottom:0,left:0},e)}})],sh.prototype,"padding",null),(0,v._)([(0,P.property)()],sh.prototype,"resizeAlign",void 0),(0,v._)([(0,P.property)({readOnly:!0,dependsOn:["state.id"]})],sh.prototype,"resolution",null),(0,v._)([(0,P.property)({value:0,type:Number,dependsOn:["state.id","ready"]})],sh.prototype,"rotation",null),(0,v._)([(0,P.property)({value:0,type:Number,dependsOn:["state.id","ready"]})],sh.prototype,"scale",null),(0,v._)([(0,P.property)({constructOnly:!0})],sh.prototype,"spatialReferenceLocked",void 0),(0,v._)([(0,P.property)()],sh.prototype,"stationary",null),(0,v._)([(0,P.property)({type:lp.Timeline,readOnly:!0})],sh.prototype,"timeline",void 0),(0,v._)([(0,P.property)({readOnly:!0})],sh.prototype,"type",void 0),(0,v._)([(0,P.property)({readOnly:!0})],sh.prototype,"updating",null),(0,v._)([(0,P.property)({value:null,type:Ee.default,dependsOn:["state.id","ready"]})],sh.prototype,"viewpoint",null),(0,v._)([(0,P.property)({value:-1,dependsOn:["state.id"]})],sh.prototype,"zoom",null),(0,v._)([(0,P.property)({type:Boolean})],sh.prototype,"navigating",null),(0,v._)([(0,P.property)({type:Wd})],sh.prototype,"ui",void 0);var lh=sh=(0,v._)([(0,j.subclass)("esri.views.MapView")],sh);function uh(e){var t,r,n,i,a=e.getObjectId();return a?"".concat(null!=(t=null!=(r=null==(n=e.layer)?void 0:n.uid)?r:null==(i=e.sourceLayer)?void 0:i.uid)?t:"MapView","/").concat(a):'"MapView/'.concat(e.uid)}function ch(e,t,r,n,i){return function(a){if(a instanceof Te.default){if(a.layer===e)null==i||i();else{var o=e.allLayerViews.find((function(e){return e.layer===a.layer}));o&&(null==n||n(o))}r(uh(a))}else{var s=e.allLayerViews.find((function(e){return e.layer===a}));s&&t(s)}}}function fh(e,t){if(e){var r=!0,n=!1,i=void 0,a=!0,o=!1,s=void 0;if((0,Ce.isIterable)(e))try{for(var l,u=e[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;if((0,Ce.isIterable)(c))try{for(var f,p=c[Symbol.iterator]();!(r=(f=p.next()).done);r=!0){t(f.value)}}catch(e){n=!0,i=e}finally{try{r||null==p.return||p.return()}finally{if(n)throw i}}else t(c)}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}else t(e)}}m=s("lnx4K");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),b=s("ifq4M"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),et=s("kDa5L");s("lNwWH"),s("2VlWd");Q=s("ba18L"),P=s("iho5X"),j=s("fcwIv"),tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),h=s("bFSSc"),y=s("jK9zx"),_=s("jcnGU"),S=s("2TvXO"),v=s("7eJjO"),I=s("dMFG2"),Y=s("amfHf"),Z=s("7qybv"),Oe=s("lKPaD"),P=s("iho5X");s("lNwWH"),s("2VlWd");Q=s("ba18L"),j=s("fcwIv"),Pe=s("7RvA5"),Fe=s("eY5Yp"),ne=s("jgJQw");var ph=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._basemapCache={},n._loadingProjectionEngine=!1,n.nextBasemap=oe("hybrid",n._basemapCache),n.view=null,n.toggle=n.toggle.bind(g.default(n)),h.default(n)}return y.default(r,[{key:"initialize",value:function(){var e=this;(0,Oe.watch)((function(){return e.nextBasemap}),(function(e){e&&!e.loaded&&e.load().catch((function(){}))}),Oe.initial)}},{key:"destroy",value:function(){this.view=null,ae(this._basemapCache),this._basemapCache=null}},{key:"_nextBasemapSpatialReferenceTask",get:function(){return le(this.view,this.nextBasemap)}},{key:"activeBasemap",get:function(){var e,t,r;return oe(null!=(e=null==(t=this.view)||null==(r=t.map)?void 0:r.basemap)?e:"topo",this._basemapCache)}},{key:"castNextBasemap",value:function(e){return oe(e,this._basemapCache)}},{key:"state",get:function(){var e;return null!=(e=this.view)&&e.ready?this._loadingProjectionEngine?"loading":"ready":"disabled"}},{key:"toggle",value:function(){var e=this;return _.default(n(S).mark((function t(){var r,i,a,o,s;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("disabled"!==e.state){t.next=2;break}return t.abrupt("return");case 2:if(r=e.activeBasemap,i=e.nextBasemap,a=!("spatialReferenceLocked"in e.view)||e.view.spatialReferenceLocked){t.next=17;break}return t.next=6,(0,Oe.whenOnce)((function(){return!e._nextBasemapSpatialReferenceTask.updating}));case 6:if(t.sent,i===e.nextBasemap&&r===e.activeBasemap){t.next=8;break}return t.abrupt("return");case 8:if(o=e._nextBasemapSpatialReferenceTask,s=o.spatialReference,t.t0=!(0,Z.isSome)(s)||(0,Fe.equals)(e.view.spatialReference,s)||(0,Pe.isLoaded)()||(0,Pe.canProjectWithoutEngine)(e.view.spatialReference,s),t.t0){t.next=15;break}return e._loadingProjectionEngine=!0,t.next=14,(0,Pe.load)();case 14:e._loadingProjectionEngine=!1;case 15:if(t.t0||t.sent,i===e.nextBasemap&&r===e.activeBasemap){t.next=17;break}return t.abrupt("return");case 17:e.view.map.basemap=i,a||!(0,Z.isSome)(e._nextBasemapSpatialReferenceTask.spatialReference)||(0,Fe.equals)(e.view.spatialReference,e._nextBasemapSpatialReferenceTask.spatialReference)||(e.view.spatialReference=e._nextBasemapSpatialReferenceTask.spatialReference),e.nextBasemap=r,e.emit("toggle",{previous:r,current:i});case 18:case"end":return t.stop()}}),t)})))()}}],[{key:"getThumbnailUrl",value:function(e){if(!e)return null;var t=e.thumbnailUrl;if(t)return t;var r=se(e);if(r)return ne.esriBasemapDefinitions[r].thumbnailUrl;var n=e.baseLayers.find((function(e){return!!(0,I.typeCast)(e)().get("portalItem.thumbnailUrl")}));return n?(0,I.typeCast)(n)().get("portalItem.thumbnailUrl"):null}}]),r}(Y.default.EventedAccessor);(0,v._)([(0,P.property)()],ph.prototype,"_loadingProjectionEngine",void 0),(0,v._)([(0,P.property)({readOnly:!0})],ph.prototype,"_nextBasemapSpatialReferenceTask",null),(0,v._)([(0,P.property)({readOnly:!0})],ph.prototype,"activeBasemap",null),(0,v._)([(0,P.property)()],ph.prototype,"nextBasemap",void 0),(0,v._)([(0,Q.cast)("nextBasemap")],ph.prototype,"castNextBasemap",null),(0,v._)([(0,P.property)({readOnly:!0})],ph.prototype,"state",null),(0,v._)([(0,P.property)()],ph.prototype,"view",void 0),(0,v._)([(0,P.property)()],ph.prototype,"toggle",null);var dh=ph=(0,v._)([(0,j.subclass)("esri.widgets.BasemapToggle.BasemapToggleViewModel")],ph);Do=s("9FnE2"),fr=s("dKwUH");s("jHOLN");Uo=s("4S8Bn"),pr=s("yibdR");s("6zpox");var hh="esri-basemap-toggle esri-widget",yh="esri-basemap-toggle__image--secondary",vh="esri-basemap-thumbnail esri-basemap-toggle__container",mh="esri-basemap-thumbnail__image esri-basemap-toggle__image",gh="esri-basemap-toggle__image--loading",bh="esri-basemap-thumbnail__overlay esri-basemap-toggle__image-overlay",_h="esri-basemap-thumbnail__title esri-basemap-toggle__title",wh="esri-widget__loader-animation";function xh(e){var t=dh.getThumbnailUrl(e);return t?{backgroundImage:"url("+t+")"}:{backgroundImage:""}}var Sh={title:!1},kh=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n)).activeBasemap=null,i.label=void 0,i.messages=null,i.nextBasemap=null,i.view=null,i.viewModel=new dh,i.visibleElements=b.default({},Sh),h.default(i)}return y.default(r,[{key:"loadDependencies",value:function(){return s("acTpS")}},{key:"castVisibleElements",value:function(e){return b.default({},Sh,e)}},{key:"toggle",value:function(){return null}},{key:"render",value:function(){var e,t=this.viewModel,r="disabled"===t.state?null:t.activeBasemap,n="disabled"===t.state?null:t.nextBasemap,i="loading"===t.state,a=n?n.title:"",o=n&&"loaded"!==n.loadStatus;return this.visibleElements.title&&a&&(e=(0,pr.tsx)("div",{class:bh,key:"esri-basemap-toggle__overlay"},(0,pr.tsx)("span",{class:_h,title:a},a))),(0,pr.tsx)("div",{class:hh,role:"button","data-basemap-id":n?n.id:"",bind:this,onclick:this._toggle,onkeydown:this._toggle,tabIndex:0,title:this.label},(0,pr.tsx)("div",{class:this.classes(vh,yh)},(0,pr.tsx)("div",{class:mh,styles:xh(r)})),(0,pr.tsx)("div",{class:vh},(0,pr.tsx)("div",{class:this.classes(mh,o?gh:null),styles:xh(n)},o||i?(0,pr.tsx)("calcite-scrim",null,(0,pr.tsx)("span",{"aria-hidden":"true",role:"presentation",class:wh})):null),e))}},{key:"_toggle",value:function(){this.toggle()}}]),r}(tt.default);(0,v._)([(0,et.aliasOf)("viewModel.activeBasemap")],kh.prototype,"activeBasemap",void 0),(0,v._)([(0,P.property)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],kh.prototype,"label",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/BasemapToggle/t9n/BasemapToggle")],kh.prototype,"messages",void 0),(0,v._)([(0,et.aliasOf)("viewModel.nextBasemap")],kh.prototype,"nextBasemap",void 0),(0,v._)([(0,et.aliasOf)("viewModel.view")],kh.prototype,"view",void 0),(0,v._)([(0,Uo.vmEvent)("toggle"),(0,P.property)({type:dh})],kh.prototype,"viewModel",void 0),(0,v._)([(0,P.property)()],kh.prototype,"visibleElements",void 0),(0,v._)([(0,Q.cast)("visibleElements")],kh.prototype,"castVisibleElements",null),(0,v._)([(0,et.aliasOf)("viewModel.toggle")],kh.prototype,"toggle",null),(0,v._)([(0,Do.accessibleHandler)()],kh.prototype,"_toggle",null);var Th=kh=(0,v._)([(0,j.subclass)("esri.widgets.BasemapToggle")],kh),Eh=s("dKApM"),Ih=s("1J8jF"),Ch=new(0,m.default)({baseLayers:[new(0,Eh.default)({title:"Imagery",url:"https://imagery.pasda.psu.edu/arcgis/rest/services/pasda/PEMAImagery2018_2020/MapServer"}),new(0,Ih.default)({title:"Labels",url:"https://www.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json"})],title:"PEMA Imagery"}),Oh=(new(0,m.default)({title:"Topographic",baseLayers:[new(0,Eh.default)({url:"https://basemaps.arcgis.com/arcgis/rest/services/OpenStreetMap_v2/VectorTileServer"})]}),new Th({container:"layerControlUI",label:"Change Basemap",nextBasemap:"osm-streets-relief",visibleElements:{title:!0}})),Lh=new Se({basemap:Ch}),Ah=new lh({container:"webmap",map:Lh,center:[-76.362,40.501],zoom:8});Ah.popup={dockEnabled:!0,dockOptions:{buttonEnabled:!0,breakpoint:!0}},Oh.view=Ah,s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),$e=s("aNiFM"),v=s("7eJjO"),et=s("kDa5L");s("lNwWH"),s("2VlWd"),s("iJAIC");P=s("iho5X"),j=s("fcwIv"),tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),h=s("bFSSc"),y=s("jK9zx"),_=s("jcnGU"),S=s("2TvXO"),v=s("7eJjO"),Ee=s("9UYxM"),C=s("kyj08"),Y=s("amfHf"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Mh=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._initialViewpoint=null,n._goingHomeController=null,n.go=n.go.bind(g.default(n)),h.default(n)}return y.default(r,[{key:"destroy",value:function(){this._cancelGo(),this.view=null}},{key:"state",get:function(){return this.get("view.ready")?this._goingHomeController?"going-home":"ready":"disabled"}},{key:"view",set:function(e){var t=this;this._initialViewpoint=null,this._set("view",e),e&&e.when().then((function(){t.view===e&&(t._initialViewpoint=e.viewpoint.clone(),t.notifyChange("viewpoint"))}))}},{key:"viewpoint",get:function(){return this._get("viewpoint")||this._initialViewpoint},set:function(e){this._set("viewpoint",e)}},{key:"go",value:function(){var e=this;return _.default(n(S).mark((function t(){var r;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.get("view.ready")){t.next=2;break}throw new(0,C.default)("home:disabled-state","Cannot go when disabled.");case 2:return e._cancelGo(),e.emit("go"),r=new AbortController,e._goingHomeController=r,t.prev=5,t.next=8,e.view.when();case 8:return t.next=10,e.callGoTo({target:e.viewpoint,options:{signal:r.signal}});case 10:t.next=14;break;case 12:t.prev=12,t.t0=t.catch(5);case 14:e._goingHomeController=null;case 15:case"end":return t.stop()}}),t,null,[[5,12]])})))()}},{key:"cancelGo",value:function(){this._cancelGo()}},{key:"_cancelGo",value:function(){var e=this._goingHomeController;e&&e.abort(),this._goingHomeController=null}}]),r}(Ao(Y.default.EventedAccessor));(0,v._)([(0,P.property)()],Mh.prototype,"_goingHomeController",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Mh.prototype,"state",null),(0,v._)([(0,P.property)()],Mh.prototype,"view",null),(0,v._)([(0,P.property)({type:Ee.default})],Mh.prototype,"viewpoint",null),(0,v._)([(0,P.property)()],Mh.prototype,"go",null),(0,v._)([(0,P.property)()],Mh.prototype,"cancelGo",null);var Nh=Mh=(0,v._)([(0,j.subclass)("esri.widgets.Home.HomeViewModel")],Mh);Do=s("9FnE2"),fr=s("dKwUH");s("jHOLN");Uo=s("4S8Bn"),pr=s("yibdR");s("6zpox");var Rh="esri-home esri-widget--button esri-widget",Ph="esri-icon-font-fallback-text",Fh="esri-icon esri-icon-home",jh="esri-icon-loading-indicator",Dh="esri-rotating",Uh="esri-icon-home",Vh="esri-disabled",Bh=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n)).goToOverride=null,i.iconClass=Uh,i.label=void 0,i.messages=null,i.messagesCommon=null,i.view=null,i.viewModel=new Nh,i.viewpoint=null,h.default(i)}return y.default(r,[{key:"homeTitle",get:function(){var e,t=null==(e=this.viewModel)?void 0:e.state,r=this.messagesCommon,n=this.messages;return"going-home"===t?r.cancel:n.title}},{key:"cancelGo",value:function(){return null}},{key:"go",value:function(){return null}},{key:"render",value:function(){var e,t=null==(e=this.viewModel)?void 0:e.state,r=this.homeTitle,n=$e.default({},Vh,"disabled"===t);return(0,pr.tsx)("div",{bind:this,class:this.classes(Rh,n),role:"button",tabIndex:0,onclick:this._go,onkeydown:this._go,"aria-label":r,title:r},this.renderIcon(),this.renderText())}},{key:"renderIcon",value:function(){var e,t,r=null==(e=this.viewModel)?void 0:e.state,n=(t={},$e.default(t,jh,"going-home"===r),$e.default(t,Dh,"going-home"===r),t);return(0,pr.tsx)("span",{"aria-hidden":"true",class:this.classes(Fh,n)})}},{key:"renderText",value:function(){var e=this.messages;return(0,pr.tsx)("span",{class:Ph},e.button)}},{key:"_go",value:function(){var e=this.viewModel;"going-home"===e.state?e.cancelGo():e.go()}}]),r}(tt.default);(0,v._)([(0,et.aliasOf)("viewModel.goToOverride")],Bh.prototype,"goToOverride",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Bh.prototype,"homeTitle",null),(0,v._)([(0,P.property)()],Bh.prototype,"iconClass",void 0),(0,v._)([(0,P.property)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Bh.prototype,"label",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/Home/t9n/Home")],Bh.prototype,"messages",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/t9n/common")],Bh.prototype,"messagesCommon",void 0),(0,v._)([(0,et.aliasOf)("viewModel.view")],Bh.prototype,"view",void 0),(0,v._)([(0,P.property)({type:Nh}),(0,Uo.vmEvent)("go")],Bh.prototype,"viewModel",void 0),(0,v._)([(0,et.aliasOf)("viewModel.viewpoint")],Bh.prototype,"viewpoint",void 0),(0,v._)([(0,et.aliasOf)("viewModel.cancelGo")],Bh.prototype,"cancelGo",null),(0,v._)([(0,et.aliasOf)("viewModel.go")],Bh.prototype,"go",null),(0,v._)([(0,Do.accessibleHandler)()],Bh.prototype,"_go",null);var Hh=Bh=(0,v._)([(0,j.subclass)("esri.widgets.Home")],Bh);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),$e=s("aNiFM"),v=s("7eJjO"),et=s("kDa5L");s("lNwWH"),s("2VlWd"),s("iJAIC");P=s("iho5X"),j=s("fcwIv"),tt=s("kXohW");s("8TSCy");_=s("jcnGU"),f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),h=s("bFSSc"),y=s("jK9zx"),S=s("2TvXO"),v=s("7eJjO");s("4M5RN");var zh=s("3MVX3");C=s("kyj08"),Ve=s("qhgF7"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),_=s("jcnGU"),S=s("2TvXO"),v=s("7eJjO"),lr=s("i9j5X"),Te=s("bsvXr"),X=s("jymfC"),C=s("kyj08"),Y=s("amfHf"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Wh=s("gb4f1"),Gh=(c=s("cu9iz"),C=s("kyj08"),Ie=s("2VlWd"),N=s("jHOLN"),Re=s("d1Fqh"),Ka=s("eF88h"),s("ajJOT"));s("9pNSx"),s("kYueh"),s("5vzSQ"),s("2ILM8"),s("gINRd"),s("Pe3X5"),s("eaHvJ"),s("fTq43"),s("95Tg0"),s("71zrS"),s("87zjX"),s("5QT0o"),s("ianYB"),s("nnDFM"),s("1VQ1t"),s("kZ9tA");var Jh=s("8Gyem");s("hDy6B"),s("iKaZP"),s("gJEe4"),s("bBvGf");var qh=s("eV5OI"),Xh=N.default.getLogger("esri.widgets.support.geolocationUtils"),Kh={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function $h(){return(t=(0,Ie.default)("esri-geolocation"))||Xh.warn("geolocation-unsupported","Geolocation unsupported."),t&&((e=window.isSecureContext)||Xh.warn("insecure-context","Geolocation requires a secure origin."),e);var e,t}function Yh(e){return e||(e=Kh),new Promise((function(t,r){setTimeout((function(){return r(new(0,C.default)("geolocation:timeout","getting the current geolocation position timed out"))}),15e3),navigator.geolocation.getCurrentPosition(t,r,e)}))}function Zh(e,t){var r,n,i,a,o,s=e.position,l=e.view;return function(e,t,r){if(!t)return Promise.resolve(e);var n=t.spatialReference;return n.isWGS84?Promise.resolve(e):n.isWebMercator?Promise.resolve((0,Ka.geographicToWebMercator)(e)):function(e){if(c.default.geometryServiceUrl)return Promise.resolve(c.default.geometryServiceUrl);var t=Gh.default.getDefault();return t.load(e).catch((function(){})).then((function(){return t.get("helperServices.geometry.url")}))}(r).then((function(t){if(!t)throw new(0,C.default)("geometry-service:missing-url","Geometry service URL is missing");var i=new(0,qh.default)({geometries:[e],outSpatialReference:n});return(0,Jh.project)(t,i,r).then((function(e){return e[0]}))}))}((a=(i=s)&&i.coords||{},o={accuracy:a.accuracy,altitude:a.altitude,altitudeAccuracy:a.altitudeAccuracy,heading:a.heading,latitude:a.latitude,longitude:a.longitude,speed:a.speed},r=i?{coords:o,timestamp:i.timestamp}:i,(n=r&&r.coords)?new(0,Re.default)({longitude:n.longitude,latitude:n.latitude,z:n.altitude||null,spatialReference:{wkid:4326}}):null),l,t)}var Qh=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(){var e;return d.default(this,r),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))))._geolocationUsable=!0,e._iconPath=(0,lr.getAssetUrl)("esri/images/support/sdk_gps_location.png"),e.geolocationOptions=null,e.goToLocationEnabled=!0,e.graphic=new(0,Te.default)({symbol:new(0,Wh.default)({url:e._iconPath,width:21,height:21})}),e.scale=null,e.useHeadingEnabled=!0,e.view=null,h.default(e)}return y.default(r,[{key:"initialize",value:function(){$h()||(this._geolocationUsable=!1)}},{key:"destroy",value:function(){this._clear(),this.view=null}},{key:"_clear",value:function(){this.view&&this.view.graphics.remove(this.graphic)}},{key:"_getScaleWithinConstraints",value:function(e,t){if(!t)return e;if("2d"===t.type){var r=t.constraints,n=r.effectiveMaxScale,i=r.effectiveMinScale;return Math.min(i,Math.max(n,e))}return e}},{key:"_getScale",value:function(e){var t=this.scale,r="number"==typeof t?t:2500;return this._getScaleWithinConstraints(r,e)}},{key:"_getHeading",value:function(e,t){var r=t&&t.spatialReference,n=r&&(r.isWebMercator||r.isGeographic),i=e.coords&&e.coords.heading;if(!(!n||"number"!=typeof i||isNaN(i)||i<0||i>360))return i}},{key:"_addHeading",value:function(e){var t=e.heading,r=e.target,n=e.view;n&&"number"==typeof t&&!isNaN(t)&&("3d"!==n.type?"2d"===n.type&&(r.rotation=360-t):r.heading=t)}},{key:"_animatePoint",value:function(e,t,r,n){var i=this.view;if(!this.goToLocationEnabled||!i)return Promise.resolve(t);var a=this.useHeadingEnabled?this._getHeading(t,i):void 0,o={target:e,scale:r};return this._addHeading({heading:a,target:o,view:i}),this.callGoTo({target:o,options:n}).then((function(){return t}))}},{key:"_setPosition",value:function(e,t){var r=this;return _.default(n(S).mark((function i(){var a,o,s,l,u,c,f,p,d,h,y,v,m;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Zh({position:e,view:r.view},t);case 3:return a=n.sent,o=r.graphic,s=e.timestamp,l=e.coords,u=l.accuracy,c=l.altitude,f=l.altitudeAccuracy,p=l.heading,d=l.latitude,h=l.longitude,y=l.speed,v={timestamp:s,accuracy:u,altitude:c,altitudeAccuracy:f,heading:p,latitude:d,longitude:h,speed:y},o&&(o.geometry=a,o.attributes=v),m=r._getScale(r.view),n.abrupt("return",r._animatePoint(a,e,m,t));case 20:throw n.prev=20,n.t0=n.catch(0),new(0,C.default)("positioning:invalid-point","Cannot position invalid point",{error:n.t0});case 23:case"end":return n.stop()}}),i,null,[[0,20]])})))()}}]),r}(Ao(Y.default.EventedMixin(X.default)));(0,v._)([(0,P.property)()],Qh.prototype,"_geolocationUsable",void 0),(0,v._)([(0,P.property)()],Qh.prototype,"geolocationOptions",void 0),(0,v._)([(0,P.property)()],Qh.prototype,"goToLocationEnabled",void 0),(0,v._)([(0,P.property)()],Qh.prototype,"graphic",void 0),(0,v._)([(0,P.property)()],Qh.prototype,"scale",void 0),(0,v._)([(0,P.property)()],Qh.prototype,"useHeadingEnabled",void 0),(0,v._)([(0,P.property)()],Qh.prototype,"view",void 0);var ey=Qh=(0,v._)([(0,j.subclass)("esri.widgets.support.GeolocationPositioning")],Qh),ty=(mi=s("86CDN"),s("hxKVa"));function ry(){return ny.apply(this,arguments)}function ny(){return(ny=_.default(n(S).mark((function e(){var t;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ty.fetchMessageBundle)("esri/widgets/Locate/t9n/Locate");case 2:return t=e.sent,e.abrupt("return",new(0,zh.default)({title:t.currentLocation,fieldInfos:[{fieldName:"timestamp",label:t.timestamp,format:{dateFormat:"short-date-short-time"}},{fieldName:"latitude",label:t.latitude,format:{places:4,digitSeparator:!0}},{fieldName:"longitude",label:t.longitude,format:{places:4,digitSeparator:!0}},{fieldName:"accuracy",label:t.accuracy,format:{places:0,digitSeparator:!0}},{fieldName:"altitude",label:t.altitude,format:{places:0,digitSeparator:!0}},{fieldName:"altitudeAccuracy",label:t.altitudeAccuracy,format:{places:0,digitSeparator:!0}},{fieldName:"heading",label:t.heading,format:{places:0,digitSeparator:!0}},{fieldName:"speed",label:t.speed,format:{places:0,digitSeparator:!0}}],actions:[go.clone()],content:[{type:"fields"}]}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var iy=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._locateController=null,n._handles=new(0,Ve.default),n.popupEnabled=!0,n.locate=n.locate.bind(g.default(n)),h.default(n)}return y.default(r,[{key:"initialize",value:function(){var e=this;this._handles.add([(0,mi.onLocaleChange)((function(){var t,r=e.graphic,n=e.view;(null==n||null==(t=n.graphics)?void 0:t.includes(r))&&e._updatePopupTemplate(r)}))])}},{key:"destroy",value:function(){this.cancelLocate(),this._handles.destroy(),this._handles=null}},{key:"state",get:function(){return this._geolocationUsable?this.get("view.ready")?this._locateController?"locating":"ready":"disabled":"feature-unsupported"}},{key:"locate",value:function(){var e=this;return _.default(n(S).mark((function t(){var r,i;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.cancelLocate(),"disabled"!==e.state){t.next=2;break}throw new(0,C.default)("locate:disabled-state","Cannot locate when disabled.");case 2:if("feature-unsupported"!==e.state){t.next=4;break}throw new(0,C.default)("locate:feature-unsupported-state","Cannot locate in unsecure domain.");case 4:return r=new AbortController,e._locateController=r,t.prev=6,t.next=9,Yh(e.geolocationOptions);case 9:return i=t.sent,t.next=12,e._setPosition(i,{signal:r.signal});case 12:if(i=t.sent,e._locateController===r){t.next=17;break}t.t0=null,t.next=26;break;case 17:if(t.t1=e.graphic,!t.t1){t.next=23;break}return e.graphic=e.graphic.clone(),t.next=22,e._updatePopupTemplate(e.graphic);case 22:e.view.graphics.push(e.graphic);case 23:e.emit("locate",{position:i}),e._locateController=null,t.t0=(t.t1&&t.sent,i);case 26:return t.abrupt("return",t.t0);case 29:throw t.prev=29,t.t2=t.catch(6),e._locateController=null,e.emit("locate-error",{error:t.t2}),t.t2;case 32:case"end":return t.stop()}}),t,null,[[6,29]])})))()}},{key:"cancelLocate",value:function(){this._clear(),this._locateController&&this._locateController.abort(),this._locateController=null}},{key:"_updatePopupTemplate",value:function(e){var t=this;return _.default(n(S).mark((function r(){var i,a;return n(S).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.popupEnabled){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ry();case 4:i=r.sent,a=e!==t.graphic,t.destroyed||a||(e.popupTemplate=i);case 7:case"end":return r.stop()}}),r)})))()}}]),r}(ey);(0,v._)([(0,P.property)()],iy.prototype,"_locateController",void 0),(0,v._)([(0,P.property)()],iy.prototype,"popupEnabled",void 0),(0,v._)([(0,P.property)({readOnly:!0})],iy.prototype,"state",null),(0,v._)([(0,P.property)()],iy.prototype,"locate",null),(0,v._)([(0,P.property)()],iy.prototype,"cancelLocate",null);var ay=iy=(0,v._)([(0,j.subclass)("esri.widgets.Locate.LocateViewModel")],iy);Do=s("9FnE2"),fr=s("dKwUH");s("jHOLN");Uo=s("4S8Bn"),pr=s("yibdR");s("6zpox");var oy="esri-locate esri-widget--button esri-widget",sy="esri-icon-font-fallback-text",ly="esri-icon",uy="esri-icon-locate",cy="esri-icon-loading-indicator",fy="esri-rotating",py="esri-icon-north-navigation",dy="esri-disabled",hy="esri-hidden",yy=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n)).geolocationOptions=null,i.goToLocationEnabled=null,i.goToOverride=null,i.graphic=null,i.iconClass=py,i.label=void 0,i.messages=null,i.messagesCommon=null,i.popupEnabled=null,i.scale=null,i.useHeadingEnabled=null,i.view=null,i.viewModel=new ay,h.default(i)}return y.default(r,[{key:"cancelLocate",value:function(){}},{key:"locate",value:function(){}},{key:"render",value:function(){var e,t,r=this.get("viewModel.state"),n="locating"===r,i=(e={},$e.default(e,dy,"disabled"===r),$e.default(e,hy,"feature-unsupported"===r),e),a=(t={},$e.default(t,cy,n),$e.default(t,fy,n),$e.default(t,uy,!n),t),o="locating"===r?this.messagesCommon.cancel:this.messages.title;return(0,pr.tsx)("div",{bind:this,class:this.classes(oy,i),hidden:"feature-unsupported"===r,onclick:this._locate,onkeydown:this._locate,role:"button",tabIndex:0,"aria-label":o,title:o},(0,pr.tsx)("span",{"aria-hidden":"true",class:this.classes(ly,a)}),(0,pr.tsx)("span",{class:sy},this.messages.title))}},{key:"_locate",value:function(){var e=this.viewModel;"locating"===e.state?e.cancelLocate():e.locate()}}]),r}(tt.default);(0,v._)([(0,et.aliasOf)("viewModel.geolocationOptions")],yy.prototype,"geolocationOptions",void 0),(0,v._)([(0,et.aliasOf)("viewModel.goToLocationEnabled")],yy.prototype,"goToLocationEnabled",void 0),(0,v._)([(0,et.aliasOf)("viewModel.goToOverride")],yy.prototype,"goToOverride",void 0),(0,v._)([(0,et.aliasOf)("viewModel.graphic")],yy.prototype,"graphic",void 0),(0,v._)([(0,P.property)()],yy.prototype,"iconClass",void 0),(0,v._)([(0,P.property)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],yy.prototype,"label",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/Locate/t9n/Locate")],yy.prototype,"messages",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/t9n/common")],yy.prototype,"messagesCommon",void 0),(0,v._)([(0,et.aliasOf)("viewModel.popupEnabled")],yy.prototype,"popupEnabled",void 0),(0,v._)([(0,et.aliasOf)("viewModel.scale")],yy.prototype,"scale",void 0),(0,v._)([(0,et.aliasOf)("viewModel.useHeadingEnabled")],yy.prototype,"useHeadingEnabled",void 0),(0,v._)([(0,et.aliasOf)("viewModel.view")],yy.prototype,"view",void 0),(0,v._)([(0,P.property)({type:ay}),(0,Uo.vmEvent)(["locate","locate-error"])],yy.prototype,"viewModel",void 0),(0,v._)([(0,et.aliasOf)("viewModel.cancelLocate")],yy.prototype,"cancelLocate",null),(0,v._)([(0,et.aliasOf)("viewModel.locate")],yy.prototype,"locate",null),(0,v._)([(0,Do.accessibleHandler)()],yy.prototype,"_locate",null);var vy=yy=(0,v._)([(0,j.subclass)("esri.widgets.Locate")],yy);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),b=s("ifq4M"),v=s("7eJjO"),Ve=s("qhgF7"),Qe=s("5qZXj"),et=s("kDa5L");s("lNwWH"),s("2VlWd");Q=s("ba18L"),P=s("iho5X"),j=s("fcwIv"),tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO");s("4M5RN");X=s("jymfC"),T=s("d2yMj"),Ve=s("qhgF7"),Qe=s("5qZXj"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv"),ke=s("8TSCy"),S=s("2TvXO"),v=s("7eJjO"),k=s("jgs9n");var my=s("dLARP");Wn=s("9pNSx");s("cM5QQ");X=s("jymfC"),T=s("d2yMj"),Ve=s("qhgF7");var gy=s("79ASa");N=s("jHOLN"),Z=s("7qybv"),R=s("10vEZ"),Le=s("iXlXu"),re=s("kYueh"),Qe=s("5qZXj"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var by=s("Ej9Ns"),_y=s("a4nX6"),wy=s("fmusr"),xy=s("7vAR5"),Sy=(dt=s("7vTUY"),s("lubf9"));s("2VlWd");C=s("kyj08"),Z=s("7qybv"),s("aMNfF");function ky(e){return(0,Z.isNone)(e)||"simple"===e.type||"unique-value"===e.type||"class-breaks"===e.type||"dictionary"===e.type||"heatmap"===e.type}var Ty=s("lVv1E"),Ey=s("7sx0B"),Iy=(eo=s("cBxZc"),s("bFgGH")),Cy=(to=s("8NoYK"),s("2rUeJ"));function Oy(e,t){if(!e||!("visualVariables"in e)||!e.visualVariables)return null;var r=e.visualVariables.find((function(e){return"size"===e.type})),n=function(e,t){var r=e.featuresTilingScheme.getClosestInfoForScale(e.scale).level;return null!=t&&t.levels?t.levels[r]:null}(t,r);return n?new(0,Cy.default)({field:r.field,minSize:n[2].size,minDataValue:n[2].value,maxSize:n[3].size,maxDataValue:n[3].value}):null}s("8TSCy");_=s("jcnGU"),S=s("2TvXO"),k=s("jgs9n");s("8TSCy");_=s("jcnGU"),S=s("2TvXO");s("cM5QQ");pt=s("8lxrq");s("4M5RN");ot=s("1RkqB");var Ly=/^-?(\d+)(\.(\d+))?$/i;function Ay(e,t){return e-t}function My(e,t){var r,n;return(r=Number(e.toFixed(t)))<e?n=r+1/Math.pow(10,t):(n=r,r-=1/Math.pow(10,t)),[r=Number(r.toFixed(t)),n=Number(n.toFixed(t))]}function Ny(e,t,r,n,i){var a=Py(e,t,r,n),o=null==a.previous||a.previous<=i,s=null==a.next||a.next<=i;return o&&s||a.previous+a.next<=2*i}function Ry(e){var t=String(e),r=t.match(Ly);if(r&&r[1])return{integer:r[1].split("").length,fractional:r[3]?r[3].split("").length:0};if(t.toLowerCase().indexOf("e")>-1){var n=t.split("e"),i=n[0],a=n[1];if(i&&a){var o=Number(i),s=Number(a),l=s>0;l||(s=Math.abs(s));var u=Ry(o);return l?(u.integer+=s,s>u.fractional?u.fractional=0:u.fractional-=s):(u.fractional+=s,s>u.integer?u.integer=1:u.integer-=s),u}}return{integer:0,fractional:0}}function Py(e,t,r,n){var i={previous:null,next:null};if(null!=r){var a=e-r,o=t-r-a;i.previous=Math.floor(Math.abs(100*o/a))}if(null!=n){var s=n-e,l=n-t-s;i.next=Math.floor(Math.abs(100*l/s))}return i}function Fy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.slice(0),n=t.tolerance,i=void 0===n?2:n,a=t.strictBounds,o=void 0!==a&&a,s=t.indexes,l=void 0===s?r.map((function(e,t){return t})):s;l.sort(Ay);for(var u=0;u<l.length;u++){var c=l[u],f=r[c],p=0===c?null:r[c-1],d=c===r.length-1?null:r[c+1],h=Ry(f).fractional;if(h){for(var y=void 0,v=0,m=!1;v<=h&&!m;){var g=My(f,v);m=Ny(f,y=o&&0===u?g[1]:g[0],p,d,i),v++}m&&(r[c]=y)}}return r}var jy={maximumFractionDigits:20};function Dy(e){return(0,ot.formatNumber)(e,jy)}var Uy=s("e6bLq"),Vy=(0,pt.convertDateFormatToIntlOptions)("short-date");function By(e,t,r,n){var i="";0===t?i="".concat("<"," "):t===r&&(i="".concat(">"," "));return i+(n?(0,pt.formatDate)(e,Vy):Dy(e))}var Hy=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII="];function zy(e){return Wy.apply(this,arguments)}function Wy(){return Wy=_.default(n(S).mark((function e(t){var r,i,a,o,l,u;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("visualVariables"in t&&t.visualVariables){e.next=2;break}return e.abrupt("return",null);case 2:if(r=t.visualVariables.find((function(e){return"color"===e.type}))){e.next=5;break}return e.abrupt("return",null);case 5:if(i=null,a=null,!r.stops){e.next=10;break}if(1!==r.stops.length){e.next=9;break}return e.abrupt("return",r.stops[0].color);case 9:i=r.stops[0].value,a=r.stops[r.stops.length-1].value;case 10:return o=i+(a-i)/2,e.next=13,s("kdZ8m");case 13:return l=e.sent,u=l.getColor,e.abrupt("return",u(r,o));case 16:case"end":return e.stop()}}),e)}))),Wy.apply(this,arguments)}function Gy(e,t){return Jy.apply(this,arguments)}function Jy(){return(Jy=_.default(n(S).mark((function e(t,r){var i,a;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.trailWidth||1,e.t1=r,e.t1){e.next=6;break}return e.next=5,zy(t);case 5:e.t1=e.sent;case 6:if(e.t0=e.t1,e.t0){e.next=9;break}e.t0=t.color;case 9:return a=e.t0,e.abrupt("return",new(0,Uy.default)({cap:"butt",color:a,width:i}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qy=new(0,k.default)([64,64,64]);function Xy(e,t){var r=[],n=e.length-1;return 5===e.length?r.push(0,2,4):r.push(0,n),e.map((function(e,i){return r.indexOf(i)>-1?By(e,i,n,t):null}))}function Ky(e,t,r){return $y.apply(this,arguments)}function $y(){return $y=_.default(n(S).mark((function e(t,r,i){var a,o,l,u,c,f,p;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,o=[],l=[],t.stops&&(u=t.stops,o=u.map((function(e){return e.value})),(a=u.some((function(e){return!!e.label})))&&(l=u.map((function(e){return e.label})))),c=o[0],f=o[o.length-1],null!=c||null!=f){e.next=5;break}return e.abrupt("return",null);case 5:return p=a?null:Xy(o,i),e.next=8,Promise.all(o.map(function(){var e=_.default(n(S).mark((function e(i,o){return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i,"opacity"!==t.type){e.next=7;break}return e.next=4,Yy(i,t,r);case 4:e.t1=e.sent,e.next=10;break;case 7:return e.next=9,s("kdZ8m");case 9:e.t1=e.sent.getColor(t,i);case 10:return e.t2=e.t1,e.t3=a?l[o]:p[o],e.abrupt("return",{value:e.t0,color:e.t2,label:e.t3});case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",e.sent.reverse());case 9:case"end":return e.stop()}}),e)}))),$y.apply(this,arguments)}function Yy(e,t){return Zy.apply(this,arguments)}function Zy(){return Zy=_.default(n(S).mark((function e(t,r){var i,a,o,l=arguments;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>2&&void 0!==l[2]?l[2]:qy,a=new(0,k.default)(i),e.next=4,s("kdZ8m");case 4:return o=e.sent.getOpacity(r,t),e.abrupt("return",(null!=o&&(a.a=o),a));case 6:case"end":return e.stop()}}),e)}))),Zy.apply(this,arguments)}function Qy(e){var t,r=[],n=[];r=e.map((function(e){return e.value})),(t=e.some((function(e){return!!e.label})))&&(n=e.map((function(e){return e.label})));var i=r[0],a=r[r.length-1];if(null==i&&null==a)return null;var o=t?null:Xy(r,!1);return r.map((function(r,i){return{value:r,color:ev(r,e),label:t?n[i]:o[i]}})).reverse()}function ev(e,t){var r,n,i,a,o=(r=e,i=0,a=(n=t).length-1,n.some((function(e,t){return r<e.value?(a=t,!0):(i=t,!1)})),{startIndex:i,endIndex:a,weight:(r-n[i].value)/(n[a].value-n[i].value)}),s=o.startIndex,l=o.endIndex,u=o.weight;if(s===l)return t[s].color;var c=k.default.blendColors(t[s].color,t[l].color,u);return new(0,k.default)(c)}function tv(e,t){var r,n,i=[];e&&"multipart"===e.type?e.colorRamps.reverse().forEach((function(r,n){0===n?i.push({value:t.max,color:new(0,k.default)(r.toColor),label:"high"}):i.push({value:null,color:new(0,k.default)(r.toColor),label:""}),n===e.colorRamps.length-1?i.push({value:t.min,color:new(0,k.default)(r.fromColor),label:"low"}):i.push({value:null,color:new(0,k.default)(r.fromColor),label:""})})):(e&&"algorithmic"===e.type?(r=e.fromColor,n=e.toColor):(r=[0,0,0,1],n=[255,255,255,1]),i=[{value:t.max,color:new(0,k.default)(n),label:"high"},{value:t.min,color:new(0,k.default)(r),label:"low"}]);return i}var rv=s("3iIWY");function nv(e){var t=e.colorStops,r=t.length-1;if(t&&t[0]){var n=t[r];n&&1!==n.ratio&&((t=t.slice(0)).push(new(0,rv.default)({ratio:1,color:n.color})),r++)}return t.map((function(e,t){var n="";return 0===t?n="low":t===r&&(n="high"),{color:e.color,label:n,ratio:e.ratio}})).reverse()}L=s("flPLJ");var iv=s("dNlty"),av=s("5TXU6"),ov={HH:315,HL:45,LL:135,LH:225},sv={2:[["HL","HH"],["LL","LH"]],3:[["HL","HM","HH"],["ML","MM","MH"],["LL","LM","LH"]],4:[["HL","HM1","HM2","HH"],["M2L","M2M1","M2M2","M2H"],["M1L","M1M1","M1M2","M1H"],["LL","LM1","LM2","LH"]]};function lv(e){if(e){var t=e.type;if(t.indexOf("3d")>-1)return(0,av.getSymbolLayerFill)(e.symbolLayers.getItemAt(0));if("simple-line"===t){var r=(0,iv.getStroke)(e);return r&&r.color}if("simple-marker"===e.type&&("x"===e.style||"cross"===e.style)){var n=(0,iv.getStroke)(e);return n&&n.color}return(0,iv.getFill)(e)}}function uv(e,t){var r=t.HH.label,n=t.LL.label,i=t.HL.label,a=t.LH.label;switch(e){case"HH":default:return{top:r,bottom:n,left:i,right:a};case"HL":return{top:i,bottom:a,left:n,right:r};case"LL":return{top:n,bottom:r,left:a,right:i};case"LH":return{top:a,bottom:i,left:r,right:n}}}function cv(e){var t=e.focus,r=e.infos,n=e.numClasses,i=sv[n],a={};r.forEach((function(e){a[e.value]={label:e.label,fill:lv(e.symbol)}}));for(var o=[],s=0;s<n;s++){for(var l=[],u=0;u<n;u++){var c=a[i[s][u]];l.push(c.fill)}o.push(l)}return{type:"relationship-ramp",numClasses:n,focus:t,colors:o,labels:uv(t,a),rotation:fv(t)}}function fv(e){var t=ov[e];return e&&null==t&&(t=ov.HH),t||0}s("8TSCy");_=s("jcnGU"),te=s("iCnzh"),S=s("2TvXO"),k=s("jgs9n");var pv=s("cM5QQ"),dv=(Ey=s("7sx0B"),to=s("8NoYK"),ki=s("bnSL3"),[255,255,255]),hv=[200,200,200],yv=[128,128,128];function vv(e,t){var r=e.length-1;return e.map((function(e,n){return By(e,n,r,t)}))}function mv(e,t,r,n,i,a){return gv.apply(this,arguments)}function gv(){return gv=_.default(n(S).mark((function e(t,r,i,a,o,s){var l,u,c,f,p,d,h,y,v,m,g,b,w,x,k,T,E,I,C,O;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.legendOptions,f=c&&c.customValues,e.next=5,wv(t,i);case 5:if(p=e.sent,d=!!p,h=!!f,y=null!=r.minSize&&null!=r.maxSize,v=r.stops&&r.stops.length>1,m=!!r.target,d&&(h||y||v&&!m)){e.next=13;break}return e.abrupt("return");case 13:if(g=(0,to.isVolumetricSymbol)(p),b=null,w=null,x=null,!g||v){e.next=19;break}e.t0=Fy([r.minDataValue,r.maxDataValue]),e.next=25;break;case 19:if(e.t1=f,e.t1){e.next=24;break}return e.next=23,Ev(r,p,a,o);case 23:e.t1=e.sent;case 24:e.t0=e.t1;case 25:if(w=e.t0,k=null==t?void 0:t.authoringInfo,T="univariate-color-size"===(null==k?void 0:k.type),E=T&&"above-and-below"===(null==k?void 0:k.univariateTheme),!w&&v&&(w=r.stops.map((function(e){return e.value})),b=r.stops.some((function(e){return!!e.label})),"flow"===t.type&&(w=Fy(w)),b&&(x=r.stops.map((function(e){return e.label})))),g&&(null==(l=w)?void 0:l.length)>2&&!E&&(w=[w[0],w[w.length-1]]),w){e.next=29;break}return e.abrupt("return",null);case 29:return T&&5!==(null==(u=w)?void 0:u.length)&&(w=Cv({minSize:w[0],maxSize:w[w.length-1]})),I=g?bv(t,w):null,C=(0,to.getSymbolOutlineSize)(p),O=b?null:vv(w,s),e.next=33,Promise.all(w.map(function(){var e=_.default(n(S).mark((function e(i,s){var l;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=4;break}e.t0=I[s],e.next=7;break;case 4:return e.next=6,Mv(r,p,i,a,o);case 6:e.t0=e.sent;case 7:return l=e.t0,e.abrupt("return",{value:i,symbol:Rv(E&&"class-breaks"===t.type?_v(t,s):p,l),label:b?x[s]:O[s],size:l,outlineSize:C});case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 33:return e.abrupt("return",e.sent.reverse());case 34:case"end":return e.stop()}}),e)}))),gv.apply(this,arguments)}function bv(e,t){var r=null==e?void 0:e.authoringInfo,n="univariate-color-size"===(null==r?void 0:r.type),i=[12,30];if(n){var a=t[0],o=t[t.length-1];i=t.map((function(e){return 12+(e-a)/(o-a)*18}))}return n&&"below"===(null==r?void 0:r.univariateTheme)&&i.reverse(),i}function _v(e,t){var r=e.classBreakInfos,n=r.length,i=n<2||!(t>=2)?r[0].symbol.clone():r[n-1].symbol.clone();return e.visualVariables.some((function(e){return"color"===e.type}))&&(i.type.indexOf("3d")>-1?kv(i):Tv(i)),i}function wv(e,t){return xv.apply(this,arguments)}function xv(){return(xv=_.default(n(S).mark((function e(t,r){var i,a,o,s;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("flow"!==t.type){e.next=2;break}return e.abrupt("return",Gy(t,r));case 2:return i=null,a=null,"simple"===t.type?i=t.symbol:"class-breaks"===t.type?(o=t.classBreakInfos,i=o&&o[0]&&o[0].symbol,a=o.length>1):"unique-value"===t.type&&(s=t.uniqueValueInfos,i=s&&s[0]&&s[0].symbol,a=s.length>1),e.abrupt("return",!i||Sv(i)?null:(i=i.clone(),(r||a)&&(i.type.indexOf("3d")>-1?kv(i):Tv(i)),i));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sv(e){return!!e&&((0,pv.isSymbol3D)(e)?!!e.symbolLayers&&e.symbolLayers.some((function(e){return e&&"fill"===e.type})):-1!==e.type.indexOf("fill"))}function kv(e){"line-3d"===e.type?e.symbolLayers.forEach((function(e){e.material={color:yv}})):e.symbolLayers.forEach((function(e){"icon"!==e.type||e.resource&&e.resource.href?e.material={color:hv}:(e.material={color:dv},e.outline={color:yv,size:1.5})}))}function Tv(e){var t=(0,ki.isDarkTheme)();if("cim"===e.type)(0,Ey.applyCIMSymbolColor)(e,new(0,k.default)(hv));else if(-1!==e.type.indexOf("line"))e.color=yv;else if(e.color=t?yv:dv,"simple-marker"===e.type){var r,n;if(e.outline)"#ffffff"===(null==(r=e.outline)||null==(n=r.color)?void 0:n.toHex())&&(e.outline.color=yv);else e.outline={color:yv,width:1.5}}}function Ev(e,t,r,n){return Iv.apply(this,arguments)}function Iv(){return(Iv=_.default(n(S).mark((function e(t,r,i,a){var o,l,u,c,f;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("kdZ8m");case 2:if(o=e.sent.getSizeRangeAtScale(t,i,a),l=o&&Cv(o),o||l){e.next=6;break}return e.abrupt("return");case 6:u=Fy(u=l.map((function(e){return Ov(e,t,o)}))),c=1;case 9:if(!(c<u.length-1)){e.next=17;break}return e.next=12,Lv(t,r,u[c],u[c-1],i,a);case 12:(f=e.sent)&&(u[c]=f[0],l[c]=f[1]);case 14:c++,e.next=9;break;case 17:return e.abrupt("return",u);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cv(e){for(var t=e.minSize,r=(e.maxSize-t)/4,n=[],i=0;i<5;i++)n.push(t+r*i);return n}function Ov(e,t,r){var n=r.minSize,i=r.maxSize,a=t.minDataValue,o=t.maxDataValue;return e<=n?a:e>=i?o:(e-n)/(i-n)*(o-a)+a}function Lv(e,t,r,n,i,a){return Av.apply(this,arguments)}function Av(){return(Av=_.default(n(S).mark((function e(t,r,i,a,o,s){var l,u,c,f,p,d,h,y,v,m,g,b,_,w,x,k,T,E,I,C,O,L;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mv(t,r,i,o,s);case 2:return l=e.sent,e.next=5,Mv(t,r,a,o,s);case 5:u=e.sent,c=Ry(i),f=c.fractional,p=20,d=c.integer,h=null,y=null,i>0&&i<1&&(h=Math.pow(10,f),d=Ry(i*=h).integer),v=d-1;case 12:if(!(v>=0)){e.next=37;break}return m=Math.pow(10,v),g=Math.floor(i/m)*m,b=Math.ceil(i/m)*m,null!=h&&(g/=h,b/=h),_=(g+b)/2,w=te.default(Fy([g,_,b],{indexes:[1]}),2),_=w[1],e.next=21,Mv(t,r,g,o,s);case 21:return x=e.sent,e.next=24,Mv(t,r,b,o,s);case 24:return k=e.sent,e.next=27,Mv(t,r,_,o,s);case 27:if(T=e.sent,E=Py(l,x,u,null),I=Py(l,k,u,null),C=Py(l,T,u,null),O=E.previous<=p,L=I.previous<=p,O&&L&&(E.previous<=I.previous?(O=!0,L=!1):(L=!0,O=!1)),O?y=[g,x]:L?y=[b,k]:C.previous<=p&&(y=[_,T]),!y){e.next=34;break}return e.abrupt("break",37);case 34:v--,e.next=12;break;case 37:return e.abrupt("return",y);case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mv(e,t,r,n,i){return Nv.apply(this,arguments)}function Nv(){return(Nv=_.default(n(S).mark((function e(t,r,i,a,o){var l,u;return n(S).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("kdZ8m");case 2:return l=e.sent,u=l.getSize,e.abrupt("return",u(t,i,{scale:a,view:o,shape:"simple-marker"===r.type?r.style:null}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rv(e,t){var r=e.clone();if((0,pv.isSymbol3D)(r))(0,to.isVolumetricSymbol)(r)||r.symbolLayers.forEach((function(e){"fill"!==e.type&&(e.size=t)}));else if("esri.symbols.SimpleMarkerSymbol"===r.declaredClass)r.size=t;else if("esri.symbols.PictureMarkerSymbol"===r.declaredClass){var n=r.width,i=r.height;r.height=t,r.width=t*(n/i)}else"esri.symbols.SimpleLineSymbol"===r.declaredClass?r.width=t:"esri.symbols.TextSymbol"===r.declaredClass&&r.font&&(r.font.size=t);return r}k=s("jgs9n"),Z=s("7qybv"),pt=s("8lxrq"),ot=s("1RkqB");s("8TSCy");u=s("kswSi"),s("lNwWH"),N=s("jHOLN"),pt=s("8lxrq"),s("eZwqA"),N.default.getLogger("esri.renderers.support.utils"),(0,pt.convertDateFormatToIntlOptions)("short-date");Cy=s("2rUeJ");function Pv(e){var t=Math.floor(Math.log10(Math.abs(e)))+1,r=t<4||t>6?4:t,n=Math.abs(e)>=1e6?"compact":"standard";return(0,ot.formatNumber)(e,{notation:n,minimumSignificantDigits:2,maximumSignificantDigits:r})}var Fv=s("ioNzP"),jv=(Mo=s("SVQ32"),N.default.getLogger("esri.widgets.Legend.support.ActiveLayerInfo")),Dv=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,Uv=new(0,gy.JSONMap)({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),Vv={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Bv=new(0,Fv.default)({size:6,outline:{color:[128,128,128,.5],width:.5}}),Hv=new(0,Mo.default)({style:"solid"});function zv(e){return"flow"===e.type}function Wv(e){return"vector-field"===e.type}function Gv(e){return"raster-colormap"===e.type}function Jv(e){return"raster-stretch"===e.type}function qv(e){return"raster-shaded-relief"===e.type}function Xv(e){return"esri.renderers.SimpleRenderer"===e.declaredClass}function Kv(e){return"esri.renderers.ClassBreaksRenderer"===e.declaredClass}function $v(e){return"esri.renderers.UniqueValueRenderer"===e.declaredClass}function Yv(e){return"esri.renderers.HeatmapRenderer"===e.declaredClass}function Zv(e){return Qv(e)||em(e)||tm(e)||"esri.renderers.PointCloudRGBRenderer"===e.declaredClass}function Qv(e){return"esri.renderers.PointCloudClassBreaksRenderer"===e.declaredClass}function em(e){return"esri.renderers.PointCloudStretchRenderer"===e.declaredClass}function tm(e){return"esri.renderers.PointCloudUniqueValueRenderer"===e.declaredClass}function rm(e){return"esri.renderers.DotDensityRenderer"===e.declaredClass}function nm(e,t){return Xv(e)||Kv(e)||$v(e)||Yv(e)||rm(e)?"2d"===t.type||ky(e):Jv(e)||Gv(e)||qv(e)||Qv(e)||em(e)||tm(e)||Wv(e)||zv(e)}function im(e){return"esri.layers.BuildingSceneLayer"===e.declaredClass}function am(e){return"esri.layers.MapImageLayer"===e.declaredClass}function om(e){return"esri.layers.ImageryLayer"===e.declaredClass}function sm(e){return"esri.layers.ImageryTileLayer"===e.declaredClass}function lm(e){return"esri.layers.WCSLayer"===e.declaredClass}function um(e){return"stretch-ramp"===e.type}function cm(e){var t="authoringInfo"in e&&(null==e?void 0:e.authoringInfo);return"univariate-color-size"===(null==t?void 0:t.type)}function fm(e){var t="authoringInfo"in e&&(null==e?void 0:e.authoringInfo);return"univariate-color-size"===(null==t?void 0:t.type)&&"above-and-below"===(null==t?void 0:t.univariateTheme)}var pm=new(0,Fv.default)({style:"path",path:"M10,5 L5,0 0,5 M5,0 L5,15",size:15,outline:{width:1,color:[85,85,85,1]}}),dm={},hm=function(e){"use strict";ke.inherits(r,e);var t=ke.createSuper(r);function r(e){var n;return ke.classCallCheck(this,r),(n=t.call(this,e))._handles=new(0,Ve.default),n._hasColorRamp=!1,n._hasOpacityRamp=!1,n._hasSizeRamp=!1,n._webStyleSymbolCache=new Map,n._dotDensityUrlCache=new Map,n._scaleDrivenSizeVariable=null,n._hasClusterSizeVariable=!1,n.children=new(0,T.default),n.layerView=null,n.layer=null,n.legendElements=[],n.parent=null,n.hideLayersNotInCurrentView=!1,n.keepCacheOnDestroy=!1,n.respectLayerVisibility=!0,n.sublayerIds=[],n.title=null,n.view=null,ke.possibleConstructorReturn(n)}return ke.createClass(r,[{key:"initialize",value:function(){var e=this,t=function(){return e.notifyChange("ready")};this._handles.add([(0,Qe.on)(this,"children","change",(function(r){var n=r.added,i=r.removed,a=e._handles;n.forEach((function(e){var r="activeLayerInfo-ready-watcher-".concat(e.layer.uid);a.add((0,Qe.init)(e,"ready",t),r)})),i.forEach((function(e){return a.remove(e.layer.uid)})),t()}))]),this.keepCacheOnDestroy||(dm={})}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null,this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(dm=null)}},{key:"effectList",get:function(){var e=this.layer,t=null;return"effect"in e&&e.effect&&((t=new(0,_y.EffectView)).effect=e.effect,t.end(),t.scale=this.scale),t}},{key:"opacity",get:function(){var e,t=this.layer.opacity,r=null==(e=this.parent)?void 0:e.opacity,n=this.layer.parent,i=n&&"uid"in n?this._getParentLayerOpacity(n):null;return null!=r?r*t:null!=i?i*t:t}},{key:"ready",get:function(){return null===this.layer||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}},{key:"scale",get:function(){return this.view&&this.view.scale}},{key:"isScaleDriven",get:function(){var e=this.layer;if(null===e)return!1;if("effect"in e&&e.effect&&Array.isArray(e.effect))return!0;if("featureReduction"in e&&e.featureReduction&&"cluster"===e.featureReduction.type)return!0;if("renderer"in e&&e.renderer){var t=this;if("dot-density"===e.renderer.type)return!0;var r=e.get("renderer.valueExpression");if(Dv.test(r))return!0;var n=e.get("renderer.visualVariables");if(n)return n.some((function(e){return t._isScaleDrivenSizeVariable(e)}))}return this._isLayerScaleDriven(this.layer)}},{key:"version",get:function(){return this._get("version")+1}},{key:"buildLegendElementsForFeatureCollections",value:function(e){var t=this;return ke.asyncToGenerator(n(S).mark((function r(){var i,a;return n(S).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=!t.hideLayersNotInCurrentView,r.t0){r.next=5;break}return r.next=4,t._isLayerInCurrentView();case 4:r.t0=r.sent;case 5:if(r.t0){r.next=7;break}return r.abrupt("return",(t.legendElements=[],void t.notifyChange("ready")));case 7:return i=Array.from(e,(function(e){if("esri.layers.FeatureLayer"===e.declaredClass)return t._getRendererLegendElements(e.renderer,{title:e.title});if(e.featureSet&&e.featureSet.features.length){var r=e.layerDefinition,n=r&&r.drawingInfo,i=n&&(0,Sy.fromJSON)(n.renderer),a=Uv.read(r.geometryType);return i?t._getRendererLegendElements(i,{title:e.name,geometryType:a}):(jv.warn("drawingInfo not available!"),null)}return null})),r.prev=8,a=[],r.next=12,(0,R.eachAlways)(i).then((function(e){var t;e.forEach((function(e){var r=e.value;return r&&(t=a).push.apply(t,ke.toConsumableArray(r))}))}));case 12:t.legendElements=a,t.notifyChange("ready"),r.next=19;break;case 16:r.prev=16,r.t1=r.catch(8),jv.warn("error while building legend for layer!",r.t1);case 19:case"end":return r.stop()}}),r,null,[[8,16]])})))()}},{key:"buildLegendElementsForRenderer",value:function(e){var t=this;return ke.asyncToGenerator(n(S).mark((function r(){return n(S).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,r.t0=!t.hideLayersNotInCurrentView,r.t0){r.next=6;break}return r.next=5,t._isLayerInCurrentView();case 5:r.t0=r.sent;case 6:if(!r.t0){r.next=13;break}return r.next=10,t._getRendererLegendElements(e);case 10:r.t1=r.sent,r.next=14;break;case 13:r.t1=[];case 14:t.legendElements=r.t1,t.notifyChange("ready"),r.next=21;break;case 18:r.prev=18,r.t2=r.catch(0),jv.warn("error while building legend for layer!",r.t2);case 21:case"end":return r.stop()}}),r,null,[[0,18]])})))()}},{key:"buildLegendElementsForTools",value:function(){var e=this;return ke.asyncToGenerator(n(S).mark((function t(){var r,i,a,o,s;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.layer,"esri.layers.VoxelLayer"!==r.declaredClass){t.next=5;break}e._constructLegendElementsForVoxellayer(),t.next=29;break;case 5:if("esri.layers.WMTSLayer"!==r.declaredClass){t.next=9;break}e._constructLegendElementsForWMTSlayer(),t.next=29;break;case 9:if("esri.layers.WMSLayer"!==r.declaredClass){t.next=14;break}return t.next=12,e._constructLegendElementsForWMSSublayers();case 12:case 17:case 22:t.next=29;break;case 14:if(!im(r)){t.next=19;break}return t.next=17,e._constructLegendElementsForBuildingSceneLayer();case 19:if(!am(r)&&"esri.layers.TileLayer"!==r.declaredClass&&!im(r)){t.next=24;break}return t.next=22,e._constructLegendElementsForSublayers();case 24:return e._handles.remove("imageryLayers-watcher"),i="default",om(r)&&(i=((null==(s=r)||null==(a=s.renderingRule)?void 0:a.functionName)||"default")+"_"+(null!=(o=r.bandIds)&&o.length?r.bandIds.join(""):"###")),t.next=29,e._getLegendLayers("".concat(r.uid,"-").concat(i)).then(function(){var t=ke.asyncToGenerator(n(S).mark((function t(i){var a;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.legendElements=[],e.notifyChange("ready"),a=i.map(function(){var t=ke.asyncToGenerator(n(S).mark((function t(i){var a,o;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(om(r)||sm(r))&&(a=r.watch(["renderingRule","bandIds"],(function(){return(0,R.debounce)(ke.asyncToGenerator(n(S).mark((function t(){return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(dm.default=null,!r.renderer){t.next=6;break}return t.next=4,e.buildLegendElementsForRenderer(r.renderer);case 4:t.next=8;break;case 6:return t.next=8,e.buildLegendElementsForTools();case 8:case"end":return t.stop()}}),t)}))))()})),e._handles.add(a,"imageryLayers-watcher")),(o=e._generateSymbolTableElementForLegendLayer(i))&&o.infos.length&&(om(r)&&(o.title=r.title),e.legendElements.push(o)),e.notifyChange("ready");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=4,(0,R.eachAlways)(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){jv.warn("Request to server for legend has failed!",e)}));case 29:case"end":return t.stop()}}),t)})))()}},{key:"_isLayerInCurrentView",value:function(){var e=this;return ke.asyncToGenerator(n(S).mark((function t(){var r,i,a,o;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.layer,i=e.layerView,(a=i&&"createQuery"in i&&"queryFeatureCount"in i)||i&&"createQuery"in r&&"queryFeatureCount"in r){t.next=3;break}return t.abrupt("return",!0);case 3:return t.next=5,(0,Qe.whenFalseOnce)(i,"updating");case 5:if((o=a?"createQuery"in i&&i.createQuery():"createQuery"in r&&r.createQuery()).geometry=e.view.extent,!a){t.next=16;break}if(t.t1="queryFeatureCount"in i,!t.t1){t.next=13;break}return t.next=12,i.queryFeatureCount(o);case 12:t.t1=t.sent;case 13:t.t0=t.t1,t.next=22;break;case 16:if(t.t2="queryFeatureCount"in r,!t.t2){t.next=21;break}return t.next=20,r.queryFeatureCount(o);case 20:t.t2=t.sent;case 21:t.t0=t.t2;case 22:return t.t3=t.t0,t.abrupt("return",0!==t.t3);case 24:case"end":return t.stop()}}),t)})))()}},{key:"_getParentLayerOpacity",value:function(e){var t=1,r=e.parent;return r&&"uid"in r&&(t=this._getParentLayerOpacity(r)),e.opacity*t}},{key:"_isGroupActive",value:function(){var e=this.children;return!!e.length&&e.some((function(e){return e.ready}))}},{key:"_isScaleDrivenSizeVariable",value:function(e){if(e&&"size"!==e.type)return!1;var t=e,r=t.minSize,n=t.maxSize;return"object"==typeof r&&r?this._isScaleDrivenSizeVariable(r):"object"==typeof n&&n?this._isScaleDrivenSizeVariable(n):!!t.expression||Dv.test(t.valueExpression)}},{key:"_isLayerScaleDriven",value:function(e){var t=this;if("minScale"in e&&e.minScale>0||"maxScale"in e&&e.maxScale>0)return!0;if("sublayers"in e&&e.sublayers)return e.sublayers.some((function(e){return t._isLayerScaleDriven(e)}));var r=e.parent;if(!1===e.loaded&&r&&am(r)&&"source"in e&&e.source&&"map-layer"===e.source.type){var n=!0,i=!1,a=void 0;try{for(var o,s=r.sourceJSON.layers[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;if(l.id===e.source.mapLayerId&&(l.minScale>0||l.maxScale>0))return!0}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}return!1}},{key:"_constructLegendElementsForVoxellayer",value:function(){var e=this;return ke.asyncToGenerator(n(S).mark((function t(){var r,i,a,o,s,l,u,c,f,p,d,h,y;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.legendElements=[],e._handles.remove("voxel-style-watcher"),r=e.layer,e._handles.add((0,Qe.watch)(r,"style",(function(){return e._constructLegendElementsForVoxellayer()})),"voxel-style-watcher"),i=(0,Z.unwrap)(r.getVariableStyle(null)),a=[],i&&(null!=(o=i.uniqueValues)&&o.length?(s=[],i.uniqueValues.forEach((function(e){e.enabled&&s.push({label:e.label||"".concat(e.value),value:e.value,symbol:new(0,Mo.default)({color:e.color,outline:null})})})),s.length&&a.push({type:"symbol-table",title:i.label,infos:s})):i.transferFunction&&(l=i.transferFunction,u=l.colorStops,c=l.stretchRange,f=u.toArray().reverse(),p=c.map((function(e,t){return"".concat(0===t?"<":">"," ").concat(Pv(e))})).reverse(),(d=f.map((function(e){return{color:e.color,value:null,label:null}})))[0].label=p[0],d[d.length-1].label=p[1],a.push({type:"color-ramp",title:i.label,infos:d,preview:ao(f.map((function(e){return e.color})))}))),h=r.opacity,y=a.reduce((function(t,r){return t.concat(e._getAllInfos(r))}),[]).filter((function(e){return!(null==e||!e.symbol)})).map((function(t){return e._getSymbolPreview(t,h)})),t.next=9,(0,R.eachAlways)(y);case 9:e.legendElements=a,e.notifyChange("ready");case 11:case"end":return t.stop()}}),t)})))()}},{key:"_constructLegendElementsForWMTSlayer",value:function(){var e=this;this.legendElements=[],this._handles.remove("wmts-activeLayer-watcher");var t=this.layer.activeLayer;if(this._handles.add((0,Qe.watch)(this.layer,"activeLayer",(function(){return e._constructLegendElementsForWMTSlayer()})),"wmts-activeLayer-watcher"),t.styleId&&t.styles){var r=null;t.styles.some((function(e){return t.styleId===e.id&&(r=e.legendUrl,!0)})),r&&(this.legendElements=[{type:"symbol-table",title:t.title,infos:[{src:r,opacity:this.opacity}]}])}this.notifyChange("ready")}},{key:"_constructLegendElementsForWMSSublayers",value:function(){var e=this;return ke.asyncToGenerator(n(S).mark((function t(){var r,i;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.legendElements=[],e._handles.remove("wms-sublayers-watcher"),r=e.layer,i=null,(r.customParameters||r.customLayerParameters)&&(i=ke.objectSpread({},r.customParameters,r.customLayerParameters)),e._handles.add((0,Qe.watch)(e.layer,"sublayers",(function(){return e._constructLegendElementsForWMSSublayers()})),"wms-sublayers-watcher"),t.next=7,e._generateLegendElementsForWMSSublayers(r.sublayers,i);case 7:e.legendElements=t.sent,e.notifyChange("ready");case 9:case"end":return t.stop()}}),t)})))()}},{key:"_generateLegendElementsForWMSSublayers",value:function(e,t){var r=this;return ke.asyncToGenerator(n(S).mark((function i(){var a,o,s,l,u,c,f,p,d,h;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=[],r._handles.add(e.on("change",(function(){return r._constructLegendElementsForWMSSublayers()})),"wms-sublayers-watcher"),o=e.toArray(),s=!0,l=!1,u=void 0,n.prev=4,c=o[Symbol.iterator]();case 6:if(s=(f=c.next()).done){n.next=17;break}if(p=f.value,d=p.watch(["title","visible","legendEnabled"],(function(){return r._constructLegendElementsForWMSSublayers()})),r._handles.add(d,"wms-sublayers-watcher"),!(!r.respectLayerVisibility||p.visible&&p.legendEnabled)){n.next=14;break}return n.next=12,r._generateSymbolTableElementForWMSSublayer(p,t);case 12:(h=n.sent)&&h.infos.length&&a.unshift(h);case 14:s=!0,n.next=6;break;case 17:n.next=23;break;case 19:n.prev=19,n.t0=n.catch(4),l=!0,u=n.t0;case 23:n.prev=23,n.prev=24,s||null==c.return||c.return();case 26:if(n.prev=26,!l){n.next=29;break}throw u;case 29:return n.finish(26);case 30:return n.finish(23);case 31:return n.abrupt("return",a);case 32:case"end":return n.stop()}}),i,null,[[4,19,23,31],[24,,26,30]])})))()}},{key:"_generateSymbolTableElementForWMSSublayer",value:function(e,t){var r=this;return ke.asyncToGenerator(n(S).mark((function i(){var a;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.legendUrl||!e.sublayers){n.next=5;break}return n.next=3,r._generateLegendElementsForWMSSublayers(e.sublayers,t);case 3:return a=n.sent.filter((function(e){return e})),n.abrupt("return",{type:"symbol-table",title:e.title,infos:a});case 5:return n.abrupt("return",r._generateSymbolTableElementForLegendUrl(e,t));case 6:case"end":return n.stop()}}),i)})))()}},{key:"_generateSymbolTableElementForLegendUrl",value:function(e,t){return ke.asyncToGenerator(n(S).mark((function r(){var i,a,o,s,l;return n(S).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=e.legendUrl){r.next=4;break}return r.abrupt("return");case 4:return o={type:"symbol-table",title:e.title||e.name||e.id&&e.id+"",infos:[]},t&&(a=(0,re.addQueryParameters)(a,t)),s=null,l=null==(i=e.layer)?void 0:i.opacity,r.prev=8,r.next=11,(0,Wn.default)(a,{responseType:"image"});case 11:(s=r.sent.data)&&(s.style.opacity=l),r.next=17;break;case 15:r.prev=15,r.t0=r.catch(8);case 17:return r.abrupt("return",(o.infos.push({src:a,preview:s,opacity:l}),o));case 18:case"end":return r.stop()}}),r,null,[[8,15]])})))()}},{key:"_getLegendLayers",value:function(e,t){var r=dm&&dm[e];return r?Promise.resolve(r):this._legendRequest(t).then((function(t){var r=t.layers;return dm[e]=r,r}))}},{key:"_legendRequest",value:function(e){var t=this.layer,r={f:"json",dynamicLayers:e};if(om(t)){var n=t.exportImageServiceParameters.renderingRule;if(n&&(r.renderingRule=JSON.stringify(n.rasterFunctionDefinition||n.toJSON())),t.bandIds&&(r.bandIds=t.bandIds.join()),t.raster||t.viewId||t.customParameters){var i=t.raster,a=t.viewId,o=t.customParameters;r=ke.objectSpread({raster:i,viewId:a},r,o)}}var s=t.url.replace(/(\/)+$/,"");if("version"in t&&t.version>=10.01){var l=s.indexOf("?");l>-1?s=s.substring(0,l)+"/legend"+s.substring(l):s+="/legend"}else{var u=s.toLowerCase().indexOf("/rest/"),c=s.substring(0,u)+s.substring(u+5,s.length);s="https://utility.arcgis.com/sharing/tools/legend?soapUrl="+encodeURI(c)+"&returnbytes=true"}return(0,Wn.default)(s,{query:r}).then((function(e){return e.data}))}},{key:"_constructLegendElementsForBuildingSceneLayer",value:function(){var e=this;return ke.asyncToGenerator(n(S).mark((function t(){var r;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.legendElements=[],e._handles.remove("sublayers-watcher"),r=e.layer,e._handles.add((0,Qe.watch)(r,"sublayers",(function(){return e._constructLegendElementsForBuildingSceneLayer()})),"sublayers-watcher"),t.prev=3,t.next=6,e._generateLegendElementsForBuildingSublayers(r.sublayers,e.opacity);case 6:e.legendElements=t.sent,e.notifyChange("ready"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),jv.warn("Request to server for legend has failed!",t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()}},{key:"_generateLegendElementsForBuildingSublayers",value:function(e,t){var r=this;return ke.asyncToGenerator(n(S).mark((function i(){var a,o,s,l,u,c,f,p,d,h,y,v,m,g;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=[],r._handles.add(e.on("change",(function(){return r._constructLegendElementsForBuildingSceneLayer()})),"sublayers-watcher"),o=e.toArray(),s=!0,l=!1,u=void 0,n.prev=4,c=o[Symbol.iterator]();case 6:if(s=(f=c.next()).done){n.next=29;break}if(p=f.value,d=p.watch(["renderer","opacity","title","visible"],(function(){return r._constructLegendElementsForBuildingSceneLayer()})),r._handles.add(d,"sublayers-watcher"),r.respectLayerVisibility&&!p.visible){n.next=26;break}if(h=p&&null!=p.opacity?p.opacity:null,y=null!=h?h*t:t,"building-group"!==p.type){n.next=20;break}return m={type:"symbol-table",title:p.title,infos:[]},n.next=16,r._generateLegendElementsForBuildingSublayers(p.sublayers,y);case 16:g=n.sent,(v=m.infos).push.apply(v,ke.toConsumableArray(g)),a=[m].concat(ke.toConsumableArray(a)),n.next=26;break;case 20:if(!p.renderer){n.next=26;break}return n.t0=ke,n.next=24,r._getRendererLegendElements(p.renderer,{title:p.title,opacity:y,sublayer:p});case 24:n.t1=n.sent,a=n.t0.toConsumableArray.call(n.t0,n.t1).concat(ke.toConsumableArray(a));case 26:s=!0,n.next=6;break;case 29:n.next=35;break;case 31:n.prev=31,n.t2=n.catch(4),l=!0,u=n.t2;case 35:n.prev=35,n.prev=36,s||null==c.return||c.return();case 38:if(n.prev=38,!l){n.next=41;break}throw u;case 41:return n.finish(38);case 42:return n.finish(35);case 43:return n.abrupt("return",a.filter((function(e){return!!e&&(!("infos"in e)||e.infos.length>0)})));case 44:case"end":return n.stop()}}),i,null,[[4,31,35,43],[36,,38,42]])})))()}},{key:"_constructLegendElementsForSublayers",value:function(){var e=this;return ke.asyncToGenerator(n(S).mark((function t(){var r;return n(S).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.legendElements=[],e._handles.remove("sublayers-watcher"),r=e.layer,e._handles.add((0,Qe.watch)(r,"sublayers",(function(){return e._constructLegendElementsForSublayers})),"sublayers-watcher"),t.prev=3,t.next=6,e._generateLegendElementsForSublayers(r.sublayers,e.opacity);case 6:e.legendElements=t.sent,e.notifyChange("ready"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),jv.warn("Request to server for legend has failed!",t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()}},{key:"_generateLegendElementsForSublayers",value:function(e,t,r){var i=this;return ke.asyncToGenerator(n(S).mark((function a(){var o,s,l,u,c,f,p,d,h,y,v,m,g;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=i.layer,s=[],i._handles.add(e.on("change",(function(){return i._constructLegendElementsForSublayers()})),"sublayers-watcher"),l=e.toArray(),!r&&i.sublayerIds&&i.sublayerIds.length&&(l=i.sublayerIds.map((function(e){return o.findSublayerById(e)})).filter(Boolean)),u=!0,c=!1,f=void 0,n.prev=6,p=l[Symbol.iterator]();case 8:if(u=(d=p.next()).done){n.next=30;break}if(h=d.value,y=h.watch("renderer, opacity, title, visible, legendEnabled",(function(){return i._constructLegendElementsForSublayers()})),i._handles.add(y,"sublayers-watcher"),i.respectLayerVisibility&&!(h.visible&&h.legendEnabled&&i._isSublayerInScale(h))){n.next=27;break}if(v=h&&null!=h.opacity?h.opacity:null,m=null!=v?v*t:t,!(h.renderer&&!h.sublayers&&h.originIdOf("renderer")>by.OriginId.SERVICE)){n.next=23;break}return n.next=16,h.load();case 16:return n.t0=ke,n.next=19,i._getRendererLegendElements(h.renderer,{title:h.title,opacity:m,sublayer:h});case 19:n.t1=n.sent,s=n.t0.toConsumableArray.call(n.t0,n.t1).concat(ke.toConsumableArray(s)),n.next=27;break;case 23:return n.next=25,i._generateSymbolTableElementForSublayer(h,m,r);case 25:(g=n.sent)&&s.unshift(g);case 27:u=!0,n.next=8;break;case 30:n.next=36;break;case 32:n.prev=32,n.t2=n.catch(6),c=!0,f=n.t2;case 36:n.prev=36,n.prev=37,u||null==p.return||p.return();case 39:if(n.prev=39,!c){n.next=42;break}throw f;case 42:return n.finish(39);case 43:return n.finish(36);case 44:return n.abrupt("return",s.filter((function(e){return!!e&&(!("infos"in e)||e.infos.length>0)})));case 45:case"end":return n.stop()}}),a,null,[[6,32,36,44],[37,,39,43]])})))()}},{key:"_generateSymbolTableElementForSublayer",value:function(e,t,r){var i=this;return ke.asyncToGenerator(n(S).mark((function a(){var o,s,l,u,c,f,p;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=9;break}return r=new Map,o=i.layer,s=e.source,l=null,(s&&("map-layer"!==s.type||s.mapLayerId!==e.id||s.gdbVersion&&s.gdbVersion!==("gdbVersion"in o&&o.gdbVersion))||e.originIdOf("renderer")>by.OriginId.SERVICE||e.originIdOf("labelingInfo")>by.OriginId.SERVICE||e.originIdOf("labelsVisible")>by.OriginId.SERVICE)&&(u=new(0,xy.ExportImageParameters)({layer:i.layer}),l=u.hasDynamicLayers?u.dynamicLayers:null,u.destroy()),c=l||"".concat(o.uid,"-default"),n.next=8,i._getLegendLayers(c,l);case 8:n.sent.forEach((function(e){return r.set(e.layerId,e)}));case 9:if(!(!(f=r.get(e.id))||null!=f&&f.subLayerIds&&f.defaultVisibility)||!e.sublayers){n.next=15;break}return n.next=13,i._generateLegendElementsForSublayers(e.sublayers,t,r);case 13:return p=n.sent,n.abrupt("return",{type:"symbol-table",title:e.title,infos:p});case 15:return n.abrupt("return",i._generateSymbolTableElementForLegendLayer(f,e,t));case 16:case"end":return n.stop()}}),a)})))()}},{key:"_generateSymbolTableElementForLegendLayer",value:function(e,t,r){var n,i=this;if(!e||!e.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;var a=null==t?void 0:t.renderer,o=(null==t?void 0:t.title)||e.layerName;if(a&&(!t||(null==t?void 0:t.originIdOf("renderer"))>by.OriginId.SERVICE)){var s=(null==t?void 0:t.title)||this._getRendererTitle(a,t);s&&(o&&"string"!=typeof s&&"title"in s&&(s.title=o),o=s)}var l={type:"symbol-table",title:o,legendType:e.legendType?e.legendType:null,infos:[]},u=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return(null==(n=e.legendGroups)?void 0:n.length)>0?e.legendGroups.forEach((function(t){var n,a={type:"symbol-table",title:t.heading,legendType:e.legendType?e.legendType:null,infos:i._generateSymbolTableElementInfosForLegendLayer(u.filter((function(e){return e.groupId===t.id})),e.layerId,r)};(null==(n=a.infos)?void 0:n.length)>0&&l.infos.push(a)})):l.infos=this._generateSymbolTableElementInfosForLegendLayer(u,e.layerId,r),l.infos.length>0?l:null}},{key:"_generateSymbolTableElementInfosForLegendLayer",value:function(e,t,r){var n=this;return e.map((function(e){var i=e.url;if(e.imageData&&e.imageData.length>0)i="data:image/png;base64,".concat(e.imageData);else{if(0===i.indexOf("http"))return null;i=(0,my.addTokenParameter)("".concat(n.layer.url,"/").concat(t,"/images/").concat(i))}return{label:e.label,src:i,opacity:null==r?n.opacity:r,width:e.width,height:e.height}})).filter((function(e){return!!e}))}},{key:"_isSublayerInScale",value:function(e){var t=e.minScale||0,r=e.maxScale||0;return!(t>0&&t<this.scale||r>this.scale)}},{key:"_isLegendLayerInScale",value:function(e,t){var r=t||this.layer,n=null,i=null,a=!0;return!r.minScale&&0!==r.minScale||!r.maxScale&&0!==r.maxScale?(0===e.minScale&&r.tileInfo&&(n=r.tileInfo.lods[0].scale),0===e.maxScale&&r.tileInfo&&(i=r.tileInfo.lods[r.tileInfo.lods.length-1].scale)):(n=Math.min(r.minScale,e.minScale)||r.minScale||e.minScale,i=Math.max(r.maxScale,e.maxScale)),(n>0&&n<this.scale||i>this.scale)&&(a=!1),a}},{key:"_sanitizeLegendForSublayer",value:function(e,t){if("version"in this.layer&&this.layer.version<10.1||0===e.length)return e;var r=t.renderer,n=e.some((function(e){return e.values})),i=null,a=null;return n&&e.some((function(e,t){return e.values||(i=t,(a=e).label||(a.label="others")),null!=a})),r?"unique-value"===r.type?a&&(e.splice(i,1),e.push(a)):"class-breaks"===r.type&&(a&&e.splice(i,1),e.reverse(),a&&e.push(a)):a&&(e.splice(i,1),e.push(a)),e}},{key:"_getRendererLegendElements",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return ke.asyncToGenerator(n(S).mark((function i(){return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",nm(e,r.view)?Zv(e)?r._constructPointCloudRendererLegendElements(e,t):rm(e)?r._constructDotDensityRendererLegendElements(e):r._constructRendererLegendElements(e,t):(jv.warn("Renderer of type '".concat(e.type,"' not supported!")),[]));case 1:case"end":return n.stop()}}),i)})))()}},{key:"_getPointCloudRendererTitle",value:function(e){return e.legendOptions&&e.legendOptions.title||e.field}},{key:"_constructPointCloudRendererLegendElements",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this,n=t.title,i=[],a=null,o=null;if(Qv(e))a={type:"symbol-table",title:n||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach((function(e){a.infos.unshift({label:e.label||e.minValue+" - "+e.maxValue,value:[e.minValue,e.maxValue],symbol:r._getAppliedCloneSymbol(Bv,e.color)})}));else if(em(e)){var s=e.stops,l=null;if(s.length&&(1===s.length&&(l=s[0].color),!l)){var u=s[0].value,c=s[s.length-1].value;null!=u&&null!=c&&(l=ev(u+(c-u)/2,s))}a={type:"symbol-table",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(Bv,l||Bv.color)}]};var f=Qy(e.stops);o={type:"color-ramp",title:n||this._getPointCloudRendererTitle(e),infos:f,preview:ao(f.map((function(e){return e.color})))}}else tm(e)&&(a={type:"symbol-table",title:n||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos.forEach((function(e){a.infos.push({label:e.label||e.values.join(", "),value:e.values.join(", "),symbol:r._getAppliedCloneSymbol(Bv,e.color)})})));a&&a.infos.length&&i.push(a),o&&o.infos.length&&i.push(o);var p=i.reduce((function(e,t){return e.concat(t.infos)}),[]).filter((function(e){return!!e.symbol})).map((function(t){return r._getSymbolPreview(t,r.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}})}));return(0,R.eachAlways)(p).then((function(){return i}))}},{key:"_getElementInfoForDotDensity",value:function(e,t){var r=e.backgroundColor,n=e.outline,i=e.dotSize,a=this.effectList,o=null==a?void 0:a.effects.map((function(e){return e.toJSON()})),s=(0,wy.effectFunctionsFromJSON)(o),l=i+"-"+t+"-"+r+"-"+(n&&JSON.stringify(n.toJSON()))+"-"+s,u=this._dotDensityUrlCache,c=u.has(l)?u.get(l):io(e,t);u.set(l,c);var f={shape:{type:"image",x:0,y:0,width:c.width,height:c.height,src:c.src},fill:null,stroke:null,offset:[0,0]},p=(0,Iy.renderSymbol)([[f]],[c.width,c.height],{effectView:this.effectList});return{opacity:1,src:c.src,preview:p,width:c.width,height:c.height}}},{key:"_constructDotDensityRendererLegendElements",value:function(e){var t=this,r=e.calculateDotValue(this.view.scale),n=e.legendOptions&&e.legendOptions.unit,i={type:"symbol-table",title:{value:r&&Math.round(r),unit:n||""},infos:[]};return e.attributes.forEach((function(r){var n=t._getElementInfoForDotDensity(e,r.color);n.label=r.label||r.valueExpressionTitle||r.field,i.infos.push(n)})),Promise.resolve([i])}},{key:"_constructRendererLegendElements",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return ke.asyncToGenerator(n(S).mark((function i(){var a,o,s,l,u,c,f,p,d,h,y,v,m,g,b,_,w,x,k,T,E,I,C,O,L,A,M,N,P,F,j,D,U,V,B,H,z,W,G,J,q,X,K,$,Y,Q,ee,te,re,ne,ie,ae,oe;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.title,o=t.sublayer,s=o||r.layer,n.next=3,r._loadRenderer(e);case 3:return l=n.sent,r._hasColorRamp=!1,r._hasOpacityRamp=!1,r._hasSizeRamp=!1,r._scaleDrivenSizeVariable=null,n.next=7,r._getVisualVariableLegendElements(l,s);case 7:if(n.t0=n.sent,n.t0){n.next=10;break}n.t0=[];case 10:if(u=n.t0,c={type:"symbol-table",title:a||r._getRendererTitle(l,s),infos:[]},f=null,p=!1,d=new Set,!zv(l)||r._hasSizeRamp){n.next=21;break}return n.next=17,Gy(l);case 17:h=n.sent,c.infos.push({label:null,symbol:h}),n.next=107;break;case 21:if(!cm(l)){n.next=25;break}y=a,v=fm(l)?"univariate-above-and-below-ramp":"univariate-color-size-ramp",m=u.findIndex((function(e){return"color-ramp"===e.type})),g=-1!==m?u.splice(m,1)[0]:null,b=u.findIndex((function(e){return"size-ramp"===e.type})),_=-1!==b?u.splice(b,1)[0]:null,w=[],g&&(y=g.title,w.push(g)),_&&(y=_.title,w.push(_)),w.length>0&&u.push({type:v,title:y,infos:w}),n.next=107;break;case 25:if(!Yv(l)){n.next=29;break}x=nv(l),u.push({type:"heatmap-ramp",title:a,infos:x,preview:ao(x.map((function(e){return e.color})),{effectList:r.effectList})}),n.next=107;break;case 29:if(!$v(l)){n.next=61;break}if(!(k=l&&l.authoringInfo)||"relationship"!==k.type){n.next=57;break}if(T=k.focus,E=k.numClasses,I=k.field1,C=k.field2,!(E&&I&&C)){n.next=55;break}for(O=[I,C],L=fv(T)||0,A=!0,M=!1,N=void 0,n.prev=37,P=O[Symbol.iterator]();!(A=(F=P.next()).done);A=!0)j=F.value,D=j.field,U=j.normalizationField,V=j.label,B=V||{field:r._getFieldAlias(D,s),normField:U&&r._getFieldAlias(U,s)},(H=pm.clone()).angle=L,c.infos.push({label:B,symbol:H}),d.add(H),L+=90;n.next=45;break;case 41:n.prev=41,n.t1=n.catch(37),M=!0,N=n.t1;case 45:n.prev=45,n.prev=46,A||null==P.return||P.return();case 48:if(n.prev=48,!M){n.next=51;break}throw N;case 51:return n.finish(48);case 52:return n.finish(45);case 53:z=cv({focus:T,numClasses:E,infos:l.uniqueValueInfos}),u.unshift(z);case 55:n.next=58;break;case 57:W=l.field,l.uniqueValueInfos.forEach((function(e){e.symbol&&c.infos.push({label:e.label||r._getDomainName(W,e.value,s)||e.value,value:e.value,symbol:e.symbol})}));case 58:l.defaultSymbol&&(c.infos.push({label:l.defaultLabel||"others",symbol:l.defaultSymbol}),p=!0),n.next=107;break;case 61:if(!Kv(l)){n.next=65;break}(!(f=r._isUnclassedRenderer(l))||!r._hasSizeRamp)&&(l.classBreakInfos.forEach((function(e){e.symbol&&c.infos.unshift({label:e.label||(f?null:e.minValue+" - "+e.maxValue),value:[e.minValue,e.maxValue],symbol:e.symbol})})),f&&(c.title=null),r._updateInfosforClassedSizeRenderer(l,c.infos)),l.defaultSymbol&&!f&&(c.infos.push({label:l.defaultLabel||"others",symbol:l.defaultSymbol}),p=!0),n.next=107;break;case 65:if(!Jv(l)){n.next=89;break}if(!sm(r.layer)&&!lm(r.layer)){n.next=70;break}um(G=r._constructTileImageryStretchRendererElements(l))?u.push(G):c.infos=G,n.next=87;break;case 70:if(J=r.layer,l.statistics&&l.statistics.length&&(q=null!=l.statistics[0].min?l.statistics[0].min:l.statistics[0][0],X=null!=l.statistics[0].max?l.statistics[0].max:l.statistics[0][1]),K=[],n.t2=Z.unwrap,!J.renderingRule){n.next=81;break}return n.next=78,J.generateRasterInfo(J.renderingRule);case 78:n.t3=n.sent,n.next=82;break;case 81:n.t3=J.serviceRasterInfo;case 82:n.t4=n.t3,$=(0,n.t2)(n.t4),Y=$.keyProperties.BandProperties,Q=Vv[J.rasterInfo.pixelType.toLowerCase()],1===$.bandCount||J.bandIds&&1===J.bandIds.length?(q=null!=q?q:$.statistics?$.statistics[J.bandIds[0]].min:Q[0],X=null!=X?X:$.statistics?$.statistics[J.bandIds[0]].max:Q[1],q||X?u.push(r._getStretchLegendElements(l,{min:q,max:X})):r._getServerSideLegend()):$.bandCount>=3?Y&&Y.length>=$.bandCount?J.bandIds&&3===J.bandIds.length?(K=J.bandIds.map((function(e){return Y[e].BandName})),c.infos=r._createSymbolTableElementMultiBand(K)):"lerc"===J.format?(K=[0,1,2].map((function(e){return Y[e].BandName})),c.infos=r._createSymbolTableElementMultiBand(K)):r._getServerSideLegend():"lerc"===J.format?(K=["band1","band2","band3"],c.infos=r._createSymbolTableElementMultiBand(K)):r._getServerSideLegend():r._getServerSideLegend();case 87:n.next=107;break;case 89:if(!Gv(l)){n.next=93;break}l.colormapInfos.forEach((function(e){c.infos.push({label:e.label,value:e.value,symbol:r._getAppliedCloneSymbol(Hv,e.color)})})),n.next=107;break;case 93:if(!Xv(l)){n.next=106;break}ee=l.symbol,n.t5=t.geometryType,n.next="point"===n.t5?98:"polyline"===n.t5?100:"polygon"===n.t5?102:103;break;case 98:return ee="pointSymbol"in s&&s.pointSymbol,n.abrupt("break",103);case 100:return ee="lineSymbol"in s&&s.lineSymbol,n.abrupt("break",103);case 102:ee="polygonSymbol"in s&&s.polygonSymbol;case 103:l.symbol&&!r._hasSizeRamp&&c.infos.push({label:l.label,symbol:ee}),n.next=107;break;case 106:Wv(l)?(l.outputUnit&&(r.title="("+l.toJSON().outputUnit+")"),c.title=l.attributeField,null!=(te=l.getClassBreakInfos())&&te.length?te.forEach((function(e){c.infos.push({label:e.minValue+" - "+e.maxValue,symbol:e.symbol})})):c.infos.push({label:l.attributeField,symbol:l.getDefaultSymbol()})):qv(l)&&u.push(r._getStretchLegendElements(l,{min:0,max:255}));case 107:return!(re=l.defaultSymbol)||p||Xv(l)||f&&!r._hasColorRamp&&!r._hasSizeRamp&&!r._hasOpacityRamp||u.push({type:"symbol-table",infos:[{label:l.defaultLabel||"others",symbol:re}]}),c.infos.length&&u.unshift(c),ne=null==t.opacity?r.opacity:t.opacity,ie=r._isTallSymbol("visualVariables"in l&&l.visualVariables),ae=om(r.layer)||sm(r.layer),oe=u.reduce((function(e,t){return e.concat(r._getAllInfos(t))}),[]).filter((function(e){return!(null==e||!e.symbol)})).map((function(e){return r._getSymbolPreview(e,ne,{isDefault:e.symbol===re,applyScaleDrivenSize:!d.has(e.symbol),symbolConfig:{isTall:ie,isSquareFill:ae},effectList:d.has(e.symbol)?null:r.effectList})})),l=null,n.next=113,(0,R.eachAlways)(oe);case 113:return n.abrupt("return",(n.sent,u));case 114:case"end":return n.stop()}}),i,null,[[37,41,45,53],[46,,48,52]])})))()}},{key:"_getServerSideLegend",value:function(){var e=this;setTimeout((function(){return e.buildLegendElementsForTools()}),0)}},{key:"_getAllInfos",value:function(e){var t=this,r=null==e?void 0:e.infos;return r?r.reduce((function(e,r){return e.concat(t._getAllInfos(r))}),[]):[e]}},{key:"_constructTileImageryStretchRendererElements",value:function(e){var t,r,n,i,a,o=this.layer,s=o.rasterInfo,l=s.bandCount||e.statistics.length,u=s.keyProperties&&s.keyProperties.BandProperties,c=null!=e&&null!=(t=e.statistics)&&t.length?e.statistics:null==s?void 0:s.statistics;if(c)n=void 0!==c[0].min?c[0].min:c[0][0],i=c[0].max||c[0][1];else{var f=Vv[o.rasterInfo.pixelType.toLowerCase()];n=f[0],i=f[1]}if(o.hasStandardTime()&&(n=o.getStandardTimeValue(n),i=o.getStandardTimeValue(i)),1===s.bandCount||1===(null==(r=o.bandIds)?void 0:r.length))return this._getStretchLegendElements(e,{min:n,max:i});function p(e){var t,r=(null!=o&&null!=(t=o.bandIds)&&t.length?o.bandIds:Array.from(Array(Math.min(s.bandCount,3)).keys())).map((function(t){return e&&e[t]&&e[t].BandName||"band"+(t+1)}));return r.length<3?r.push(r[1]):r.length>3&&r.splice(3),r}return a=u&&u.length>=l?p(u):p(),this._createSymbolTableElementMultiBand(a)}},{key:"_getStretchLegendElements",value:function(e,t){var r=tv(e.colorRamp,t);return{type:"stretch-ramp",title:"",infos:r,preview:ao(r.map((function(e){return e.color})))}}},{key:"_getSizeLegendElement",value:function(e,t,r,i){var a=this;return ke.asyncToGenerator(n(S).mark((function o(){return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=a._hasClusterSizeVariable?a._getClusterTitle(t):e,n.t1=mv,n.t2=r,n.t3=t,n.next=6,zy(r);case 6:return n.t4=n.sent,n.t5=a.scale,n.t6=a.view.type,n.t7=i,n.next=12,(0,n.t1)(n.t2,n.t3,n.t4,n.t5,n.t6,n.t7);case 12:return n.t8=n.sent,n.abrupt("return",{type:"size-ramp",title:n.t0,infos:n.t8});case 14:case"end":return n.stop()}}),o)})))()}},{key:"_createSymbolTableElementMultiBand",value:function(e){var t=[],r=["red","green","blue"];return e.forEach((function(e,n){t.push({label:{colorName:r[n],bandName:e},src:Hy[n],opacity:1})})),t}},{key:"_updateInfosforClassedSizeRenderer",value:function(e,t){var r=e.authoringInfo&&"class-breaks-size"===e.authoringInfo.type,n=e.classBreakInfos.some((function(e){return(0,to.isVolumetricSymbol)(e.symbol)}));if(r&&n){var i=e.classBreakInfos.length,a=18/(i>1?i-1:i);t.forEach((function(e,t){e.size=30-a*t}))}}},{key:"_isTallSymbol",value:function(e){var t=!1,r=!1;if(e)for(var n=0;n<e.length&&(!t||!r);n++){var i=e[n];"size"===i.type&&("height"===i.axis&&(t=!0),"width-and-depth"===i.axis&&(r=!0))}return t&&r}},{key:"_getSymbolPreview",value:function(e,t,r){var i=this;return ke.asyncToGenerator(n(S).mark((function a(){var o,l,u;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=null!=r&&r.isDefault||null!=e.size||!i._hasSizeRamp?e.size:(0,Le.px2pt)(eo.SymbolSizeDefaults.size),!i._scaleDrivenSizeVariable||null==r||!r.applyScaleDrivenSize){n.next=7;break}return n.next=4,s("kdZ8m");case 4:l=n.sent,u=l.getSize,o=u(i._scaleDrivenSizeVariable,null,{view:i.view.type,scale:i.scale,shape:"simple-marker"===e.symbol.type?e.symbol.style:null});case 7:return n.abrupt("return",so(e.symbol,{size:o,opacity:t,scale:!1,symbolConfig:null==r?void 0:r.symbolConfig,effectView:null==r?void 0:r.effectList}).then((function(t){return e.preview=t,e})).catch((function(){return e.preview=null,e})));case 8:case"end":return n.stop()}}),a)})))()}},{key:"_loadRenderer",value:function(e){var t=this;return ke.asyncToGenerator(n(S).mark((function r(){var i,a,o,s,l,u,c,f,p,d,h,y,v;return n(S).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=[],s=t.layer,e=e.clone(),t._hasClusterSizeVariable=!1,l="visualVariables"in e&&(null==(i=e.visualVariables)?void 0:i.some((function(e){return"size"===e.type&&"outline"!==e.target&&!Dv.test(e.valueExpression)}))),e&&"visualVariables"in e&&!l&&"featureReduction"in s&&"cluster"===(null==(a=s.featureReduction)?void 0:a.type)&&(u=t.layerView._effectiveRenderer,(c=(0,Z.unwrap)(Oy(u,t.view)))&&("clusterMinSize"in(f=s.featureReduction)&&"clusterMaxSize"in f&&(p=f.clusterMinSize,d=f.clusterMaxSize,c.legendOptions=new(0,Ty.default)({showLegend:p!==d})),h=e.visualVariables||[],e.visualVariables=h.concat([c]),t._hasClusterSizeVariable=!0)),r.next=7,zy(e);case 7:return y=r.sent,(Kv(e)||$v(e))&&(v=(e.classBreakInfos||e.uniqueValueInfos).map((function(e){return t._fetchSymbol(e.symbol,y).then((function(t){e.symbol=t})).catch((function(){e.symbol=null}))})),Array.prototype.push.apply(o,v)),r.abrupt("return",(o.push(t._fetchSymbol(e.symbol||e.defaultSymbol,e.defaultSymbol?null:y).then((function(r){t._applySymbolToRenderer(e,r,Xv(e))})).catch((function(){t._applySymbolToRenderer(e,null,Xv(e))}))),(0,R.eachAlways)(o).then((function(){return e}))));case 10:case"end":return r.stop()}}),r)})))()}},{key:"_applySymbolToRenderer",value:function(e,t,r){r?e.symbol=t:e.defaultSymbol=t}},{key:"_fetchSymbol",value:function(e,t){if(!e)return Promise.reject();if("web-style"===e.type){var r=this,n=e.portal,i=n&&n.url,a=n&&n.user&&n.user.username,o=e.name+"-"+e.styleName+"-"+e.styleUrl+"-"+i+"-"+a,s=this._webStyleSymbolCache;return s.has(o)||("2d"===this.view.type?s.set(o,e.fetchCIMSymbol()):s.set(o,e.fetchSymbol())),s.get(o).then((function(e){return r._getAppliedCloneSymbol(e,t)})).catch((function(){return jv.warn("Fetching web-style failed!"),Promise.reject()}))}return Promise.resolve(this._getAppliedCloneSymbol(e,t))}},{key:"_getAppliedCloneSymbol",value:function(e,t){if(!e||!t)return e;var r=e.clone(),n=t&&t.toRgba();return r.type.indexOf("3d")>-1?this._applyColorTo3dSymbol(r,n):"cim"===r.type?(0,Ey.applyCIMSymbolColor)(r,t):r.color&&(r.color=new(0,k.default)(n||r.color)),r}},{key:"_applyColorTo3dSymbol",value:function(e,t){t&&e.symbolLayers.forEach((function(e){e&&(e.material||(e.material={}),e.material.color=new(0,k.default)(t))}))}},{key:"_getVisualVariableLegendElements",value:function(e,t){var r=this;return ke.asyncToGenerator(n(S).mark((function i(){var a,o,s,l,u,c,f,p,d,h,y,v,m,g,b,_;return n(S).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if("visualVariables"in e&&e.visualVariables&&"vector-field"!==e.type){i.next=2;break}return i.abrupt("return",null);case 2:for(a=e.visualVariables,o=[],s=[],l=[],u=!0,c=!1,f=void 0,i.prev=4,p=a[Symbol.iterator]();!(u=(d=p.next()).done);u=!0)"color"===(h=d.value).type?o.push(h):"size"===h.type?s.push(h):"opacity"===h.type&&l.push(h);i.next=12;break;case 8:i.prev=8,i.t0=i.catch(4),c=!0,f=i.t0;case 12:i.prev=12,i.prev=13,u||null==p.return||p.return();case 15:if(i.prev=15,!c){i.next=18;break}throw f;case 18:return i.finish(15);case 19:return i.finish(12);case 20:return y=ke.toConsumableArray(o).concat(ke.toConsumableArray(s),ke.toConsumableArray(l)),0===o.length&&Kv(e)&&e.classBreakInfos&&1===e.classBreakInfos.length&&(g=e.classBreakInfos[0],v=g&&g.symbol),0===o.length&&Xv(e)&&(v=e.symbol),v&&(v.type.indexOf("3d")>-1?"water"===(b=v.symbolLayers.getItemAt(0)).type?(0,Z.isSome)(b.color)&&(m=b.color):(0,Z.isSome)(b.material)&&(0,Z.isSome)(b.material.color)&&(m=b.material.color):v.url||(m=v.color)),_=r.effectList,i.next=27,Promise.all(y.map(function(){var i=ke.asyncToGenerator(n(S).mark((function i(a){var o,s,l,u,c,f;return n(S).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.legendOptions&&!1===a.legendOptions.showLegend){n.next=28;break}if(o=zv(e)?a.field:r._getRampTitle(a,t),s=null,l="getField"in t&&t.getField&&t.getField(a.field),u=l&&(0,dt.isDateField)(l),"color"!==a.type){n.next=11;break}return n.next=7,Ky(a,null,u);case 7:c=n.sent,s={type:"color-ramp",title:o,infos:c,preview:ao(c.map((function(e){return e.color})),{effectList:_})},r._hasColorRamp||(r._hasColorRamp=!(null==s.infos||!s.infos.length)),n.next=27;break;case 11:if("size"!==a.type||"outline"===a.target){n.next=22;break}if(!Dv.test(a.valueExpression)){n.next=16;break}r._hasClusterSizeVariable||(r._scaleDrivenSizeVariable=a),n.next=20;break;case 16:return n.next=18,r._getSizeLegendElement(o,a,e,u);case 18:s=n.sent,r._hasSizeRamp||(r._hasSizeRamp=!(null==s.infos||!s.infos.length));case 20:n.next=27;break;case 22:if("opacity"!==a.type){n.next=27;break}return n.next=25,Ky(a,m,u);case 25:f=n.sent,s={type:"opacity-ramp",title:o,infos:f,preview:ao(f.map((function(e){return e.color})),{effectList:_})},r._hasOpacityRamp||(r._hasOpacityRamp=!(null==s.infos||!s.infos.length));case 27:return n.abrupt("return",s&&s.infos?s:null);case 28:case"end":return n.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()));case 27:return i.abrupt("return",i.sent.filter((function(e){return!!e})));case 28:case"end":return i.stop()}}),i,null,[[4,8,12,20],[13,,15,19]])})))()}},{key:"_getDomainName",value:function(e,t,r){if(e&&"function"!=typeof e){var n="getField"in r&&r.getField&&r.getField(e),i=n&&"getFieldDomain"in r&&r.getFieldDomain?r.getFieldDomain(n.name):null;return i&&"coded-value"===i.type?i.getName(t):null}return null}},{key:"_getClusterTitle",value:function(e){var t=this.layer,r=e.field;if("featureReduction"in t&&t.featureReduction&&"cluster"===t.featureReduction.type){var n=t.featureReduction,i="popupTemplate"in n&&n.popupTemplate,a=i&&i.fieldInfos;if(a){var o=!0,s=!1,l=void 0;try{for(var u,c=a[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;if(f.fieldName===r)return"cluster_count"===r?f.label||{showCount:!0}:f.label}}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}}}return{showCount:!0}}},{key:"_getRampTitle",value:function(e,t){var r=e.field,n=e.normalizationField,i=!1,a=!1,o=!1,s=null;r="function"==typeof r?null:r,n="function"==typeof n?null:n;var l=e.legendOptions&&e.legendOptions.title;if(null!=l)s=l;else if(e.valueExpressionTitle)s=e.valueExpressionTitle;else{if("renderer"in t&&t.renderer&&"authoringInfo"in t.renderer&&t.renderer.authoringInfo&&t.renderer.authoringInfo.visualVariables)for(var u=t.renderer.authoringInfo.visualVariables,c=0;c<u.length;c++){var f=u[c];if("color"===f.type){if("ratio"===f.style){i=!0;break}if("percent"===f.style){a=!0;break}if("percent-of-total"===f.style){o=!0;break}}}s={field:r&&this._getFieldAlias(r,t),normField:n&&this._getFieldAlias(n,t),ratio:i,ratioPercent:a,ratioPercentTotal:o}}return s}},{key:"_getRendererTitle",value:function(e,t){var r=e;if(r.legendOptions&&r.legendOptions.title)return r.legendOptions.title;if(r.valueExpressionTitle)return r.valueExpressionTitle;var n=r.field,i=null,a=null;Kv(r)&&(i=r.normalizationField,a="percent-of-total"===r.normalizationType),i="function"==typeof i?null:i;var o=null;return((n="function"==typeof n?null:n)||i)&&(o={field:n&&this._getFieldAlias(n,t),normField:i&&this._getFieldAlias(i,t),normByPct:a}),o}},{key:"_getFieldAlias",value:function(e,t){var r="popupTemplate"in t&&t.popupTemplate,n=r&&r.fieldInfos,i=null;n&&n.some((function(t){return e===t.fieldName&&(i=t,!0)}));var a=null;"getField"in t&&t.getField?a=t.getField(e):"fieldsIndex"in t&&t.fieldsIndex&&(a=t.fieldsIndex.get(e));var o=i||a,s=null;return o&&(s=i&&i.label||a&&a.alias||"name"in o&&o.name||"fieldName"in o&&o.fieldName),s}},{key:"_isUnclassedRenderer",value:function(e){var t=e.visualVariables,r=!1;return Kv(e)&&e.classBreakInfos&&1===e.classBreakInfos.length&&t&&(r=e.field?t.some((function(t){return!(!t||e.field!==t.field||(e.normalizationField||t.normalizationField)&&e.normalizationField!==t.normalizationField)})):!!t.length),r}}]),r}(X.default);(0,v._)([(0,P.property)()],hm.prototype,"children",void 0),(0,v._)([(0,P.property)({readOnly:!0})],hm.prototype,"effectList",null),(0,v._)([(0,P.property)()],hm.prototype,"layerView",void 0),(0,v._)([(0,P.property)()],hm.prototype,"layer",void 0),(0,v._)([(0,P.property)()],hm.prototype,"legendElements",void 0),(0,v._)([(0,P.property)({readOnly:!0})],hm.prototype,"opacity",null),(0,v._)([(0,P.property)()],hm.prototype,"parent",void 0),(0,v._)([(0,P.property)({readOnly:!0,dependsOn:[]})],hm.prototype,"ready",null),(0,v._)([(0,P.property)()],hm.prototype,"hideLayersNotInCurrentView",void 0),(0,v._)([(0,P.property)()],hm.prototype,"keepCacheOnDestroy",void 0),(0,v._)([(0,P.property)()],hm.prototype,"respectLayerVisibility",void 0),(0,v._)([(0,P.property)({readOnly:!0})],hm.prototype,"scale",null),(0,v._)([(0,P.property)()],hm.prototype,"sublayerIds",void 0),(0,v._)([(0,P.property)({readOnly:!0})],hm.prototype,"isScaleDriven",null),(0,v._)([(0,P.property)()],hm.prototype,"title",void 0),(0,v._)([(0,P.property)({readOnly:!0,dependsOn:["ready"],value:0})],hm.prototype,"version",null),(0,v._)([(0,P.property)()],hm.prototype,"view",void 0);var ym=hm=(0,v._)([(0,j.subclass)("esri.widgets.Legend.support.ActiveLayerInfo")],hm),vm=(mi=s("86CDN"),"state"),mm="view",gm="all-layer-views",bm="legend-properties",_m=T.default.ofType(ym),wm=["esri.layers.BuildingSceneLayer","esri.layers.CSVLayer","esri.layers.FeatureLayer","esri.layers.GeoJSONLayer","esri.layers.GeoRSSLayer","esri.layers.GroupLayer","esri.layers.HeatmapLayer","esri.layers.ImageryLayer","esri.layers.ImageryTileLayer","esri.layers.MapImageLayer","esri.layers.OGCFeatureLayer","esri.layers.PointCloudLayer","esri.layers.StreamLayer","esri.layers.SceneLayer","esri.layers.TileLayer","esri.layers.VoxelLayer","esri.layers.WFSLayer","esri.layers.WMSLayer","esri.layers.WMTSLayer","esri.layers.WCSLayer"],xm="view.basemapView.baseLayerViews",Sm="view.groundView.layerViews",km="view.basemapView.referenceLayerViews",Tm=[xm,Sm,"view.layerViews",km],Em=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._handles=new(0,Ve.default),n._layerViewByLayerId={},n._layerInfosByLayerViewId={},n._activeLayerInfosByLayerViewId={},n._activeLayerInfosWithNoParent=new(0,T.default),n.activeLayerInfos=new _m,n.basemapLegendVisible=!1,n.groundLegendVisible=!1,n.hideLayersNotInCurrentView=!1,n.keepCacheOnDestroy=!1,n.respectLayerVisibility=!0,n.layerInfos=[],n.view=null,h.default(n)}return y.default(r,[{key:"initialize",value:function(){var e=this;this._handles.add((0,Qe.init)(this,"view",this._viewHandles),mm),this._handles.add((0,mi.onLocaleChange)((function(){return e._refresh()})))}},{key:"destroy",value:function(){this._destroyViewActiveLayerInfos(),this._handles.destroy(),this._handles=null,this.view=null}},{key:"state",get:function(){return this.get("view.ready")?"ready":"disabled"}},{key:"_viewHandles",value:function(){this._handles.remove(vm),this.view&&this._handles.add((0,Qe.init)(this,"state",this._stateHandles),vm)}},{key:"_stateHandles",value:function(){this._resetAll(),"ready"===this.state&&this._watchPropertiesAndAllLayerViews()}},{key:"_resetAll",value:function(){this._handles.remove([gm,bm]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}},{key:"_destroyViewActiveLayerInfos",value:function(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}},{key:"_destroyViewActiveLayerInfo",value:function(e){this._handles.remove(e);var t=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],t&&t.parent&&t.parent.children.remove(t)}},{key:"_watchPropertiesAndAllLayerViews",value:function(){var e=this.view.allLayerViews;e.length&&this._refresh(),this._handles.add(e.on("change",this._allLayerViewsChangeHandle.bind(this)),gm),this._handles.add((0,Qe.watch)(this,"layerInfos, basemapLegendVisible, groundLegendVisible",this._propertiesChangeHandle.bind(this)),bm)}},{key:"_allLayerViewsChangeHandle",value:function(e){var t=this;e.removed.forEach((function(e){return t._destroyViewActiveLayerInfo(e.uid)})),this._refresh()}},{key:"_propertiesChangeHandle",value:function(){this._destroyViewActiveLayerInfos(),this._refresh()}},{key:"_refresh",value:function(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}},{key:"_sortActiveLayerInfos",value:function(e){var t=this;if(!(e.length<2)){var r=[];e.forEach((function(n){if(!n.parent){var i=n.layer.parent,a=i&&"uid"in i&&t._layerViewByLayerId[i.uid],o=a&&t._activeLayerInfosByLayerViewId[a.uid];o&&-1!==e.indexOf(o)&&(r.push(n),n.parent=o,o.children.add(n),t._sortActiveLayerInfos(o.children))}})),e.removeMany(r);var n={};this.view.allLayerViews.forEach((function(e,t){return n[e.layer.uid]=t})),e.sort((function(e,t){var r=n[e.layer.uid]||0;return(n[t.layer.uid]||0)-r}))}}},{key:"_generateLayerViews",value:function(){var e=[];return Tm.filter(this._filterLayerViews,this).map(this.get,this).filter((function(e){return null!=e})).forEach(this._collectLayerViews("layerViews",e)),e}},{key:"_filterLayerViews",value:function(e){var t=!this.basemapLegendVisible&&(e===xm||e===km),r=!this.groundLegendVisible&&e===Sm;return!t&&!r}},{key:"_collectLayerViews",value:function(e,t){var r=function(n){return n&&n.forEach((function(n){t.push(n),r(n[e])})),t};return r}},{key:"_filterLayerViewsByLayerInfos",value:function(e){var t=this,r=this.layerInfos;return!r||!r.length||r.some((function(r){return t._hasLayerInfo(r,e)}))}},{key:"_hasLayerInfo",value:function(e,t){var r=this._isLayerUIDMatching(e.layer,t.layer.uid);return r&&(this._layerInfosByLayerViewId[t.uid]=e),r}},{key:"_isLayerUIDMatching",value:function(e,t){return e&&(e.uid===t||this._hasLayerUID(e.layers,t))}},{key:"_hasLayerUID",value:function(e,t){var r=this;return e&&e.some((function(e){return r._isLayerUIDMatching(e,t)}))}},{key:"_isLayerViewSupported",value:function(e){return!!wm.includes(e.layer.declaredClass)&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}},{key:"_generateActiveLayerInfo",value:function(e){var t=this;this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this._handles.remove(e.uid),this._handles.add((0,Qe.watch)(e,"legendEnabled, layer.legendEnabled",(function(){return t._layerActiveHandle(e)})),e.uid))}},{key:"_layerActiveHandle",value:function(e){this._isLayerActive(e)&&(this._handles.remove(e.uid),this._buildActiveLayerInfo(e))}},{key:"_isLayerActive",value:function(e){return!this.respectLayerVisibility||e.legendEnabled&&e.get("layer.legendEnabled")}},{key:"_buildActiveLayerInfo",value:function(e){var t,r=e.layer,n=e.uid,i=this._layerInfosByLayerViewId[n],a=this._activeLayerInfosByLayerViewId[n];if(!a){var o=i&&void 0!==i.title&&i.layer.uid===r.uid;a=new ym({layer:r,layerView:e,title:o?i.title:r.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:i&&i.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[n]=a}var s=r.parent&&"uid"in r.parent&&this._layerViewByLayerId[null==(t=r.parent)?void 0:t.uid];if(a.parent=this._activeLayerInfosByLayerViewId[null==s?void 0:s.uid],!this._handles.has(n)){var l=this,u=[(0,Qe.watch)(r,"title",(function(e){return l._titleHandle(e,a)})),(0,Qe.watch)(r,"renderer?, opacity, pointSymbol?, lineSymbol?, polygonSymbol?",(function(){return l._constructLegendElements(a)})),(0,Qe.whenTrue)(this.view,"stationary",(function(){return l._scaleHandle(a)})),(0,Qe.watch)(e,"_effectiveRenderer",(function(){return l._constructLegendElements(a)})),(0,Qe.watch)(r,"effect",(function(){return l._constructLegendElements(a)}))];if(this.respectLayerVisibility){var c=this,f=(0,Qe.watch)(e,"legendEnabled",(function(e){return c._legendEnabledHandle(e,a)})),p=(0,Qe.watch)(r,"legendEnabled",(function(e){return c._legendEnabledHandle(e,a)}));u.push(f,p)}this._handles.add(u,n)}a.isScaleDriven||this._constructLegendElements(a),this._addActiveLayerInfo(a)}},{key:"_titleHandle",value:function(e,t){t.title=e,this._constructLegendElements(t)}},{key:"_legendEnabledHandle",value:function(e,t){e?this._addActiveLayerInfo(t):this._removeActiveLayerInfo(t)}},{key:"_scaleHandle",value:function(e){(e.isScaleDriven||e.hideLayersNotInCurrentView)&&this._constructLegendElements(e)}},{key:"_addActiveLayerInfo",value:function(e){var t=e.layerView,r=e.layer;if(this._isLayerActive(t)&&-1===this.activeLayerInfos.indexOf(e)){var n=e.parent;if(n)-1===n.children.indexOf(e)&&n.children.push(e),this._sortActiveLayerInfos(n.children);else{var i,a=null==(i=this.layerInfos)?void 0:i.some((function(e){return e.layer.uid===r.uid}));r.parent&&"uid"in r.parent&&!a?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){var o=this,s=[];this._activeLayerInfosWithNoParent.forEach((function(e){var t=e.layer.parent,r=t&&"uid"in t&&o._layerViewByLayerId[null==t?void 0:t.uid],n=o._activeLayerInfosByLayerViewId[null==r?void 0:r.uid];n&&(s.push(e),e.parent=n)})),s.length&&(this._activeLayerInfosWithNoParent.removeMany(s),s.forEach((function(e){return o._addActiveLayerInfo(e)})))}}}},{key:"_removeActiveLayerInfo",value:function(e){var t=e.parent;t?t.children.remove(e):this.activeLayerInfos.remove(e)}},{key:"_constructLegendElements",value:function(e){var t=this,r=e.layer;"featureCollections"in r&&r.featureCollections?e.buildLegendElementsForFeatureCollections(r.featureCollections):"renderer"in r&&r.renderer?e.buildLegendElementsForRenderer(r.renderer):"url"in r&&r.url?e.buildLegendElementsForTools():e.children.forEach((function(e){return t._constructLegendElements(e)}))}}]),r}(X.default);(0,v._)([(0,P.property)({type:_m})],Em.prototype,"activeLayerInfos",void 0),(0,v._)([(0,P.property)()],Em.prototype,"basemapLegendVisible",void 0),(0,v._)([(0,P.property)()],Em.prototype,"groundLegendVisible",void 0),(0,v._)([(0,P.property)()],Em.prototype,"hideLayersNotInCurrentView",void 0),(0,v._)([(0,P.property)()],Em.prototype,"keepCacheOnDestroy",void 0),(0,v._)([(0,P.property)()],Em.prototype,"respectLayerVisibility",void 0),(0,v._)([(0,P.property)()],Em.prototype,"layerInfos",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Em.prototype,"state",null),(0,v._)([(0,P.property)()],Em.prototype,"view",void 0);var Im=Em=(0,v._)([(0,j.subclass)("esri.widgets.Legend.LegendViewModel")],Em);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),$e=s("aNiFM"),v=s("7eJjO");s("4M5RN");Ve=s("qhgF7"),Le=s("iXlXu"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var Cm=s("iPUyc");to=s("8NoYK"),tt=s("kXohW"),Cm=s("iPUyc"),to=s("8NoYK"),cr=s("6zpox");s("2VlWd"),s("jHOLN");pr=s("yibdR");var Om="http://www.w3.org/2000/svg",Lm="esri-relationship-ramp--diamond__container",Am="esri-relationship-ramp--diamond__left-column",Mm="esri-relationship-ramp--diamond__right-column",Nm="esri-relationship-ramp--diamond__middle-column",Rm="esri-relationship-ramp--diamond__middle-column--label",Pm="esri-relationship-ramp--diamond__middle-column--ramp",Fm="esri-relationship-ramp--square__table",jm="esri-relationship-ramp--square__table-row",Dm="esri-relationship-ramp--square__table-cell",Um="esri-relationship-ramp--square__table-label",Vm="esri-relationship-ramp--square__table-label--left-bottom",Bm="esri-relationship-ramp--square__table-label--right-bottom",Hm="esri-relationship-ramp--square__table-label--left-top",zm="esri-relationship-ramp--square__table-label--right-top";function Wm(e,t,r,n){var i=e.focus,a=e.labels,o=!!i,s=function(e,t,r,n){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:60,a=e.focus,o=e.numClasses,s=e.colors,l=e.rotation,u=!!a,c=Math.sqrt(Math.pow(i,2)+Math.pow(i,2))+(u?0:5),f=[],p=[],d=[],h=(i||75)/o,y=0;y<o;y++)for(var v=y*h,m=0;m<o;m++){var g=m*h,b=(0,Cm.generateFillAttributes)(s[y][m]),_=(0,Cm.generateStrokeAttributes)(null),w={type:"rect",x:g,y:v,width:h,height:h};f.push((0,Cm.renderDef)(b)),p.push((0,Cm.renderShape)(w,b.fill,_,null)),d.push((0,Cm.getBoundingBox)(w))}var x=10,S=15,k=15,T=10,E=null;u||(E="margin: -15px -15px -18px -15px");var I=Gm("left",a,t),C=Gm("right",a,t),O=(0,Cm.computeBBox)(d),L=(0,Cm.getTransformMatrix)(O,c,c,0,!1,l,!1),A=(0,Cm.getTransformMatrix)(O,c,c,0,!1,u?-45:null,!1),M={filter:(0,to.getCSSFilterFromEffectList)(n),opacity:null==r?null:"".concat(r)};return(0,pr.tsx)("div",{styles:M,class:u?Pm:Dm},(0,pr.tsx)("svg",{xmlns:Om,width:c,height:c,style:E},(0,pr.tsx)("defs",null,(0,pr.tsx)("marker",{id:"".concat(t,"_arrowStart"),markerWidth:"10",markerHeight:"10",refX:"5",refY:"5",markerUnits:"strokeWidth",orient:"auto"},(0,pr.tsx)("polyline",{points:"0,0 5,5 0,10",fill:"none",stroke:"#555555","stroke-width":"1"})),(0,pr.tsx)("marker",{id:"".concat(t,"_arrowEnd"),markerWidth:"10",markerHeight:"10",refX:"0",refY:"5",markerUnits:"strokeWidth",orient:"auto"},(0,pr.tsx)("polyline",{points:"5,0 0,5 5,10",fill:"none",stroke:"#555555","stroke-width":"1"})),f),(0,pr.tsx)("g",{transform:L},p),(0,pr.tsx)("g",{transform:A},(0,pr.tsx)("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":I.markerStart,"marker-end":I.markerEnd,x1:-x,y1:i-S,x2:-x,y2:S}),(0,pr.tsx)("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":C.markerStart,"marker-end":C.markerEnd,x1:k,y1:i+T,x2:i-k,y2:i+T}))))}(e,t,r,n),l=(0,cr.isRTL)();return o?(0,pr.tsx)("div",{class:Lm,styles:{justifyContent:"center"}},(0,pr.tsx)("div",{class:Am},l?a.right:a.left),(0,pr.tsx)("div",{class:Nm},(0,pr.tsx)("div",{class:Rm},a.top),s,(0,pr.tsx)("div",{class:Rm},a.bottom)),(0,pr.tsx)("div",{class:Mm},l?a.left:a.right)):(0,pr.tsx)("div",{class:Fm},(0,pr.tsx)("div",{class:jm},(0,pr.tsx)("div",{class:(0,cr.classes)(Dm,Um,Bm)},l?a.top:a.left),(0,pr.tsx)("div",{class:Dm}),(0,pr.tsx)("div",{class:(0,cr.classes)(Dm,Um,Vm)},l?a.left:a.top)),(0,pr.tsx)("div",{class:jm},(0,pr.tsx)("div",{class:Dm}),s,(0,pr.tsx)("div",{class:Dm})),(0,pr.tsx)("div",{class:jm},(0,pr.tsx)("div",{class:(0,cr.classes)(Dm,Um,zm)},l?a.right:a.bottom),(0,pr.tsx)("div",{class:Dm}),(0,pr.tsx)("div",{class:(0,cr.classes)(Dm,Um,Hm)},l?a.bottom:a.right)))}function Gm(e,t,r){var n="".concat(r,"_arrowStart"),i="".concat(r,"_arrowEnd"),a="left"===e,o={markerStart:null,markerEnd:null};switch(t){case"HL":a?o.markerStart="url(#".concat(i,")"):o.markerEnd="url(#".concat(n,")");break;case"LL":o.markerStart="url(#".concat(i,")");break;case"LH":a?o.markerEnd="url(#".concat(n,")"):o.markerStart="url(#".concat(i,")");break;default:o.markerEnd="url(#".concat(n,")")}return o}s("8TSCy");b=s("ifq4M"),De=s("5Vgx8"),Le=s("iXlXu");s("axJY9");Je=s("lvmVw");s("6zpox"),s("2VlWd"),s("jHOLN");pr=s("yibdR");var Jm=(0,Je.createProjector)(),qm=20,Xm=10,Km=20,$m="esri-univariate-above-and-below-ramp__symbol",Ym="esri-legend__color-ramp";function Zm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vertical",t="stroke:rgb(200, 200, 200);stroke-width:1";return"vertical"===e?(0,pr.tsx)("svg",{height:"4",width:"10"},(0,pr.tsx)("line",{x1:"0",y1:"2",x2:"10",y2:"2",style:t})):(0,pr.tsx)("svg",{height:"10",width:"10"},(0,pr.tsx)("line",{x1:"5",y1:"0",x2:"5",y2:"10",style:t}))}function Qm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"vertical",r=document.createElement("div");return r.style.height="".concat(qm,"px"),r.className=$m,null!=e&&(r.style.opacity=e.toString()),Jm.append(r,Zm.bind(null,t)),r}function eg(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vertical",n=arguments.length>3?arguments[3]:void 0;e.infos.forEach((function(e,i){if(n&&2===i)e.preview=Qm(t,r);else{var a=(0,Le.pt2px)(e.size)+("horizontal"===r?Km:Xm),o="div"===e.preview.tagName.toLowerCase(),s=o?e.preview:document.createElement("div");s.className=$m,"horizontal"===r?s.style.width="".concat(a,"px"):s.style.height="".concat(a,"px"),o||s.appendChild(e.preview),e.preview=s}}))}function tg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"classic",r=e.infos;return"classic"===t?((0,Le.pt2px)(r[0].size)+Xm)/2:((0,Le.pt2px)(r[0].size)-(0,Le.pt2px)(r[r.length-1].size))/2}function rg(e,t){if(!e)return null;var r=e.infos.map((function(e){return e.color})),n=ao("full"===t.type?r:"above"===t.type?r.slice(0,3):r.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment,effectList:t.effectList});return n.className=Ym,null!=t.opacity&&(n.style.opacity=t.opacity.toString()),n}function ng(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vertical",i=0,a=e.infos,o=Math.floor(a.length/2),s="full"===t||"above"===t?0:o,l="full"===t||"below"===t?a.length-1:o,u=s;u<=l;u++)i+=r&&u===o?"horizontal"===n?10:qm:(0,Le.pt2px)(a[u].size)+("horizontal"===n?Km:Xm);return Math.round(i)}function ig(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vertical",i=ng(e,t,r,n),a=e.infos,o=Math.floor(a.length/2),s="full"===t||"above"===t?0:o,l="full"===t||"below"===t?a.length-1:o,u="full"===t?a[s].size+a[l].size:"above"===t?a[s].size:a[l].size,c=r?"vertical"===n?qm:10:0,f="vertical"===n?Xm*("full"===t?2:1):Km*("full"===t?2:1);return Math.round(i-((0,Le.pt2px)(u)/2+c/2+f/2))}function ag(e,t){var r,n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vertical",a=e.infos,o=a.find((function(e){return"size-ramp"===e.type})),s=a.find((function(e){return"color-ramp"===e.type}));return o&&((o=b.default({},o)).infos=De.default(o.infos),eg(o,t,i,!0)),s&&((s=b.default({},s)).infos=De.default(s.infos)),"horizontal"===i&&(null==(r=o)||r.infos.reverse(),null==(n=s)||n.infos.reverse()),{sizeRampElement:o,colorRampElement:s}}function og(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"vertical",i=e.infos,a=i.find((function(e){return"size-ramp"===e.type})),o=i.find((function(e){return"color-ramp"===e.type}));return a&&((a=b.default({},a)).infos=De.default(a.infos),eg(a,null,n,!1)),o&&((o=b.default({},o)).infos=De.default(o.infos)),"horizontal"===n&&(null==(t=a)||t.infos.reverse(),null==(r=o)||r.infos.reverse()),{sizeRampElement:a,colorRampElement:o}}s("4M5RN");Ta=s("aBds0");function sg(e){e.appendChild(this)}function lg(e,t,r){if(t){if("string"==typeof t||"number"==typeof t)return t;if("value"in t||"unit"in t)return(0,Ta.substitute)(e.dotValue,t);if("colorName"in t||"bandName"in t)return e[t.colorName]+": "+(e[t.bandName]||t.bandName);if("showCount"in t)return t.showCount?e.clusterCountTitle:null;var n=null;return r?n=t.ratioPercentTotal?"showRatioPercentTotal":t.ratioPercent?"showRatioPercent":t.ratio?"showRatio":t.normField?"showNormField":t.field?"showField":null:ug(t,r)&&(n=t.normField?"showNormField":t.normByPct?"showNormPct":t.field?"showField":null),n?(0,Ta.substitute)("showField"===n?"{field}":e[n],{field:t.field,normField:t.normField}):null}}function ug(e,t){return!t}function cg(e,t){return!!(t&&"Stretched"===t&&e.version>=10.3&&"esri.layers.ImageryLayer"===e.declaredClass)}Do=s("9FnE2"),fr=s("dKwUH");s("jHOLN");pr=s("yibdR"),cr=s("6zpox"),Ta=s("aBds0");var fg,pg,dg="esri-legend--card__carousel-indicator--activated",hg="esri-legend--card",yg="esri-legend--stacked",vg="esri-legend--card__carousel-title",mg="esri-legend--card__carousel-indicator",gg="esri-legend--card__interval-separator",bg="esri-legend--card__imagery-layer-image--stretched",_g="esri-legend--card__image-label",wg="esri-legend--card__layer-caption",xg="esri-legend--card__label-element",Sg="esri-legend--card__layer-row",kg="esri-legend--card__label-cell",Tg="esri-legend--card__message",Eg="esri-legend--card__ramp-label",Ig="esri-legend--card__section",Cg="esri-legend--card__service-caption-text",Og="esri-legend--card__service-content",Lg="esri-legend--card__service",Ag="esri-legend--card__group-layer",Mg="esri-legend--card__group-layer-child",Ng="esri-legend--card__symbol",Rg="esri-legend--card__size-ramp-row",Pg="esri-legend--card__symbol-row",Fg="esri-legend--card__symbol-cell",jg="esri-legend--card__carousel-indicator-container",Dg="esri-legend--card__interval-separators-container",Ug="esri-legend--card__relationship-label-container",Vg="esri-legend--card__label-container",Bg="esri-legend--card__service-caption-container",Hg="esri-legend--card__symbol-container",zg="esri-legend--card__size-ramp-container",Wg="esri-legend--card__size-ramp-preview",Gg="esri-legend__size-ramp--horizontal",Jg="esri-legend__ramp-labels",qg="esri-legend__layer-cell esri-legend__layer-cell--info",Xg="esri-univariate-above-and-below-ramp__color--card";(pg=fg||(fg={})).Auto="auto",pg.Stack="stack",pg.SideBySide="side-by-side";var Kg=window.devicePixelRatio;var $g=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n))._handles=new(0,Ve.default),i._hasIndicators=!1,i._selectedSectionName=null,i._sectionNames=[],i._sectionMap=new Map,i.activeLayerInfos=null,i.headingLevel=3,i.layout=fg.Stack,i.messages=null,i.messagesCommon=null,i.type="card",i.view=null,h.default(i)}return y.default(r,[{key:"initialize",value:function(){var e=this;this.own([this.watch("activeLayerInfos",(function(t){e._handles.removeAll(),e._watchForSectionChanges(t)}))])}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null}},{key:"render",value:function(){var e=this;this._hasIndicators=this.layout===fg.Auto&&this.view.container.clientWidth<=768||this.layout===fg.Stack;var t=this.activeLayerInfos,r=t&&t.toArray().map((function(t){return e._renderLegendForLayer(t)})).filter((function(e){return!!e}));this._hasIndicators?this._selectedSectionName&&-1!==this._sectionNames.indexOf(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;var n=this._sectionNames.length,i=this._sectionNames.map((function(t,r){var i=(0,Ta.substitute)(e.messagesCommon.pagination.pageText,{index:r+1,total:n});return(0,pr.tsx)("div",{key:t,role:"tab",id:t,"aria-label":i,"aria-controls":"".concat(t,"-panel"),"aria-selected":(e._selectedSectionName===t).toString(),tabIndex:e._selectedSectionName===t?0:-1,title:i,onclick:e._selectSection,onkeydown:e._focusSection,bind:e,class:e.classes(mg,$e.default({},dg,e._selectedSectionName===t)),"data-section-name":t})})),a=this._hasIndicators&&n>1?(0,pr.tsx)("div",{class:jg,key:"carousel-navigation",role:"tablist"},i):null,o=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):r&&r.length?r:null,s=$e.default({},yg,this._hasIndicators);return(0,pr.tsx)("div",{class:this.classes(hg,s)},o||(0,pr.tsx)("div",{class:Tg},this.messages.noLegend),a)}},{key:"_selectSection",value:function(e){var t=e.target.getAttribute("data-section-name");t&&(this._selectedSectionName=t)}},{key:"_focusSection",value:function(e){switch(e.key){case"ArrowLeft":case"ArrowRight":this._switchSectionOnArrowPress(e);break;case"Enter":case" ":this._selectSection(e)}}},{key:"_switchSectionOnArrowPress",value:function(e){var t=e.key,r="ArrowLeft"===t?-1:1,n=e.target.getAttribute("data-section-name"),i=this._sectionNames.indexOf(n),a=this._sectionNames,o=null;-1!==i&&(a[i+r]?o=document.getElementById(a[i+r]):"ArrowLeft"===t?o=document.getElementById(a[a.length-1]):"ArrowRight"===t&&(o=document.getElementById(a[0])),o&&o.focus())}},{key:"_watchForSectionChanges",value:function(e){if(this._generateSectionNames(),e){var t=this;e.forEach((function(e){var r=t,n="activeLayerInfo-".concat(e.layer.uid,"-version-change");t._handles.remove(n),t._watchForSectionChanges(e.children),t._handles.add(e.watch("version",(function(){return r._generateSectionNames()})),n)}));var r="activeLayerInfos-collection-change";this._handles.remove(r),this._handles.add(e.on("change",(function(){return t._watchForSectionChanges(e)})),r)}}},{key:"_generateSectionNames",value:function(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}},{key:"_getSectionName",value:function(e,t,r){return"".concat(this.id).concat(e.uid,"-type-").concat(t.type,"-").concat(r)}},{key:"_generateSectionNamesForActiveLayerInfo",value:function(e){var t=this;e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach((function(r,n){t._sectionNames.push(t._getSectionName(e.layer,r,n))}))}},{key:"_renderLegendForLayer",value:function(e){if(!e.ready)return null;if(e.children.length){var t=this,r=e.children.map((function(e){return t._renderLegendForLayer(e)})).toArray();return(0,pr.tsx)("div",{key:e.layer.uid,class:this.classes(Lg,Ag)},(0,pr.tsx)("div",{class:Bg},e.title),r)}var n=this,i=e.legendElements;if(i&&!i.length)return null;var a=i.some((function(e){return"relationship-ramp"===e.type})),o=i.map((function(t,r){return n._renderLegendForElement(t,e,r,a)})).filter((function(e){return!!e}));if(!o.length)return null;var s=$e.default({},Mg,!!e.parent);return(0,pr.tsx)("div",{key:e.layer.uid,class:this.classes(Lg,s)},(0,pr.tsx)("div",{class:Bg},(0,pr.tsx)("div",{class:Cg},e.title)),(0,pr.tsx)("div",{class:Og},o))}},{key:"_renderLegendForElement",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i="color-ramp"===e.type,a="opacity-ramp"===e.type,o="size-ramp"===e.type,s=t.layer,l=null;if("string"==typeof e.title)l=e.title;else if(e.title){var u=e.title,c=lg(this.messages,u,i||a);l=u.title?"".concat(u.title," (").concat(c,")"):c}var f=this._getSectionName(s,e,r),p=this._hasIndicators?(0,pr.tsx)("div",null,(0,pr.tsx)(fn,{level:this.headingLevel,class:vg},t.title),(0,pr.tsx)(fn,{level:dn(this.headingLevel),class:wg},l)):l?(0,pr.tsx)(fn,{level:this.headingLevel,class:wg},l):null,d=t.effectList,h=null;if("symbol-table"===e.type){var y=this,v=e.infos.map((function(r,n){return y._renderLegendForElementInfo(r,t,e.legendType,n)})).filter((function(e){return!!e}));if(v.length){var m,g=v[0].properties.classes&&v[0].properties.classes[Pg],b=(m={},$e.default(m,Vg,!g&&!n),$e.default(m,Ug,n),m);h=(0,pr.tsx)("div",{class:this.classes(b)},v)}}else"color-ramp"===e.type||"opacity-ramp"===e.type||"heatmap-ramp"===e.type?h=this._renderLegendForRamp(e,s.opacity,d):o?h=this._renderSizeRamp(e,s.opacity):"relationship-ramp"===e.type?h=Wm(e,this.id,s.opacity,d):"univariate-above-and-below-ramp"===e.type?h=this._renderUnivariateAboveAndBelowRamp(e,s.opacity,d):"univariate-color-size-ramp"===e.type&&(h=this._renderUnivariateColorSizeRamp(e,s.opacity,d));if(!h)return null;var _=(0,pr.tsx)("div",{key:f,class:Ig,id:"".concat(f,"-panel"),role:"tabpanel","aria-labelledby":f,tabIndex:0},[p,h]);return this._sectionMap.set(f,_),_}},{key:"_renderUnivariateAboveAndBelowRamp",value:function(e,t,r){var n=ag(e,t,"horizontal"),i=n.sizeRampElement,a=n.colorRampElement;if(!i)return null;var o=ng(i,"full",!0,"horizontal"),s=ig(i,"above",!0,"horizontal"),l=ig(i,"below",!0,"horizontal"),u=rg(a,{width:s,height:12,rampAlignment:"horizontal",opacity:t,type:"above",effectList:r}),c=rg(a,{width:l,height:12,rampAlignment:"horizontal",opacity:t,type:"below",effectList:r}),f=tg(i,"card"),p=i.infos.map((function(e){return e.label})),d=p.length-1,h=p.map((function(e,t){return 0===t||t===d?(0,pr.tsx)("div",{key:t},e):null})),y={marginTop:"3px",display:"flex"};(0,cr.isRTL)(this.container)?y.marginRight="".concat(f,"px"):y.marginLeft="".concat(f,"px");var v={width:"".concat(o,"px"),display:"flex",flexDirection:"row",justifyContent:"space-between"};return(0,pr.tsx)("div",{class:Sg,key:"size-ramp-preview",styles:{display:"flex",flexDirection:"column"}},(0,pr.tsx)("div",{class:this.classes(Hg,Gg),styles:{display:"flex",flexDirection:"row"}},i.infos.map((function(e,t){return(0,pr.tsx)("div",{key:t,class:Ng,bind:e.preview,afterCreate:sg})}))),u?(0,pr.tsx)("div",{class:Xg,styles:y,key:"color-ramp-preview"},(0,pr.tsx)("div",{bind:u,afterCreate:sg}),(0,pr.tsx)("div",{bind:c,afterCreate:sg})):null,(0,pr.tsx)("div",{class:qg},(0,pr.tsx)("div",{class:Jg,styles:v},h)))}},{key:"_renderUnivariateColorSizeRamp",value:function(e,t,r){var n=og(e,"horizontal"),i=n.sizeRampElement,a=n.colorRampElement;if(!i)return null;var o=ng(i,"full",!1,"horizontal"),s=rg(a,{width:ig(i,"full",!1,"horizontal"),height:12,rampAlignment:"horizontal",opacity:t,type:"full",effectList:r}),l=tg(i,"card"),u=i.infos.length-1,c=i.infos.map((function(e,t){return 0===t||t===u?(0,pr.tsx)("div",{key:t},e.label):null})),f={marginTop:"3px",display:"flex"};(0,cr.isRTL)(this.container)?f.marginRight="".concat(l,"px"):f.marginLeft="".concat(l,"px");var p={width:"".concat(o,"px"),display:"flex",flexDirection:"row",justifyContent:"space-between"};return(0,pr.tsx)("div",{class:Sg,key:"size-ramp-preview",styles:{display:"flex",flexDirection:"column"}},(0,pr.tsx)("div",{class:this.classes(Hg,Gg),styles:{display:"flex",flexDirection:"row"}},i.infos.map((function(e,t){return(0,pr.tsx)("div",{key:t,class:Ng,bind:e.preview,afterCreate:sg})}))),(0,pr.tsx)("div",{class:Xg,styles:f,key:"color-ramp-preview"},(0,pr.tsx)("div",{bind:s,afterCreate:sg})),(0,pr.tsx)("div",{class:qg},(0,pr.tsx)("div",{class:Jg,styles:p},c)))}},{key:"_renderLegendForElementInfo",value:function(e,t,r,n){var i=t.layer;if(e.type)return this._renderLegendForElement(e,t,n);var a=cg(i,r);if(e.preview){var o,s;if(!e.symbol||-1===e.symbol.type.indexOf("simple-fill")){if(!e.label)return(0,pr.tsx)("div",{key:n,bind:e.preview,afterCreate:sg});var l=$e.default({},Fg,this._hasIndicators);return(0,pr.tsx)("div",{key:n,class:this.classes(Sg,$e.default({},Pg,this._hasIndicators))},(0,pr.tsx)("div",{class:this.classes(l),bind:e.preview,afterCreate:sg}),(0,pr.tsx)("div",{class:this.classes(_g,$e.default({},kg,this._hasIndicators))},lg(this.messages,e.label,!1)||""))}var u=255,c=255,f=255,p=0,d=255,h=255,y=255,v=0,m=e.symbol.color&&e.symbol.color.a,g=e.symbol.outline&&e.symbol.outline.color&&e.symbol.outline.color.a;m&&(u=e.symbol.color.r,c=e.symbol.color.g,f=e.symbol.color.b,p=e.symbol.color.a*i.opacity),g&&(d=e.symbol.outline.color.r,h=e.symbol.outline.color.g,y=e.symbol.outline.color.b,v=e.symbol.outline.color.a*i.opacity);var b=null==(o=null==(s=e.symbol.color)?void 0:s.isBright)||o,_=b?"rgba(255, 255, 255, .6)":"rgba(0, 0, 0, .6)",w={background:m?"rgba(".concat(u,", ").concat(c,", ").concat(f,", ").concat(p,")"):"none",color:b?"black":"white",textShadow:"-1px -1px 0 ".concat(_,",\n                                              1px -1px 0 ").concat(_,",\n                                              -1px 1px 0 ").concat(_,",\n                                              1px 1px 0 ").concat(_),border:g?"1px solid rgba(".concat(d,", ").concat(h,", ").concat(y,", ").concat(v,")"):"none",filter:(0,to.getCSSFilterFromEffectList)(t.effectList)};return(0,pr.tsx)("div",{key:n,class:Sg},(0,pr.tsx)("div",{class:xg,styles:w}," ",e.label," "))}if(e.src){var x=this._renderImage(e,i,a);return(0,pr.tsx)("div",{key:n,class:Sg},x,(0,pr.tsx)("div",{class:_g},e.label||""))}}},{key:"_renderImage",value:function(e,t,r){var n,i=e.label,a=e.src,o=e.opacity,s=(n={},$e.default(n,bg,r),$e.default(n,Ng,!r),n),l={opacity:"".concat(null!=o?o:t.opacity)};return(0,pr.tsx)("img",{alt:lg(this.messages,i,!1),src:a,border:0,width:e.width,height:e.height,class:this.classes(s),styles:l})}},{key:"_renderSizeRampLines",value:function(e){var t=e.infos,r=t[0],n=t[t.length-1],i=r.symbol,a=this._hasIndicators,o=(0,Le.pt2px)(r.size+r.outlineSize)*Kg,s=(0,Le.pt2px)(n.size+n.outlineSize)*Kg,l=a?o:o+50*Kg,u=a?o/2+50*Kg:o,c=function(e){if(e){if(e.type.indexOf("3d")>-1){var t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;var r=e.symbolLayers.getItemAt(t-1).get("resource.primitive");return"triangle"===r||"cone"===r||"tetrahedron"===r}return"triangle"===e.style}}(i),f=function(e){if(e){if(e.type.indexOf("3d")>-1){var t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;var r=e.symbolLayers.getItemAt(t-1),n=r.resource&&r.resource.primitive;return"circle"===n||"cross"===n||"kite"===n||"sphere"===n||"cube"===n||"diamond"===n}var i=e.style;return"circle"===i||"diamond"===i||"cross"===i}}(i),p=document.createElement("canvas");p.width=l,p.height=u,p.style.width=p.width/Kg+"px",p.style.height=p.height/Kg+"px";var d=p.getContext("2d");if(a){d.beginPath();var h=l/2-s/2,y=u;d.moveTo(0,0),d.lineTo(h,y);var v=l,m=l/2+s/2,g=u;d.moveTo(v,0),d.lineTo(m,g)}else{d.beginPath();var b=u/2-s/2,_=l;d.moveTo(0,b),d.lineTo(_,0);var w=u/2+s/2,x=l,S=u;d.moveTo(0,w),d.lineTo(x,S)}return d.strokeStyle="#ddd",d.stroke(),(0,pr.tsx)("div",{bind:p,afterCreate:sg,styles:a?{display:"flex",marginTop:"-".concat(c?0:f?o/2:0,"px"),marginBottom:"-".concat(c?s:f?s/2:0,"px")}:{display:"flex",marginRight:"-".concat(c?0:f?o/2:0,"px"),marginLeft:"-".concat(c?0:f?s/2:0,"px")}})}},{key:"_renderSizeRamp",value:function(e,t){var r=e.infos,n=r[0].label,i=r[r.length-1].label,a=r[0].preview,o=r[r.length-1].preview,s=this._hasIndicators,l={"flex-direction":s?"column":"row-reverse"};a&&((a=a.cloneNode(!0)).style.display="flex"),o&&((o=o.cloneNode(!0)).style.display="flex");var u={opacity:null!=t?"".concat(t):""};return(0,pr.tsx)("div",{class:this.classes(Sg,$e.default({},Rg,s))},(0,pr.tsx)("div",{class:Eg},s?n:i),(0,pr.tsx)("div",{class:zg,styles:l},(0,pr.tsx)("div",{bind:a,afterCreate:sg,class:Wg,styles:u}),this._renderSizeRampLines(e),(0,pr.tsx)("div",{bind:o,afterCreate:sg,class:zg,styles:u})),(0,pr.tsx)("div",{class:Eg},s?i:n))}},{key:"_renderLegendForRamp",value:function(e,t,r){var n=e.infos,i="heatmap-ramp"===e.type,a=n.length-1,o=25,s=a>2&&!i?25*a:100,l=s+20,u=10,c=n.slice(0).reverse();c.forEach((function(e,t){e.offset=i?e.ratio:t/a}));var f=c.length-1,p=c.length%2!=0&&c[c.length/2|0],d=p&&(0,pr.tsx)("div",{class:Dg},(0,pr.tsx)("div",{class:gg},"|"),(0,pr.tsx)("div",{class:Eg},p.label)),h=n[n.length-1].label,y=n[0].label,v=[[{shape:{type:"path",path:"M0 ".concat(12.5," L").concat(u," 0 L").concat(u," ").concat(o," Z")},fill:c[0].color,stroke:{width:0}},{shape:{type:"rect",x:u,y:0,width:s,height:o},fill:{type:"linear",x1:u,y1:0,x2:s+u,y2:0,colors:c},stroke:{width:0}},{shape:{type:"path",path:"M".concat(s+u," 0 L").concat(l," ").concat(12.5," L").concat(s+u," ").concat(o," Z")},fill:c[f].color,stroke:{width:0}}]],m=(0,Cm.renderSVG)(v,l,o),g=this.messages,b={filter:(0,to.getCSSFilterFromEffectList)(r),opacity:null==t?null:"".concat(t)};return(0,pr.tsx)("div",{class:Sg,styles:{justifyContent:"center"}},(0,pr.tsx)("div",{class:Eg},i?g[h]:h),(0,pr.tsx)("div",{class:Hg},(0,pr.tsx)("div",{styles:b},m),d),(0,pr.tsx)("div",{class:Eg},i?g[y]:y))}}]),r}(tt.default);(0,v._)([(0,P.property)()],$g.prototype,"activeLayerInfos",void 0),(0,v._)([(0,P.property)()],$g.prototype,"headingLevel",void 0),(0,v._)([(0,P.property)()],$g.prototype,"layout",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/Legend/t9n/Legend")],$g.prototype,"messages",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/t9n/common")],$g.prototype,"messagesCommon",void 0),(0,v._)([(0,P.property)({readOnly:!0})],$g.prototype,"type",void 0),(0,v._)([(0,P.property)()],$g.prototype,"view",void 0),(0,v._)([(0,Do.accessibleHandler)()],$g.prototype,"_selectSection",null);var Yg=$g=(0,v._)([(0,j.subclass)("esri.widgets.Legend.styles.Card")],$g);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),$e=s("aNiFM"),v=s("7eJjO");s("4M5RN");P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv"),tt=s("kXohW");s("6zpox");fr=s("dKwUH");s("jHOLN");pr=s("yibdR"),ot=s("1RkqB");var Zg="esri-legend__service",Qg="esri-legend__service-label",eb="esri-legend__layer",tb="esri-legend__group-layer",rb="esri-legend__group-layer-child",nb="esri-legend__layer-table",ib="esri-legend__layer-table--size-ramp",ab="esri-legend__layer-child-table",ob="esri-legend__layer-caption",sb="esri-legend__layer-body",lb="esri-legend__layer-row",ub="esri-legend__layer-cell esri-legend__layer-cell--info",cb="esri-legend__imagery-layer-image--stretched",fb="esri-legend__imagery-layer-info--stretched",pb="esri-legend__layer-cell esri-legend__layer-cell--symbols",db="esri-legend__symbol",hb="esri-legend__ramps",yb="esri-legend__size-ramp",vb="esri-legend__color-ramp",mb="esri-legend__opacity-ramp",gb="esri-legend__ramp-labels",bb="esri-legend__ramp-label",_b="esri-univariate-above-and-below-ramp__label",wb="esri-legend__message",xb="esri-widget__heading",Sb={display:"flex",alignItems:"flex-start"},kb={marginLeft:"3px"},Tb={display:"table-cell",verticalAlign:"middle"},Eb=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n)).activeLayerInfos=null,i.headingLevel=3,i.messages=null,i.type="classic",h.default(i)}return y.default(r,[{key:"render",value:function(){var e=this,t=this.activeLayerInfos,r=t&&t.toArray().map((function(t){return e._renderLegendForLayer(t)})).filter((function(e){return!!e}));return(0,pr.tsx)("div",null,r&&r.length?r:(0,pr.tsx)("div",{class:wb},this.messages.noLegend))}},{key:"_renderLegendForLayer",value:function(e){if(!e.ready)return null;var t=!!e.children.length,r="".concat("esri-legend__").concat(e.layer.uid,"-version-").concat(e.version),n=e.title?fn({level:this.headingLevel,class:this.classes(xb,Qg)},e.title):null;if(t){var i=this,a=e.children.map((function(e){return i._renderLegendForLayer(e)})).toArray();return(0,pr.tsx)("div",{key:r,class:this.classes(Zg,tb)},n,a)}var o=this,s=e.legendElements;if(s&&!s.length)return null;var l=s.map((function(t){return o._renderLegendForElement(t,e.layer,e.effectList)})).filter((function(e){return!!e}));if(!l.length)return null;var u=$e.default({},rb,!!e.parent);return(0,pr.tsx)("div",{key:r,class:this.classes(Zg,u),tabIndex:0},n,(0,pr.tsx)("div",{class:eb},l))}},{key:"_renderLegendForElement",value:function(e,t,r,n){var i="color-ramp"===e.type,a="opacity-ramp"===e.type,o="size-ramp"===e.type,s=null;if("symbol-table"===e.type||o){var l=this,u=e.infos.map((function(n){return l._renderLegendForElementInfo(n,t,r,o,e.legendType)})).filter((function(e){return!!e}));u.length&&(s=(0,pr.tsx)("div",{class:sb},u))}else"color-ramp"===e.type||"opacity-ramp"===e.type||"heatmap-ramp"===e.type||"stretch-ramp"===e.type?s=this._renderLegendForRamp(e,t.opacity):"relationship-ramp"===e.type?s=Wm(e,this.id,t.opacity,r):"univariate-above-and-below-ramp"===e.type?s=this._renderUnivariateAboveAndBelowRamp(e,t.opacity,r):"univariate-color-size-ramp"===e.type&&(s=this._renderUnivariateColorSizeRamp(e,t.opacity,r));if(!s)return null;var c=e.title,f=null;if("string"==typeof c)f=c;else if(c){var p=lg(this.messages,c,i||a);f=ug(0,i||a)&&c.title?"".concat(c.title," (").concat(p,")"):p}var d=n?ab:nb,h=f?(0,pr.tsx)("div",{class:ob},f):null,y=$e.default({},ib,o||!n);return(0,pr.tsx)("div",{class:this.classes(d,y)},h,s)}},{key:"_renderUnivariateAboveAndBelowRamp",value:function(e,t,r){var n=this,i=ag(e,t),a=i.sizeRampElement,o=i.colorRampElement;if(!a)return null;var s=ig(a,"above",!0),l=ig(a,"below",!0),u=rg(o,{width:12,height:s,rampAlignment:"vertical",opacity:t,type:"above",effectList:r}),c=rg(o,{width:12,height:l,rampAlignment:"vertical",opacity:t,type:"below",effectList:r}),f=tg(a),p=a.infos.map((function(e){return e.label})),d=p.map((function(e,t){var r=2===t;return 0===t?(0,pr.tsx)("div",{key:t,class:e?u?_b:bb:null},e):r?(0,pr.tsx)("div",null):null})),h=p.length-1,y=Math.floor(p.length/2),v=p.map((function(e,t){return t===y||t===h?(0,pr.tsx)("div",{key:t,class:e?u?_b:bb:null},e):null})),m={display:"table-cell",verticalAlign:"middle"},g={marginTop:"".concat(f,"px")},b={height:"".concat(s,"px")},_={height:"".concat(l,"px")};return(0,pr.tsx)("div",{key:"univariate-above-and-below-ramp-preview",styles:Sb},(0,pr.tsx)("div",{class:sb},a.infos.map((function(e,t){return(0,pr.tsx)("div",{class:n.classes(lb,yb)},(0,pr.tsx)("div",{class:db,styles:m,bind:e.preview,afterCreate:sg}),u||t%2!=0?null:(0,pr.tsx)("div",{class:ub},p[t]))}))),u?(0,pr.tsx)("div",{styles:g,key:"color-ramp-preview"},(0,pr.tsx)("div",{styles:kb},(0,pr.tsx)("div",{styles:Tb},(0,pr.tsx)("div",{class:hb,bind:u,afterCreate:sg})),(0,pr.tsx)("div",{styles:Tb},(0,pr.tsx)("div",{class:gb,styles:b},d))),(0,pr.tsx)("div",{styles:kb},(0,pr.tsx)("div",{styles:Tb},(0,pr.tsx)("div",{class:hb,bind:c,afterCreate:sg})),(0,pr.tsx)("div",{styles:Tb},(0,pr.tsx)("div",{class:gb,styles:_},v)))):null)}},{key:"_renderUnivariateColorSizeRamp",value:function(e,t,r){var n=this,i=og(e),a=i.sizeRampElement,o=i.colorRampElement;if(!a)return null;var s=tg(a),l=ig(a,"full",!1),u=rg(o,{width:12,height:l,rampAlignment:"vertical",opacity:t,type:"full",effectList:r}),c=a.infos.length-1,f=a.infos.map((function(e,t){return 0===t||t===c?(0,pr.tsx)("div",{key:t,class:e.label?o?_b:bb:null},e.label):null})),p={display:"table-cell",verticalAlign:"middle"},d={marginTop:"".concat(s,"px")},h={height:"".concat(l,"px")};return(0,pr.tsx)("div",{key:"univariate-above-and-below-ramp-preview",styles:Sb},(0,pr.tsx)("div",{class:sb},a.infos.map((function(e){return(0,pr.tsx)("div",{class:n.classes(lb,yb)},(0,pr.tsx)("div",{class:db,styles:p,bind:e.preview,afterCreate:sg}))}))),(0,pr.tsx)("div",{styles:d,key:"color-ramp-preview"},(0,pr.tsx)("div",{styles:kb},(0,pr.tsx)("div",{styles:Tb},(0,pr.tsx)("div",{class:hb,bind:u,afterCreate:sg})),(0,pr.tsx)("div",{styles:Tb},(0,pr.tsx)("div",{class:gb,styles:h},f)))))}},{key:"_renderLegendForRamp",value:function(e,t){var r=this,n=e.infos,i="opacity-ramp"===e.type,a="heatmap-ramp"===e.type,o="stretch-ramp"===e.type,s=e.preview,l=i?mb:"";s.className="".concat(vb," ").concat(l),null!=t&&(s.style.opacity=t.toString());var u=n.map((function(e){return(0,pr.tsx)("div",{class:e.label?bb:null},a?r.messages[e.label]:o?r._getStretchStopLabel(e):e.label)})),c={width:"".concat(24,"px")},f={height:s.style.height};return(0,pr.tsx)("div",{class:lb},(0,pr.tsx)("div",{class:pb,styles:c},(0,pr.tsx)("div",{class:hb,bind:s,afterCreate:sg})),(0,pr.tsx)("div",{class:ub},(0,pr.tsx)("div",{class:gb,styles:f},u)))}},{key:"_getStretchStopLabel",value:function(e){return e.label?this.messages[e.label]+": "+("string"==typeof e.value?e.value:(0,ot.formatNumber)(e.value,{style:"decimal",notation:e.value.toString().indexOf("e")>-1?"scientific":"standard"})):""}},{key:"_renderLegendForElementInfo",value:function(e,t,r,n,i){if(e.type)return this._renderLegendForElement(e,t,r,!0);var a,o=null,s=cg(t,i);if(e.preview?o=(0,pr.tsx)("div",{class:db,bind:e.preview,afterCreate:sg}):e.src&&(o=this._renderImage(e,t,s)),!o)return null;var l=$e.default({},fb,s),u=(a={},$e.default(a,fb,s),$e.default(a,yb,!s&&n),a);return(0,pr.tsx)("div",{class:lb},(0,pr.tsx)("div",{class:this.classes(pb,u)},o),(0,pr.tsx)("div",{class:this.classes(ub,l)},lg(this.messages,e.label,!1)||""))}},{key:"_renderImage",value:function(e,t,r){var n,i=e.label,a=e.src,o=e.opacity,s=(n={},$e.default(n,cb,r),$e.default(n,db,!r),n),l={opacity:"".concat(null!=o?o:t.opacity)};return(0,pr.tsx)("img",{alt:lg(this.messages,i,!1),src:a,border:0,width:e.width,height:e.height,class:this.classes(s),styles:l})}}]),r}(tt.default);(0,v._)([(0,P.property)()],Eb.prototype,"activeLayerInfos",void 0),(0,v._)([(0,P.property)()],Eb.prototype,"headingLevel",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/Legend/t9n/Legend")],Eb.prototype,"messages",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Eb.prototype,"type",void 0);var Ib=Eb=(0,v._)([(0,j.subclass)("esri.widgets.Legend.styles.Classic")],Eb);s("6zpox");fr=s("dKwUH");s("jHOLN");pr=s("yibdR");var Cb="esri-legend",Ob="esri-widget",Lb="esri-widget--panel",Ab="esri-icon-layer-list",Mb=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n))._handles=new(0,Ve.default),i.activeLayerInfos=null,i.basemapLegendVisible=!1,i.groundLegendVisible=!1,i.headingLevel=3,i.hideLayersNotInCurrentView=!1,i.keepCacheOnDestroy=!1,i.respectLayerVisibility=!0,i.iconClass=Ab,i.label=void 0,i.layerInfos=null,i.messages=null,i.style=new Ib,i.view=null,i.viewModel=new Im,h.default(i)}return y.default(r,[{key:"initialize",value:function(){var e=this;this.own((0,Qe.on)(this,"view","resize",(function(){return e.scheduleRender()})),(0,Qe.on)(this,"activeLayerInfos","change",(function(){return e._refreshActiveLayerInfos(e.activeLayerInfos)})),(0,Qe.watch)(this,"headingLevel",(function(t){var r=e.style;r&&(r.headingLevel=t)})),(0,Qe.init)(this,"style",(function(t,r){r&&t!==r&&r.destroy(),t&&(t.activeLayerInfos=e.activeLayerInfos,"card"===t.type&&(t.view=e.view),t.headingLevel=e.headingLevel)})))}},{key:"destroy",value:function(){this._handles.destroy(),this._handles=null}},{key:"castStyle",value:function(e){if(e instanceof Yg||e instanceof Ib)return e;if("string"==typeof e)return"card"===e?new Yg:new Ib;if(e&&"string"==typeof e.type){var t=b.default({},e);return delete t.type,new("card"===e.type?Yg:Ib)(t)}return new Ib}},{key:"render",value:function(){return(0,pr.tsx)("div",{class:this.classes(Cb,Ob,this.style instanceof Ib?Lb:null)},this.style.render())}},{key:"_refreshActiveLayerInfos",value:function(e){var t=this;this._handles.removeAll(),e.forEach((function(e){return t._renderOnActiveLayerInfoChange(e)})),this.scheduleRender()}},{key:"_renderOnActiveLayerInfoChange",value:function(e){var t=this,r=(0,Qe.init)(e,"version",(function(){return t.scheduleRender()}));this._handles.add(r,"version_".concat(e.layer.uid));var n=(0,Qe.on)(e,"children","change",(function(){var r=t;e.children.forEach((function(e){return r._renderOnActiveLayerInfoChange(e)}))}));this._handles.add(n,"children_".concat(e.layer.uid)),e.children.forEach((function(e){return t._renderOnActiveLayerInfoChange(e)}))}}]),r}(tt.default);(0,v._)([(0,et.aliasOf)("viewModel.activeLayerInfos")],Mb.prototype,"activeLayerInfos",void 0),(0,v._)([(0,et.aliasOf)("viewModel.basemapLegendVisible")],Mb.prototype,"basemapLegendVisible",void 0),(0,v._)([(0,et.aliasOf)("viewModel.groundLegendVisible")],Mb.prototype,"groundLegendVisible",void 0),(0,v._)([(0,P.property)()],Mb.prototype,"headingLevel",void 0),(0,v._)([(0,et.aliasOf)("viewModel.hideLayersNotInCurrentView")],Mb.prototype,"hideLayersNotInCurrentView",void 0),(0,v._)([(0,et.aliasOf)("viewModel.keepCacheOnDestroy")],Mb.prototype,"keepCacheOnDestroy",void 0),(0,v._)([(0,et.aliasOf)("viewModel.respectLayerVisibility")],Mb.prototype,"respectLayerVisibility",void 0),(0,v._)([(0,P.property)()],Mb.prototype,"iconClass",void 0),(0,v._)([(0,P.property)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Mb.prototype,"label",void 0),(0,v._)([(0,et.aliasOf)("viewModel.layerInfos")],Mb.prototype,"layerInfos",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/Legend/t9n/Legend")],Mb.prototype,"messages",void 0),(0,v._)([(0,P.property)()],Mb.prototype,"style",void 0),(0,v._)([(0,Q.cast)("style")],Mb.prototype,"castStyle",null),(0,v._)([(0,et.aliasOf)("viewModel.view")],Mb.prototype,"view",void 0),(0,v._)([(0,P.property)()],Mb.prototype,"viewModel",void 0);var Nb=Mb=(0,v._)([(0,j.subclass)("esri.widgets.Legend")],Mb);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),$e=s("aNiFM"),v=s("7eJjO"),Le=s("iXlXu"),Qe=s("5qZXj"),et=s("kDa5L");s("lNwWH"),s("2VlWd");Q=s("ba18L"),P=s("iho5X"),j=s("fcwIv"),tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),te=s("iCnzh"),v=s("7eJjO");s("2ILM8");X=s("jymfC"),Z=s("7qybv"),Le=s("iXlXu"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");s("2ILM8");C=s("kyj08"),at=s("5vzSQ");var Rb=s("4dNPA"),Pb=s("95Tg0");Ec=s("fTq43"),Re=s("d1Fqh"),Ol=s("j40xv");function Fb(e){if(!e)return null;if(e.isGeographic&&e.wkid){var t=Rb.spheroids[e.wkid];if(t)return t}if(e.wkt){var r=function(e){var t=Rb.WKT_SPHEROID_REGEX.exec(e);if(!t||2!==t.length)return null;var r=t[1].split(",");if(!r||r.length<3)return null;var n=parseFloat(r[1]),i=parseFloat(r[2]);return isNaN(n)||isNaN(i)?null:{a:n,f:0===i?0:1/i}}(e.wkt);if(r)return r}return null}function jb(e){var t,r=Fb(e||Ol.default.WGS84);if("b"in(t=r)&&"eSq"in t&&"radius"in t)return r;var n=r.a*(1-r.f);return Object.assign(r,{b:n,eSq:1-Math.pow(n/r.a,2),radius:(2*r.a+n)/3,densificationRatio:1e4/((2*r.a+n)/3)})}function Db(e){return null!==Fb(e)}function Ub(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"meters";if(!e)throw new(0,C.default)("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(e.some((function(e){return!Db(e.spatialReference)})))throw new(0,C.default)("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var r=[],n=0;n<e.length;n++){for(var i=e[n],a=i.spatialReference,o="polyline"===i.type?i.paths:i.rings,s=0,l=0;l<o.length;l++){for(var u=o[l],c=0,f=1;f<u.length;f++){var p=u[f-1][0],d=u[f][0],h=u[f-1][1],y=u[f][1];if(h!==y||p!==d){var v={distance:null};Vb(v,[p,h],[d,y],a),c+=v.distance}}s+=c}s=(0,at.convertUnit)(s,"meters",t),r.push(s)}return r}function Vb(e,t,r,n){var i,a,o,s,l,u,c,f,p,d,h=t[0]*Rb.toRadians,y=t[1]*Rb.toRadians,v=r[0]*Rb.toRadians,m=r[1]*Rb.toRadians,g=jb(n),b=g.a,_=g.b,w=g.f,x=g.radius,S=v-h,k=Math.atan((1-w)*Math.tan(y)),T=Math.atan((1-w)*Math.tan(m)),E=Math.sin(k),I=Math.cos(k),C=Math.sin(T),O=Math.cos(T),L=1e3,A=S;do{if(c=Math.sin(A),f=Math.cos(A),0===(o=Math.sqrt(O*c*(O*c)+(I*C-E*O*f)*(I*C-E*O*f))))return e.distance=0,e.azimuth=void 0,e.reverseAzimuth=void 0,e;l=E*C+I*O*f,u=Math.atan2(o,l),s=l-2*E*C/(a=1-(p=I*O*c/o)*p),isNaN(s)&&(s=0),i=A,A=S+(1-(d=w/16*a*(4+w*(4-3*a))))*w*p*(u+d*o*(s+d*l*(2*s*s-1)))}while(Math.abs(A-i)>1e-12&&--L>0);if(0===L){var M=x,N=Math.acos(Math.sin(y)*Math.sin(m)+Math.cos(y)*Math.cos(m)*Math.cos(v-h))*M,R=v-h,P=Math.sin(R)*Math.cos(m),F=Math.cos(y)*Math.sin(m)-Math.sin(y)*Math.cos(m)*Math.cos(R),j=Math.atan2(P,F);return e.azimuth=j/Rb.toRadians,e.distance=N,e.reverseAzimuth=void 0,e}var D=a*(b*b-_*_)/(_*_),U=D/1024*(256+D*(D*(74-47*D)-128)),V=_*(1+D/16384*(4096+D*(D*(320-175*D)-768)))*(u-U*o*(s+U/4*(l*(2*s*s-1)-U/6*s*(4*o*o-3)*(4*s*s-3)))),B=Math.atan2(O*Math.sin(A),I*C-E*O*Math.cos(A)),H=Math.atan2(I*Math.sin(A),I*C*Math.cos(A)-E*O);return e.azimuth=B/Rb.toRadians,e.distance=V,e.reverseAzimuth=H/Rb.toRadians,e}var Bb=s("5On35"),Hb=(Fe=s("eY5Yp"),Ka=s("eF88h"),s("b6801"));Ol=s("j40xv"),Pb=s("95Tg0"),Re=s("d1Fqh");function zb(e,t){return e&&e.indexOf(t)>-1}function Wb(e,t){var r="decimal-degrees"===e?(0,Ka.webMercatorToGeographic)(t,!0):t;return[r.x,r.y]}function Gb(e){var t=e.state.paddedViewState,r=e.spatialReference,n=e.width;return r.isWrappable&&t.worldScreenWidth<n}var Jb=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e)).scaleComputedFrom=(0,Le.createScreenPoint)(),n.view=null,h.default(n)}return y.default(r,[{key:"state",get:function(){return this.get("view.ready")&&"2d"===this.get("view.type")?"ready":"disabled"}},{key:"getScaleBarProperties",value:function(e,t){if("disabled"===this.state||isNaN(e)||!t)return null;var r=this._getDistanceInKm(this.view,this.scaleComputedFrom);if((0,Z.isNone)(r))return null;if("metric"===t)return this._getScaleBarProps(e,r,"metric");var n=r/1.609;return this._getScaleBarProps(e,n,"non-metric")}},{key:"_getLocationUnit",value:function(){var e=this.get("view.spatialReference"),t=e.isWebMercator,r=e.wkid,n=e.wkt;return t||zb(n,"WGS_1984_Web_Mercator")?"decimal-degrees":null!=Hb.default[r]||zb(n,"PROJCS")?"linear-unit":"unknown"}},{key:"_getDistanceInKm",value:function(e,t){var r=e.state,n=e.spatialReference,i=this._getLocationUnit();if("linear-unit"===i){return r.extent.width*function(e){var t=e.wkid;if(null!=Hb.default[t])return Hb.default.values[Hb.default[t]];var r=e.wkt,n=r.lastIndexOf(",")+1,i=r.lastIndexOf("]]");return parseFloat(r.substring(n,i))}(n)/1e3}var a,o=te.default(this._getScaleMeasuringPoints(e,t),2),s=o[0],l=o[1],u="decimal-degrees"===i||n.isGeographic&&!Db(n)?Ol.default.WGS84:n,c=new(0,Pb.default)({paths:[[Wb(i,s),Wb(i,l)]],spatialReference:u}),f=(0,Bb.straightLineDensify)(c,10);try{a=te.default(Ub([f],"kilometers"),1)[0]}catch(e){return null}return a}},{key:"_getScaleMeasuringPoints",value:function(e,t){var r=e.width,n=e.height,i=e.position,a=e.spatialReference;if(Gb(e)){var o=(0,Fe.getInfo)(a).valid;return[new(0,Re.default)(o[0],0,a),new(0,Re.default)(o[1],0,a)]}var s=t.y-i[1];s>n?s=n:s<0&&(s=0);var l=(0,Le.createScreenPoint)(0,s),u=(0,Le.createScreenPoint)(r,s);return[e.toMap(l),e.toMap(u)]}},{key:"_getScaleBarProps",value:function(e,t,r){var n=this.view,i=e*t/(Gb(n)?n.state.paddedViewState.worldScreenWidth:n.width),a="metric"===r?"km":"mi";i<.1&&("mi"===a?(i*=5280,a="ft"):"km"===a&&(i*=1e3,a="m"));for(var o=0;i>=1;)i/=10,o++;var s=this._getConstraints(i);if(!s)return null;var l=s.min,u=s.max,c=u/i>=i/l?l:u;return{length:e*(c/i),value:Math.pow(10,o)*c,unit:a}}},{key:"_getConstraints",value:function(e){return e>.5?{min:.5,max:1}:e>.3?{min:.3,max:.5}:e>.2?{min:.2,max:.3}:e>.15?{min:.15,max:.2}:e>=.1?{min:.15,max:.1}:void 0}}]),r}(X.default);(0,v._)([(0,P.property)()],Jb.prototype,"scaleComputedFrom",void 0),(0,v._)([(0,P.property)({readOnly:!0})],Jb.prototype,"state",null),(0,v._)([(0,P.property)()],Jb.prototype,"view",void 0);var qb=Jb=(0,v._)([(0,j.subclass)("esri.widgets.Scalebar.ScaleBarViewModel")],Jb);s("6zpox");fr=s("dKwUH");s("jHOLN");pr=s("yibdR");var Xb="esri-scale-bar esri-widget",Kb="esri-scale-bar__label-container",$b="esri-scale-bar__label-container--ruler",Yb="esri-scale-bar__label-container--line",Zb="esri-scale-bar__label-container--top",Qb="esri-scale-bar__label-container--bottom",e_="esri-scale-bar__label",t_="esri-scale-bar__line",r_="esri-scale-bar__line--top",n_="esri-scale-bar__line--bottom",i_="esri-scale-bar__ruler",a_="esri-scale-bar__ruler-block",o_="esri-scale-bar__bar-container",s_="esri-scale-bar__bar-container--ruler",l_="esri-scale-bar__bar-container--line",u_="esri-disabled";function c_(e){return 2*e}var f_=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n)).label=void 0,i.messages=null,i.unit="non-metric",i.view=null,i.viewModel=new qb,h.default(i)}return y.default(r,[{key:"initialize",value:function(){var e=this;this.own([(0,Qe.whenTrue)(this,"view.stationary",(function(){return e.scheduleRender()})),(0,Qe.watch)(this,["view.center","view.scale","view.zoom"],(function(){e.view.stationary&&e.scheduleRender()}))])}},{key:"style",set:function(e){var t="dual"===this.unit?"line":e;this._set("style",t)}},{key:"castStyle",value:function(e){return"line"===e?e:"ruler"}},{key:"castUnit",value:function(e){return"metric"===e||"dual"===e?e:"non-metric"}},{key:"render",value:function(){var e,t,r="disabled"===this.get("viewModel.state"),n=$e.default({},u_,r);if(!r){var i=this.unit,a=this.style,o="metric"===i||"dual"===i;if("non-metric"===i||"dual"===i){var s=this.viewModel.getScaleBarProperties(50,"non-metric");s&&(t="ruler"===a?this._renderRuler(s):this._renderLine(s,"bottom"))}if(o){var l=this.viewModel.getScaleBarProperties(50,"metric");l&&(e="ruler"===a?this._renderRuler(l):this._renderLine(l,"top"))}}return(0,pr.tsx)("div",{afterCreate:this._handleRootCreateOrUpdate,afterUpdate:this._handleRootCreateOrUpdate,bind:this,class:this.classes(Xb,n)},e,t)}},{key:"_renderRuler",value:function(e){var t=c_(Math.round(e.length)),r=this.messages,n=r[e.unit]||r.unknownUnit,i="".concat(c_(e.value)," ").concat(n);return(0,pr.tsx)("div",{class:this.classes(o_,s_),key:"esri-scale-bar__ruler"},(0,pr.tsx)("div",{class:i_,styles:{width:"".concat(t,"px")}},(0,pr.tsx)("div",{class:a_}),(0,pr.tsx)("div",{class:a_}),(0,pr.tsx)("div",{class:a_}),(0,pr.tsx)("div",{class:a_})),(0,pr.tsx)("div",{class:this.classes(Kb,$b)},(0,pr.tsx)("div",{class:e_},"0"),(0,pr.tsx)("div",{class:e_},i)))}},{key:"_renderLine",value:function(e,t){var r,n,i=this.messages,a=i[e.unit]||i.unknownUnit,o="".concat(c_(e.value)," ").concat(a),s=(r={},$e.default(r,Zb,"top"===t),$e.default(r,Qb,"bottom"===t),r),l=(0,pr.tsx)("div",{class:this.classes(Kb,Yb,s),key:"esri-scale-bar__label"},(0,pr.tsx)("div",{class:e_},o)),u=(n={},$e.default(n,r_,"top"===t),$e.default(n,n_,"bottom"===t),n),c=c_(Math.round(e.length)),f=(0,pr.tsx)("div",{class:this.classes(t_,u),key:"esri-scale-bar__line",styles:{width:"".concat(c,"px")}});return(0,pr.tsx)("div",{class:this.classes(o_,l_),key:"esri-scale-bar__line-container"},[f,l])}},{key:"_handleRootCreateOrUpdate",value:function(e){var t=this.viewModel;if(t){var r=e.getBoundingClientRect(),n=r.left+window.pageXOffset,i=r.top+window.pageYOffset,a=(0,Le.createScreenPoint)(n,i);(a.x!==t.scaleComputedFrom.x||a.y!==t.scaleComputedFrom.y)&&(t.scaleComputedFrom=a)}}}]),r}(tt.default);(0,v._)([(0,P.property)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],f_.prototype,"label",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/ScaleBar/t9n/ScaleBar")],f_.prototype,"messages",void 0),(0,v._)([(0,P.property)()],f_.prototype,"style",null),(0,v._)([(0,Q.cast)("style")],f_.prototype,"castStyle",null),(0,v._)([(0,P.property)()],f_.prototype,"unit",void 0),(0,v._)([(0,Q.cast)("unit")],f_.prototype,"castUnit",null),(0,v._)([(0,et.aliasOf)("viewModel.view")],f_.prototype,"view",void 0),(0,v._)([(0,P.property)()],f_.prototype,"viewModel",void 0);var p_=f_=(0,v._)([(0,j.subclass)("esri.widgets.ScaleBar")],f_);s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),h=s("bFSSc"),y=s("jK9zx"),$e=s("aNiFM"),v=s("7eJjO"),et=s("kDa5L");s("lNwWH"),s("2VlWd"),s("iJAIC");P=s("iho5X"),j=s("fcwIv"),tt=s("kXohW");s("8TSCy");f=s("g9uIT"),p=s("dap1g"),d=s("f9pi5"),g=s("Kn7R4"),h=s("bFSSc"),y=s("jK9zx"),v=s("7eJjO"),X=s("jymfC"),N=s("jHOLN"),P=s("iho5X");s("lNwWH"),s("2VlWd"),s("iJAIC");j=s("fcwIv");var d_="esri.widgets.Fullscreen.FullscreenViewModel",h_=N.default.getLogger(d_),y_=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e){var n;return d.default(this,r),(n=t.call(this,e))._vendorInfo=null,n._fullscreenStyle="width: 100%; height: 100%;",n.view=null,n._errorHandler=n._errorHandler.bind(g.default(n)),n._stateHandler=n._stateHandler.bind(g.default(n)),h.default(n)}return y.default(r,[{key:"destroy",value:function(){this._removeFullscreenListeners(),this.view=null}},{key:"element",get:function(){return this.get("view.container")},set:function(e){void 0!==e?this._override("element",e):this._clearOverride("element")}},{key:"state",get:function(){return this.element?this._isSupported()?this._isActive()?"active":"ready":"feature-unsupported":"disabled"}},{key:"enter",value:function(){this._enterFullscreen()}},{key:"exit",value:function(){this._exitFullscreen()}},{key:"toggle",value:function(){this._isActive()?this._exitFullscreen():this._enterFullscreen()}},{key:"_isSupported",value:function(){this._removeFullscreenListeners();var e=this._getVendorInfo(this.element);return this._addFullscreenListeners(e),this._vendorInfo=e,!!e}},{key:"_isActive",value:function(){return!!this._vendorInfo&&!!document[this._vendorInfo.propertyName]}},{key:"_stateHandler",value:function(){this.notifyChange("state"),"active"===this.state?this._addStyle():this._removeStyle()}},{key:"_errorHandler",value:function(e){h_.error("fullscreen request failed",e)}},{key:"_getVendorInfo",value:function(e){if(e)return e.requestFullscreen?{enterName:"requestFullscreen",exitName:"exitFullscreen",errorEventName:"fullscreenerror",changeEventName:"fullscreenchange",propertyName:"fullscreen"}:e.webkitRequestFullScreen?{enterName:"webkitRequestFullscreen",exitName:"webkitCancelFullScreen",errorEventName:"webkitfullscreenerror",changeEventName:"webkitfullscreenchange",propertyName:"webkitIsFullScreen"}:e.mozRequestFullScreen?{enterName:"mozRequestFullScreen",exitName:"mozCancelFullScreen",errorEventName:"mozfullscreenerror",changeEventName:"mozfullscreenchange",propertyName:"mozFullScreen"}:e.msRequestFullscreen?{enterName:"msRequestFullscreen",exitName:"msExitFullscreen",errorEventName:"MSFullscreenError",changeEventName:"MSFullscreenChange",propertyName:"msFullscreenElement"}:void 0}},{key:"_enterFullscreen",value:function(){if("feature-unsupported"!==this.state){var e=this.element;e&&(e[this._vendorInfo.enterName].call(e),this.notifyChange("state"))}else h_.warn("The fullscreen API is not supported in this browser.")}},{key:"_addStyle",value:function(){var e=this.element;e&&e.setAttribute("style",this._fullscreenStyle)}},{key:"_removeStyle",value:function(){var e=this.element;e&&e.removeAttribute("style")}},{key:"_exitFullscreen",value:function(){if("feature-unsupported"!==this.state){this.element&&(document[this._vendorInfo.exitName].call(document),this.notifyChange("state"))}}},{key:"_addFullscreenListeners",value:function(e){e&&(document.addEventListener(e.changeEventName,this._stateHandler),document.addEventListener(e.errorEventName,this._errorHandler))}},{key:"_removeFullscreenListeners",value:function(){var e=this._vendorInfo;this._vendorInfo&&(document.removeEventListener(e.changeEventName,this._stateHandler),document.removeEventListener(e.errorEventName,this._errorHandler))}}]),r}(X.default);(0,v._)([(0,P.property)()],y_.prototype,"element",null),(0,v._)([(0,P.property)({readOnly:!0})],y_.prototype,"state",null),(0,v._)([(0,P.property)()],y_.prototype,"view",void 0),(0,v._)([(0,P.property)()],y_.prototype,"enter",null),(0,v._)([(0,P.property)()],y_.prototype,"exit",null),(0,v._)([(0,P.property)()],y_.prototype,"toggle",null);var v_=y_=(0,v._)([(0,j.subclass)(d_)],y_);Do=s("9FnE2"),fr=s("dKwUH");s("jHOLN");pr=s("yibdR");s("6zpox");var m_="esri-fullscreen esri-widget--button esri-widget",g_="esri-icon-font-fallback-text",b_="esri-icon",__="esri-icon-zoom-out-fixed",w_="esri-icon-zoom-in-fixed",x_="esri-disabled",S_=function(e){"use strict";f.default(r,e);var t=p.default(r);function r(e,n){var i;return d.default(this,r),(i=t.call(this,e,n)).element=null,i.label=void 0,i.messages=null,i.view=null,i.viewModel=new v_,h.default(i)}return y.default(r,[{key:"fullscreenTitle",get:function(){var e,t=null==(e=this.viewModel)?void 0:e.state;return"active"===t?this.messages.exit:"ready"===t?this.messages.enter:""}},{key:"render",value:function(){var e,t=null==(e=this.viewModel)?void 0:e.state,r=this.fullscreenTitle,n=$e.default({},x_,"disabled"===t||"feature-unsupported"===t);return(0,pr.tsx)("div",{bind:this,class:this.classes(m_,n),role:"button",tabIndex:0,onclick:this._toggle,onkeydown:this._toggle,"aria-label":r,title:r},this.renderIcon(),this.renderTitle())}},{key:"renderIcon",value:function(){var e,t,r=null==(e=this.viewModel)?void 0:e.state,n=(t={},$e.default(t,__,"ready"===r||"disabled"===r||"feature-unsupported"===r),$e.default(t,w_,"active"===r),t);return(0,pr.tsx)("span",{class:this.classes(b_,n),"aria-hidden":"true"})}},{key:"renderTitle",value:function(){return(0,pr.tsx)("span",{class:g_},this.fullscreenTitle)}},{key:"_toggle",value:function(){this.viewModel.toggle()}}]),r}(tt.default);(0,v._)([(0,et.aliasOf)("viewModel.element")],S_.prototype,"element",void 0),(0,v._)([(0,P.property)({readOnly:!0})],S_.prototype,"fullscreenTitle",null),(0,v._)([(0,P.property)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],S_.prototype,"label",void 0),(0,v._)([(0,P.property)(),(0,fr.messageBundle)("esri/widgets/Fullscreen/t9n/Fullscreen")],S_.prototype,"messages",void 0),(0,v._)([(0,et.aliasOf)("viewModel.view")],S_.prototype,"view",void 0),(0,v._)([(0,P.property)({type:v_})],S_.prototype,"viewModel",void 0),(0,v._)([(0,Do.accessibleHandler)()],S_.prototype,"_toggle",null);var k_=S_=(0,v._)([(0,j.subclass)("esri.widgets.Fullscreen")],S_),T_=(Yi=s("g15Jq"),s("2CGtF")),E_=new(0,Yi.default)({title:"Appalachian Trail",copyright:"Appalachian Trail Conservancy",outFields:["LENGTH_MI","TRAIL_CLUB"],url:"https://mapservices.pasda.psu.edu/server/rest/services/pasda/AppalachianTrail/MapServer/0",renderer:{type:"simple",symbol:{type:"simple-line",color:"#9c4040",width:"5px",style:"solid"}},popupTemplate:{title:"Appalachian Trail",expressionInfos:[{name:"trail-length",expression:"Round($feature.LENGTH_MI, 2)",title:"Section Length (miles)"}],content:[{type:"fields",fieldInfos:[{fieldName:"TRAIL_CLUB",label:"Trail Club"},{fieldName:"expression/trail-length"}]}]}}),I_=new(0,T_.default)({title:"Elevation Contours",copyright:"USGS",url:"https://carto.nationalmap.gov/arcgis/rest/services/contours/MapServer"}),C_=new Hh({label:"Default Extent",view:Ah}),O_=new vy({scale:10,label:"Find My Location",view:Ah}),L_=(new Nb({label:"Map Legend",container:"mapLegendContainer",basemapLegendVisible:!1,hideLayersNotInCurrentView:!0,layerInfos:[{layer:E_,title:"Appalachian Trail"},{layer:I_,title:"Elevation Contours (USGS)"}],view:Ah}),new p_({view:Ah})),A_=new k_({view:Ah}),M_=(Yi=s("g15Jq"),{type:"unique-value",field:"Name",defaultSymbol:{type:"simple-line",color:new(0,(k=s("jgs9n")).default)("#fff"),width:"3px"},uniqueValueInfos:[{value:"Boundary Trail",symbol:{type:"simple-line",color:new(0,k.default)("rgb(255,170,170)"),width:"3px"}},{value:"Cat's Eye Trail",symbol:{type:"simple-line",color:new(0,k.default)("rgb(255,85,0)"),width:"3px"}},{value:"Cathedral Trail",symbol:{type:"simple-line",color:new(0,k.default)("rgb(0,92,230)"),width:"3px"}},{value:"Charcoal Trail",symbol:{type:"simple-line",color:new(0,k.default)("rgb(230,0,0)"),width:"3px"}},{value:"Creek Trail",symbol:{type:"simple-line",color:new(0,k.default)("rgb(197,0,255)"),width:"3px"}},{value:"Frog Pond Trail",symbol:{type:"simple-line",color:new(0,k.default)("rgb(200,20,43)"),width:"3px"}},{value:"Grapevine Trail",symbol:{type:"simple-line",color:new(0,k.default)("rgb(169,0,230)"),width:"3px"}},{value:"Ground Hog Trail",symbol:{type:"simple-line",color:new(0,k.default)("rgb(242,242,61)"),width:"3px"}},{value:"Hemlock Trail",symbol:{type:"simple-line",color:new(0,k.default)("rgb(56,168,0)"),width:"3px"}},{value:"Mountain Side Trail",symbol:{type:"simple-line",color:new(0,k.default)("rgb(0,255,197)"),width:"3px"}},{value:"Nature Trail",symbol:{type:"simple-line",color:new(0,k.default)("rgb(255,255,0)"),width:"3px"}},{value:"Pool Trail",symbol:{type:"simple-line",color:new(0,k.default)("rgb(255,255,115)"),width:"3px"}},{value:"Power Line Trail",symbol:{type:"simple-line",color:new(0,k.default)("rgb(76,230,0)"),width:"3px"}},{value:"Rock Pile Trail",symbol:{type:"simple-line",color:new(0,k.default)("rgb(0,92,230)"),width:"3px"}},{value:"Tree House Trail",symbol:{type:"simple-line",color:new(0,k.default)("rgb(230,115,0)"),width:"3px"}}]}),N_=new(0,Yi.default)({copyright:"Camp Swatara",url:"https://services3.arcgis.com/3SxkE9GPRaAzbnWT/ArcGIS/rest/services/Camp_Swatara_Hiking_Trails/FeatureServer/0",popupTemplate:{title:"{Name}",expressionInfos:[{name:"trail-length",expression:"Round($feature.Miles, 2)",title:"Length (miles)"}],content:[{type:"fields",fieldInfos:[{fieldName:"Blaze",label:"Blaze Color"},{fieldName:"expression/trail-length"}]}]},renderer:M_});c.default.apiKey="AAPK56c13fae1a6d4407a5d392981b9b50d2kwxUZMYHbCl1MyifP-JufC7lrC9K2TvvL93oR25h20j0cjvoAro30x-p0O27jPwS",Ah.when((function(){Lh.addMany([I_,E_,N_]),Ah.ui.add(C_,"top-left"),Ah.ui.add(O_,"top-left"),Ah.ui.add(L_,"bottom-left"),Ah.ui.add(A_,"top-right")}),(function(e){console.warn(e)}))}();
//# sourceMappingURL=index.a528f241.js.map
