{"mappings":"4ZAIA,IAAAA,EAAAC,EAAA,S,iEAA6X,SAASC,EAAEC,GAAG,OAAOA,EAAEC,YAAYD,EAAEC,sBAAsBC,EAAAC,UAAIH,EAAE,IAAIA,EAAEC,WAAW,IAAI,EAAAC,EAAAC,SAAEH,EAAEC,cAA4H,SAAWD,GAAG,OAAOA,EAAEI,OAAOC,KAAKC,GAAGD,KAAKE,E,CAAzJC,CAAER,EAAEC,YAAYI,MAAMI,IAAI,MAAMC,EAAE,CAACT,WAAWD,EAAEC,cAAcQ,EAAEE,YAAY,OAAO,IAAMF,EAAEG,YAAaF,EAAE,G,CAAkD,SAASJ,EAAEG,GAAG,OAAOA,EAAEI,MAAM,IAAI,cAAc,OAAiqF,SAAWb,GAAG,OAAO,EAAAc,EAAAC,0BAAEf,EAAEgB,KAAKX,MAAML,GAAGA,EAAEiB,U,CAAtqEC,CAA3hBT,GAAgiBJ,MAAML,GAAGA,EAAE,CAACmB,UAAU,aAAa,CAACA,UAAU,mBAA3kB,IAAI,kBAAkB,OAAwkB,SAAWnB,GAAG,OAAOoB,EAAEpB,GAAGK,MAAML,IAAI,GAAG,iBAAiBA,EAAE,CAAC,MAAMS,EAAE,GAAG,OAAO,MAAMT,EAAEqB,KAAKZ,EAAEa,QAAQtB,EAAEqB,IAAI,CAACF,UAAU,eAAeR,WAAWF,E,CAAG,MAAM,CAACU,UAAU,aAAa,G,CAAjvBI,CAAEd,GAAG,IAAI,qBAAqB,OAAkiDe,eAAiBxB,GAAkB,SAATA,EAAEI,QAAU,EAAAqB,EAAAC,gBAAE1B,EAAE,aAAa,MAAM,CAACmB,UAAU,iBAAiB,IAAG,EAAAM,EAAAC,gBAAE1B,EAAE,eAAe,MAAM,CAACmB,UAAU,cAAc,MAAMV,QAAQT,EAAE2B,YAAY,OAAO,KAAI,EAAAC,EAAAC,uBAAEpB,GAAG,CAACU,UAAU,gBAAgB,CAACA,UAAU,a,CAA3vDW,CAAErB,GAAG,IAAI,gBAAgB,OAAurB,SAAWT,GAAG,OAAOoB,EAAEpB,GAAGK,MAAMI,IAAI,GAAG,iBAAiBA,EAAE,CAAC,MAAMC,EAAE,GAAG,IAAIqB,EAAE,GAAG,MAAMtB,EAAEY,IAAIX,EAAEY,QAAQb,EAAEY,GAAGU,EAAE,GAAG/B,EAAEgB,cAAcP,EAAEY,MAAMU,EAAE/B,EAAEgB,IAAIgB,MAAMC,QAAQjC,EAAEkC,eAAelC,EAAEkC,aAAaC,OAAO,EAAE,CAAC,MAAMC,EAAE,CAACC,eAAe,sBAAsB,WAAW,aAAaC,MAAM,aAAaC,WAAW,kBAAkBC,SAAS,sBAAsB,IAAI,MAAMC,KAAKC,OAAOC,KAAKP,GAAG,GAAGpC,EAAEkC,aAAaU,SAASH,GAAG,MAAM,CAACtB,UAAUiB,EAAEK,G,CAAI,OAAO,EAAA3B,EAAAC,0BAAEgB,GAAG1B,MAAML,IAAI,IAAIS,EAAE,aAAa,MAAMsB,EAAE,CAACO,MAAM,aAAa,WAAW,aAAaD,eAAe,sBAAsBE,WAAW,kBAAkBC,SAAS,sBAAsB,OAAOxC,GAAGA,EAAE6C,WAAWd,EAAE/B,EAAE6C,aAAapC,EAAEsB,EAAE/B,EAAE6C,YAAY,CAAC1B,UAAUV,EAAEE,WAAWD,EAAE,G,CAAI,OAAM,IAAKD,GAAE,EAAAK,EAAAC,0BAAEf,EAAEgB,KAAKX,MAAML,GAAG,WAAUA,aAAA,EAAAA,EAAG6C,WAAU,CAAC1B,UAAU,cAAc,CAACA,UAAU,gBAAgB,CAACA,UAAU,aAAa,G,CAAv/C2B,CAAErC,GAAG,IAAI,gBAAgB,OAAgtDe,eAAiBxB,G,IAA0B+C,EAAkMC,EAAqLC,EAAvXC,QAAjBlD,EAAEI,OAAO,MAAMK,EAA2C,QAAzCyC,EAAc,QAAdH,EAAA/C,EAAEkC,oBAAY,IAAda,OAAA,EAAAA,EAAgBI,KAAKnD,GAAGA,EAAEoD,uBAAe,IAAzCF,IAA2C,GAAG,GAAGzC,EAAEmC,SAAS,sBAAsB,MAAM,CAACzB,UAAU,kBAAkB,GAAGV,EAAEmC,SAAS,iBAAiB,MAAM,CAACzB,UAAU,oBAAoB,MAAMT,EAAsB,QAAnBsC,QAAMhD,EAAE2B,mBAAW,IAAnBqB,OAAD,EAACA,EAAsBH,UAAU,GAAG,iCAAiCnC,EAAE,MAAM,CAACS,UAAU,oBAAoB,GAAG,4BAA4BT,EAAE,MAAM,CAACS,UAAU,gBAAkE,MAAM,SAAtB,QAA1B8B,SAAO,EAAAnC,EAAAC,0BAAEf,EAAEgB,MAAMqC,iBAAS,IAA1BJ,OAAA,EAAAA,EAA4BG,eAA8B,CAACjC,UAAU,oBAAoB,CAACA,UAAU,e,CAA/sEmC,CAAE7C,GAAG,IAAI,iBAAsJ,IAAI,OAAO,MAA+0E,CAACU,UAAU,eAA/9E,IAAI,sBAAsB,MAAguE,CAACA,UAAU,mBAAhuE,IAAI,MAAM,MAA4vE,CAACA,UAAU,YAA5vE,IAAI,MAAM,MAAixE,CAACA,UAAU,YAAjxE,IAAI,OAAO,MAA+0E,CAACA,UAAU,aAA/0E,IAAI,MAAM,MAAgxE,CAACA,UAAU,YAA1vE,QAAQ,OAAOoC,QAAQC,OAAO,IAAI,EAAA3D,EAAAM,SAAE,2BAA2B,8BAA8B,CAACU,KAAKJ,EAAEI,Q,CAAS,SAASN,EAAEP,GAAG,OAAM,EAAGyD,EAAAC,eAAE1D,EAAEmB,cAAcd,MAAMI,IAAI,CAACG,YAAYH,EAAEE,WAAWX,EAAEW,c,CAAqtE,SAASS,EAAEpB,GAAG,OAAOA,EAAEgB,KAAKhB,EAAEgB,IAAI2C,MAAK,UAAWJ,QAAQK,QAAQ,IAAI5D,EAAEI,OAAOC,MAAM,IAAIL,EAAE2B,cAActB,MAAMmB,MAAMf,GAAO,oBAAoBT,EAAEa,KAAYgD,EAAEpD,QAAQ,EAAAmB,EAAAkC,sBAAErD,EAAET,EAAEgB,OAAa,EAAAY,EAAAC,uBAAEpB,GAAG,EAAEoD,EAAEpD,IAAG,EAAAK,EAAAC,0BAAEf,EAAEgB,KAAKX,KAAKwD,I,CAAM,SAASA,EAAE7D,GAAG,OAAO,KAAI,EAAA4B,EAAAC,uBAAE7B,IAAI,CAACqB,IAAG,EAAAO,EAAAmC,wBAAE/D,G,uTCAroH,IAAAgE,EAAAlE,EAAA,S,0BAA+W,SAASmE,EAAEjE,EAAEU,GAAG,IAAIwD,EAAElE,EAAEU,GAAG,CAAC,MAAMD,EAAET,EAAEkC,aAAazB,EAAEA,EAAE0D,KAAKzD,GAAGV,EAAEkC,aAAa,CAACxB,E,EAAI,SAASwD,EAAElE,EAAEU,G,IAAWqC,EAAR,SAAsB,QAAdA,EAAA/C,EAAEkC,oBAAY,IAAda,OAAA,EAAAA,EAAgBH,SAASlC,G,CAAG,SAAS0D,EAAEpE,EAAEU,GAAG,MAAMD,EAAET,EAAEkC,aAAa,GAAGzB,EAAE,CAAC,MAAM4D,EAAE5D,EAAE6D,QAAQ5D,GAAG2D,GAAE,GAAI5D,EAAE8D,OAAOF,EAAE,E,EAAI7C,eAAegD,EAAExE,GAAG,MAAMU,EAAEV,EAAEyE,QAAQC,YAAY,IAAIjE,EAAE,GAAGC,EAAEyB,OAAO,EAAE,IAAI,MAAMwC,KAAKjE,EAAED,EAAEkE,EAAEC,MAAMnE,EAAEmE,QAAQnE,EAAEkE,GAAGlE,EAAEkE,OAAOlE,EAAEC,EAAE,GAAG,OAArfc,eAAiBqD,GAAG,MAAMC,EAAED,EAAEE,iBAAiB,GAAGD,EAAEE,QAAQ,OAAOH,EAAEJ,QAAQ,GAAGK,EAAEG,cAAc,OAAO,EAAAC,EAAAC,yBAAEN,GAAG,MAAMO,EAAEC,EAAAlF,QAAEmF,MAAM,aAAa,EAAAtB,EAAAuB,sBAAET,EAAEM,IAAG,EAAApB,EAAAwB,SAAEX,EAAEO,E,CAAwWK,CAAEhF,E,CAAG,MAAMiF,EAAE,CAACC,kBAAkB,mBAAmBC,MAAM,4BAA4BC,SAAS,WAAWC,YAAY,aAAaC,aAAa,cAAcC,MAAM,Q","sources":["node_modules/@arcgis/core/portal/support/portalLayers.js","node_modules/@arcgis/core/portal/support/portalItemUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{layerLookupMap as r}from\"../../layers/support/lazyLayerLoader.js\";import t from\"../PortalItem.js\";import{getNumLayersAndTables as a,preprocessFSItemData as n,getFirstLayerOrTableId as s}from\"./layersLoader.js\";import{hasTypeKeyword as o}from\"./portalItemUtils.js\";import{requestArcGISServiceJSON as c}from\"../../support/requestPresets.js\";function u(e){return!e.portalItem||e.portalItem instanceof t||(e={...e,portalItem:new t(e.portalItem)}),i(e.portalItem).then((r=>{const t={portalItem:e.portalItem,...r.properties};return new(0,r.constructor)(t)}))}function i(e){return e.load().then(l).then(y)}function l(r){switch(r.type){case\"Map Service\":return m(r);case\"Feature Service\":return p(r);case\"Feature Collection\":return L(r);case\"Scene Service\":return f(r);case\"Image Service\":return d(r);case\"Stream Service\":return N();case\"Vector Tile Service\":return S();case\"KML\":return I();case\"WFS\":return h();case\"WMTS\":return w();case\"WMS\":return g();case\"Feed\":return T();default:return Promise.reject(new e(\"portal:unknown-item-type\",\"Unknown item type '${type}'\",{type:r.type}))}}function y(e){return(0,r[e.className])().then((r=>({constructor:r,properties:e.properties})))}function m(e){return M(e).then((e=>e?{className:\"TileLayer\"}:{className:\"MapImageLayer\"}))}function p(e){return j(e).then((e=>{if(\"object\"==typeof e){const r={};return null!=e.id&&(r.layerId=e.id),{className:\"FeatureLayer\",properties:r}}return{className:\"GroupLayer\"}}))}function f(e){return j(e).then((r=>{if(\"object\"==typeof r){const t={};let a;if(null!=r.id?(t.layerId=r.id,a=`${e.url}/layers/${r.id}`):a=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0){const r={IntegratedMesh:\"IntegratedMeshLayer\",\"3DObject\":\"SceneLayer\",Point:\"SceneLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};for(const t of Object.keys(r))if(e.typeKeywords.includes(t))return{className:r[t]}}return c(a).then((e=>{let r=\"SceneLayer\";const a={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};return e&&e.layerType&&a[e.layerType]&&(r=a[e.layerType]),{className:r,properties:t}}))}return!1===r?c(e.url).then((e=>\"Voxel\"===e?.layerType?{className:\"VoxelLayer\"}:{className:\"GroupLayer\"})):{className:\"GroupLayer\"}}))}async function L(e){await e.load();if(o(e,\"Map Notes\"))return{className:\"MapNotesLayer\"};if(o(e,\"Route Layer\"))return{className:\"RouteLayer\"};const r=await e.fetchData();return 1===a(r)?{className:\"FeatureLayer\"}:{className:\"GroupLayer\"}}async function d(e){await e.load();const r=e.typeKeywords?.map((e=>e.toLowerCase()))??[];if(r.includes(\"elevation 3d layer\"))return{className:\"ElevationLayer\"};if(r.includes(\"tiled imagery\"))return{className:\"ImageryTileLayer\"};const t=(await e.fetchData())?.layerType;if(\"ArcGISTiledImageServiceLayer\"===t)return{className:\"ImageryTileLayer\"};if(\"ArcGISImageServiceLayer\"===t)return{className:\"ImageryLayer\"};const a=(await c(e.url)).cacheType?.toLowerCase();return\"map\"===a?{className:\"ImageryTileLayer\"}:{className:\"ImageryLayer\"}}function N(){return{className:\"StreamLayer\"}}function S(){return{className:\"VectorTileLayer\"}}function I(){return{className:\"KMLLayer\"}}function h(){return{className:\"WFSLayer\"}}function g(){return{className:\"WMSLayer\"}}function w(){return{className:\"WMTSLayer\"}}function T(){return{className:\"StreamLayer\"}}function M(e){return c(e.url).then((e=>e.tileInfo))}function j(e){return!e.url||e.url.match(/\\/\\d+$/)?Promise.resolve({}):e.load().then((()=>e.fetchData())).then((async r=>{if(\"Feature Service\"===e.type)return v(r=await n(r,e.url));return a(r)>0?v(r):c(e.url).then(v)}))}function v(e){return 1===a(e)&&{id:s(e)}}export{u as fromItem,l as selectLayerClassPath};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{initializeProjection as e,project as t}from\"../../geometry/projection.js\";import r from\"../../geometry/SpatialReference.js\";import{webMercatorToGeographic as o}from\"../../geometry/support/webMercatorUtils.js\";async function n(n){const i=n.spatialReference;if(i.isWGS84)return n.clone();if(i.isWebMercator)return o(n);const s=r.WGS84;return await e(i,s),t(n,s)}function i(e,t){if(!s(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function s(e,t){return!!e.typeKeywords?.includes(t)}function c(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}async function a(e){const t=e.clone().normalize();let r;if(t.length>1)for(const o of t)r?o.width>r.width&&(r=o):r=o;else r=t[0];return n(r)}const f={DEVELOPER_BASEMAP:\"DeveloperBasemap\",JSAPI:\"ArcGIS API for JavaScript\",METADATA:\"Metadata\",MULTI_LAYER:\"Multilayer\",SINGLE_LAYER:\"Singlelayer\",TABLE:\"Table\"};export{f as TypeKeyword,i as addTypeKeyword,a as getWGS84ExtentForItem,s as hasTypeKeyword,c as removeTypeKeyword};\n"],"names":["$kyj08","parcelRequire","$b557370406587932$export$901258c73cdfbc34","e","portalItem","$iYaGG","default","load","then","$b557370406587932$export$b88eb7af879dd096","$b557370406587932$var$y","$b557370406587932$var$i","r","t","properties","constructor","type","$8I1KP","requestArcGISServiceJSON","url","tileInfo","$b557370406587932$var$M","className","$b557370406587932$var$j","id","layerId","$b557370406587932$var$p","async","$7Kuhs","hasTypeKeyword","fetchData","$j0Uz9","getNumLayersAndTables","$b557370406587932$var$L","a","Array","isArray","typeKeywords","length","r1","IntegratedMesh","Point","PointCloud","Building","t1","Object","keys","includes","layerType","$b557370406587932$var$f","ref","ref1","ref2","ref3","map","toLowerCase","cacheType","$b557370406587932$var$d","Promise","reject","$ge5sz","layerLookupMap","match","resolve","$b557370406587932$var$v","preprocessFSItemData","getFirstLayerOrTableId","$7RvA5","$5a44515cfcb51fa9$export$ebb62008aa4e5eb4","$5a44515cfcb51fa9$export$2d83a77b8ca81ab7","push","$5a44515cfcb51fa9$export$fa34c6de0d54b038","e1","indexOf","splice","$5a44515cfcb51fa9$export$326e08b953787a51","clone","normalize","o","width","n","i","spatialReference","isWGS84","isWebMercator","$eF88h","webMercatorToGeographic","s","$j40xv","WGS84","initializeProjection","project","$5a44515cfcb51fa9$var$n","$5a44515cfcb51fa9$export$4e4f481ef4678880","DEVELOPER_BASEMAP","JSAPI","METADATA","MULTI_LAYER","SINGLE_LAYER","TABLE"],"version":3,"file":"portalLayers.49fb42cd.js.map"}