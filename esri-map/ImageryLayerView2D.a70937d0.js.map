{"mappings":"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","sources":["node_modules/@arcgis/core/views/2d/engine/flow/FlowView2D.js","node_modules/@arcgis/core/views/2d/engine/flow/FlowContainer.js","node_modules/@arcgis/core/views/2d/engine/flow/FlowStrategy.js","node_modules/@arcgis/core/views/2d/engine/flow/FlowDisplayData.js","node_modules/@arcgis/core/views/2d/engine/flow/FlowDisplayObject.js","node_modules/@arcgis/core/views/2d/engine/flow/FlowStyle.js","node_modules/@arcgis/core/views/2d/engine/flow/FlowGLResources.js","node_modules/@arcgis/core/views/2d/engine/flow/flowRendererUtils.js","node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFDisplayObject.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import{HandleOwner as r}from\"../../../../core/HandleOwner.js\";import{watch as i}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{loadImagery as a}from\"./dataUtils.js\";import n from\"./FlowContainer.js\";import l from\"./FlowStrategy.js\";import p from\"./FlowStyle.js\";let h=class extends r{constructor(){super(...arguments),this._loadImagery=(t,e,r,i,s)=>a(this.layer,t,e,r,i,s),this._createStreamlinesMesh=(t,e,r)=>this.layer.createStreamlinesMesh({flowData:e,rendererSettings:t},{signal:r}),this.attached=!1,this.container=null,this.layer=null,this.type=\"flow\",this.timeExtent=null,this.redrawOrRefetch=async()=>{this._updateVisualization()}}get updating(){return!this._strategy||this._strategy.updating}attach(){const{layer:t}=this,e=()=>{this._loadImagery=(e,r,i,s,o)=>a(t,e,r,i,s,o),this._updateVisualization()};\"multidimensionalDefinition\"in t?this.handles.add(i((()=>t.multidimensionalDefinition),e)):this.handles.add([i((()=>t.mosaicRule),e),i((()=>t.renderingRule),e),i((()=>t.definitionExpression),e)]),this.container=new n,this._strategy=new l({flowContainer:this.container}),this._updateVisualization()}detach(){this._strategy.destroy(),this.container.removeAllChildren(),this.container=null,this.handles.removeAll()}update(t){t.stationary?this._strategy.update(t):this.layerView.requestUpdate()}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}moveEnd(){}async doRefresh(){}_updateVisualization(){if(\"flow\"!==this.layer.renderer.type)return;const t=new p(this._loadImagery,this._createStreamlinesMesh,this.layer.renderer,this.timeExtent);this.container.flowStyle=t,this.layerView.requestUpdate()}};t([s()],h.prototype,\"_strategy\",void 0),t([s()],h.prototype,\"attached\",void 0),t([s()],h.prototype,\"container\",void 0),t([s()],h.prototype,\"layer\",void 0),t([s()],h.prototype,\"layerView\",void 0),t([s()],h.prototype,\"type\",void 0),t([s()],h.prototype,\"updating\",null),t([s()],h.prototype,\"timeExtent\",void 0),h=t([o(\"esri.views.2d.engine.flow.FlowView2D\")],h);const d=h;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"./BrushFlow.js\";import{WGLDrawPhase as r}from\"../webgl/enums.js\";import s from\"../webgl/WGLContainer.js\";class t extends s{constructor(){super(...arguments),this.flowStyle=null}get requiresDedicatedFBO(){return!1}doRender(e){super.doRender(e)}prepareRenderPasses(s){const t=s.registerRenderPass({name:\"flow\",brushes:[e],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),t]}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import o from\"../../../../core/Accessor.js\";import e from\"../../../../core/Logger.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{isNone as r,isSome as s}from\"../../../../core/maybe.js\";import{isAbortError as a}from\"../../../../core/promiseUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../../geometry/Point.js\";import c from\"./FlowDisplayData.js\";import{FlowDisplayObject as m}from\"./FlowDisplayObject.js\";import d from\"../../../../geometry/Extent.js\";const y=1.15,h=e.getLogger(\"esri.views.2d.engine.flow.FlowStrategy\");let f=class extends o{constructor(t){super(t),this._flowDisplayObject=new m,this._loading=null}initialize(){this.flowContainer.addChild(this._flowDisplayObject)}destroy(){this._clear(),this.flowContainer.removeAllChildren()}get updating(){return null!=this._loading}update(t){const{flowStyle:o}=this.flowContainer;if(r(o))return void this._clear();const{extent:e,rotation:i,resolution:l,pixelRatio:n}=t.state,p=g(e,i);p.expand(y);const m=[Math.round((p.xmax-p.xmin)/l),Math.round((p.ymax-p.ymin)/l)],d=new c(o,p,m,n);if(s(this._loading)){if(this._loading.update(d))return;this._loading.destroy(),this._loading=null}!r(this._flowDisplayObject.displayData)&&this._flowDisplayObject.displayData.update(d)||(d.load().then((()=>{this._flowDisplayObject.clear(),this._flowDisplayObject.displayData=this._loading,this._loading=null}),(t=>{a(t)||(h.error(\"A resource failed to load.\",t),this._loading=null)})),this._loading=d)}_clear(){this._flowDisplayObject.clear(),s(this._loading)&&(this._loading.destroy(),this._loading=null)}};t([l()],f.prototype,\"_loading\",void 0),t([l()],f.prototype,\"flowContainer\",void 0),t([l()],f.prototype,\"updating\",null),f=t([n(\"esri.views.2d.engine.flow.FlowStrategy\")],f);const u=f;function g(t,o){const e=new p({x:(t.xmax+t.xmin)/2,y:(t.ymax+t.ymin)/2,spatialReference:t.spatialReference}),r=t.xmax-t.xmin,s=t.ymax-t.ymin,a=Math.abs(Math.cos(i(o))),l=Math.abs(Math.sin(i(o))),n=a*r+l*s,c=l*r+a*s,m=new d({xmin:e.x-n/2,ymin:e.y-c/2,xmax:e.x+n/2,ymax:e.y+c/2,spatialReference:t.spatialReference});return m.centerAt(e),m}export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";const t=e.getLogger(\"esri.views.2d.engine.flow.FlowDisplayData\");class s{constructor(e,t,s,a){this.state={name:\"created\"},this.flowStyle=e,this.extent=t,this.size=s,this.pixelRatio=a}async load(){const e=new AbortController;this.state={name:\"loading\",abortController:e};const t=await this.flowStyle.loadResources({extent:this.extent,size:this.size,pixelRatio:this.pixelRatio},e.signal);this.state={name:\"loaded\",resources:t}}prepareForRendering(e){if(\"loaded\"!==this.state.name)return void t.error(\"Only loaded resources can be attached.\");const s=this.state.resources;s.prepareForRendering(e),this.state={name:\"attached\",resources:s}}destroy(){if(\"loading\"===this.state.name)return this.state.abortController.abort(),void(this.state={name:\"detached\"});\"attached\"===this.state.name&&(this.state.resources.detach(),this.state={name:\"detached\"})}update(e){if(!this.flowStyle.areResourcesCompatible(e.flowStyle))return!1;return!(!this.extent.equals(e.extent)||this.size[0]!==e.size[0]||this.size[1]!==e.size[1]||this.pixelRatio!==e.pixelRatio)&&(this.flowStyle=e.flowStyle,!0)}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{deg2rad as t}from\"../../../../core/mathUtils.js\";import{isSome as s,isNone as a}from\"../../../../core/maybe.js\";import{l as e,d as i,c as r,r as o}from\"../../../../chunks/mat3.js\";import{c as n}from\"../../../../chunks/mat3f32.js\";import{DisplayObject as l}from\"../DisplayObject.js\";class m extends l{constructor(){super(...arguments),this._displayData=null}get displayData(){return this._displayData}set displayData(t){this._displayData=t,this.requestRender()}clear(){s(this._displayData)&&(this._displayData.destroy(),this._displayData=null,this.requestRender())}setTransform(s){const{displayData:n}=this;if(a(n))return;const l=n.extent.xmin,m=n.extent.ymax,p=[0,0];s.toScreen(p,[l,m]);const c=(n.extent.xmax-n.extent.xmin)/n.size[0]/s.resolution,d=t(s.rotation),{dvs:x}=this.transforms;e(x,[-1,1,0]),i(x,x,[2/(s.size[0]*s.pixelRatio),-2/(s.size[1]*s.pixelRatio),1]),r(x,x,[p[0],p[1],0]),o(x,x,d),i(x,x,[c*s.pixelRatio,c*s.pixelRatio,1])}_createTransforms(){return{dvs:n()}}}export{m as FlowDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import r from\"./FlowGLResources.js\";import{createFlowRendererSettings as i}from\"./flowRendererUtils.js\";class n{constructor(e,t,r,n){this._loadImagery=e,this._createStreamlinesMesh=t,this._timeExtent=n,this._rendererSettings=i(r)}get animated(){return this._rendererSettings.lineSpeed>0}get renderSettings(){return this._rendererSettings}areResourcesCompatible(t){let r=!0;return r=r&&t._loadImagery===this._loadImagery,r=r&&t._createStreamlinesMesh===this._createStreamlinesMesh,r=r&&t._rendererSettings.verticesPerLine===this._rendererSettings.verticesPerLine,r=r&&t._rendererSettings.segmentLength===this._rendererSettings.segmentLength,r=r&&t._rendererSettings.lineSpacing===this._rendererSettings.lineSpacing,r=r&&t._rendererSettings.density===this._rendererSettings.density,r=r&&t._rendererSettings.smoothing===this._rendererSettings.smoothing,r=r&&t._rendererSettings.velocityScale===this._rendererSettings.velocityScale,r=r&&t._rendererSettings.minWeightThreshold===this._rendererSettings.minWeightThreshold,r=r&&t._rendererSettings.minSpeedThreshold===this._rendererSettings.minSpeedThreshold,r=r&&t._rendererSettings.mergeLines===this._rendererSettings.mergeLines,r=r&&t._rendererSettings.velocityScale===this._rendererSettings.velocityScale,r=r&&t._rendererSettings.interpolate===this._rendererSettings.interpolate,r=r&&t._rendererSettings.lineColor.kind===this._rendererSettings.lineColor.kind,r=r&&t._rendererSettings.lineOpacity.kind===this._rendererSettings.lineOpacity.kind,r=r&&t._rendererSettings.lineRenderWidth.kind===this._rendererSettings.lineRenderWidth.kind,r&&this._rendererSettings.mergeLines&&(r=t._rendererSettings.lineCollisionWidth===this._rendererSettings.lineCollisionWidth),r&&t._timeExtent!==this._timeExtent&&(r=!(!e(t._timeExtent)||!e(this._timeExtent))&&t._timeExtent.equals(this._timeExtent)),r}async loadResources(e,i){const{extent:n,size:s}=e;t(i);const d=await this._loadImagery(n,s[0],s[1],this._timeExtent,i),{vertexData:g,indexData:h}=await this._createStreamlinesMesh(this._rendererSettings,d,i);return new r(g,h,{lineColor:this._rendererSettings.lineColor,lineOpacity:this._rendererSettings.lineOpacity,lineRenderWidth:this._rendererSettings.lineRenderWidth})}}export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{BufferObject as e}from\"../../../webgl/BufferObject.js\";import{DataType as t,Usage as r}from\"../../../webgl/enums.js\";import{VertexArrayObject as s}from\"../../../webgl/VertexArrayObject.js\";import{VertexElementDescriptor as i}from\"../../../webgl/VertexElementDescriptor.js\";const a=new Map;a.set(\"a_positionAndSide\",0),a.set(\"a_timeInfo\",1),a.set(\"a_extrude\",2),a.set(\"a_speed\",3);const n={geometry:[new i(\"a_positionAndSide\",3,t.FLOAT,0,36),new i(\"a_timeInfo\",3,t.FLOAT,12,36),new i(\"a_extrude\",2,t.FLOAT,24,36),new i(\"a_speed\",1,t.FLOAT,32,36)]};class o{constructor(e,t,r){this.values=r,this._vertexData=e,this._indexData=t}prepareForRendering(t){const i=e.createVertex(t,r.STATIC_DRAW,this._vertexData),o=e.createIndex(t,r.STATIC_DRAW,this._indexData),d=new s(t,a,n,{geometry:i},o);this.vertexBuffer=i,this.indexBuffer=o,this.vertexArray=d,this._vertexData=null,this._indexData=null}detach(){this.vertexArray.dispose(),this.vertexBuffer.dispose(),this.indexBuffer.dispose()}get locations(){return a}}export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";function t(t){const o=s(t),r=n(o),l=2*r,u=Math.round(e(t.maxPathLength)/l)+1,p=r,c=10,h=i(t),f=a(t),{flowSpeed:d,trailLength:g,density:m}=t;return{lineRenderWidth:o,segmentLength:l,verticesPerLine:u,lineCollisionWidth:p,lineSpacing:c,lineColor:h,lineOpacity:f,lineSpeed:d,fadeDuration:g,density:m,smoothing:e(t.smoothing),velocityScale:\"flow-from\"===t.flowRepresentation?1:-1,minWeightThreshold:.001,minSpeedThreshold:.001,maxTurnAngle:1,mergeLines:!0,interpolate:!0,profile:!1}}function n(e){return\"constant\"===e.kind?e.value[0]:e.values[e.values.length-1]}function o(e){const t=e.toRgba();return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function s(t){if(!t.hasVisualVariables(\"size\"))return{kind:\"constant\",value:[e(t.trailWidth)]};const n=t.getVisualVariablesForType(\"size\")[0],o=[],s=[];let i;if(n.stops){for(const e of n.stops)o.push(e.value),s.push(e.size);i=n.stops.length}else o.push(n.minDataValue,n.maxDataValue),s.push(n.minSize,n.maxSize),i=2;return{kind:\"ramp\",stops:o,values:s,count:i}}function i(e){if(!e.hasVisualVariables(\"color\"))return{kind:\"constant\",value:o(e.color)};const t=e.getVisualVariablesForType(\"color\")[0],n=[],s=[];for(const i of t.stops)n.push(i.value),Array.prototype.push.apply(s,o(i.color));return{kind:\"ramp\",stops:n,values:s,count:t.stops.length}}function a(e){if(!e.hasVisualVariables(\"opacity\"))return{kind:\"constant\",value:[1]};const t=e.getVisualVariablesForType(\"opacity\")[0],n=[],o=[];for(const s of t.stops)n.push(s.value),o.push(s.opacity);return{kind:\"ramp\",stops:n,values:o,count:t.stops.length}}export{t as createFlowRendererSettings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{b as e,c as s,r as a,j as r,m as i}from\"../../../../chunks/mat3.js\";import{c as o}from\"../../../../chunks/mat3f32.js\";import{f as n}from\"../../../../chunks/vec2f32.js\";import{createVFMesh as l,createVFMeshScalar as c}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{DisplayObject as h}from\"../DisplayObject.js\";import{createProgramDescriptor as m}from\"../webgl/Utils.js\";import{BufferObject as u}from\"../../../webgl/BufferObject.js\";import{Usage as d,DataType as v}from\"../../../webgl/enums.js\";import{VertexArrayObject as f}from\"../../../webgl/VertexArrayObject.js\";class _ extends h{constructor(t=null){super(),this._source=null,this._symbolizerParameters=null,this._vaoInvalidated=!0,this.coordScale=[1,1],this.height=null,this.stencilRef=0,this.resolution=null,this.pixelRatio=1,this.x=0,this.y=0,this.rotation=0,this.rawPixelData=null,this.width=null,this.source=t}destroy(){var e,s;t(this.vaoData)&&(null==(e=this.vaoData.magdir)||e.vao.dispose(),null==(s=this.vaoData.scalar)||s.vao.dispose(),this.vaoData=null)}get symbolizerParameters(){return this._symbolizerParameters}set symbolizerParameters(t){JSON.stringify(this._symbolizerParameters)!==JSON.stringify(t)&&(this._symbolizerParameters=t,this.invalidateVAO())}get source(){return this._source}set source(t){this._source=t,this.invalidateVAO()}invalidateVAO(){var e,s;!this._vaoInvalidated&&t(this.vaoData)&&(null==(e=this.vaoData.magdir)||e.vao.dispose(),null==(s=this.vaoData.scalar)||s.vao.dispose(),this.vaoData=null,this._vaoInvalidated=!0,this.requestRender())}updateVectorFieldVAO(e){if(this._vaoInvalidated){if(this._vaoInvalidated=!1,t(this.source)&&!t(this.vaoData)){const{style:t}=this.symbolizerParameters;switch(t){case\"beaufort_ft\":case\"beaufort_km\":case\"beaufort_kn\":case\"beaufort_m\":case\"beaufort_mi\":case\"classified_arrow\":case\"ocean_current_kn\":case\"ocean_current_m\":case\"single_arrow\":{const t=l(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(e.context,t);this.vaoData={magdir:s}}break;case\"simple_scalar\":{const t=c(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(e.context,t);this.vaoData={scalar:s}}break;case\"wind_speed\":{const t=l(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(e.context,t),a=c(this.source,this.symbolizerParameters),r=this._createVectorFieldVAO(e.context,a);this.vaoData={magdir:s,scalar:r}}}}this.ready(),this.requestRender()}}_createTransforms(){return{dvs:o()}}setTransform(t){const o=e(this.transforms.dvs),[l,c]=t.toScreenNoRotation([0,0],[this.x,this.y]),h=this.resolution/this.pixelRatio/t.resolution,m=h*this.width,u=h*this.height,d=Math.PI*this.rotation/180;s(o,o,n(l,c)),s(o,o,n(m/2,u/2)),a(o,o,-d),s(o,o,n(-m/2,-u/2)),r(o,o,n(m,u)),i(this.transforms.dvs,t.displayViewMat3,o)}onAttach(){this.invalidateVAO()}onDetach(){this.invalidateVAO()}_createVectorFieldVAO(t,e){const{vertexData:s,indexData:a}=e,r=u.createVertex(t,d.STATIC_DRAW,new Float32Array(s)),i=u.createIndex(t,d.STATIC_DRAW,new Uint32Array(a)),o=m(\"vector-field\",{geometry:[{location:0,name:\"a_pos\",count:2,type:v.FLOAT,normalized:!1},{location:1,name:\"a_offset\",count:2,type:v.FLOAT,normalized:!1},{location:2,name:\"a_vv\",count:2,type:v.FLOAT,normalized:!1}]});return{vao:new f(t,o.attributes,o.bufferLayouts,{geometry:r},i),elementCount:a.length}}}export{_ as RasterVFDisplayObject};\n"],"names":["$j6uz9","parcelRequire","$8e901efa2ce76e0c$var$h","$8Y9g8","HandleOwner","updating","this","_strategy","attach","layer","t1","e1","_loadImagery","e2","r1","i1","s1","o1","$fDLIP","loadImagery","_updateVisualization","handles","add","$cc23H","watch","multidimensionalDefinition","mosaicRule","renderingRule","definitionExpression","container","$kjhDk","default","$eYUjf","flowContainer","detach","destroy","removeAllChildren","removeAll","update","t2","stationary","layerView","requestUpdate","hitTest","t3","$EvxpF","attributes","geometry","clone","moveEnd","async","renderer","type","t4","$kUbzA","_createStreamlinesMesh","timeExtent","flowStyle","constructor","super","arguments","t5","e3","r2","i2","s2","t6","e4","r3","createStreamlinesMesh","flowData","rendererSettings","signal","attached","redrawOrRefetch","_","$hTI69","property","prototype","$qA6zg","subclass","$8e901efa2ce76e0c$export$2e2bcd8739ae039","$itWlV","$ec93429fa48b0713$export$2e2bcd8739ae039","$eqJSJ","requiresDedicatedFBO","doRender","prepareRenderPasses","registerRenderPass","name","brushes","target","children","drawPhase","$eyQUy","WGLDrawPhase","MAP","$ae82592fe0311c91$var$h","$6TszD","getLogger","$ae82592fe0311c91$var$f","$27btt","initialize","addChild","_flowDisplayObject","_clear","_loading","$1CpCt","isNone","extent","rotation","resolution","l1","pixelRatio","n1","state","p1","o2","$dZxPT","x","xmax","xmin","y","ymax","ymin","spatialReference","a1","Math","abs","cos","$8TN87","deg2rad","l2","sin","n2","c1","m2","$2WnyR","centerAt","$ae82592fe0311c91$var$g","expand","m1","round","d1","$iIVyQ","isSome","displayData","load","then","clear","$lHg4e","isAbortError","error","$jGcRa","FlowDisplayObject","$ae82592fe0311c91$export$2e2bcd8739ae039","$da18fc735735fc70$var$t","$da18fc735735fc70$export$2e2bcd8739ae039","AbortController","abortController","loadResources","size","resources","prepareForRendering","abort","areResourcesCompatible","equals","a","$e53be99f40e7ccf9$export$74620219ee0cad77","$5aS5k","DisplayObject","_displayData","requestRender","setTransform","p","toScreen","c","d","dvs","transforms","$52822","l","r","_createTransforms","$jsolS","$f38203c6e0362689$export$2e2bcd8739ae039","animated","_rendererSettings","lineSpeed","renderSettings","verticesPerLine","segmentLength","lineSpacing","density","smoothing","velocityScale","minWeightThreshold","minSpeedThreshold","mergeLines","interpolate","lineColor","kind","lineOpacity","lineRenderWidth","lineCollisionWidth","_timeExtent","s","throwIfAborted","vertexData","g","indexData","h","$fIZGo","$7O4F9","createFlowRendererSettings","$g0mVO","$b72ad000838ce859$var$a","Map","set","$b72ad000838ce859$var$n","$hSAA2","VertexElementDescriptor","$l3QXd","DataType","FLOAT","$b72ad000838ce859$export$2e2bcd8739ae039","BufferObject","createVertex","Usage","STATIC_DRAW","_vertexData","createIndex","_indexData","$4radX","VertexArrayObject","vertexBuffer","indexBuffer","vertexArray","dispose","locations","values","$jCR4P","$5af0d1d7b43d0677$export$fb98e99923ae3302","hasVisualVariables","value","pt2px","trailWidth","getVisualVariablesForType","stops","push","length","minDataValue","maxDataValue","minSize","maxSize","count","$5af0d1d7b43d0677$var$s","u","maxPathLength","$5af0d1d7b43d0677$var$o","color","Array","apply","$5af0d1d7b43d0677$var$i","f","e5","n3","o3","s3","opacity","$5af0d1d7b43d0677$var$a","flowSpeed","trailLength","m","fadeDuration","flowRepresentation","maxTurnAngle","profile","toRgba","$ba1fe05c5a5ce2c3$export$9d2a8264387b6f07","vaoData","magdir","vao","scalar","symbolizerParameters","_symbolizerParameters","JSON","stringify","invalidateVAO","source","_source","_vaoInvalidated","updateVectorFieldVAO","style","$dqihR","createVFMesh","_createVectorFieldVAO","context","createVFMeshScalar","s4","s5","ready","t7","b","toScreenNoRotation","h1","width","u1","height","PI","$gLni9","j","displayViewMat3","onAttach","onDetach","t8","s6","a2","Float32Array","Uint32Array","$cPgEa","createProgramDescriptor","location","normalized","bufferLayouts","elementCount","t9","coordScale","stencilRef","rawPixelData"],"version":3,"file":"ImageryLayerView2D.a70937d0.js.map"}