{"mappings":"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","sources":["node_modules/@arcgis/core/views/2d/engine/flow/FlowView2D.js","node_modules/@arcgis/core/views/2d/engine/flow/FlowContainer.js","node_modules/@arcgis/core/views/2d/engine/flow/FlowStrategy.js","node_modules/@arcgis/core/views/2d/engine/flow/FlowDisplayData.js","node_modules/@arcgis/core/views/2d/engine/flow/FlowDisplayObject.js","node_modules/@arcgis/core/views/2d/engine/flow/FlowStyle.js","node_modules/@arcgis/core/views/2d/engine/flow/FlowGLResources.js","node_modules/@arcgis/core/views/2d/engine/flow/flowRendererUtils.js","node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFDisplayObject.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import{HandleOwner as r}from\"../../../../core/HandleOwner.js\";import{watch as i}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{loadImagery as a}from\"./dataUtils.js\";import n from\"./FlowContainer.js\";import l from\"./FlowStrategy.js\";import p from\"./FlowStyle.js\";let h=class extends r{constructor(){super(...arguments),this._loadImagery=(t,e,r,i,s)=>a(this.layer,t,e,r,i,s),this._createStreamlinesMesh=(t,e,r)=>this.layer.createStreamlinesMesh({flowData:e,rendererSettings:t},{signal:r}),this.attached=!1,this.container=null,this.layer=null,this.type=\"flow\",this.timeExtent=null,this.redrawOrRefetch=async()=>{this._updateVisualization()}}get updating(){return!this._strategy||this._strategy.updating}attach(){const{layer:t}=this,e=()=>{this._loadImagery=(e,r,i,s,o)=>a(t,e,r,i,s,o),this._updateVisualization()};\"multidimensionalDefinition\"in t?this.handles.add(i((()=>t.multidimensionalDefinition),e)):this.handles.add([i((()=>t.mosaicRule),e),i((()=>t.renderingRule),e),i((()=>t.definitionExpression),e)]),this.container=new n,this._strategy=new l({flowContainer:this.container}),this._updateVisualization()}detach(){this._strategy.destroy(),this.container.removeAllChildren(),this.container=null,this.handles.removeAll()}update(t){t.stationary?this._strategy.update(t):this.layerView.requestUpdate()}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}moveEnd(){}async doRefresh(){}_updateVisualization(){if(\"flow\"!==this.layer.renderer.type)return;const t=new p(this._loadImagery,this._createStreamlinesMesh,this.layer.renderer,this.timeExtent);this.container.flowStyle=t,this.layerView.requestUpdate()}};t([s()],h.prototype,\"_strategy\",void 0),t([s()],h.prototype,\"attached\",void 0),t([s()],h.prototype,\"container\",void 0),t([s()],h.prototype,\"layer\",void 0),t([s()],h.prototype,\"layerView\",void 0),t([s()],h.prototype,\"type\",void 0),t([s()],h.prototype,\"updating\",null),t([s()],h.prototype,\"timeExtent\",void 0),h=t([o(\"esri.views.2d.engine.flow.FlowView2D\")],h);const d=h;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"./BrushFlow.js\";import{WGLDrawPhase as r}from\"../webgl/enums.js\";import s from\"../webgl/WGLContainer.js\";class t extends s{constructor(){super(...arguments),this.flowStyle=null}get requiresDedicatedFBO(){return!1}doRender(e){super.doRender(e)}prepareRenderPasses(s){const t=s.registerRenderPass({name:\"flow\",brushes:[e],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),t]}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import o from\"../../../../core/Accessor.js\";import e from\"../../../../core/Logger.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{isNone as r,isSome as s}from\"../../../../core/maybe.js\";import{isAbortError as a}from\"../../../../core/promiseUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../../geometry/Point.js\";import c from\"./FlowDisplayData.js\";import{FlowDisplayObject as m}from\"./FlowDisplayObject.js\";import d from\"../../../../geometry/Extent.js\";const y=1.15,h=e.getLogger(\"esri.views.2d.engine.flow.FlowStrategy\");let f=class extends o{constructor(t){super(t),this._flowDisplayObject=new m,this._loading=null}initialize(){this.flowContainer.addChild(this._flowDisplayObject)}destroy(){this._clear(),this.flowContainer.removeAllChildren()}get updating(){return null!=this._loading}update(t){const{flowStyle:o}=this.flowContainer;if(r(o))return void this._clear();const{extent:e,rotation:i,resolution:l,pixelRatio:n}=t.state,p=g(e,i);p.expand(y);const m=[Math.round((p.xmax-p.xmin)/l),Math.round((p.ymax-p.ymin)/l)],d=new c(o,p,m,n);if(s(this._loading)){if(this._loading.update(d))return;this._loading.destroy(),this._loading=null}!r(this._flowDisplayObject.displayData)&&this._flowDisplayObject.displayData.update(d)||(d.load().then((()=>{this._flowDisplayObject.clear(),this._flowDisplayObject.displayData=this._loading,this._loading=null}),(t=>{a(t)||(h.error(\"A resource failed to load.\",t),this._loading=null)})),this._loading=d)}_clear(){this._flowDisplayObject.clear(),s(this._loading)&&(this._loading.destroy(),this._loading=null)}};t([l()],f.prototype,\"_loading\",void 0),t([l()],f.prototype,\"flowContainer\",void 0),t([l()],f.prototype,\"updating\",null),f=t([n(\"esri.views.2d.engine.flow.FlowStrategy\")],f);const u=f;function g(t,o){const e=new p({x:(t.xmax+t.xmin)/2,y:(t.ymax+t.ymin)/2,spatialReference:t.spatialReference}),r=t.xmax-t.xmin,s=t.ymax-t.ymin,a=Math.abs(Math.cos(i(o))),l=Math.abs(Math.sin(i(o))),n=a*r+l*s,c=l*r+a*s,m=new d({xmin:e.x-n/2,ymin:e.y-c/2,xmax:e.x+n/2,ymax:e.y+c/2,spatialReference:t.spatialReference});return m.centerAt(e),m}export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";const t=e.getLogger(\"esri.views.2d.engine.flow.FlowDisplayData\");class s{constructor(e,t,s,a){this.state={name:\"created\"},this.flowStyle=e,this.extent=t,this.size=s,this.pixelRatio=a}async load(){const e=new AbortController;this.state={name:\"loading\",abortController:e};const t=await this.flowStyle.loadResources({extent:this.extent,size:this.size,pixelRatio:this.pixelRatio},e.signal);this.state={name:\"loaded\",resources:t}}prepareForRendering(e){if(\"loaded\"!==this.state.name)return void t.error(\"Only loaded resources can be attached.\");const s=this.state.resources;s.prepareForRendering(e),this.state={name:\"attached\",resources:s}}destroy(){if(\"loading\"===this.state.name)return this.state.abortController.abort(),void(this.state={name:\"detached\"});\"attached\"===this.state.name&&(this.state.resources.detach(),this.state={name:\"detached\"})}update(e){if(!this.flowStyle.areResourcesCompatible(e.flowStyle))return!1;return!(!this.extent.equals(e.extent)||this.size[0]!==e.size[0]||this.size[1]!==e.size[1]||this.pixelRatio!==e.pixelRatio)&&(this.flowStyle=e.flowStyle,!0)}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{deg2rad as t}from\"../../../../core/mathUtils.js\";import{isSome as s,isNone as a}from\"../../../../core/maybe.js\";import{l as e,d as i,c as r,r as o}from\"../../../../chunks/mat3.js\";import{c as n}from\"../../../../chunks/mat3f32.js\";import{DisplayObject as l}from\"../DisplayObject.js\";class m extends l{constructor(){super(...arguments),this._displayData=null}get displayData(){return this._displayData}set displayData(t){this._displayData=t,this.requestRender()}clear(){s(this._displayData)&&(this._displayData.destroy(),this._displayData=null,this.requestRender())}setTransform(s){const{displayData:n}=this;if(a(n))return;const l=n.extent.xmin,m=n.extent.ymax,p=[0,0];s.toScreen(p,[l,m]);const c=(n.extent.xmax-n.extent.xmin)/n.size[0]/s.resolution,d=t(s.rotation),{dvs:x}=this.transforms;e(x,[-1,1,0]),i(x,x,[2/(s.size[0]*s.pixelRatio),-2/(s.size[1]*s.pixelRatio),1]),r(x,x,[p[0],p[1],0]),o(x,x,d),i(x,x,[c*s.pixelRatio,c*s.pixelRatio,1])}_createTransforms(){return{dvs:n()}}}export{m as FlowDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{throwIfAborted as t}from\"../../../../core/promiseUtils.js\";import r from\"./FlowGLResources.js\";import{createFlowRendererSettings as i}from\"./flowRendererUtils.js\";class n{constructor(e,t,r,n){this._loadImagery=e,this._createStreamlinesMesh=t,this._timeExtent=n,this._rendererSettings=i(r)}get animated(){return this._rendererSettings.lineSpeed>0}get renderSettings(){return this._rendererSettings}areResourcesCompatible(t){let r=!0;return r=r&&t._loadImagery===this._loadImagery,r=r&&t._createStreamlinesMesh===this._createStreamlinesMesh,r=r&&t._rendererSettings.verticesPerLine===this._rendererSettings.verticesPerLine,r=r&&t._rendererSettings.segmentLength===this._rendererSettings.segmentLength,r=r&&t._rendererSettings.lineSpacing===this._rendererSettings.lineSpacing,r=r&&t._rendererSettings.density===this._rendererSettings.density,r=r&&t._rendererSettings.smoothing===this._rendererSettings.smoothing,r=r&&t._rendererSettings.velocityScale===this._rendererSettings.velocityScale,r=r&&t._rendererSettings.minWeightThreshold===this._rendererSettings.minWeightThreshold,r=r&&t._rendererSettings.minSpeedThreshold===this._rendererSettings.minSpeedThreshold,r=r&&t._rendererSettings.mergeLines===this._rendererSettings.mergeLines,r=r&&t._rendererSettings.velocityScale===this._rendererSettings.velocityScale,r=r&&t._rendererSettings.interpolate===this._rendererSettings.interpolate,r=r&&t._rendererSettings.lineColor.kind===this._rendererSettings.lineColor.kind,r=r&&t._rendererSettings.lineOpacity.kind===this._rendererSettings.lineOpacity.kind,r=r&&t._rendererSettings.lineRenderWidth.kind===this._rendererSettings.lineRenderWidth.kind,r&&this._rendererSettings.mergeLines&&(r=t._rendererSettings.lineCollisionWidth===this._rendererSettings.lineCollisionWidth),r&&t._timeExtent!==this._timeExtent&&(r=!(!e(t._timeExtent)||!e(this._timeExtent))&&t._timeExtent.equals(this._timeExtent)),r}async loadResources(e,i){const{extent:n,size:s}=e;t(i);const d=await this._loadImagery(n,s[0],s[1],this._timeExtent,i),{vertexData:g,indexData:h}=await this._createStreamlinesMesh(this._rendererSettings,d,i);return new r(g,h,{lineColor:this._rendererSettings.lineColor,lineOpacity:this._rendererSettings.lineOpacity,lineRenderWidth:this._rendererSettings.lineRenderWidth})}}export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{BufferObject as e}from\"../../../webgl/BufferObject.js\";import{DataType as t,Usage as r}from\"../../../webgl/enums.js\";import{VertexArrayObject as s}from\"../../../webgl/VertexArrayObject.js\";import{VertexElementDescriptor as i}from\"../../../webgl/VertexElementDescriptor.js\";const a=new Map;a.set(\"a_positionAndSide\",0),a.set(\"a_timeInfo\",1),a.set(\"a_extrude\",2),a.set(\"a_speed\",3);const n={geometry:[new i(\"a_positionAndSide\",3,t.FLOAT,0,36),new i(\"a_timeInfo\",3,t.FLOAT,12,36),new i(\"a_extrude\",2,t.FLOAT,24,36),new i(\"a_speed\",1,t.FLOAT,32,36)]};class o{constructor(e,t,r){this.values=r,this._vertexData=e,this._indexData=t}prepareForRendering(t){const i=e.createVertex(t,r.STATIC_DRAW,this._vertexData),o=e.createIndex(t,r.STATIC_DRAW,this._indexData),d=new s(t,a,n,{geometry:i},o);this.vertexBuffer=i,this.indexBuffer=o,this.vertexArray=d,this._vertexData=null,this._indexData=null}detach(){this.vertexArray.dispose(),this.vertexBuffer.dispose(),this.indexBuffer.dispose()}get locations(){return a}}export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";function t(t){const o=s(t),r=n(o),l=2*r,u=Math.round(e(t.maxPathLength)/l)+1,p=r,c=10,h=i(t),f=a(t),{flowSpeed:d,trailLength:g,density:m}=t;return{lineRenderWidth:o,segmentLength:l,verticesPerLine:u,lineCollisionWidth:p,lineSpacing:c,lineColor:h,lineOpacity:f,lineSpeed:d,fadeDuration:g,density:m,smoothing:e(t.smoothing),velocityScale:\"flow-from\"===t.flowRepresentation?1:-1,minWeightThreshold:.001,minSpeedThreshold:.001,maxTurnAngle:1,mergeLines:!0,interpolate:!0,profile:!1}}function n(e){return\"constant\"===e.kind?e.value[0]:e.values[e.values.length-1]}function o(e){const t=e.toRgba();return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function s(t){if(!t.hasVisualVariables(\"size\"))return{kind:\"constant\",value:[e(t.trailWidth)]};const n=t.getVisualVariablesForType(\"size\")[0],o=[],s=[];let i;if(n.stops){for(const e of n.stops)o.push(e.value),s.push(e.size);i=n.stops.length}else o.push(n.minDataValue,n.maxDataValue),s.push(n.minSize,n.maxSize),i=2;return{kind:\"ramp\",stops:o,values:s,count:i}}function i(e){if(!e.hasVisualVariables(\"color\"))return{kind:\"constant\",value:o(e.color)};const t=e.getVisualVariablesForType(\"color\")[0],n=[],s=[];for(const i of t.stops)n.push(i.value),Array.prototype.push.apply(s,o(i.color));return{kind:\"ramp\",stops:n,values:s,count:t.stops.length}}function a(e){if(!e.hasVisualVariables(\"opacity\"))return{kind:\"constant\",value:[1]};const t=e.getVisualVariablesForType(\"opacity\")[0],n=[],o=[];for(const s of t.stops)n.push(s.value),o.push(s.opacity);return{kind:\"ramp\",stops:n,values:o,count:t.stops.length}}export{t as createFlowRendererSettings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{b as e,c as s,r as a,j as r,m as i}from\"../../../../chunks/mat3.js\";import{c as o}from\"../../../../chunks/mat3f32.js\";import{f as n}from\"../../../../chunks/vec2f32.js\";import{createVFMesh as l,createVFMeshScalar as c}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{DisplayObject as h}from\"../DisplayObject.js\";import{createProgramDescriptor as m}from\"../webgl/Utils.js\";import{BufferObject as u}from\"../../../webgl/BufferObject.js\";import{Usage as d,DataType as v}from\"../../../webgl/enums.js\";import{VertexArrayObject as f}from\"../../../webgl/VertexArrayObject.js\";class _ extends h{constructor(t=null){super(),this._source=null,this._symbolizerParameters=null,this._vaoInvalidated=!0,this.coordScale=[1,1],this.height=null,this.stencilRef=0,this.resolution=null,this.pixelRatio=1,this.x=0,this.y=0,this.rotation=0,this.rawPixelData=null,this.width=null,this.source=t}destroy(){var e,s;t(this.vaoData)&&(null==(e=this.vaoData.magdir)||e.vao.dispose(),null==(s=this.vaoData.scalar)||s.vao.dispose(),this.vaoData=null)}get symbolizerParameters(){return this._symbolizerParameters}set symbolizerParameters(t){JSON.stringify(this._symbolizerParameters)!==JSON.stringify(t)&&(this._symbolizerParameters=t,this.invalidateVAO())}get source(){return this._source}set source(t){this._source=t,this.invalidateVAO()}invalidateVAO(){var e,s;!this._vaoInvalidated&&t(this.vaoData)&&(null==(e=this.vaoData.magdir)||e.vao.dispose(),null==(s=this.vaoData.scalar)||s.vao.dispose(),this.vaoData=null,this._vaoInvalidated=!0,this.requestRender())}updateVectorFieldVAO(e){if(this._vaoInvalidated){if(this._vaoInvalidated=!1,t(this.source)&&!t(this.vaoData)){const{style:t}=this.symbolizerParameters;switch(t){case\"beaufort_ft\":case\"beaufort_km\":case\"beaufort_kn\":case\"beaufort_m\":case\"beaufort_mi\":case\"classified_arrow\":case\"ocean_current_kn\":case\"ocean_current_m\":case\"single_arrow\":{const t=l(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(e.context,t);this.vaoData={magdir:s}}break;case\"simple_scalar\":{const t=c(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(e.context,t);this.vaoData={scalar:s}}break;case\"wind_speed\":{const t=l(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(e.context,t),a=c(this.source,this.symbolizerParameters),r=this._createVectorFieldVAO(e.context,a);this.vaoData={magdir:s,scalar:r}}}}this.ready(),this.requestRender()}}_createTransforms(){return{dvs:o()}}setTransform(t){const o=e(this.transforms.dvs),[l,c]=t.toScreenNoRotation([0,0],[this.x,this.y]),h=this.resolution/this.pixelRatio/t.resolution,m=h*this.width,u=h*this.height,d=Math.PI*this.rotation/180;s(o,o,n(l,c)),s(o,o,n(m/2,u/2)),a(o,o,-d),s(o,o,n(-m/2,-u/2)),r(o,o,n(m,u)),i(this.transforms.dvs,t.displayViewMat3,o)}onAttach(){this.invalidateVAO()}onDetach(){this.invalidateVAO()}_createVectorFieldVAO(t,e){const{vertexData:s,indexData:a}=e,r=u.createVertex(t,d.STATIC_DRAW,new Float32Array(s)),i=u.createIndex(t,d.STATIC_DRAW,new Uint32Array(a)),o=m(\"vector-field\",{geometry:[{location:0,name:\"a_pos\",count:2,type:v.FLOAT,normalized:!1},{location:1,name:\"a_offset\",count:2,type:v.FLOAT,normalized:!1},{location:2,name:\"a_vv\",count:2,type:v.FLOAT,normalized:!1}]});return{vao:new f(t,o.attributes,o.bufferLayouts,{geometry:r},i),elementCount:a.length}}}export{_ as RasterVFDisplayObject};\n"],"names":["$8TSCy","parcelRequire","$846baa144f688b2c$var$h","r1","_this","_super","call","apply","Array","prototype","slice","arguments","_loadImagery","t1","e1","r2","i1","s1","$k8DEI","loadImagery","layer","_createStreamlinesMesh","t2","e2","r3","createStreamlinesMesh","flowData","rendererSettings","signal","attached","container","type","timeExtent","redrawOrRefetch","asyncToGenerator","$parcel$interopDefault","$2TvXO","mark","_callee","_this1","_updateVisualization","key","this","_strategy","updating","_$t","e3","e4","r4","i2","s2","o1","handles","add","$lKPaD","watch","multidimensionalDefinition","mosaicRule","renderingRule","definitionExpression","$2lvFe","default","$7nh2K","flowContainer","destroy","removeAllChildren","removeAll","t3","stationary","update","layerView","requestUpdate","t4","$bsvXr","attributes","geometry","clone","renderer","$b0IdD","flowStyle","$6dXDO","HandleOwner","$7eJjO","_","$iho5X","property","$846baa144f688b2c$export$2e2bcd8739ae039","$fcwIv","subclass","$1b561abcd7302f9c$export$2e2bcd8739ae039","get","getPrototypeOf","registerRenderPass","name","brushes","$8CQO9","target","children","drawPhase","$66IJZ","WGLDrawPhase","MAP","toConsumableArray","concat","$55e7e6d47a717558$var$h","$jHOLN","getLogger","$55e7e6d47a717558$var$f","_flowDisplayObject","$lJ9eF","FlowDisplayObject","_loading","addChild","_clear","_$o","$7qybv","isNone","_state","state","_$e","extent","rotation","_$l","resolution","_$n","pixelRatio","p1","o2","$d1Fqh","x","xmax","xmin","y","ymax","ymin","spatialReference","a1","Math","abs","cos","$iVfa0","deg2rad","sin","c1","m2","$gINRd","centerAt","$55e7e6d47a717558$var$g","expand","m1","round","d1","$fIstg","isSome","displayData","load","then","clear","$10vEZ","isAbortError","error","$jymfC","$55e7e6d47a717558$export$2e2bcd8739ae039","$b7110cd4d635ae37$var$t","$b7110cd4d635ae37$export$2e2bcd8739ae039","a","size","AbortController","abortController","loadResources","_ctx","sent","resources","s3","prepareForRendering","abort","detach","areResourcesCompatible","equals","$fd14f6f58de85093$export$74620219ee0cad77","l1","_displayData","requestRender","n1","p","toScreen","c","d","transforms","dvs","$j3x2p","l","r","$eYrMi","DisplayObject","$8041febb46dc3505$export$2e2bcd8739ae039","_timeExtent","_rendererSettings","$jcKoJ","createFlowRendererSettings","lineSpeed","verticesPerLine","segmentLength","lineSpacing","density","smoothing","velocityScale","minWeightThreshold","minSpeedThreshold","mergeLines","interpolate","lineColor","kind","lineOpacity","lineRenderWidth","lineCollisionWidth","n3","s","ref","g","h","throwIfAborted","vertexData","indexData","$hzTjs","$ccc09c86cd2cdabb$var$a","Map","set","$ccc09c86cd2cdabb$var$n","$LW1Aq","VertexElementDescriptor","$8JzMA","DataType","FLOAT","$ccc09c86cd2cdabb$export$2e2bcd8739ae039","values","_vertexData","_indexData","_$i","$iRJeW","BufferObject","createVertex","Usage","STATIC_DRAW","createIndex","$4aQus","VertexArrayObject","vertexBuffer","indexBuffer","vertexArray","dispose","$iXlXu","$dfb320f8564540aa$export$fb98e99923ae3302","hasVisualVariables","value","pt2px","trailWidth","getVisualVariablesForType","stops","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","push","err","return","length","minDataValue","maxDataValue","minSize","maxSize","count","$dfb320f8564540aa$var$s","maxPathLength","$dfb320f8564540aa$var$o","color","n2","$dfb320f8564540aa$var$i","t5","o3","opacity","$dfb320f8564540aa$var$a","flowSpeed","fadeDuration","trailLength","flowRepresentation","maxTurnAngle","profile","toRgba","$6dbc3ab2ea55185f$export$9d2a8264387b6f07","h1","_source","_symbolizerParameters","_vaoInvalidated","coordScale","height","stencilRef","rawPixelData","width","source","vaoData","magdir","vao","scalar","JSON","stringify","invalidateVAO","symbolizerParameters","style","_$t1","$2hwKJ","createVFMesh","s5","_createVectorFieldVAO","context","_$t2","createVFMeshScalar","_$t3","s4","ready","b","slicedToArray","toScreenNoRotation","_$h","u1","PI","$0P8XU","f","j","m","displayViewMat3","s6","a2","Float32Array","Uint32Array","$5WctK","createProgramDescriptor","location","normalized","bufferLayouts","elementCount","$2qlsz"],"version":3,"file":"ImageryLayerView2D.2f688a20.js.map"}