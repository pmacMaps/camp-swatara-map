function e(e,t,i,n){Object.defineProperty(e,t,{get:i,set:n,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("dHl3U",(function(i,n){var r;r=i.exports,Object.defineProperty(r,"__esModule",{value:!0,configurable:!0}),e(i.exports,"default",(function(){return c}));var s=t("j6uz9");t("6TszD"),t("gHCNy"),t("aX9sh"),t("5HTPH"),t("bXKTN");var a=t("qA6zg"),o=t("lstEf"),l=t("5fnra");let u=class extends((0,l.OGCFeatureLayerView)(o.default)){supportsSpatialReference(e){return this.layer.serviceSupportsSpatialReference(e)}};u=(0,s._)([(0,a.subclass)("esri.views.2d.layers.OGCFeatureLayerView2D")],u);const c=u})),t.register("5fnra",(function(i,n){e(i.exports,"OGCFeatureLayerView",(function(){return o}));var r=t("j6uz9"),s=t("hTI69");t("aX9sh"),t("5HTPH"),t("gHCNy");var a=t("qA6zg");const o=e=>{let t=class extends e{get availableFields(){return this.layer.fieldsIndex.fields.map((e=>e.name))}};return(0,r._)([(0,s.property)()],t.prototype,"layer",void 0),(0,r._)([(0,s.property)({readOnly:!0})],t.prototype,"availableFields",null),t=(0,r._)([(0,a.subclass)("esri.views.layers.OGCFeatureLayerView")],t),t}})),t.register("1kNSi",(function(i,n){e(i.exports,"toQuantizationTransform",(function(){return u})),e(i.exports,"quantizePoint",(function(){return g})),e(i.exports,"quantizeGeometry",(function(){return x})),e(i.exports,"unquantizeMultipoint",(function(){return b})),e(i.exports,"unquantizePoint",(function(){return _})),e(i.exports,"unquantizePolygon",(function(){return T})),e(i.exports,"unquantizePolyline",(function(){return L}));var r=t("1CpCt"),s=t("86d4E");const a=(e,t,i)=>[t,i],o=(e,t,i)=>[t,i,e[2]],l=(e,t,i)=>[t,i,e[2],e[3]];function u(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance]:[1,1],translate:(0,r.isSome)(e.extent)?[e.extent.xmin,e.extent.ymax]:[0,0]}:null}function c({scale:e,translate:t},i){return Math.round((i-t[0])/e[0])}function h({scale:e,translate:t},i){return Math.round((t[1]-i)/e[1])}function d(e,t,i){const n=[];let r,s,a,o;for(let l=0;l<i.length;l++){const u=i[l];l>0?(a=c(e,u[0]),o=h(e,u[1]),a===r&&o===s||(n.push(t(u,a-r,o-s)),r=a,s=o)):(r=c(e,u[0]),s=h(e,u[1]),n.push(t(u,r,s)))}return n.length>0?n:null}function f({scale:e,translate:t},i){return i*e[0]+t[0]}function p({scale:e,translate:t},i){return t[1]-i*e[1]}function v(e,t,i){const n=new Array(i.length);if(!i.length)return n;const[r,s]=e.scale;let a=f(e,i[0][0]),o=p(e,i[0][1]);n[0]=t(i[0],a,o);for(let e=1;e<i.length;e++){const l=i[e];a+=l[0]*r,o-=l[1]*s,n[e]=t(l,a,o)}return n}function m(e,t,i){const n=new Array(i.length);for(let r=0;r<i.length;r++)n[r]=v(e,t,i[r]);return n}function y(e,t,i,n,r){return t.points=(s=e,u=i.points,c=r,d(s,n?c?l:o:c?o:a,u)),t;var s,u,c}function g(e,t,i,n,r){return t.x=c(e,i.x),t.y=h(e,i.y),t!==i&&(n&&(t.z=i.z),r&&(t.m=i.m)),t}function S(e,t,i,n,r){const s=function(e,t,i,n){const r=[],s=i?n?l:o:n?o:a;for(let i=0;i<t.length;i++){const n=d(e,s,t[i]);n&&n.length>=3&&r.push(n)}return r.length?r:null}(e,i.rings,n,r);return s?(t.rings=s,t):null}function V(e,t,i,n,r){const s=function(e,t,i,n){const r=[],s=i?n?l:o:n?o:a;for(let i=0;i<t.length;i++){const n=d(e,s,t[i]);n&&n.length>=2&&r.push(n)}return r.length?r:null}(e,i.paths,n,r);return s?(t.paths=s,t):null}function x(e,t){return e&&t?(0,s.isPoint)(t)?g(e,{},t,!1,!1):(0,s.isPolyline)(t)?V(e,{},t,!1,!1):(0,s.isPolygon)(t)?S(e,{},t,!1,!1):(0,s.isMultipoint)(t)?y(e,{},t,!1,!1):(0,s.isExtent)(t)?(a=!1,o=!1,(n={}).xmin=c(i=e,(r=t).xmin),n.ymin=h(i,r.ymin),n.xmax=c(i,r.xmax),n.ymax=h(i,r.ymax),n!==r&&(a&&(n.zmin=r.zmin,n.zmax=r.zmax),o&&(n.mmin=r.mmin,n.mmax=r.mmax)),n):null:null;var i,n,r,a,o}function b(e,t,i,n,s){return(0,r.isSome)(i)&&(t.points=(u=e,c=i.points,h=s,v(u,n?h?l:o:h?o:a,c))),t;var u,c,h}function _(e,t,i,n,s){return(0,r.isNone)(i)||(t.x=f(e,i.x),t.y=p(e,i.y),t!==i&&(n&&(t.z=i.z),s&&(t.m=i.m))),t}function T(e,t,i,n,s){return(0,r.isSome)(i)&&(t.rings=(u=e,c=i.rings,h=s,m(u,n?h?l:o:h?o:a,c))),t;var u,c,h}function L(e,t,i,n,s){return(0,r.isSome)(i)&&(t.paths=(u=e,c=i.paths,h=s,m(u,n?h?l:o:h?o:a,c))),t;var u,c,h}})),t.register("3mbeV",(function(t,i){e(t.exports,"u32to4Xu8",(function(){return r})),e(t.exports,"i1616to32",(function(){return s})),e(t.exports,"i8888to32",(function(){return a}));const n=new Float32Array(1);new Uint32Array(n.buffer);function r(e){return[255&e,(65280&e)>>>8,(16711680&e)>>>16,(4278190080&e)>>>24]}function s(e,t){return 65535&e|t<<16}function a(e,t,i,n){return 255&e|(255&t)<<8|(255&i)<<16|n<<24}})),t.register("bVIMy",(function(t,i){var n,r,s,a;function o(e){switch(e){case"left":return n.Left;case"right":return n.Right;case"center":case"justify":return n.Center}}function l(e){switch(e){case"top":return r.Top;case"middle":return r.Center;case"baseline":return r.Baseline;case"bottom":return r.Bottom}}function u(e){switch(e){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[n.Right,r.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[n.Center,r.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[n.Left,r.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[n.Right,r.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[n.Center,r.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[n.Left,r.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[n.Right,r.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[n.Center,r.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[n.Left,r.Top];default:return console.debug(`Found invalid placement type ${e}`),[n.Center,r.Center]}}function c(e){switch(e){case n.Right:return-1;case n.Center:return 0;case n.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${e}`),0}}function h(e){switch(e){case r.Top:return 1;case r.Center:return 0;case r.Bottom:case r.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function d(e){switch(e){case"left":return n.Left;case"right":return n.Right;case"center":case"justify":return n.Center}}function f(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}e(t.exports,"HAlign",(function(){return n})),e(t.exports,"VAlign",(function(){return r})),e(t.exports,"getXAnchorDirection",(function(){return o})),e(t.exports,"getYAnchorDirection",(function(){return l})),e(t.exports,"getAlignmentFromPlacement",(function(){return u})),e(t.exports,"getXDirection",(function(){return c})),e(t.exports,"getYDirection",(function(){return h})),e(t.exports,"getJustification",(function(){return d})),e(t.exports,"isMapAligned",(function(){return f})),(a=n||(n={}))[a.Left=-1]="Left",a[a.Center=0]="Center",a[a.Right=1]="Right",(s=r||(r={}))[s.Top=1]="Top",s[s.Center=0]="Center",s[s.Bottom=-1]="Bottom",s[s.Baseline=2]="Baseline"})),t.register("eDdav",(function(i,n){e(i.exports,"createMaterialKey",(function(){return o})),e(i.exports,"FillMaterialKey",(function(){return f})),e(i.exports,"LineMaterialKey",(function(){return v})),e(i.exports,"MarkerMaterialKey",(function(){return p})),e(i.exports,"TextMaterialKey",(function(){return m})),e(i.exports,"LabelMaterialKey",(function(){return y})),e(i.exports,"MaterialKeyBase",(function(){return l}));var r=t("bPmsI"),s=t("bVIMy"),a=t("eyQUy");function o(e,t){switch(e){case a.WGLGeometryType.FILL:return f.from(t);case a.WGLGeometryType.LINE:return v.from(t);case a.WGLGeometryType.MARKER:return p.from(t);case a.WGLGeometryType.TEXT:return m.from(t);case a.WGLGeometryType.LABEL:return y.from(t);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${e}`)}}class l{static load(e){const t=this.shared;return t.data=e,t}set data(e){this._data=e}get data(){return this._data}get geometryType(){return this.bits(8,11)}set geometryType(e){this.setBits(e,8,11)}get mapAligned(){return!!this.bit(20)}set mapAligned(e){this.setBit(20,e)}get sdf(){return!!this.bit(11)}set sdf(e){this.setBit(11,e)}get pattern(){return!!this.bit(12)}set pattern(e){this.setBit(12,e)}get textureBinding(){return this.bits(0,8)}set textureBinding(e){this.setBits(e,0,8)}get geometryTypeString(){switch(this.geometryType){case a.WGLGeometryType.FILL:return"fill";case a.WGLGeometryType.MARKER:return"marker";case a.WGLGeometryType.LINE:return"line";case a.WGLGeometryType.TEXT:return"text";case a.WGLGeometryType.LABEL:return"label";default:throw new(0,r.default)(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(e,t){const i=1<<e;t?this._data|=i:this._data&=~i}bit(e){return(this._data&1<<e)>>e}setBits(e,t,i){for(let n=t,r=0;n<i;n++,r++)this.setBit(n,0!=(e&1<<r))}bits(e,t){let i=0;for(let n=e,r=0;n<t;n++,r++)i|=this.bit(n)<<r;return i}hasVV(){return!1}setVV(e,t){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}}getVariationHash(){return this._data&~(7&this.textureBinding)}constructor(e){this._data=0,this._data=e}}l.shared=new l(0);const u=e=>class extends e{get vvSizeMinMaxValue(){return 0!==this.bit(16)}set vvSizeMinMaxValue(e){this.setBit(16,e)}get vvSizeScaleStops(){return 0!==this.bit(17)}set vvSizeScaleStops(e){this.setBit(17,e)}get vvSizeFieldStops(){return 0!==this.bit(18)}set vvSizeFieldStops(e){this.setBit(18,e)}get vvSizeUnitValue(){return 0!==this.bit(19)}set vvSizeUnitValue(e){this.setBit(19,e)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(e,t){super.setVV(e,t);const i=function(e,t){const i=a.WGLVVFlag.SIZE_FIELD_STOPS|a.WGLVVFlag.SIZE_MINMAX_VALUE|a.WGLVVFlag.SIZE_SCALE_STOPS|a.WGLVVFlag.SIZE_UNIT_VALUE,n=(e&(a.WGLVVTarget.FIELD_TARGETS_OUTLINE|a.WGLVVTarget.MINMAX_TARGETS_OUTLINE|a.WGLVVTarget.SCALE_TARGETS_OUTLINE|a.WGLVVTarget.UNIT_TARGETS_OUTLINE))>>>4;return t.isOutline||t.isOutlinedFill?i&n:i&~n}(e,t)&e;this.vvSizeMinMaxValue=!!(i&a.WGLVVFlag.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(i&a.WGLVVFlag.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(i&a.WGLVVFlag.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(i&a.WGLVVFlag.SIZE_SCALE_STOPS)}},c=e=>class extends e{get vvRotation(){return 0!==this.bit(15)}set vvRotation(e){this.setBit(15,e)}hasVV(){return super.hasVV()||this.vvRotation}setVV(e,t){super.setVV(e,t),this.vvRotation=!t.isOutline&&!!(e&a.WGLVVFlag.ROTATION)}},h=e=>class extends e{get vvColor(){return 0!==this.bit(13)}set vvColor(e){this.setBit(13,e)}hasVV(){return super.hasVV()||this.vvColor}setVV(e,t){super.setVV(e,t),this.vvColor=!t.isOutline&&!!(e&a.WGLVVFlag.COLOR)}},d=e=>class extends e{get vvOpacity(){return 0!==this.bit(14)}set vvOpacity(e){this.setBit(14,e)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(e,t){super.setVV(e,t),this.vvOpacity=!t.isOutline&&!!(e&a.WGLVVFlag.OPACITY)}};class f extends(h(d(u(l)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.WGLGeometryType.FILL,t.dotDensity="dot-density"===e.stride.fill,t.simple="simple"===e.stride.fill,t.outlinedFill=e.isOutlinedFill,t.dotDensity||t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),dotDensity:this.dotDensity,outlinedFill:this.outlinedFill,simple:this.simple,vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}get dotDensity(){return!!this.bit(15)}set dotDensity(e){this.setBit(15,e)}get simple(){return!!this.bit(22)}set simple(e){this.setBit(22,e)}get outlinedFill(){return!!this.bit(21)}set outlinedFill(e){this.setBit(21,e)}}f.shared=new f(0);class p extends(h(d(c(u(l))))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.WGLGeometryType.MARKER,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}p.shared=new p(0);class v extends(h(d(u(l)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.WGLGeometryType.LINE,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}v.shared=new v(0);class m extends(h(d(c(u(l))))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.WGLGeometryType.TEXT,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}m.shared=new m(0);class y extends(u(l)){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.WGLGeometryType.LABEL,t.setVV(e.vvFlags,e),t.mapAligned=(0,s.isMapAligned)(e.placement),t.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}y.shared=new y(0)})),t.register("d1j0h",(function(i,n){e(i.exports,"expandSymbol",(function(){return l})),e(i.exports,"cimLayerToRasterizationInfo",(function(){return u}));var r=t("9LGQK"),s=t("6LuoZ"),a=t("nXMis");const o=async(e,t,i)=>new(0,s.ExpandedCIM)(await(0,r.analyzeCIMSymbol)(e.data,t,i),e.data,e.rendererKey,e.maxVVSize),l=async(e,t,i,n)=>{if(!e)return null;if("cim"===e.type)return o(e,t,i);if("web-style"===e.type){const r={type:"cim",data:await(0,a.fetchCIMSymbolReference)(e,null,n),rendererKey:e.rendererKey,maxVVSize:e.maxVVSize};return o(r,t,i)}return e};function u(e){if(!e)return null;const{type:t,cim:i,url:n,materialHash:r}=e,s={cim:i,type:t,mosaicHash:r,url:n,size:null,dashTemplate:null,path:null,text:null,fontName:null};switch(t){case"marker":s.size=e.size,s.path=e.path;break;case"line":s.dashTemplate=e.dashTemplate;break;case"text":s.text=e.text,s.fontName=e.fontName}return s}})),t.register("6LuoZ",(function(i,n){e(i.exports,"ExpandedCIM",(function(){return o}));var r=t("eyQUy"),s=t("eDdav");const a={marker:r.WGLGeometryType.MARKER,fill:r.WGLGeometryType.FILL,line:r.WGLGeometryType.LINE,text:r.WGLGeometryType.TEXT};class o{get type(){return"expanded-cim"}_createHash(){let e="";for(const t of this.layers)e+=t.templateHash;return e}constructor(e,t,i,n){const r={minScale:null==t?void 0:t.minScale,maxScale:null==t?void 0:t.maxScale},o=(l=r).minScale||l.maxScale?l.minScale+"-"+l.maxScale:"";var l;this.layers=e,this.data=t,this.hash=this._createHash()+o,this.rendererKey=i;const u={isOutline:!1,isOutlinedFill:!1,placement:null,stride:{fill:"default"},vvFlags:i};for(const t of e){const e=a[t.type];t.materialKey=(0,s.createMaterialKey)(e,u),t.maxVVSize=n,t.scaleInfo=r,t.templateHash+=o}}}})),t.register("nXMis",(function(i,n){e(i.exports,"fetchCIMSymbolReference",(function(){return h}));var r=t("gnGFZ"),s=t("bPmsI"),a=t("lHg4e"),o=t("7dRCe"),l=t("39WmQ"),u=t("hej7M"),c=t("i9hTa");async function h(e,t,i){if(!e.name)return Promise.reject(new(0,s.default)("style-symbol-reference-name-missing","Missing name in style symbol reference"));if(e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName)return async function(e,t){const i=c.Style2DUrlTemplate.replace(/\{SymbolName\}/gi,e.name);try{const e=await(0,c.requestJSON)(i,t);return(0,c.makeCIMSymbolRef)(e.data)}catch(e){return(0,a.throwIfAborted)(e),null}}(e,i);try{return async function(e,t,i,n){const h=e.data,d={portal:i&&i.portal||l.default.getDefault(),url:(0,o.urlToObject)(e.baseUrl),origin:"portal-item"},f=h.items.find((e=>e.name===t));if(!f)throw new(0,s.default)("symbolstyleutils:symbol-name-not-found",`The symbol name '${t}' could not be found`,{symbolName:t});let p=(0,u.f)((0,c.symbolUrlFromStyleItem)(f,"cimRef"),d);(0,r.isDevEnvironment)()&&(p=(0,r.adjustStaticAGOUrl)(p));try{const e=await(0,c.requestJSON)(p,n);return(0,c.makeCIMSymbolRef)(e.data)}catch(e){return(0,a.throwIfAborted)(e),null}}(await(0,c.fetchStyle)(e,t,i),e.name,t,i)}catch(e){return(0,a.throwIfAborted)(e),null}}})),t.register("jdyxA",(function(i,n){e(i.exports,"getTypeOfSizeVisualVariable",(function(){return u}));var r=t("bPmsI"),s=t("6TszD"),a=t("eyQUy"),o=t("cPgEa");const l=s.default.getLogger("esri.views.2d.engine.webgl");function u(e){return(0,o.isNumber)(e.minDataValue)&&(0,o.isNumber)(e.maxDataValue)&&null!=e.minSize&&null!=e.maxSize?a.WGLVVFlag.SIZE_MINMAX_VALUE:(e.expression&&"view.scale"===e.expression||e.valueExpression&&"$view.scale"===e.valueExpression)&&Array.isArray(e.stops)?a.WGLVVFlag.SIZE_SCALE_STOPS:(null!=e.field||e.expression&&"view.scale"!==e.expression||e.valueExpression&&"$view.scale"!==e.valueExpression)&&(Array.isArray(e.stops)||"levels"in e&&e.levels)?a.WGLVVFlag.SIZE_FIELD_STOPS:(null!=e.field||e.expression&&"view.scale"!==e.expression||e.valueExpression&&"$view.scale"!==e.valueExpression)&&null!=e.valueUnit?a.WGLVVFlag.SIZE_UNIT_VALUE:(l.error(new(0,r.default)("mapview-bad-type","Found invalid size VisualVariable",e)),a.WGLVVFlag.NONE)}})),t.register("4TsVR",(function(t,i){e(t.exports,"outputTypes",(function(){return n})),e(t.exports,"createMD5Hash",(function(){return c}));const n={Base64:0,Hex:1,String:2,Raw:3};function r(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function s(e,t,i,n,s,a){return r((o=r(r(t,e),r(n,a)))<<(l=s)|o>>>32-l,i);var o,l}function a(e,t,i,n,r,a,o){return s(t&i|~t&n,e,t,r,a,o)}function o(e,t,i,n,r,a,o){return s(t&n|i&~n,e,t,r,a,o)}function l(e,t,i,n,r,a,o){return s(t^i^n,e,t,r,a,o)}function u(e,t,i,n,r,a,o){return s(i^(t|~n),e,t,r,a,o)}function c(e,t=n.Hex){const i=t||n.Base64,s=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let i=1732584193,n=-271733879,s=-1732584194,c=271733878;for(let t=0;t<e.length;t+=16){const h=i,d=n,f=s,p=c;i=a(i,n,s,c,e[t+0],7,-680876936),c=a(c,i,n,s,e[t+1],12,-389564586),s=a(s,c,i,n,e[t+2],17,606105819),n=a(n,s,c,i,e[t+3],22,-1044525330),i=a(i,n,s,c,e[t+4],7,-176418897),c=a(c,i,n,s,e[t+5],12,1200080426),s=a(s,c,i,n,e[t+6],17,-1473231341),n=a(n,s,c,i,e[t+7],22,-45705983),i=a(i,n,s,c,e[t+8],7,1770035416),c=a(c,i,n,s,e[t+9],12,-1958414417),s=a(s,c,i,n,e[t+10],17,-42063),n=a(n,s,c,i,e[t+11],22,-1990404162),i=a(i,n,s,c,e[t+12],7,1804603682),c=a(c,i,n,s,e[t+13],12,-40341101),s=a(s,c,i,n,e[t+14],17,-1502002290),n=a(n,s,c,i,e[t+15],22,1236535329),i=o(i,n,s,c,e[t+1],5,-165796510),c=o(c,i,n,s,e[t+6],9,-1069501632),s=o(s,c,i,n,e[t+11],14,643717713),n=o(n,s,c,i,e[t+0],20,-373897302),i=o(i,n,s,c,e[t+5],5,-701558691),c=o(c,i,n,s,e[t+10],9,38016083),s=o(s,c,i,n,e[t+15],14,-660478335),n=o(n,s,c,i,e[t+4],20,-405537848),i=o(i,n,s,c,e[t+9],5,568446438),c=o(c,i,n,s,e[t+14],9,-1019803690),s=o(s,c,i,n,e[t+3],14,-187363961),n=o(n,s,c,i,e[t+8],20,1163531501),i=o(i,n,s,c,e[t+13],5,-1444681467),c=o(c,i,n,s,e[t+2],9,-51403784),s=o(s,c,i,n,e[t+7],14,1735328473),n=o(n,s,c,i,e[t+12],20,-1926607734),i=l(i,n,s,c,e[t+5],4,-378558),c=l(c,i,n,s,e[t+8],11,-2022574463),s=l(s,c,i,n,e[t+11],16,1839030562),n=l(n,s,c,i,e[t+14],23,-35309556),i=l(i,n,s,c,e[t+1],4,-1530992060),c=l(c,i,n,s,e[t+4],11,1272893353),s=l(s,c,i,n,e[t+7],16,-155497632),n=l(n,s,c,i,e[t+10],23,-1094730640),i=l(i,n,s,c,e[t+13],4,681279174),c=l(c,i,n,s,e[t+0],11,-358537222),s=l(s,c,i,n,e[t+3],16,-722521979),n=l(n,s,c,i,e[t+6],23,76029189),i=l(i,n,s,c,e[t+9],4,-640364487),c=l(c,i,n,s,e[t+12],11,-421815835),s=l(s,c,i,n,e[t+15],16,530742520),n=l(n,s,c,i,e[t+2],23,-995338651),i=u(i,n,s,c,e[t+0],6,-198630844),c=u(c,i,n,s,e[t+7],10,1126891415),s=u(s,c,i,n,e[t+14],15,-1416354905),n=u(n,s,c,i,e[t+5],21,-57434055),i=u(i,n,s,c,e[t+12],6,1700485571),c=u(c,i,n,s,e[t+3],10,-1894986606),s=u(s,c,i,n,e[t+10],15,-1051523),n=u(n,s,c,i,e[t+1],21,-2054922799),i=u(i,n,s,c,e[t+8],6,1873313359),c=u(c,i,n,s,e[t+15],10,-30611744),s=u(s,c,i,n,e[t+6],15,-1560198380),n=u(n,s,c,i,e[t+13],21,1309151649),i=u(i,n,s,c,e[t+4],6,-145523070),c=u(c,i,n,s,e[t+11],10,-1120210379),s=u(s,c,i,n,e[t+2],15,718787259),n=u(n,s,c,i,e[t+9],21,-343485551),i=r(i,h),n=r(n,d),s=r(s,f),c=r(c,p)}return[i,n,s,c]}(function(e){const t=[];for(let i=0,n=8*e.length;i<n;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<i%32;return t}(e),8*e.length);switch(i){case n.Raw:return s;case n.Hex:return function(e){const t="0123456789abcdef",i=[];for(let n=0,r=4*e.length;n<r;n++)i.push(t.charAt(e[n>>2]>>n%4*8+4&15)+t.charAt(e[n>>2]>>n%4*8&15));return i.join("")}(s);case n.String:return function(e){const t=[];for(let i=0,n=32*e.length;i<n;i+=8)t.push(String.fromCharCode(e[i>>5]>>>i%32&255));return t.join("")}(s);case n.Base64:return function(e){const t=[];for(let i=0,n=4*e.length;i<n;i+=3){const n=(e[i>>2]>>i%4*8&255)<<16|(e[i+1>>2]>>(i+1)%4*8&255)<<8|e[i+2>>2]>>(i+2)%4*8&255;for(let r=0;r<4;r++)8*i+6*r>32*e.length?t.push("="):t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>6*(3-r)&63))}return t.join("")}(s)}}})),t.register("jrPhy",(function(i,n){e(i.exports,"Container",(function(){return o}));var r=t("jsolS"),s=t("coJUt"),a=t("5aS5k");class o extends a.DisplayObject{get blendMode(){return this._blendMode}set blendMode(e){this._blendMode=e,this.requestRender()}get clips(){return this._clips}set clips(e){this._clips=e,this.children.forEach((t=>t.clips=e))}get computedEffects(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effects)?e:null}get effect(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effect)?e:""}set effect(e){(this._effectView||e)&&(this._effectView||(this._effectView=new(0,s.EffectView)),this._effectView.effect=e,this.requestRender())}updateTransitionProperties(e,t){super.updateTransitionProperties(e,t),this._effectView&&(this._effectView.transitionStep(e,t),this._effectView.transitioning&&this.requestRender())}doRender(e){const t=this.createRenderParams(e);this.renderChildren(t)}addChild(e){return this.addChildAt(e,this.children.length)}addChildAt(e,t=this.children.length){if(!e)return e;if(this.contains(e))return e;this._needsSort=!0;const i=e.parent;return i&&i!==this&&i.removeChild(e),t>=this.children.length?this.children.push(e):this.children.splice(t,0,e),this._childrenSet.add(e),e.parent=this,e.stage=this.stage,this!==this.stage&&(e.clips=this.clips),this.requestRender(),e}contains(e){return this._childrenSet.has(e)}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const e of this.children)this!==this.stage&&(e.clips=null),e.stage=null,e.parent=null;this.children.length=0}removeChild(e){return this.contains(e)?this.removeChildAt(this.children.indexOf(e)):e}removeChildAt(e){if(e<0||e>=this.children.length)return null;this._needsSort=!0;const t=this.children.splice(e,1)[0];return this._childrenSet.delete(t),this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null,t}sortChildren(e){this._needsSort&&(this.children.sort(e),this._needsSort=!1)}_createTransforms(){return{dvs:(0,r.c)()}}onAttach(){super.onAttach();const e=this.stage;for(const t of this.children)t.stage=e}onDetach(){super.onDetach();for(const e of this.children)e.stage=null}renderChildren(e){for(const t of this.children)t.beforeRender(e);for(const t of this.children)t.processRender(e);for(const t of this.children)t.afterRender(e)}createRenderParams(e){return{...e,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:e.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition}}constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this.children=[],this._effectView=null}}})),t.register("5aS5k",(function(i,n){e(i.exports,"DisplayObject",(function(){return u}));var r=t("cS4u3"),s=t("5HTPH"),a=t("1CpCt"),o=t("lHg4e");const l=1/(0,s.default)("mapview-transitions-duration");class u extends r.default{get clips(){return this._clips}set clips(e){this._clips=e,this.requestRender()}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(e){this._opacity!==e&&(this._opacity=Math.min(1,Math.max(e,0)),this.requestRender())}get stage(){return this._stage}set stage(e){if(this._stage===e)return;const t=this._stage;this._stage=e,e?this._stage.untrashDisplayObject(this)||(this.onAttach(),this.emit("attach")):t.trashDisplayObject(this)}get transforms(){return this._getTransforms()}_getTransforms(){return(0,a.isNone)(this._transforms)&&(this._transforms=this._createTransforms()),this._transforms}get visible(){return this._visible}set visible(e){this._visible!==e&&(this._visible=e,this.requestRender())}fadeIn(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=(0,o.createResolver)(),this.requestRender()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=(0,o.createResolver)(),this.requestRender()),this._fadeOutResolver.promise}beforeRender(e){this.updateTransitionProperties(e.deltaTime,e.state.scale)}afterRender(e){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}remove(){var e;null==(e=this.parent)||e.removeChild(this)}setTransform(e){}processRender(e){this.stage&&this.computedVisible&&this.doRender(e)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.onDetach(),this.emit("detach")}updateTransitionProperties(e,t){if(this.fadeTransitionEnabled){const t=this._fadeOutResolver||!this.visible?0:this.opacity,i=this.computedOpacity;if(i===t)this.computedVisible=this.visible;else{const n=e*l;this.computedOpacity=i>t?Math.max(t,i-n):Math.min(t,i+n),this.computedVisible=this.computedOpacity>0;const r=t===this.computedOpacity;this.inFadeTransition=!r,r||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}onAttach(){}onDetach(){}doRender(e){}ready(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())}constructor(){super(...arguments),this._fadeOutResolver=null,this._fadeInResolver=null,this._clips=null,this.computedVisible=!0,this.computedOpacity=1,this.fadeTransitionEnabled=!1,this.inFadeTransition=!1,this._isReady=!1,this._opacity=1,this._stage=null,this._visible=!0}}})),t.register("8it4a",(function(i,n){e(i.exports,"toJSONGeometryType",(function(){return s})),e(i.exports,"canUseMajorityInterpolationOnDataSource",(function(){return a}));const r=new(0,t("4jlRt").JSONMap)({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function s(e){return r.toJSON(e)}function a(e){const{bandCount:t,attributeTable:i,colormap:n,pixelType:r}=e.rasterInfo;return 1===t&&(null!=i||null!=n||"u8"===r||"s8"===r)}})),t.register("aDxLR",(function(i,n){e(i.exports,"RefreshableLayerView",(function(){return c}));var r=t("j6uz9"),s=t("6TszD"),a=t("lHg4e"),o=t("cc23H"),l=t("hTI69");t("aX9sh"),t("5HTPH"),t("gHCNy");var u=t("qA6zg");const c=e=>{let t=class extends e{initialize(){this.handles.add((0,o.on)((()=>this.layer),"refresh",(e=>{this.doRefresh(e.dataChanged).catch((e=>{(0,a.isAbortError)(e)||s.default.getLogger(this.declaredClass).error(e)}))})),"RefreshableLayerView")}};return(0,r._)([(0,l.property)()],t.prototype,"layer",void 0),t=(0,r._)([(0,u.subclass)("esri.layers.mixins.RefreshableLayerView")],t),t}})),t.register("6hadY",(function(i,n){e(i.exports,"getRequiredFields",(function(){return a})),e(i.exports,"getFetchPopupTemplate",(function(){return o}));var r=t("1CpCt"),s=t("15IfA");async function a(e,t=e.popupTemplate){if(!(0,r.isSome)(t))return[];const i=await t.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:n}=t,{objectIdField:a,typeIdField:o,globalIdField:l,relationships:u}=e;if(i.includes("*"))return["*"];const c=n?await(0,s.getFeatureEditFields)(e):[],h=(0,s.fixFields)(e.fieldsIndex,[...i,...c]);return o&&h.push(o),h&&a&&e.fieldsIndex.has(a)&&-1===h.indexOf(a)&&h.push(a),h&&l&&e.fieldsIndex.has(l)&&-1===h.indexOf(l)&&h.push(l),u&&u.forEach((t=>{const{keyField:i}=t;h&&i&&e.fieldsIndex.has(i)&&-1===h.indexOf(i)&&h.push(i)})),h}function o(e,t){return e.popupTemplate?e.popupTemplate:(0,r.isSome)(t)&&t.defaultPopupTemplateEnabled&&(0,r.isSome)(e.defaultPopupTemplate)?e.defaultPopupTemplate:null}}));
//# sourceMappingURL=OGCFeatureLayerView2D.c86c43ea.js.map
