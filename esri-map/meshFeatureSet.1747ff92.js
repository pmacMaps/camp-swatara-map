!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;r.register("3EzsP",(function(t,n){e(t.exports,"meshFeatureSetFromJSON",(function(){return d}));var o,a,i=r("bsvXr"),s=r("7qybv"),u=r("gINRd"),l=r("3fnEy"),c=r("d1Fqh"),f=r("glKuz"),p=r("17b31"),h=r("g1GYh"),v=r("f4h86");function d(e,t,r){var n=r.features;r.features=[],delete r.geometryType;var o=v.default.fromJSON(r);o.geometryType="mesh";var a,u=o.spatialReference,l=(0,s.isNone)(e.outFields)||!e.outFields.length?function(){return{}}:(a=e.outFields.includes("*")?null:new Set(e.outFields),function(e){var t=e.attributes;if(!t)return{};if(!a)return t;for(var r in t)a.has(r)||delete t[r];return t}),c=!0,f=!1,p=void 0;try{for(var h,d=n[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var y=h.value,x=g(y,u,t);(0,s.isSome)(x)&&o.features.push(new(0,i.default)({geometry:x,attributes:l(y)}))}}catch(e){f=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(f)throw p}}return o}function g(e,t,r){var n=function(e){if(!e.assetMappings)return{status:o.FAILED};var t=[],r=new Map,n=!0,a=!1,i=void 0;try{for(var s,u=e.assetMappings[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var l=s.value,c=l[h.AssetMapFieldRole.seqNo],f=l[h.AssetMapFieldRole.assetName],p=l[h.AssetMapFieldRole.assetURL],v=l[h.AssetMapFieldRole.conversionStatus];if(v===h.Status.FAILED)return{status:o.FAILED};if(v!==h.Status.COMPLETED)return{status:o.PENDING};if(null==c)t.push({name:f,source:p});else{var d=r.get(f),g=void 0;d?g=d.multipart:(g=[],t.push({name:f,source:{multipart:g}}),r.set(f,{multipart:g})),g[c]=p}}}catch(e){a=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return{status:o.COMPLETED,source:t}}(e),a=n.status,i=n.source;if(a===o.FAILED)return null;var s,v,d,g,y=(s=t,v=r,d=e.attributes,g=v.transformFieldRoles,new(0,c.default)({x:d[g.originX],y:d[g.originY],z:d[g.originZ],spatialReference:s})),x=u.default.fromJSON(e.geometry);x.spatialReference=t;var m=function(e,t){var r,n=e.attributes,o=e.assetMappings,a=t.transformFieldRoles;return new(0,p.default)({translation:[n[a.translationX],n[a.translationY],n[a.translationZ]],rotation:(0,f.fromAxisAndAngle)([n[a.rotationX],n[a.rotationY],n[a.rotationZ]],n[a.rotationDeg]),scale:[n[a.scaleX],n[a.scaleY],n[a.scaleZ]],geographic:!(null!=(r=o[h.AssetMapFieldRole.flags])&&r.includes("PROJECT_VERTICES"))})}(e,r);return a===o.PENDING?l.default.createIncomplete(y,{extent:x,transform:m}):l.default.createWithExternalSource(y,i,{extent:x,transform:m})}(a=o||(o={}))[a.FAILED=0]="FAILED",a[a.PENDING=1]="PENDING",a[a.COMPLETED=2]="COMPLETED"})),r.register("3fnEy",(function(n,o){e(n.exports,"default",(function(){return Z}));var a=r("8TSCy"),i=r("2TvXO"),s=r("7eJjO"),u=r("kyj08"),l=r("6dXDO"),c=r("bQCqB"),f=r("jHOLN"),p=r("7qybv"),h=r("hmHbS"),v=r("10vEZ"),d=r("lKPaD"),g=r("iho5X");r("lNwWH"),r("2VlWd"),r("iJAIC");var y,x=r("fcwIv"),m=r("5YMIf"),w=r("gINRd"),b=r("Pe3X5"),A=r("d1Fqh"),M=r("fTq43"),S=r("glKuz"),C=r("lqmgd"),P=r("17b31"),T=r("9VOjl"),F=r("imQtt"),k=r("5s7gr"),O=r("7ozs9"),_=r("fbgX7"),j=r("dPpde"),R=r("fPQIx"),I=r("3SQfL"),L=f.default.getLogger("esri.geometry.Mesh"),E=y=function(e){"use strict";a.inherits(o,e);var n=a.createSuper(o);function o(e){var t;return a.classCallCheck(this,o),(t=n.call(this,e)).components=null,t.transform=null,t.external=null,t.hasZ=!0,t.hasM=!1,t.vertexAttributes=new(0,T.MeshVertexAttributes),t.type="mesh",a.possibleConstructorReturn(t)}return a.createClass(o,[{key:"initialize",value:function(){var e=this;((0,p.isNone)(this.external)||this.vertexAttributes.position.length)&&(this.loadStatus="loaded"),this.when((function(){var t=e;e.handles.add((0,d.watch)((function(){var e;return{vertexAttributes:t.vertexAttributes,components:null==(e=t.components)?void 0:e.map((function(e){return e.clone()})),transform:(0,p.isSome)(t.transform)?t.transform.clone():null}}),(function(){return t._set("external",null)}),{once:!0,sync:!0}))}))}},{key:"hasExtent",get:function(){return!this.loaded&&(0,p.isSome)(this.external)&&(0,p.isSome)(this.external.extent)||this.loaded&&this.vertexAttributes.position.length>0&&(!this.components||this.components.length>0)}},{key:"boundingInfo",get:function(){var e=this.vertexAttributes.position,t=this.spatialReference;if(0===e.length||this.components&&0===this.components.length)return{extent:new(0,w.default)({xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0,spatialReference:t}),center:new(0,A.default)({x:0,y:0,z:0,spatialReference:t})};for(var r=(0,p.isSome)(this.transform)?this.transform.project(e,t):e,n=1/0,o=1/0,a=1/0,i=-1/0,s=-1/0,u=-1/0,l=0,c=0,f=0,h=r.length,v=1/(h/3),d=0;d<h;){var g=r[d++],y=r[d++],x=r[d++];n=Math.min(n,g),o=Math.min(o,y),a=Math.min(a,x),i=Math.max(i,g),s=Math.max(s,y),u=Math.max(u,x),l+=v*g,c+=v*y,f+=v*x}return{extent:new(0,w.default)({xmin:n,ymin:o,zmin:a,xmax:i,ymax:s,zmax:u,spatialReference:t}),center:new(0,A.default)({x:l,y:c,z:f,spatialReference:t})}}},{key:"anchor",get:function(){if((0,p.isSome)(this.transform))return this.transform.getOriginPoint(this.spatialReference);var e=this.boundingInfo;return new(0,A.default)({x:e.center.x,y:e.center.y,z:e.extent.zmin,spatialReference:this.spatialReference})}},{key:"origin",get:function(){return(0,p.isSome)(this.transform)?this.transform.getOriginPoint(this.spatialReference):this.boundingInfo.center}},{key:"extent",get:function(){return!this.loaded&&(0,p.isSome)(this.external)&&(0,p.isSome)(this.external.extent)?this.external.extent.clone():this.boundingInfo.extent}},{key:"addComponent",value:function(e){this.loaded?(this.components||(this.components=[]),this.components.push(C.default.from(e)),this.notifyChange("components")):L.error("addComponent()","Mesh must be loaded before applying operations")}},{key:"removeComponent",value:function(e){if(this.loaded){if(this.components){var t=this.components.indexOf(e);if(-1!==t)return this.components.splice(t,1),void this.notifyChange("components")}L.error("removeComponent()","Provided component is not part of the list of components")}else L.error("removeComponent()","Mesh must be loaded before applying operations")}},{key:"rotate",value:function(e,t,r,n){return(0,S.fromAxisAndAngle)(N.x,e,z),(0,S.fromAxisAndAngle)(N.y,t,D),(0,S.fromAxisAndAngle)(N.z,r,U),(0,S.compose)(z,D,z),(0,S.compose)(z,U,z),(0,R.rotate)(this,z,n),this}},{key:"offset",value:function(e,t,r,n){return this.loaded?(B[0]=e,B[1]=t,B[2]=r,(0,_.offset)(this,B,n),this):(L.error("offset()","Mesh must be loaded before applying operations"),this)}},{key:"scale",value:function(e,t){return this.loaded?((0,I.scale)(this,e,t),this):(L.error("scale()","Mesh must be loaded before applying operations"),this)}},{key:"centerAt",value:function(e,t){return this.loaded?((0,k.centerAt)(this,e,t),this):(L.error("centerAt()","Mesh must be loaded before applying operations"),this)}},{key:"load",value:function(e){return(0,p.isSome)(this.external)&&this.addResolvingPromise((0,O.loadExternal)(this,this.external.source,e)),Promise.resolve(this)}},{key:"clone",value:function(){var e=this.components?new Map:null,t=this.components?new Map:null,r={components:this.components?this.components.map((function(r){return r.cloneWithDeduplication(e,t)})):null,spatialReference:this.spatialReference,vertexAttributes:this.vertexAttributes.clone(),transform:(0,p.isSome)(this.transform)?this.transform.clone():null,external:(0,p.isSome)(this.external)?{source:this.external.source,extent:(0,p.isSome)(this.external.extent)?this.external.extent.clone():null}:null};return new y(r)}},{key:"vertexAttributesChanged",value:function(){this.notifyChange("vertexAttributes")}},{key:"toBinaryGLTF",value:function(e){var n=this;return a.asyncToGenerator(t(i).mark((function o(){var a,s;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r("5iFjh");case 2:return a=t.sent,s=a.toBinaryGLTF,t.abrupt("return",s(n,e));case 5:case"end":return t.stop()}}),o)})))()}}],[{key:"createBox",value:function(e,t){if(!(e instanceof A.default))return L.error(".createBox()","expected location to be a Point instance"),null;var r=new y((0,j.convertUnitGeometry)((0,j.createUnitSizeBox)(),e,t));return t&&t.imageFace&&"all"!==t.imageFace?(0,j.extractSingleFaceOfBox)(r,t.imageFace):r}},{key:"createSphere",value:function(e,t){return e instanceof A.default?new y((0,j.convertUnitGeometry)((0,j.createUnitSizeSphere)(t&&t.densificationFactor||0),e,t)):(L.error(".createSphere()","expected location to be a Point instance"),null)}},{key:"createCylinder",value:function(e,t){return e instanceof A.default?new y((0,j.convertUnitGeometry)((0,j.createUnitSizeCylinder)(t&&t.densificationFactor||0),e,t)):(L.error(".createCylinder()","expected location to be a Point instance"),null)}},{key:"createPlane",value:function(e,t){var r;if(!(e instanceof A.default))return L.error(".createPlane()","expected location to be a Point instance"),null;var n=null!=(r=null==t?void 0:t.facing)?r:"up",o=(0,j.convertPlaneSizeParameter)(n,null==t?void 0:t.size);return new y((0,j.convertUnitGeometry)((0,j.createUnitSizePlane)(n),e,a.objectSpread({},t,{size:o})))}},{key:"createFromPolygon",value:function(e,t){if(!(e instanceof M.default))return L.error(".createFromPolygon()","expected polygon to be a Polygon instance"),null;var r=(0,F.triangulate)(e);return new y({vertexAttributes:new(0,T.MeshVertexAttributes)({position:r.position}),components:[new(0,C.default)({faces:r.faces,shading:"flat",material:t&&t.material||null})],spatialReference:e.spatialReference})}},{key:"createFromGLTF",value:function(e,n,o){return a.asyncToGenerator(t(i).mark((function a(){var s,l;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e instanceof A.default){t.next=2;break}throw L.error(".createfromGLTF()","expected location to be a Point instance"),new(0,u.default)("invalid-input","Expected location to be a Point instance");case 2:return t.next=4,(0,v.whenOrAbort)(r("euhta"),o);case 4:return s=t.sent,l=s.loadGLTFMesh,t.t0=y,t.next=9,l(e,n,o);case 9:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 11:case"end":return t.stop()}}),a)})))()}},{key:"createWithExternalSource",value:function(e,t,r){var n,o,a,i=null!=(n=null==r?void 0:r.extent)?n:null,s=null!=(o=null==r?void 0:r.transform.clone())?o:new(0,P.default);s.origin=[e.x,e.y,null!=(a=e.z)?a:0];var u=e.spatialReference;return new y({external:{source:t,extent:i},transform:s,spatialReference:u})}},{key:"createIncomplete",value:function(e,t){var r,n,o=null!=(r=null==t?void 0:t.transform.clone())?r:new(0,P.default);o.origin=[e.x,e.y,null!=(n=e.z)?n:0];var a=e.spatialReference,i=new y({transform:o,spatialReference:a});return i.addResolvingPromise(Promise.reject(new(0,u.default)("mesh-incomplete","Mesh resources are not complete"))),i}}]),o}((0,l.HandleOwnerMixin)(c.default.LoadableMixin((0,h.EsriPromiseMixin)(b.default))));(0,s._)([(0,g.property)({type:[C.default],json:{write:!0}})],E.prototype,"components",void 0),(0,s._)([(0,g.property)({type:P.default,json:{write:!0}})],E.prototype,"transform",void 0),(0,s._)([(0,g.property)({constructOnly:!0})],E.prototype,"external",void 0),(0,s._)([(0,g.property)({readOnly:!0})],E.prototype,"hasExtent",null),(0,s._)([(0,g.property)({readOnly:!0})],E.prototype,"boundingInfo",null),(0,s._)([(0,g.property)({readOnly:!0})],E.prototype,"anchor",null),(0,s._)([(0,g.property)({readOnly:!0})],E.prototype,"origin",null),(0,s._)([(0,g.property)({readOnly:!0,json:{read:!1}})],E.prototype,"extent",null),(0,s._)([(0,g.property)({readOnly:!0,json:{read:!1,write:!0,default:!0}})],E.prototype,"hasZ",void 0),(0,s._)([(0,g.property)({readOnly:!0,json:{read:!1,write:!0,default:!1}})],E.prototype,"hasM",void 0),(0,s._)([(0,g.property)({type:T.MeshVertexAttributes,nonNullable:!0,json:{write:!0}})],E.prototype,"vertexAttributes",void 0),E=y=(0,s._)([(0,x.subclass)("esri.geometry.Mesh")],E);var N={x:(0,m.f)(1,0,0),y:(0,m.f)(0,1,0),z:(0,m.f)(0,0,1)},z=(0,S.create)(),D=(0,S.create)(),U=(0,S.create)(),B=(0,m.c)(),Z=E})),r.register("lqmgd",(function(t,n){e(t.exports,"default",(function(){return m}));var o,a=r("8TSCy"),i=r("7eJjO"),s=r("1XAcN"),u=r("flPLJ"),l=r("jHOLN"),c=r("iho5X"),f=r("ba18L"),p=r("fcwIv"),h=r("iJAIC"),v=r("a4sQs"),d=r("4aGER"),g=r("9VOjl"),y=l.default.getLogger("esri.geometry.support.MeshComponent"),x=o=function(e){"use strict";a.inherits(r,e);var t=a.createSuper(r);function r(e){var n;return a.classCallCheck(this,r),(n=t.call(this,e)).faces=null,n.material=null,n.shading="source",n.trustSourceNormals=!1,a.possibleConstructorReturn(n)}return a.createClass(r,[{key:"castFaces",value:function(e){return(0,g.castArray)(e,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},y)}},{key:"castMaterial",value:function(e){return(0,h.ensureClass)(e&&"object"==typeof e&&("metallic"in e||"roughness"in e||"metallicRoughnessTexture"in e)?d.default:v.default,e)}},{key:"clone",value:function(){return new o({faces:(0,u.clone)(this.faces),shading:this.shading,material:(0,u.clone)(this.material),trustSourceNormals:this.trustSourceNormals})}},{key:"cloneWithDeduplication",value:function(e,t){var r={faces:(0,u.clone)(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(e,t):null,trustSourceNormals:this.trustSourceNormals};return new o(r)}}],[{key:"from",value:function(e){return(0,h.ensureClass)(o,e)}}]),r}(s.JSONSupport);(0,i._)([(0,c.property)({json:{write:!0}})],x.prototype,"faces",void 0),(0,i._)([(0,f.cast)("faces")],x.prototype,"castFaces",null),(0,i._)([(0,c.property)({type:v.default,json:{write:!0}})],x.prototype,"material",void 0),(0,i._)([(0,f.cast)("material")],x.prototype,"castMaterial",null),(0,i._)([(0,c.property)({type:String,json:{write:!0}})],x.prototype,"shading",void 0),(0,i._)([(0,c.property)({type:Boolean})],x.prototype,"trustSourceNormals",void 0);var m=x=o=(0,i._)([(0,p.subclass)("esri.geometry.support.MeshComponent")],x)})),r.register("a4sQs",(function(t,n){e(t.exports,"default",(function(){return v}));var o=r("8TSCy"),a=r("7eJjO"),i=r("jgs9n"),s=r("1XAcN"),u=r("7qybv"),l=r("iho5X");r("lNwWH"),r("2VlWd"),r("iJAIC");var c,f=r("fcwIv"),p=r("iJpq3"),h=c=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var n;return o.classCallCheck(this,r),(n=t.call(this,e)).color=null,n.colorTexture=null,n.normalTexture=null,n.alphaMode="auto",n.alphaCutoff=.5,n.doubleSided=!0,o.possibleConstructorReturn(n)}return o.createClass(r,[{key:"clone",value:function(){return this.cloneWithDeduplication(null,new Map)}},{key:"cloneWithDeduplication",value:function(e,t){var r=(0,u.isSome)(e)?e.get(this):null;if(r)return r;var n=new c(this.clonePropertiesWithDeduplication(t));return(0,u.isSome)(e)&&e.set(this,n),n}},{key:"clonePropertiesWithDeduplication",value:function(e){return{color:(0,u.isSome)(this.color)?this.color.clone():null,colorTexture:(0,u.isSome)(this.colorTexture)?this.colorTexture.cloneWithDeduplication(e):null,normalTexture:(0,u.isSome)(this.normalTexture)?this.normalTexture.cloneWithDeduplication(e):null,alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided}}}]),r}(s.JSONSupport);(0,a._)([(0,l.property)({type:i.default,json:{write:!0}})],h.prototype,"color",void 0),(0,a._)([(0,l.property)({type:p.default,json:{write:!0}})],h.prototype,"colorTexture",void 0),(0,a._)([(0,l.property)({type:p.default,json:{write:!0}})],h.prototype,"normalTexture",void 0),(0,a._)([(0,l.property)({nonNullable:!0,json:{write:!0}})],h.prototype,"alphaMode",void 0),(0,a._)([(0,l.property)({nonNullable:!0,json:{write:!0}})],h.prototype,"alphaCutoff",void 0),(0,a._)([(0,l.property)({nonNullable:!0,json:{write:!0}})],h.prototype,"doubleSided",void 0);var v=h=c=(0,a._)([(0,f.subclass)("esri.geometry.support.MeshMaterial")],h)})),r.register("iJpq3",(function(t,n){e(t.exports,"default",(function(){return x}));var o=r("8TSCy"),a=r("7eJjO");r("2VlWd");var i=r("1XAcN"),s=r("iho5X");r("lNwWH");var u,l=r("iJAIC"),c=r("eB8sj"),f=r("fcwIv"),p=r("kced1"),h=r("9ELaA"),v=r("cOnBU"),d=new WeakMap,g=0,y=u=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var n;return o.classCallCheck(this,r),(n=t.call(this,e)).wrap="repeat",o.possibleConstructorReturn(n)}return o.createClass(r,[{key:"url",get:function(){return this._get("url")||null},set:function(e){this._set("url",e),e&&this._set("data",null)}},{key:"data",get:function(){return this._get("data")||null},set:function(e){this._set("data",e),e&&this._set("url",null)}},{key:"writeData",value:function(e,t,r,n){if(e instanceof HTMLImageElement){var o={type:"image-element",src:(0,h.t)(e.src,n),crossOrigin:e.crossOrigin};t[r]=o}else if(e instanceof HTMLCanvasElement){var a=e.getContext("2d").getImageData(0,0,e.width,e.height),i={type:"canvas-element",imageData:this._encodeImageData(a)};t[r]=i}else if(e instanceof HTMLVideoElement){var s={type:"video-element",src:(0,h.t)(e.src,n),autoplay:e.autoplay,loop:e.loop,muted:e.muted,crossOrigin:e.crossOrigin,preload:e.preload};t[r]=s}else{var u={type:"image-data",imageData:this._encodeImageData(e)};t[r]=u}}},{key:"readData",value:function(e){switch(e.type){case"image-element":var t=new Image;return t.src=e.src,t.crossOrigin=e.crossOrigin,t;case"canvas-element":var r=this._decodeImageData(e.imageData),n=document.createElement("canvas");return n.width=r.width,n.height=r.height,n.getContext("2d").putImageData(r,0,0),n;case"image-data":return this._decodeImageData(e.imageData);case"video-element":var o=document.createElement("video");return o.src=e.src,o.crossOrigin=e.crossOrigin,o.autoplay=e.autoplay,o.loop=e.loop,o.muted=e.muted,o.preload=e.preload,o;default:return}}},{key:"transparent",get:function(){var e=this.data,t=this.url;if(e instanceof HTMLCanvasElement)return this._imageDataContainsTransparent(e.getContext("2d").getImageData(0,0,e.width,e.height));if(e instanceof ImageData)return this._imageDataContainsTransparent(e);if(t){var r=t.substr(t.length-4,4).toLowerCase(),n=t.substr(0,15).toLocaleLowerCase();if(".png"===r||"data:image/png;"===n)return!0}return!1},set:function(e){null!=e?this._override("transparent",e):this._clearOverride("transparent")}},{key:"contentHash",get:function(){var e=this,t="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?"".concat(this.wrap.horizontal,"/").concat(this.wrap.vertical):"",r=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"d:".concat(r,",t:").concat(e.transparent,",w:").concat(t)};return null!=this.url?r(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?r(this.data.src):(d.has(this.data)||d.set(this.data,++g),r(d.get(this.data))):r()}},{key:"clone",value:function(){var e={url:this.url,data:this.data,wrap:this._cloneWrap()};return new u(e)}},{key:"cloneWithDeduplication",value:function(e){var t=e.get(this);if(t)return t;var r=this.clone();return e.set(this,r),r}},{key:"_cloneWrap",value:function(){return"string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}},{key:"_encodeImageData",value:function(e){for(var t="",r=0;r<e.data.length;r++)t+=String.fromCharCode(e.data[r]);return{data:btoa(t),width:e.width,height:e.height}}},{key:"_decodeImageData",value:function(e){for(var t=atob(e.data),r=new Uint8ClampedArray(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return(0,v.wrapImageData)(r,e.width,e.height)}},{key:"_imageDataContainsTransparent",value:function(e){for(var t=3;t<e.data.length;t+=4)if(255!==e.data[t])return!0;return!1}}],[{key:"from",value:function(e){return"string"==typeof e?new u({url:e}):e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageData||e instanceof HTMLVideoElement?new u({data:e}):(0,l.ensureClass)(u,e)}}]),r}(i.JSONSupport);(0,a._)([(0,s.property)({type:String,json:{write:h.w}})],y.prototype,"url",null),(0,a._)([(0,s.property)({json:{write:{overridePolicy:function(){return{enabled:!this.url}}}}}),(0,s.property)()],y.prototype,"data",null),(0,a._)([(0,p.writer)("data")],y.prototype,"writeData",null),(0,a._)([(0,c.reader)("data")],y.prototype,"readData",null),(0,a._)([(0,s.property)({type:Boolean,json:{write:{overridePolicy:function(){return{enabled:this._isOverridden("transparent")}}}}})],y.prototype,"transparent",null),(0,a._)([(0,s.property)({json:{write:!0}})],y.prototype,"wrap",void 0),(0,a._)([(0,s.property)({readOnly:!0})],y.prototype,"contentHash",null);var x=y=u=(0,a._)([(0,f.subclass)("esri.geometry.support.MeshTexture")],y)})),r.register("4aGER",(function(t,n){e(t.exports,"default",(function(){return v}));var o=r("8TSCy"),a=r("7eJjO"),i=r("jgs9n"),s=r("7qybv"),u=r("iho5X");r("lNwWH"),r("2VlWd"),r("iJAIC");var l,c=r("fcwIv"),f=r("a4sQs"),p=r("iJpq3"),h=l=function(e){"use strict";o.inherits(r,e);var t=o.createSuper(r);function r(e){var n;return o.classCallCheck(this,r),(n=t.call(this,e)).emissiveColor=null,n.emissiveTexture=null,n.occlusionTexture=null,n.metallic=1,n.roughness=1,n.metallicRoughnessTexture=null,o.possibleConstructorReturn(n)}return o.createClass(r,[{key:"clone",value:function(){return this.cloneWithDeduplication(null,new Map)}},{key:"cloneWithDeduplication",value:function(e,t){var r=(0,s.isSome)(e)?e.get(this):null;if(r)return r;var n=new l(this.clonePropertiesWithDeduplication(t));return(0,s.isSome)(e)&&e.set(this,n),n}},{key:"clonePropertiesWithDeduplication",value:function(e){return o.objectSpread({},o.get(o.getPrototypeOf(r.prototype),"clonePropertiesWithDeduplication",this).call(this,e),{emissiveColor:(0,s.isSome)(this.emissiveColor)?this.emissiveColor.clone():null,emissiveTexture:(0,s.isSome)(this.emissiveTexture)?this.emissiveTexture.cloneWithDeduplication(e):null,occlusionTexture:(0,s.isSome)(this.occlusionTexture)?this.occlusionTexture.cloneWithDeduplication(e):null,metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:(0,s.isSome)(this.metallicRoughnessTexture)?this.metallicRoughnessTexture.cloneWithDeduplication(e):null})}}]),r}(f.default);(0,a._)([(0,u.property)({type:i.default,json:{write:!0}})],h.prototype,"emissiveColor",void 0),(0,a._)([(0,u.property)({type:p.default,json:{write:!0}})],h.prototype,"emissiveTexture",void 0),(0,a._)([(0,u.property)({type:p.default,json:{write:!0}})],h.prototype,"occlusionTexture",void 0),(0,a._)([(0,u.property)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],h.prototype,"metallic",void 0),(0,a._)([(0,u.property)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],h.prototype,"roughness",void 0),(0,a._)([(0,u.property)({type:p.default,json:{write:!0}})],h.prototype,"metallicRoughnessTexture",void 0);var v=h=l=(0,a._)([(0,c.subclass)("esri.geometry.support.MeshMaterialMetallicRoughness")],h)})),r.register("9VOjl",(function(t,n){e(t.exports,"MeshVertexAttributes",(function(){return v})),e(t.exports,"castArray",(function(){return g}));var o,a=r("8TSCy"),i=r("7eJjO"),s=r("1XAcN"),u=r("flPLJ"),l=r("jHOLN"),c=r("iho5X"),f=r("ba18L"),p=r("fcwIv"),h=l.default.getLogger("esri.geometry.support.MeshVertexAttributes"),v=o=function(e){"use strict";a.inherits(r,e);var t=a.createSuper(r);function r(e){var n;return a.classCallCheck(this,r),(n=t.call(this,e)).color=null,n.position=new Float64Array(0),n.uv=null,n.normal=null,n.tangent=null,a.possibleConstructorReturn(n)}return a.createClass(r,[{key:"castColor",value:function(e){return g(e,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},h)}},{key:"castPosition",value:function(e){return e&&e instanceof Float32Array&&h.warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),g(e,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},h)}},{key:"castUv",value:function(e){return g(e,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},h)}},{key:"castNormal",value:function(e){return g(e,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},h)}},{key:"castTangent",value:function(e){return g(e,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},h)}},{key:"clone",value:function(){var e={position:(0,u.clone)(this.position),uv:(0,u.clone)(this.uv),normal:(0,u.clone)(this.normal),tangent:(0,u.clone)(this.tangent),color:(0,u.clone)(this.color)};return new o(e)}},{key:"clonePositional",value:function(){var e={position:(0,u.clone)(this.position),normal:(0,u.clone)(this.normal),tangent:(0,u.clone)(this.tangent),uv:this.uv,color:this.color};return new o(e)}}]),r}(s.JSONSupport);function d(e,t,r,n){var o=t.loggerTag,a=t.stride;return e.length%a!=0?(n.error(o,"Invalid array length, expected a multiple of ".concat(a)),new r([])):e}function g(e,t,r,n,o){if(!e)return e;if(e instanceof t)return d(e,n,t,o);var a=!0,i=!1,s=void 0;try{for(var u,l=r[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){if(e instanceof u.value)return d(new t(e),n,t,o)}}catch(e){i=!0,s=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw s}}if(Array.isArray(e))return d(new t(e),n,t,o);var c=r.map((function(e){return"'".concat(e.name,"'")}));return o.error("Failed to set property, expected one of ".concat(c,", but got ").concat(e.constructor.name)),new t([])}function y(e,t,r){t[r]=function(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return t}(e)}(0,i._)([(0,c.property)({json:{write:y}})],v.prototype,"color",void 0),(0,i._)([(0,f.cast)("color")],v.prototype,"castColor",null),(0,i._)([(0,c.property)({nonNullable:!0,json:{write:y}})],v.prototype,"position",void 0),(0,i._)([(0,f.cast)("position")],v.prototype,"castPosition",null),(0,i._)([(0,c.property)({json:{write:y}})],v.prototype,"uv",void 0),(0,i._)([(0,f.cast)("uv")],v.prototype,"castUv",null),(0,i._)([(0,c.property)({json:{write:y}})],v.prototype,"normal",void 0),(0,i._)([(0,f.cast)("normal")],v.prototype,"castNormal",null),(0,i._)([(0,c.property)({json:{write:y}})],v.prototype,"tangent",void 0),(0,i._)([(0,f.cast)("tangent")],v.prototype,"castTangent",null),v=o=(0,i._)([(0,p.subclass)("esri.geometry.support.MeshVertexAttributes")],v)})),r.register("imQtt",(function(t,n){e(t.exports,"triangulate",(function(){return l}));var o,a,i=r("2ndsO"),s=r("exxMy"),u=r("gPnQi");function l(e){var t=function(e,t,r){for(var n=e.length,a=new Array(n),i=new Array(n),s=new Array(n),u=0,l=0,p=0,h=0,v=0;v<n;++v)h+=e[v].length;for(var d=new Float64Array(3*h),g=0,y=n-1;y>=0;y--){var x=e[y],m=r===o.CCW_IS_HOLE&&f(x);if(m&&1!==n)a[u++]=x;else{for(var w=x.length,b=0;b<u;++b)w+=a[b].length;var A={index:g,pathLengths:new Array(u+1),count:w,holeIndices:new Array(u)};A.pathLengths[0]=x.length,x.length>0&&(s[p++]={index:g,count:x.length}),g=m?c(x,x.length-1,-1,d,g,x.length,t):c(x,0,1,d,g,x.length,t);for(var M=0;M<u;++M){var S=a[M];A.holeIndices[M]=g,A.pathLengths[M+1]=S.length,S.length>0&&(s[p++]={index:g,count:S.length}),g=c(S,0,1,d,g,S.length,t)}u=0,A.count>0&&(i[l++]=A)}}for(var C=0;C<u;++C){var P=a[C];P.length>0&&(s[p++]={index:g,count:P.length}),g=c(P,0,1,d,g,P.length,t)}return l<n&&(i.length=l),p<n&&(s.length=p),{position:d,polygons:i,outlines:s}}(e.rings,e.hasZ,o.CCW_IS_HOLE),r=[],n=0,a=0,s=!0,l=!1,p=void 0;try{for(var h,v=function(e,o){var s=o.value,u=s.count,l=s.index,c=new Float64Array(t.position.buffer,3*l*t.position.BYTES_PER_ELEMENT,3*u),f=s.holeIndices.map((function(e){return e-l})),p=new Uint32Array((0,i.e)(c,f,3));r.push({position:c,faces:p}),n+=c.length,a+=p.length},d=t.polygons[Symbol.iterator]();!(s=(h=d.next()).done);s=!0)v(0,h)}catch(e){l=!0,p=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw p}}var g=function(e,t,r){if(1===e.length)return e[0];var n=new Float64Array(t),o=new Uint32Array(r),a=0,i=0,s=0,u=!0,l=!1,c=void 0;try{for(var f,p=e[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){for(var h=f.value,v=0;v<h.position.length;v++)n[a++]=h.position[v];for(var d=0;d<h.faces.length;d++)o[i++]=h.faces[d]+s;s=a/3}}catch(e){l=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw c}}return{position:n,faces:o}}(r,n,a),y=(0,u.deduplicate)(g.position.buffer,6,{originalIndices:g.faces});return g.position=new Float64Array(y.buffer),g.faces=y.indices,g}function c(e,t,r,n,o,a,i){o*=3;for(var s=0;s<a;++s){var u=e[t];n[o++]=u[0],n[o++]=u[1],n[o++]=i?u[2]:0,t+=r}return o/3}function f(e){return!(0,s.isClockwise)(e,!1,!1)}(a=o||(o={}))[a.NONE=0]="NONE",a[a.CCW_IS_HOLE=1]="CCW_IS_HOLE"})),r.register("2ndsO",(function(t,r){e(t.exports,"e",(function(){return i}));var n,o,a={exports:{}};n=a,void 0!==(o=function(){function e(e,o,a){a=a||2;var i,s,l,f,p,v,d,g=o&&o.length,y=g?o[0]*a:e.length,x=t(e,0,y,a,!0),m=[];if(!x||x.next===x.prev)return m;if(g&&(x=function(e,n,o,a){var i,s,l,f=[];for(i=0,s=n.length;i<s;i++)(l=t(e,n[i]*a,i<s-1?n[i+1]*a:e.length,a,!1))===l.next&&(l.steiner=!0),f.push(h(l));for(f.sort(u),i=0;i<f.length;i++)o=r(o=c(f[i],o),o.next);return o}(e,o,x,a)),e.length>80*a){i=l=e[0],s=f=e[1];for(var w=a;w<y;w+=a)(p=e[w])<i&&(i=p),(v=e[w+1])<s&&(s=v),p>l&&(l=p),v>f&&(f=v);d=0!==(d=Math.max(l-i,f-s))?1/d:0}return n(x,m,a,i,s,d),m}function t(e,t,r,n,o){var a,i;if(o===P(e,t,r,n)>0)for(a=t;a<r;a+=n)i=M(a,e[a],e[a+1],i);else for(a=r-n;a>=t;a-=n)i=M(a,e[a],e[a+1],i);if(i&&y(i,i.next)){var s=i.next;S(i),i=s}return i}function r(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!y(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{var o=n.prev;if(S(n),(n=t=o)===n.next)break;r=!0}}while(r||n!==t);return t}function n(e,t,u,l,c,f,h){if(e){!h&&f&&function(e,t,r,n){var o=e;do{null===o.z&&(o.z=p(o.x,o.y,t,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,r,n,o,a,i,s,u,l=1;do{for(r=e,e=null,a=null,i=0;r;){for(i++,n=r,s=0,t=0;t<l&&(s++,n=n.nextZ);t++);for(u=l;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(o=r,r=r.nextZ,s--):(o=n,n=n.nextZ,u--),a?a.nextZ=o:e=o,o.prevZ=a,a=o;r=n}a.nextZ=null,l*=2}while(i>1)}(o)}(e,l,c,f);for(var v,d,g=e;e.prev!==e.next;)if(v=e.prev,d=e.next,f?a(e,l,c,f):o(e))t.push(v.i/u),t.push(e.i/u),t.push(d.i/u),S(e),e=d.next,g=d.next;else if((e=d)===g){h?1===h?n(e=i(r(e),t,u),t,u,l,c,f,2):2===h&&s(e,t,u,l,c,f):n(r(e),t,u,l,c,f,1);break}}}function o(e){var t=e.prev,r=e,n=e.next;if(g(t,r,n)>=0)return!1;for(var o=e.next.next;o!==e.prev;){if(v(t.x,t.y,r.x,r.y,n.x,n.y,o.x,o.y)&&g(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function a(e,t,r,n){var o=e.prev,a=e,i=e.next;if(g(o,a,i)>=0)return!1;for(var s=o.x<a.x?o.x<i.x?o.x:i.x:a.x<i.x?a.x:i.x,u=o.y<a.y?o.y<i.y?o.y:i.y:a.y<i.y?a.y:i.y,l=o.x>a.x?o.x>i.x?o.x:i.x:a.x>i.x?a.x:i.x,c=o.y>a.y?o.y>i.y?o.y:i.y:a.y>i.y?a.y:i.y,f=p(s,u,t,r,n),h=p(l,c,t,r,n),d=e.prevZ,y=e.nextZ;d&&d.z>=f&&y&&y.z<=h;){if(d!==e.prev&&d!==e.next&&v(o.x,o.y,a.x,a.y,i.x,i.y,d.x,d.y)&&g(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,y!==e.prev&&y!==e.next&&v(o.x,o.y,a.x,a.y,i.x,i.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;d&&d.z>=f;){if(d!==e.prev&&d!==e.next&&v(o.x,o.y,a.x,a.y,i.x,i.y,d.x,d.y)&&g(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;y&&y.z<=h;){if(y!==e.prev&&y!==e.next&&v(o.x,o.y,a.x,a.y,i.x,i.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function i(e,t,n){var o=e;do{var a=o.prev,i=o.next.next;!y(a,i)&&x(a,o,o.next,i)&&b(a,i)&&b(i,a)&&(t.push(a.i/n),t.push(o.i/n),t.push(i.i/n),S(o),S(o.next),o=e=i),o=o.next}while(o!==e);return r(o)}function s(e,t,o,a,i,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&d(u,l)){var c=A(u,l);return u=r(u,u.next),c=r(c,c.next),n(u,t,o,a,i,s),void n(c,t,o,a,i,s)}l=l.next}u=u.next}while(u!==e)}function u(e,t){return e.x-t.x}function l(e){if(e.next.prev===e)return e;for(var t=e;;){var r=t.next;if(r.prev===t||r===t||r===e)break;t=r}return t}function c(e,t){var n=function(e,t){var r,n=t,o=e.x,a=e.y,i=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=o&&s>i){if(i=s,s===o){if(a===n.y)return n;if(a===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(o===i)return r;var u,l=r,c=r.x,p=r.y,h=1/0;n=r;do{o>=n.x&&n.x>=c&&o!==n.x&&v(a<p?o:i,a,c,p,a<p?i:o,a,n.x,n.y)&&(u=Math.abs(a-n.y)/(o-n.x),b(n,e)&&(u<h||u===h&&(n.x>r.x||n.x===r.x&&f(r,n)))&&(r=n,h=u)),n=n.next}while(n!==l);return r}(e,t);if(!n)return t;var o=A(n,e),a=r(n,n.next),i=l(o);return r(i,i.next),a=l(a),l(t===n?a:t)}function f(e,t){return g(e.prev,e,t.prev)<0&&g(t.next,e,e.next)<0}function p(e,t,r,n,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*o)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*o)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function h(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function v(e,t,r,n,o,a,i,s){return(o-i)*(t-s)-(e-i)*(a-s)>=0&&(e-i)*(n-s)-(r-i)*(t-s)>=0&&(r-i)*(a-s)-(o-i)*(n-s)>=0}function d(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&x(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(b(e,t)&&b(t,e)&&function(e,t){var r=e,n=!1,o=(e.x+t.x)/2,a=(e.y+t.y)/2;do{r.y>a!=r.next.y>a&&r.next.y!==r.y&&o<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(g(e.prev,e,t.prev)||g(e,t.prev,t))||y(e,t)&&g(e.prev,e,e.next)>0&&g(t.prev,t,t.next)>0)}function g(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function y(e,t){return e.x===t.x&&e.y===t.y}function x(e,t,r,n){var o=w(g(e,t,r)),a=w(g(e,t,n)),i=w(g(r,n,e)),s=w(g(r,n,t));return o!==a&&i!==s||!(0!==o||!m(e,r,t))||!(0!==a||!m(e,n,t))||!(0!==i||!m(r,e,n))||!(0!==s||!m(r,t,n))}function m(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function w(e){return e>0?1:e<0?-1:0}function b(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function A(e,t){var r=new C(e.i,e.x,e.y),n=new C(t.i,t.x,t.y),o=e.next,a=t.prev;return e.next=t,t.prev=e,r.next=o,o.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function M(e,t,r,n){var o=new C(e,t,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function S(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function C(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(e,t,r,n){for(var o=0,a=t,i=r-n;a<r;a+=n)o+=(e[i]-e[a])*(e[a+1]+e[i+1]),i=a;return o}return e.deviation=function(e,t,r,n){var o=t&&t.length,a=o?t[0]*r:e.length,i=Math.abs(P(e,0,a,r));if(o)for(var s=0,u=t.length;s<u;s++){var l=t[s]*r,c=s<u-1?t[s+1]*r:e.length;i-=Math.abs(P(e,l,c,r))}var f=0;for(s=0;s<n.length;s+=3){var p=n[s]*r,h=n[s+1]*r,v=n[s+2]*r;f+=Math.abs((e[p]-e[v])*(e[h+1]-e[p+1])-(e[p]-e[h])*(e[v+1]-e[p+1]))}return 0===i&&0===f?0:Math.abs((f-i)/i)},e.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,o=0;o<e.length;o++){for(var a=0;a<e[o].length;a++)for(var i=0;i<t;i++)r.vertices.push(e[o][a][i]);o>0&&(n+=e[o-1].length,r.holes.push(n))}return r},e}())&&(n.exports=o);var i=a.exports})),r.register("gPnQi",(function(t,n){e(t.exports,"deduplicate",(function(){return a}));var o=r("iVfa0");function a(e,t,r){var n,a=e.byteLength/(4*t),c=new Uint32Array(e,0,a*t),f=new Uint32Array(a),p=null!=(n=null==r?void 0:r.minReduction)?n:0,h=(null==r?void 0:r.originalIndices)||null,v=h?h.length:0,d=(null==r?void 0:r.componentOffsets)||null,g=0;if(d)for(var y=0;y<d.length-1;y++){var x=d[y+1]-d[y];x>g&&(g=x)}else g=a;var m=Math.floor(1.1*g)+1;(null==l||l.length<2*m)&&(l=new Uint32Array((0,o.nextHighestPowerOfTwo)(2*m)));for(var w=0;w<2*m;w++)l[w]=0;for(var b=0,A=!!d&&!!h,M=A?v:a,S=A?new Uint32Array(v):null,C=1.96,P=0!==p?Math.ceil(4*C*C/(p*p)*p*(1-p)):M,T=1,F=d?d[1]:M,k=0;k<M;k++){if(k===P){var O=1-b/k;if(O+C*Math.sqrt(O*(1-O)/k)<p)return null;P*=2}if(k===F){for(var _=0;_<2*m;_++)l[_]=0;if(h)for(var j=d[T-1];j<d[T];j++)S[j]=f[h[j]];F=d[++T]}for(var R=A?h[k]:k,I=R*t,L=u(c,I,t),E=L%m,N=b;0!==l[2*E+1];){if(l[2*E]===L){var z=l[2*E+1]-1;if(i(c,I,z*t,t)){N=f[z];break}}++E>=m&&(E-=m)}N===b&&(l[2*E]=L,l[2*E+1]=R+1,b++),f[R]=N}if(0!==p&&1-b/a<p)return null;if(A){for(var D=d[T-1];D<S.length;D++)S[D]=f[h[D]];f=S}var U=new Uint32Array(t*b);b=0;for(var B=0;B<M;B++)f[B]===b&&(s(c,(A?h[B]:B)*t,U,b*t,t),b++);if(h&&!A){for(var Z=new Uint32Array(v),q=0;q<Z.length;q++)Z[q]=f[h[q]];f=Z}return{buffer:U.buffer,indices:f,uniqueCount:b}}function i(e,t,r,n){for(var o=0;o<n;o++)if(e[t+o]!==e[r+o])return!1;return!0}function s(e,t,r,n,o){for(var a=0;a<o;a++)r[n+a]=e[t+a]}function u(e,t,r){for(var n=0,o=0;o<r;o++)n=(n=e[t+o]+n|0)+(n<<11)+(n>>>2)|0;return n>>>0}var l=null})),r.register("5s7gr",(function(t,n){e(t.exports,"centerAt",(function(){return f}));var o=r("jHOLN"),a=r("7qybv"),i=r("5YMIf"),s=r("7RvA5"),u=r("gLl1O"),l=r("4pnUn"),c=o.default.getLogger("esri.geometry.support.meshUtils.centerAt");function f(e,t,r){var n;if(e.vertexAttributes&&e.vertexAttributes.position){var o,i,f,v,d,g,y,x,m,w,b,A,M,S,C,P=null!=(n=null==r?void 0:r.origin)?n:e.origin;(0,a.isSome)(e.transform)?(null!=(null==r?void 0:r.geographic)&&r.geographic!==e.transform.geographic&&c.warn("Specifying the 'geographic' parameter (".concat(r.geographic,") different from the Mesh transform setting (").concat(e.transform.geographic,") is not supported")),m=e.transform,b=P,A=(w=t).x-b.x,M=w.y-b.y,S=w.hasZ&&b.hasZ?w.z-b.z:0,C=m.origin,m.origin=[C[0]+A,C[1]+M,C[2]+S]):(0,u.isGeographicMesh)(e.spatialReference,r)?(o=e,i=t,f=P,v=(0,l.ungeoreference)(o.vertexAttributes,f,{geographic:!0}),d=(0,l.georeference)(v,i,{geographic:!0}),g=d.position,y=d.normal,x=d.tangent,o.vertexAttributes.position=g,o.vertexAttributes.normal=y,o.vertexAttributes.tangent=x,o.vertexAttributesChanged()):function(e,t,r){var n=h,o=p;if((0,s.projectPointToVector)(t,o,e.spatialReference)){if(!(0,s.projectPointToVector)(r,n,e.spatialReference)){var a=e.origin;n[0]=a.x,n[1]=a.y,n[2]=a.z,c.error("Failed to project specified origin (wkid:".concat(r.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(e.spatialReference.wkid,")."))}(function(e,t,r){if(e)for(var n=0;n<e.length;n+=3)for(var o=0;o<3;o++)e[n+o]+=t[o]-r[o]})(e.vertexAttributes.position,o,n),e.vertexAttributesChanged()}else c.error("Failed to project centerAt location (wkid:".concat(t.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(e.spatialReference.wkid,")"))}(e,t,P)}}var p=(0,i.c)(),h=(0,i.c)()})),r.register("7ozs9",(function(n,o){e(n.exports,"loadExternal",(function(){return p}));var a=r("8TSCy"),i=r("2TvXO"),s=r("kyj08"),u=r("7qybv"),l=r("10vEZ"),c=r("kYueh"),f=r("d1Fqh");function p(e,t,r){return h.apply(this,arguments)}function h(){return(h=a.asyncToGenerator(t(i).mark((function e(n,o,a){var s,c,p,h,g,y,x;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.whenOrAbort)(r("euhta"),a);case 2:return s=e.sent,c=s.loadGLTFMesh,e.next=6,d(o,a);case 6:return p=e.sent,(h=c(new(0,f.default)({x:0,y:0,z:0,spatialReference:n.spatialReference}),p.url,{resolveFile:v(p),useTransform:!0,signal:(0,u.isSome)(a)?a.signal:null})).then((function(){return p.dispose()}),(function(){return p.dispose()})),e.next=11,h;case 11:g=e.sent,y=g.vertexAttributes,x=g.components,n.vertexAttributes=y,n.components=x;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){var t=(0,c.removeFile)(e.url);return function(r){var n,o=(0,c.makeRelative)(r,t,t),a=o?o.replace(/^ *\.\//,""):null;return null!=(n=e.files.get(a))?n:r}}function d(e,t){return g.apply(this,arguments)}function g(){return(g=a.asyncToGenerator(t(i).mark((function e(r,n){return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r instanceof Blob?b.fromBlob(r):"string"==typeof r?new b(r):Array.isArray(r)?y(r,n):m(r,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return x.apply(this,arguments)}function x(){return x=a.asyncToGenerator(t(i).mark((function e(r,n){var o,c,f,p,h,v,g,y,x,m,w,A,M,S,C,P,T,F;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new Map,c=null,e.next=4,(0,l.eachAlwaysValues)(r.map(function(){var e=a.asyncToGenerator(t(i).mark((function e(r){return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r.name,e.next=3,d(r instanceof Blob?r:r.source,n);case 3:return e.t1=e.sent,e.abrupt("return",{name:e.t0,source:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:for(f=e.sent,p=[],h=!0,v=!1,g=void 0,e.prev=7,y=f[Symbol.iterator]();!(h=(x=y.next()).done);h=!0)(m=x.value)&&((0,l.isAborted)(n)?m.source.dispose():p.push(m));e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),v=!0,g=e.t0;case 15:e.prev=15,e.prev=16,h||null==y.return||y.return();case 18:if(e.prev=18,!v){e.next=21;break}throw g;case 21:return e.finish(18);case 22:return e.finish(15);case 23:for((0,l.throwIfAborted)(n),w=!0,A=!1,M=void 0,e.prev=25,S=p[Symbol.iterator]();!(w=(C=S.next()).done);w=!0)P=C.value,T=P.name,F=P.source,((0,u.isNone)(c)||/\.(gltf|glb)/i.test(T))&&(c=F.url),o.set(T,F.url),F.files&&F.files.forEach((function(e,t){return o.set(t,e)}));e.next=33;break;case 29:e.prev=29,e.t1=e.catch(25),A=!0,M=e.t1;case 33:e.prev=33,e.prev=34,w||null==S.return||S.return();case 36:if(e.prev=36,!A){e.next=39;break}throw M;case 39:return e.finish(36);case 40:return e.finish(33);case 41:if(!(0,u.isNone)(c)){e.next=43;break}throw new(0,s.default)("mesh-load-external:missing-files","Missing files to load external mesh source");case 43:return e.abrupt("return",new b(c,(function(){return p.forEach((function(e){return e.source.dispose()}))}),o));case 44:case"end":return e.stop()}}),e,null,[[7,11,15,23],[16,,18,22],[25,29,33,41],[34,,36,40]])}))),x.apply(this,arguments)}function m(e,t){return w.apply(this,arguments)}function w(){return w=a.asyncToGenerator(t(i).mark((function e(n,o){var s,u,c;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.whenOrAbort)(r("axdsf"),o);case 2:if(s=e.sent,u=s.default,"string"!=typeof n.multipart[0]){e.next=10;break}return e.next=7,Promise.all(n.multipart.map(function(){var e=a.asyncToGenerator(t(i).mark((function e(r){return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(r,{responseType:"array-buffer"});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=n.multipart;case 11:return c=e.t0,e.abrupt("return",b.fromBlob(new Blob(c)));case 13:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}var b=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;a.classCallCheck(this,e),this.url=t,this.dispose=r,this.files=n}return a.createClass(e,null,[{key:"fromBlob",value:function(t){var r=URL.createObjectURL(t);return new e(r,(function(){return URL.revokeObjectURL(r)}))}}]),e}()})),r.register("euhta",(function(e,t){e.exports=Promise.all([r("4WKyX")(r("aNJCr").getBundleURL("c0ZBe")+r("iE7OH").resolve("4SbGZ")),r("4WKyX")(r("aNJCr").getBundleURL("c0ZBe")+r("iE7OH").resolve("g86MI"))]).then((function(){return r("alzOM")}))})),r.register("axdsf",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("c0ZBe")+r("iE7OH").resolve("3EXx4")).then((function(){return r("9pNSx")}))})),r.register("fbgX7",(function(t,n){e(t.exports,"offset",(function(){return g}));var o=r("jHOLN"),a=r("7qybv"),i=r("j3x2p"),s=r("gnwu9"),u=r("89KCq"),l=r("e4Xv2"),c=r("5YMIf"),f=r("7RvA5"),p=r("7USIy"),h=r("gLl1O"),v=r("9r2zb"),d=o.default.getLogger("esri.geometry.support.meshUtils.offset");function g(e,t,r){var n,o,s,u,g,b,A,M,S,C,P,T,F,k,O,_;e.vertexAttributes&&e.vertexAttributes.position&&((0,a.isSome)(e.transform)?(null!=(null==r?void 0:r.geographic)&&r.geographic!==e.transform.geographic&&d.warn("Specifying the 'geographic' parameter (".concat(r.geographic,") different from the Mesh transform setting (").concat(e.transform.geographic,") is not supported")),k=e.transform,O=t,_=k.origin,k.origin=(0,l.b)((0,c.c)(),_,O)):(0,h.isGeographicMesh)(e.spatialReference,r)?(u=t,g=(s=e).spatialReference,b=s.vertexAttributes.position,A=s.vertexAttributes.normal,M=s.vertexAttributes.tangent,S=new Float64Array(b.length),C=(0,a.isSome)(A)?new Float32Array(A.length):null,P=(0,a.isSome)(M)?new Float32Array(M.length):null,T=s.extent.center,F=x,(0,f.computeTranslationToOriginAndRotation)(g,[T.x,T.y,T.z],m,(0,p.getSphericalPCPF)(g)),(0,i.f)(w,m),(0,l.t)(F,u,w),(0,v.projectToPCPF)(b,g,S),(0,a.isSome)(A)&&(0,v.projectNormalToPCPF)(A,b,S,g,C),(0,a.isSome)(M)&&(0,v.projectTangentToPCPF)(M,b,S,g,P),y(S,F),(0,v.projectFromPCPF)(S,b,g),(0,a.isSome)(A)&&(0,v.projectNormalFromPCPF)(C,b,S,g,A),(0,a.isSome)(M)&&(0,v.projectTangentFromPCPF)(P,b,S,g,M),s.vertexAttributesChanged()):(o=t,y((n=e).vertexAttributes.position,o),n.vertexAttributesChanged()))}function y(e,t){if(e)for(var r=0;r<e.length;r+=3)for(var n=0;n<3;n++)e[r+n]+=t[n]}var x=(0,c.c)(),m=(0,u.c)(),w=(0,s.c)()})),r.register("gnwu9",(function(t,r){function n(){return[1,0,0,0,1,0,0,0,1]}function o(e,t){return new Float64Array(e,t,9)}e(t.exports,"c",(function(){return n})),e(t.exports,"a",(function(){return o}));Object.freeze({__proto__:null,create:n,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},fromValues:function(e,t,r,n,o,a,i,s,u){return[e,t,r,n,o,a,i,s,u]},createView:o})})),r.register("89KCq",(function(t,r){function n(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function o(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function a(e,t){return new Float64Array(e,t,16)}e(t.exports,"c",(function(){return n})),e(t.exports,"b",(function(){return o})),e(t.exports,"a",(function(){return a})),e(t.exports,"I",(function(){return i}));var i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze({__proto__:null,create:n,clone:o,fromValues:function(e,t,r,n,o,a,i,s,u,l,c,f,p,h,v,d){return[e,t,r,n,o,a,i,s,u,l,c,f,p,h,v,d]},createView:a,IDENTITY:i})})),r.register("dPpde",(function(t,n){e(t.exports,"createUnitSizeBox",(function(){return p})),e(t.exports,"extractSingleFaceOfBox",(function(){return h})),e(t.exports,"createUnitSizeSphere",(function(){return v})),e(t.exports,"createUnitSizeCylinder",(function(){return d})),e(t.exports,"convertPlaneSizeParameter",(function(){return g})),e(t.exports,"createUnitSizePlane",(function(){return y})),e(t.exports,"convertUnitGeometry",(function(){return m}));var o=r("8TSCy"),a=r("7qybv"),i=r("gnwu9"),s=r("e4Xv2"),u=r("5YMIf"),l=r("lqmgd"),c=r("9VOjl"),f=r("4pnUn");function p(){for(var e=w.faceDescriptions,t=w.faceVertexOffsets,r=w.uvScales,n=4*e.length,o=new Float64Array(3*n),a=new Float32Array(3*n),i=new Float32Array(2*n),s=new Uint32Array(2*e.length*3),u=0,l=0,c=0,f=0,p=0;p<e.length;p++){var h=e[p],v=u/3,d=!0,g=!1,y=void 0;try{for(var x,m=t[Symbol.iterator]();!(d=(x=m.next()).done);d=!0){var b=x.value;s[f++]=v+b}}catch(e){g=!0,y=e}finally{try{d||null==m.return||m.return()}finally{if(g)throw y}}for(var A=h.corners,M=0;M<4;M++){var S=A[M],C=0;i[c++]=.25*r[M][0]+h.uvOrigin[0],i[c++]=h.uvOrigin[1]-.25*r[M][1];for(var P=0;P<3;P++)0!==h.axis[P]?(o[u++]=.5*h.axis[P],a[l++]=h.axis[P]):(o[u++]=.5*S[C++],a[l++]=0)}}return{position:o,normal:a,uv:i,faces:s}}function h(e,t){for(var r=e.components[0],n=r.faces,o=b[t],i=6*o,s=new Uint32Array(6),u=new Uint32Array(n.length-6),c=0,f=0,p=0;p<n.length;p++)p>=i&&p<i+6?s[c++]=n[p]:u[f++]=n[p];if((0,a.isSome)(e.vertexAttributes.uv)){for(var h=new Float32Array(e.vertexAttributes.uv),v=4*o*2,d=[0,1,1,1,1,0,0,0],g=0;g<d.length;g++)h[v+g]=d[g];e.vertexAttributes.uv=h}return e.components=[new(0,l.default)({faces:s,material:r.material}),new(0,l.default)({faces:u})],e}function v(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Math.round(8*Math.pow(2,e)),r=2*t,n=(t-1)*(r+1)+2*r,o=new Float64Array(3*n),a=new Float32Array(3*n),i=new Float32Array(2*n),s=new Uint32Array((t-1)*r*2*3),u=0,l=0,c=0,f=0,p=0;p<=t;p++){var h=p/t*Math.PI+.5*Math.PI,v=Math.cos(h),d=Math.sin(h);A[2]=d;for(var g=0===p||p===t,y=g?r-1:r,x=0;x<=y;x++){var m=x/y*2*Math.PI;A[0]=-Math.sin(m)*v,A[1]=Math.cos(m)*v;for(var w=0;w<3;w++)o[u]=.5*A[w],a[u]=A[w],++u;i[l++]=(x+(g?.5:0))/r,i[l++]=p/t,0!==p&&x!==r&&(p!==t&&(s[c++]=f,s[c++]=f+1,s[c++]=f-r),1!==p&&(s[c++]=f,s[c++]=f-r,s[c++]=f-r-1)),f++}}return{position:o,normal:a,uv:i,faces:s}}function d(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=5,r=Math.round(16*Math.pow(2,e)),n=(t-1)*(r+1)+2*r,o=new Float64Array(3*n),a=new Float32Array(3*n),i=new Float32Array(2*n),s=new Uint32Array(4*r*3),u=0,l=0,c=0,f=0,p=0,h=0;h<=t;h++)for(var v=0===h||h===t,d=h<=1||h>=t-1,g=2===h||4===h,y=v?r-1:r,x=0;x<=y;x++){var m=x/y*2*Math.PI,w=v?0:.5;A[0]=w*Math.sin(m),A[1]=w*-Math.cos(m),A[2]=h<=2?.5:-.5;for(var b=0;b<3;b++)o[u++]=A[b],a[l++]=d?2===b?h<=1?1:-1:0:2===b?0:A[b]/w;i[c++]=(x+(v?.5:0))/r,i[c++]=h<=1?1*h/3:h<=3?1*(h-2)/3+1/3:1*(h-4)/3+2/3,g||0===h||x===r||(h!==t&&(s[f++]=p,s[f++]=p+1,s[f++]=p-r),1!==h&&(s[f++]=p,s[f++]=p-r,s[f++]=p-r-1)),p++}return{position:o,normal:a,uv:i,faces:s}}function g(e,t){var r="number"==typeof t?t:null!=t?t.width:1,n="number"==typeof t?t:null!=t?t.height:1;switch(e){case"up":case"down":return{width:r,depth:n};case"north":case"south":return{width:r,height:n};case"east":case"west":return{depth:r,height:n}}}function y(e){for(var t=x.facingAxisOrderSwap[e],r=x.position,n=x.normal,o=new Float64Array(r.length),a=new Float32Array(n.length),i=0,s=0;s<4;s++)for(var u=i,l=0;l<3;l++){var c=t[l],f=Math.abs(c)-1,p=c>=0?1:-1;o[i]=r[u+f]*p,a[i]=n[u+f]*p,i++}return{position:o,normal:a,uv:new Float32Array(x.uv),faces:new Uint32Array(x.faces)}}var x={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[3,1,2],west:[-3,-1,2],north:[-1,3,2],south:[1,-3,2],up:[1,2,3],down:[1,-2,-3]}};function m(e,t,r){(function(e){for(var t=0;t<e.position.length;t+=3)e.position[t+2]+=.5})(e),function(e,t){if(null==t)return;var r="number"==typeof t?[t,t,t]:[null!=t.width?t.width:1,null!=t.depth?t.depth:1,null!=t.height?t.height:1];M[0]=r[0],M[4]=r[1],M[8]=r[2];for(var n=0;n<e.position.length;n+=3){for(var o=0;o<3;o++)A[o]=e.position[n+o];(0,s.t)(A,A,M);for(var a=0;a<3;a++)e.position[n+a]=A[a]}if(r[0]!==r[1]||r[1]!==r[2]){M[0]=1/r[0],M[4]=1/r[1],M[8]=1/r[2];for(var i=0;i<e.normal.length;i+=3){for(var u=0;u<3;u++)A[u]=e.normal[i+u];(0,s.t)(A,A,M),(0,s.n)(A,A);for(var l=0;l<3;l++)e.normal[i+l]=A[l]}}}(e,r&&r.size);var n=(0,f.georeferenceByTransform)(e,t,r),a=n.vertexAttributes,i=n.transform;return{vertexAttributes:new(0,c.MeshVertexAttributes)(o.objectSpread({},a,{uv:e.uv})),transform:i,components:[new(0,l.default)({faces:e.faces,material:r&&r.material||null})],spatialReference:t.spatialReference}}var w={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]},b={south:0,east:1,north:2,west:3,up:4,down:5},A=(0,u.c)(),M=(0,i.c)()})),r.register("fPQIx",(function(t,n){e(t.exports,"rotate",(function(){return x}));var o=r("jHOLN"),a=r("7qybv"),i=r("j3x2p"),s=r("gnwu9"),u=r("gEEzE"),l=r("89KCq"),c=r("e4Xv2"),f=r("5YMIf"),p=r("7RvA5"),h=r("7USIy"),v=r("glKuz"),d=r("gLl1O"),g=r("9r2zb"),y=o.default.getLogger("esri.geometry.support.meshUtils.rotate");function x(e,t,r){if(e.vertexAttributes&&e.vertexAttributes.position&&0!==t[3]){var n=e.spatialReference;if((0,a.isSome)(e.transform)){var o;null!=(null==r?void 0:r.geographic)&&r.geographic!==e.transform.geographic&&y.warn("Specifying the 'geographic' parameter (".concat(r.geographic,") different from the Mesh transform setting (").concat(e.transform.geographic,") is not supported"));var s=null!=(o=null==r?void 0:r.origin)?o:e.transform.getOriginPoint(n);!function(e,t,r){var n=(0,c.s)(w,r.x,r.y,r.z),o=(0,c.f)(w,n,e.origin);e.applyLocalInverse(o,b),e.rotation=(0,v.compose)(e.rotation,t,(0,v.create)()),e.applyLocalInverse(o,o),(0,c.f)(o,o,b),e.translation=(0,c.b)((0,f.c)(),e.translation,o)}(e.transform,t,s)}else{var u,l=null!=(u=null==r?void 0:r.origin)?u:e.origin;(0,d.isGeographicMesh)(e.spatialReference,r)?function(e,t,r){var n=e.spatialReference,o=(0,h.getSphericalPCPF)(n),s=C;(0,p.projectPointToVector)(r,s,o)||(0,p.projectPointToVector)(e.origin,s,o);var u=e.vertexAttributes.position,l=e.vertexAttributes.normal,f=e.vertexAttributes.tangent,d=new Float64Array(u.length),y=(0,a.isSome)(l)?new Float32Array(l.length):null,x=(0,a.isSome)(f)?new Float32Array(f.length):null;(0,p.computeTranslationToOriginAndRotation)(o,s,M,o),(0,i.f)(S,M);var w=A;(0,c.t)((0,v.axis)(A),(0,v.axis)(t),S),w[3]=t[3],(0,g.projectToPCPF)(u,n,d),(0,a.isSome)(l)&&(0,g.projectNormalToPCPF)(l,u,d,n,y),(0,a.isSome)(f)&&(0,g.projectTangentToPCPF)(f,u,d,n,x),m(d,w,3,s),(0,g.projectFromPCPF)(d,u,n),(0,a.isSome)(l)&&(m(y,w,3),(0,g.projectNormalFromPCPF)(y,u,d,n,l)),(0,a.isSome)(f)&&(m(x,w,4),(0,g.projectTangentFromPCPF)(x,u,d,n,f)),e.vertexAttributesChanged()}(e,t,l):function(e,t,r){var n=C;if(!(0,p.projectPointToVector)(r,n,e.spatialReference)){var o=e.origin;n[0]=o.x,n[1]=o.y,n[2]=o.z,y.error("Failed to project specified origin (wkid:".concat(r.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(e.spatialReference.wkid,")."))}m(e.vertexAttributes.position,t,3,n),m(e.vertexAttributes.normal,t,3),m(e.vertexAttributes.tangent,t,4),e.vertexAttributesChanged()}(e,t,l)}}}function m(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.Z;if(!(0,a.isNone)(e)){(0,u.d)(M,(0,v.angleRad)(t),(0,v.axis)(t));for(var o=0;o<e.length;o+=r){for(var i=0;i<3;i++)w[i]=e[o+i]-n[i];(0,c.m)(w,w,M);for(var s=0;s<3;s++)e[o+s]=w[s]+n[s]}}}var w=(0,f.c)(),b=(0,f.c)(),A=(0,v.create)(),M=(0,l.c)(),S=(0,s.c)(),C=(0,f.c)()})),r.register("3SQfL",(function(t,n){e(t.exports,"scale",(function(){return h}));var o=r("jHOLN"),a=r("7qybv"),i=r("e4Xv2"),s=r("5YMIf"),u=r("7RvA5"),l=r("7USIy"),c=r("gLl1O"),f=r("9r2zb"),p=o.default.getLogger("esri.geometry.support.meshUtils.scale");function h(e,t,r){if(e.vertexAttributes&&e.vertexAttributes.position){var n=e.spatialReference;if((0,a.isSome)(e.transform)){var o;null!=(null==r?void 0:r.geographic)&&r.geographic!==e.transform.geographic&&p.warn("Specifying the 'geographic' parameter (".concat(r.geographic,") different from the Mesh transform setting (").concat(e.transform.geographic,") is not supported"));var h=null!=(o=null==r?void 0:r.origin)?o:e.transform.getOriginPoint(n);!function(e,t,r){var n=(0,i.s)(d,r.x,r.y,r.z),o=(0,i.f)(d,n,e.origin);e.applyLocalInverse(o,g);var a=(0,i.a)((0,s.c)(),e.scale,t);e.scale=a,e.applyLocalInverse(o,o),(0,i.f)(o,o,g),e.translation=(0,i.b)((0,s.c)(),e.translation,o)}(e.transform,t,h)}else{var x=(0,c.isGeographicMesh)(e.spatialReference,r),m=r&&r.origin||e.origin;x?function(e,t,r){var n=e.spatialReference,o=(0,l.getSphericalPCPF)(n),i=y;(0,u.projectPointToVector)(r,i,o)||(0,u.projectPointToVector)(e.origin,i,o);var s=e.vertexAttributes.position,c=e.vertexAttributes.normal,p=e.vertexAttributes.tangent,h=new Float64Array(s.length),d=(0,a.isSome)(c)?new Float32Array(c.length):null,g=(0,a.isSome)(p)?new Float32Array(p.length):null;(0,f.projectToPCPF)(s,n,h),(0,a.isSome)(c)&&(0,f.projectNormalToPCPF)(c,s,h,n,d),(0,a.isSome)(p)&&(0,f.projectTangentToPCPF)(p,s,h,n,g),v(h,t,i),(0,f.projectFromPCPF)(h,s,n),(0,a.isSome)(c)&&(0,f.projectNormalFromPCPF)(d,s,h,n,c),(0,a.isSome)(p)&&(0,f.projectTangentFromPCPF)(g,s,h,n,p),e.vertexAttributesChanged()}(e,t,m):function(e,t,r){var n=y;if(!(0,u.projectPointToVector)(r,n,e.spatialReference)){var o=e.origin;n[0]=o.x,n[1]=o.y,n[2]=o.z,p.error("Failed to project specified origin (wkid:".concat(r.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(e.spatialReference.wkid,")."))}v(e.vertexAttributes.position,t,n),e.vertexAttributesChanged()}(e,t,m)}}}function v(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.Z;if(e)for(var n=0;n<e.length;n+=3){for(var o=0;o<3;o++)d[o]=e[n+o]-r[o];(0,i.a)(d,d,t);for(var a=0;a<3;a++)e[n+a]=d[a]+r[a]}}var d=(0,s.c)(),g=(0,s.c)(),y=(0,s.c)()})),r.register("5iFjh",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("c0ZBe")+r("iE7OH").resolve("h1U5Z")).then((function(){return r("7tZan")}))})),r.register("g1GYh",(function(t,r){var n,o,a,i;e(t.exports,"AssetMapFieldRole",(function(){return n})),e(t.exports,"Status",(function(){return o})),(i=n||(n={})).featureGUID="featureGUID",i.assetName="assetName",i.hash="hash",i.type="type",i.conversionStatus="conversionStatus",i.flags="flags",i.complexity="complexity",i.size="size",i.seqNo="seqNo",i.sourceHash="sourceHash",i.assetURL="assetURL",(a=o||(o={})).SUBMITTED="SUBMITTED",a.INPROGRESS="INPROGRESS",a.FAILED="FAILED",a.COMPLETED="COMPLETED"})),r.register("koyqq",(function(t,n){e(t.exports,"s",(function(){return c})),e(t.exports,"g",(function(){return f})),e(t.exports,"m",(function(){return p})),e(t.exports,"c",(function(){return v})),e(t.exports,"k",(function(){return g})),e(t.exports,"j",(function(){return k}));var o=r("gnwu9"),a=r("ksUrQ"),i=r("5YMIf"),s=r("1CBkz"),u=r("e4Xv2"),l=r("hRPEZ");function c(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function f(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>s.E?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function p(e,t,r){var n=t[0],o=t[1],a=t[2],i=t[3],s=r[0],u=r[1],l=r[2],c=r[3];return e[0]=n*c+i*s+o*l-a*u,e[1]=o*c+i*u+a*s-n*l,e[2]=a*c+i*l+n*u-o*s,e[3]=i*c-n*s-o*u-a*l,e}function h(e,t,r,n){var o,a,i,u,l,c=t[0],f=t[1],p=t[2],h=t[3],v=r[0],d=r[1],g=r[2],y=r[3];return(a=c*v+f*d+p*g+h*y)<0&&(a=-a,v=-v,d=-d,g=-g,y=-y),1-a>s.E?(o=Math.acos(a),i=Math.sin(o),u=Math.sin((1-n)*o)/i,l=Math.sin(n*o)/i):(u=1-n,l=n),e[0]=u*c+l*v,e[1]=u*f+l*d,e[2]=u*p+l*g,e[3]=u*h+l*y,e}function v(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function d(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var o=0;t[4]>t[0]&&(o=1),t[8]>t[3*o+o]&&(o=2);var a=(o+1)%3,i=(o+2)%3;r=Math.sqrt(t[3*o+o]-t[3*a+a]-t[3*i+i]+1),e[o]=.5*r,r=.5/r,e[3]=(t[3*a+i]-t[3*i+a])*r,e[a]=(t[3*a+o]+t[3*o+a])*r,e[i]=(t[3*i+o]+t[3*o+i])*r}return e}function g(e,t,r,n){var o=.5*Math.PI/180;t*=o,r*=o,n*=o;var a=Math.sin(t),i=Math.cos(t),s=Math.sin(r),u=Math.cos(r),l=Math.sin(n),c=Math.cos(n);return e[0]=a*u*c-i*s*l,e[1]=i*s*c+a*u*l,e[2]=i*u*l-a*s*c,e[3]=i*u*c+a*s*l,e}var y=l.c,x=l.s,m=l.a,w=p,b=l.b,A=l.d,M=l.l,S=l.e,C=S,P=l.f,T=P,F=l.n,k=l.g,O=l.h;var _=(0,i.c)(),j=(0,i.f)(1,0,0),R=(0,i.f)(0,1,0);var I=(0,a.a)(),L=(0,a.a)();var E=(0,o.c)();Object.freeze({__proto__:null,identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},setAxisAngle:c,getAxisAngle:f,multiply:p,rotateX:function(e,t,r){r*=.5;var n=t[0],o=t[1],a=t[2],i=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+i*s,e[1]=o*u+a*s,e[2]=a*u-o*s,e[3]=i*u-n*s,e},rotateY:function(e,t,r){r*=.5;var n=t[0],o=t[1],a=t[2],i=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u-a*s,e[1]=o*u+i*s,e[2]=a*u+n*s,e[3]=i*u-o*s,e},rotateZ:function(e,t,r){r*=.5;var n=t[0],o=t[1],a=t[2],i=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+o*s,e[1]=o*u-n*s,e[2]=a*u+i*s,e[3]=i*u-a*s,e},calculateW:function(e,t){var r=t[0],n=t[1],o=t[2];return e[0]=r,e[1]=n,e[2]=o,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-o*o)),e},slerp:h,random:function(e){var t=(0,s.R)(),r=(0,s.R)(),n=(0,s.R)(),o=Math.sqrt(1-t),a=Math.sqrt(t);return e[0]=o*Math.sin(2*Math.PI*r),e[1]=o*Math.cos(2*Math.PI*r),e[2]=a*Math.sin(2*Math.PI*n),e[3]=a*Math.cos(2*Math.PI*n),e},invert:function(e,t){var r=t[0],n=t[1],o=t[2],a=t[3],i=r*r+n*n+o*o+a*a,s=i?1/i:0;return e[0]=-r*s,e[1]=-n*s,e[2]=-o*s,e[3]=a*s,e},conjugate:v,fromMat3:d,fromEuler:g,str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},copy:y,set:x,add:m,mul:w,scale:b,dot:A,lerp:M,length:S,len:C,squaredLength:P,sqrLen:T,normalize:F,exactEquals:k,equals:O,rotationTo:function(e,t,r){var n=(0,u.d)(t,r);return n<-.999999?((0,u.c)(_,j,t),(0,u.u)(_)<1e-6&&(0,u.c)(_,R,t),(0,u.n)(_,_),c(e,_,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):((0,u.c)(_,t,r),e[0]=_[0],e[1]=_[1],e[2]=_[2],e[3]=1+n,F(e,e))},sqlerp:function(e,t,r,n,o,a){return h(I,t,o,a),h(L,r,n,a),h(e,I,L,2*a*(1-a)),e},setAxes:function(e,t,r,n){var o=E;return o[0]=r[0],o[3]=r[1],o[6]=r[2],o[1]=n[0],o[4]=n[1],o[7]=n[2],o[2]=-t[0],o[5]=-t[1],o[8]=-t[2],F(e,d(e,o))}})})),r.register("ksUrQ",(function(t,r){function n(){return[0,0,0,1]}function o(e){return[e[0],e[1],e[2],e[3]]}function a(e,t){return new Float64Array(e,t,4)}e(t.exports,"a",(function(){return n})),e(t.exports,"b",(function(){return o})),e(t.exports,"c",(function(){return a})),e(t.exports,"I",(function(){return i}));var i=[0,0,0,1];Object.freeze({__proto__:null,create:n,clone:o,fromValues:function(e,t,r,n){return[e,t,r,n]},createView:a,IDENTITY:i})})),r.register("hhwnq",(function(t,n){e(t.exports,"t",(function(){return a})),e(t.exports,"a",(function(){return i})),e(t.exports,"s",(function(){return s})),e(t.exports,"n",(function(){return u})),e(t.exports,"b",(function(){return l}));var o=r("997M2");function a(e,t,r){if(e.count===t.count)for(var n=e.count,a=r[0],i=r[1],s=r[2],u=r[4],l=r[5],c=r[6],f=r[8],p=r[9],h=r[10],v=r[12],d=r[13],g=r[14],y=e.typedBuffer,x=e.typedBufferStride,m=t.typedBuffer,w=t.typedBufferStride,b=0;b<n;b++){var A=b*x,M=b*w,S=m[M],C=m[M+1],P=m[M+2];y[A]=a*S+u*C+f*P+v,y[A+1]=i*S+l*C+p*P+d,y[A+2]=s*S+c*C+h*P+g}else o.mathLogger.error("source and destination buffers need to have the same number of elements")}function i(e,t,r){if(e.count===t.count)for(var n=e.count,a=r[0],i=r[1],s=r[2],u=r[3],l=r[4],c=r[5],f=r[6],p=r[7],h=r[8],v=e.typedBuffer,d=e.typedBufferStride,g=t.typedBuffer,y=t.typedBufferStride,x=0;x<n;x++){var m=x*d,w=x*y,b=g[w],A=g[w+1],M=g[w+2];v[m]=a*b+u*A+f*M,v[m+1]=i*b+l*A+p*M,v[m+2]=s*b+c*A+h*M}else o.mathLogger.error("source and destination buffers need to have the same number of elements")}function s(e,t,r){for(var n=Math.min(e.count,t.count),o=e.typedBuffer,a=e.typedBufferStride,i=t.typedBuffer,s=t.typedBufferStride,u=0;u<n;u++){var l=u*a,c=u*s;o[l]=r*i[c],o[l+1]=r*i[c+1],o[l+2]=r*i[c+2]}}function u(e,t){for(var r=Math.min(e.count,t.count),n=e.typedBuffer,o=e.typedBufferStride,a=t.typedBuffer,i=t.typedBufferStride,s=0;s<r;s++){var u=s*o,l=s*i,c=a[l],f=a[l+1],p=a[l+2],h=Math.sqrt(c*c+f*f+p*p);if(h>0){var v=1/h;n[u]=v*c,n[u+1]=v*f,n[u+2]=v*p}}}function l(e,t,r){for(var n=Math.min(e.count,t.count),o=e.typedBuffer,a=e.typedBufferStride,i=t.typedBuffer,s=t.typedBufferStride,u=0;u<n;u++){var l=u*a,c=u*s;o[l]=i[c]>>r,o[l+1]=i[c+1]>>r,o[l+2]=i[c+2]>>r}}Object.freeze({__proto__:null,transformMat4:a,transformMat3:i,scale:s,normalize:u,shiftRight:l})})),r.register("997M2",(function(t,n){e(t.exports,"mathLogger",(function(){return o}));var o=r("jHOLN").default.getLogger("esri.views.3d.support.buffer.math")})),r.register("fxkX0",(function(t,r){function n(e,t,r){for(var n=e.typedBuffer,o=e.typedBufferStride,a=t.typedBuffer,i=t.typedBufferStride,s=r?r.count:t.count,u=(r&&r.dstIndex?r.dstIndex:0)*o,l=(r&&r.srcIndex?r.srcIndex:0)*i,c=0;c<s;++c)n[u]=a[l],n[u+1]=a[l+1],n[u+2]=a[l+2],u+=o,l+=i}function o(e,t,r,n,o){for(var a,i,s=e.typedBuffer,u=e.typedBufferStride,l=null!=(a=null==o?void 0:o.count)?a:e.count,c=(null!=(i=null==o?void 0:o.dstIndex)?i:0)*u,f=0;f<l;++f)s[c]=t,s[c+1]=r,s[c+2]=n,c+=u}e(t.exports,"c",(function(){return n})),e(t.exports,"f",(function(){return o}));Object.freeze({__proto__:null,copy:n,fill:o})}))}();
//# sourceMappingURL=meshFeatureSet.1747ff92.js.map
