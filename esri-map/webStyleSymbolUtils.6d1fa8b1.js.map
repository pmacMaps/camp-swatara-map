{"mappings":"6ZAIA,IAAAA,EAAAC,EAAA,8HAA8kB,SAASC,EAAEC,EAAEC,EAAEC,EAAEC,GAAG,OAAOH,EAAEI,KAAKJ,EAAEK,WAAW,4BAA4BL,EAAEK,UAAi/B,SAAWC,EAAEC,EAAEC,GAAG,MAAMC,EAAEC,EAAAC,mBAAEC,QAAO,mBAAoBN,EAAEF,MAAM,OAAO,EAAAM,EAAAG,aAAEJ,EAAED,GAAGM,MAAMC,IAAI,MAAMC,GAAE,EAAAN,EAAAO,kBAAEF,EAAEG,MAAM,OAAO,EAAAC,EAAAC,UAAEJ,EAAE,CAACK,OAAOd,EAAEc,OAAOC,KAAI,EAAAC,EAAAC,cAAE,EAAAD,EAAAE,YAAEhB,IAAIiB,OAAO,mBAA/nCC,CAAE3B,EAAEC,EAAEE,IAAG,EAAAO,EAAAkB,YAAE5B,EAAEC,EAAEE,GAAGW,MAAMe,GAAGC,EAAED,EAAE7B,EAAEI,KAAKH,EAAEC,EAAEC,KAAK4B,QAAQC,OAAO,IAAI,EAAAC,EAAAC,SAAE,uDAAuD,2CAA2C,SAASJ,EAAEK,EAAEC,EAAEC,EAAEC,EAAEC,GAAG,MAAMC,EAAEL,EAAEjB,KAAKuB,EAAE,CAACpB,OAAOgB,GAAGA,EAAEhB,QAAQqB,EAAAR,QAAES,aAAarB,KAAI,EAAAC,EAAAC,aAAEW,EAAES,SAASlB,OAAO,eAAemB,EAAEL,EAAEM,MAAMC,MAAMC,GAAGA,EAAE5C,OAAOgC,IAAI,IAAIS,EAAE,CAAC,MAAMI,EAAE,oBAAoBb,wBAAwB,OAAOL,QAAQC,OAAO,IAAI,EAAAC,EAAAC,SAAE,yCAAyCe,EAAE,CAACC,WAAWd,KAAK,IAAIe,GAAE,EAAAC,EAAAC,IAAE,EAAA3C,EAAA4C,wBAAET,EAAEP,GAAGG,GAAGc,EAAEV,EAAEW,WAAWX,EAAEW,UAAUC,KAAK,MAAMC,EAAEb,EAAEW,WAAWX,EAAEW,UAAUG,WAAU,EAAAC,EAAAC,sBAAMV,GAAE,EAAAS,EAAAE,oBAAEX,GAAGI,GAAE,EAAAK,EAAAE,oBAAEP,IAAI,MAAMQ,EAAE,CAAC1C,OAAOgB,EAAEhB,OAAOC,KAAI,EAAAC,EAAAC,cAAE,EAAAD,EAAAE,YAAE0B,IAAIzB,OAAO,eAAe,OAAO,EAAAhB,EAAAG,aAAEsC,EAAEZ,GAAGzB,MAAMkD,IAAI,MAAMC,EAAE,WAAW3B,GAAE,EAAA5B,EAAAO,kBAAE+C,EAAE9C,MAAM8C,EAAE9C,KAAKgD,GAAE,EAAA/C,EAAAC,UAAE6C,EAAEF,GAAG,GAAGG,IAAG,EAAArE,EAAAsE,YAAED,GAAG,CAAC,GAAGX,EAAE,CAAC,MAAMa,GAAE,EAAAhB,EAAAC,GAAEE,EAAEd,GAAGyB,EAAEV,UAAU,IAAI,EAAAa,EAAAC,WAAE,CAAChD,IAAI8C,SAASV,IAAIQ,EAAEV,UAAU,IAAI,EAAAa,EAAAC,WAAE,CAAChD,IAAI,yBAAyBoC,OAAOvB,EAAEoC,SAASL,EAAEM,YAAY,IAAI,EAAAC,EAAAvC,SAAE,CAACb,OAAOgB,EAAEhB,OAAOkD,SAASpC,EAAEoC,SAASnE,KAAKgC,IAAID,EAAE9B,YAAY6D,EAAEM,YAAY,IAAI,EAAAC,EAAAvC,SAAE,CAACb,OAAOgB,EAAEhB,OAAOhB,UAAU8B,EAAE9B,UAAUD,KAAKgC,KAAK,OAAO8B","sources":["node_modules/@arcgis/core/symbols/support/webStyleSymbolUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as t}from\"../../symbols.js\";import{isDevEnvironment as e,adjustStaticAGOUrl as r}from\"../../core/devEnvironmentUtils.js\";import o from\"../../core/Error.js\";import{urlToObject as l,removeFile as n}from\"../../core/urlUtils.js\";import s from\"../../portal/Portal.js\";import{f as m}from\"../../chunks/persistableUrlUtils.js\";import{fromJSON as i}from\"./jsonUtils.js\";import a from\"./StyleOrigin.js\";import{requestJSON as u,makeCIMSymbolRef as p,fetchStyle as y,symbolUrlFromStyleItem as f,Style2DUrlTemplate as c}from\"./styleUtils.js\";import{Thumbnail as b}from\"./Thumbnail.js\";function g(t,e,r,l){return t.name?t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName?j(t,e,l):y(t,e,l).then((o=>h(o,t.name,e,r,l))):Promise.reject(new o(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\"))}function h(y,c,g,h,j){const d=y.data,U={portal:g&&g.portal||s.getDefault(),url:l(y.baseUrl),origin:\"portal-item\"},N=d.items.find((t=>t.name===c));if(!N){const t=`The symbol name '${c}' could not be found`;return Promise.reject(new o(\"symbolstyleutils:symbol-name-not-found\",t,{symbolName:c}))}let w=m(f(N,h),U),P=N.thumbnail&&N.thumbnail.href;const S=N.thumbnail&&N.thumbnail.imageData;e()&&(w=r(w),P=r(P));const D={portal:g.portal,url:l(n(w)),origin:\"portal-item\"};return u(w,j).then((e=>{const r=\"cimRef\"===h?p(e.data):e.data,o=i(r,D);if(o&&t(o)){if(P){const t=m(P,U);o.thumbnail=new b({url:t})}else S&&(o.thumbnail=new b({url:`data:image/png;base64,${S}`}));y.styleUrl?o.styleOrigin=new a({portal:g.portal,styleUrl:y.styleUrl,name:c}):y.styleName&&(o.styleOrigin=new a({portal:g.portal,styleName:y.styleName,name:c}))}return o}))}function j(t,e,r){const o=c.replace(/\\{SymbolName\\}/gi,t.name);return u(o,r).then((t=>{const r=p(t.data);return i(r,{portal:e.portal,url:l(n(o)),origin:\"portal-item\"})}))}export{h as fetchSymbolFromStyle,g as resolveWebStyleSymbol};\n"],"names":["$cSqwa","parcelRequire","$2a233e7b8693ec45$export$4574f407608cb7bd","t1","e1","r1","l1","name","styleName","t5","e3","r3","o3","$i9hTa","Style2DUrlTemplate","replace","requestJSON","then","t6","r4","makeCIMSymbolRef","data","$lwTIi","fromJSON","portal","url","$7dRCe","urlToObject","removeFile","origin","$2a233e7b8693ec45$var$j","fetchStyle","o1","$2a233e7b8693ec45$export$b965c7bf6c3c6a0f","Promise","reject","$bPmsI","default","y1","c1","g1","h1","j1","d","U","$39WmQ","getDefault","baseUrl","N","items","find","t2","t3","symbolName","w","$hej7M","f","symbolUrlFromStyleItem","P","thumbnail","href","S","imageData","$gnGFZ","isDevEnvironment","adjustStaticAGOUrl","D","e2","r2","o2","isSymbol3D","t4","$9OWEb","Thumbnail","styleUrl","styleOrigin","$d0yIK"],"version":3,"file":"webStyleSymbolUtils.6d1fa8b1.js.map"}