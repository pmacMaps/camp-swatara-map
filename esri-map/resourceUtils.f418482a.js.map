{"mappings":"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","sources":["node_modules/@arcgis/core/portal/support/resourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{get as r,isSome as a,isNone as o}from\"../../core/maybe.js\";import{join as s,getPathExtension as n}from\"../../core/urlUtils.js\";async function c(e,t={},a){await e.load(a);const o=s(e.itemUrl,\"resources\"),{start:n=1,num:c=10,sortOrder:u=\"asc\",sortField:i=\"created\"}=t,l={query:{start:n,num:c,sortOrder:u,sortField:i,token:e.apiKey},signal:r(a,\"signal\")},p=await e.portal._request(o,l);return{total:p.total,nextStart:p.nextStart,resources:p.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function u(e,o,n,c){if(!e.hasPath())throw new t(`portal-item-resource-${o}:invalid-path`,\"Resource does not have a valid path\");const u=e.portalItem;await u.load(c);const i=s(u.userItemUrl,\"add\"===o?\"addResources\":\"updateResources\"),[l,d]=p(e.path),m=await h(n),f=new FormData;return l&&\".\"!==l&&f.append(\"resourcesPrefix\",l),f.append(\"fileName\",d),f.append(\"file\",m,d),f.append(\"f\",\"json\"),a(c)&&c.access&&f.append(\"access\",c.access),await u.portal._request(i,{method:\"post\",body:f,signal:r(c,\"signal\")}),e}async function i(e,a,o){if(!a.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const n=s(e.userItemUrl,\"removeResources\");await e.portal._request(n,{method:\"post\",query:{resource:a.path},signal:r(o,\"signal\")}),a.portalItem=null}async function l(e,t){await e.load(t);const a=s(e.userItemUrl,\"removeResources\");return e.portal._request(a,{method:\"post\",query:{deleteAll:!0},signal:r(t,\"signal\")})}function p(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function d(e){const[t,r]=m(e),[a,o]=p(t);return[a,o,r]}function m(e){const t=n(e);return o(t)?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function h(t){if(t instanceof Blob)return t;return(await e(t.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[r,,a]=d(e.path);return e.portalItem.resourceFromPath(s(r,t+a))}function w(e,t){if(!e.hasPath())return null;const[r,,a]=d(e.path);return e.portalItem.resourceFromPath(s(r,t+a))}export{u as addOrUpdateResource,h as contentToBlob,c as fetchResources,f as getSiblingOfSameType,w as getSiblingOfSameTypeI,l as removeAllResources,i as removeResource,d as splitPrefixFileNameAndExtension};\n"],"names":["$bYA0c","parcelRequire","async","$9ca2ca764e361588$export$5339cb72317205a3","e1","t1","a1","load","o1","$7dRCe","join","itemUrl","start","n1","num","c1","sortOrder","u1","sortField","i1","l1","query","token","apiKey","signal","$1CpCt","get","p1","portal","_request","total","nextStart","resources","map","created","t2","size","r1","resource","a2","Date","resourceFromPath","$9ca2ca764e361588$export$553000e136fea8b9","e2","o2","n2","c2","hasPath","$bPmsI","default","u2","portalItem","i2","userItemUrl","l2","d1","$9ca2ca764e361588$var$p","path","m1","$9ca2ca764e361588$export$4d4eb7d90ed4fb81","f1","FormData","append","isSome","access","method","body","$9ca2ca764e361588$export$c823747c8d5b8150","e3","a3","o3","n3","$9ca2ca764e361588$export$6699f5554bf4b9b3","e4","t3","a4","deleteAll","e5","t4","lastIndexOf","slice","$9ca2ca764e361588$export$410d94f4c3e23371","e6","t5","r2","e7","t6","getPathExtension","isNone","length","$9ca2ca764e361588$var$m","a5","o4","t7","Blob","url","responseType","data","$9ca2ca764e361588$export$5cda6aa5df577036","e8","t8","r3","a6","$9ca2ca764e361588$export$aacc8c5ded2c12c1","e9","t9","r4","a7"],"version":3,"file":"resourceUtils.f418482a.js.map"}