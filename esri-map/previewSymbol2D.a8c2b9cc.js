function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("7a1V1",(function(n,a){e(n.exports,"previewSymbol2D",(function(){return z}));var o=t("hJt7u"),l=t("bPmsI"),i=t("elBeQ"),s=t("jCR4P"),r=t("1B2ZX"),u=t("3DOhA"),c=t("1dJvi"),h=t("4VfNz"),f=t("iUbOe");const p="picture-fill",d=u.SymbolSizeDefaults.size,m=u.SymbolSizeDefaults.maxSize,g=u.SymbolSizeDefaults.maxOutlineSize,y=u.SymbolSizeDefaults.lineWidth,w=225,b=document.createElement("canvas");function v(e,t){const n=b.getContext("2d"),a=[];return t&&(t.weight&&a.push(t.weight),t.size&&a.push(t.size+"px"),t.family&&a.push(t.family)),n.font=a.join(" "),n.measureText(e).width}function x(e){const t=e?.size;return{width:null!=t&&"object"==typeof t&&"width"in t?(0,s.pt2px)(t.width):null,height:null!=t&&"object"==typeof t&&"height"in t?(0,s.pt2px)(t.height):null}}function k(e,t){return e>t?"dark":"light"}function L(e,t){const n="number"==typeof t?.size?t?.size:null,a=null!=n?(0,s.pt2px)(n):null,l=null!=t?.maxSize?(0,s.pt2px)(t.maxSize):null,i=null!=t?.rotation?t.rotation:"angle"in e?e.angle:null,c=(0,r.getFill)(e);let h=(0,r.getStroke)(e);"dark"!==function(e,t=225){const n=(0,r.getFill)(e),a=(0,r.getStroke)(e),l=!n||"type"in n?null:new(0,o.default)(n),i=a?.color?new(0,o.default)(a?.color):null,s=l?k((0,f.getColorLuminance)(l),t):null,u=i?k((0,f.getColorLuminance)(i),t):null;return u?s?s===u?s:t>=w?"light":"dark":u:s}(e,245)||t?.ignoreWhiteSymbols||(h={width:.75,...h,color:"#bdc3c7"});const b={shape:null,fill:c,stroke:h,offset:[0,0]};h?.width&&(h.width=Math.min(h.width,g));const L=h?.width||0;let z=null!=t?.size&&(null==t?.scale||t?.scale),C=0,M=0,S=!1;switch(e.type){case"simple-marker":{const n=e.style,{width:o,height:r}=x(t),u=o===r&&null!=o?o:null!=a?a:Math.min((0,s.pt2px)(e.size),l||m);switch(C=u,M=u,n){case"circle":b.shape={type:"circle",cx:0,cy:0,r:.5*u},z||(C+=L,M+=L);break;case"cross":b.shape={type:"path",path:[{command:"M",values:[0,.5*M]},{command:"L",values:[C,.5*M]},{command:"M",values:[.5*C,0]},{command:"L",values:[.5*C,M]}]};break;case"diamond":b.shape={type:"path",path:[{command:"M",values:[0,.5*M]},{command:"L",values:[.5*C,0]},{command:"L",values:[C,.5*M]},{command:"L",values:[.5*C,M]},{command:"Z",values:[]}]},z||(C+=L,M+=L);break;case"square":b.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[C,0]},{command:"L",values:[C,M]},{command:"L",values:[0,M]},{command:"Z",values:[]}]},z||(C+=L,M+=L),i&&(S=!0);break;case"triangle":b.shape={type:"path",path:[{command:"M",values:[.5*C,0]},{command:"L",values:[C,M]},{command:"L",values:[0,M]},{command:"Z",values:[]}]},z||(C+=L,M+=L),i&&(S=!0);break;case"x":b.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[C,M]},{command:"M",values:[C,0]},{command:"L",values:[0,M]}]},i&&(S=!0);break;case"path":b.shape={type:"path",path:e.path||""},z||(C+=L,M+=L),i&&(S=!0),z=!0}break}case"simple-line":{const{width:e,height:n}=x(t),o=null!=n?n:null!=a?a:L,l=null!=e?e:y;h&&(h.width=o),C=l,M=o;const i=b?.stroke?.cap||"butt",s="round"===i;z=!0,b.stroke&&(b.stroke.cap="butt"===i?"square":i),b.shape={type:"path",path:[{command:"M",values:[s?o/2:0,M/2]},{command:"L",values:[s?C-o/2:C,M/2]}]};break}case p:case"simple-fill":{const e="object"==typeof t?.symbolConfig&&!!t?.symbolConfig?.isSquareFill,{width:n,height:o}=x(t);C=!e&&n!==o||null==n?null!=a?a:d:n,M=!e&&n!==o||null==o?C:o,z||(C+=L,M+=L),z=!0,b.shape=e?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[C,0]},{command:"L",values:[C,M]},{command:"L",values:[0,M]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:u.shapes.fill[0];break}case"picture-marker":{const n=Math.min((0,s.pt2px)(e.width),l||m),o=Math.min((0,s.pt2px)(e.height),l||m),{width:r,height:u}=x(t),c=r===u&&null!=r?r:null!=a?a:Math.max(n,o),h=n/o;C=h<=1?Math.ceil(c*h):c,M=h<=1?c:Math.ceil(c/h),b.shape={type:"image",x:-Math.round(C/2),y:-Math.round(M/2),width:C,height:M,src:e.url||""},i&&(S=!0);break}case"text":{const n=e,o=t?.overrideText||n.text||"Aa",i=n.font,{width:r,height:u}=x(t),c=null!=u?u:null!=a?a:Math.min((0,s.pt2px)(i.size),l||m),h=v(o,{weight:i.weight,size:c,family:i.family}),f=/[\uE600-\uE6FF]/.test(o);C=r??(f?c:h),M=c;let p=.25*function(e){if(0===e.length)return 0;if(e.length>2){const t=(0,s.px2pt)(1),n=parseFloat(e);switch(e.slice(-2)){case"px":return n;case"pt":return n*t;case"in":return 72*n*t;case"pc":return 12*n*t;case"mm":return 2.8346456692913384*n*t;case"cm":return 28.346456692913385*n*t}}return parseFloat(e)}((i?c:0).toString());f&&(p+=5),b.shape={type:"text",text:o,x:n.xoffset||0,y:n.yoffset||p,align:"middle",alignBaseline:n.verticalAlignment,decoration:i&&i.decoration,rotated:n.rotated,kerning:n.kerning},b.font=i&&{size:c,style:i.style,decoration:i.decoration,weight:i.weight,family:i.family};break}}return{shapeDescriptor:b,size:[C,M],renderOptions:{node:t?.node,scale:z,opacity:t?.opacity,rotation:i,useRotationSize:S,effectView:t?.effectView,ariaLabel:t?.ariaLabel}}}async function z(e,t){const{shapeDescriptor:n,size:a,renderOptions:o}=L(e,t);if(!n.shape)throw new(0,l.default)("symbolPreview: renderPreviewHTML2D","symbol not supported.");await async function(e,t){const n=t.fill,a=e.color;if("pattern"===n?.type&&a&&e.type!==p){const e=await(0,r.getPatternUrlWithColor)(n.src,a.toCss(!0));n.src=e,t.fill=n}}(e,n),await async function(e,t,n,a){if(!("font"in e)||!e.font||"text"!==t.shape.type)return;try{await(0,i.loadFont)(e.font)}catch{}const{width:o}=x(a),l=/[\uE600-\uE6FF]/.test(t.shape.text);null!=o||l||(n[0]=v(t.shape.text,{weight:t.font?.weight,size:t.font?.size,family:t.font?.family}))}(e,n,a,t);const f=[[n]];if("object"==typeof t?.symbolConfig&&t?.symbolConfig?.applyColorModulation){const e=.6*a[0];f.unshift([{...n,offset:[-e,0],fill:(0,u.adjustColorBrightness)(n.fill,-.3)}]),f.push([{...n,offset:[e,0],fill:(0,u.adjustColorBrightness)(n.fill,.3)}]),a[0]+=2*e,o.scale=!1}return"text"===e.type&&function(e,t,n,a,o){if(null!=e.haloColor&&null!=e.haloSize){o.masking??=n.map((()=>[]));const l=(0,s.pt2px)(e.haloSize);a[0]+=l,a[1]+=l,n.unshift([{...t,fill:null,stroke:{color:e.haloColor,width:2*l,join:"round",cap:"round"}}]),o.masking.unshift([{shape:{type:"rect",x:0,y:0,width:a[0]+2*h.BACKGROUND_PADDING,height:a[1]+2*h.BACKGROUND_PADDING},fill:[255,255,255],stroke:null},{...t,fill:[0,0,0,0],stroke:null}])}null==e.backgroundColor&&null==e.borderLineColor||(a[0]+=2*h.BACKGROUND_PADDING,a[1]+=2*h.BACKGROUND_PADDING,n.unshift([{shape:{type:"rect",x:0,y:0,width:a[0],height:a[1]},fill:e.backgroundColor,stroke:{color:e.borderLineColor,width:(0,s.pt2px)(e.borderLineSize)}}]),o.masking?.unshift([]))}(e,n,f,a,o),(0,c.renderSymbol)(f,a,o)}})),t.register("elBeQ",(function(n,a){e(n.exports,"DEFAULT_FONT_FAMILY",(function(){return l})),e(n.exports,"loadFont",(function(){return u})),e(n.exports,"getFullyQualifiedFontName",(function(){return h})),e(n.exports,"getFontFamily",(function(){return c}));var o=t("9XPDd");const l="arial-unicode-ms",i=new Map,s=new Set;class r{constructor(e,t){this.fontFace=e,this.promise=t}}async function u(e){const t=h(e),n=i.get(t);if(n)return n.promise;const a=new FontFace(e.family,`url('${o.default.fontsUrl}/woff2/${t}.woff2') format('woff2')`,{style:e.style,weight:e.weight}),l=document.fonts;if(l.has(a)&&"loading"===a.status)return a.loaded;const u=a.load().then((()=>(l.add(a),a)));return i.set(t,new r(a,u)),s.add(a),u}function c(e){if(!e)return l;const t=e.toLowerCase().split(" ").join("-");switch(t){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return t}}function h(e){const t=function(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}(e)+function(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}(e);return c(e.family)+(t.length>0?t:"-regular")}})),t.register("iUbOe",(function(n,a){e(n.exports,"getColorLuminance",(function(){return i}));var o=t("hJt7u");t("htYYZ"),t("64ROT");function l(e){let{r:t,g:n,b:a,a:l}=e;return l<1&&(t=Math.round(l*t+255*(1-l)),n=Math.round(l*n+255*(1-l)),a=Math.round(l*a+255*(1-l))),new(0,o.default)({r:t,g:n,b:a})}function i(e,t){const{r:n,g:a,b:o}=t?.ignoreAlpha?e:l(e);return.2126*n+.7152*a+.0722*o}}));
//# sourceMappingURL=previewSymbol2D.a8c2b9cc.js.map
