{"mappings":"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","sources":["node_modules/@arcgis/core/symbols/support/previewSymbol2D.js","node_modules/@arcgis/core/views/support/colorUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import t from\"../../core/Error.js\";import{pt2px as a,px2pt as n}from\"../../core/screenUtils.js\";import{getFill as l,getStroke as s,getPatternUrlWithColor as o}from\"./gfxUtils.js\";import{SymbolSizeDefaults as i,shapes as c,adjustColorBrightness as r}from\"./previewUtils.js\";import{renderSymbol as m}from\"./renderUtils.js\";import{getColorLuminance as u}from\"../../views/support/colorUtils.js\";const h=\"picture-fill\",p=\"picture-marker\",d=\"simple-fill\",f=\"simple-line\",y=\"simple-marker\",v=\"text\",w=\"Aa\",g=i.size,b=i.maxSize,M=i.maxOutlineSize,k=i.lineWidth,x=225,z=document.createElement(\"canvas\");function L(e,t){const a=z.getContext(\"2d\"),n=[];return t&&(t.weight&&n.push(t.weight),t.size&&n.push(t.size+\"px\"),t.family&&n.push(t.family)),a.font=n.join(\" \"),a.measureText(e).width}const j=7.2/2.54,C=72/2.54;function S(e){if(0===e.length)return 0;if(e.length>2){const t=n(1),a=parseFloat(e);switch(e.slice(-2)){case\"px\":return a;case\"pt\":return a*t;case\"in\":return 72*a*t;case\"pc\":return 12*a*t;case\"mm\":return a*j*t;case\"cm\":return a*C*t}}return parseFloat(e)}function F(e){const t=e?.size;return{width:null!=t&&\"object\"==typeof t&&\"width\"in t?a(t.width):null,height:null!=t&&\"object\"==typeof t&&\"height\"in t?a(t.height):null}}async function U(e,t){const a=t.fill,n=e.color;if(\"pattern\"===a?.type&&n&&e.type!==h){const e=await o(a.src,n.toCss(!0));a.src=e,t.fill=a}}function E(e,t){return e>t?\"dark\":\"light\"}function Z(e,t){const n=\"number\"==typeof t?.size?t?.size:null,o=null!=n?a(n):null,i=null!=t?.maxSize?a(t.maxSize):null,r=null!=t?.rotation?t.rotation:\"angle\"in e?e.angle:null,m=l(e);let u=s(e);\"dark\"!==D(e,245)||t?.ignoreWhiteSymbols||(u={width:.75,...u,color:\"#bdc3c7\"});const x={shape:null,fill:m,stroke:u,offset:[0,0]};u?.width&&(u.width=Math.min(u.width,M));const z=u?.width||0;let j=null!=t?.size&&(null==t?.scale||t?.scale),C=0,U=0,E=!1;switch(e.type){case y:{const t=e.style,n=Math.min(null!=o?o:a(e.size),i||b);switch(C=n,U=n,t){case\"circle\":x.shape={type:\"circle\",cx:0,cy:0,r:.5*n},j||(C+=z,U+=z);break;case\"cross\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*U]},{command:\"L\",values:[C,.5*U]},{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[.5*C,U]}]};break;case\"diamond\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*U]},{command:\"L\",values:[.5*C,0]},{command:\"L\",values:[C,.5*U]},{command:\"L\",values:[.5*C,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z);break;case\"square\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z),r&&(E=!0);break;case\"triangle\":x.shape={type:\"path\",path:[{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"Z\",values:[]}]},j||(C+=z,U+=z),r&&(E=!0);break;case\"x\":x.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,U]},{command:\"M\",values:[C,0]},{command:\"L\",values:[0,U]}]},r&&(E=!0);break;case\"path\":x.shape={type:\"path\",path:e.path||\"\"},j||(C+=z,U+=z),r&&(E=!0),j=!0}break}case f:{const{width:e,height:a}=F(t),n=null!=a?a:Math.min(null!=o?o:z,i||M),l=null!=e?e:k;u.width=n,C=l,U=n;const s=x?.stroke?.cap||\"butt\",c=\"round\"===s;j=!0,x.stroke.cap=\"butt\"===s?\"square\":s,x.shape={type:\"path\",path:[{command:\"M\",values:[c?n/2:0,U/2]},{command:\"L\",values:[c?C-n/2:C,U/2]}]};break}case h:case d:{const e=\"object\"==typeof t?.symbolConfig&&t?.symbolConfig.isSquareFill,{width:a,height:n}=F(t);C=e&&null!=a?a:null!=o?o:g,U=e&&null!=n?n:C,j||(C+=z,U+=z),j=!0,x.shape=e?{type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,U]},{command:\"L\",values:[0,U]},{command:\"L\",values:[0,0]},{command:\"Z\",values:[]}]}:c.fill[0];break}case p:{let t=a(e.width),n=a(e.height);const l=null!=o?o:Math.max(t,n),s=t/n;t=s<=1?Math.ceil(l*s):l,n=s<=1?l:Math.ceil(l/s),C=Math.min(t,i||b),U=Math.min(n,i||b),x.shape={type:\"image\",x:-Math.round(C/2),y:-Math.round(U/2),width:C,height:U,src:e.url||\"\"},r&&(E=!0);break}case v:{const t=e,n=t.text||w,l=t.font,s=Math.min(null!=o?o:a(l.size),i||b),c=L(n,{weight:l.weight,size:s,family:l.family}),r=/[\\uE600-\\uE6FF]/.test(n);C=r?s:c,U=s;let m=.25*S((l?s:0).toString());r&&(m+=5),x.shape={type:\"text\",text:n,x:t.xoffset||0,y:t.yoffset||m,align:\"middle\",alignBaseline:t.verticalAlignment,decoration:l&&l.decoration,rotated:t.rotated,kerning:t.kerning},x.font=l&&{size:s,style:l.style,decoration:l.decoration,weight:l.weight,family:l.family};break}}return{shapeDescriptor:x,size:[C,U],renderOptions:{node:t?.node,scale:j,opacity:t?.opacity,rotation:r,useRotationSize:E,effectView:t?.effectView}}}async function q(e,a){const{shapeDescriptor:n,size:l,renderOptions:s}=Z(e,a);if(!n.shape)throw new t(\"symbolPreview: renderPreviewHTML2D\",\"symbol not supported.\");await U(e,n);const o=[[n]];if(\"object\"==typeof a?.symbolConfig&&a?.symbolConfig.applyColorModulation){const e=.6*l[0];o.unshift([{...n,offset:[-e,0],fill:r(n.fill,-.3)}]),o.push([{...n,offset:[e,0],fill:r(n.fill,.3)}]),l[0]+=2*e,s.scale=!1}return m(o,l,s)}function D(t,a=x){const n=l(t),o=s(t),i=!n||\"type\"in n?null:new e(n),c=o?.color?new e(o?.color):null,r=i?E(u(i),a):null,m=c?E(u(c),a):null;return m?r?r===m?r:a>=x?\"light\":\"dark\":m:r}export{D as getContrastingBackgroundTheme,Z as getRenderSymbolParameters,q as previewSymbol2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(r){await r.whenReady();const n=r.basemapView.baseLayerViews.map((t=>t.layer));if(!n.length){const n=getComputedStyle(r.container).backgroundColor,a=n&&new t(n);return r.get(\"background.color\")||(a&&0!==a.a?a:null)||null}const a=(await r.takeScreenshot({format:\"png\",layers:n.toArray()})).data.data,o=a.length;let e=0,u=0,l=0,c=0,s=0,i=0;for(let t=0;t<o;t+=4){const r=a[t],n=a[t+1],o=a[t+2],h=a[t+3],d=h/255;e+=r*r*d,u+=n*n*d,l+=o*o*d,s+=d,h&&(c+=h,i++)}e=Math.round(Math.sqrt(e/s)),u=Math.round(Math.sqrt(u/s)),l=Math.round(Math.sqrt(l/s));return new t([e,u,l,c/i/255])}async function a(t){if(!t)return null;const a=await n(t);return r(a)?o(a):null}function o(t){return e(t).isBright?\"light\":\"dark\"}function e(r){let{r:n,g:a,b:o,a:e}=r;return e<1&&(n=Math.round(e*n+255*(1-e)),a=Math.round(e*a+255*(1-e)),o=Math.round(e*o+255*(1-e))),new t({r:n,g:a,b:o})}function u(t){const{r,g:n,b:a}=e(t);return.2126*r+.7152*n+.0722*a}export{n as getBackgroundColor,a as getBackgroundColorTheme,u as getColorLuminance,o as getColorTheme};\n"],"names":["$jgs9n","parcelRequire","$bf9d9388218814f4$var$h","$bf9d9388218814f4$var$g","$cBxZc","SymbolSizeDefaults","size","$bf9d9388218814f4$var$b","maxSize","$bf9d9388218814f4$var$M","maxOutlineSize","$bf9d9388218814f4$var$k","lineWidth","$bf9d9388218814f4$var$x","$bf9d9388218814f4$var$z","document","createElement","$bf9d9388218814f4$var$F","e","t","width","$iXlXu","pt2px","height","$bf9d9388218814f4$var$E","$bf9d9388218814f4$export$3f735e26c9bb36b4","n","o","i","r","rotation","angle","m","$dNlty","getFill","u","getStroke","a","default","c","color","$imoJM","getColorLuminance","$bf9d9388218814f4$export$b8475a9a51b3a48f","ignoreWhiteSymbols","x","shape","fill","stroke","offset","Math","min","z","j","scale","C","U","E","type","t1","style","n1","cx","cy","path","command","values","ref","e1","a1","n2","l1","s1","cap","c1","e2","symbolConfig","isSquareFill","a2","n3","shapes","t2","n4","l2","max","s2","ceil","round","y","src","url","t3","n5","text","l3","font","s3","c2","getContext","weight","push","family","join","measureText","$bf9d9388218814f4$var$L","r1","test","m1","length","px2pt","parseFloat","slice","$bf9d9388218814f4$var$S","toString","xoffset","yoffset","align","alignBaseline","verticalAlignment","decoration","rotated","kerning","shapeDescriptor","renderOptions","node","opacity","useRotationSize","effectView","async","$bf9d9388218814f4$export$a933fb88ee60397f","l","s","$kyj08","getPatternUrlWithColor","toCss","$bf9d9388218814f4$var$U","applyColorModulation","unshift","adjustColorBrightness","$bFgGH","renderSymbol","$d5dd78600791de0c$var$e","g","b","$d5dd78600791de0c$export$2300738fa15361d"],"version":3,"file":"previewSymbol2D.000adca9.js.map"}