!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("3mI71",(function(n,r){e(n.exports,"previewCIMSymbol",(function(){return m}));var i=t("iXlXu"),a=t("4FBKO"),o=t("1JCAU"),s=t("1o7Kk"),l=t("cBxZc"),c=t("bFgGH");const u=new(0,o.CIMSymbolRasterizer)(null,!0),h=(0,i.px2pt)(l.SymbolSizeDefaults.size),f=(0,i.px2pt)(l.SymbolSizeDefaults.maxSize),g=(0,i.px2pt)(l.SymbolSizeDefaults.lineWidth);async function m(e,t={}){var n;const{node:r,opacity:l,symbolConfig:m}=t,d=null!=m&&"object"==typeof m&&"isSquareFill"in m&&m.isSquareFill,p=t.cimOptions||t,y=p.geometryType||(0,s.mapCIMSymbolToGeometryType)(null==e||null===(n=e.data)||void 0===n?void 0:n.symbol),w=function(e){const t=null==e?void 0:e.size;return"number"==typeof t?{width:t,height:t}:{width:null!=t&&"object"==typeof t&&"width"in t?t.width:null,height:null!=t&&"object"==typeof t&&"height"in t?t.height:null}}(t),{feature:v,fieldMap:b}=p;if(null==w.width||null==w.height){const t=await a.OverrideHelper.resolveSymbolOverrides(e.data,v,null,b,y);if(!t)return null;(e=e.clone()).data={type:"CIMSymbolReference",symbol:t},e.data.primitiveOverrides=void 0;const n=[];a.CIMSymbolHelper.fetchResources(t,u.resourceManager,n),a.CIMSymbolHelper.fetchFonts(t,u.resourceManager,n),n.length>0&&await Promise.all(n);const r=a.CIMSymbolHelper.getEnvelope(t,null,u.resourceManager),i=null==r?void 0:r.width,o=null==r?void 0:r.height;w.width="esriGeometryPolygon"===y?h:"esriGeometryPolyline"===y?g:null!=i&&isFinite(i)?Math.min(i,f):h,w.height="esriGeometryPolygon"===y?h:null!=o&&isFinite(o)?Math.max(Math.min(o,f),1):h}const x=await u.rasterizeCIMSymbolAsync(e,v,w,d||"esriGeometryPolygon"!==y?o.GeometryStyle.Preview:o.GeometryStyle.Legend,b,y);if(!x)return null;const{width:C,height:M}=x,S=document.createElement("canvas");S.width=C,S.height=M,S.getContext("2d").putImageData(x,0,0);const F=(0,i.pt2px)(w.width),P=(0,i.pt2px)(w.height),T=new Image(F,P);var I,A;T.src=S.toDataURL(),T.ariaLabel=null!==(I=t.ariaLabel)&&void 0!==I?I:null,T.alt=null!==(A=t.ariaLabel)&&void 0!==A?A:"",null!=l&&(T.style.opacity=`${l}`);let R=T;if(null!=t.effectView){const e={shape:{type:"image",x:0,y:0,width:F,height:P,src:T.src},fill:null,stroke:null,offset:[0,0]};R=(0,c.renderSymbol)([[e]],[F,P],{effectView:t.effectView,ariaLabel:t.ariaLabel})}return r&&R&&r.appendChild(R),R}})),t.register("1JCAU",(function(n,r){e(n.exports,"GeometryStyle",(function(){return i})),e(n.exports,"CIMSymbolRasterizer",(function(){return x}));var i,a,o=t("jgs9n"),s=t("9pNSx"),l=t("7qybv"),c=t("10vEZ"),u=t("iXlXu"),h=t("aNOUb"),f=t("bdXyK"),g=t("eGRqB"),m=t("4FBKO"),d=t("8q1zr"),p=t("aGHsx"),y=t("1o7Kk"),w=t("7sx0B"),v=t("ibNqK");(a=i||(i={})).Legend="legend",a.Preview="preview";const b=e=>e&&e.scaleFactor?e.scaleFactor:1;class x{get resourceManager(){return this._cimResourceManager}async rasterizeCIMSymbolAsync(e,t,n,r,i,a,o,s){if(!e)return null;const{data:l}=e;if(!l||"CIMSymbolReference"!==l.type||!l.symbol)return null;const{symbol:c}=l;a||(a=(0,y.mapCIMSymbolToGeometryType)(c));const u=await m.OverrideHelper.resolveSymbolOverrides(l,t,this._spatialReference,i,a,o,s);this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const h=this._imageDataCanvas,f=this._cimResourceManager,d=[];m.CIMSymbolHelper.fetchResources(u,f,d),m.CIMSymbolHelper.fetchFonts(u,f,d),d.length>0&&await Promise.all(d);const{width:p,height:w}=n,v=function(e,t,n,r){const i=1,a=-t/2+i,o=t/2-i,s=n/2-i,l=-n/2+i;switch(e){case"esriGeometryPoint":return{x:0,y:0};case"esriGeometryPolyline":return{paths:[[[a,0],[0,0],[o,0]]]};default:return"legend"===r?{rings:[[[a,s],[o,0],[o,l],[a,l],[a,s]]]}:{rings:[[[a,s],[o,s],[o,l],[a,l],[a,s]]]}}}(a,p,w,r),b=m.CIMSymbolHelper.getEnvelope(u,v,f);if(!b)return null;const x=1.3333333333333333*(window.devicePixelRatio||1);let C=1,M=0,S=0;switch(c.type){case"CIMPointSymbol":case"CIMTextSymbol":{let e=1;b.width>p&&(e=p/b.width);let t=1;b.height>w&&(t=w/b.height),"preview"===r&&(b.width<p&&(e=p/b.width),b.height<w&&(t=w/b.height)),C=Math.min(e,t),M=b.x+b.width/2,S=b.y+b.height/2}break;case"CIMLineSymbol":{let e=1;b.height>w&&(e=w/b.height),C=e,S=b.y+b.height/2;const t=b.x*C+p/2,n=(b.x+b.width)*C+p/2;if(t<0){const{paths:e}=v;e[0][0][0]-=t}if(n>p){const{paths:e}=v;e[0][2][0]-=n-p}}break;case"CIMPolygonSymbol":{M=b.x+b.width/2,S=b.y+b.height/2;const e=b.x*C+p/2,t=(b.x+b.width)*C+p/2,n=b.y*C+w/2,r=(b.y+b.height)*C+w/2,{rings:i}=v;e<0&&(i[0][0][0]-=e,i[0][3][0]-=e,i[0][4][0]-=e),n<0&&(i[0][0][1]+=n,i[0][1][1]+=n,i[0][4][1]+=n),t>p&&(i[0][1][0]-=t-p,i[0][2][0]-=t-p),r>w&&(i[0][2][1]+=r-w,i[0][3][1]+=r-w)}}h.width=p*x,h.height=w*x;h.width+=2,h.height+=2;const F=h.getContext("2d"),P=g.Transformation.createIdentity();return P.translate(-M,-S),P.scale(C*x,-C*x),P.translate(p*x/2+1,w*x/2+1),F.clearRect(0,0,h.width,h.height),new(0,g.CanvasDrawHelper)(F,f,P,!0).drawSymbol(u,v),F.getImageData(0,0,h.width,h.height)}async analyzeCIMSymbol3D(e,t,n,r,i){const a=[],o=t?{geometryType:r,spatialReference:this._spatialReference,fields:t}:null,s=[];m.CIMSymbolHelper.fetchFonts(e.data.symbol,this._cimResourceManager,s),await Promise.all(s);const l=new(0,h.CIMAnalyzer)(this._cimResourceManager,o);let u;await l.analyzeSymbolReference(e.data,this._avoidSDF,a),(0,c.throwIfAborted)(i);for(const e of a)"CIMPictureMarker"!==e.cim.type&&"CIMPictureFill"!==e.cim.type&&"CIMPictureStroke"!==e.cim.type||(u||(u=[]),u.push(this._fetchPictureMarkerResource(e,i))),n&&"text"===e.type&&"string"==typeof e.text&&e.text.includes("[")&&(e.text=(0,y.createLabelOverrideFunction)(n,e.text,e.cim.textCase));return u&&await Promise.all(u),a}rasterizeCIMSymbol3D(e,t,n,r,i,a){const o=[];for(const l of e){r&&"function"==typeof r.scaleFactor&&(r.scaleFactor=r.scaleFactor(t,i,a));const e=this._getRasterizedResource(l,t,n,r,i,a);if(!e)continue;let c=0,u=e.anchorX||0,h=e.anchorY||0,f=!1,g=0,m=0;if("esriGeometryPoint"===n){const e=b(r);var s;if(g=(0,y.evaluateValueOrFunction)(l.offsetX,t,i,a)*e||0,m=(0,y.evaluateValueOrFunction)(l.offsetY,t,i,a)*e||0,"marker"===l.type)c=(0,y.evaluateValueOrFunction)(l.rotation,t,i,a)||0,f=null!==(s=l.rotateClockwise)&&void 0!==s&&s;else if("text"===l.type){if(c=(0,y.evaluateValueOrFunction)(l.angle,t,i,a)||0,void 0!==l.horizontalAlignment)switch(l.horizontalAlignment){case"left":u=-.5;break;case"right":u=.5;break;default:u=0}if(void 0!==l.verticalAlignment)switch(l.verticalAlignment){case"top":h=.5;break;case"bottom":h=-.5;break;case"baseline":h=-.25;break;default:h=0}}}null!=e&&o.push({angle:c,rotateClockWise:f,anchorX:u,anchorY:h,offsetX:g,offsetY:m,rasterizedResource:e})}return this.getSymbolImage(o)}getSymbolImage(e){const t=document.createElement("canvas"),n=(0,l.unwrapOrThrow)(t.getContext("2d"));let r=0,i=0,a=0,o=0;const s=[];for(let t=0;t<e.length;t++){const l=e[t],c=l.rasterizedResource;if(!c)continue;const h=c.size,f=l.offsetX,g=l.offsetY,m=l.anchorX,d=l.anchorY,p=l.rotateClockWise||!1;let y=l.angle,w=(0,u.pt2px)(f)-h[0]*(.5+m),v=(0,u.pt2px)(g)-h[1]*(.5+d),b=w+h[0],x=v+h[1];if(y){p&&(y=-y);const e=Math.sin(y*Math.PI/180),t=Math.cos(y*Math.PI/180),n=w*t-v*e,r=w*e+v*t,i=w*t-x*e,a=w*e+x*t,o=b*t-x*e,s=b*e+x*t,l=b*t-v*e,c=b*e+v*t;w=Math.min(n,i,o,l),v=Math.min(r,a,s,c),b=Math.max(n,i,o,l),x=Math.max(r,a,s,c)}r=w<r?w:r,i=v<i?v:i,a=b>a?b:a,o=x>o?x:o;const C=n.createImageData(c.size[0],c.size[1]);C.data.set(new Uint8ClampedArray(c.image.buffer));const M={offsetX:f,offsetY:g,rotateClockwise:p,angle:y,rasterizedImage:C,anchorX:m,anchorY:d};s.push(M)}t.width=a-r,t.height=o-i;const c=-r,h=o;for(let e=0;e<s.length;e++){const t=s[e],r=this._imageDataToCanvas(t.rasterizedImage),i=t.rasterizedImage.width,a=t.rasterizedImage.height,o=c-i*(.5+t.anchorX),l=h-a*(.5-t.anchorY);if(t.angle){const e=(360-t.angle)*Math.PI/180;n.save(),n.translate((0,u.pt2px)(t.offsetX),-(0,u.pt2px)(t.offsetY)),n.translate(c,h),n.rotate(e),n.translate(-c,-h),n.drawImage(r,o,l),n.restore()}else n.drawImage(r,o+(0,u.pt2px)(t.offsetX),l-(0,u.pt2px)(t.offsetY))}const f=new(0,v.Symbol3DAnchorPosition2D)({x:c/t.width-.5,y:h/t.height-.5});return{imageData:0!==t.width&&0!==t.height?n.getImageData(0,0,t.width,t.height):n.createImageData(1,1),anchorPosition:f}}async _fetchPictureMarkerResource(e,t){const n=e.materialHash;if(!this._pictureMarkerCache.get(n)){const r=(await(0,s.default)(e.cim.url,{responseType:"image",signal:t&&t.signal})).data;this._pictureMarkerCache.set(n,r)}}_imageDataToCanvas(e){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const t=this._imageDataCanvas,n=(0,l.unwrapOrThrow)(t.getContext("2d"));return t.width=e.width,t.height=e.height,n.putImageData(e,0,0),t}_imageTo32Array(e,t,n,r){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const i=this._imageDataCanvas,a=(0,l.unwrapOrThrow)(i.getContext("2d"));if(i.width=t,i.height=n,a.drawImage(e,0,0,t,n),r){a.save();const i=new(0,o.default)(r);a.fillStyle=i.toHex(),a.globalCompositeOperation="multiply",a.fillRect(0,0,t,n),a.globalCompositeOperation="destination-atop",a.drawImage(e,0,0,t,n),a.restore()}return new Uint32Array(a.getImageData(0,0,t,n).data.buffer)}_getRasterizedResource(e,t,n,r,i,a){let o,s,c;if("text"===e.type)return this._rasterizeTextResource(e,t,r,i,a);({analyzedCIM:o,hash:s}=function(e,t,n,r){let i,a;"function"==typeof e.materialHash?(i=(0,e.materialHash)(t,n,r),a=(0,h.analyzeCIMResource)(e.cim,e.materialOverrides)):(i=e.materialHash,a=e.cim);return{analyzedCIM:a,hash:i}}(e,t,i,a));const u=b(r);if("CIMPictureMarker"===e.cim.type){const n=(0,y.evaluateValueOrFunction)(e.size,t,i,a)*u,{image:r,width:o,height:s}=(0,l.unwrapOrThrow)(this._getPictureResource(e,n,(0,y.evaluateValueOrFunction)(e.color,t,i,a)));return c={image:r,size:[o,s],sdf:!1,simplePattern:!1,anchorX:e.anchorPoint?e.anchorPoint.x:0,anchorY:e.anchorPoint?e.anchorPoint.y:0},c}(0,w.scaleCIMMarker)(o,u,{preserveOutlineWidth:!1});const f=o;s+=n,r&&(s+=JSON.stringify(r));const g=this._resourceCache;return g.has(s)?g.get(s):(c=this._rasterizer.rasterizeJSONResource({cim:f,type:e.type,url:e.url,mosaicHash:s,size:null,path:null},window.devicePixelRatio||1,this._avoidSDF),g.set(s,c),c)}_rasterizeTextResource(e,t,n,r,i){var a,o,s;const l=b(n),c=(0,y.evaluateValueOrFunction)(e.text,t,r,i);if(!c||0===c.length)return null;const u=e.cim,h=(0,y.evaluateValueOrFunction)((null==u?void 0:u.fontFamilyName)||e.fontName,t,r,i),f=(0,y.evaluateValueOrFunction)((null==u||null===(a=u.font)||void 0===a?void 0:a.style)||e.style,t,r,i),g=(0,y.evaluateValueOrFunction)((null==u||null===(o=u.font)||void 0===o?void 0:o.weight)||e.weight,t,r,i),m=(0,y.evaluateValueOrFunction)((null==u||null===(s=u.font)||void 0===s?void 0:s.decoration)||e.decoration,t,r,i),d=(0,y.evaluateValueOrFunction)(e.size,t,r,i)*l,p=(0,y.evaluateValueOrFunction)(e.horizontalAlignment,t,r,i),w=(0,y.evaluateValueOrFunction)(e.verticalAlignment,t,r,i),v=(0,y.colorToArray)((0,y.evaluateValueOrFunction)(e.color,t,r,i)),x=(0,y.colorToArray)((0,y.evaluateValueOrFunction)(e.outlineColor,t,r,i)),C=(0,y.evaluateValueOrFunction)(e.outlineSize,t,r,i),M=null!=e.backgroundColor?(0,y.colorToArray)(e.backgroundColor):null,S=null!=e.borderLineColor?(0,y.colorToArray)(e.borderLineColor):null,F=null!=e.borderLineWidth?e.borderLineWidth:null,P={color:v,size:d,horizontalAlignment:p,verticalAlignment:w,font:{family:h,style:f,weight:g,decoration:m},halo:{size:C||0,color:x,style:f},backgroundColor:M,borderLine:null!=S&&null!=F?{color:S,size:F}:null,pixelRatio:1,premultiplyColors:!this._avoidSDF};return this._textRasterizer.rasterizeText(c,P)}_getPictureResource(e,t,n){const r=this._pictureMarkerCache.get(e.materialHash);if(!r)return null;const i=r.height/r.width,a=t?i>1?(0,u.pt2px)(t):(0,u.pt2px)(t)/i:r.width,o=t?i>1?(0,u.pt2px)(t)*i:(0,u.pt2px)(t):r.height;return{image:this._imageTo32Array(r,a,o,n),width:a,height:o}}constructor(e,t){this._spatialReference=e,this._avoidSDF=t,this._resourceCache=new Map,this._imageDataCanvas=null,this._pictureMarkerCache=new Map,this._textRasterizer=new(0,p.default),this._cimResourceManager=new(0,f.default),this._rasterizer=new(0,d.default)(this._cimResourceManager)}}})),t.register("bdXyK",(function(n,r){e(n.exports,"default",(function(){return h}));var i=t("9pNSx"),a=t("kyj08"),o=t("1x7m6"),s=t("10vEZ"),l=t("3sh59"),c=t("e4W9x"),u=t("d9jmF");class h{destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(e){var t;return null!==(t=this._resourceMap.get(e))&&void 0!==t?t:null}async fetchResource(e,t){const n=this._resourceMap.get(e);if(n)return{width:n.width,height:n.height};let r=this._inFlightResourceMap.get(e);return r?r.then((e=>({width:e.width,height:e.height}))):(r=async function(e,t){const{arrayBuffer:n,mediaType:r}=await async function(e,t){let n;const r=";base64,";if(e.includes(r)){const t=e.indexOf(r),i=e.indexOf(r)+r.length,a=e.substring(i);n={arrayBuffer:(0,l.base64ToArrayBuffer)(a),mediaType:e.substring(0,t).replace("data:","")}}else try{const r=await(0,i.default)(e,{responseType:"array-buffer",...t});n={arrayBuffer:r.data,mediaType:r.getHeader("Content-Type")}}catch(t){if(!(0,s.isAbortError)(t))throw new(0,a.default)("mapview-invalid-resource",`Could not fetch requested resource at ${e}`)}return n}(e,t),o="image/png"===r;return"image/gif"===r&&(0,u.isAnimatedGIF)(n)?(0,u.parseGif)(n):o&&(0,c.isAnimatedPNG)(n)?(0,c.parseApng)(n,t):async function(e,t){const n=window.URL.createObjectURL(e);try{const{data:e}=await(0,i.default)(n,{...t,responseType:"image"});return e}catch(e){if(!(0,s.isAbortError)(e))throw new(0,a.default)("mapview-invalid-resource",`Could not fetch requested resource at ${n}`);throw e}finally{window.URL.revokeObjectURL(n)}}(new Blob([n],{type:r}),t)}(e,t),this._inFlightResourceMap.set(e,r),r.then((t=>(this._inFlightResourceMap.delete(e),this._resourceMap.set(e,t),{width:t.width,height:t.height})),(()=>({width:0,height:0}))))}deleteResource(e){this._inFlightResourceMap.delete(e),this._resourceMap.delete(e)}loadFont(e){return(0,o.loadFont)(e)}constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}}})),t.register("1x7m6",(function(n,r){e(n.exports,"DEFAULT_FONT_FAMILY",(function(){return a})),e(n.exports,"loadFont",(function(){return c})),e(n.exports,"getFullyQualifiedFontName",(function(){return h})),e(n.exports,"getFontFamily",(function(){return u}));var i=t("cu9iz");const a="arial-unicode-ms",o=new Map,s=new Set;class l{constructor(e,t){this.fontFace=e,this.promise=t}}async function c(e){const t=h(e),n=o.get(t);if(n)return n.promise;const r=new FontFace(e.family,`url('${i.default.fontsUrl}/woff2/${t}.woff2') format('woff2')`,{style:e.style,weight:e.weight}),a=document.fonts;if(a.has(r)&&"loading"===r.status)return r.loaded;const c=r.load().then((()=>(a.add(r),r)));return o.set(t,new l(r,c)),s.add(r),c}function u(e){if(!e)return a;const t=e.toLowerCase().split(" ").join("-");switch(t){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return t}}function h(e){const t=function(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}(e)+function(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}(e);return u(e.family)+(t.length>0?t:"-regular")}})),t.register("e4W9x",(function(n,r){e(n.exports,"parseApng",(function(){return s})),e(n.exports,"isAnimatedPNG",(function(){return c}));var i=t("cPPSl"),a=t("10vEZ"),o=t("60cAN");async function s(e,t){const n=(0,i.p)(e);if(n instanceof Error)throw n;await n.createImages(),(0,a.throwIfAborted)(t);const{frames:r,width:s,height:l}=n,c=document.createElement("canvas");c.width=s,c.height=l;const u=c.getContext("2d",{willReadFrequently:!0}),h=[],f=[];for(const e of r){f.push((0,o.Milliseconds)(e.delay||100));const t=e.imageElement;0===e.blendOp?u.globalCompositeOperation="copy":u.globalCompositeOperation="source-over";const n=2===e.disposeOp?u.getImageData(e.left,e.top,e.width,e.height):void 0;u.drawImage(t,e.left,e.top);const r=u.getImageData(0,0,s,l);h.push(r),0===e.disposeOp||(1===e.disposeOp?u.clearRect(e.left,e.top,e.width,e.height):2===e.disposeOp&&u.putImageData(n,e.left,e.top))}return{frameDurations:f,getFrame:e=>h[e],width:s,height:l}}const l=[137,80,78,71,13,10,26,10];function c(e){if(!function(e){const t=new Uint8Array(e);return!l.some(((e,n)=>e!==t[n]))}(e))return!1;const t=new DataView(e),n=new Uint8Array(e);let r,i=8;do{const e=t.getUint32(i);if(r=String.fromCharCode.apply(String,Array.prototype.slice.call(n.subarray(i+4,i+8))),"acTL"===r)return!0;i+=12+e}while("IEND"!==r&&i<n.length);return!1}})),t.register("d9jmF",(function(n,r){e(n.exports,"parseGif",(function(){return s})),e(n.exports,"isAnimatedGIF",(function(){return c}));var i=t("60cAN"),a=t("hbVMw"),o=t("f0YEL");async function s(e,t){const n=(0,o.p)(e),r=(0,o.d)(n,!0),{width:s,height:l}=n.lsd,c=document.createElement("canvas");c.width=s,c.height=l;const u=c.getContext("2d",{willReadFrequently:!0}),h=[],f=[];for(const e of r){f.push((0,i.Milliseconds)(e.delay||100));const t=new ImageData(e.patch,e.dims.width,e.dims.height),n=(0,a.imageTypeToCanvas)(t),r=3===e.disposalType?u.getImageData(e.dims.left,e.dims.top,e.dims.width,e.dims.height):void 0;u.drawImage(n,e.dims.left,e.dims.top);const o=u.getImageData(0,0,s,l);h.push(o),1===e.disposalType||(2===e.disposalType?u.clearRect(e.dims.left,e.dims.top,e.dims.width,e.dims.height):3===e.disposalType&&u.putImageData(r,e.dims.left,e.dims.top))}return{frameDurations:f,getFrame:e=>h[e],width:s,height:l}}const l=[71,73,70];function c(e){if(!function(e){const t=new Uint8Array(e);return!l.some(((e,n)=>e!==t[n]))}(e))return!1;const t=new DataView(e),n=t.getUint8(10);let r=13+(128&n?3*2**(1+(7&n)):0),i=0,a=!1;for(;!a;){switch(t.getUint8(r++)){case 33:if(!o())return!1;break;case 44:s();break;case 59:a=!0;break;default:return!1}if(i>1)return!0}function o(){switch(t.getUint8(r++)){case 249:r++,r+=4,c();break;case 1:i++,r++,r+=12,c();break;case 254:c();break;case 255:r++,r+=8,r+=3,c();break;default:return!1}return!0}function s(){i++,r+=8;const e=t.getUint8(r++);r+=128&e?3*2**(1+(7&e)):0,r++,c()}function c(){let e;for(;e=t.getUint8(r++);)r+=e}return!1}})),t.register("hbVMw",(function(n,r){e(n.exports,"imageToDataURI",(function(){return o})),e(n.exports,"imageTypeToCanvas",(function(){return l})),e(n.exports,"imageToArrayBuffer",(function(){return s})),e(n.exports,"encodeBase64DataUri",(function(){return c})),e(n.exports,"isArrayBufferPNG",(function(){return u})),t("2VlWd");var i=t("kyj08"),a=t("kYueh");function o(e){const t=l(e);return null!=t?t.toDataURL():""}async function s(e){const t=l(e);if(null==t)throw new(0,i.default)("imageToArrayBuffer","Unsupported image type");const n=await async function(e){if(!(e instanceof HTMLImageElement))return"image/png";const t=e.src;if((0,a.isDataProtocol)(t)){const e=(0,a.dataComponents)(t);return"image/jpeg"===(null==e?void 0:e.mediaType)?e.mediaType:"image/png"}return/\.png$/i.test(t)?"image/png":/\.(jpg|jpeg)$/i.test(t)?"image/jpeg":"image/png"}(e),r=await new Promise((e=>t.toBlob(e,n)));if(!r)throw new(0,i.default)("imageToArrayBuffer","Failed to encode image");return{data:await r.arrayBuffer(),type:n}}function l(e){if(e instanceof HTMLCanvasElement)return e;if(e instanceof HTMLVideoElement)return null;const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");return e instanceof HTMLImageElement?n.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&n.putImageData(e,0,0),t}function c(e){const t=[],n=new Uint8Array(e);for(let e=0;e<n.length;e++)t.push(String.fromCharCode(n[e]));return"data:application/octet-stream;base64,"+btoa(t.join(""))}function u(e){if(e.byteLength<8)return!1;const t=new Uint8Array(e);return 137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7]}})),t.register("ibKgR",(function(n,r){e(n.exports,"toQuantizationTransform",(function(){return l})),e(n.exports,"quantizePoint",(function(){return y})),e(n.exports,"quantizeGeometry",(function(){return b})),e(n.exports,"unquantizeMultipoint",(function(){return x})),e(n.exports,"unquantizePoint",(function(){return C})),e(n.exports,"unquantizePolygon",(function(){return M})),e(n.exports,"unquantizePolyline",(function(){return S}));var i=t("79LpT");const a=(e,t,n)=>[t,n],o=(e,t,n)=>[t,n,e[2]],s=(e,t,n)=>[t,n,e[2],e[3]];function l(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance]:[1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax]:[0,0]}:null}function c({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function u({scale:e,translate:t},n){return Math.round((t[1]-n)/e[1])}function h(e,t,n){const r=[];let i,a,o,s;for(let l=0;l<n.length;l++){const h=n[l];l>0?(o=c(e,h[0]),s=u(e,h[1]),o===i&&s===a||(r.push(t(h,o-i,s-a)),i=o,a=s)):(i=c(e,h[0]),a=u(e,h[1]),r.push(t(h,i,a)))}return r.length>0?r:null}function f({scale:e,translate:t},n){return n*e[0]+t[0]}function g({scale:e,translate:t},n){return t[1]-n*e[1]}function m(e,t,n){const r=new Array(n.length);if(!n.length)return r;const[i,a]=e.scale;let o=f(e,n[0][0]),s=g(e,n[0][1]);r[0]=t(n[0],o,s);for(let e=1;e<n.length;e++){const l=n[e];o+=l[0]*i,s-=l[1]*a,r[e]=t(l,o,s)}return r}function d(e,t,n){const r=new Array(n.length);for(let i=0;i<n.length;i++)r[i]=m(e,t,n[i]);return r}function p(e,t,n,r,i){var l;return t.points=null!==(l=function(e,t,n,r){return h(e,n?r?s:o:r?o:a,t)}(e,n.points,r,i))&&void 0!==l?l:[],t}function y(e,t,n,r,i){return t.x=c(e,n.x),t.y=u(e,n.y),t!==n&&(r&&(t.z=n.z),i&&(t.m=n.m)),t}function w(e,t,n,r,i){const l=function(e,t,n,r){const i=[],l=n?r?s:o:r?o:a;for(let n=0;n<t.length;n++){const r=h(e,l,t[n]);r&&r.length>=3&&i.push(r)}return i.length?i:null}(e,n.rings,r,i);return l?(t.rings=l,t):null}function v(e,t,n,r,i){const l=function(e,t,n,r){const i=[],l=n?r?s:o:r?o:a;for(let n=0;n<t.length;n++){const r=h(e,l,t[n]);r&&r.length>=2&&i.push(r)}return i.length?i:null}(e,n.paths,r,i);return l?(t.paths=l,t):null}function b(e,t){return e&&t?(0,i.isPoint)(t)?y(e,{},t,!1,!1):(0,i.isPolyline)(t)?v(e,{},t,!1,!1):(0,i.isPolygon)(t)?w(e,{},t,!1,!1):(0,i.isMultipoint)(t)?p(e,{},t,!1,!1):(0,i.isExtent)(t)?(o=!1,s=!1,(r={}).xmin=c(n=e,(a=t).xmin),r.ymin=u(n,a.ymin),r.xmax=c(n,a.xmax),r.ymax=u(n,a.ymax),r!==a&&(o&&(r.zmin=a.zmin,r.zmax=a.zmax),s&&(r.mmin=a.mmin,r.mmax=a.mmax)),r):null:null;var n,r,a,o,s}function x(e,t,n,r,i){return null!=n&&(t.points=function(e,t,n,r){return m(e,n?r?s:o:r?o:a,t)}(e,n.points,r,i)),t}function C(e,t,n,r,i){return null==n||(t.x=f(e,n.x),t.y=g(e,n.y),t!==n&&(r&&(t.z=n.z),i&&(t.m=n.m))),t}function M(e,t,n,r,i){return null!=n&&(t.rings=function(e,t,n,r){return d(e,n?r?s:o:r?o:a,t)}(e,n.rings,r,i)),t}function S(e,t,n,r,i){return null!=n&&(t.paths=function(e,t,n,r){return d(e,n?r?s:o:r?o:a,t)}(e,n.paths,r,i)),t}})),t.register("6S0qa",(function(t,n){var r,i,a;function o(e){switch(e){case"left":return r.Left;case"right":return r.Right;case"center":return r.Center}}function s(e){switch(e){case"top":return i.Top;case"middle":return i.Center;case"baseline":return i.Baseline;case"bottom":return i.Bottom}}function l(e){switch(e){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[r.Right,i.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[r.Center,i.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[r.Left,i.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[r.Right,i.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[r.Center,i.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[r.Left,i.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[r.Right,i.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[r.Center,i.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[r.Left,i.Top];default:return console.debug(`Found invalid placement type ${e}`),[r.Center,i.Center]}}function c(e){switch(e){case r.Right:return-1;case r.Center:return 0;case r.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${e}`),0}}function u(e){switch(e){case i.Top:return 1;case i.Center:return 0;case i.Bottom:case i.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function h(e){switch(e){case"left":return r.Left;case"right":return r.Right;case"center":return r.Center}}function f(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}e(t.exports,"HAlign",(function(){return r})),e(t.exports,"VAlign",(function(){return i})),e(t.exports,"getXAnchorDirection",(function(){return o})),e(t.exports,"getYAnchorDirection",(function(){return s})),e(t.exports,"getAlignmentFromPlacement",(function(){return l})),e(t.exports,"getXDirection",(function(){return c})),e(t.exports,"getYDirection",(function(){return u})),e(t.exports,"getJustification",(function(){return h})),e(t.exports,"isMapAligned",(function(){return f})),(a=r||(r={}))[a.Left=-1]="Left",a[a.Center=0]="Center",a[a.Right=1]="Right",function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(i||(i={}))})),t.register("8lbQw",(function(t,n){e(t.exports,"u32to4Xu8",(function(){return i})),e(t.exports,"i1616to32",(function(){return a})),e(t.exports,"i8888to32",(function(){return o}));const r=new Float32Array(1);new Uint32Array(r.buffer);function i(e){return[255&e,(65280&e)>>>8,(16711680&e)>>>16,(4278190080&e)>>>24]}function a(e,t){return 65535&e|t<<16}function o(e,t,n,r){return 255&e|(255&t)<<8|(255&n)<<16|r<<24}})),t.register("fl9Q8",(function(t,n){e(t.exports,"default",(function(){return r}));class r{get isEmpty(){return this.width<=0||this.height<=0}union(e){this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.width=Math.max(this.width,e.width),this.height=Math.max(this.height,e.height)}constructor(e=0,t=0,n=0,r=0){this.x=e,this.y=t,this.width=n,this.height=r}}})),t.register("7Dw9j",(function(n,r){e(n.exports,"packFloatRGBA",(function(){return a})),e(n.exports,"unpackFloatRGBA",(function(){return o}));var i=t("iVfa0");function a(e,t,n=0){const r=(0,i.clamp)(e,0,c);for(let e=0;e<4;e++)t[n+e]=Math.floor(256*((a=r*s[e])-Math.floor(a)));var a}function o(e,t=0){let n=0;for(let r=0;r<4;r++)n+=e[t+r]*l[r];return n}const s=[1,256,65536,16777216],l=[1/256,1/65536,1/16777216,1/4294967296],c=o(new Uint8ClampedArray([255,255,255,255]))})),t.register("jyIXG",(function(n,r){e(n.exports,"rasterizeSimpleFill",(function(){return o})),e(n.exports,"rasterizeDash",(function(){return s}));var i=t("7Dw9j"),a=t("iVfa0");function o(e,t,n){const r=(0,a.nextPowerOfTwo)(Math.ceil(n)),i=(e=>"vertical"===e||"horizontal"===e||"cross"===e||"esriSFSCross"===e||"esriSFSVertical"===e||"esriSFSHorizontal"===e)(t)?8*r:16*r,o=2*r;e.width=i,e.height=i;const s=e.getContext("2d");s.strokeStyle="#FFFFFF",s.lineWidth=r,s.beginPath(),"vertical"!==t&&"cross"!==t&&"esriSFSCross"!==t&&"esriSFSVertical"!==t||(s.moveTo(i/2,-o),s.lineTo(i/2,i+o)),"horizontal"!==t&&"cross"!==t&&"esriSFSCross"!==t&&"esriSFSHorizontal"!==t||(s.moveTo(-o,i/2),s.lineTo(i+o,i/2)),"forward-diagonal"!==t&&"diagonal-cross"!==t&&"esriSFSDiagonalCross"!==t&&"esriSFSForwardDiagonal"!==t||(s.moveTo(-o,-o),s.lineTo(i+o,i+o),s.moveTo(i-o,-o),s.lineTo(i+o,o),s.moveTo(-o,i-o),s.lineTo(o,i+o)),"backward-diagonal"!==t&&"diagonal-cross"!==t&&"esriSFSBackwardDiagonal"!==t&&"esriSFSDiagonalCross"!==t||(s.moveTo(i+o,-o),s.lineTo(-o,i+o),s.moveTo(o,-o),s.lineTo(-o,o),s.moveTo(i+o,i-o),s.lineTo(i-o,i+o)),s.stroke();const l=s.getImageData(0,0,e.width,e.height),c=new Uint8Array(l.data);let u;for(let e=0;e<c.length;e+=4)u=c[e+3]/255,c[e]=c[e]*u,c[e+1]=c[e+1]*u,c[e+2]=c[e+2]*u;return[c,e.width,e.height]}function s(e,t){const n="Butt"===t,r="Square"===t,a=!n&&!r;e.length%2==1&&(e=[...e,...e]);const o=15.5;let s=0;for(const t of e)s+=t;const l=Math.round(s*o),c=new Float32Array(31*l),u=7.75;let h=0,f=0,g=.5,m=!0;for(const t of e){for(h=f,f+=t*o;g<=f;){let e=.5;for(;e<31;){const t=(e-.5)*l+g-.5,i=a?(e-o)*(e-o):Math.abs(e-o);c[t]=m?n?Math.max(Math.max(h+u-g,i),Math.max(g-f+u,i)):i:a?Math.min((g-h)*(g-h)+i,(g-f)*(g-f)+i):r?Math.min(Math.max(g-h,i),Math.max(f-g,i)):Math.min(Math.max(g-h+u,i),Math.max(f+u-g,i)),e++}g++}m=!m}const d=c.length,p=new Uint8Array(4*d);for(let e=0;e<d;++e){const t=(a?Math.sqrt(c[e]):c[e])/o;(0,i.packFloatRGBA)(t,p,4*e)}return[p,l,31]}}))}();
//# sourceMappingURL=previewCIMSymbol.715b5aa5.js.map
