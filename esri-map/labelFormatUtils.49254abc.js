!function(){var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;e.register("gZc4S",(function(r,t){var n,a,l,u;n=r.exports,a="createLabelFunction",l=function(){return v},Object.defineProperty(n,a,{get:l,set:u,enumerable:!0,configurable:!0});var i=e("kyj08"),o=e("jHOLN"),s=e("8lxrq"),c=e("1RkqB"),f=e("7vTUY"),d=e("7OJpl"),p=e("3nnTb");const g=o.default.getLogger("esri.layers.support.labelFormatUtils"),y={type:"simple",evaluate:()=>null},b={getAttribute:(e,r)=>e.field(r)};async function v(r,t,n){if(!r||!r.symbol||!t)return y;const a=r.where,l=(0,d.getLabelExpression)(r),u=a?await e("7uAQy"):null;let o;if("arcade"===l.type){const e=await(0,p.createLabelExpression)(l.expression,n,t);if(null==e)return y;o={type:"arcade",evaluate(r){try{const t=e.evaluate({$feature:"attributes"in r?e.repurposeFeature(r):r},e.services);if(null!=t)return t.toString()}catch(e){g.error(new(0,i.default)("arcade-expression-error","Encountered an error when evaluating label expression for feature",{error:e,feature:r,expression:l}))}return null},needsHydrationToEvaluate:()=>null==(0,d.getSingleFieldArcadeExpression)(l.expression)}}else o={type:"simple",evaluate:e=>l.expression.replaceAll(/{[^}]*}/g,(r=>{const n=r.slice(1,-1),a=t.get(n);if(!a)return r;let l=null;return"attributes"in e?e&&e.attributes&&(l=e.attributes[a.name]):l=e.field(a.name),null==l?"":function(e,r){if(null==e)return"";const t=r.domain;if(t)if("codedValue"===t.type||"coded-value"===t.type){const r=e;for(const e of t.codedValues)if(e.code===r)return e.name}else if("range"===t.type){const r=+e,n="range"in t?t.range[0]:t.minValue,a="range"in t?t.range[1]:t.maxValue;if(n<=r&&r<=a)return t.name}let n=e;return"date"===r.type||"esriFieldTypeDate"===r.type?n=(0,s.formatDate)(n,(0,s.convertDateFormatToIntlOptions)("short-date")):(0,f.isNumericField)(r)&&(n=(0,c.formatNumber)(+n)),n||""}(l,a)}))};if(a){let e;try{e=u.WhereClause.create(a,t)}catch(e){return g.error(new(0,i.default)("bad-where-clause","Encountered an error when evaluating where clause, ignoring",{where:a,error:e})),y}const r=o.evaluate;o.evaluate=t=>{const n="attributes"in t?void 0:b;try{if(e.testFeature(t,n))return r(t)}catch(e){g.error(new(0,i.default)("bad-where-clause","Encountered an error when evaluating where clause for feature",{where:a,feature:t,error:e}))}return null}}return o}})),e.register("7uAQy",(function(r,t){r.exports=e("4WKyX")(e("aNJCr").getBundleURL("eeyk4")+e("iE7OH").resolve("cgD2M")).then((()=>e("9AqbE")))}))}();
//# sourceMappingURL=labelFormatUtils.49254abc.js.map
