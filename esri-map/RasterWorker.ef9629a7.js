!function(){function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("jxAFe",(function(n,o){e(n.exports,"requirePE",(function(){return p})),e(n.exports,"load",(function(){return R})),e(n.exports,"getDefaultDatumTransformationForDataset",(function(){return S})),e(n.exports,"projectResolution",(function(){return P})),e(n.exports,"getWorldWidth",(function(){return W})),e(n.exports,"projectPoint",(function(){return N})),e(n.exports,"projectExtent",(function(){return C})),e(n.exports,"getWorldWrapCount",(function(){return F})),e(n.exports,"getRasterDatasetAlignmentInfo",(function(){return O})),e(n.exports,"getProjectionOffsetGrid",(function(){return I})),e(n.exports,"snapExtent",(function(){return B})),e(n.exports,"snapPyramid",(function(){return Y})),e(n.exports,"computeProjectedScales",(function(){return U})),t("2ILM8");var i,r,s=t("kyj08"),a=t("7qybv"),l=t("5vzSQ"),f=t("eIIVb"),c=t("7RvA5"),u=t("gINRd"),x=t("d1Fqh"),m=t("fTq43"),h=t("j40xv");function p(e,t,n){return!(0,c.canProjectWithoutEngine)(e,t,n)}function g(e,t,n){const o=p(e,t,n);if(o&&!(0,c.isLoaded)())throw new(0,s.default)("rasterprojectionhelper-project","projection engine is not loaded");return o}(r=i||(i={}))[r.None=0]="None",r[r.North=1]="North",r[r.South=2]="South",r[r.Both=3]="Both";const d=(e,t,n,o=0)=>{if(1===n[0])return[0,0];let i=1,r=-1,s=1,a=-1;for(let t=0;t<e.length;t+=2)isNaN(e[t])||(i=i>e[t]?e[t]:i,r=r>e[t]?r:e[t],s=s>e[t+1]?e[t+1]:s,a=a>e[t+1]?a:e[t+1]);const{cols:l,rows:f}=t,c=(r-i)/l/n[0],u=(a-s)/f/n[1],x=2*o;let m=0,h=!1,p=[0,0];for(let t=0;t<l-3;t++){for(let n=0;n<f-3;n++){const o=t*f*2+2*n,i=(e[o]+e[o+4]+e[o+4*f]+e[o+4*f+4])/4,r=(e[o+1]+e[o+5]+e[o+4*f+1]+e[o+4*f+5])/4,s=Math.abs((i-e[o+2*f+2])/c),a=Math.abs((r-e[o+2*f+3])/u);if(s+a>m&&(m=s+a,p=[s,a]),x&&m>x){h=!0;break}}if(h)break}return p},y={3395:20037508.342789244,3410:17334193.943686873,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53034:20015086.79602057,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54034:20037508.342789244,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244},M=new Map,w=new Map;async function R(){if((0,c.isLoaded)())return null;await(0,c.load)()}function S(e,t,n){return g(e.spatialReference,t)?n?(0,c.getTransformation)(t,e.spatialReference,e):(0,c.getTransformation)(e.spatialReference,t,e):null}function P(e,t,n,o=null){const i=e.spatialReference;if(i.equals(t))return e;g(i,t,o);const r=n.center,s=new(0,u.default)({xmin:r.x-e.x/2,xmax:r.x+e.x/2,ymin:r.y-e.y/2,ymax:r.y+e.y/2,spatialReference:i}),f=(0,c.project)(s,t,o),x=W(t);let m;if((0,a.isNone)(f)||(0,a.isSome)(x)&&f.width>=x){const n=(0,l.getMetersPerUnitForSR)(i)/(0,l.getMetersPerUnitForSR)(t);m={x:e.x*n,y:e.y*n}}else m={x:f.width,y:f.height};return m}function b(e,t=.01){return(0,l.getMetersPerUnitForSR)(e)?t/(0,l.getMetersPerUnitForSR)(e):0}function N(e,t,n=null,o=!0){const i=e.spatialReference;if(i.equals(t))return e;g(i,t,n);const r=(0,c.project)(e,t,n);if(!o||!r)return r;const s=z(i,!0),l=z(t,!0),f=b(i);return f&&(0,a.isSome)(s)&&(0,a.isSome)(l)&&(r.x>0&&Math.abs(e.x-s[0])<f?r.x-=l[1]-l[0]:r.x<0&&Math.abs(e.x-s[1])<f&&(r.x+=l[1]-l[0])),r}function E(e){const{inSR:t,outSR:n,datumTransformation:o,preferPE:i}=e;if(t.equals(n)){const{points:t}=k(e,null);return t}if(t.isWebMercator&&n.isWGS84||t.isWGS84&&n.isWebMercator)return function(e){const{cols:t,rows:n,xres:o,yres:i,usePixelCenter:r,inSR:s,outSR:a}=e;let{xmin:l,ymax:f}=e;r&&(l+=o/2,f-=i/2);const u=[],m=[],h=Math.max(t,n);for(let e=0;e<h;e++){const r=l+o*Math.min(t,e),h=f-i*Math.min(n,e),p=(0,c.project)(new(0,x.default)({x:r,y:h,spatialReference:s}),a);e<=t&&u.push(p.x),e<=n&&m.push(p.y)}const p=[];for(let e=0;e<t;e++)for(let t=0;t<n;t++)p.push([u[e],m[t]]);return p}(e);if(g(t,n,o)&&i){if(t.isGeographic)return G(e);const n=v(t);if((0,a.isSome)(n))return G(e)}return function(e){const{points:t}=k(e,null),n=t.map((t=>new(0,x.default)(t[0],t[1],e.inSR)));return(0,c.project)(n,e.outSR,e.datumTransformation).map((e=>e?[e.x,e.y]:[NaN,NaN]))}(e)}function G(e){const{inSR:t,outSR:n,datumTransformation:o}=e,i=v(t),{points:r,mask:s}=k(e,i);if(!t.isGeographic){const e=t.wkid?f.e.coordsys(t.wkid):f.e.fromString(t.isGeographic?f.f.PE_TYPE_GEOGCS:f.f.PE_TYPE_PROJCS,t.wkt);f.g.projToGeog(e,r.length,r)}if((0,a.isSome)(o)&&o.steps.length&&o.steps.forEach((e=>{const t=e.wkid?f.e.geogtran(e.wkid):f.e.fromString(f.f.PE_TYPE_GEOGTRAN,e.wkt);f.h.geogToGeog(t,r.length,r,null,e.isInverse?f.f.PE_TRANSFORM_2_TO_1:f.f.PE_TRANSFORM_1_TO_2)})),!n.isGeographic){const e=v(n,!0),t=(0,a.isSome)(e)&&e.isEnvelope?[e.bbox[1],e.bbox[3]]:[-90,90];!function(e,t){const[n,o]=t;for(let t=0;t<e.length;t++){const i=e[t][1];(i<n||i>o)&&(e[t]=[NaN,NaN])}}(r,t);const o=n.wkid?f.e.coordsys(n.wkid):f.e.fromString(n.isGeographic?f.f.PE_TYPE_GEOGCS:f.f.PE_TYPE_PROJCS,n.wkt);f.g.geogToProj(o,r.length,r)}let l=r;if(s&&r.length!==s.length){l=[];for(let e=0,t=0;e<s.length;e++)s[e]?l.push(r[t++]):l.push([NaN,NaN])}return l}function v(e,t=!1){let n=e.wkid||e.wkt;if(!n||e.isGeographic)return null;if(n=String(n),M.has(n)){const e=M.get(n);return t?null==e?void 0:e.gcs:null==e?void 0:e.pcs}const o=e.wkid?f.e.coordsys(e.wkid):f.e.fromString(e.isGeographic?f.f.PE_TYPE_GEOGCS:f.f.PE_TYPE_PROJCS,e.wkt),i=T(o,b(e,1e-4)),r=T(o,0,!0);return M.set(n,{pcs:i,gcs:r}),t?r:i}function T(e,t=0,n=!1){const o=f.j.generate(e),i=n?e.horizonGcsGenerate():e.horizonPcsGenerate();if(!(null==i?void 0:i.length))return null;let r=!1,s=i.find((e=>1===e.getInclusive()&&1===e.getKind()));if(!s){if(s=i.find((e=>1===e.getInclusive()&&0===e.getKind())),!s)return null;r=!0}const a=n?0:(2===o.getNorthPoleLocation()?1:0)|(2===o.getSouthPoleLocation()?2:0),l=o.isPannableRectangle(),c=s.getCoord();if(r)return{isEnvelope:r,isPannable:l,vertices:c,coef:null,bbox:[c[0][0]-t,c[0][1]-t,c[1][0]+t,c[1][1]+t],poleLocation:a};let u=0;const x=[];let[m,h]=c[0],[p,g]=c[0];for(let e=0,t=c.length;e<t;e++){u++,u===t&&(u=0);const[n,o]=c[e],[i,r]=c[u];if(r===o)x.push([n,i,o,r,2]);else{const e=(i-n)/(r-o||1e-4),t=n-e*o;o<r?x.push([e,t,o,r,0]):x.push([e,t,r,o,1])}m=m<n?m:n,h=h<o?h:o,p=p>n?p:n,g=g>o?g:o}return{isEnvelope:!1,isPannable:l,vertices:c,coef:x,bbox:[m,h,p,g],poleLocation:a}}function k(e,t){const n=[],{cols:o,rows:i,xres:r,yres:s,usePixelCenter:l}=e;let{xmin:f,ymax:c}=e;if(l&&(f+=r/2,c-=s/2),(0,a.isNone)(t)){for(let e=0;e<o;e++)for(let t=0;t<i;t++)n.push([f+r*e,c-s*t]);return{points:n}}const u=new Uint8Array(o*i);if(t.isEnvelope){const{bbox:[e,a,l,x]}=t;for(let m=0,h=0;m<o;m++){const o=f+r*m,p=t.isPannable||o>=e&&o<=l;for(let e=0;e<i;e++,h++){const t=c-s*e;p&&t>=a&&t<=x&&(n.push([o,t]),u[h]=1)}}return{points:n,mask:u}}const{coef:x}=t,m=[];for(let e=0;e<i;e++){const t=c-s*e,n=[],o=[];for(let e=0;e<x.length;e++){const[i,r,s,a,l]=x[e];if(t===s&&s===a)n.push(i),n.push(r),o.push(2),o.push(2);else if(t>=s&&t<=a){const e=i*t+r;n.push(e),o.push(l)}}let i=n;if(n.length>2){let e=2===o[0]?0:o[0],t=n[0];i=[];for(let r=1;r<o.length;r++)2===o[r]&&r!==o.length-1||(o[r]!==e&&(i.push(0===e?Math.min(t,n[r-1]):Math.max(t,n[r-1])),e=o[r],t=n[r]),r===o.length-1&&i.push(0===o[r]?Math.min(t,n[r]):Math.max(t,n[r])));i.sort(((e,t)=>e-t))}else n[0]>n[1]&&(i=[n[1],n[0]]);m.push(i)}for(let e=0,t=0;e<o;e++){const o=f+r*e;for(let e=0;e<i;e++,t++){const i=c-s*e,r=m[e];if(2===r.length)o>=r[0]&&o<=r[1]&&(n.push([o,i]),u[t]=1);else if(r.length>2){let e=!1;for(let t=0;t<r.length;t+=2)if(o>=r[t]&&o<=r[t+1]){e=!0;break}e&&(n.push([o,i]),u[t]=1)}}}return{points:n,mask:u}}function j(e){const t=W(e[0].spatialReference);if(e.length<2||(0,a.isNone)(t))return e[0];let{xmin:n,xmax:o,ymin:i,ymax:r}=e[0];for(let n=1;n<e.length;n++){const s=e[n];o=s.xmax+t*n,i=Math.min(i,s.ymin),r=Math.max(r,s.ymax)}return new(0,u.default)({xmin:n,xmax:o,ymin:i,ymax:r,spatialReference:e[0].spatialReference})}function C(e,t,n=null,o=!0){const r=e.spatialReference;if(r.equals(t))return e;const s=F(e),l=W(r,!0),f=W(t);if(0===s||(0,a.isNone)(l)||(0,a.isNone)(f)){const s=_(e,t,n,o);if((0,a.isNone)(l)&&(0,a.isSome)(f)&&Math.abs(s.width-f)<b(t)&&(0,c.isLoaded)()){const n=v(r);if((0,a.isSome)(n)&&n.poleLocation===i.None&&e.width<(n.bbox[2]-n.bbox[0])/2)return function(e,t){const n=W(t);if((0,a.isNone)(n))return null;let{xmin:o,ymin:i,xmax:r,ymax:s}=e;const l=e.spatialReference,f=new(0,m.default)({spatialReference:l,rings:[[[o,i],[r,i],[r,s],[o,s],[o,i]]]}),x=(0,c.project)(f,t);if(2!==x.rings.length||!x.rings[0].length||!x.rings[1].length)return null;const{rings:h}=x,p=b(l),g=new(0,u.default)({spatialReference:t});for(let e=0;e<2;e++){o=r=h[e][0][0],i=s=h[e][0][1];for(let t=0;t<h[e].length;t++)o=o>h[e][t][0]?h[e][t][0]:o,r=r<h[e][t][0]?h[e][t][0]:r,i=i>h[e][t][1]?h[e][t][1]:i,s=s<h[e][t][1]?h[e][t][1]:s;if(0===e)g.ymin=i,g.ymax=s,g.xmin=o,g.xmax=r;else if(g.ymin=Math.min(g.ymin,i),g.ymax=Math.max(g.ymax,s),Math.abs(r-n/2)<p)g.xmin=o,g.xmax=g.xmax+n;else{if(!(Math.abs(o+n/2)<p))return null;g.xmax=r+n}}return g}(e,t)||s}return s}const x=e.clone().normalize();if(1===x.length&&e.xmax<l&&e.xmax-l/2>b(r)){const{xmin:t,xmax:n}=e;for(let o=0;o<=s;o++){const i=0===o?t:-l/2,a=o===s?n-l*o:l/2;x[o]=new(0,u.default)({xmin:i,xmax:a,ymin:e.ymin,ymax:e.ymax,spatialReference:r})}}return j(x.map((e=>_(e,t,n,o))).filter((e=>!!e)))}function _(e,t,n=null,o=!0,i=!0){const r=e.spatialReference;if(r.equals(t))return e;g(r,t,n);const s=(0,c.project)(e,t,n);if(i&&t.isWebMercator&&s&&(s.ymax=Math.min(20037508.342787,s.ymax),s.ymin=Math.max(-20037508.342787,s.ymin),s.ymin>=s.ymax))return null;if(!o||!s)return s;const l=z(r,!0),f=z(t,!0);if((0,a.isNone)(l)||(0,a.isNone)(f))return s;const u=b(r,.001),m=b(r,500),h=b(t,.001);if(Math.abs(s.xmin-f[0])<h&&Math.abs(s.xmax-f[1])<h){const o=Math.abs(e.xmin-l[0]),i=Math.abs(l[1]-e.xmax);if(o<u&&i>m){s.xmin=f[0];const o=[];o.push(new(0,x.default)(e.xmax,e.ymin,r)),o.push(new(0,x.default)(e.xmax,(e.ymin+e.ymax)/2,r)),o.push(new(0,x.default)(e.xmax,e.ymax,r));const i=o.map((e=>N(e,t,n))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));s.xmax=Math.max.apply(null,i)}if(i<u&&o>m){s.xmax=f[1];const o=[];o.push(new(0,x.default)(e.xmin,e.ymin,r)),o.push(new(0,x.default)(e.xmin,(e.ymin+e.ymax)/2,r)),o.push(new(0,x.default)(e.xmin,e.ymax,r));const i=o.map((e=>N(e,t,n))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));s.xmin=Math.min.apply(null,i)}}else{const e=b(t,.001);Math.abs(s.xmin-f[0])<e&&(s.xmin=f[0]),Math.abs(s.xmax-f[1])<e&&(s.xmax=f[1])}return s}function W(e,t=!1){const n=t?20037508.342787:20037508.342788905;return e.isWebMercator?2*n:e.wkid&&e.isGeographic?360:2*y[e.wkid]||null}function z(e,t=!1){if(e.isGeographic)return[-180,180];const n=W(e,t);return(0,a.isSome)(n)?[-n/2,n/2]:null}function L(e,t,n,o){let i=(e-t)/n;return i-Math.floor(i)!=0?i=Math.floor(i):o&&(i-=1),i}function F(e,t=!1){const n=W(e.spatialReference);if((0,a.isNone)(n))return 0;const o=t?0:-n/2,i=b(e.spatialReference),r=!t&&Math.abs(e.xmax-n/2)<i?n/2:e.xmax,s=!t&&Math.abs(e.xmin+n/2)<i?-n/2:e.xmin;return L(r,o,n,!0)-L(s,o,n,!1)}function O(e){const t=e.storageInfo.origin.x,n=W(e.spatialReference,!0);if((0,a.isNone)(n))return{originX:t,halfWorldWidth:null,pyramidsInfo:null};const o=n/2,{nativePixelSize:i,storageInfo:r,extent:s}=e,{maximumPyramidLevel:l,blockWidth:f,pyramidScalingFactor:c}=r;let u=i.x;const x=[],m=(0,a.isSome)(e.transform)&&"gcs-shift"===e.transform.type,h=t+(m?0:o),p=m?n-t:o-t;for(let e=0;e<=l;e++){const e=(s.xmax-t)/u/f,n=e-Math.floor(e)==0?e:Math.ceil(e),o=p/u/f,i=o-Math.floor(o)==0?o:Math.ceil(o),r=Math.floor(h/u/f),a=Math.round(h/u)%f,l=(f-Math.round(p/u)%f)%f;x.push({resolutionX:u,blockWidth:f,datsetColumnCount:n,worldColumnCountFromOrigin:i,leftMargin:a,rightPadding:l,originColumnOffset:r}),u*=c}return{originX:t,halfWorldWidth:o,pyramidsInfo:x,hasGCSSShiftTransform:m}}function I(e){const t=e.isAdaptive&&null==e.spacing;let n=e.spacing||[32,32],o=A(e),i={cols:o.size[0]+1,rows:o.size[1]+1};const r=o.outofBoundPointCount>0&&o.outofBoundPointCount<o.offsets.length/2;let s=o.outofBoundPointCount===o.offsets.length/2||t&&r?[0,0]:d(o.offsets,i,n,4);const l=(s[0]+s[1])/2,c=e.projectedExtent.spatialReference,u=e.srcBufferExtent.spatialReference;if(t&&(r||l>4)&&(p(c,u,e.datumTransformation)&&(c.isGeographic||(0,a.isSome)(v(c))),n=[4,4],o=A({...e,spacing:n}),i={cols:o.size[0]+1,rows:o.size[1]+1},s=d(o.offsets,i,n,4)),o.error=s,n[0]>1&&(o.coefficients=q(o.offsets,i,r)),e.includeGCSGrid&&!c.isGeographic&&!c.isWebMercator)if(u.isGeographic)o.gcsGrid={offsets:o.offsets,coefficients:o.coefficients,spacing:n};else{const t=v(c);if((0,a.isSome)(t)&&!t.isEnvelope){const t=function(e){if(!e||e.isGeographic)return e;const t=String(e.wkid||e.wkt);let n;return w.has(t)?n=w.get(t):(n=(e.wkid?f.e.coordsys(e.wkid):f.e.fromString(f.f.PE_TYPE_PROJCS,e.wkt)).getGeogcs().getCode(),w.set(t,n)),new(0,h.default)({wkid:n})}(c),s=C(e.projectedExtent,t),{offsets:a}=A({...e,srcBufferExtent:s,spacing:n}),l=q(a,i,r);o.gcsGrid={offsets:a,coefficients:l,spacing:n}}}return o}function A(e){const{projectedExtent:t,srcBufferExtent:n,pixelSize:o,datumTransformation:i,rasterTransform:r}=e,s=t.spatialReference,l=n.spatialReference,f=g(s,l),{xmin:c,ymin:u,xmax:m,ymax:h}=t,p=W(l),d=(0,a.isSome)(p)&&(e.hasWrapAround||"gcs-shift"===(null==r?void 0:r.type)),y=e.spacing||[32,32],M=y[0]*o.x,w=y[1]*o.y,R=1===y[0],S=Math.ceil((m-c)/M-.1/y[0])+(R?0:1),P=Math.ceil((h-u)/w-.1/y[1])+(R?0:1),N=E({cols:S,rows:P,xmin:c,ymax:h,xres:M,yres:w,inSR:s,outSR:l,datumTransformation:i,preferPE:y[0]<=4,usePixelCenter:R}),G=[];let T,k=0;const j=R?-1:NaN,{xmin:C,xmax:_,ymax:z,width:L,height:F}=n,O=b(l,500),I=(0,a.isSome)(p)&&C>0&&_>p/2;let A=!1;if(f){const e=v(s);A=(0,a.isSome)(e)&&e.poleLocation>0}for(let e=0;e<S;e++){const t=[];for(let n=0;n<P;n++){let o=N[e*P+n];if(d&&o[0]>_&&o[0]>p/2-O?o[0]-=p:d&&0===e&&o[0]<0&&I&&!r&&(o[0]+=p),!o||isNaN(o[0])||isNaN(o[1]))G.push(j),G.push(j),t.push(null),k++;else{if(r){const e=r.inverseTransform(new(0,x.default)({x:o[0],y:o[1],spatialReference:l}));o=[e.x,e.y]}t.push(o),e>0&&d&&T[n]&&o[0]<T[n][0]&&(o[0]+=p,A&&o[0]>_&&o[0]>p&&(o[0]-=p)),G.push((o[0]-C)/L),G.push((z-o[1])/F)}}T=t}return{offsets:G,error:null,coefficients:null,outofBoundPointCount:k,spacing:y,size:R?[S,P]:[S-1,P-1]}}function q(e,t,n){const{cols:o,rows:i}=t,r=new Float32Array((o-1)*(i-1)*12),s=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),a=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let t=0;t<o-1;t++){for(let n=0;n<i-1;n++){let l=t*i*2+2*n;const f=e[l],c=e[l+1],u=e[l+2],x=e[l+3];l+=2*i;const m=e[l],h=e[l+1],p=e[l+2],g=e[l+3];let d=0,y=12*(n*(o-1)+t);for(let e=0;e<3;e++)r[y++]=s[d++]*f+s[d++]*u+s[d++]*p;d=0;for(let e=0;e<3;e++)r[y++]=s[d++]*c+s[d++]*x+s[d++]*g;d=0;for(let e=0;e<3;e++)r[y++]=a[d++]*f+a[d++]*m+a[d++]*p;d=0;for(let e=0;e<3;e++)r[y++]=a[d++]*c+a[d++]*h+a[d++]*g}if(n)for(let e=0;e<r.length;e++)isNaN(r[e])&&(r[e]=-1)}return r}function B(e){const t=e.clone().normalize();return 1===t.length?t[0]:j(t)}function Y(e,t,n){const{storageInfo:o,pixelSize:i}=t;let r,s=!1;const{pyramidResolutions:f}=o;if((0,a.isSome)(f)&&f.length){const o=(e.x+e.y)/2,a=f[f.length-1],c=(a.x+a.y)/2,u=(i.x+i.y)/2;if(o<=u)r=0;else if(o>=c)r=f.length,s=o/c>8;else{let e,t=u;for(let i=1;i<=f.length;i++){if(e=(f[i-1].x+f[i-1].y)/2,o<=e){o===e?r=i:"down"===n?(r=i-1,s=o/t>8):r="up"===n||o-t>e-o||o/t>2?i:i-1;break}t=e}}const m=0===r?i:f[r-1];return s&&Math.min(m.x,m.y)*(0,l.getMetersPerUnitForSR)(t.spatialReference)>19567&&(s=!1),{pyramidLevel:r,pyramidResolution:new(0,x.default)({x:m.x,y:m.y,spatialReference:t.spatialReference}),excessiveReading:s}}const c=Math.log(e.x/i.x)/Math.LN2,u=Math.log(e.y/i.y)/Math.LN2,m=t.storageInfo.maximumPyramidLevel||0;r="down"===n?Math.floor(Math.min(c,u)):"up"===n?Math.ceil(Math.max(c,u)):Math.round((c+u)/2),r<0?r=0:r>m&&(s=r>m+3,r=m);const h=2**r;return{pyramidLevel:r,pyramidResolution:new(0,x.default)({x:h*t.nativePixelSize.x,y:h*t.nativePixelSize.y,spatialReference:t.spatialReference}),excessiveReading:s}}function U(e,t,n=512,o=!0){const{extent:i,spatialReference:r,pixelSize:s}=e,a=P(new(0,x.default)({x:s.x,y:s.y,spatialReference:r}),t,i);if(null==a)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const f=(a.x+a.y)/2,c=(0,l.getMetersPerUnitForSR)(t),u=f*c*96*39.37,m=t.isGeographic?256/n*295828763.7958547:256/n*591657527.591555;let h="vector-magdir"===e.dataType||"vector-uv"===e.dataType;const p=C(i,t);h||o&&(t.isGeographic||t.isWebMercator)&&(h=p.xmin*p.xmax<0);let g,d=u;const y=1.001;if(h){d=m;const e=t.isGeographic?1341104507446289e-21:.29858214164761665,n=e*(96*c*39.37),o=t.isGeographic?4326:3857;g=P(new(0,x.default)({x:e,y:e,spatialReference:{wkid:o}}),r,p),g.x*=d/n,g.y*=d/n}else{g={x:s.x,y:s.y};const t=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let n=0;for(;d<m*(y/2)&&n<t;)n++,d*=2,g.x*=2,g.y*=2;Math.max(d,m)/Math.min(d,m)<=y&&(d=m)}const M=[d],w=[{x:g.x,y:g.y}],R=Math.min(70.5310735,u)/y;for(;d>=R;)d/=2,g.x/=2,g.y/=2,M.push(d),w.push({x:g.x,y:g.y});return{projectedPixelSize:a,scales:M,srcResolutions:w,isCustomTilingScheme:!h}}}))}();
//# sourceMappingURL=RasterWorker.ef9629a7.js.map
