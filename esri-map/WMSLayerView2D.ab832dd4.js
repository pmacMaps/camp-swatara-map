function e(e,t,r,i){Object.defineProperty(e,t,{get:r,set:i,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("3hoz3",(function(r,i){var s;s=r.exports,Object.defineProperty(s,"__esModule",{value:!0,configurable:!0}),e(r.exports,"default",(function(){return S}));var n=t("j6uz9"),a=t("6TszD"),o=t("lHg4e"),l=t("cc23H"),h=t("hTI69");t("aX9sh"),t("5HTPH"),t("gHCNy");var u=t("qA6zg"),c=t("2WnyR"),d=t("jHR2e"),p=t("35vaU"),v=t("b4rqw"),f=t("YRjSC"),x=t("aDxLR"),y=t("i5AEl");const g=a.default.getLogger("esri.views.2d.layers.WMSLayerView2D");let m=class extends((0,y.WMSLayerView)((0,x.RefreshableLayerView)((0,p.LayerView2DMixin)(f.default)))){supportsSpatialReference(e){return this.layer.serviceSupportsSpatialReference(e)}update(e){this.strategy.update(e).catch((e=>{(0,o.isAbortError)(e)||g.error(e)}))}attach(){const{layer:e,container:t}=this,{imageMaxHeight:r,imageMaxWidth:i}=e;this.strategy=new(0,v.default)({container:t,fetchSource:this.fetchImage.bind(this),requestUpdate:this.requestUpdate.bind(this),imageMaxHeight:r,imageMaxWidth:i,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1}),this.handles.add((0,l.watch)((()=>this.exportImageVersion),(()=>this.requestUpdate())),"exportImageVersion")}detach(){this.handles.remove("exportImageVersion"),this.strategy.destroy(),this.strategy=null,this.container.removeAllChildren()}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}createFetchPopupFeaturesQuery(e){const{view:t,container:r}=this,{x:i,y:s}=e,{spatialReference:n}=t;let a=null,o=0,l=0;if(r.children.some((e=>{const{width:t,height:r,resolution:h,x:u,y:d}=e,p=u+h*t,v=d-h*r;return i>=u&&i<=p&&s<=d&&s>=v&&(a=new(0,c.default)({xmin:u,ymin:v,xmax:p,ymax:d,spatialReference:n}),o=t,l=r,!0)})),!a)return null;const h=a.width/o,u=Math.round((i-a.xmin)/h),d=Math.round((a.ymax-s)/h);return{extent:a,width:o,height:l,x:u,y:d}}async doRefresh(){this.requestUpdate()}isUpdating(){return this.strategy.updating||this.updateRequested}fetchImage(e,t,r,i){return this.layer.fetchImage(e,t,r,{timeExtent:this.timeExtent,...i})}constructor(){super(...arguments),this.container=new(0,d.BitmapContainer)}};(0,n._)([(0,h.property)()],m.prototype,"strategy",void 0),(0,n._)([(0,h.property)()],m.prototype,"updating",void 0),m=(0,n._)([(0,u.subclass)("esri.views.2d.layers.WMSLayerView2D")],m);const S=m})),t.register("jHR2e",(function(r,i){e(r.exports,"BitmapContainer",(function(){return o}));var s=t("4ZNdX"),n=t("eyQUy"),a=t("eqJSJ");class o extends a.default{get requiresDedicatedFBO(){return this.children.some((e=>"additive"===e.blendFunction))}prepareRenderPasses(e){const t=e.registerRenderPass({name:"bitmap",brushes:[s.brushes.bitmap],target:()=>this.children,drawPhase:n.WGLDrawPhase.MAP});return[...super.prepareRenderPasses(e),t]}}})),t.register("b4rqw",(function(r,i){e(r.exports,"default",(function(){return T}));var s=t("j6uz9"),n=t("27btt"),a=t("lHg4e"),o=t("hTI69");t("aX9sh"),t("5HTPH"),t("gHCNy");var l=t("qA6zg"),h=t("2WnyR"),u=t("19dbe"),c=t("fau59"),d=t("hCr3P"),p=t("gZfhh"),v=t("e4M5Q"),f=t("9foJ7"),x=t("fdGvv");const y=(0,u.create)(),g=[0,0],m=new(0,x.default)(0,0,0,0),S=2048,_=2048,b=!1,V=!1,R=!1;let w=class extends n.default{destroy(){this.bitmaps=[]}get updating(){return!this.destroyed&&null!==this._imagePromise}updateExports(e){for(const t of this.container.children){if(!t.visible||!t.stage)return;e(t),t.invalidateTexture(),t.requestRender()}}async _export(e,t,r,i,s,n){const a=await this.fetchSource(e,Math.floor(t*s),Math.floor(r*s),{rotation:i,pixelRatio:s,signal:n}),o=new(0,v.Bitmap)(a,"additive");return o.x=e.xmin,o.y=e.ymax,o.resolution=e.width/t,o.rotation=i,o.pixelRatio=s,o}async _singleExport(e,t,r,i,s,n,a){(0,p.getBBox)(y,r,i,t);const o=new(0,h.default)(y[0],y[1],y[2],y[3],e.spatialReference);return[await this._export(o,t[0],t[1],s,n,a)]}_tiledExport(e,t,r,i,s){const n=d.default.create({size:t,spatialReference:e.spatialReference,scales:[e.scale]}),a=new(0,f.default)(n),o=a.getTileCoverage(e);if(!o)return null;const l=[];return o.forEach(((n,o,u,c)=>{m.set(n,o,u,c),a.getTileBounds(y,m);const d=new(0,h.default)(y[0],y[1],y[2],y[3],e.spatialReference);l.push(this._export(d,t,t,r,i,s))})),Promise.all(l)}constructor(e){super(e),this._imagePromise=null,this.bitmaps=[],this.hidpi=R,this.imageMaxWidth=S,this.imageMaxHeight=_,this.imageRotationSupported=b,this.imageNormalizationSupported=V,this.update=(0,a.debounce)((async(e,t)=>{if(!e.stationary||this.destroyed)return null;const r=e.state,i=(0,c.getInfo)(r.spatialReference),s=this.hidpi?e.pixelRatio:1,n=this.imageNormalizationSupported&&r.worldScreenWidth&&r.worldScreenWidth<r.size[0];n?(g[0]=r.worldScreenWidth,g[1]=r.size[1]):this.imageRotationSupported?(g[0]=r.size[0],g[1]=r.size[1]):(0,p.getOuterSize)(g,r);const a=Math.floor(g[0]*s)>this.imageMaxWidth||Math.floor(g[1]*s)>this.imageMaxHeight,o=i&&(r.extent.xmin<i.valid[0]||r.extent.xmax>i.valid[1]),l=!this.imageNormalizationSupported&&o,h=!a&&!l,u=this.imageRotationSupported?r.rotation:0;if(h){const e=n?r.paddedViewState.center:r.center;this._imagePromise=this._singleExport(r,g,e,r.resolution,u,s,t)}else{let e=Math.min(this.imageMaxWidth,this.imageMaxHeight);l&&(e=Math.min(r.worldScreenWidth,e)),this._imagePromise=this._tiledExport(r,e,u,s,t)}return this._imagePromise.then((async e=>{if(this._imagePromise=null,!this.destroyed){this.bitmaps=null!=e?e:[];for(const t of this.container.children)e.includes(t)||t.fadeOut().then((()=>{t.remove()}));for(const t of e)this.container.addChild(t),t.fadeIn()}})).catch((e=>{throw this._imagePromise=null,e}))}),5e3)}};(0,s._)([(0,o.property)()],w.prototype,"_imagePromise",void 0),(0,s._)([(0,o.property)()],w.prototype,"bitmaps",void 0),(0,s._)([(0,o.property)()],w.prototype,"container",void 0),(0,s._)([(0,o.property)()],w.prototype,"fetchSource",void 0),(0,s._)([(0,o.property)()],w.prototype,"hidpi",void 0),(0,s._)([(0,o.property)()],w.prototype,"imageMaxWidth",void 0),(0,s._)([(0,o.property)()],w.prototype,"imageMaxHeight",void 0),(0,s._)([(0,o.property)()],w.prototype,"imageRotationSupported",void 0),(0,s._)([(0,o.property)()],w.prototype,"imageNormalizationSupported",void 0),(0,s._)([(0,o.property)()],w.prototype,"requestUpdate",void 0),(0,s._)([(0,o.property)()],w.prototype,"updating",null),w=(0,s._)([(0,l.subclass)("esri.views.2d.layers.support.ExportStrategy")],w);const T=w})),t.register("gZfhh",(function(t,r){e(t.exports,"getOuterSize",(function(){return s})),e(t.exports,"getBBox",(function(){return n}));const i=Math.PI/180;function s(e,t){const r=t.rotation*i,s=Math.abs(Math.cos(r)),n=Math.abs(Math.sin(r)),[a,o]=t.size;return e[0]=Math.round(o*n+a*s),e[1]=Math.round(o*s+a*n),e}function n(e,t,r,i){const[s,n]=t,[a,o]=i,l=.5*r;return e[0]=s-l*a,e[1]=n-l*o,e[2]=s+l*a,e[3]=n+l*o,e}})),t.register("e4M5Q",(function(r,i){e(r.exports,"Bitmap",(function(){return p}));var s=t("1CpCt"),n=t("52822"),a=t("jsolS"),o=t("gLni9"),l=t("5aS5k"),h=t("gOLoq"),u=t("l3QXd"),c=t("2HKUi");function d(e,t,r){const i={target:u.TextureType.TEXTURE_2D,pixelFormat:u.PixelFormat.RGBA,internalFormat:u.PixelFormat.RGBA,dataType:u.PixelType.UNSIGNED_BYTE,wrapMode:u.TextureWrapMode.CLAMP_TO_EDGE};return t&&r&&(i.width=t,i.height=r),new(0,c.Texture)(e,i)}class p extends l.DisplayObject{destroy(){this._texture&&(this._texture.dispose(),this._texture=null)}get isSourceScaled(){return this.width!==this.sourceWidth||this.height!==this.sourceHeight}get height(){return void 0!==this._height?this._height:this.sourceHeight}set height(e){this._height=e}get source(){return this._source}set source(e){this._source=e,this.invalidateTexture()}get sourceHeight(){return this._source instanceof HTMLImageElement?this._source.naturalHeight:this._source.height}get sourceWidth(){return this._source instanceof HTMLImageElement?this._source.naturalWidth:this._source.width}get width(){return void 0!==this._width?this._width:this.sourceWidth}set width(e){this._width=e}beforeRender(e){super.beforeRender(e),this.updateTexture(e.context)}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRenderOnSourceChangedEnabled&&this.requestRender())}_createTransforms(){return{dvs:(0,a.c)()}}setTransform(e){const t=(0,n.b)(this.transforms.dvs),[r,i]=e.toScreenNoRotation([0,0],[this.x,this.y]),s=this.resolution/this.pixelRatio/e.resolution,a=s*this.width,l=s*this.height,h=Math.PI*this.rotation/180;(0,n.c)(t,t,(0,o.f)(r,i)),(0,n.c)(t,t,(0,o.f)(a/2,l/2)),(0,n.r)(t,t,-h),(0,n.c)(t,t,(0,o.f)(-a/2,-l/2)),(0,n.j)(t,t,(0,o.f)(a,l)),(0,n.m)(this.transforms.dvs,e.displayViewMat3,t)}setSamplingProfile(e){this._texture&&(e.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(e.samplingMode))}bind(e,t){this._texture&&e.bindTexture(this._texture,t)}updateTexture(e){var t;if(!this.stage)return null==(t=this._texture)||t.dispose(),void(this._texture=null);if(!this._textureInvalidated)return;this._textureInvalidated=!1,this._texture||(this.source?this._texture=d(e,this.sourceWidth,this.sourceHeight):this._texture=d(e));const r=this.source;if(r){if(this._texture.resize(this.sourceWidth,this.sourceHeight),(n=r)&&"render"in n)if(r instanceof h.default){const e=r.getRenderedRasterPixels();this._texture.setData((0,s.isSome)(e)?e.renderedRasterPixels:null)}else this._texture.setData(function(e){const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,e.render(t.getContext("2d")),t}(r));else(i=r)&&!("render"in i)&&this._texture.setData(r);this.ready()}else this._texture.setData(null);var i,n}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}constructor(e=null,t,r=!0){super(),this.requestRenderOnSourceChangedEnabled=r,this._textureInvalidated=!0,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._width=void 0,this.x=0,this.y=0,this.blendFunction=t,this.source=e,this.requestRender=this.requestRender.bind(this)}}})),t.register("5aS5k",(function(r,i){e(r.exports,"DisplayObject",(function(){return h}));var s=t("cS4u3"),n=t("5HTPH"),a=t("1CpCt"),o=t("lHg4e");const l=1/(0,n.default)("mapview-transitions-duration");class h extends s.default{get clips(){return this._clips}set clips(e){this._clips=e,this.requestRender()}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(e){this._opacity!==e&&(this._opacity=Math.min(1,Math.max(e,0)),this.requestRender())}get stage(){return this._stage}set stage(e){if(this._stage===e)return;const t=this._stage;this._stage=e,e?this._stage.untrashDisplayObject(this)||(this.onAttach(),this.emit("attach")):t.trashDisplayObject(this)}get transforms(){return this._getTransforms()}_getTransforms(){return(0,a.isNone)(this._transforms)&&(this._transforms=this._createTransforms()),this._transforms}get visible(){return this._visible}set visible(e){this._visible!==e&&(this._visible=e,this.requestRender())}fadeIn(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=(0,o.createResolver)(),this.requestRender()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=(0,o.createResolver)(),this.requestRender()),this._fadeOutResolver.promise}beforeRender(e){this.updateTransitionProperties(e.deltaTime,e.state.scale)}afterRender(e){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}remove(){var e;null==(e=this.parent)||e.removeChild(this)}setTransform(e){}processRender(e){this.stage&&this.computedVisible&&this.doRender(e)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.onDetach(),this.emit("detach")}updateTransitionProperties(e,t){if(this.fadeTransitionEnabled){const t=this._fadeOutResolver||!this.visible?0:this.opacity,r=this.computedOpacity;if(r===t)this.computedVisible=this.visible;else{const i=e*l;this.computedOpacity=r>t?Math.max(t,r-i):Math.min(t,r+i),this.computedVisible=this.computedOpacity>0;const s=t===this.computedOpacity;this.inFadeTransition=!s,s||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}onAttach(){}onDetach(){}doRender(e){}ready(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())}constructor(){super(...arguments),this._fadeOutResolver=null,this._fadeInResolver=null,this._clips=null,this.computedVisible=!0,this.computedOpacity=1,this.fadeTransitionEnabled=!1,this.inFadeTransition=!1,this._isReady=!1,this._opacity=1,this._stage=null,this._visible=!0}}})),t.register("gOLoq",(function(r,i){e(r.exports,"default",(function(){return n}));var s=t("1CpCt");class n{get width(){return(0,s.isSome)(this.pixelBlock)?this.pixelBlock.width:0}get height(){return(0,s.isSome)(this.pixelBlock)?this.pixelBlock.height:0}render(e){const t=this.pixelBlock;if((0,s.isNone)(t))return;const r=this.filter({pixelBlock:t});if((0,s.isNone)(r.pixelBlock))return;const i=r.pixelBlock.getAsRGBA(),n=e.createImageData(r.pixelBlock.width,r.pixelBlock.height);n.data.set(i),e.putImageData(n,0,0)}getRenderedRasterPixels(){const e=this.filter({pixelBlock:this.pixelBlock});return(0,s.isNone)(e.pixelBlock)?null:{width:e.pixelBlock.width,height:e.pixelBlock.height,renderedRasterPixels:new Uint8Array(e.pixelBlock.getAsRGBA().buffer)}}constructor(e,t,r){this.pixelBlock=e,this.extent=t,this.originalPixelBlock=r}}})),t.register("aDxLR",(function(r,i){e(r.exports,"RefreshableLayerView",(function(){return u}));var s=t("j6uz9"),n=t("6TszD"),a=t("lHg4e"),o=t("cc23H"),l=t("hTI69");t("aX9sh"),t("5HTPH"),t("gHCNy");var h=t("qA6zg");const u=e=>{let t=class extends e{initialize(){this.handles.add((0,o.on)((()=>this.layer),"refresh",(e=>{this.doRefresh(e.dataChanged).catch((e=>{(0,a.isAbortError)(e)||n.default.getLogger(this.declaredClass).error(e)}))})),"RefreshableLayerView")}};return(0,s._)([(0,l.property)()],t.prototype,"layer",void 0),t=(0,s._)([(0,h.subclass)("esri.layers.mixins.RefreshableLayerView")],t),t}})),t.register("i5AEl",(function(r,i){e(r.exports,"WMSLayerView",(function(){return u}));var s=t("j6uz9"),n=t("bPmsI"),a=t("hTI69");t("aX9sh"),t("5HTPH"),t("gHCNy");var o=t("qA6zg"),l=t("lixLM"),h=t("jxSGb");const u=e=>{let t=class extends e{initialize(){this.exportImageParameters=new(0,h.ExportWMSImageParameters)({layer:this.layer})}destroy(){this.exportImageParameters.destroy(),this.exportImageParameters=null}get exportImageVersion(){var e;return null==(e=this.exportImageParameters)||e.commitProperty("version"),this.commitProperty("timeExtent"),(this._get("exportImageVersion")||0)+1}fetchPopupFeatures(e){const{layer:t}=this;if(!e)return Promise.reject(new(0,n.default)("wmslayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:t}));const{popupEnabled:r}=t;if(!r)return Promise.reject(new(0,n.default)("wmslayerview:fetchPopupFeatures","popupEnabled should be true",{popupEnabled:r}));const i=this.createFetchPopupFeaturesQuery(e);if(!i)return Promise.resolve([]);const{extent:s,width:a,height:o,x:l,y:h}=i;if(!(s&&a&&o))throw new(0,n.default)("wmslayerview:fetchPopupFeatures","WMSLayer does not support fetching features.",{extent:s,width:a,height:o});const u=t.fetchFeatureInfo(s,a,o,l,h);return Promise.resolve(u?[u]:[])}};return(0,s._)([(0,a.property)()],t.prototype,"exportImageParameters",void 0),(0,s._)([(0,a.property)({readOnly:!0})],t.prototype,"exportImageVersion",null),(0,s._)([(0,a.property)()],t.prototype,"layer",void 0),(0,s._)([(0,a.property)(l.combinedViewLayerTimeExtentProperty)],t.prototype,"timeExtent",void 0),t=(0,s._)([(0,o.subclass)("esri.layers.mixins.WMSLayerView")],t),t}})),t.register("jxSGb",(function(r,i){e(r.exports,"ExportWMSImageParameters",(function(){return u}));var s=t("j6uz9"),n=t("27btt"),a=t("8Y9g8"),o=t("hTI69");t("aX9sh"),t("5HTPH"),t("gHCNy");var l=t("qA6zg");const h={visible:"visibleSublayers"};let u=class extends((0,a.HandleOwnerMixin)(n.default)){set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.sublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("wms-sublayer-update",(e=>this.notifyChange(h[e.propertyName])))],"layer"))}get layers(){const{visibleSublayers:e}=this;return e.filter((e=>e.name)).map((e=>e.name)).join(",")}get version(){this.commitProperty("layers");const e=this.layer;return e&&e.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:e,scale:t}=this,r=null==e?void 0:e.sublayers,i=[],s=e=>{const{minScale:r,maxScale:n,sublayers:a,visible:o}=e;o&&(0===t||(0===r||t<=r)&&(0===n||t>=n))&&(a?a.forEach(s):i.unshift(e))};return null==r||r.forEach(s),i}toJSON(){const{layer:e,layers:t}=this,{imageFormat:r,imageTransparency:i,version:s}=e;return{format:r,request:"GetMap",service:"WMS",styles:"",transparent:i?"TRUE":"FALSE",version:s,layers:t}}constructor(e){super(e),this.scale=0}};(0,s._)([(0,o.property)()],u.prototype,"layer",null),(0,s._)([(0,o.property)({readOnly:!0})],u.prototype,"layers",null),(0,s._)([(0,o.property)({type:Number})],u.prototype,"scale",void 0),(0,s._)([(0,o.property)({readOnly:!0})],u.prototype,"version",null),(0,s._)([(0,o.property)({readOnly:!0})],u.prototype,"visibleSublayers",null),u=(0,s._)([(0,l.subclass)("esri.layers.support.ExportWMSImageParameters")],u)})),t.register("3mbeV",(function(t,r){e(t.exports,"u32to4Xu8",(function(){return s})),e(t.exports,"i1616to32",(function(){return n})),e(t.exports,"i8888to32",(function(){return a}));const i=new Float32Array(1);new Uint32Array(i.buffer);function s(e){return[255&e,(65280&e)>>>8,(16711680&e)>>>16,(4278190080&e)>>>24]}function n(e,t){return 65535&e|t<<16}function a(e,t,r,i){return 255&e|(255&t)<<8|(255&r)<<16|i<<24}})),t.register("bVIMy",(function(t,r){var i,s,n,a;function o(e){switch(e){case"left":return i.Left;case"right":return i.Right;case"center":case"justify":return i.Center}}function l(e){switch(e){case"top":return s.Top;case"middle":return s.Center;case"baseline":return s.Baseline;case"bottom":return s.Bottom}}function h(e){switch(e){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[i.Right,s.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[i.Center,s.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[i.Left,s.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[i.Right,s.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[i.Center,s.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[i.Left,s.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[i.Right,s.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[i.Center,s.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[i.Left,s.Top];default:return console.debug(`Found invalid placement type ${e}`),[i.Center,s.Center]}}function u(e){switch(e){case i.Right:return-1;case i.Center:return 0;case i.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${e}`),0}}function c(e){switch(e){case s.Top:return 1;case s.Center:return 0;case s.Bottom:case s.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function d(e){switch(e){case"left":return i.Left;case"right":return i.Right;case"center":case"justify":return i.Center}}function p(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}e(t.exports,"HAlign",(function(){return i})),e(t.exports,"VAlign",(function(){return s})),e(t.exports,"getXAnchorDirection",(function(){return o})),e(t.exports,"getYAnchorDirection",(function(){return l})),e(t.exports,"getAlignmentFromPlacement",(function(){return h})),e(t.exports,"getXDirection",(function(){return u})),e(t.exports,"getYDirection",(function(){return c})),e(t.exports,"getJustification",(function(){return d})),e(t.exports,"isMapAligned",(function(){return p})),(a=i||(i={}))[a.Left=-1]="Left",a[a.Center=0]="Center",a[a.Right=1]="Right",(n=s||(s={}))[n.Top=1]="Top",n[n.Center=0]="Center",n[n.Bottom=-1]="Bottom",n[n.Baseline=2]="Baseline"})),t.register("eDdav",(function(r,i){e(r.exports,"createMaterialKey",(function(){return o})),e(r.exports,"FillMaterialKey",(function(){return p})),e(r.exports,"LineMaterialKey",(function(){return f})),e(r.exports,"MarkerMaterialKey",(function(){return v})),e(r.exports,"TextMaterialKey",(function(){return x})),e(r.exports,"LabelMaterialKey",(function(){return y})),e(r.exports,"MaterialKeyBase",(function(){return l}));var s=t("bPmsI"),n=t("bVIMy"),a=t("eyQUy");function o(e,t){switch(e){case a.WGLGeometryType.FILL:return p.from(t);case a.WGLGeometryType.LINE:return f.from(t);case a.WGLGeometryType.MARKER:return v.from(t);case a.WGLGeometryType.TEXT:return x.from(t);case a.WGLGeometryType.LABEL:return y.from(t);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${e}`)}}class l{static load(e){const t=this.shared;return t.data=e,t}set data(e){this._data=e}get data(){return this._data}get geometryType(){return this.bits(8,11)}set geometryType(e){this.setBits(e,8,11)}get mapAligned(){return!!this.bit(20)}set mapAligned(e){this.setBit(20,e)}get sdf(){return!!this.bit(11)}set sdf(e){this.setBit(11,e)}get pattern(){return!!this.bit(12)}set pattern(e){this.setBit(12,e)}get textureBinding(){return this.bits(0,8)}set textureBinding(e){this.setBits(e,0,8)}get geometryTypeString(){switch(this.geometryType){case a.WGLGeometryType.FILL:return"fill";case a.WGLGeometryType.MARKER:return"marker";case a.WGLGeometryType.LINE:return"line";case a.WGLGeometryType.TEXT:return"text";case a.WGLGeometryType.LABEL:return"label";default:throw new(0,s.default)(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(e,t){const r=1<<e;t?this._data|=r:this._data&=~r}bit(e){return(this._data&1<<e)>>e}setBits(e,t,r){for(let i=t,s=0;i<r;i++,s++)this.setBit(i,0!=(e&1<<s))}bits(e,t){let r=0;for(let i=e,s=0;i<t;i++,s++)r|=this.bit(i)<<s;return r}hasVV(){return!1}setVV(e,t){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}}getVariationHash(){return this._data&~(7&this.textureBinding)}constructor(e){this._data=0,this._data=e}}l.shared=new l(0);const h=e=>class extends e{get vvSizeMinMaxValue(){return 0!==this.bit(16)}set vvSizeMinMaxValue(e){this.setBit(16,e)}get vvSizeScaleStops(){return 0!==this.bit(17)}set vvSizeScaleStops(e){this.setBit(17,e)}get vvSizeFieldStops(){return 0!==this.bit(18)}set vvSizeFieldStops(e){this.setBit(18,e)}get vvSizeUnitValue(){return 0!==this.bit(19)}set vvSizeUnitValue(e){this.setBit(19,e)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(e,t){super.setVV(e,t);const r=function(e,t){const r=a.WGLVVFlag.SIZE_FIELD_STOPS|a.WGLVVFlag.SIZE_MINMAX_VALUE|a.WGLVVFlag.SIZE_SCALE_STOPS|a.WGLVVFlag.SIZE_UNIT_VALUE,i=(e&(a.WGLVVTarget.FIELD_TARGETS_OUTLINE|a.WGLVVTarget.MINMAX_TARGETS_OUTLINE|a.WGLVVTarget.SCALE_TARGETS_OUTLINE|a.WGLVVTarget.UNIT_TARGETS_OUTLINE))>>>4;return t.isOutline||t.isOutlinedFill?r&i:r&~i}(e,t)&e;this.vvSizeMinMaxValue=!!(r&a.WGLVVFlag.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(r&a.WGLVVFlag.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(r&a.WGLVVFlag.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(r&a.WGLVVFlag.SIZE_SCALE_STOPS)}},u=e=>class extends e{get vvRotation(){return 0!==this.bit(15)}set vvRotation(e){this.setBit(15,e)}hasVV(){return super.hasVV()||this.vvRotation}setVV(e,t){super.setVV(e,t),this.vvRotation=!t.isOutline&&!!(e&a.WGLVVFlag.ROTATION)}},c=e=>class extends e{get vvColor(){return 0!==this.bit(13)}set vvColor(e){this.setBit(13,e)}hasVV(){return super.hasVV()||this.vvColor}setVV(e,t){super.setVV(e,t),this.vvColor=!t.isOutline&&!!(e&a.WGLVVFlag.COLOR)}},d=e=>class extends e{get vvOpacity(){return 0!==this.bit(14)}set vvOpacity(e){this.setBit(14,e)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(e,t){super.setVV(e,t),this.vvOpacity=!t.isOutline&&!!(e&a.WGLVVFlag.OPACITY)}};class p extends(c(d(h(l)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.WGLGeometryType.FILL,t.dotDensity="dot-density"===e.stride.fill,t.simple="simple"===e.stride.fill,t.outlinedFill=e.isOutlinedFill,t.dotDensity||t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),dotDensity:this.dotDensity,outlinedFill:this.outlinedFill,simple:this.simple,vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}get dotDensity(){return!!this.bit(15)}set dotDensity(e){this.setBit(15,e)}get simple(){return!!this.bit(22)}set simple(e){this.setBit(22,e)}get outlinedFill(){return!!this.bit(21)}set outlinedFill(e){this.setBit(21,e)}}p.shared=new p(0);class v extends(c(d(u(h(l))))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.WGLGeometryType.MARKER,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}v.shared=new v(0);class f extends(c(d(h(l)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.WGLGeometryType.LINE,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}f.shared=new f(0);class x extends(c(d(u(h(l))))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.WGLGeometryType.TEXT,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}x.shared=new x(0);class y extends(h(l)){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.WGLGeometryType.LABEL,t.setVV(e.vvFlags,e),t.mapAligned=(0,n.isMapAligned)(e.placement),t.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}y.shared=new y(0)})),t.register("c4cvq",(function(t,r){e(t.exports,"radToByte",(function(){return o})),e(t.exports,"degToByte",(function(){return l})),e(t.exports,"log2",(function(){return h})),e(t.exports,"between",(function(){return u}));Number.POSITIVE_INFINITY;const i=Math.PI,s=128/i,n=1/Math.LN2;function a(e,t){return(e%=t)>=0?e:e+t}function o(e){return a(e*s,256)}function l(e){return a(.7111111111111111*e,256)}function h(e){return Math.log(e)*n}function u(e,t,r){return e>=t&&e<=r||e>=r&&e<=t}})),t.register("3Icya",(function(t,r){e(t.exports,"e",(function(){return a}));var i,s,n={exports:{}};i=n,void 0!==(s=function(){function e(e,s,n){n=n||2;var a,o,h,c,d,v,f,x=s&&s.length,y=x?s[0]*n:e.length,g=t(e,0,y,n,!0),m=[];if(!g||g.next===g.prev)return m;if(x&&(g=function(e,i,s,n){var a,o,h,c=[];for(a=0,o=i.length;a<o;a++)(h=t(e,i[a]*n,a<o-1?i[a+1]*n:e.length,n,!1))===h.next&&(h.steiner=!0),c.push(p(h));for(c.sort(l),a=0;a<c.length;a++)s=r(s=u(c[a],s),s.next);return s}(e,s,g,n)),e.length>80*n){a=h=e[0],o=c=e[1];for(var S=n;S<y;S+=n)(d=e[S])<a&&(a=d),(v=e[S+1])<o&&(o=v),d>h&&(h=d),v>c&&(c=v);f=0!==(f=Math.max(h-a,c-o))?1/f:0}return i(g,m,n,a,o,f),m}function t(e,t,r,i,s){var n,a;if(s===w(e,t,r,i)>0)for(n=t;n<r;n+=i)a=b(n,e[n],e[n+1],a);else for(n=r-i;n>=t;n-=i)a=b(n,e[n],e[n+1],a);if(a&&x(a,a.next)){var o=a.next;V(a),a=o}return a}function r(e,t){if(!e)return e;t||(t=e);var r,i=e;do{if(r=!1,i.steiner||!x(i,i.next)&&0!==f(i.prev,i,i.next))i=i.next;else{var s=i.prev;if(V(i),(i=t=s)===i.next)break;r=!0}}while(r||i!==t);return t}function i(e,t,l,h,u,c,p){if(e){!p&&c&&function(e,t,r,i){var s=e;do{null===s.z&&(s.z=d(s.x,s.y,t,r,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next}while(s!==e);s.prevZ.nextZ=null,s.prevZ=null,function(e){var t,r,i,s,n,a,o,l,h=1;do{for(r=e,e=null,n=null,a=0;r;){for(a++,i=r,o=0,t=0;t<h&&(o++,i=i.nextZ);t++);for(l=h;o>0||l>0&&i;)0!==o&&(0===l||!i||r.z<=i.z)?(s=r,r=r.nextZ,o--):(s=i,i=i.nextZ,l--),n?n.nextZ=s:e=s,s.prevZ=n,n=s;r=i}n.nextZ=null,h*=2}while(a>1)}(s)}(e,h,u,c);for(var v,f,x=e;e.prev!==e.next;)if(v=e.prev,f=e.next,c?n(e,h,u,c):s(e))t.push(v.i/l),t.push(e.i/l),t.push(f.i/l),V(e),e=f.next,x=f.next;else if((e=f)===x){p?1===p?i(e=a(r(e),t,l),t,l,h,u,c,2):2===p&&o(e,t,l,h,u,c):i(r(e),t,l,h,u,c,1);break}}}function s(e){var t=e.prev,r=e,i=e.next;if(f(t,r,i)>=0)return!1;for(var s=e.next.next;s!==e.prev;){if(v(t.x,t.y,r.x,r.y,i.x,i.y,s.x,s.y)&&f(s.prev,s,s.next)>=0)return!1;s=s.next}return!0}function n(e,t,r,i){var s=e.prev,n=e,a=e.next;if(f(s,n,a)>=0)return!1;for(var o=s.x<n.x?s.x<a.x?s.x:a.x:n.x<a.x?n.x:a.x,l=s.y<n.y?s.y<a.y?s.y:a.y:n.y<a.y?n.y:a.y,h=s.x>n.x?s.x>a.x?s.x:a.x:n.x>a.x?n.x:a.x,u=s.y>n.y?s.y>a.y?s.y:a.y:n.y>a.y?n.y:a.y,c=d(o,l,t,r,i),p=d(h,u,t,r,i),x=e.prevZ,y=e.nextZ;x&&x.z>=c&&y&&y.z<=p;){if(x!==e.prev&&x!==e.next&&v(s.x,s.y,n.x,n.y,a.x,a.y,x.x,x.y)&&f(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,y!==e.prev&&y!==e.next&&v(s.x,s.y,n.x,n.y,a.x,a.y,y.x,y.y)&&f(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;x&&x.z>=c;){if(x!==e.prev&&x!==e.next&&v(s.x,s.y,n.x,n.y,a.x,a.y,x.x,x.y)&&f(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;y&&y.z<=p;){if(y!==e.prev&&y!==e.next&&v(s.x,s.y,n.x,n.y,a.x,a.y,y.x,y.y)&&f(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function a(e,t,i){var s=e;do{var n=s.prev,a=s.next.next;!x(n,a)&&y(n,s,s.next,a)&&S(n,a)&&S(a,n)&&(t.push(n.i/i),t.push(s.i/i),t.push(a.i/i),V(s),V(s.next),s=e=a),s=s.next}while(s!==e);return r(s)}function o(e,t,s,n,a,o){var l,h,u=e;do{for(var c=u.next.next;c!==u.prev;){if(u.i!==c.i&&(h=c,(l=u).next.i!==h.i&&l.prev.i!==h.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&y(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(l,h)&&(S(l,h)&&S(h,l)&&function(e,t){var r=e,i=!1,s=(e.x+t.x)/2,n=(e.y+t.y)/2;do{r.y>n!=r.next.y>n&&r.next.y!==r.y&&s<(r.next.x-r.x)*(n-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==e);return i}(l,h)&&(f(l.prev,l,h.prev)||f(l,h.prev,h))||x(l,h)&&f(l.prev,l,l.next)>0&&f(h.prev,h,h.next)>0))){var d=_(u,c);return u=r(u,u.next),d=r(d,d.next),i(u,t,s,n,a,o),void i(d,t,s,n,a,o)}c=c.next}u=u.next}while(u!==e)}function l(e,t){return e.x-t.x}function h(e){if(e.next.prev===e)return e;let t=e;for(;;){const r=t.next;if(r.prev===t||r===t||r===e)break;t=r}return t}function u(e,t){var i=function(e,t){var r,i=t,s=e.x,n=e.y,a=-1/0;do{if(n<=i.y&&n>=i.next.y&&i.next.y!==i.y){var o=i.x+(n-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(o<=s&&o>a){if(a=o,o===s){if(n===i.y)return i;if(n===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!r)return null;if(s===a)return r;var l,h=r,u=r.x,d=r.y,p=1/0;i=r;do{s>=i.x&&i.x>=u&&s!==i.x&&v(n<d?s:a,n,u,d,n<d?a:s,n,i.x,i.y)&&(l=Math.abs(n-i.y)/(s-i.x),S(i,e)&&(l<p||l===p&&(i.x>r.x||i.x===r.x&&c(r,i)))&&(r=i,p=l)),i=i.next}while(i!==h);return r}(e,t);if(!i)return t;var s=_(i,e),n=r(i,i.next);let a=h(s);return r(a,a.next),n=h(n),h(t===i?n:t)}function c(e,t){return f(e.prev,e,t.prev)<0&&f(t.next,e,e.next)<0}function d(e,t,r,i,s){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*s)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*s)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function p(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function v(e,t,r,i,s,n,a,o){return(s-a)*(t-o)-(e-a)*(n-o)>=0&&(e-a)*(i-o)-(r-a)*(t-o)>=0&&(r-a)*(n-o)-(s-a)*(i-o)>=0}function f(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function x(e,t){return e.x===t.x&&e.y===t.y}function y(e,t,r,i){var s=m(f(e,t,r)),n=m(f(e,t,i)),a=m(f(r,i,e)),o=m(f(r,i,t));return s!==n&&a!==o||!(0!==s||!g(e,r,t))||!(0!==n||!g(e,i,t))||!(0!==a||!g(r,e,i))||!(0!==o||!g(r,t,i))}function g(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function m(e){return e>0?1:e<0?-1:0}function S(e,t){return f(e.prev,e,e.next)<0?f(e,t,e.next)>=0&&f(e,e.prev,t)>=0:f(e,t,e.prev)<0||f(e,e.next,t)<0}function _(e,t){var r=new R(e.i,e.x,e.y),i=new R(t.i,t.x,t.y),s=e.next,n=t.prev;return e.next=t,t.prev=e,r.next=s,s.prev=r,i.next=r,r.prev=i,n.next=i,i.prev=n,i}function b(e,t,r,i){var s=new R(e,t,r);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function V(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function R(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function w(e,t,r,i){for(var s=0,n=t,a=r-i;n<r;n+=i)s+=(e[a]-e[n])*(e[n+1]+e[a+1]),a=n;return s}return e.deviation=function(e,t,r,i){var s=t&&t.length,n=s?t[0]*r:e.length,a=Math.abs(w(e,0,n,r));if(s)for(var o=0,l=t.length;o<l;o++){var h=t[o]*r,u=o<l-1?t[o+1]*r:e.length;a-=Math.abs(w(e,h,u,r))}var c=0;for(o=0;o<i.length;o+=3){var d=i[o]*r,p=i[o+1]*r,v=i[o+2]*r;c+=Math.abs((e[d]-e[v])*(e[p+1]-e[d+1])-(e[d]-e[p])*(e[v+1]-e[d+1]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},e.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},i=0,s=0;s<e.length;s++){for(var n=0;n<e[s].length;n++)for(var a=0;a<t;a++)r.vertices.push(e[s][n][a]);s>0&&(i+=e[s-1].length,r.holes.push(i))}return r},e}())&&(i.exports=s);const a=n.exports})),t.register("iqtPh",(function(t,r){e(t.exports,"DECLUTTER_TILES",(function(){return i})),e(t.exports,"COLLISION_GRID_CELL_SIZE",(function(){return s})),e(t.exports,"DECLUTTER_BUDGET",(function(){return n})),e(t.exports,"FADE_DURATION",(function(){return a}));const i=!0,s=32,n=1.5,a=200})),t.register("jrPhy",(function(r,i){e(r.exports,"Container",(function(){return o}));var s=t("jsolS"),n=t("coJUt"),a=t("5aS5k");class o extends a.DisplayObject{get blendMode(){return this._blendMode}set blendMode(e){this._blendMode=e,this.requestRender()}get clips(){return this._clips}set clips(e){this._clips=e,this.children.forEach((t=>t.clips=e))}get computedEffects(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effects)?e:null}get effect(){var e,t;return null!=(e=null==(t=this._effectView)?void 0:t.effect)?e:""}set effect(e){(this._effectView||e)&&(this._effectView||(this._effectView=new(0,n.EffectView)),this._effectView.effect=e,this.requestRender())}updateTransitionProperties(e,t){super.updateTransitionProperties(e,t),this._effectView&&(this._effectView.transitionStep(e,t),this._effectView.transitioning&&this.requestRender())}doRender(e){const t=this.createRenderParams(e);this.renderChildren(t)}addChild(e){return this.addChildAt(e,this.children.length)}addChildAt(e,t=this.children.length){if(!e)return e;if(this.contains(e))return e;this._needsSort=!0;const r=e.parent;return r&&r!==this&&r.removeChild(e),t>=this.children.length?this.children.push(e):this.children.splice(t,0,e),this._childrenSet.add(e),e.parent=this,e.stage=this.stage,this!==this.stage&&(e.clips=this.clips),this.requestRender(),e}contains(e){return this._childrenSet.has(e)}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const e of this.children)this!==this.stage&&(e.clips=null),e.stage=null,e.parent=null;this.children.length=0}removeChild(e){return this.contains(e)?this.removeChildAt(this.children.indexOf(e)):e}removeChildAt(e){if(e<0||e>=this.children.length)return null;this._needsSort=!0;const t=this.children.splice(e,1)[0];return this._childrenSet.delete(t),this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null,t}sortChildren(e){this._needsSort&&(this.children.sort(e),this._needsSort=!1)}_createTransforms(){return{dvs:(0,s.c)()}}onAttach(){super.onAttach();const e=this.stage;for(const t of this.children)t.stage=e}onDetach(){super.onDetach();for(const e of this.children)e.stage=null}renderChildren(e){for(const t of this.children)t.beforeRender(e);for(const t of this.children)t.processRender(e);for(const t of this.children)t.afterRender(e)}createRenderParams(e){return{...e,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:e.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition}}constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this.children=[],this._effectView=null}}}));
//# sourceMappingURL=WMSLayerView2D.ab832dd4.js.map
