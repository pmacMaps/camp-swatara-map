!function(){function e(e){return e&&e.__esModule?e.default:e}function r(e,r,t,n){Object.defineProperty(e,r,{get:t,set:n,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("lK9Yg",(function(n,o){r(n.exports,"clearBoundingBoxCache",(function(){return b})),r(n.exports,"computeLayerResourceSize",(function(){return h})),r(n.exports,"computeIconLayerResourceSize",(function(){return w})),r(n.exports,"computeObjectLayerResourceSize",(function(){return C})),r(n.exports,"computeLayerSize",(function(){return m}));var u=t("8TSCy"),i=t("2TvXO"),s=t("9pNSx"),a=t("kyj08"),c=t("jOnsX"),f=t("7qybv"),l=t("ayLat"),p=t("h9pmV"),y=d();function d(){return new(0,c.default)(50)}function b(){y=d()}function h(e,r){if("icon"===e.type)return w(e,r);if("object"===e.type)return C(e,r);throw new(0,a.default)("symbol3d:unsupported-symbol-layer","computeLayerSize only works with symbol layers of type Icon and Object")}function m(e,r){return v.apply(this,arguments)}function v(){return(v=u.asyncToGenerator(e(i).mark((function r(t,n){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("icon"!==t.type){e.next=2;break}return e.abrupt("return",g(t,n));case 2:if("object"!==t.type){e.next=4;break}return e.abrupt("return",L(t,n));case 4:throw new(0,a.default)("symbol3d:unsupported-symbol-layer","computeLayerSize only works with symbol layers of type Icon and Object");case 5:case"end":return e.stop()}}),r)})))).apply(this,arguments)}function w(e,r){return x.apply(this,arguments)}function x(){return(x=u.asyncToGenerator(e(i).mark((function r(t,n){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.resource.href){e.next=2;break}return e.abrupt("return",z(t.resource.href).then((function(e){return[e.width,e.height]})));case 2:if(!t.resource.primitive){e.next=4;break}return e.abrupt("return",(0,f.isSome)(n)?[n,n]:[256,256]);case 4:throw new(0,a.default)("symbol3d:invalid-symbol-layer","symbol layers of type Icon must have either an href or a primitive resource");case 5:case"end":return e.stop()}}),r)})))).apply(this,arguments)}function g(e,r){return w(e,r).then((function(r){if(null==e.size)return r;var t=r[0]/r[1];return t>1?[e.size,e.size/t]:[e.size*t,e.size]}))}function z(e){return(0,s.default)(e,{responseType:"image"}).then((function(e){return e.data}))}function C(e,r){return function(e,r){return B.apply(this,arguments)}(e,r).then((function(e){return(0,l.size)(e)}))}function L(e,r){return S.apply(this,arguments)}function S(){return(S=u.asyncToGenerator(e(i).mark((function r(t,n){var o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t,n);case 2:return o=e.sent,e.abrupt("return",(0,p.objectSymbolLayerSizeWithResourceSize)(o,t));case 4:case"end":return e.stop()}}),r)})))).apply(this,arguments)}function B(){return(B=u.asyncToGenerator(e(i).mark((function r(n,o){var u,s,c,d,b,h;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isPrimitive){e.next=11;break}if(u=n.resource.href,void 0===(s=y.get(u))){e.next=4;break}return e.abrupt("return",Promise.resolve(s));case 4:return e.next=6,t("jCA3z");case 6:return c=e.sent,e.next=9,c.fetch(u,{disableTextures:!0});case 9:return d=e.sent,e.abrupt("return",(y.put(u,d.referenceBoundingBox),d.referenceBoundingBox));case 11:if(b=null,n.resource&&n.resource.primitive&&(b=(0,l.create)((0,p.objectSymbolLayerPrimitiveBoundingBox)(n.resource.primitive)),(0,f.isSome)(o)))for(h=0;h<b.length;h++)b[h]*=o;return e.abrupt("return",b?Promise.resolve(b):Promise.reject(new(0,a.default)("symbol:invalid-resource","The symbol does not have a valid resource")));case 14:case"end":return e.stop()}}),r)})))).apply(this,arguments)}})),t.register("jCA3z",(function(e,r){e.exports=Promise.all([t("4WKyX")(t("aNJCr").getBundleURL("3sUCe")+t("iE7OH").resolve("9f5d1")),t("4WKyX")(t("aNJCr").getBundleURL("3sUCe")+t("iE7OH").resolve("aYE2P")),t("4WKyX")(t("aNJCr").getBundleURL("3sUCe")+t("iE7OH").resolve("4SbGZ")),t("4WKyX")(t("aNJCr").getBundleURL("3sUCe")+t("iE7OH").resolve("1LDdt")),t("4WKyX")(t("aNJCr").getBundleURL("3sUCe")+t("iE7OH").resolve("19UW4")),t("4WKyX")(t("aNJCr").getBundleURL("3sUCe")+t("iE7OH").resolve("8E9o0"))]).then((function(){return t("6Q0cP")}))}))}();
//# sourceMappingURL=symbolLayerUtils.23a3ad2e.js.map
