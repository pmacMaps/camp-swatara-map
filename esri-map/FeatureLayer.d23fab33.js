!function(){function e(e){return e&&e.__esModule?e.default:e}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("g15Jq",(function(r,i){var o,n,a,s,l;o=r.exports,Object.defineProperty(o,"__esModule",{value:!0,configurable:!0}),n=r.exports,a="default",s=function(){return je},Object.defineProperty(n,a,{get:s,set:l,enumerable:!0,configurable:!0});var u=t("8TSCy"),p=t("2TvXO"),d=t("7eJjO"),y=t("3MVX3");t("35mRC"),t("fqK5H"),t("hHJvn"),t("aOUND"),t("7Kl6r");var c=t("fPYaT"),f=t("aRUMT"),h=t("lubf9"),v=t("9ulmN"),m=t("9pNSx"),b=t("cM5QQ"),g=t("3SeOo"),w=t("d2yMj"),S=t("kyj08"),_=t("qhgF7"),I=t("2VlWd"),F=t("79ASa"),T=t("jHOLN"),x=t("7qybv"),k=t("8NioF"),E=t("8EPEw"),D=t("10vEZ"),C=t("37plS"),O=t("kYueh"),M=t("iho5X");t("lNwWH");var R=t("ba18L"),P=t("eB8sj"),L=t("fcwIv"),j=t("kced1"),A=t("bVD6V"),q=t("ceKt1"),Q=t("gINRd"),V=t("dt8qO"),G=t("j40xv"),U=t("4LDxK"),N=t("kIGY4"),B=t("jy0BF"),z=t("aLy89"),W=t("gIXJ2"),J=t("cv2jJ"),H=t("6bOVn"),Z=t("5N5S1"),X=t("gkEnw"),K=t("9bAYR"),Y=t("13Qxf"),$=t("3GzOb"),ee=t("2t08e"),te=t("lmu5w"),re=t("gRgX5"),ie=t("1PReb"),oe=t("bkDoB"),ne=t("gcgvk"),ae=t("hRnYX"),se=t("ko0sb"),le=t("7vTUY"),ue=t("8ffUj"),pe=t("aYrEX"),de=t("gtLRH"),ye=t("kfF7B"),ce=t("9saVm"),fe=t("a4yk4"),he=t("iaMRW"),ve=t("eSq8i"),me=t("2TQQP"),be=t("lYvo2"),ge=t("f4h86"),we=t("cRlei"),Se=t("8g8vH"),_e=t("7D30I"),Ie=t("37qRo"),Fe=new(0,F.JSONMap)({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),Te={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},xe="FeatureLayer",ke=T.default.getLogger("esri.layers.FeatureLayer");function Ee(e){return e&&e instanceof w.default}function De(e,t,r){return!!(e&&e.hasOwnProperty(t)?e[t]:r)}function Ce(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}function Oe(e){var t,r=null==e||null==(t=e.supportedSpatialAggregationStatistics)?void 0:t.map((function(e){return e.toLowerCase()}));return{envelope:!(null==r||!r.includes("envelopeaggregate")),centroid:!(null==r||!r.includes("centroidaggregate")),convexHull:!(null==r||!r.includes("convexhullaggregate"))}}var Me=(0,se.defineFieldProperties)();function Re(e,t,r){var i=!(null==r||!r.writeLayerSchema);return{enabled:i,ignoreOrigin:i}}var Pe=function(r){"use strict";u.inherits(o,r);var i=u.createSuper(o);function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;return u.classCallCheck(this,o),(n=i.call.apply(i,[this].concat(u.toConsumableArray(t))))._handles=new(0,_.default),n.capabilities=null,n.charts=null,n.copyright=null,n.datesInUnknownTimezone=!1,n.displayField=null,n.definitionExpression=null,n.dynamicDataSource=null,n.editFieldsInfo=null,n.editingInfo=null,n.elevationInfo=null,n.featureReduction=null,n.fields=null,n.fieldsIndex=null,n.floorInfo=null,n.formTemplate=null,n.fullExtent=null,n.gdbVersion=null,n.geometryFieldsInfo=null,n.geometryType=null,n.hasM=void 0,n.hasZ=void 0,n.heightModelInfo=null,n.historicMoment=null,n.infoFor3D=null,n.isTable=!1,n.labelsVisible=!0,n.labelingInfo=null,n.layerId=void 0,n.legendEnabled=!0,n.minScale=0,n.maxScale=0,n.globalIdField=null,n.objectIdField=null,n.outFields=null,n.path=null,n.popupEnabled=!0,n.popupTemplate=null,n.relationships=null,n.sourceJSON=null,n.returnM=void 0,n.returnZ=void 0,n.screenSizePerspectiveEnabled=!0,n.serviceDefinitionExpression=null,n.spatialReference=G.default.WGS84,n.subtypeCode=null,n.templates=null,n.timeInfo=null,n.title=null,n.sublayerTitleMode="item-title",n.trackIdField=null,n.type="feature",n.typeIdField=null,n.types=null,n.indexes=new(w.default.ofType(ie.FeatureIndex)),n.userIsAdmin=!1,n.version=void 0,n.visible=!0,u.possibleConstructorReturn(n)}return u.createClass(o,[{key:"destroy",value:function(){var e;null==(e=this.source)||e.destroy(),this._handles=(0,x.destroyMaybe)(this._handles)}},{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?u.objectSpread({url:e},t):e}},{key:"load",value:function(t){var r=this,i=(0,x.isSome)(t)?t.signal:null;if(!(this.portalItem&&this.portalItem.loaded&&this.source)){var o=this,n=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},t).catch(D.throwIfAbortError).then(u.asyncToGenerator(e(p).mark((function t(){var r;return e(p).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.url||null!=o.layerId||!/FeatureServer|MapServer\/*$/i.test(o.url)){e.next=5;break}return e.next=3,o._fetchFirstLayerId(i);case 3:null!=(r=e.sent)&&(o.layerId=r);case 5:if(o.url||o._hasMemorySource()){e.next=7;break}throw new(0,S.default)("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");case 7:return e.t0=o,e.next=10,o.createGraphicsSource(i);case 10:return e.t1=e.sent,e.abrupt("return",e.t0._initLayerProperties.call(e.t0,e.t1));case 12:case"end":return e.stop()}}),t)})))).then((function(){return r.finishLoadEditablePortalLayer(t)}));return this.addResolvingPromise(n),Promise.resolve(this)}this.addResolvingPromise(this.createGraphicsSource(i).then((function(e){return r._initLayerProperties(e)})))}},{key:"readCapabilities",value:function(e,t){return t=t.layerDefinition||t,{attachment:this._readAttachmentCapabilities(t.attachmentProperties),data:this._readDataCapabilities(t),metadata:this._readMetadataCapabilities(t),operations:this._readOperationsCapabilities(t.capabilities||e,t),query:this._readQueryCapabilities(t),queryRelated:this._readQueryRelatedCapabilities(t),editing:this._readEditingCapabilities(t)}}},{key:"createQueryVersion",get:function(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}},{key:"editingEnabled",get:function(){return!(this.loaded&&!this.capabilities.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)},set:function(e){null!=e?this._override("editingEnabled",e):this._clearOverride("editingEnabled")}},{key:"readEditingEnabled",value:function(e,t){return this._readEditingEnabled(t,!1)}},{key:"readEditingEnabledFromWebMap",value:function(e,t,r){return this._readEditingEnabled(t,!0,r)}},{key:"writeEditingEnabled",value:function(e,t){this._writeEditingEnabled(e,t,!1)}},{key:"writeEditingEnabledToWebMap",value:function(e,t,r,i){this._writeEditingEnabled(e,t,!0,i)}},{key:"readEditingInfo",value:function(e,t){var r=t.editingInfo;return r?{lastEditDate:null!=r.lastEditDate?new Date(r.lastEditDate):null}:null}},{key:"readIsTable",value:function(e,t){return"Table"===(t=t&&t.layerDefinition||t).type||!t.geometryType}},{key:"writeIsTable",value:function(e,t,r,i){null!=i&&i.writeLayerSchema&&(0,E.setDeepValue)(r,e?"Table":"Feature Layer",t)}},{key:"readMinScale",value:function(e,t){return t.effectiveMinScale||e||0}},{key:"readMaxScale",value:function(e,t){return t.effectiveMaxScale||e||0}},{key:"readGlobalIdFieldFromService",value:function(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields){var r=!0,i=!1,o=void 0;try{for(var n,a=t.fields[Symbol.iterator]();!(r=(n=a.next()).done);r=!0){var s=n.value;if("esriFieldTypeGlobalID"===s.type)return s.name}}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}}}},{key:"readObjectIdFieldFromService",value:function(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields){var r=!0,i=!1,o=void 0;try{for(var n,a=t.fields[Symbol.iterator]();!(r=(n=a.next()).done);r=!0){var s=n.value;if("esriFieldTypeOID"===s.type)return s.name}}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}}}},{key:"parsedUrl",get:function(){var e=this.url?(0,O.urlToObject)(this.url):null;return null!=e&&(null!=this.dynamicDataSource?e.path=(0,O.join)(e.path,"dynamicLayer"):null!=this.layerId&&(e.path=(0,O.join)(e.path,this.layerId.toString()))),e}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"renderer",set:function(e){(0,le.fixRendererFields)(e,this.fieldsIndex),this._set("renderer",e)}},{key:"readRenderer",value:function(e,t,r){var i=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(i){var o=(0,h.read)(i,t,r)||void 0;return o||ke.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:r}),o}if(t.defaultSymbol)return t.types&&t.types.length?new(0,f.default)({defaultSymbol:Le(t.defaultSymbol,t,r),field:t.typeIdField,uniqueValueInfos:t.types.map((function(e){return{id:e.id,symbol:Le(e.symbol,e,r)}}))}):new(0,c.default)({symbol:Le(t.defaultSymbol,t,r)})}},{key:"source",set:function(e){var t=this._get("source");t!==e&&(Ee(t)&&this._resetMemorySource(t),Ee(e)&&this._initMemorySource(e),this._set("source",e))}},{key:"castSource",value:function(e){return e?Array.isArray(e)||e instanceof w.default?new(0,N.default)({layer:this,items:e}):e:null}},{key:"readSource",value:function(e,t){var r=ge.default.fromJSON(t.featureSet);return new(0,N.default)({layer:this,items:r&&r.features||[]})}},{key:"readServiceDefinitionExpression",value:function(e,t){return t.definitionQuery||t.definitionExpression}},{key:"readTemplates",value:function(e,t){var r=t.editFieldsInfo,i=r&&r.creatorField,o=r&&r.editorField;return e=e&&e.map((function(e){return ne.default.fromJSON(e)})),this._fixTemplates(e,i),this._fixTemplates(e,o),e}},{key:"readTitle",value:function(e,t){var r=t.layerDefinition&&t.layerDefinition.name||t.name,i=t.title||t.layerDefinition&&t.layerDefinition.title;if(r){var o=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?(0,te.titleFromUrlAndName)(this.url,r):r;var n=r;if(!n&&this.url){var a=(0,te.parse)(this.url);(0,x.isSome)(a)&&(n=a.title)}if(!n)return;return"item-title-and-service-name"===this.sublayerTitleMode&&o&&o!==n&&(n=o+" - "+n),(0,te.cleanTitle)(n)}if("item-title"===this.sublayerTitleMode&&i)return i}},{key:"readTitleFromWebMap",value:function(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}},{key:"readTypeIdField",value:function(e,t){var r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();var i=t.fields.find((function(e){return e.name.toLowerCase()===r}));i&&(r=i.name)}return r}},{key:"readTypes",value:function(e,t){var r=this;e=(t=t.layerDefinition||t).types;var i=t.editFieldsInfo,o=i&&i.creatorField,n=i&&i.editorField;return e&&e.map((function(e){return e=ae.default.fromJSON(e),r._fixTemplates(e.templates,o),r._fixTemplates(e.templates,n),e}))}},{key:"url",set:function(e){var t=(0,te.sanitizeUrlWithLayerId)({layer:this,url:e,nonStandardUrlAllowed:!0,logger:ke});this._set("url",t.url),null!=t.layerId&&this._set("layerId",t.layerId)}},{key:"writeUrl",value:function(e,t,r,i){(0,te.writeUrlWithLayerId)(this,e,null,t,i)}},{key:"readVersion",value:function(e,t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}},{key:"readVisible",value:function(e,t){return t.layerDefinition&&null!=t.layerDefinition.defaultVisibility?!!t.layerDefinition.defaultVisibility:null!=t.visibility?!!t.visibility:void 0}},{key:"addAttachment",value:function(e,t){var r=this;return this.load().then((function(){return r._checkAttachmentSupport(e)})).then((function(){if(!("addAttachment"in r.source))throw new(0,S.default)(xe,"Layer source does not support addAttachment capability");return r.source.addAttachment(e,t)}))}},{key:"updateAttachment",value:function(e,t,r){var i=this;return this.load().then((function(){return i._checkAttachmentSupport(e)})).then((function(){if(!("updateAttachment"in i.source))throw new(0,S.default)(xe,"Layer source does not support updateAttachment capability");return i.source.updateAttachment(e,t,r)}))}},{key:"applyEdits",value:function(r,i){var o=this;return u.asyncToGenerator(e(p).mark((function n(){var a;return e(p).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("b7kvd");case 2:return a=e.sent,e.next=5,o.load();case 5:return e.abrupt("return",(e.sent,a.applyEdits(o,o.source,r,i)));case 6:case"end":return e.stop()}}),n)})))()}},{key:"on",value:function(e,t){return u.get(u.getPrototypeOf(o.prototype),"on",this).call(this,e,t)}},{key:"createPopupTemplate",value:function(e){return(0,Ie.createPopupTemplate)(this,e)}},{key:"createGraphicsSource",value:function(r){var i=this;return u.asyncToGenerator(e(p).mark((function o(){var n,a;return e(p).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i._hasMemorySource()){e.next=2;break}return e.abrupt("return",i.source.load({signal:r}));case 2:return e.next=4,(0,D.whenOrAbort)(t("kjtyE"),r);case 4:return n=e.sent,a=n.default,e.abrupt("return",new a({layer:i}).load({signal:r}));case 7:case"end":return e.stop()}}),o)})))()}},{key:"createQuery",value:function(){var e=new(0,we.default),t=this.get("capabilities.data"),r=this.get("capabilities.query");e.dynamicDataSource=this.dynamicDataSource,e.historicMoment=this.historicMoment,e.gdbVersion=this.gdbVersion,e.returnGeometry=!0,r&&(e.compactGeometryEnabled=r.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),t&&(t.supportsZ&&null!=this.returnZ&&(e.returnZ=this.returnZ),t.supportsM&&null!=this.returnM&&(e.returnM=this.returnM)),e.outFields=["*"],e.where=this.definitionExpression||"1=1";var i=this.timeOffset,o=this.timeExtent;return e.timeExtent=null!=i&&null!=o?o.offset(-i.value,i.unit):o||null,e.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null,e}},{key:"deleteAttachments",value:function(e,t){var r=this;return this.load().then((function(){return r._checkAttachmentSupport(e)})).then((function(){if(!("deleteAttachments"in r.source))throw new(0,S.default)(xe,"Layer source does not support deleteAttachments capability");return r.source.deleteAttachments(e,t)}))}},{key:"fetchRecomputedExtents",value:function(e){var t=this;return this.load({signal:null==e?void 0:e.signal}).then((function(){if(t.source.fetchRecomputedExtents)return t.source.fetchRecomputedExtents(e);throw new(0,S.default)(xe,"Layer source does not support fetchUpdates capability")}))}},{key:"getFeatureType",value:function(e){var t=this.typeIdField,r=this.types;if(!t||!e)return null;var i=e.attributes?e.attributes[t]:void 0;if(null==i)return null;var o=null;return r.some((function(e){var t=e.id;return null!=t&&(t.toString()===i.toString()&&(o=e),!!o)})),o}},{key:"getFieldDomain",value:function(e,t){var r=t&&t.feature,i=this.getFeatureType(r);if(i){var o=i.domains&&i.domains[e];if(o&&"inherited"!==o.type)return o}return this._getLayerDomain(e)}},{key:"getField",value:function(e){return this.fieldsIndex.get(e)}},{key:"queryAttachments",value:function(e,t){var r=this;return e=be.default.from(e),this.load().then((function(){if(!r.get("capabilities.data.supportsAttachment"))throw new(0,S.default)(xe,"this layer doesn't support attachments");var t=e.attachmentTypes,i=e.objectIds,o=e.globalIds,n=e.num,a=e.size,s=e.start,l=e.where;if(!r.get("capabilities.operations.supportsQueryAttachments")){var u=i&&i.length>1,p=t&&t.length,d=o&&o.length,y=a&&a.length;if(u||p||d||y||n||s||l)throw new(0,S.default)(xe,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",e)}if(!(i&&i.length||l))throw new(0,S.default)(xe,"'objectIds' or 'where' are required to perform attachment query",e);if(!("queryAttachments"in r.source))throw new(0,S.default)(xe,"Layer source does not support queryAttachments capability",e);return r.source.queryAttachments(e)}))}},{key:"queryFeatures",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryFeatures(we.default.from(e)||r.createQuery(),t)})).then((function(e){var t=!0,i=!1,o=void 0;if(null!=e&&e.features)try{for(var n,a=e.features[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var s=n.value;s.layer=s.sourceLayer=r}}catch(e){i=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}return e}))}},{key:"queryObjectIds",value:function(e,t){var r=this;return this.load().then((function(){if(r.source.queryObjectIds)return r.source.queryObjectIds(we.default.from(e)||r.createQuery(),t);throw new(0,S.default)(xe,"Layer source does not support queryObjectIds capability")}))}},{key:"queryFeatureCount",value:function(e,t){var r=this;return this.load().then((function(){if(r.source.queryFeatureCount)return r.source.queryFeatureCount(we.default.from(e)||r.createQuery(),t);throw new(0,S.default)(xe,"Layer source does not support queryFeatureCount capability")}))}},{key:"queryExtent",value:function(e,t){var r=this;return this.load().then((function(){if(r.source.queryExtent)return r.source.queryExtent(we.default.from(e)||r.createQuery(),t);throw new(0,S.default)(xe,"Layer source does not support queryExtent capability")}))}},{key:"queryRelatedFeatures",value:function(e,t){var r=this;return this.load().then((function(){if("queryRelatedFeatures"in r.source)return r.source.queryRelatedFeatures(Se.default.from(e),t);throw new(0,S.default)(xe,"Layer source does not support queryRelatedFeatures capability")}))}},{key:"queryRelatedFeaturesCount",value:function(e,t){var r=this;return this.load().then((function(){if("queryRelatedFeaturesCount"in r.source)return r.source.queryRelatedFeaturesCount(Se.default.from(e),t);throw new(0,S.default)(xe,"Layer source does not support queryRelatedFeaturesCount capability")}))}},{key:"queryTopFeatures",value:function(e,t){var r=this;return this.load().then((function(){var i=r;if("queryTopFeatures"in r.source&&r.get("capabilities.query.supportsTopFeaturesQuery"))return r.source.queryTopFeatures(_e.default.from(e),t).then((function(e){var t=!0,r=!1,o=void 0;if(null!=e&&e.features)try{for(var n,a=e.features[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var s=n.value;s.layer=s.sourceLayer=i}}catch(e){r=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw o}}return e}));throw new(0,S.default)(xe,"Layer source does not support queryTopFeatures capability")}))}},{key:"queryTopObjectIds",value:function(e,t){var r=this;return this.load().then((function(){if("queryTopObjectIds"in r.source&&r.get("capabilities.query.supportsTopFeaturesQuery"))return r.source.queryTopObjectIds(_e.default.from(e),t);throw new(0,S.default)(xe,"Layer source does not support queryTopObjectIds capability")}))}},{key:"queryTopFeaturesExtent",value:function(e,t){var r=this;return this.load().then((function(){if("queryTopExtents"in r.source&&r.get("capabilities.query.supportsTopFeaturesQuery"))return r.source.queryTopExtents(_e.default.from(e),t);throw new(0,S.default)(xe,"Layer source does not support queryTopExtents capability")}))}},{key:"queryTopFeatureCount",value:function(e,t){var r=this;return this.load().then((function(){if("queryTopCount"in r.source&&r.get("capabilities.query.supportsTopFeaturesQuery"))return r.source.queryTopCount(_e.default.from(e),t);throw new(0,S.default)(xe,"Layer source does not support queryFeatureCount capability")}))}},{key:"read",value:function(e,t){var r=e.featureCollection;if(r){var i=r.layers;i&&1===i.length&&(u.get(u.getPrototypeOf(o.prototype),"read",this).call(this,i[0],t),null!=r.showLegend&&u.get(u.getPrototypeOf(o.prototype),"read",this).call(this,{showLegend:r.showLegend},t))}u.get(u.getPrototypeOf(o.prototype),"read",this).call(this,e,t),t&&"service"===t.origin&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}},{key:"write",value:function(e,t){var r,i,n=(t=u.objectSpread({},t,{writeLayerSchema:null!=(r=null==(i=t)?void 0:i.writeLayerSchema)?r:this._hasMemorySource()})).origin,a=t.layerContainerType,s=t.messages;if(this.isTable){if("web-scene"===n||"web-map"===n&&"tables"!==a)return s&&s.push(new(0,S.default)("layer:unsupported","Layer (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' using a Table source cannot be written to web scenes and web maps"),{layer:this})),null;if(this._hasMemorySource())return s&&s.push(new(0,S.default)("layer:unsupported","Layer (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' using an in-memory Table source cannot be written to web scenes and web maps"),{layer:this})),null}else if(this.loaded&&"web-map"===n&&"tables"===a)return s&&s.push(new(0,S.default)("layer:unsupported","Layer (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' using a non-table source cannot be written to tables in web maps"),{layer:this})),null;return u.get(u.getPrototypeOf(o.prototype),"write",this).call(this,e,t)}},{key:"clone",value:function(){if(this._hasMemorySource())throw new(0,S.default)(xe,"FeatureLayer (title: ".concat(this.title,", id: ").concat(this.id,") created using in-memory source cannot be cloned"));return u.get(u.getPrototypeOf(o.prototype),"clone",this).call(this)}},{key:"serviceSupportsSpatialReference",value:function(e){return!!this.loaded&&("memory"===this.source.type||(0,he.serviceSupportsSpatialReference)(this,e))}},{key:"_readEditingEnabled",value:function(e,t,r){var i,o=null==(i=e.layerDefinition)?void 0:i.capabilities;return o?this._hasEditingCapability(o):(o=e.capabilities,t&&"web-map"===(null==r?void 0:r.origin)&&!this._hasMemorySource()&&o?this._hasEditingCapability(o):void 0)}},{key:"_hasEditingCapability",value:function(e){return e.toLowerCase().split(",").map((function(e){return e.trim()})).includes("editing")}},{key:"_writeEditingEnabled",value:function(e,t,r,i){if(!e){var o,n,a=null!=(o=this.capabilities)&&null!=(n=o.operations)&&n.supportsSync?"Query,Sync":"Query";(0,E.setDeepValue)("layerDefinition.capabilities",a,t),!r||null!=i&&i.writeLayerSchema||(t.capabilities=a)}}},{key:"_checkAttachmentSupport",value:function(e){var t=e.attributes,r=this.objectIdField;return this.get("capabilities.data.supportsAttachment")?e?t?t[r]?void 0:Promise.reject(new(0,S.default)(xe,"feature is missing the identifying attribute ".concat(r))):Promise.reject(new(0,S.default)(xe,"'attributes' are required on a feature to query attachments")):Promise.reject(new(0,S.default)(xe,"A feature is required to add/delete/update attachments")):Promise.reject(new(0,S.default)(xe,"this layer doesn't support attachments"))}},{key:"_getLayerDomain",value:function(e){var t=this.fieldsIndex.get(e);return t?t.domain:null}},{key:"_fetchFirstLayerId",value:function(e){return(0,m.default)(this.url,{query:u.objectSpread({f:"json"},this.customParameters,{token:this.apiKey}),responseType:"json",signal:e}).then((function(e){var t=e.data;if(t)return Array.isArray(t.layers)&&t.layers.length>0?t.layers[0].id:Array.isArray(t.tables)&&t.tables.length>0?t.tables[0].id:void 0}))}},{key:"_initLayerProperties",value:function(t){var r=this;return u.asyncToGenerator(e(p).mark((function i(){return e(p).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(r._set("source",t),t.sourceJSON&&(r.sourceJSON=t.sourceJSON,r.read(t.sourceJSON,{origin:"service",url:r.parsedUrl})),r._verifySource(),r._verifyFields(),(0,le.fixRendererFields)(r.renderer,r.fieldsIndex),(0,le.fixTimeInfoFields)(r.timeInfo,r.fieldsIndex),(0,me.loadStyleRenderer)(r,{origin:"service"})));case 1:case"end":return e.stop()}}),i)})))()}},{key:"hasDataChanged",value:function(){var t=this;return u.asyncToGenerator(e(p).mark((function r(){var i,o,n,a,s;return e(p).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(i=t.source)||!i.refresh){e.next=15;break}return e.prev=2,e.next=6,null==(o=t.source)?void 0:o.refresh();case 6:if(n=e.sent,a=n.dataChanged,s=n.updates,(0,x.isSome)(s)&&(t.sourceJSON=u.objectSpread({},t.sourceJSON,s),t.read(s,{origin:"service",url:t.parsedUrl})),!a){e.next=11;break}return e.abrupt("return",!0);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:if(!t.definitionExpression){e.next=24;break}return e.prev=16,e.next=19,(0,C.parseWhereClause)(t.definitionExpression,t.fieldsIndex);case 19:return e.abrupt("return",e.sent.hasDateFunctions);case 22:e.prev=22,e.t1=e.catch(16);case 24:return e.abrupt("return",!1);case 25:case"end":return e.stop()}}),r,null,[[2,13],[16,22]])})))()}},{key:"_verifyFields",value:function(){var e=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||-1!==e.search(/\/FeatureServer\//i)||this.fields&&this.fields.some((function(e){return"geometry"===e.type}))||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}},{key:"_fixTemplates",value:function(e,t){e&&e.forEach((function(e){var r=e.prototype&&e.prototype.attributes;r&&t&&delete r[t]}))}},{key:"_verifySource",value:function(){if(this._hasMemorySource()){if(this.url)throw new(0,S.default)("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new(0,S.default)("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}},{key:"_initMemorySource",value:function(e){var t=this;e.forEach((function(e){e.layer=t,e.sourceLayer=t})),this._handles.add([e.on("after-add",(function(e){e.item.layer=t,e.item.sourceLayer=t})),e.on("after-remove",(function(e){e.item.layer=null,e.item.sourceLayer=null}))],"fl-source")}},{key:"_resetMemorySource",value:function(e){e.forEach((function(e){e.layer=null,e.sourceLayer=null})),this._handles.remove("fl-source")}},{key:"_hasMemorySource",value:function(){return!(this.url||!this.source)}},{key:"_readAttachmentCapabilities",value:function(e){var t={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};return e&&Array.isArray(e)&&e.forEach((function(e){var r=Te[e.name];r&&(t[r]=!!e.isEnabled)})),t}},{key:"_readDataCapabilities",value:function(e){return{isVersioned:De(e,"isDataVersioned",!1),supportsAttachment:De(e,"hasAttachments",!1),supportsM:De(e,"hasM",!1),supportsZ:De(e,"hasZ",!1)}}},{key:"_readMetadataCapabilities",value:function(e){return{supportsAdvancedFieldProperties:De(e,"supportsFieldDescriptionProperty",!1)}}},{key:"_readOperationsCapabilities",value:function(e,t){var r=e?e.toLowerCase().split(",").map((function(e){return e.trim()})):[],i=r.includes("editing")&&!t.datesInUnknownTimezone,o=i&&r.includes("create"),n=i&&r.includes("delete"),a=i&&r.includes("update"),s=r.includes("changetracking");return i&&!(o||n||a)&&(o=n=a=!0),{supportsCalculate:De(t,"supportsCalculate",!1),supportsTruncate:De(t,"supportsTruncate",!1),supportsValidateSql:De(t,"supportsValidateSql",!1),supportsAdd:o,supportsDelete:n,supportsEditing:i,supportsChangeTracking:s,supportsQuery:r.includes("query"),supportsQueryAttachments:De(t.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:De(t,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:a,supportsExceedsLimitStatistics:De(t,"supportsExceedsLimitStatistics",!1)}}},{key:"_readQueryCapabilities",value:function(e){var t,r=e.advancedQueryCapabilities,i=e.ownershipBasedAccessControlForFeatures,o=e.archivingInfo,n=null==(t=this.url)?void 0:t.includes("MapServer"),a=!(0,I.default)("mapserver-pbf-enabled")&&n&&this.version<10.81,s=(0,te.isHostedAgolService)(this.url),l=(e.supportedQueryFormats||"").split(",").reduce((function(e,t){var r=t.toLowerCase().trim();return r&&e.add(r),e}),new Set);return{supportsStatistics:De(r,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:De(r,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:De(r,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:Oe(r),supportsCentroid:De(r,"supportsReturningGeometryCentroid",!1),supportsDistance:De(r,"supportsQueryWithDistance",!1),supportsDistinct:De(r,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:De(r,"supportsReturningQueryExtent",!1),supportsGeometryProperties:De(r,"supportsReturningGeometryProperties",!1),supportsHavingClause:De(r,"supportsHavingClause",!1),supportsOrderBy:De(r,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:De(r,"supportsPagination",!1),supportsQuantization:De(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:De(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:De(e,"supportsReturningQueryGeometry",!1),supportsResultType:De(r,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:De(r,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:De(r,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:De(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:De(r,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:De(i,"allowOthersToQuery",!0),supportsHistoricMoment:De(o,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!a&&l.has("pbf"),supportsDisjointSpatialRelationship:De(r,"supportsDisjointSpatialRel",!1),supportsCacheHint:De(r,"supportsQueryWithCacheHint",!1),supportsDefaultSpatialReference:De(r,"supportsDefaultSR",!1),supportsCompactGeometry:s,maxRecordCountFactor:Ce(e,"maxRecordCountFactor",void 0),maxRecordCount:Ce(e,"maxRecordCount",void 0),standardMaxRecordCount:Ce(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:Ce(e,"tileMaxRecordCount",void 0)}}},{key:"_readQueryRelatedCapabilities",value:function(e){var t=e.advancedQueryCapabilities,r=De(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:De(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r}}},{key:"_readEditingCapabilities",value:function(e){var t=e.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:De(e,"allowGeometryUpdates",!0),supportsGlobalId:De(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:De(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:De(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:De(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:De(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:De(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:De(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:De(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:De(t,"allowOthersToUpdate",!0)}}}]),o}((0,H.FeatureEffectLayer)((0,W.BlendLayer)((0,X.OrderedLayer)((0,ee.TemporalLayer)((0,$.ScaleRangeLayer)((0,Y.RefreshableLayer)((0,z.ArcGISService)((0,Z.OperationalLayer)((0,K.PortalLayer)((0,k.MultiOriginJSONMixin)((0,J.CustomParametersMixin)((0,B.APIKeyMixin)((0,g.ClonableMixin)(U.default))))))))))))));(0,d._)([(0,M.property)({readOnly:!0,json:{read:!1}})],Pe.prototype,"capabilities",void 0),(0,d._)([(0,P.reader)("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],Pe.prototype,"readCapabilities",null),(0,d._)([(0,M.property)({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Pe.prototype,"charts",void 0),(0,d._)([(0,M.property)({readOnly:!0})],Pe.prototype,"createQueryVersion",null),(0,d._)([(0,M.property)({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],Pe.prototype,"copyright",void 0),(0,d._)([(0,M.property)({type:Boolean})],Pe.prototype,"datesInUnknownTimezone",void 0),(0,d._)([(0,M.property)({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],Pe.prototype,"displayField",void 0),(0,d._)([(0,M.property)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],Pe.prototype,"definitionExpression",void 0),(0,d._)([(0,M.property)({types:b.symbolTypes,readOnly:!0})],Pe.prototype,"defaultSymbol",void 0),(0,d._)([(0,M.property)({type:ve.DataLayerSource})],Pe.prototype,"dynamicDataSource",void 0),(0,d._)([(0,M.property)({readOnly:!0})],Pe.prototype,"editFieldsInfo",void 0),(0,d._)([(0,M.property)({type:Boolean})],Pe.prototype,"editingEnabled",null),(0,d._)([(0,P.reader)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],Pe.prototype,"readEditingEnabled",null),(0,d._)([(0,P.reader)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],Pe.prototype,"readEditingEnabledFromWebMap",null),(0,d._)([(0,j.writer)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],Pe.prototype,"writeEditingEnabled",null),(0,d._)([(0,j.writer)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],Pe.prototype,"writeEditingEnabledToWebMap",null),(0,d._)([(0,M.property)({readOnly:!0})],Pe.prototype,"editingInfo",void 0),(0,d._)([(0,P.reader)("editingInfo")],Pe.prototype,"readEditingInfo",null),(0,d._)([(0,M.property)(re.elevationInfo)],Pe.prototype,"elevationInfo",void 0),(0,d._)([(0,M.property)(oe.featureReductionProperty)],Pe.prototype,"featureReduction",void 0),(0,d._)([(0,M.property)(u.objectSpread({},Me.fields,{json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Re}}}}}))],Pe.prototype,"fields",void 0),(0,d._)([(0,M.property)(Me.fieldsIndex)],Pe.prototype,"fieldsIndex",void 0),(0,d._)([(0,M.property)({type:ye.default,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],Pe.prototype,"floorInfo",void 0),(0,d._)([(0,M.property)({type:q.default,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Pe.prototype,"formTemplate",void 0),(0,d._)([(0,M.property)({type:Q.default,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],Pe.prototype,"fullExtent",void 0),(0,d._)([(0,M.property)()],Pe.prototype,"gdbVersion",void 0),(0,d._)([(0,M.property)({readOnly:!0,type:ue.default,json:{read:{source:"geometryProperties"}}})],Pe.prototype,"geometryFieldsInfo",void 0),(0,d._)([(0,M.property)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:Fe.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Re,writer:function(e,t,r){var i=e?Fe.toJSON(e):null;i&&(0,E.setDeepValue)(r,i,t)}}}},read:{source:"layerDefinition.geometryType",reader:Fe.read}}})],Pe.prototype,"geometryType",void 0),(0,d._)([(0,M.property)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],Pe.prototype,"hasM",void 0),(0,d._)([(0,M.property)({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],Pe.prototype,"hasZ",void 0),(0,d._)([(0,M.property)({readOnly:!0,type:V.default})],Pe.prototype,"heightModelInfo",void 0),(0,d._)([(0,M.property)({type:Date})],Pe.prototype,"historicMoment",void 0),(0,d._)([(0,M.property)(re.id)],Pe.prototype,"id",void 0),(0,d._)([(0,M.property)({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],Pe.prototype,"infoFor3D",void 0),(0,d._)([(0,M.property)({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],Pe.prototype,"isTable",void 0),(0,d._)([(0,P.reader)("service","isTable",["type","geometryType"]),(0,P.reader)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],Pe.prototype,"readIsTable",null),(0,d._)([(0,j.writer)("web-map","isTable")],Pe.prototype,"writeIsTable",null),(0,d._)([(0,M.property)(re.labelsVisible)],Pe.prototype,"labelsVisible",void 0),(0,d._)([(0,M.property)({type:[pe.default],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:de.reader},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:de.reader},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],Pe.prototype,"labelingInfo",void 0),(0,d._)([(0,M.property)(re.opacityDrawingInfo)],Pe.prototype,"opacity",void 0),(0,d._)([(0,M.property)({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],Pe.prototype,"layerId",void 0),(0,d._)([(0,M.property)(re.legendEnabled)],Pe.prototype,"legendEnabled",void 0),(0,d._)([(0,M.property)({type:["show","hide"]})],Pe.prototype,"listMode",void 0),(0,d._)([(0,M.property)(re.minScale)],Pe.prototype,"minScale",void 0),(0,d._)([(0,P.reader)("service","minScale",["minScale","effectiveMinScale"])],Pe.prototype,"readMinScale",null),(0,d._)([(0,M.property)(re.maxScale)],Pe.prototype,"maxScale",void 0),(0,d._)([(0,P.reader)("service","maxScale",["maxScale","effectiveMaxScale"])],Pe.prototype,"readMaxScale",null),(0,d._)([(0,M.property)({type:String})],Pe.prototype,"globalIdField",void 0),(0,d._)([(0,P.reader)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),(0,P.reader)("service","globalIdField",["globalIdField","fields"])],Pe.prototype,"readGlobalIdFieldFromService",null),(0,d._)([(0,M.property)({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Re}}}}})],Pe.prototype,"objectIdField",void 0),(0,d._)([(0,P.reader)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),(0,P.reader)("service","objectIdField",["objectIdField","fields"])],Pe.prototype,"readObjectIdFieldFromService",null),(0,d._)([(0,M.property)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],Pe.prototype,"operationalLayerType",void 0),(0,d._)([(0,M.property)(Me.outFields)],Pe.prototype,"outFields",void 0),(0,d._)([(0,M.property)({readOnly:!0})],Pe.prototype,"parsedUrl",null),(0,d._)([(0,M.property)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],Pe.prototype,"path",void 0),(0,d._)([(0,M.property)(re.popupEnabled)],Pe.prototype,"popupEnabled",void 0),(0,d._)([(0,M.property)({type:y.default,json:{name:"popupInfo",write:!0}})],Pe.prototype,"popupTemplate",void 0),(0,d._)([(0,M.property)({readOnly:!0})],Pe.prototype,"defaultPopupTemplate",null),(0,d._)([(0,M.property)({type:[ce.default],readOnly:!0})],Pe.prototype,"relationships",void 0),(0,d._)([(0,M.property)({types:v.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:v.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:function(e,t,r){return{ignoreOrigin:null==r?void 0:r.writeLayerSchema}}}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:function(e,t,r){return{ignoreOrigin:null==r?void 0:r.writeLayerSchema}}}}})],Pe.prototype,"renderer",null),(0,d._)([(0,P.reader)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),(0,P.reader)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],Pe.prototype,"readRenderer",null),(0,d._)([(0,M.property)()],Pe.prototype,"sourceJSON",void 0),(0,d._)([(0,M.property)({type:Boolean})],Pe.prototype,"returnM",void 0),(0,d._)([(0,M.property)({type:Boolean})],Pe.prototype,"returnZ",void 0),(0,d._)([(0,M.property)(re.screenSizePerspectiveEnabled)],Pe.prototype,"screenSizePerspectiveEnabled",void 0),(0,d._)([(0,M.property)({clonable:!1})],Pe.prototype,"source",null),(0,d._)([(0,R.cast)("source")],Pe.prototype,"castSource",null),(0,d._)([(0,P.reader)("portal-item","source",["featureSet"]),(0,P.reader)("web-map","source",["featureSet"])],Pe.prototype,"readSource",null),(0,d._)([(0,M.property)({readOnly:!0})],Pe.prototype,"serviceDefinitionExpression",void 0),(0,d._)([(0,P.reader)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],Pe.prototype,"readServiceDefinitionExpression",null),(0,d._)([(0,M.property)({type:G.default,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],Pe.prototype,"spatialReference",void 0),(0,d._)([(0,M.property)({type:Number})],Pe.prototype,"subtypeCode",void 0),(0,d._)([(0,M.property)({type:[ne.default]})],Pe.prototype,"templates",void 0),(0,d._)([(0,P.reader)("templates",["editFieldsInfo","creatorField","editorField","templates"])],Pe.prototype,"readTemplates",null),(0,d._)([(0,M.property)({type:fe.default})],Pe.prototype,"timeInfo",void 0),(0,d._)([(0,M.property)()],Pe.prototype,"title",void 0),(0,d._)([(0,P.reader)("service","title",["name"]),(0,P.reader)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],Pe.prototype,"readTitle",null),(0,d._)([(0,P.reader)("web-map","title",["layerDefinition.name","title"])],Pe.prototype,"readTitleFromWebMap",null),(0,d._)([(0,M.property)({type:String})],Pe.prototype,"sublayerTitleMode",void 0),(0,d._)([(0,M.property)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],Pe.prototype,"trackIdField",void 0),(0,d._)([(0,M.property)({json:{read:!1}})],Pe.prototype,"type",void 0),(0,d._)([(0,M.property)({type:String})],Pe.prototype,"typeIdField",void 0),(0,d._)([(0,P.reader)("service","typeIdField"),(0,P.reader)("typeIdField",["layerDefinition.typeIdField"])],Pe.prototype,"readTypeIdField",null),(0,d._)([(0,M.property)({type:[ae.default]})],Pe.prototype,"types",void 0),(0,d._)([(0,P.reader)("service","types",["types"]),(0,P.reader)("types",["layerDefinition.types"])],Pe.prototype,"readTypes",null),(0,d._)([(0,M.property)({readOnly:!0,json:{write:!1}})],Pe.prototype,"serverGens",void 0),(0,d._)([(0,M.property)({type:w.default.ofType(ie.FeatureIndex),readOnly:!0})],Pe.prototype,"indexes",void 0),(0,d._)([(0,M.property)(re.url)],Pe.prototype,"url",null),(0,d._)([(0,j.writer)("url")],Pe.prototype,"writeUrl",null),(0,d._)([(0,M.property)({readOnly:!0})],Pe.prototype,"userIsAdmin",void 0),(0,d._)([(0,M.property)({json:{origins:{service:{read:!0}},read:!1}})],Pe.prototype,"version",void 0),(0,d._)([(0,P.reader)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],Pe.prototype,"readVersion",null),(0,d._)([(0,M.property)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],Pe.prototype,"visible",void 0),(0,d._)([(0,P.reader)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],Pe.prototype,"readVisible",null),Pe=(0,d._)([(0,L.subclass)("esri.layers.FeatureLayer")],Pe);var Le=(0,A.createTypeReader)({types:b.symbolTypesRenderer}),je=Pe})),t.register("b7kvd",(function(e,r){e.exports=t("4WKyX")(t("aNJCr").getBundleURL("55FX7")+t("iE7OH").resolve("l5Wbg")).then((function(){return t("7tPac")}))})),t.register("kjtyE",(function(e,r){e.exports=t("4WKyX")(t("aNJCr").getBundleURL("55FX7")+t("iE7OH").resolve("9NcSU")).then((function(){return t("hwHXf")}))}))}();
//# sourceMappingURL=FeatureLayer.d23fab33.js.map
