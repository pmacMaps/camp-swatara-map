function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("eyQUy",(function(t,r){var n,o,i,s,a,u,c,T,l;e(t.exports,"WGLGeometryType",(function(){return n})),e(t.exports,"WGLDrawPhase",(function(){return i})),e(t.exports,"VVType",(function(){return s})),e(t.exports,"WGLVVFlag",(function(){return a})),e(t.exports,"WGLVVTarget",(function(){return u})),e(t.exports,"MosaicType",(function(){return c})),e(t.exports,"WGLSymbologyType",(function(){return T})),(l=n||(n={}))[l.FILL=0]="FILL",l[l.LINE=1]="LINE",l[l.MARKER=2]="MARKER",l[l.TEXT=3]="TEXT",l[l.LABEL=4]="LABEL",function(e){e[e.SUCCEEDED=0]="SUCCEEDED",e[e.FAILED_OUT_OF_MEMORY=1]="FAILED_OUT_OF_MEMORY"}(o||(o={})),function(e){e[e.NONE=0]="NONE",e[e.MAP=1]="MAP",e[e.LABEL=2]="LABEL",e[e.LABEL_ALPHA=4]="LABEL_ALPHA",e[e.HITTEST=8]="HITTEST",e[e.HIGHLIGHT=16]="HIGHLIGHT",e[e.CLIP=32]="CLIP",e[e.DEBUG=64]="DEBUG",e[e.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(i||(i={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(s||(s={})),function(e){e[e.NONE=0]="NONE",e[e.OPACITY=1]="OPACITY",e[e.COLOR=2]="COLOR",e[e.ROTATION=4]="ROTATION",e[e.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",e[e.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",e[e.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",e[e.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(a||(a={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(u||(u={})),function(e){e[e.SPRITE=0]="SPRITE",e[e.GLYPH=1]="GLYPH"}(c||(c={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SIMPLE=1]="SIMPLE",e[e.DOT_DENSITY=2]="DOT_DENSITY",e[e.OUTLINE_FILL=3]="OUTLINE_FILL",e[e.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",e[e.HEATMAP=5]="HEATMAP",e[e.PIE_CHART=6]="PIE_CHART"}(T||(T={}))})),t.register("cPgEa",(function(r,n){e(r.exports,"getStrides",(function(){return x})),e(r.exports,"strideToPackingFactor",(function(){return w})),e(r.exports,"allocateTypedArrayBuffer",(function(){return F})),e(r.exports,"allocateTypedArrayBufferwithData",(function(){return B})),e(r.exports,"isDefined",(function(){return V})),e(r.exports,"isNumber",(function(){return b})),e(r.exports,"getCapType",(function(){return W})),e(r.exports,"getJoinType",(function(){return v})),e(r.exports,"getVVType",(function(){return H})),e(r.exports,"copyMeshData",(function(){return Y})),e(r.exports,"C_VBO_INFO",(function(){return z})),e(r.exports,"createGeometryData",(function(){return k})),e(r.exports,"getPixelBytes",(function(){return Z})),e(r.exports,"getPixelArrayCtor",(function(){return $})),e(r.exports,"createProgramDescriptor",(function(){return j})),e(r.exports,"forEachGeometryType",(function(){return Q})),e(r.exports,"isSVGResource",(function(){return ee})),e(r.exports,"isImageResource",(function(){return te})),e(r.exports,"getUrl",(function(){return re})),e(r.exports,"isGIF",(function(){return oe})),e(r.exports,"isPNG",(function(){return se})),e(r.exports,"is3D",(function(){return ae})),e(r.exports,"isSimple",(function(){return ue})),e(r.exports,"isSVGImage",(function(){return ce})),e(r.exports,"shouldRepeat",(function(){return Te})),e(r.exports,"isMarkerPlacementInsidePolygon",(function(){return ye})),e(r.exports,"getPMSResourceSize",(function(){return le})),e(r.exports,"charCodes",(function(){return pe}));var o=t("bPmsI"),i=t("6TszD"),s=(t("8TN87"),t("jCR4P"),t("k7j48")),a=(t("9IkRH"),t("eyQUy")),u=(t("8xcnI"),t("l3QXd")),c=(t("2HKUi"),t("hSAA2"));const T=i.default.getLogger("esri.views.2d.engine.webgl.Utils"),l="geometry",p=[{name:l,strideInBytes:12}],f=[{name:l,strideInBytes:36}],y=[{name:l,strideInBytes:24}],E=[{name:l,strideInBytes:12}],L=[{name:l,strideInBytes:40}],I=[{name:l,strideInBytes:36}],S=[{name:l,strideInBytes:36}];function A(e){const t={};for(const r of e)t[r.name]=r.strideInBytes;return t}const h=A([{name:l,strideInBytes:36}]),d=A(p),m=A(f),_=A(y),g=A(E),G=A(L),N=A(I),O=A(S);function x(e,t){switch(e){case a.WGLGeometryType.MARKER:return t===a.WGLSymbologyType.HEATMAP?d:h;case a.WGLGeometryType.FILL:switch(t){case a.WGLSymbologyType.DOT_DENSITY:return g;case a.WGLSymbologyType.SIMPLE:case a.WGLSymbologyType.OUTLINE_FILL_SIMPLE:return _;default:return m}case a.WGLGeometryType.LINE:return G;case a.WGLGeometryType.TEXT:return N;case a.WGLGeometryType.LABEL:return O}}const D=[l],P=[l],U=[l],R=[l],C=[l];function M(e){switch(e){case a.WGLGeometryType.MARKER:return D;case a.WGLGeometryType.FILL:return P;case a.WGLGeometryType.LINE:return U;case a.WGLGeometryType.TEXT:return R;case a.WGLGeometryType.LABEL:return C}}function w(e){switch(e%4){case 0:case 2:return 4;case 1:case 3:return 1}}function F(e,t){switch(t%4){case 0:case 2:return new Uint32Array(Math.floor(e*t/4));case 1:case 3:return new Uint8Array(e*t)}}function B(e,t){switch(t%4){case 0:case 2:return new Uint32Array(e);case 1:case 3:return new Uint8Array(e)}}function V(e){return null!=e}function b(e){return"number"==typeof e}function W(e){switch(e){case"butt":return s.CapType.BUTT;case"round":return s.CapType.ROUND;case"square":return s.CapType.SQUARE;default:return T.error(new(0,o.default)("mapview-invalid-type",`Cap type ${e} is not a valid option. Defaulting to round`)),s.CapType.ROUND}}function v(e){switch(e){case"miter":return s.JoinType.MITER;case"bevel":return s.JoinType.BEVEL;case"round":return s.JoinType.ROUND;default:return T.error(new(0,o.default)("mapview-invalid-type",`Join type ${e} is not a valid option. Defaulting to round`)),s.JoinType.ROUND}}function H(e){switch(e){case"opacity":return a.VVType.OPACITY;case"color":return a.VVType.COLOR;case"rotation":return a.VVType.ROTATION;case"size":return a.VVType.SIZE;default:return T.error(`Cannot interpret unknown vv: ${e}`),null}}function Y(e,t,r,n,o,i,s){for(const t in i){const n=i[t].stride,s=w(n),a=i[t].data,u=r[t].data,c=n*o.vertexCount/s,T=n*e/s,l=n*o.vertexFrom/s;for(let e=0;e<c;++e)u[e+T]=a[e+l]}const a=o.indexCount;for(let r=0;r<a;++r)n[r+t]=s[r+o.indexFrom]-o.vertexFrom+e}const z={[l]:u.Usage.STATIC_DRAW};function k(e,t){const r=[];for(let n=0;n<5;++n){const o=M(n),i={};for(const e of o)i[e]={data:t(n,e)};r.push({data:e(n),buffers:i})}return r}function X(e){switch(e){case u.DataType.BYTE:case u.DataType.UNSIGNED_BYTE:return 1;case u.DataType.SHORT:case u.DataType.UNSIGNED_SHORT:return 2;case u.DataType.FLOAT:case u.DataType.INT:case u.DataType.UNSIGNED_INT:return 4}}function Z(e){switch(e){case u.PixelType.UNSIGNED_BYTE:return 1;case u.PixelType.UNSIGNED_SHORT_4_4_4_4:return 2;case u.PixelType.FLOAT:return 4;default:return void T.error(new(0,o.default)("webgl-utils",`Unable to handle type ${e}`))}}function $(e){switch(e){case u.PixelType.UNSIGNED_BYTE:return Uint8Array;case u.PixelType.UNSIGNED_SHORT_4_4_4_4:return Uint16Array;case u.PixelType.FLOAT:return Float32Array;default:return void T.error(new(0,o.default)("webgl-utils",`Unable to handle type ${e}`))}}const J=e=>{const t=new Map;for(const r in e)for(const n of e[r])t.set(n.name,n.location);return t},K=e=>{const t={};for(const r in e){const n=e[r];t[r]=n.length?n[0].stride:0}return t},q=new Map,j=(e,t)=>{if(!q.has(e)){const r=function(e){const t={};for(const r in e){const n=e[r];let o=0;t[r]=n.map((e=>{const t=new(0,c.VertexElementDescriptor)(e.name,e.count,e.type,o,0,e.normalized||!1);return o+=e.count*X(e.type),t})),t[r].forEach((e=>e.stride=o))}return t}(t),n={strides:K(r),bufferLayouts:r,attributes:J(t)};q.set(e,n)}return q.get(e)};function Q(e){e(a.WGLGeometryType.FILL),e(a.WGLGeometryType.LINE),e(a.WGLGeometryType.MARKER),e(a.WGLGeometryType.TEXT),e(a.WGLGeometryType.LABEL)}const ee=e=>"path"in e&&fe(e.path),te=e=>"url"in e&&e.url||"imageData"in e&&e.imageData,re=e=>"imageData"in e&&e.imageData&&"contentType"in e&&e.contentType?`data:${e.contentType};base64,${e.imageData}`:"url"in e?e.url:null,ne=e=>e.startsWith("data:image/gif"),oe=e=>"url"in e&&e.url&&(e.url.includes(".gif")||ne(e.url))||"contentType"in e&&"image/gif"===e.contentType||"imageData"in e&&ne(e.imageData),ie=e=>e.startsWith("data:image/png"),se=e=>"url"in e&&e.url&&(e.url.includes(".png")||ie(e.url))||"contentType"in e&&"image/png"===e.contentType||"imageData"in e&&ie(e.imageData),ae=e=>e.type&&e.type.toLowerCase().includes("3d");function ue(e){switch(e.type){case"line":{const t=e;return"CIMSolidStroke"===t.cim.type&&!t.dashTemplate}case"fill":return"CIMSolidFill"===e.cim.type;case"esriSFS":return"esriSFSSolid"===e.style||"esriSFSNull"===e.style;case"esriSLS":return"esriSLSSolid"===e.style||"esriSLSNull"===e.style;default:return!1}}const ce=e=>e.includes("data:image/svg+xml");function Te(e){switch("cim"in e?e.cim.type:e.type){case"esriSMS":case"esriPMS":case"CIMPointSymbol":return!1;case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":return ye(e);default:return!0}}function le(e){const t="maxVVSize"in e&&e.maxVVSize,r="width"in e&&e.width||"size"in e&&e.size||0;return t||r}function pe(e){const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return t}const fe=e=>!!e&&(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4)),ye=e=>"fill"===e.type&&"CIMMarkerPlacementInsidePolygon"===e?.cim?.markerPlacement?.type})),t.register("9IkRH",(function(r,n){e(r.exports,"premultiplyAlpha",(function(){return a})),e(r.exports,"copyAndPremultiply",(function(){return u})),e(r.exports,"premultiplyAlphaRGBA",(function(){return c})),e(r.exports,"premultiplyAlphaRGBAArray",(function(){return T})),e(r.exports,"writeColor",(function(){return l}));var o=t("1CpCt"),i=t("3mbeV");function s(e,t){return Array.isArray(t)?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]):(e[0]=t.r,e[1]=t.g,e[2]=t.b,e[3]=t.a),e}function a(e,t=0,r=!1){const n=e[t+3];return e[t+0]*=n,e[t+1]*=n,e[t+2]*=n,r||(e[t+3]*=255),e}function u(e){return a(s([],e))}function c(e){if(!e)return 0;const{r:t,g:r,b:n,a:o}=e;return(0,i.i8888to32)(t*o,r*o,n*o,255*o)}function T(e){if(!e)return 0;const[t,r,n,o]=e;return(0,i.i8888to32)(t*(o/255),r*(o/255),n*(o/255),o)}function l(e,t,r=0){if((0,o.isNone)(t))return e[r+0]=0,e[r+1]=0,e[r+2]=0,void(e[r+3]=0);const{r:n,g:i,b:s,a:a}=t;e[r+0]=n*a/255,e[r+1]=i*a/255,e[r+2]=s*a/255,e[r+3]=a}})),t.register("8xcnI",(function(r,n){e(r.exports,"TextProperties",(function(){return i}));var o=t("kVwIj");class i{acquire(e,t,r,n,o,i,s,a,u){this.color=e,this.haloColor=t,this.haloSize=r,this.size=n,this.angle=o,this.offsetX=i,this.offsetY=s,this.hAnchor=a,this.vAnchor=u}release(){this.color[0]=this.color[1]=this.color[2]=this.color[3]=0,this.haloColor[0]=this.haloColor[1]=this.haloColor[2]=this.haloColor[3]=0,this.haloSize=0,this.size=0,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}constructor(){this.color=[0,0,0,0],this.haloColor=[0,0,0,0],this.haloSize=0,this.size=12,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}}i.pool=new(0,o.default)(i)}));
//# sourceMappingURL=Pipeline.2f97f2aa.js.map
