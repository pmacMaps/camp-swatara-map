{"mappings":"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","sources":["node_modules/@arcgis/core/portal/support/resourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{join as r,getPathExtension as a}from\"../../core/urlUtils.js\";async function s(e,t={},a){await e.load(a);const s=r(e.itemUrl,\"resources\"),{start:o=1,num:n=10,sortOrder:u=\"asc\",sortField:l=\"created\"}=t,c={query:{start:o,num:n,sortOrder:u,sortField:l,token:e.apiKey},signal:a?.signal},i=await e.portal.request(s,c);return{total:i.total,nextStart:i.nextStart,resources:i.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function o(e,a,s,o){if(!e.hasPath())throw new t(`portal-item-resource-${a}:invalid-path`,\"Resource does not have a valid path\");const n=e.portalItem;await n.load(o);const u=r(n.userItemUrl,\"add\"===a?\"addResources\":\"updateResources\"),[c,i]=l(e.path),d=await p(s),m=new FormData;return c&&\".\"!==c&&m.append(\"resourcesPrefix\",c),null!=o&&o.compress&&m.append(\"compress\",\"true\"),m.append(\"fileName\",i),m.append(\"file\",d,i),m.append(\"f\",\"json\"),null!=o&&o.access&&m.append(\"access\",o.access),await n.portal.request(u,{method:\"post\",body:m,signal:o?.signal}),e}async function n(e,a,s){if(!a.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(s);const o=r(e.userItemUrl,\"removeResources\");await e.portal.request(o,{method:\"post\",query:{resource:a.path},signal:s?.signal}),a.portalItem=null}async function u(e,t){await e.load(t);const a=r(e.userItemUrl,\"removeResources\");return e.portal.request(a,{method:\"post\",query:{deleteAll:!0},signal:t?.signal})}function l(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function c(e){const[t,r]=i(e),[a,s]=l(t);return[a,s,r]}function i(e){const t=a(e);return null==t?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if(t instanceof Blob)return t;return(await e(t.url,{responseType:\"blob\"})).data}function d(e,t){if(!e.hasPath())return null;const[a,,s]=c(e.path);return e.portalItem.resourceFromPath(r(a,t+s))}function m(e,t){if(!e.hasPath())return null;const[a,,s]=c(e.path);return e.portalItem.resourceFromPath(r(a,t+s))}export{o as addOrUpdateResource,p as contentToBlob,s as fetchResources,d as getSiblingOfSameType,m as getSiblingOfSameTypeI,u as removeAllResources,n as removeResource,c as splitPrefixFileNameAndExtension};\n"],"names":["$9pNSx","parcelRequire","async","$03aadd1fe0b199cf$export$5339cb72317205a3","e","t","a","load","s","$kYueh","join","itemUrl","start","o","num","n","sortOrder","u","sortField","l","c","query","token","apiKey","signal","i","portal","request","total","nextStart","resources","map","created","size","r","resource","Date","resourceFromPath","$03aadd1fe0b199cf$export$553000e136fea8b9","hasPath","$kyj08","default","portalItem","userItemUrl","$03aadd1fe0b199cf$var$l","path","d","Blob","url","responseType","data","$03aadd1fe0b199cf$export$4d4eb7d90ed4fb81","m","FormData","append","compress","access","method","body","$03aadd1fe0b199cf$export$c823747c8d5b8150","$03aadd1fe0b199cf$export$6699f5554bf4b9b3","deleteAll","lastIndexOf","slice","$03aadd1fe0b199cf$export$410d94f4c3e23371","getPathExtension","length","$03aadd1fe0b199cf$var$i","$03aadd1fe0b199cf$export$aacc8c5ded2c12c1"],"version":3,"file":"resourceUtils.f82023d5.js.map"}