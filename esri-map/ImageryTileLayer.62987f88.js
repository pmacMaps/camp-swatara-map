!function(){function e(e){return e&&e.__esModule?e.default:e}function r(e,r,n,t){Object.defineProperty(e,r,{get:n,set:t,enumerable:!0,configurable:!0})}var n=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;n.register("jxAFe",(function(t,i){r(t.exports,"requirePE",(function(){return m})),r(t.exports,"load",(function(){return S})),r(t.exports,"getDefaultDatumTransformationForDataset",(function(){return w})),r(t.exports,"projectResolution",(function(){return P})),r(t.exports,"getWorldWidth",(function(){return A})),r(t.exports,"projectPoint",(function(){return T})),r(t.exports,"projectExtent",(function(){return _})),r(t.exports,"getWorldWrapCount",(function(){return F})),r(t.exports,"getRasterDatasetAlignmentInfo",(function(){return I})),r(t.exports,"getProjectionOffsetGrid",(function(){return L})),r(t.exports,"snapExtent",(function(){return B})),r(t.exports,"snapPyramid",(function(){return U})),r(t.exports,"computeProjectedScales",(function(){return D}));var a=n("8TSCy"),o=n("2TvXO");n("2ILM8");var s=n("kyj08"),f=n("7qybv"),u=n("5vzSQ"),l=n("eIIVb"),c=n("7RvA5"),x=n("gINRd"),p=n("d1Fqh"),h=n("j40xv");function m(e,r,n){return!(0,c.canProjectWithoutEngine)(e,r,n)}function v(e,r,n){var t=m(e,r,n);if(t&&!(0,c.isLoaded)())throw new(0,s.default)("rasterprojectionhelper-project","projection engine is not loaded");return t}var d=function(e,r,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(1===n[0])return[0,0];for(var i=1,a=-1,o=1,s=-1,f=0;f<e.length;f+=2)isNaN(e[f])||(i=i>e[f]?e[f]:i,a=a>e[f]?a:e[f],o=o>e[f+1]?e[f+1]:o,s=s>e[f+1]?s:e[f+1]);for(var u=r.cols,l=r.rows,c=(a-i)/u/n[0],x=(s-o)/l/n[1],p=2*t,h=0,m=!1,v=[0,0],d=0;d<u-3;d++){for(var g=0;g<l-3;g++){var y=d*l*2+2*g,M=(e[y]+e[y+4]+e[y+4*l]+e[y+4*l+4])/4,S=(e[y+1]+e[y+5]+e[y+4*l+1]+e[y+4*l+5])/4,R=Math.abs((M-e[y+2*l+2])/c),w=Math.abs((S-e[y+2*l+3])/x);if(R+w>h&&(h=R+w,v=[R,w]),p&&h>p){m=!0;break}}if(m)break}return v},g={3395:20037508.342789244,3410:17334193.943686873,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53034:20015086.79602057,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54034:20037508.342789244,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244},y=new Map,M=new Map;function S(){return R.apply(this,arguments)}function R(){return(R=a.asyncToGenerator(e(o).mark((function r(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,c.isLoaded)()){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,(0,c.load)();case 4:case"end":return e.stop()}}),r)})))).apply(this,arguments)}function w(e,r,n){return v(e.spatialReference,r)?n?(0,c.getTransformation)(r,e.spatialReference,e):(0,c.getTransformation)(e.spatialReference,r,e):null}function P(e,r,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e.spatialReference;if(i.equals(r))return e;v(i,r,t);var a=n.center,o=new(0,x.default)({xmin:a.x-e.x/2,xmax:a.x+e.x/2,ymin:a.y-e.y/2,ymax:a.y+e.y/2,spatialReference:i}),s=(0,c.project)(o,r,t);if((0,f.isNone)(s))return null;var l={x:s.xmax-s.xmin,y:s.ymax-s.ymin},p=A(r);if((0,f.isSome)(p)&&l.x>=p){var h=(0,u.getMetersPerUnitForSR)(i)/(0,u.getMetersPerUnitForSR)(r);l.x=e.x*h,l.y=e.y*h}return l}function b(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01;return(0,u.getMetersPerUnitForSR)(e)?r/(0,u.getMetersPerUnitForSR)(e):0}function T(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=e.spatialReference;if(i.equals(r))return e;v(i,r,n);var a=(0,c.project)(e,r,n);if(!t||!a)return a;var o=z(i,!0),s=z(r,!0),u=b(i);return u&&(0,f.isSome)(o)&&(0,f.isSome)(s)&&(a.x>0&&Math.abs(e.x-o[0])<u?a.x-=s[1]-s[0]:a.x<0&&Math.abs(e.x-o[1])<u&&(a.x+=s[1]-s[0])),a}function E(e){var r,n,t=e.inSR,i=e.outSR,a=e.datumTransformation,o=e.preferPE;if(t.equals(i))return j(e,null).points;if(t.isWebMercator&&i.isWGS84||t.isWGS84&&i.isWebMercator)return function(e){var r=e.cols,n=e.rows,t=e.xres,i=e.yres,a=e.usePixelCenter,o=e.inSR,s=e.outSR,f=e.xmin,u=e.ymax;a&&(f+=t/2,u-=i/2);for(var l=[],x=[],h=Math.max(r,n),m=0;m<h;m++){var v=f+t*Math.min(r,m),d=u-i*Math.min(n,m),g=(0,c.project)(new(0,p.default)({x:v,y:d,spatialReference:o}),s);m<=r&&l.push(g.x),m<=n&&x.push(g.y)}for(var y=[],M=0;M<r;M++)for(var S=0;S<n;S++)y.push([l[M],x[S]]);return y}(e);if(v(t,i,a)&&o){if(t.isGeographic)return G(e);var s=N(t);if((0,f.isSome)(s))return G(e)}return n=j(r=e,null).points.map((function(e){return new(0,p.default)(e[0],e[1],r.inSR)})),(0,c.project)(n,r.outSR,r.datumTransformation).map((function(e){return e?[e.x,e.y]:[NaN,NaN]}))}function G(e){var r=e.inSR,n=e.outSR,t=e.datumTransformation,i=j(e,N(r)),o=i.points,s=i.mask;if(!r.isGeographic){var u=r.wkid?l.e.coordsys(r.wkid):l.e.fromString(r.isGeographic?l.f.PE_TYPE_GEOGCS:l.f.PE_TYPE_PROJCS,r.wkt);l.g.projToGeog(u,o.length,o)}if((0,f.isSome)(t)&&t.steps.length&&t.steps.forEach((function(e){var r=e.wkid?l.e.geogtran(e.wkid):l.e.fromString(l.f.PE_TYPE_GEOGTRAN,e.wkt);l.h.geogToGeog(r,o.length,o,null,e.isInverse?l.f.PE_TRANSFORM_2_TO_1:l.f.PE_TRANSFORM_1_TO_2)})),!n.isGeographic){var c=N(n,!0),x=(0,f.isSome)(c)&&c.isEnvelope?[c.bbox[1],c.bbox[3]]:[-90,90];!function(e,r){for(var n=a.slicedToArray(r,2),t=n[0],i=n[1],o=0;o<e.length;o++){var s=e[o][1];(s<t||s>i)&&(e[o]=[NaN,NaN])}}(o,x);var p=n.wkid?l.e.coordsys(n.wkid):l.e.fromString(n.isGeographic?l.f.PE_TYPE_GEOGCS:l.f.PE_TYPE_PROJCS,n.wkt);l.g.geogToProj(p,o.length,o)}var h=o;if(s&&o.length!==s.length){h=[];for(var m=0,v=0;m<s.length;m++)s[m]?h.push(o[v++]):h.push([NaN,NaN])}return h}function N(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.wkid||e.wkt;if(!n||e.isGeographic)return null;if(n=String(n),y.has(n)){var t=y.get(n);return r?null==t?void 0:t.gcs:null==t?void 0:t.pcs}var i=e.wkid?l.e.coordsys(e.wkid):l.e.fromString(e.isGeographic?l.f.PE_TYPE_GEOGCS:l.f.PE_TYPE_PROJCS,e.wkt),a=k(i,b(e,1e-4)),o=k(i,0,!0);return y.set(n,{pcs:a,gcs:o}),r?o:a}function k(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=l.j.generate(e),i=n?e.horizonGcsGenerate():e.horizonPcsGenerate();if(null==i||!i.length)return null;var o=!1,s=i.find((function(e){return 1===e.getInclusive()&&1===e.getKind()}));if(!s){if(!(s=i.find((function(e){return 1===e.getInclusive()&&0===e.getKind()}))))return null;o=!0}var f=t.isPannableRectangle(),u=s.getCoord();if(o)return{isEnvelope:o,isPannable:f,vertices:u,coef:null,bbox:[u[0][0]-r,u[0][1]-r,u[1][0]+r,u[1][1]+r]};for(var c=0,x=[],p=a.slicedToArray(u[0],2),h=p[0],m=p[1],v=a.slicedToArray(u[0],2),d=v[0],g=v[1],y=0,M=u.length;y<M;y++){++c===M&&(c=0);var S=a.slicedToArray(u[y],2),R=S[0],w=S[1],P=a.slicedToArray(u[c],2),b=P[0],T=P[1];if(T===w)x.push([R,b,w,T,2]);else{var E=(b-R)/(T-w||1e-4),G=R-E*w;w<T?x.push([E,G,w,T,0]):x.push([E,G,T,w,1])}h=h<R?h:R,m=m<w?m:w,d=d>R?d:R,g=g>w?g:w}return{isEnvelope:!1,isPannable:f,vertices:u,coef:x,bbox:[h,m,d,g]}}function j(e,r){var n=function(e){for(var r=x-u*e,n=[],t=[],i=0;i<E.length;i++){var o=a.slicedToArray(E[i],5),s=o[0],f=o[1],l=o[2],c=o[3],p=o[4];if(r===l&&l===c)n.push(s),n.push(f),t.push(2),t.push(2);else if(r>=l&&r<=c){var h=s*r+f;n.push(h),t.push(p)}}var m=n;if(n.length>2){var v=2===t[0]?0:t[0],d=n[0];m=[];for(var g=1;g<t.length;g++)2===t[g]&&g!==t.length-1||(t[g]!==v&&(m.push(0===v?Math.min(d,n[g-1]):Math.max(d,n[g-1])),v=t[g],d=n[g]),g===t.length-1&&m.push(0===t[g]?Math.min(d,n[g]):Math.max(d,n[g])));m.sort((function(e,r){return e-r}))}else n[0]>n[1]&&(m=[n[1],n[0]]);G.push(m)},t=[],i=e.cols,o=e.rows,s=e.xres,u=e.yres,l=e.usePixelCenter,c=e.xmin,x=e.ymax;if(l&&(c+=s/2,x-=u/2),!(0,f.isSome)(r)){for(var p=0;p<i;p++)for(var h=0;h<o;h++)t.push([c+s*p,x-u*h]);return{points:t}}var m=new Uint8Array(i*o);if(r.isEnvelope){for(var v=a.slicedToArray(r.bbox,4),d=v[0],g=v[1],y=v[2],M=v[3],S=0,R=0;S<i;S++)for(var w=c+s*S,P=r.isPannable||w>=d&&w<=y,b=0;b<o;b++,R++){var T=x-u*b;P&&T>=g&&T<=M&&(t.push([w,T]),m[R]=1)}return{points:t,mask:m}}for(var E=r.coef,G=[],N=0;N<o;N++)n(N);for(var k=0,j=0;k<i;k++)for(var C=c+s*k,_=0;_<o;_++,j++){var W=x-u*_,A=G[_];if(2===A.length)C>=A[0]&&C<=A[1]&&(t.push([C,W]),m[j]=1);else if(A.length>2){for(var z=!1,O=0;O<A.length;O+=2)if(C>=A[O]&&C<=A[O+1]){z=!0;break}z&&(t.push([C,W]),m[j]=1)}}return{points:t,mask:m}}function C(e){var r=A(e[0].spatialReference);if(e.length<2||!(0,f.isSome)(r))return e[0];for(var n=e[0],t=n.xmin,i=n.xmax,a=n.ymin,o=n.ymax,s=1;s<e.length;s++){var u=e[s];i=u.xmax+r*s,a=Math.min(a,u.ymin),o=Math.max(o,u.ymax)}return new(0,x.default)({xmin:t,xmax:i,ymin:a,ymax:o,spatialReference:e[0].spatialReference})}function _(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.spatialReference.equals(r))return e;var i=F(e),a=A(e.spatialReference,!0),o=A(r);if(0===i||(0,f.isNone)(a)||(0,f.isNone)(o))return W(e,r,n,t);var s=e.clone().normalize();if(1===s.length&&e.xmax<a&&e.xmax-a/2>b(e.spatialReference))for(var u=e.xmin,l=e.xmax,c=0;c<=i;c++){var p=0===c?u:-a/2,h=c===i?l-a*c:a/2;s[c]=new(0,x.default)({xmin:p,xmax:h,ymin:e.ymin,ymax:e.ymax,spatialReference:e.spatialReference})}return C(s.map((function(e){return W(e,r,n,t)})).filter((function(e){return!!e})))}function W(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=e.spatialReference;if(a.equals(r))return e;v(a,r,n);var o=(0,c.project)(e,r,n);if(i&&r.isWebMercator&&o&&(o.ymax=Math.min(20037508.342787,o.ymax),o.ymin=Math.max(-20037508.342787,o.ymin),o.ymin>=o.ymax))return null;if(!t||!o)return o;var s=z(a,!0),u=z(r,!0);if((0,f.isNone)(s)||(0,f.isNone)(u))return o;var l=b(a,.001),x=b(a,500),h=b(r,.001);if(Math.abs(o.xmin-u[0])<h&&Math.abs(o.xmax-u[1])<h){var m=Math.abs(e.xmin-s[0]),d=Math.abs(s[1]-e.xmax);if(m<l&&d>x){o.xmin=u[0];var g=[];g.push(new(0,p.default)(e.xmax,e.ymin,a)),g.push(new(0,p.default)(e.xmax,(e.ymin+e.ymax)/2,a)),g.push(new(0,p.default)(e.xmax,e.ymax,a));var y=g.map((function(e){return T(e,r,n)})).filter((function(e){return!isNaN(null==e?void 0:e.x)})).map((function(e){return e.x}));o.xmax=Math.max.apply(null,y)}if(d<l&&m>x){o.xmax=u[1];var M=[];M.push(new(0,p.default)(e.xmin,e.ymin,a)),M.push(new(0,p.default)(e.xmin,(e.ymin+e.ymax)/2,a)),M.push(new(0,p.default)(e.xmin,e.ymax,a));var S=M.map((function(e){return T(e,r,n)})).filter((function(e){return!isNaN(null==e?void 0:e.x)})).map((function(e){return e.x}));o.xmin=Math.min.apply(null,S)}}else{var R=b(r,.001);Math.abs(o.xmin-u[0])<R&&(o.xmin=u[0]),Math.abs(o.xmax-u[1])<R&&(o.xmax=u[1])}return o}function A(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r?20037508.342787:20037508.342788905;return e.isWebMercator?2*n:e.wkid&&e.isGeographic?360:2*g[e.wkid]||null}function z(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.isGeographic)return[-180,180];var n=A(e,r);return(0,f.isSome)(n)?[-n/2,n/2]:null}function O(e,r,n,t){var i=(e-r)/n;return i-Math.floor(i)!=0?i=Math.floor(i):t&&(i-=1),i}function F(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=A(e.spatialReference);if(!(0,f.isSome)(n))return 0;var t=r?0:-n/2,i=b(e.spatialReference),a=!r&&Math.abs(e.xmax-n/2)<i?n/2:e.xmax,o=!r&&Math.abs(e.xmin+n/2)<i?-n/2:e.xmin;return O(a,t,n,!0)-O(o,t,n,!1)}function I(e){var r=e.storageInfo.origin.x,n=A(e.spatialReference,!0);if(!(0,f.isSome)(n))return{originX:r,halfWorldWidth:null,pyramidsInfo:null};for(var t=n/2,i=e.nativePixelSize,a=e.storageInfo,o=e.extent,s=a.maximumPyramidLevel,u=a.blockWidth,l=a.pyramidScalingFactor,c=i.x,x=[],p=(0,f.isSome)(e.transform)&&"gcs-shift"===e.transform.type,h=r+(p?0:t),m=p?n-r:t-r,v=0;v<=s;v++){var d=(o.xmax-r)/c/u,g=d-Math.floor(d)==0?d:Math.ceil(d),y=m/c/u,M=y-Math.floor(y)==0?y:Math.ceil(y),S=Math.floor(h/c/u),R=Math.round(h/c)%u,w=(u-Math.round(m/c)%u)%u;x.push({resolutionX:c,blockWidth:u,datsetColumnCount:g,worldColumnCountFromOrigin:M,leftMargin:R,rightPadding:w,originColumnOffset:S}),c*=l}return{originX:r,halfWorldWidth:t,pyramidsInfo:x,hasGCSSShiftTransform:p}}function L(e){var r=e.isAdaptive&&null==e.spacing,n=e.spacing||[32,32],t=q(e),i={cols:t.size[0]+1,rows:t.size[1]+1},o=t.outofBoundPointCount>0&&t.outofBoundPointCount<t.offsets.length/2,s=t.outofBoundPointCount===t.offsets.length/2||r&&o?[0,0]:d(t.offsets,i,n,4),u=(s[0]+s[1])/2,c=e.projectedExtent.spatialReference,x=e.srcBufferExtent.spatialReference;if(r&&(o||u>4)&&(m(c,x,e.datumTransformation)&&(c.isGeographic||(0,f.isSome)(N(c))),n=[4,4],i={cols:(t=q(a.objectSpread({},e,{spacing:n}))).size[0]+1,rows:t.size[1]+1},s=d(t.offsets,i,n,4)),t.error=s,n[0]>1&&(t.coefficients=Y(t.offsets,i,o)),e.includeGCSGrid&&!c.isGeographic&&!c.isWebMercator)if(x.isGeographic)t.gcsGrid={offsets:t.offsets,coefficients:t.coefficients,spacing:n};else{var p=N(c);if((0,f.isSome)(p)&&!p.isEnvelope){var v=function(e){if(!e||e.isGeographic)return e;var r,n=String(e.wkid||e.wkt);return M.has(n)?r=M.get(n):(r=(e.wkid?l.e.coordsys(e.wkid):l.e.fromString(l.f.PE_TYPE_PROJCS,e.wkt)).getGeogcs().getCode(),M.set(n,r)),new(0,h.default)({wkid:r})}(c),g=_(e.projectedExtent,v),y=q(a.objectSpread({},e,{srcBufferExtent:g,spacing:n})).offsets,S=Y(y,i,o);t.gcsGrid={offsets:y,coefficients:S,spacing:n}}}return t}function q(e){var r=e.projectedExtent,n=e.srcBufferExtent,t=e.pixelSize,i=e.datumTransformation,a=e.rasterTransform,o=r.spatialReference,s=n.spatialReference;v(o,s);for(var u,l=r.xmin,c=r.ymin,x=r.xmax,h=r.ymax,m=A(s),d=(0,f.isSome)(m)&&(e.hasWrapAround||"gcs-shift"===(null==a?void 0:a.type)),g=e.spacing||[32,32],y=g[0]*t.x,M=g[1]*t.y,S=1===g[0],R=Math.ceil((x-l)/y-.1/g[0])+(S?0:1),w=Math.ceil((h-c)/M-.1/g[1])+(S?0:1),P=E({cols:R,rows:w,xmin:l,ymax:h,xres:y,yres:M,inSR:o,outSR:s,datumTransformation:i,preferPE:g[0]<=4,usePixelCenter:S}),T=[],G=0,N=S?-1:NaN,k=n.xmin,j=n.xmax,C=n.ymax,_=n.width,W=n.height,z=b(s,500),O=0;O<R;O++){for(var F=[],I=0;I<w;I++){var L=P[O*w+I];if(d&&L[0]>j&&L[0]>m/2-z&&(L[0]-=m),!L||isNaN(L[0])||isNaN(L[1]))T.push(N),T.push(N),F.push(null),G++;else{if(a){var q=a.inverseTransform(new(0,p.default)({x:L[0],y:L[1],spatialReference:s}));L=[q.x,q.y]}F.push(L),O>0&&d&&u[I]&&L[0]<u[I][0]&&(L[0]+=m),T.push((L[0]-k)/_),T.push((C-L[1])/W)}}u=F}return{offsets:T,error:null,coefficients:null,outofBoundPointCount:G,spacing:g,size:S?[R,w]:[R-1,w-1]}}function Y(e,r,n){for(var t=r.cols,i=r.rows,a=new Float32Array((t-1)*(i-1)*12),o=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),s=new Float32Array([-1,1,0,0,-1,1,1,0,0]),f=0;f<t-1;f++){for(var u=0;u<i-1;u++){for(var l=f*i*2+2*u,c=e[l],x=e[l+1],p=e[l+2],h=e[l+3],m=e[l+=2*i],v=e[l+1],d=e[l+2],g=e[l+3],y=0,M=12*(u*(t-1)+f),S=0;S<3;S++)a[M++]=o[y++]*c+o[y++]*p+o[y++]*d;y=0;for(var R=0;R<3;R++)a[M++]=o[y++]*x+o[y++]*h+o[y++]*g;y=0;for(var w=0;w<3;w++)a[M++]=s[y++]*c+s[y++]*m+s[y++]*d;y=0;for(var P=0;P<3;P++)a[M++]=s[y++]*x+s[y++]*v+s[y++]*g}if(n)for(var b=0;b<a.length;b++)isNaN(a[b])&&(a[b]=-1)}return a}function B(e){var r=e.clone().normalize();return 1===r.length?r[0]:C(r)}function U(e,r,n){var t,i=r.storageInfo,a=r.pixelSize,o=!1,s=i.pyramidResolutions;if((0,f.isSome)(s)&&s.length){var u=(e.x+e.y)/2,l=s[s.length-1],c=(l.x+l.y)/2,x=(a.x+a.y)/2;if(u<=x)t=0;else if(u>=c)t=s.length,o=u/c>8;else for(var h,m=x,v=1;v<=s.length;v++){if(u<=(h=(s[v-1].x+s[v-1].y)/2)){u===h?t=v:"down"===n?(t=v-1,o=u/m>8):t="up"===n||u-m>h-u||u/m>2?v:v-1;break}m=h}var d=0===t?a:s[t-1];return{pyramidLevel:t,pyramidResolution:new(0,p.default)({x:d.x,y:d.y,spatialReference:r.spatialReference}),excessiveReading:o}}var g=Math.log(e.x/a.x)/Math.LN2,y=Math.log(e.y/a.y)/Math.LN2,M=r.storageInfo.maximumPyramidLevel||0;(t="down"===n?Math.floor(Math.min(g,y)):"up"===n?Math.ceil(Math.max(g,y)):Math.round((g+y)/2))<0?t=0:t>M&&(o=t>M+3,t=M);var S=Math.pow(2,t);return{pyramidLevel:t,pyramidResolution:new(0,p.default)({x:S*r.nativePixelSize.x,y:S*r.nativePixelSize.y,spatialReference:r.spatialReference}),excessiveReading:o}}function D(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=e.extent,a=e.spatialReference,o=e.pixelSize,s=P(new(0,p.default)({x:o.x,y:o.y,spatialReference:a}),r,i);if(null==s)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};var f=(s.x+s.y)/2,l=(0,u.getMetersPerUnitForSR)(r),c=f*l*96*39.37,x=r.isGeographic?256/n*295828763.7958547:256/n*591657527.591555,h="vector-magdir"===e.dataType||"vector-uv"===e.dataType,m=_(i,r);h||t&&(r.isGeographic||r.isWebMercator)&&(h=m.xmin*m.xmax<0);var v,d=c,g=1.001;if(h){d=x;var y=r.isGeographic?1341104507446289e-21:.29858214164761665,M=y*(96*l*39.37),S=r.isGeographic?4326:3857;(v=P(new(0,p.default)({x:y,y:y,spatialReference:{wkid:S}}),a,m)).x*=d/M,v.y*=d/M}else{v={x:o.x,y:o.y};for(var R=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2),w=0;d<x*(g/2)&&w<R;)w++,d*=2,v.x*=2,v.y*=2;Math.max(d,x)/Math.min(d,x)<=g&&(d=x)}for(var b=[d],T=[{x:v.x,y:v.y}],E=70.5310735,G=Math.min(E,c)/g;d>=G;)d/=2,v.x/=2,v.y/=2,b.push(d),T.push({x:v.x,y:v.y});return{projectedPixelSize:s,scales:b,srcResolutions:T,isCustomTilingScheme:!h}}}))}();
//# sourceMappingURL=ImageryTileLayer.62987f88.js.map
