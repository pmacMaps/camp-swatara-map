{"mappings":"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","sources":["node_modules/@arcgis/core/rest/query/operations/queryAttachments.js","node_modules/@arcgis/core/rest/query/support/AttachmentInfo.js","node_modules/@arcgis/core/layers/support/exifUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{addTokenParameter as t}from\"../../../kernel.js\";import o from\"../../../request.js\";import{addProxy as e}from\"../../../core/urlUtils.js\";import{mapParameters as n}from\"../../operations/urlUtils.js\";import r from\"../support/AttachmentInfo.js\";function s(t){const o=t.toJSON();return o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(\",\")),o.keywords&&(o.keywords=o.keywords.join(\",\")),o.globalIds&&(o.globalIds=o.globalIds.join(\",\")),o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.size&&(o.size=o.size.join(\",\")),o}function a(o,n){const s={};for(const a of n){const{parentObjectId:n,parentGlobalId:c,attachmentInfos:m}=a;for(const a of m){const{id:m}=a,p=e(t(`${o.path}/${n}/attachments/${m}`)),i=r.fromJSON(a);i.set({url:p,parentObjectId:n,parentGlobalId:c}),s[n]?s[n].push(i):s[n]=[i]}}return s}function c(t,e,r){let a={query:n({...t.query,f:\"json\",...s(e)})};return r&&(a={...r,...a,query:{...r.query,...a.query}}),o(t.path+\"/queryAttachments\",a).then((t=>t.data.attachmentGroups))}async function m(t,e,n){const{objectIds:r}=e,s=[];for(const a of r)s.push(o(t.path+\"/\"+a+\"/attachments\",n));return Promise.all(s).then((t=>r.map(((o,e)=>({parentObjectId:o,attachmentInfos:t[e].data.attachmentInfos})))))}export{c as executeAttachmentQuery,m as fetchAttachments,a as processAttachmentQueryResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{Integer as e}from\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{getExifValue as n}from\"../../../layers/support/exifUtils.js\";var s;const p={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let a=s=class extends o{constructor(t){super(t),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:t}=this,o=n({exifName:\"Exif IFD0\",tagName:\"Orientation\",exifInfo:t});return p[o]||null}clone(){return new s({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};t([r({type:String})],a.prototype,\"contentType\",void 0),t([r()],a.prototype,\"exifInfo\",void 0),t([r({readOnly:!0})],a.prototype,\"orientationInfo\",null),t([r({type:e})],a.prototype,\"id\",void 0),t([r({type:String})],a.prototype,\"globalId\",void 0),t([r({type:String})],a.prototype,\"keywords\",void 0),t([r({type:String})],a.prototype,\"name\",void 0),t([r({json:{read:!1}})],a.prototype,\"parentGlobalId\",void 0),t([r({json:{read:!1}})],a.prototype,\"parentObjectId\",void 0),t([r({type:e})],a.prototype,\"size\",void 0),t([r({json:{read:!1}})],a.prototype,\"url\",void 0),a=s=t([i(\"esri.layers.support.AttachmentInfo\")],a);const l=a;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction n(n){const{exifInfo:e,exifName:a,tagName:u}=n;if(!e||!a||!u)return null;const f=e.find((n=>n.name===a));return f?t({tagName:u,tags:f.tags}):null}function t(n){const{tagName:t,tags:e}=n;if(!e||!t)return null;const a=e.find((n=>n.name===t));return a&&a.value||null}export{n as getExifValue};\n"],"names":["$1mmm2","parcelRequire","$daa66dd8918b500a$var$s","t","o","toJSON","attachmentTypes","join","keywords","globalIds","objectIds","size","$daa66dd8918b500a$export$f6b9ddd00fda6d9c","n","s","a","parentObjectId","n1","parentGlobalId","c","attachmentInfos","m","a1","id","m1","p","$7dRCe","addProxy","addTokenParameter","path","i","$81dmF","default","fromJSON","set","url","push","$daa66dd8918b500a$export$cea79ae0bf271b7b","e","r","query","$bAQEw","mapParameters","f","$bYA0c","then","data","attachmentGroups","async","$daa66dd8918b500a$export$6f8df367106a7699","Promise","all","map","$j6uz9","$5d68c8a4e74474f2$var$s","$5d68c8a4e74474f2$var$p","rotation","mirrored","$5d68c8a4e74474f2$var$a","$hO0an","JSONSupport","orientationInfo","exifInfo","this","$es3Rl","getExifValue","exifName","tagName","clone","contentType","globalId","name","constructor","super","_","$hTI69","property","type","String","prototype","readOnly","$gHCNy","Integer","json","read","$qA6zg","subclass","$5d68c8a4e74474f2$export$2e2bcd8739ae039","$a856ac9ede92ce0e$export$a617f91e26a64560","u","find","tags","value","$a856ac9ede92ce0e$var$t"],"version":3,"file":"queryAttachments.722aa08a.js.map"}