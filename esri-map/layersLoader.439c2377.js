!function(){function e(e,r,t,a){Object.defineProperty(e,r,{get:t,set:a,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;r.register("j0Uz9",(function(t,a){e(t.exports,"load",(function(){return y})),e(t.exports,"preprocessFSItemData",(function(){return f})),e(t.exports,"getNumLayersAndTables",(function(){return g})),e(t.exports,"getFirstLayerOrTableId",(function(){return p}));var n=r("kyj08"),l=r("ge5sz"),i=r("ajJOT"),o=r("UdTKD"),s=r("2TQQP"),u=r("8I1KP");async function y(e,r){const t=e.instance.portalItem;if(t&&t.id)return await t.load(r),function(e){const r=e.instance.portalItem;if(!e.supportedTypes.includes(r.type))throw new(0,n.default)("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:r.type,expectedType:e.supportedTypes.join(", ")})}(e),async function(e,r){const t=e.instance,a=t.portalItem,{url:i,title:y}=a,c=(0,o.createForItemRead)(a);if("group"===t.type)return t.read({title:y},c),function(e,r){let t;const a=e.portalItem.type;switch(a){case"Feature Service":case"Feature Collection":t=l.layerLookupMap.FeatureLayer;break;case"Stream Service":t=l.layerLookupMap.StreamLayer;break;case"Scene Service":t=l.layerLookupMap.SceneLayer;break;default:throw new(0,n.default)("portal:unsupported-item-type-as-group",`The item type '${a}' is not supported as a 'IGroupLayer'`)}let i;return t().then((e=>(i=e,v(r)))).then((async r=>"Feature Service"===a?(r=await f(r,e.portalItem.url),d(e,i,r)):g(r)>0?d(e,i,r):function(e,r){return e.portalItem.url?(0,u.requestArcGISServiceJSON)(e.portalItem.url).then((t=>{var a,n;function l(e){return{id:e.id,name:e.name}}t&&d(e,r,{layers:null===(a=t.layers)||void 0===a?void 0:a.map(l),tables:null===(n=t.tables)||void 0===n?void 0:n.map(l)})})):Promise.resolve()}(e,i)))}(t,e);i&&t.read({url:i},c);const p=await v(e,r);return p&&t.read(p,c),t.resourceReferences={portalItem:a,paths:c.readResourcePaths},t.read({title:y},c),(0,s.loadStyleRenderer)(t,c)}(e,r)}function d(e,r,t){let a=t.layers||[];const n=t.tables||[];"Feature Collection"===e.portalItem.type&&(a.forEach((e=>{var r;"Table"===(null==e||null===(r=e.layerDefinition)||void 0===r?void 0:r.type)&&n.push(e)})),a=a.filter((e=>{var r;return"Table"!==(null==e||null===(r=e.layerDefinition)||void 0===r?void 0:r.type)}))),a.reverse().forEach((a=>{const n=c(e,r,t,a);e.add(n)})),n.reverse().forEach((a=>{const n=c(e,r,t,a);e.tables.add(n)}))}function c(e,r,t,a){const n=new r({portalItem:e.portalItem.clone(),layerId:a.id,sublayerTitleMode:"service-name"});if("Feature Collection"===e.portalItem.type){const r={origin:"portal-item",portal:e.portalItem.portal||i.default.getDefault()};n.read(a,r);const l=t.showLegend;null!=l&&n.read({showLegend:l},r)}return n}function v(e,r){if(!1===e.supportsData)return Promise.resolve(void 0);const t=e.instance;return t.portalItem.fetchData("json",r).catch((()=>null)).then((async e=>{if(function(e){return"stream"!==e.type&&"layerId"in e}(t)){let r,a=!0;return e&&g(e)>0&&(null==t.layerId&&(t.layerId=p(e)),r=function(e,r){const t=e.layers;if(t)for(let e=0;e<t.length;e++)if(t[e].id===r)return t[e];const a=e.tables;if(a)for(let e=0;e<a.length;e++)if(a[e].id===r)return a[e];return null}(e,t.layerId),r&&(1===g(e)&&(a=!1),null!=e.showLegend&&(r.showLegend=e.showLegend))),a&&"service-name"!==t.sublayerTitleMode&&(t.sublayerTitleMode="item-title-and-service-name"),r}return e}))}async function f(e,r){if(null==(null==e?void 0:e.layers)||null==(null==e?void 0:e.tables)){const t=await(0,u.requestArcGISServiceJSON)(r);(e=e||{}).layers=e.layers||(null==t?void 0:t.layers),e.tables=e.tables||(null==t?void 0:t.tables)}return e}function p(e){const r=e.layers;if(r&&r.length)return r[0].id;const t=e.tables;return t&&t.length?t[0].id:null}function g(e){var r,t,a,n;return(null!==(a=null==e||null===(r=e.layers)||void 0===r?void 0:r.length)&&void 0!==a?a:0)+(null!==(n=null==e||null===(t=e.tables)||void 0===t?void 0:t.length)&&void 0!==n?n:0)}})),r.register("ge5sz",(function(t,a){e(t.exports,"layerLookupMap",(function(){return n}));const n={BingMapsLayer:async()=>(await r("e1Ha6")).default,BuildingSceneLayer:async()=>(await r("4vJaO")).default,CSVLayer:async()=>(await r("2H4r7")).default,ElevationLayer:async()=>(await r("01YtJ")).default,FeatureLayer:async()=>(await Promise.resolve(r("g15Jq"))).default,GroupLayer:async()=>(await r("h0nKk")).default,GeoRSSLayer:async()=>(await r("luqqD")).default,GeoJSONLayer:async()=>(await r("1S7bl")).default,ImageryLayer:async()=>(await r("7FiZD")).default,ImageryTileLayer:async()=>(await r("2SaQC")).default,IntegratedMeshLayer:async()=>(await r("bA9Lb")).default,KMLLayer:async()=>(await r("5X7pA")).default,LineOfSightLayer:async()=>(await r("i4BdW")).default,MapImageLayer:async()=>(await Promise.resolve(r("2CGtF"))).default,MapNotesLayer:async()=>(await r("keQbS")).default,OGCFeatureLayer:async()=>(await r("fhj9D")).default,OpenStreetMapLayer:async()=>(await r("le7Ua")).default,PointCloudLayer:async()=>(await r("7SCEX")).default,RouteLayer:async()=>(await r("5DylX")).default,SceneLayer:async()=>(await r("isiFV")).default,StreamLayer:async()=>(await r("1A7cp")).default,TileLayer:async()=>(await Promise.resolve(r("dKApM"))).default,UnknownLayer:async()=>(await r("bklhj")).default,UnsupportedLayer:async()=>(await r("b2wcj")).default,VectorTileLayer:async()=>(await Promise.resolve(r("1J8jF"))).default,VoxelLayer:async()=>(await r("6G7Md")).default,WebTileLayer:async()=>(await r("scW10")).default,WFSLayer:async()=>(await r("huc9g")).default,WMSLayer:async()=>(await r("ew33V")).default,WMTSLayer:async()=>(await r("7Tenx")).default}})),r.register("e1Ha6",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("f3pY0")).then((()=>r("gjMUe")))})),r.register("4vJaO",(function(e,t){e.exports=Promise.all([r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("7naHS")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("lMUHQ")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("ehAuN"))]).then((()=>r("jtrKP")))})),r.register("2H4r7",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("fYT6T")).then((()=>r("b00fd")))})),r.register("01YtJ",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("6Qw24")).then((()=>r("blFzk")))})),r.register("h0nKk",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("3PyzW")).then((()=>r("eBpzH")))})),r.register("luqqD",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("ex7zq")).then((()=>r("eyFte")))})),r.register("1S7bl",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("ebkeC")).then((()=>r("30FTv")))})),r.register("7FiZD",(function(e,t){e.exports=Promise.all([r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("k5owF")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("jnahC")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("jfFdX")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("cGyIr")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("2ywvw"))]).then((()=>r("hIQZ6")))})),r.register("2SaQC",(function(e,t){e.exports=Promise.all([r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("k5owF")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("jnahC")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("9fdp1")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("jfFdX")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("cGyIr")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("jKG7E"))]).then((()=>r("891yq")))})),r.register("bA9Lb",(function(e,t){e.exports=Promise.all([r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("7naHS")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("lMUHQ")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("ccGkE"))]).then((()=>r("8r09E")))})),r.register("5X7pA",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("e5HkO")).then((()=>r("09uM9")))})),r.register("i4BdW",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("bs33H")).then((()=>r("eXarb")))})),r.register("keQbS",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("bIcJH")).then((()=>r("6SArv")))})),r.register("fhj9D",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("74VV5")).then((()=>r("eyh26")))})),r.register("le7Ua",(function(e,t){e.exports=Promise.all([r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("gXTRO")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("kHKat"))]).then((()=>r("93ryr")))})),r.register("7SCEX",(function(e,t){e.exports=Promise.all([r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("7naHS")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("5xPoC")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("lMUHQ")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("hn2fB"))]).then((()=>r("IXEcm")))})),r.register("5DylX",(function(e,t){e.exports=Promise.all([r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("736Bl")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("1g0iB"))]).then((()=>r("jwCSn")))})),r.register("isiFV",(function(e,t){e.exports=Promise.all([r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("7naHS")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("lMUHQ")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("eqi7U"))]).then((()=>r("579pt")))})),r.register("1A7cp",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("8tTjL")).then((()=>r("fnoLH")))})),r.register("bklhj",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("lboAR")).then((()=>r("8tfJE")))})),r.register("b2wcj",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("5r2kZ")).then((()=>r("2XFBu")))})),r.register("6G7Md",(function(e,t){e.exports=Promise.all([r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("7naHS")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("lMUHQ")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("jqBZs"))]).then((()=>r("129jc")))})),r.register("scW10",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("gXTRO")).then((()=>r("jKyUx")))})),r.register("huc9g",(function(e,t){e.exports=Promise.all([r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("gKn0c")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("gI6gk"))]).then((()=>r("47FUu")))})),r.register("ew33V",(function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("bbKls")).then((()=>r("bZ38t")))})),r.register("7Tenx",(function(e,t){e.exports=Promise.all([r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("gXTRO")),r("4WKyX")(r("aNJCr").getBundleURL("avUEr")+r("iE7OH").resolve("jJaCD"))]).then((()=>r("2VseR")))})),r.register("8I1KP",(function(t,a){e(t.exports,"requestArcGISServiceJSON",(function(){return l}));var n=r("9pNSx");async function l(e){const{data:r}=await(0,n.default)(e,{responseType:"json",query:{f:"json"}});return r}}))}();
//# sourceMappingURL=layersLoader.439c2377.js.map
