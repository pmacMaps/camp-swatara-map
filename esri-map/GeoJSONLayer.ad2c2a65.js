!function(){function e(e){return e&&e.__esModule?e.default:e}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("30FTv",(function(r,o){var n,i,a,l,p;n=r.exports,Object.defineProperty(n,"__esModule",{value:!0,configurable:!0}),i=r.exports,a="default",l=function(){return Y},Object.defineProperty(i,a,{get:l,set:p,enumerable:!0,configurable:!0});var u=t("8TSCy"),s=t("2TvXO"),y=t("7eJjO");t("2ILM8");var d=t("3MVX3");t("35mRC"),t("fqK5H"),t("hHJvn"),t("aOUND"),t("7Kl6r"),t("fPYaT"),t("aRUMT"),t("lubf9");var c=t("9ulmN"),f=t("7qybv"),v=t("8NioF"),h=t("kYueh"),m=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var g=t("fcwIv"),b=t("7LVgC"),_=t("4LDxK"),x=t("3pWZH"),I=t("gIXJ2"),O=t("cv2jJ"),T=t("6bOVn"),k=t("5N5S1"),w=t("gkEnw"),E=t("13Qxf"),j=t("3GzOb"),P=t("2t08e"),F=t("gRgX5"),S=t("bkDoB"),R=t("gcgvk"),L=t("hRnYX"),q=t("buMuJ"),D=t("ko0sb"),N=t("7vTUY"),C=t("aYrEX"),J=t("gtLRH"),G=t("cRlei"),M=t("37qRo"),V=t("j40xv"),Q=t("gINRd"),U=(0,D.defineFieldProperties)(),X=function(r){"use strict";u.inherits(n,r);var o=u.createSuper(n);function n(e){var t;return u.classCallCheck(this,n),(t=o.call(this,e)).copyright=null,t.definitionExpression=null,t.displayField=null,t.editingEnabled=!1,t.elevationInfo=null,t.featureReduction=null,t.fields=null,t.fieldsIndex=null,t.fullExtent=null,t.geometryType=null,t.hasZ=void 0,t.labelsVisible=!0,t.labelingInfo=null,t.legendEnabled=!0,t.objectIdField=null,t.operationalLayerType="GeoJSON",t.popupEnabled=!0,t.popupTemplate=null,t.screenSizePerspectiveEnabled=!0,t.source=new(0,x.default)({layer:u.assertThisInitialized(t)}),t.spatialReference=V.default.WGS84,t.templates=null,t.title="GeoJSON",t.type="geojson",t.typeIdField=null,t.types=null,u.possibleConstructorReturn(t)}return u.createClass(n,[{key:"destroy",value:function(){var e;null==(e=this.source)||e.destroy()}},{key:"load",value:function(e){var t=this;return this.addResolvingPromise(this.source.load(e).then((function(){t.read(t.source.sourceJSON,{origin:"service",url:t.parsedUrl}),t.revert(["objectIdField","fields","timeInfo"],"service"),(0,N.fixRendererFields)(t.renderer,t.fieldsIndex),(0,N.fixTimeInfoFields)(t.timeInfo,t.fieldsIndex)}))),Promise.resolve(this)}},{key:"capabilities",get:function(){return this.source?this.source.capabilities:null}},{key:"createQueryVersion",get:function(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"isTable",get:function(){return this.loaded&&null==this.geometryType}},{key:"parsedUrl",get:function(){return this.url?(0,h.urlToObject)(this.url):null}},{key:"renderer",set:function(e){(0,N.fixRendererFields)(e,this.fieldsIndex),this._set("renderer",e)}},{key:"url",set:function(e){if(e){var t=(0,h.urlToObject)(e);this._set("url",t.path),t.query&&(this.customParameters=u.objectSpread({},this.customParameters,t.query))}else this._set("url",e)}},{key:"applyEdits",value:function(r,o){var n=this;return u.asyncToGenerator(e(s).mark((function i(){var a,l;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("d2rY5");case 2:return a=e.sent,e.next=5,n.load();case 5:return e.next=7,a.applyEdits(n,n.source,r,o);case 7:return l=e.sent,e.abrupt("return",(n.read({extent:n.source.sourceJSON.extent,timeInfo:n.source.sourceJSON.timeInfo},{origin:"service",ignoreDefaults:!0}),l));case 9:case"end":return e.stop()}}),i)})))()}},{key:"on",value:function(e,t){return u.get(u.getPrototypeOf(n.prototype),"on",this).call(this,e,t)}},{key:"createPopupTemplate",value:function(e){return(0,M.createPopupTemplate)(this,e)}},{key:"createQuery",value:function(){var e=new(0,G.default),t=this.get("capabilities.data");e.returnGeometry=!0,t&&t.supportsZ&&(e.returnZ=!0),e.outFields=["*"],e.where=this.definitionExpression||"1=1";var r=this.timeOffset,o=this.timeExtent;return e.timeExtent=null!=r&&null!=o?o.offset(-r.value,r.unit):o||null,e}},{key:"getFieldDomain",value:function(e,t){var r,o=this,n=!1,i=t&&t.feature,a=i&&i.attributes,l=this.typeIdField&&a&&a[this.typeIdField];return null!=l&&this.types&&(n=this.types.some((function(t){return t.id==l&&((r=t.domains&&t.domains[e])&&"inherited"===r.type&&(r=o._getLayerDomain(e)),!0)}))),n||r||(r=this._getLayerDomain(e)),r}},{key:"getField",value:function(e){return this.fieldsIndex.get(e)}},{key:"queryFeatures",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryFeatures(G.default.from(e)||r.createQuery(),t)})).then((function(e){var t=!0,o=!1,n=void 0;if(null!=e&&e.features)try{for(var i,a=e.features[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var l=i.value;l.layer=l.sourceLayer=r}}catch(e){o=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(o)throw n}}return e}))}},{key:"queryObjectIds",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryObjectIds(G.default.from(e)||r.createQuery(),t)}))}},{key:"queryFeatureCount",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryFeatureCount(G.default.from(e)||r.createQuery(),t)}))}},{key:"queryExtent",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryExtent(G.default.from(e)||r.createQuery(),t)}))}},{key:"hasDataChanged",value:function(){var t=this;return u.asyncToGenerator(e(s).mark((function r(){var o,n,i;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.source.refresh(t.customParameters);case 3:return o=e.sent,n=o.dataChanged,i=o.updates,e.abrupt("return",((0,f.isSome)(i)&&t.read(i,{origin:"service",url:t.parsedUrl,ignoreDefaults:!0}),n));case 9:e.prev=9,e.t0=e.catch(0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),r,null,[[0,9]])})))()}},{key:"_getLayerDomain",value:function(e){if(!this.fields)return null;var t=null;return this.fields.some((function(r){return r.name===e&&(t=r.domain),!!t})),t}}]),n}((0,w.OrderedLayer)((0,O.CustomParametersMixin)((0,T.FeatureEffectLayer)((0,I.BlendLayer)((0,P.TemporalLayer)((0,j.ScaleRangeLayer)((0,E.RefreshableLayer)((0,k.OperationalLayer)((0,v.MultiOriginJSONMixin)(_.default))))))))));(0,y._)([(0,m.property)({readOnly:!0,json:{read:!1,write:!1}})],X.prototype,"capabilities",null),(0,y._)([(0,m.property)({type:String})],X.prototype,"copyright",void 0),(0,y._)([(0,m.property)({readOnly:!0})],X.prototype,"createQueryVersion",null),(0,y._)([(0,m.property)({readOnly:!0})],X.prototype,"defaultPopupTemplate",null),(0,y._)([(0,m.property)({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],X.prototype,"definitionExpression",void 0),(0,y._)([(0,m.property)({type:String})],X.prototype,"displayField",void 0),(0,y._)([(0,m.property)({type:Boolean})],X.prototype,"editingEnabled",void 0),(0,y._)([(0,m.property)(F.elevationInfo)],X.prototype,"elevationInfo",void 0),(0,y._)([(0,m.property)(S.featureReductionProperty)],X.prototype,"featureReduction",void 0),(0,y._)([(0,m.property)({type:[q.default],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],X.prototype,"fields",void 0),(0,y._)([(0,m.property)(U.fieldsIndex)],X.prototype,"fieldsIndex",void 0),(0,y._)([(0,m.property)({type:Q.default,json:{name:"extent"}})],X.prototype,"fullExtent",void 0),(0,y._)([(0,m.property)({type:["point","polygon","polyline","multipoint"],json:{read:{reader:b.featureGeometryTypeKebabDictionary.read}}})],X.prototype,"geometryType",void 0),(0,y._)([(0,m.property)({type:Boolean})],X.prototype,"hasZ",void 0),(0,y._)([(0,m.property)(F.id)],X.prototype,"id",void 0),(0,y._)([(0,m.property)({type:Boolean,readOnly:!0})],X.prototype,"isTable",null),(0,y._)([(0,m.property)(F.labelsVisible)],X.prototype,"labelsVisible",void 0),(0,y._)([(0,m.property)({type:[C.default],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:J.reader},write:!0}})],X.prototype,"labelingInfo",void 0),(0,y._)([(0,m.property)(F.legendEnabled)],X.prototype,"legendEnabled",void 0),(0,y._)([(0,m.property)({type:["show","hide"]})],X.prototype,"listMode",void 0),(0,y._)([(0,m.property)({type:String,json:{name:"layerDefinition.objectIdField",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"objectIdField"}}}})],X.prototype,"objectIdField",void 0),(0,y._)([(0,m.property)(F.opacity)],X.prototype,"opacity",void 0),(0,y._)([(0,m.property)({type:["GeoJSON"]})],X.prototype,"operationalLayerType",void 0),(0,y._)([(0,m.property)({readOnly:!0})],X.prototype,"parsedUrl",null),(0,y._)([(0,m.property)(F.popupEnabled)],X.prototype,"popupEnabled",void 0),(0,y._)([(0,m.property)({type:d.default,json:{name:"popupInfo",write:!0}})],X.prototype,"popupTemplate",void 0),(0,y._)([(0,m.property)({types:c.rendererTypes,json:{name:"layerDefinition.drawingInfo.renderer",write:!0,origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:c.webSceneRendererTypes}}}})],X.prototype,"renderer",null),(0,y._)([(0,m.property)(F.screenSizePerspectiveEnabled)],X.prototype,"screenSizePerspectiveEnabled",void 0),(0,y._)([(0,m.property)({readOnly:!0})],X.prototype,"source",void 0),(0,y._)([(0,m.property)({type:V.default})],X.prototype,"spatialReference",void 0),(0,y._)([(0,m.property)({type:[R.default]})],X.prototype,"templates",void 0),(0,y._)([(0,m.property)()],X.prototype,"title",void 0),(0,y._)([(0,m.property)({json:{read:!1},readOnly:!0})],X.prototype,"type",void 0),(0,y._)([(0,m.property)({type:String,readOnly:!0})],X.prototype,"typeIdField",void 0),(0,y._)([(0,m.property)({type:[L.default]})],X.prototype,"types",void 0),(0,y._)([(0,m.property)(F.url)],X.prototype,"url",null);var Y=X=(0,y._)([(0,g.subclass)("esri.layers.GeoJSONLayer")],X)})),t.register("d2rY5",(function(e,r){e.exports=t("4WKyX")(t("aNJCr").getBundleURL("ebkeC")+t("iE7OH").resolve("l5Wbg")).then((function(){return t("7tPac")}))}))}();
//# sourceMappingURL=GeoJSONLayer.ad2c2a65.js.map
