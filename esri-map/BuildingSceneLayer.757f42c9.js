!function(){function t(t,r,e,n){Object.defineProperty(t,r,{get:e,set:n,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;r.register("lXwvk",(function(r,e){t(r.exports,"zeroCapabilities",(function(){return n}));const n={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsResize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsAsyncApplyEdits:!1},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCompactGeometry:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}}})),r.register("gegXR",(function(e,n){t(e.exports,"queryAttributesFromCachedAttributesId",(function(){return g}));var o=r("9pNSx"),s=(r("lNwWH"),r("kyj08"),r("2VlWd"),r("7qybv"),r("10vEZ")),i=r("kkxEC"),a=(r("j3x2p"),r("gnwu9")),u=(r("gEEzE"),r("89KCq")),l=(r("koyqq"),r("8HlSe")),c=(r("e4Xv2"),r("5YMIf")),p=(r("97SWO"),r("7RvA5"),r("j40xv"),r("ighN7"),r("8TwEW")),h=(r("eY5Yp"),r("cRlei"),r("f73CE")),f=(r("2QOHC"),r("8jWu4")),d=(r("bmQpB"),r("9hQb9")),m=r("aqb44");(0,p.create)();var y,I;function g(t,r,e,n,i){const a=[];for(const n of r)if(n&&i.includes(n.name)){const r=`${t}/nodes/${e}/attributes/${n.key}/0`;a.push({url:r,storageInfo:n})}return(0,s.eachAlways)(a.map((t=>(0,o.default)(t.url,{responseType:"array-buffer"}).then((r=>(0,h.readBinaryAttribute)(t.storageInfo,r.data)))))).then((t=>{const r=[];for(const e of n){const n={};for(let r=0;r<t.length;r++){const o=t[r].value;null!=o&&(n[a[r].storageInfo.name]=S(o,e))}r.push(n)}return r}))}(I=y||(y={}))[I.OUTSIDE=0]="OUTSIDE",I[I.INTERSECTS_CENTER_OUTSIDE=1]="INTERSECTS_CENTER_OUTSIDE",I[I.INTERSECTS_CENTER_INSIDE=2]="INTERSECTS_CENTER_INSIDE",I[I.INSIDE=3]="INSIDE";function S(t,r){if(!t)return null;const e=t[r];return(0,i.isInt16Array)(t)?-32768===e?null:e:(0,i.isInt32Array)(t)?-2147483648===e?null:e:e!=e?null:e}(0,f.createSolidEdgeMaterial)({color:[0,0,0,0],opacity:0});const P=new Array(24);new(0,m.Attribute)(P,3,!0),(0,c.c)(),(0,c.c)(),(0,a.c)();(0,u.c)(),(0,l.c)(),(0,p.create)(),(0,p.create)(),(0,d.create)(),(0,c.c)(),new Array(72),(0,u.c)()})),r.register("2QOHC",(function(e,n){t(e.exports,"computeGlobalTransformation",(function(){return u}));var o=r("89KCq"),s=r("5YMIf"),i=r("97SWO"),a=r("7RvA5");function u(t,r,e,n){const u=function(t,r,e){const n=(0,s.c)(),o=t[3],a=2**(4*Math.ceil(Math.log(o)*Math.LOG2E/4)+1);if(e.isGeographic){const r=a/(0,i.getReferenceEllipsoid)(e).radius*180/Math.PI,o=Math.round(t[1]/r),s=Math.max(-90,Math.min(90,o*r)),u=r/Math.cos((Math.abs(s)-r/2)/180*Math.PI),l=Math.round(t[0]/u)*u;n[0]=l,n[1]=s}else{const r=Math.round(t[0]/a),e=Math.round(t[1]/a);n[0]=r*a,n[1]=e*a}const u=t[2]+r,l=Math.round(u/a);return n[2]=l*a,n}(t,r,e),l=(0,o.c)();return(0,a.computeTranslationToOriginAndRotation)(e,u,l,n),l}})),r.register("8jWu4",(function(e,n){t(e.exports,"createMaterialFromEdges",(function(){return u})),t(e.exports,"createSolidEdgeMaterial",(function(){return l}));var o=r("jgs9n");r("2VlWd");var s=r("iXlXu"),i=r("iLaO9"),a=(r("6OUm3"),r("53rFi"));function u(t,r){if(null==t)return null;const e=null!=t.color?(0,i.b)(o.default.toUnitRGBA(t.color)):(0,i.f)(0,0,0,0),n=(0,s.pt2px)(t.size),a=(0,s.pt2px)(t.extensionLength);switch(t.type){case"solid":return l({color:e,size:n,extensionLength:a,...r});case"sketch":return u={color:e,size:n,extensionLength:a,...r},{...p,...u,type:"sketch"};default:return}var u}function l(t){return{...c,...t,type:"solid"}}const c={color:(0,i.f)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:a.Transparency.OPAQUE,hasSlicePlane:!1},p={color:(0,i.f)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:a.Transparency.OPAQUE,hasSlicePlane:!1}})),r.register("6OUm3",(function(r,e){function n(t){return"fill"===t.type}function o(t){return"extrude"===t.type}t(r.exports,"isFillSymbol3DLayer",(function(){return n})),t(r.exports,"isExtrudeSymbol3DLayer",(function(){return o}))})),r.register("53rFi",(function(r,e){var n,o;t(r.exports,"Transparency",(function(){return n})),(o=n||(n={}))[o.INVISIBLE=0]="INVISIBLE",o[o.TRANSPARENT=1]="TRANSPARENT",o[o.OPAQUE=2]="OPAQUE"})),r.register("9hQb9",(function(e,n){t(e.exports,"create",(function(){return h})),t(e.exports,"compute",(function(){return f})),t(e.exports,"corners",(function(){return d}));r("j3x2p");var o=r("gnwu9"),s=(r("koyqq"),r("8HlSe")),i=r("ksUrQ"),a=r("e4Xv2"),u=r("8tU7Q"),l=r("5YMIf"),c=(r("hRPEZ"),r("iLaO9")),p=(r("ayLat"),r("kVWqM"),r("lSSNj"),r("5b6Je"));(0,i.a)(),(0,l.c)(),(0,l.c)(),(0,c.c)(),(0,o.c)();function h(t=[0,0,0],r=[-1,-1,-1],e=(0,i.a)()){return{center:(0,l.a)(t),halfSize:(0,u.b)(r),quaternion:(0,s.b)(e)}}function f(t,r){return r=r||h(),(0,p.computeOBB)(t,r),r}(()=>{const t=new Int8Array(162);let r=0;const e=e=>{for(let n=0;n<e.length;n++)t[r+n]=e[n];r+=6};e([6,2,3,1,5,4]),e([0,2,3,1,5,4]),e([0,2,3,7,5,4]),e([0,1,3,2,6,4]),e([0,1,3,2,0,0]),e([0,1,5,7,3,2]),e([0,1,3,7,6,4]),e([0,1,3,7,6,2]),e([0,1,5,7,6,2]),e([0,1,5,4,6,2]),e([0,1,5,4,0,0]),e([0,1,3,7,5,4]),e([0,2,6,4,0,0]),e([0,0,0,0,0,0]),e([1,3,7,5,0,0]),e([2,3,7,6,4,0]),e([2,3,7,6,0,0]),e([2,3,1,5,7,6]),e([0,1,5,7,6,2]),e([0,1,5,7,6,4]),e([0,1,3,7,6,4]),e([4,5,7,6,2,0]),e([4,5,7,6,0,0]),e([4,5,1,3,7,6]),e([0,2,3,7,5,4]),e([6,2,3,7,5,4]),e([6,2,3,1,5,4])})();function d(t,r){for(let e=0;e<8;++e){const n=r[e];n[0]=1&e?-t.halfSize[0]:t.halfSize[0],n[1]=2&e?-t.halfSize[1]:t.halfSize[1],n[2]=4&e?-t.halfSize[2]:t.halfSize[2],(0,a.q)(n,n,t.quaternion),(0,a.a)(n,n,t.center)}}(0,l.c)(),(0,l.c)(),(0,l.c)(),(0,i.a)()})),r.register("5b6Je",(function(e,n){t(e.exports,"computeOBB",(function(){return u}));var o=r("aqb44");const s=1e-6,i=[0,0,0],a=[0,0,0];function u(t,r){const{data:e,size:n}=t,u=e.length/n;if(u<=0)return;const S=new V(t);B(i,S.minProj,S.maxProj),G(i,i,.5),k(a,S.maxProj,S.minProj);const P=Q(a),b=new L;b.quality=P,u<14&&(t=new(0,o.Attribute)(new Float64Array(S.buffer,112,42),3));const v=[0,0,0],E=[0,0,0],x=[0,0,0],j=[0,0,0],O=[0,0,0],U=[0,0,0],D=[0,0,0];switch(function(t,r,e,n,o,i,a,u,l,c){return function(t,r,e){let n=K(t.maxVert[0],t.minVert[0]),o=0;for(let r=1;r<7;++r){const e=K(t.maxVert[r],t.minVert[r]);e>n&&(n=e,o=r)}H(r,t.minVert[o]),H(e,t.maxVert[o])}(t,n,o),K(n,o)<s?1:(k(a,n,o),W(a,a),function(t,r,e,n){const{data:o,size:s}=t;let i=Number.NEGATIVE_INFINITY,a=0;for(let t=0;t<o.length;t+=s){I[0]=o[t]-r[0],I[1]=o[t+1]-r[1],I[2]=o[t+2]-r[2];const n=e[0]*I[0]+e[1]*I[1]+e[2]*I[2],s=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],u=I[0]*I[0]+I[1]*I[1]+I[2]*I[2]-n*n/s;u>i&&(i=u,a=t)}return H(n,o,a),i}(r,n,a,i)<s?2:(k(u,o,i),W(u,u),k(l,i,n),W(l,l),$(e,u,a),W(e,e),A(r,e,a,u,l,c),0))}(S,t,D,v,E,x,j,O,U,b)){case 1:return void T(i,a,r);case 2:return Z=t,tt=r,H(_,J=j),Math.abs(J[0])>Math.abs(J[1])&&Math.abs(J[0])>Math.abs(J[2])?_[0]=0:Math.abs(J[1])>Math.abs(J[2])?_[1]=0:_[2]=0,Y(_)<s&&(_[0]=_[1]=_[2]=1),$(M,J,_),W(M,M),$(R,J,M),W(R,R),C(Z,J,M,R,N,F),k(q,F,N),void z(J,M,R,N,F,q,tt)}var Z,J,tt;(function(t,r,e,n,o,i,a,u,I){(function(t,r,e,n,o){!function(t,r,e,n,o){const{data:s,size:i}=t;H(n,s),H(o,n),e[0]=X(w,r),e[1]=e[0];for(let t=i;t<s.length;t+=i){const i=s[t]*r[0]+s[t+1]*r[1]+s[t+2]*r[2];i<e[0]&&(e[0]=i,H(n,s,t)),i>e[1]&&(e[1]=i,H(o,s,t))}}(t,r,g,o,n);const i=X(e,r);g[1]-s<=i&&(n[0]=void 0),g[0]+s>=i&&(o[0]=void 0)})(t,r,e,l,c),void 0!==l[0]&&(k(p,l,e),W(p,p),k(h,l,n),W(h,h),k(f,l,o),W(f,f),$(d,h,i),W(d,d),$(m,f,a),W(m,m),$(y,p,u),W(y,y),A(t,d,i,h,p,I),A(t,m,a,f,h,I),A(t,y,u,p,f,I)),void 0!==c[0]&&(k(p,c,e),W(p,p),k(h,c,n),W(h,h),k(f,c,o),W(f,f),$(d,h,i),W(d,d),$(m,f,a),W(m,m),$(y,p,u),W(y,y),A(t,d,i,h,p,I),A(t,m,a,f,h,I),A(t,y,u,p,f,I))})(t,D,v,E,x,j,O,U,b),C(t,b.b0,b.b1,b.b2,N,F);const rt=[0,0,0];k(rt,F,N),b.quality=Q(rt),b.quality<P?z(b.b0,b.b1,b.b2,N,F,rt,r):T(i,a,r)}const l=[0,0,0],c=[0,0,0],p=[0,0,0],h=[0,0,0],f=[0,0,0],d=[0,0,0],m=[0,0,0],y=[0,0,0];const I=[0,0,0];const g=[0,0];const S=[0,0,0],P=[0,0,0],b=[0,0,0],v=[0,0,0],E=[0,0,0],x=[0,0,0];function A(t,r,e,n,o,i){if(Y(r)<s)return;$(S,e,r),$(P,n,r),$(b,o,r),j(t,r,g),E[1]=g[0],v[1]=g[1],x[1]=v[1]-E[1];const a=[e,n,o],u=[S,P,b];for(let e=0;e<3;++e){j(t,a[e],g),E[0]=g[0],v[0]=g[1],j(t,u[e],g),E[2]=g[0],v[2]=g[1],x[0]=v[0]-E[0],x[2]=v[2]-E[2];const n=Q(x);n<i.quality&&(H(i.b0,a[e]),H(i.b1,r),H(i.b2,u[e]),i.quality=n)}}const w=[0,0,0];function j(t,r,e){const{data:n,size:o}=t;e[0]=Number.POSITIVE_INFINITY,e[1]=Number.NEGATIVE_INFINITY;for(let t=0;t<n.length;t+=o){const o=n[t]*r[0]+n[t+1]*r[1]+n[t+2]*r[2];e[0]=Math.min(e[0],o),e[1]=Math.max(e[1],o)}}function T(t,r,e){H(e.center,t),G(e.halfSize,r,.5),e.quaternion[0]=0,e.quaternion[1]=0,e.quaternion[2]=0,e.quaternion[3]=1}const _=[0,0,0],M=[0,0,0],R=[0,0,0],N=[0,0,0],F=[0,0,0],q=[0,0,0];function C(t,r,e,n,o,s){j(t,r,g),o[0]=g[0],s[0]=g[1],j(t,e,g),o[1]=g[0],s[1]=g[1],j(t,n,g),o[2]=g[0],s[2]=g[1]}const O=[0,0,0],U=[1,0,0,0,1,0,0,0,1],D=[0,0,0];function z(t,r,e,n,o,s,i){U[0]=t[0],U[1]=t[1],U[2]=t[2],U[3]=r[0],U[4]=r[1],U[5]=r[2],U[6]=e[0],U[7]=e[1],U[8]=e[2],function(t,r){const e=r[0]+r[4]+r[8];if(e>0){let n=Math.sqrt(e+1);t[3]=.5*n,n=.5/n,t[0]=(r[5]-r[7])*n,t[1]=(r[6]-r[2])*n,t[2]=(r[1]-r[3])*n}else{let e=0;r[4]>r[0]&&(e=1),r[8]>r[3*e+e]&&(e=2);const n=(e+1)%3,o=(e+2)%3;let s=Math.sqrt(r[3*e+e]-r[3*n+n]-r[3*o+o]+1);t[e]=.5*s,s=.5/s,t[3]=(r[3*n+o]-r[3*o+n])*s,t[n]=(r[3*n+e]+r[3*e+n])*s,t[o]=(r[3*o+e]+r[3*e+o])*s}}(i.quaternion,U),B(D,n,o),G(D,D,.5),G(i.center,t,D[0]),G(O,r,D[1]),B(i.center,i.center,O),G(O,e,D[2]),B(i.center,i.center,O),G(i.halfSize,s,.5)}class V{constructor(t){this.minVert=new Array(7),this.maxVert=new Array(7);this.buffer=new ArrayBuffer(448);let r=0;this.minProj=new Float64Array(this.buffer,r,7),r+=56,this.maxProj=new Float64Array(this.buffer,r,7),r+=56;for(let t=0;t<7;++t)this.minVert[t]=new Float64Array(this.buffer,r,3),r+=24;for(let t=0;t<7;++t)this.maxVert[t]=new Float64Array(this.buffer,r,3),r+=24;for(let t=0;t<7;++t)this.minProj[t]=Number.POSITIVE_INFINITY,this.maxProj[t]=Number.NEGATIVE_INFINITY;const e=new Array(7),n=new Array(7),{data:o,size:s}=t;for(let t=0;t<o.length;t+=s){let r=o[t];r<this.minProj[0]&&(this.minProj[0]=r,e[0]=t),r>this.maxProj[0]&&(this.maxProj[0]=r,n[0]=t),r=o[t+1],r<this.minProj[1]&&(this.minProj[1]=r,e[1]=t),r>this.maxProj[1]&&(this.maxProj[1]=r,n[1]=t),r=o[t+2],r<this.minProj[2]&&(this.minProj[2]=r,e[2]=t),r>this.maxProj[2]&&(this.maxProj[2]=r,n[2]=t),r=o[t]+o[t+1]+o[t+2],r<this.minProj[3]&&(this.minProj[3]=r,e[3]=t),r>this.maxProj[3]&&(this.maxProj[3]=r,n[3]=t),r=o[t]+o[t+1]-o[t+2],r<this.minProj[4]&&(this.minProj[4]=r,e[4]=t),r>this.maxProj[4]&&(this.maxProj[4]=r,n[4]=t),r=o[t]-o[t+1]+o[t+2],r<this.minProj[5]&&(this.minProj[5]=r,e[5]=t),r>this.maxProj[5]&&(this.maxProj[5]=r,n[5]=t),r=o[t]-o[t+1]-o[t+2],r<this.minProj[6]&&(this.minProj[6]=r,e[6]=t),r>this.maxProj[6]&&(this.maxProj[6]=r,n[6]=t)}for(let t=0;t<7;++t){let r=e[t];H(this.minVert[t],o,r),r=n[t],H(this.maxVert[t],o,r)}}}class L{constructor(){this.b0=[1,0,0],this.b1=[0,1,0],this.b2=[0,0,1],this.quality=0}}function Q(t){return t[0]*t[1]+t[0]*t[2]+t[1]*t[2]}function B(t,r,e){t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2]}function k(t,r,e){t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2]}function G(t,r,e){t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e}function H(t,r,e=0){t[0]=r[e],t[1]=r[e+1],t[2]=r[e+2]}function $(t,r,e){const n=r[0],o=r[1],s=r[2],i=e[0],a=e[1],u=e[2];t[0]=o*u-s*a,t[1]=s*i-n*u,t[2]=n*a-o*i}function W(t,r){const e=r[0]*r[0]+r[1]*r[1]+r[2]*r[2];if(e>0){const n=1/Math.sqrt(e);t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n}}function Y(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function K(t,r){const e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];return e*e+n*n+o*o}function X(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}})),r.register("aKPZL",(function(e,n){t(e.exports,"FetchAssociatedFeatureLayer",(function(){return c}));var o=r("dLARP"),s=r("9pNSx"),i=r("10vEZ"),a=r("g15Jq"),u=r("ajJOT"),l=r("iYaGG");class c{async fetch(){if(!this._urlParts)return null;var t;const r=null!==(t=this._portalItem)&&void 0!==t?t:await this._portalItemFromServiceItemId();if(null==r)return this._loadFromUrl();const e=await this._findAndLoadRelatedPortalItem(r);return null==e?null:this._loadFeatureLayerFromPortalItem(e)}async fetchPortalItem(){if(!this._urlParts)return null;var t;const r=null!==(t=this._portalItem)&&void 0!==t?t:await this._portalItemFromServiceItemId();return null==r?null:this._findAndLoadRelatedPortalItem(r)}async _fetchRootDocument(){if(null!=this._rootDocument)return this._rootDocument;if(null==this._urlParts)return this._rootDocument={},{};const t={query:{f:"json",token:this._apiKey},responseType:"json",signal:this.signal},r=`${this._urlParts.root}/SceneServer`;try{const e=await(0,s.default)(r,t);this._rootDocument=e.data}catch{this._rootDocument={}}return this._rootDocument}async _fetchServiceOwningPortalUrl(){var t;const r=null===(t=this._parsedUrl)||void 0===t?void 0:t.path,e=r?null===o.id||void 0===o.id?void 0:o.id.findServerInfo(r):null;if(null==e?void 0:e.owningSystemUrl)return e.owningSystemUrl;const n=r?r.replace(/(.*\/rest)\/.*/i,"$1")+"/info":null;try{const t=(await(0,s.default)(n,{query:{f:"json"},responseType:"json",signal:this.signal})).data.owningSystemUrl;if(t)return t}catch(t){(0,i.throwIfAbortError)(t)}return null}async _findAndLoadRelatedPortalItem(t){try{return(await t.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:this.signal})).find((t=>"Feature Service"===t.type))||null}catch(t){return(0,i.throwIfAbortError)(t),null}}async _loadFeatureLayerFromPortalItem(t){var r;await t.load({signal:this.signal});const e=await this._findMatchingAssociatedSublayerUrl(null!==(r=t.url)&&void 0!==r?r:"");return new(0,a.default)({url:e,portalItem:t}).load({signal:this.signal})}async _loadFromUrl(){var t;const r=await this._findMatchingAssociatedSublayerUrl(`${null===(t=this._urlParts)||void 0===t?void 0:t.root}/FeatureServer`);return new(0,a.default)({url:r}).load({signal:this.signal})}async _findMatchingAssociatedSublayerUrl(t){var r;const e=t.replace(/^(.*FeatureServer)(\/[\d]*\/?)?$/i,"$1"),n=null===(r=this._urlParts)||void 0===r?void 0:r.layerId,o=this._fetchRootDocument(),i=t=>{const r={query:{f:"json"},responseType:"json",authMode:t,signal:this.signal};return(0,s.default)(e,r)},a=i("anonymous").catch((()=>i("no-prompt"))),[u,l]=await Promise.all([a,o]),c=l&&l.layers,p=u.data&&u.data.layers;if(!Array.isArray(p))throw new Error("expected layers array");if(Array.isArray(c)){for(let t=0;t<Math.min(c.length,p.length);t++)if(c[t].id===n)return`${e}/${p[t].id}`}else if(null!=n&&n<p.length)return`${e}/${p[n].id}`;throw new Error("could not find matching associated sublayer")}async _portalItemFromServiceItemId(){const t=(await this._fetchRootDocument()).serviceItemId;if(!t)return null;const r=new(0,l.default)({id:t,apiKey:this._apiKey}),e=await this._fetchServiceOwningPortalUrl();null!=e&&(r.portal=new(0,u.default)({url:e}));try{return r.load({signal:this.signal})}catch(t){return(0,i.throwIfAbortError)(t),null}}constructor(t,r,e,n){var o;this._parsedUrl=t,this._portalItem=r,this._apiKey=e,this.signal=n,this._rootDocument=null;const s=null===(o=this._parsedUrl)||void 0===o?void 0:o.path.match(/^(.*)\/SceneServer\/layers\/([\d]*)\/?$/i);s&&(this._urlParts={root:s[1],layerId:parseInt(s[2],10)})}}}))}();
//# sourceMappingURL=BuildingSceneLayer.757f42c9.js.map
