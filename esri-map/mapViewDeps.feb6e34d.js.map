{"mappings":"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","sources":["node_modules/@arcgis/core/views/2d/layers/features/schemaUtils.js","node_modules/@arcgis/core/views/2d/engine/webgl/util/vvFlagUtils.js","node_modules/@arcgis/core/views/2d/layers/features/support/pixelBuffering.js","node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js","node_modules/@arcgis/core/views/2d/layers/features/support/rendererUtils.js","node_modules/@arcgis/core/views/2d/layers/support/clusterUtils.js","node_modules/@arcgis/core/views/2d/engine/LevelDependentSizeVariable.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../../../core/has.js\";import{clone as r}from\"../../../../core/lang.js\";import i from\"../../../../core/Logger.js\";import{isSome as n,unwrap as l,isNone as s,unwrapOr as o}from\"../../../../core/maybe.js\";import{pt2px as a}from\"../../../../core/screenUtils.js\";import{sqlAnd as u}from\"../../../../core/sql.js\";import{WGLSymbologyType as f}from\"../../engine/webgl/enums.js\";import{getVVType as d}from\"../../engine/webgl/Utils.js\";import{getTechniqueFromRenderer as p}from\"../../engine/webgl/techniques/utils.js\";import{getVVFlags as c}from\"../../engine/webgl/util/vvFlagUtils.js\";import{createSymbolSchema as y}from\"./createSymbolSchema.js\";export{createSymbolSchema}from\"./createSymbolSchema.js\";import{getPtMaxVVSize as m}from\"./support/pixelBuffering.js\";import{getSupportedHeatmapRenderer as g,simplifyVisualVariables as b}from\"./support/rendererUtils.js\";import{convertAggregateFieldFromPublic as x,createClusterRenderer as h}from\"../support/clusterUtils.js\";import{toJSONGeometryType as v}from\"../support/util.js\";const w=i.getLogger(\"esri.views.2d.layers.features.schemaUtils\"),T=\"ValidationError\",E={esriGeometryPoint:[\"above-right\",\"above-center\",\"above-left\",\"center-center\",\"center-left\",\"center-right\",\"below-center\",\"below-left\",\"below-right\"],esriGeometryPolygon:[\"always-horizontal\"],esriGeometryPolyline:[\"center-along\"],esriGeometryMultipoint:null};function I(e){return e}function S(e){let t=0,r=0,i=f.DEFAULT;if(n(e)){if(r=m(e),\"visualVariables\"in e&&(t=c(e.visualVariables||[]),\"dot-density\"===e.type&&(i=f.DOT_DENSITY)),\"heatmap\"===e.type&&(i=f.HEATMAP),\"dictionary\"===e.type)return{maxVVSize:r,vvFlags:t,symbologyType:f.DEFAULT};if(\"pie-chart\"===e.type)return{maxVVSize:r,vvFlags:t,symbologyType:f.PIE_CHART};if(i!==f.DOT_DENSITY&&i!==f.HEATMAP){const t=e.getSymbols();\"backgroundFillSymbol\"in e&&e.backgroundFillSymbol&&t.push(e.backgroundFillSymbol);let r=!0,n=!0;for(const e of t)if(\"cim\"===e.type&&(n=!1),\"simple-fill\"===e.type||\"picture-fill\"===e.type){const t=e.outline,i=t&&\"none\"!==t.style&&\"solid\"!==t.style,l=\"simple-fill\"===e.type&&\"none\"!==e.style&&\"solid\"!==e.style,s=\"picture-fill\"===e.type||l||i;i&&(r=!1),s&&(n=!1)}r?i=n?f.OUTLINE_FILL_SIMPLE:f.OUTLINE_FILL:n&&(i=f.SIMPLE)}}return{vvFlags:t,maxVVSize:r,symbologyType:i}}function F(t,r){const i=t.labelPlacement,n=E[r];if(!t.symbol)return w.warn(\"No ILabelClass symbol specified.\"),!0;if(!n)return w.error(new e(\"mapview-labeling:unsupported-geometry-type\",`Unable to create labels for Feature Layer, ${r} is not supported`)),!0;if(!n.includes(i)){const e=n[0];i&&w.warn(`Found invalid label placement type ${i} for ${r}. Defaulting to ${e}`),t.labelPlacement=e}return!1}function V(e,t){const i=r(e);return i.some((e=>F(e,t)))?[]:i}function z(e){return t(\"esri-2d-update-debug\")&&console.debug(\"Created new schema\",N(e,!0)),N(e)}function N(e,t=!1){try{const r=U(e,t),i=$(e),l={};r.map((t=>M(l,e,t)));const s=n(e.subtypeCode)?`${e.subtypeField} = ${e.subtypeCode}`:null,o=u(e.definitionExpression,s);return{source:{definitionExpression:o,fields:e.fields.map((e=>e.toJSON())),gdbVersion:e.gdbVersion,historicMoment:e.historicMoment?.getTime(),outFields:e.availableFields,pixelBuffer:e.pixelBuffer,spatialReference:e.spatialReference.toJSON(),timeExtent:e.timeExtent?.toJSON(),customParameters:e.customParameters},attributes:{fields:{},indexCount:0},processors:r,tileRenderer:i,targets:l}}catch(r){if(r.fieldName===T)return w.error(r),null;throw r}}function M(t,r,i){switch(i.target){case\"feature\":return void P(t,O(r),i);case\"aggregate\":{if(!(\"featureReduction\"in r))return;const n=r.featureReduction;switch(n.type){case\"selection\":throw new e(T,\"Mapview does not support `selection` reduction type\",n);case\"binning\":return P(t,O(r),i),void j(t,n,i);case\"cluster\":return P(t,O(r),i),void R(t,n,i)}}}}function L(e,t){for(const r in t){const i=t[r];if(i.target!==e.name)continue;const n=e.attributes[r];n?(n.context.mesh=n.context.mesh||i.context.mesh,n.context.storage=n.context.storage||i.context.storage):e.attributes[r]=i}return e}function O(e){return[l(e.filter)?.toJSON()??null,l(l(e.featureEffect)?.filter)?.toJSON()??null]}function P(e,t,r){return e.feature||(e.feature={name:\"feature\",input:\"source\",filters:t,attributes:{}}),L(e.feature,r.attributes.fields),e}function j(e,t,r){return e.aggregate||(e.aggregate={name:\"aggregate\",type:\"bin\",filters:null,input:\"feature\",params:{fixedBinLevel:t.fixedBinLevel},attributes:{}}),L(e.aggregate,r.attributes.fields),e}function R(e,t,r){return e.aggregate||(e.aggregate={name:\"aggregate\",type:\"cluster\",input:\"feature\",filters:null,attributes:{},params:{clusterRadius:a(t.clusterRadius/2),clusterPixelBuffer:64*Math.ceil(a(t.clusterMaxSize)/64),fields:r.aggregateFields}}),L(e.aggregate,r.attributes.fields),e}function B(e,t){return t.field?k(e,{...t,type:\"field\",field:t.field}):t.valueExpression?k(e,{...t,type:\"expression\",valueExpression:t.valueExpression}):{field:null,fieldIndex:null}}function k(e,t){switch(t.type){case\"expression\":{const r=I(t.valueExpression);if(!e.fields[r]){const i=e.indexCount++;e.fields[r]={...t,name:r,fieldIndex:i}}return{fieldIndex:e.fields[r].fieldIndex}}case\"label-expression\":{const r=I(JSON.stringify(t.label));if(!e.fields[r]){const i=e.indexCount++;e.fields[r]={...t,name:r,fieldIndex:i}}return{fieldIndex:e.fields[r].fieldIndex}}case\"field\":{const r=t.field;return\"aggregate\"===t.target&&e.fields[r]||(e.fields[r]={...t,name:r}),{field:r}}case\"statistic\":return e.fields[t.name]={...t},{field:t.name}}}function U(e,t=!1){const r=new Array;let i=0;return r.push(A(e,i++,t)),r}function C(e,t,r,i,n,l=!1){const s=k(t,{type:\"label-expression\",target:i,context:{mesh:!0},resultType:\"string\",label:{labelExpression:r.labelExpression,labelExpressionInfo:r.labelExpressionInfo?{expression:r.labelExpressionInfo.expression}:null,symbol:!!r.symbol,where:r.where}}),{fieldIndex:o}=s,a=S(e);return{...y(r,a,l),fieldIndex:o,target:i,index:n}}function D(t,r,i){const n=\"featureReduction\"in r&&r.featureReduction;if(!n)return{fields:[],labels:[],matcher:null,rendererOverride:null};const l=\"aggregate\",s=[];let o=null,a=v(r.geometryType),u=[],f=null;if(n)switch(n.type){case\"selection\":throw new e(T,\"Mapview does not support `selection` reduction type\",n);case\"cluster\":case\"binning\":if(\"cluster\"===n.type?a=\"esriGeometryPoint\":\"binning\"===n.type&&(a=\"esriGeometryPolygon\"),n.renderer){for(const e of n.fields)x(s,e);f=n.renderer,o=K(null,l,n.renderer,i),u=n&&n.labelsVisible&&n.labelingInfo||[]}else if(\"cluster\"===n.type){if(f=h(s,r.renderer,n,null),n.symbol){const e=S(f);o={type:\"simple\",symbol:y(n.symbol,e,i),symbologyType:e.symbologyType}}u=n&&n.labelsVisible&&n.labelingInfo||[]}}q(t,s);return{labels:V(u,\"binning\"===n.type?\"esriGeometryPolygon\":a),matcher:o,fields:s,rendererOverride:f}}function A(t,r,i=!1){const l={indexCount:0,fields:{}},s=\"featureReduction\"in t&&t.featureReduction?\"aggregate\":\"feature\";if(\"sublayers\"in t){const r={type:\"subtype\",subtypeField:t.subtypeField,renderers:{},symbologyType:f.DEFAULT},o={type:\"subtype\",mapping:{},target:\"feature\"},a={type:\"subtype\",classes:{}},u={type:\"symbol\",target:\"feature\",aggregateFields:[],attributes:l,storage:o,mesh:{matcher:r,aggregateMatcher:null,labels:a,sortKey:null}},d=new Set;let p=0;for(const{renderer:f,subtypeCode:c,labelingInfo:y,labelsVisible:m}of t.sublayers){const t=K(l,s,f,i),u=J(l,s,f),g=m&&y;if(\"visualVariables\"in f&&f.visualVariables&&f.visualVariables.length)throw new e(T,\"Visual variables are currently not supported for subtype layers\");if(\"dictionary\"===t.type)throw new e(T,\"Dictionary renderer is not supported in subtype layers\");if(\"subtype\"===t.type)throw new e(T,\"Nested subtype renderers is not supported\");if(n(u)&&\"subtype\"===u.type)throw new e(T,\"Nested subtype storage is not supported\");if(n(u)&&n(u.attributeMapping))throw new e(T,\"Non-visual-variable attributes are not supported in subtype layers\");if(\"heatmap\"===t.type)throw new e(T,\"Heatmaps are not supported in subtype layers\");if(\"pie-chart\"===t.type)throw new e(T,\"Pie-charts are not supported in subtype layers\");if(d.has(c))throw new e(T,\"Subtype codes for sublayers must be unique\");d.add(c),r.renderers[c]=t,o.mapping[c]=u,g&&(a.classes[c]=g.map((e=>C(f,l,e,\"feature\",p++,i))))}return u}if(\"heatmap\"===t.renderer.type&&\"raster\"===g()){const{radius:e,fieldOffset:r,field:i}=t.renderer;return{type:\"heatmap\",aggregateFields:[],attributes:l,target:s,storage:null,mesh:{radius:e,fieldOffset:r,field:B(l,{target:s,field:i,resultType:\"numeric\"}).field}}}const o=D(l,t,i),a=v(t.geometryType),u=o.rendererOverride??t.renderer,d=K(l,s,u,i),p=J(l,s,u),c=G(l,t.orderBy),y=V(t.labelsVisible&&t.labelingInfo||[],a);let m=0;const b=[...y.map((e=>C(u,l,e,\"feature\",m++,i))),...o.labels.map((e=>C(u,l,e,\"aggregate\",m++,i)))];return{type:\"symbol\",target:s,attributes:l,aggregateFields:o.fields,storage:p,mesh:{matcher:d,labels:{type:\"simple\",classes:b},aggregateMatcher:o.matcher,sortKey:c}}}function $(e){return\"heatmap\"===e.renderer?.type&&\"raster\"===g()?{type:\"heatmap\"}:{type:\"symbol\"}}function G(t,r){if(s(r)||!r.length)return null;r.length>1&&w.warn(`Layer rendering currently only supports ordering by 1 orderByInfo, but found ${r.length}. All but the first will be discarded`);const i=r[0],n=\"ascending\"===i.order?\"asc\":\"desc\";if(i.field)return{field:i.field,order:n};if(i.valueExpression){return{fieldIndex:k(t,{type:\"expression\",target:\"feature\",valueExpression:i.valueExpression,resultType:\"numeric\"}).fieldIndex,order:n}}return w.error(new e(T,\"Expected to find a field or valueExpression for OrderByInfo\",i)),null}function q(e,t){const r={mesh:!0,storage:!0};for(const i of t){const{name:t,outStatistic:n}=i,{statisticType:l,onStatisticField:s}=n;let o=null,a=null,u=null;const f=\"numeric\",d=\"feature\";if(\"onStatisticValueExpression\"in n){a=k(e,{type:\"expression\",target:d,valueExpression:n.onStatisticValueExpression,resultType:f}).fieldIndex}else if(\"onStatisticNormalizationField\"in n){o=k(e,{type:\"field\",target:d,field:s,resultType:f}).field,u=n.onStatisticNormalizationField}else{o=k(e,{type:\"field\",target:d,field:s,resultType:f}).field}k(e,{type:\"statistic\",target:\"aggregate\",name:t,context:r,inField:o,inNormalizationField:u,inFieldIndex:a,statisticType:l})}}function J(e,t,r){let i;switch(r.type){case\"simple\":case\"class-breaks\":case\"unique-value\":case\"dictionary\":i={visualVariables:!0,attributes:null};break;default:i=p(r).getStorageSpec(r)}return _(e,t,i,r)}function _(e,t,r,i){if(s(r))return null;const{visualVariables:l,attributes:o}=r;let a=null;l&&\"visualVariables\"in i&&(a=H(e,t,i.visualVariables));const u=n(a)?4:0;let f=null;return n(o)&&(f=o.map(((r,i)=>{const{field:n,fieldIndex:l}=B(e,{valueExpression:r.valueExpression,field:r.field,resultType:\"numeric\",target:t});return{binding:i+u,field:n,fieldIndex:l}}))),{type:\"simple\",target:t,attributeMapping:f,vvMapping:a}}function H(e,t,r){if(!r||!r.length)return[];const i={storage:!0},n=\"numeric\";return b(r).map((r=>{const l=d(r.type),{field:s,fieldIndex:o}=B(e,{target:t,valueExpression:r.valueExpression,field:r.field,context:i,resultType:n});switch(r.type){case\"size\":return\"$view.scale\"===r.valueExpression?null:{type:\"size\",binding:l,field:s,fieldIndex:o,normalizationField:B(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field,valueRepresentation:r.valueRepresentation??null};case\"color\":return{type:\"color\",binding:l,field:s,fieldIndex:o,normalizationField:B(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field};case\"opacity\":return{type:\"opacity\",binding:l,field:s,fieldIndex:o,normalizationField:B(e,{target:t,field:r.normalizationField,context:i,resultType:n}).field};case\"rotation\":return{type:\"rotation\",binding:l,field:s,fieldIndex:o}}})).filter((e=>e))}function K(e,t,r,i=!1){const n=o(e,{indexCount:0,fields:{}});switch(r.type){case\"simple\":case\"dot-density\":return Y(n,r,i);case\"class-breaks\":return W(n,t,r,i);case\"unique-value\":return X(n,t,r,i);case\"dictionary\":return Z(n,r,i);case\"heatmap\":return ee(n,r,i);case\"pie-chart\":return Q(n,r,i)}}function Y(e,t,r=!1){const i=t.getSymbols(),n=i.length?i[0]:null,l=S(t);return{type:\"simple\",symbol:y(n,l,r),symbologyType:l.symbologyType}}function Q(e,t,r=!1){const i=t.getSymbols(),n=i[0],l=i.length>1?i[1]:null,s=S(t);return{type:\"pie-chart\",markerSymbol:y(n,s,r),fillSymbol:y(l,s,r),symbologyType:s.symbologyType}}function W(e,t,r,i=!1){const n={mesh:!0,use:\"renderer.field\"},l=r.backgroundFillSymbol,{field:s,fieldIndex:o}=B(e,{target:t,field:r.field,valueExpression:r.valueExpression,resultType:\"numeric\",context:n}),a=r.normalizationType,u=\"log\"===a?\"esriNormalizeByLog\":\"percent-of-total\"===a?\"esriNormalizeByPercentOfTotal\":\"field\"===a?\"esriNormalizeByField\":null,f=S(r),d=r.classBreakInfos.map((e=>({symbol:y(e.symbol,f,i),min:e.minValue,max:e.maxValue}))).sort(((e,t)=>e.min-t.min));return{type:\"interval\",attributes:e.fields,field:s,fieldIndex:o,backgroundFillSymbol:y(l,f,i),defaultSymbol:y(r.defaultSymbol,f,i),intervals:d,normalizationField:r.normalizationField,normalizationTotal:r.normalizationTotal,normalizationType:u,isMaxInclusive:r.isMaxInclusive,symbologyType:f.symbologyType}}function X(t,r,i,n=!1){const l=[],s=i.backgroundFillSymbol,o={target:r,context:{mesh:!0},resultType:\"string\"};if(i.field&&\"string\"!=typeof i.field)throw new e(T,\"Expected renderer.field to be a string\",i);const{field:a,fieldIndex:u}=B(t,{...o,field:i.field,valueExpression:i.valueExpression}),f=S(i);for(const e of i.uniqueValueInfos)l.push({value:\"\"+e.value,symbol:y(e.symbol,f,n)});return{type:\"map\",attributes:t.fields,field:a,fieldIndex:u,field2:B(t,{...o,field:i.field2}).field,field3:B(t,{...o,field:i.field3}).field,fieldDelimiter:i.fieldDelimiter,backgroundFillSymbol:y(s,f),defaultSymbol:y(i.defaultSymbol,f),map:l,symbologyType:f.symbologyType}}function Z(e,t,r=!1){const i=S(t);return{type:\"dictionary\",config:t.config,fieldMap:t.fieldMap,scaleExpression:t.scaleExpression,url:t.url,symbolOptions:i,symbologyType:i.symbologyType}}function ee(e,t,r=!1){const i=t.getSymbols(),n=i.length?i[0]:null,l=S(t);return{type:\"heatmap\",symbol:y(n,l,r),symbologyType:l.symbologyType}}export{q as addAggregateFields,K as createMatcherSchema,B as createRendererAttributeSchema,z as createSchema,S as createSymbolSchemaOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{WGLVVFlag as t}from\"../enums.js\";import{getTypeOfSizeVisualVariable as o}from\"../visualVariablesUtils.js\";function e(e){if(!e)return t.NONE;let r=0;for(const i of e)if(\"size\"===i.type){const t=o(i);r|=t,\"outline\"===i.target&&(r|=t<<4)}else\"color\"===i.type?r|=t.COLOR:\"opacity\"===i.type?r|=t.OPACITY:\"rotation\"===i.type&&(r|=t.ROTATION);return r}export{e as getVVFlags};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{pt2px as t}from\"../../../../../core/screenUtils.js\";import{CIMSymbolHelper as e}from\"../../../../../symbols/cim/CIMSymbolHelper.js\";import r from\"../../../../../symbols/cim/Rect.js\";import{AVERAGE_GLYPH_MOSAIC_ITEM as i}from\"../../../engine/webgl/definitions.js\";import{getTextSymbolSize as n}from\"../../graphics/graphicsUtils.js\";import{expandSymbol as s}from\"../../support/cimSymbolUtils.js\";const a={\"simple-marker\":1,\"picture-marker\":1,text:0,\"simple-line\":0,\"simple-fill\":0,\"picture-fill\":0,cim:1,\"web-style\":1},o=.707;function m(t){if(!(\"visualVariables\"in t))return 0;if(!t.hasVisualVariables(\"size\"))return 0;const e=t.getVisualVariablesForType(\"size\");if(!e[0])return 0;const r=e[0];if(\"outline\"===r.target)return 0;if(\"stops\"===r.transformationType)return r.stops.map((t=>t.size)).reduce(g,0);if(\"clamped-linear\"===r.transformationType){let t=-1/0,e=-1/0;return t=\"number\"==typeof r.maxSize?r.maxSize:r.maxSize.stops.map((t=>t.size)).reduce(g,0),e=\"number\"==typeof r.minSize?r.minSize:r.minSize.stops.map((t=>t.size)).reduce(g,0),Math.max(t,e)}return\"real-world-size\"===r.transformationType?30:void 0}function c(t){return t.type in a}async function u(e,r,i,n,s,a){if(!e||a&&\"cluster\"===a.type)return 0;if(\"heatmap\"===e.type)return Math.round(t(e.radius));if(\"dot-density\"===e.type)return 0;if(\"dictionary\"===e.type)return\"esriGeometryPoint\"===r||\"esriGeometryMultipoint\"===r?100:200;const o=e.getSymbols(),c=m(e),u=[];for(const t of o)u.push(x(t,c,i,r,n,s));const p=await Promise.all(u);return t(p.reduce(g,0))}const p=[0,0,0,0];function l(t,e){return null==t?e:t}function f(t,e){return null==t.outline?e:l(t.outline.width,e)}const h={sdf:!0,code:99,metrics:i.metrics,rect:new r(0,0,24,24),page:0,textureBinding:2};function y(t){const e=t.text&&t.text.length;if(!e)return{glyphMosaicItems:[h]};const r=[];for(let i=0;i<e;i++)r.push({...h,code:t.text.charCodeAt(i)});return{glyphMosaicItems:r}}async function d(t,r,i,a,m,c){if(\"simple-marker\"===t.type){const e=Math.max(l(t.size,12),r);return M(t)+e*o}if(\"picture-marker\"===t.type){const e=Math.max(l(t.height,12),r),i=l(t.width,12)*(e/l(t.height,12))/2,n=e/2;return M(t)+Math.sqrt(i*i+n*n)}if(\"text\"===t.type){const e=y(t);n(p,t.toJSON(),e);const r=Math.abs(p[0]),i=Math.abs(p[1]),s=p[2],a=p[3];return Math.max(r,i)+Math.max(s,a)}if(\"simple-line\"===t.type){const e=t,i=Math.max(l(e.width,.75),r)/2;return e.marker?Math.max(6*e.width,2*r):i}if(\"simple-fill\"===t.type||\"picture-fill\"===t.type)return Math.max(f(t,0),r)/2;if(\"cim\"===t.type){const n={geometryType:a,fields:m,spatialReference:c},o={type:\"cim\",rendererKey:0,data:t.data,maxVVSize:r};await s(o,n,i);const u=e.getEnvelope(t.data,i);return u?Math.sqrt(u.width*u.width+u.height*u.height):0}return\"web-style\"===t.type?d(await t.fetchCIMSymbol(),r,i,a,m,c):0}async function x(t,e,r,i,n,s){return c(t)?Math.min(await d(t,e,r,i,n,s),75):0}function M(t){const e=l(t.xoffset,0),r=l(t.yoffset,0);return Math.sqrt(e*e+r*r)}function g(t,e){return Math.max(t,e)}export{u as computePxBuffer,m as getPtMaxVVSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{bidiText as e}from\"../../../../core/BidiText.js\";import{unwrap as t}from\"../../../../core/maybe.js\";import{pt2px as n}from\"../../../../core/screenUtils.js\";import i from\"../../../../geometry/Polygon.js\";import{create as r}from\"../../../../geometry/support/aaBoundingRect.js\";import{getInfo as o}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{getXAnchorDirection as s,getYAnchorDirection as l}from\"../../engine/webgl/alignmentUtils.js\";import{GLYPH_SIZE as m,MAGIC_LABEL_LINE_HEIGHT as a}from\"../../engine/webgl/definitions.js\";import{shapeGlyphs as f}from\"../../engine/webgl/mesh/templates/shapingUtils.js\";const c=512,g=50;function p(e,t){const n=o(t);if(!n)return null;const[i,s]=n.valid;return e[2]>s?[r([e[0],e[1],s,e[3]]),r([i,e[1],i+e[2]-s,e[3]])]:e[0]<i?[r([i,e[1],e[2],e[3]]),r([s-(i-e[0]),e[1],s,e[3]])]:null}function u(e){return\"text\"===e||\"esriTS\"===e}function h(e){return\"simple-marker\"===e||\"picture-marker\"===e||\"esriSMS\"===e||\"esriPMS\"===e}function y(e){switch(t(e.geometry).type){case\"point\":case\"multipoint\":return 0;case\"polyline\":return 1;case\"polygon\":case\"extent\":return 2}return 0}function x(t,i,r){if(!r||0===r.glyphMosaicItems.length)return t;const o=e(i.text)[1],c=r.glyphMosaicItems,g=f(c,o,{scale:n(i.font.size)/m,angle:i.angle??0,xOffset:i.xoffset??0,yOffset:i.yoffset??0,hAlign:s(i.horizontalAlignment||\"center\"),vAlign:l(i.verticalAlignment||\"baseline\"),maxLineWidth:Math.max(32,Math.min(i.lineWidth||512,512)),lineHeight:a*Math.max(.25,Math.min(i.lineHeight||1,4)),decoration:i.font.decoration||\"none\",isCIM:!1}).bounds;return t[0]=n(g.x-g.halfWidth),t[1]=n(g.y-g.halfHeight),t[2]=n(g.width),t[3]=n(g.height),t}function d(e){if(!e)return null;const{xmin:t,ymin:n,xmax:r,ymax:o,spatialReference:s}=e;return new i({rings:[[[t,n],[t,o],[r,o],[r,n],[t,n]]],spatialReference:s})}export{g as PIXEL_BUFFER,c as TILE_SIZE,x as getTextSymbolSize,y as graphicGeometryToNumber,p as intersectingInternationalDateline,h as isMarkerSymbol,u as isTextSymbol,d as polygonFromExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import r from\"../../../../../core/has.js\";import t from\"../../../../../core/Logger.js\";import{toPt as o}from\"../../../../../core/screenUtils.js\";import{getWebGLCapabilities as s}from\"../../../../webgl/capabilities.js\";const l=8,a=l-2,n=t.getLogger(\"esri.views.2d.layers.features.support.rendererUtils\"),i=e=>{if(!(\"visualVariables\"in e)||!e.visualVariables||!e.visualVariables.length)return e;const r=e.clone(),t=r.visualVariables.map((e=>p(e)?c(e):e));return r.visualVariables=t,r};function u(e){return e.map((e=>p(e)?c(e.clone()):e))}function p(e){return(\"size\"===e.type||\"color\"===e.type||\"opacity\"===e.type)&&null!=e.stops}function c(e){return e.stops=g(e.type,e.stops),e}function f(e,r,t){return(1-t)*e+t*r}function b(e,r){const[t,...s]=r,l=s.pop(),n=s[0].value,i=s[s.length-1].value,u=(i-n)/a,p=[];for(let a=n;a<i;a+=u){let t=0;for(;a>=s[t].value;)t++;const l=s[t],n=r[t-1],i=a-n.value,u=l.value===n.value?1:i/(l.value-n.value);if(\"color\"===e){const e=s[t],o=r[t-1],l=e.color.clone();l.r=f(o.color.r,l.r,u),l.g=f(o.color.g,l.g,u),l.b=f(o.color.b,l.b,u),l.a=f(o.color.a,l.a,u),p.push({value:a,color:l,label:e.label})}else if(\"size\"===e){const e=s[t],l=r[t-1],n=o(e.size),i=f(o(l.size),n,u);p.push({value:a,size:i,label:e.label})}else{const e=s[t],o=f(r[t-1].opacity,e.opacity,u);p.push({value:a,opacity:o,label:e.label})}}return[t,...p,l]}function m(e){const[r,...t]=e,o=t.pop();for(;t.length>a;){let e=0,r=0;for(let o=1;o<t.length;o++){const s=t[o-1],l=t[o],a=Math.abs(l.value-s.value);a>r&&(r=a,e=o)}t.splice(e,1)}return[r,...t,o]}function g(e,r){return r.length<=l?r:(n.warn(`Found ${r.length} Visual Variable stops, but MapView only supports ${l}. Displayed stops will be simplified.`),r.length>2*l?b(e,r):m(r))}function h(){if(r(\"heatmap-force-raster\"))return\"raster\";const{supportsTextureFloat:e,supportsTextureHalfFloat:t,supportsColorBufferFloat:o,supportsColorBufferFloatBlend:l,supportsColorBufferHalfFloat:a}=s(\"2d\");return e&&o&&l||t&&a?\"symbol\":r(\"heatmap-allow-raster-fallback\")?\"raster\":\"none\"}function v(t){if(!t)return!0;switch(t.type){case\"dot-density\":if(!s(\"2d\").supportsTextureFloat)return n.error(new e(\"webgl-missing-extension\",\"Missing WebGL extension OES_Texture_Float which is required for DotDensity\")),!1;break;case\"heatmap\":{const t=h();if(\"none\"===t||\"raster\"===t&&!r(\"heatmap-force-raster\")){const r=s(\"2d\"),o=[\"supportsTextureFloat\",\"supportsTextureHalfFloat\",\"supportsColorBufferFloat\",\"supportsColorBufferFloatBlend\",\"supportsColorBufferHalfFloat\"].filter((e=>!r[e])).join(\", \");if(\"none\"===t)return n.errorOnce(new e(\"webgl-missing-extension\",`Missing WebGL${r.type} requirements for Heatmap: ${o}`)),!1;\"raster\"===t&&n.warnOnce(`Missing WebGL${r.type} requirements for accelerated Heatmap: ${o}. Feature support may be limited.`)}break}}return!0}export{h as getSupportedHeatmapRenderer,v as isRendererSupported,i as simplifyVVRenderer,u as simplifyVisualVariables};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import i from\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{isNone as r}from\"../../../../core/maybe.js\";import{createMD5Hash as s}from\"../../../../core/MD5.js\";import a from\"../../../../renderers/visualVariables/SizeVariable.js\";import n from\"../../../../renderers/visualVariables/support/SizeStop.js\";import{LevelDependentSizeVariable as l}from\"../../engine/LevelDependentSizeVariable.js\";const o=t.getLogger(\"esri.views.2d.layers.support.clusterUtils\");i.add(\"esri-cluster-arcade-enabled\",!0);const u=i(\"esri-cluster-arcade-enabled\"),c=(e,i,t,s)=>{const a=i.clone();if(!m(a))return a;if(t.fields)for(const r of t.fields)x(e,r);if(\"visualVariables\"in a){const i=(a.visualVariables||[]).filter((e=>\"$view.scale\"!==e.valueExpression)),n=d(i);i.forEach((i=>{\"rotation\"===i.type?i.field?i.field=y(e,i.field,\"avg_angle\"):i.valueExpression&&(i.field=S(e,i.valueExpression,\"avg_angle\"),i.valueExpression=null):i.normalizationField?(i.field=y(e,i.field,\"norm\",i.normalizationField),i.normalizationField=null):i.field?i.field=y(e,i.field,\"avg\"):(i.field=S(e,i.valueExpression,\"avg\"),i.valueExpression=null)})),r(n)&&!p(i)&&(i.push(f(t,s)),a.dynamicClusterSize=!0),a.visualVariables=i}switch(a.type){case\"simple\":break;case\"unique-value\":a.field?a.field=y(e,a.field,\"mode\"):a.valueExpression&&(a.field=S(e,a.valueExpression,\"mode\"),a.valueExpression=null);break;case\"class-breaks\":a.normalizationField?(a.field=y(e,a.field,\"norm\",a.normalizationField),a.normalizationField=null):a.field?a.field=y(e,a.field,\"avg\"):(a.field=S(e,a.valueExpression,\"avg\"),a.valueExpression=null)}return a},d=e=>{for(const i of e)if(\"size\"===i.type)return i;return null},p=e=>{for(const i of e)if(\"cluster_count\"===i.field)return!0;return!1},f=(e,i)=>{const t=[new n({value:0,size:0}),new n({value:1})];if(r(i))return new a({field:\"cluster_count\",stops:[...t,new n({value:2,size:0})]});const s=Object.keys(i).reduce(((r,s)=>({...r,[s]:[...t,new n({value:Math.max(2,i[s].minValue),size:e.clusterMinSize}),new n({value:Math.max(3,i[s].maxValue),size:e.clusterMaxSize})]})),{});return new l({field:\"cluster_count\",levels:s})},m=i=>{const t=t=>o.error(new e(\"Unsupported-renderer\",t,{renderer:i}));if(\"unique-value\"===i.type){if(i.field2||i.field3)return t(\"FeatureReductionCluster does not support multi-field UniqueValueRenderers\"),!1}else if(\"class-breaks\"===i.type){if(i.normalizationField){const e=i.normalizationType;if(\"field\"!==e)return t(`FeatureReductionCluster does not support a normalizationType of ${e}`),!1}}else if(\"simple\"!==i.type)return t(`FeatureReductionCluster does not support renderers of type ${i.type}`),!1;if(!u){if(\"valueExpression\"in i&&i.valueExpression)return t(\"FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release\"),!1;if((\"visualVariables\"in i&&i.visualVariables||[]).some((e=>!(!(\"valueExpression\"in e)||!e.valueExpression))))return t(\"FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release\"),!1}return!0};function v(e,i,t){switch(e){case\"avg\":case\"avg_angle\":return`cluster_avg_${i}`;case\"mode\":return`cluster_type_${i}`;case\"norm\":{const e=t,r=\"field\",a=i.toLowerCase()+\",norm:\"+r+\",\"+e.toLowerCase();return\"cluster_avg_\"+s(a)}}}function x(i,t){const{name:r,outStatistic:a}=t,{onStatisticField:n,onStatisticValueExpression:l,statisticType:u}=a;if(l){const e=s(l.toLowerCase());i.push({name:r,outStatistic:{onStatisticField:e,onStatisticValueExpression:l,statisticType:u}})}else n?i.push({name:r,outStatistic:{onStatisticField:n,statisticType:u}}):o.error(new e(\"mapview-unsupported-field\",\"Unable to handle field\",{field:t}))}function S(e,i,t){const r=s(i),a=\"mode\"===t?`cluster_type_${r}`:`cluster_avg_${r}`;return e.some((e=>e.name===a))||e.push({name:a,outStatistic:{onStatisticField:r,onStatisticValueExpression:i,statisticType:t}}),a}function y(e,i,t,r){if(\"cluster_count\"===i||e.some((e=>e.name===i)))return i;const s=v(t,i,r);return e.some((e=>e.name===s))||(\"norm\"===t?e.push({name:s,outStatistic:{onStatisticField:i,onStatisticNormalizationField:r,statisticType:t}}):e.push({name:s,outStatistic:{onStatisticField:i,statisticType:t}})),s}export{x as convertAggregateFieldFromPublic,f as createClusterCountSizeVariable,c as createClusterRenderer,d as findSizeVV,p as hasClusterCountVV,m as isClusterCompatibleRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{clone as s}from\"../../../core/lang.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import{writer as r}from\"../../../core/accessorSupport/decorators/writer.js\";import o from\"../../../renderers/visualVariables/SizeVariable.js\";import{isSizeVariable as a}from\"../../../renderers/visualVariables/support/sizeVariableUtils.js\";var l;let n=l=class extends o{writeLevels(e,s,i){for(const t in e){const e=this.levels[t];return void(s.stops=e)}}clone(){return new l({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:a(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:a(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((e=>e.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone(),levels:s(this.levels)})}};e([i()],n.prototype,\"levels\",void 0),e([r(\"levels\")],n.prototype,\"writeLevels\",null),n=l=e([t(\"esri.views.2d.engine.LevelDependentSizeVariable\")],n);export{n as LevelDependentSizeVariable};\n"],"names":["$kyj08","parcelRequire","$f80052ccf47266fb$var$w","$jHOLN","default","getLogger","$f80052ccf47266fb$var$T","$f80052ccf47266fb$var$E","esriGeometryPoint","esriGeometryPolygon","esriGeometryPolyline","esriGeometryMultipoint","$f80052ccf47266fb$export$93ed0c17e45e1de","e","t","r","i","$66IJZ","WGLSymbologyType","DEFAULT","$7qybv","isSome","$a8gd3","getPtMaxVVSize","$8Zy9c","getVVFlags","visualVariables","type","DOT_DENSITY","HEATMAP","maxVVSize","vvFlags","symbologyType","PIE_CHART","t1","getSymbols","backgroundFillSymbol","push","r1","n1","e1","t2","outline","i1","style","l","s","OUTLINE_FILL_SIMPLE","OUTLINE_FILL","SIMPLE","$f80052ccf47266fb$var$V","$flPLJ","clone","some","labelPlacement","n","symbol","warn","error","includes","$f80052ccf47266fb$var$F","$f80052ccf47266fb$export$5f4ce795563f4211","$2VlWd","console","debug","$f80052ccf47266fb$var$N","ref","ref1","Array","indexCount","fields","featureReduction","subtypeField","renderers","o","mapping","target","a","classes","u","aggregateFields","attributes","storage","mesh","matcher","aggregateMatcher","labels","sortKey","d","Set","p","renderer","f1","subtypeCode","c","labelingInfo","y","labelsVisible","m","sublayers","$f80052ccf47266fb$export$7b9cc7c81fd05db1","u1","$f80052ccf47266fb$var$J","g1","length","attributeMapping","has","add","map","$f80052ccf47266fb$var$C","$71FC0","getSupportedHeatmapRenderer","radius","fieldOffset","r2","field","$f80052ccf47266fb$export$9c8db24da8f4b421","resultType","_rendererOverride","o1","rendererOverride","$9M3e1","toJSONGeometryType","geometryType","f","$bPKxZ","convertAggregateFieldFromPublic","createClusterRenderer","e2","$90RBb","createSymbolSchema","name","outStatistic","statisticType","onStatisticField","$f80052ccf47266fb$var$k","valueExpression","onStatisticValueExpression","fieldIndex","onStatisticNormalizationField","context","inField","inNormalizationField","inFieldIndex","$f80052ccf47266fb$export$2b7b438af7463f95","$f80052ccf47266fb$var$D","a1","u2","d1","p1","c1","isNone","order","$f80052ccf47266fb$var$G","orderBy","y1","m1","b","$f80052ccf47266fb$var$A","$f80052ccf47266fb$var$U","$f80052ccf47266fb$var$$","$f80052ccf47266fb$var$P","$f80052ccf47266fb$var$O","aggregate","filters","input","params","fixedBinLevel","$f80052ccf47266fb$var$L","$f80052ccf47266fb$var$j","clusterRadius","$iXlXu","pt2px","clusterPixelBuffer","Math","ceil","clusterMaxSize","$f80052ccf47266fb$var$R","$f80052ccf47266fb$var$M","source","definitionExpression","$37plS","sqlAnd","toJSON","gdbVersion","historicMoment","getTime","outFields","availableFields","pixelBuffer","spatialReference","timeExtent","customParameters","processors","tileRenderer","targets","fieldName","ref2","ref3","ref4","unwrap","filter","featureEffect","feature","JSON","stringify","label","labelExpression","labelExpressionInfo","expression","where","index","$jhijF","getTechniqueFromRenderer","getStorageSpec","simplifyVisualVariables","$5WctK","getVVType","_valueRepresentation","binding","normalizationField","valueRepresentation","$f80052ccf47266fb$var$H","vvMapping","$f80052ccf47266fb$var$_","unwrapOr","$f80052ccf47266fb$var$Y","use","normalizationType","classBreakInfos","min","minValue","max","maxValue","sort","defaultSymbol","intervals","normalizationTotal","isMaxInclusive","$f80052ccf47266fb$var$W","uniqueValueInfos","value","field2","field3","fieldDelimiter","$f80052ccf47266fb$var$X","config","fieldMap","scaleExpression","url","symbolOptions","$f80052ccf47266fb$var$Z","$f80052ccf47266fb$var$ee","markerSymbol","fillSymbol","$f80052ccf47266fb$var$Q","$68be8236fcef1dae$export$94a93c5d5bd2108e","WGLVVFlag","NONE","$2VOK9","getTypeOfSizeVisualVariable","COLOR","OPACITY","ROTATION","$7607399f0859a6fe$export$f43b72ac518944d","hasVisualVariables","getVisualVariablesForType","transformationType","stops","size","reduce","$7607399f0859a6fe$var$g","maxSize","minSize","$4WoSm","AVERAGE_GLYPH_MOSAIC_ITEM","metrics","$i50K3","$6J0KG","$97f5b85e3cc0ac3c$export$cf9ad17145f68381","$97f5b85e3cc0ac3c$export$c5bf3b7cf35bf327","$97f5b85e3cc0ac3c$export$df7e3931a61a3e7d","$eY5Yp","getInfo","valid","$8TwEW","create","$97f5b85e3cc0ac3c$export$e7b02894f5375582","$97f5b85e3cc0ac3c$export$284faf1ac91e5382","$97f5b85e3cc0ac3c$export$64ed3de453620b35","geometry","$97f5b85e3cc0ac3c$export$230d1a7ba45cc941","glyphMosaicItems","_angle","_xoffset","_yoffset","bidiText","text","g","$a7brS","shapeGlyphs","scale","font","GLYPH_SIZE","angle","xOffset","xoffset","yOffset","yoffset","hAlign","$6S0qa","getXAnchorDirection","horizontalAlignment","vAlign","getYAnchorDirection","verticalAlignment","maxLineWidth","lineWidth","lineHeight","MAGIC_LABEL_LINE_HEIGHT","decoration","isCIM","bounds","x","halfWidth","halfHeight","width","height","$97f5b85e3cc0ac3c$export$8465bb0c2e71b9c6","xmin","ymin","xmax","ymax","$fTq43","rings","$51d8e7a6ad1f2c82$var$n","$51d8e7a6ad1f2c82$export$48658dc8bd0da4f6","$51d8e7a6ad1f2c82$var$p","$51d8e7a6ad1f2c82$var$c","$51d8e7a6ad1f2c82$export$33d0b2d57c69b1ae","pop","$51d8e7a6ad1f2c82$var$l","l1","l2","color","$51d8e7a6ad1f2c82$var$f","l3","n2","toPt","i2","e3","o2","opacity","$51d8e7a6ad1f2c82$var$b","abs","splice","$51d8e7a6ad1f2c82$var$m","$51d8e7a6ad1f2c82$var$g","$51d8e7a6ad1f2c82$export$f977d58743c3b8a3","supportsTextureFloat","supportsTextureHalfFloat","supportsColorBufferFloat","supportsColorBufferFloatBlend","supportsColorBufferHalfFloat","$3NAox","getWebGLCapabilities","$51d8e7a6ad1f2c82$export$f74b755911620208","join","errorOnce","warnOnce","$89d8906f01676079$var$o","$89d8906f01676079$var$u","$89d8906f01676079$export$2b87960fd44a5c71","$89d8906f01676079$export$19c5f02a6625014","$89d8906f01676079$export$b60314d0e3a9f973","$89d8906f01676079$export$ad2ac94a4b8e717d","forEach","$89d8906f01676079$var$y","$89d8906f01676079$var$S","$89d8906f01676079$export$32be1561d9c4b963","$89d8906f01676079$export$afc486a8e7fce3db","dynamicClusterSize","$8Eg1f","$2rUeJ","Object","keys","clusterMinSize","$a5FxJ","LevelDependentSizeVariable","levels","$fsJts","createMD5Hash","toLowerCase","$89d8906f01676079$var$v","$7eJjO","$758a9893576e13f9$var$l","$758a9893576e13f9$export$6b5725d3f68b00f1","writeLevels","this","axis","valueExpressionTitle","maxDataValue","$1OaQa","isSizeVariable","minDataValue","useSymbolValue","valueUnit","legendOptions","_","$iho5X","property","prototype","$kced1","writer","$fcwIv","subclass"],"version":3,"file":"mapViewDeps.feb6e34d.js.map"}