function e(e,t,l,n){Object.defineProperty(e,t,{get:l,set:n,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("3CisT",(function(l,n){e(l.exports,"resolveWebStyleSymbol",(function(){return c})),e(l.exports,"fetchSymbolFromStyle",(function(){return d}));var r=t("cSqwa"),a=t("gnGFZ"),o=t("bPmsI"),i=t("7dRCe"),m=t("39WmQ"),s=t("hej7M"),u=t("lwTIi"),f=t("d0yIK"),y=t("i9hTa"),b=t("9OWEb");function c(e,t,l,n){return e.name?e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,t,l){const n=y.Style2DUrlTemplate.replace(/\{SymbolName\}/gi,e.name);return(0,y.requestJSON)(n,l).then((e=>{const l=(0,y.makeCIMSymbolRef)(e.data);return(0,u.fromJSON)(l,{portal:t.portal,url:(0,i.urlToObject)((0,i.removeFile)(n)),origin:"portal-item"})}))}(e,t,n):(0,y.fetchStyle)(e,t,n).then((r=>d(r,e.name,t,l,n))):Promise.reject(new(0,o.default)("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function d(e,t,l,n,c){const d=e.data,p={portal:l&&l.portal||m.default.getDefault(),url:(0,i.urlToObject)(e.baseUrl),origin:"portal-item"},g=d.items.find((e=>e.name===t));if(!g){const e=`The symbol name '${t}' could not be found`;return Promise.reject(new(0,o.default)("symbolstyleutils:symbol-name-not-found",e,{symbolName:t}))}let S=(0,s.f)((0,y.symbolUrlFromStyleItem)(g,n),p),h=g.thumbnail&&g.thumbnail.href;const O=g.thumbnail&&g.thumbnail.imageData;(0,a.isDevEnvironment)()&&(S=(0,a.adjustStaticAGOUrl)(S),h=(0,a.adjustStaticAGOUrl)(h));const w={portal:l.portal,url:(0,i.urlToObject)((0,i.removeFile)(S)),origin:"portal-item"};return(0,y.requestJSON)(S,c).then((a=>{const o="cimRef"===n?(0,y.makeCIMSymbolRef)(a.data):a.data,i=(0,u.fromJSON)(o,w);if(i&&(0,r.isSymbol3D)(i)){if(h){const e=(0,s.f)(h,p);i.thumbnail=new(0,b.Thumbnail)({url:e})}else O&&(i.thumbnail=new(0,b.Thumbnail)({url:`data:image/png;base64,${O}`}));e.styleUrl?i.styleOrigin=new(0,f.default)({portal:l.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(i.styleOrigin=new(0,f.default)({portal:l.portal,styleName:e.styleName,name:t}))}return i}))}}));
//# sourceMappingURL=webStyleSymbolUtils.6d1fa8b1.js.map
