var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;e.register("6lALK",(function(t,r){var i,o,s,n,p;i=t.exports,Object.defineProperty(i,"__esModule",{value:!0,configurable:!0}),o=t.exports,s="default",n=function(){return M},Object.defineProperty(o,s,{get:n,set:p,enumerable:!0,configurable:!0});var l=e("j6uz9");e("ixrNB");var a=e("5kFOn");e("5xsPA"),e("lz74e"),e("1l8Di"),e("hmJOf"),e("eh5y5"),e("3nyrc"),e("azUs6"),e("3yGBU");var d=e("8E3XH"),y=e("1CpCt"),u=e("2IJVS"),h=e("7dRCe"),f=e("hTI69");e("aX9sh"),e("5HTPH"),e("gHCNy");var c=e("qA6zg"),m=e("jaTH0"),g=e("iGP99"),v=e("9rxsg"),b=e("90xN9"),_=e("8u5kg"),x=e("2lddq"),I=e("ctxhN"),O=e("5GMPk"),E=e("eOpMC"),T=e("5lb2Y"),j=e("6rQbA"),F=e("lixLM"),P=e("58e38"),w=e("6Id9n"),S=e("K4YpF"),L=e("4VorL"),R=e("1sTo6"),q=e("15IfA"),D=e("clU5B"),C=e("gr7VF"),N=e("gC5jC"),G=e("gKyS5"),J=e("jaaCV"),V=e("2WnyR");const B=(0,R.defineFieldProperties)();let Q=class extends((0,O.OrderedLayer)((0,_.CustomParametersMixin)((0,x.FeatureEffectLayer)((0,b.BlendLayer)((0,j.TemporalLayer)((0,T.ScaleRangeLayer)((0,E.RefreshableLayer)((0,I.OperationalLayer)((0,u.MultiOriginJSONMixin)(g.default)))))))))){destroy(){var e;null==(e=this.source)||e.destroy()}load(e){return this.addResolvingPromise(this.source.load(e).then((()=>{this.read(this.source.sourceJSON,{origin:"service",url:this.parsedUrl}),this.revert(["objectIdField","fields","timeInfo"],"service"),(0,q.fixRendererFields)(this.renderer,this.fieldsIndex),(0,q.fixTimeInfoFields)(this.timeInfo,this.fieldsIndex)}))),Promise.resolve(this)}get capabilities(){return this.source?this.source.capabilities:null}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}get isTable(){return this.loaded&&null==this.geometryType}get parsedUrl(){return this.url?(0,h.urlToObject)(this.url):null}set renderer(e){(0,q.fixRendererFields)(e,this.fieldsIndex),this._set("renderer",e)}set url(e){if(!e)return void this._set("url",e);const t=(0,h.urlToObject)(e);this._set("url",t.path),t.query&&(this.customParameters={...this.customParameters,...t.query})}async applyEdits(t,r){const i=await e("aBAra");await this.load();const o=await i.applyEdits(this,this.source,t,r);return this.read({extent:this.source.sourceJSON.extent,timeInfo:this.source.sourceJSON.timeInfo},{origin:"service",ignoreDefaults:!0}),o}on(e,t){return super.on(e,t)}createPopupTemplate(e){return(0,G.createPopupTemplate)(this,e)}createQuery(){const e=new(0,N.default),t=this.get("capabilities.data");e.returnGeometry=!0,t&&t.supportsZ&&(e.returnZ=!0),e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:r,timeExtent:i}=this;return e.timeExtent=null!=r&&null!=i?i.offset(-r.value,r.unit):i||null,e}getFieldDomain(e,t){let r,i=!1;const o=t&&t.feature,s=o&&o.attributes,n=this.typeIdField&&s&&s[this.typeIdField];return null!=n&&this.types&&(i=this.types.some((t=>t.id==n&&(r=t.domains&&t.domains[e],r&&"inherited"===r.type&&(r=this._getLayerDomain(e)),!0)))),i||r||(r=this._getLayerDomain(e)),r}getField(e){return this.fieldsIndex.get(e)}queryFeatures(e,t){return this.load().then((()=>this.source.queryFeatures(N.default.from(e)||this.createQuery(),t))).then((e=>{if(null!=e&&e.features)for(const t of e.features)t.layer=t.sourceLayer=this;return e}))}queryObjectIds(e,t){return this.load().then((()=>this.source.queryObjectIds(N.default.from(e)||this.createQuery(),t)))}queryFeatureCount(e,t){return this.load().then((()=>this.source.queryFeatureCount(N.default.from(e)||this.createQuery(),t)))}queryExtent(e,t){return this.load().then((()=>this.source.queryExtent(N.default.from(e)||this.createQuery(),t)))}async hasDataChanged(){try{const{dataChanged:e,updates:t}=await this.source.refresh(this.customParameters);return(0,y.isSome)(t)&&this.read(t,{origin:"service",url:this.parsedUrl,ignoreDefaults:!0}),e}catch{}return!1}_getLayerDomain(e){if(!this.fields)return null;let t=null;return this.fields.some((r=>(r.name===e&&(t=r.domain),!!t))),t}constructor(e){super(e),this.copyright=null,this.definitionExpression=null,this.displayField=null,this.editingEnabled=!1,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.hasZ=void 0,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="GeoJSON",this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new(0,v.default)({layer:this}),this.spatialReference=J.default.WGS84,this.templates=null,this.title="GeoJSON",this.type="geojson",this.typeIdField=null,this.types=null}};(0,l._)([(0,f.property)({readOnly:!0,json:{read:!1,write:!1}})],Q.prototype,"capabilities",null),(0,l._)([(0,f.property)({type:String})],Q.prototype,"copyright",void 0),(0,l._)([(0,f.property)({readOnly:!0})],Q.prototype,"createQueryVersion",null),(0,l._)([(0,f.property)({readOnly:!0})],Q.prototype,"defaultPopupTemplate",null),(0,l._)([(0,f.property)({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],Q.prototype,"definitionExpression",void 0),(0,l._)([(0,f.property)({type:String})],Q.prototype,"displayField",void 0),(0,l._)([(0,f.property)({type:Boolean})],Q.prototype,"editingEnabled",void 0),(0,l._)([(0,f.property)(F.elevationInfo)],Q.prototype,"elevationInfo",void 0),(0,l._)([(0,f.property)(P.featureReductionProperty)],Q.prototype,"featureReduction",void 0),(0,l._)([(0,f.property)({type:[L.default],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],Q.prototype,"fields",void 0),(0,l._)([(0,f.property)(B.fieldsIndex)],Q.prototype,"fieldsIndex",void 0),(0,l._)([(0,f.property)({type:V.default,json:{name:"extent"}})],Q.prototype,"fullExtent",void 0),(0,l._)([(0,f.property)({type:["point","polygon","polyline","multipoint"],json:{read:{reader:m.featureGeometryTypeKebabDictionary.read}}})],Q.prototype,"geometryType",void 0),(0,l._)([(0,f.property)({type:Boolean})],Q.prototype,"hasZ",void 0),(0,l._)([(0,f.property)(F.id)],Q.prototype,"id",void 0),(0,l._)([(0,f.property)({type:Boolean,readOnly:!0})],Q.prototype,"isTable",null),(0,l._)([(0,f.property)(F.labelsVisible)],Q.prototype,"labelsVisible",void 0),(0,l._)([(0,f.property)({type:[D.default],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:C.reader},write:!0}})],Q.prototype,"labelingInfo",void 0),(0,l._)([(0,f.property)(F.legendEnabled)],Q.prototype,"legendEnabled",void 0),(0,l._)([(0,f.property)({type:["show","hide"]})],Q.prototype,"listMode",void 0),(0,l._)([(0,f.property)({type:String,json:{name:"layerDefinition.objectIdField",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"objectIdField"}}}})],Q.prototype,"objectIdField",void 0),(0,l._)([(0,f.property)(F.opacity)],Q.prototype,"opacity",void 0),(0,l._)([(0,f.property)({type:["GeoJSON"]})],Q.prototype,"operationalLayerType",void 0),(0,l._)([(0,f.property)({readOnly:!0})],Q.prototype,"parsedUrl",null),(0,l._)([(0,f.property)(F.popupEnabled)],Q.prototype,"popupEnabled",void 0),(0,l._)([(0,f.property)({type:a.default,json:{name:"popupInfo",write:!0}})],Q.prototype,"popupTemplate",void 0),(0,l._)([(0,f.property)({types:d.rendererTypes,json:{name:"layerDefinition.drawingInfo.renderer",write:!0,origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:d.webSceneRendererTypes}}}})],Q.prototype,"renderer",null),(0,l._)([(0,f.property)(F.screenSizePerspectiveEnabled)],Q.prototype,"screenSizePerspectiveEnabled",void 0),(0,l._)([(0,f.property)({readOnly:!0})],Q.prototype,"source",void 0),(0,l._)([(0,f.property)({type:J.default})],Q.prototype,"spatialReference",void 0),(0,l._)([(0,f.property)({type:[w.default]})],Q.prototype,"templates",void 0),(0,l._)([(0,f.property)()],Q.prototype,"title",void 0),(0,l._)([(0,f.property)({json:{read:!1},readOnly:!0})],Q.prototype,"type",void 0),(0,l._)([(0,f.property)({type:String,readOnly:!0})],Q.prototype,"typeIdField",void 0),(0,l._)([(0,f.property)({type:[S.default]})],Q.prototype,"types",void 0),(0,l._)([(0,f.property)(F.url)],Q.prototype,"url",null),Q=(0,l._)([(0,c.subclass)("esri.layers.GeoJSONLayer")],Q);const M=Q})),e.register("aBAra",(function(t,r){t.exports=import("./"+e("kyEFX").resolve("ju7bs")).then((()=>e("hw2Os")))}));
//# sourceMappingURL=GeoJSONLayer.4a083b18.js.map
