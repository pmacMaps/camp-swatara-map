!function(){function e(e){return e&&e.__esModule?e.default:e}function r(e,r,t,i){Object.defineProperty(e,r,{get:t,set:i,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;t.register("jtrKP",(function(i,n){var o;o=i.exports,Object.defineProperty(o,"__esModule",{value:!0,configurable:!0}),r(i.exports,"default",(function(){return q}));var a=t("8TSCy"),l=t("2TvXO"),s=t("7eJjO"),u=t("d2yMj"),p=t("7FmYA"),y=t("kyj08"),c=t("flPLJ"),d=t("9MlGz"),f=t("jHOLN"),v=t("7qybv"),h=t("8NioF"),g=t("10vEZ"),b=t("kYueh"),S=t("iho5X");t("iJAIC");var m=t("eB8sj"),w=t("fcwIv"),_=t("j40xv"),O=t("4LDxK"),k=t("8CxZC"),C=t("1uuY7"),I=t("jy0BF"),x=t("aLy89"),j=t("5N5S1"),T=t("9bAYR"),A=t("3GzOb"),F=t("fqCyP"),L=t("11R8k"),N=t("jU4vh"),J=t("gRgX5"),R=t("aKPZL"),B=f.default.getLogger("esri.layers.BuildingSceneLayer"),E=u.default.ofType(L.default),P=(0,c.clone)(C.default.sublayersProperty);P.json.origins["web-scene"]={type:[k.default],write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}},P.json.origins["portal-item"]={type:[k.default],write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}};var M=function(r){"use strict";a.inherits(i,r);var t=a.createSuper(i);function i(e){var r;return a.classCallCheck(this,i),(r=t.call(this,e)).operationalLayerType="BuildingSceneLayer",r.allSublayers=new(0,p.default)({getCollections:function(){return[r.sublayers]},getChildrenFunction:function(e){return"building-group"===e.type?e.sublayers:null}}),r.sublayers=null,r.sublayerOverrides=null,r.filters=new E,r.activeFilterId=null,r.summaryStatistics=null,r.outFields=null,r.type="building-scene",a.possibleConstructorReturn(r)}return a.createClass(i,[{key:"normalizeCtorArgs",value:function(e){return"string"==typeof e?{url:e}:e}},{key:"destroy",value:function(){this.allSublayers.destroy()}},{key:"readSublayers",value:function(e,r,t){var i=this,n=C.default.readSublayers(e,r,t);return C.default.forEachSublayer(n,(function(e){return e.layer=i})),this.sublayerOverrides&&(this.applySublayerOverrides(n,this.sublayerOverrides),this.sublayerOverrides=null),n}},{key:"applySublayerOverrides",value:function(e,r){var t=r.overrides,i=r.context;C.default.forEachSublayer(e,(function(e){return e.read(t.get(e.id),i)}))}},{key:"readSublayerOverrides",value:function(e,r){var t=new Map,i=!0,n=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var s=a.value;null!=s&&"object"==typeof s&&"number"==typeof s.id?t.set(s.id,s):r.messages.push(new(0,y.default)("building-scene-layer:invalid-sublayer-override","Invalid value for sublayer override. Not an object or no id specified.",{value:s}))}}catch(e){n=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(n)throw o}}return{overrides:t,context:r}}},{key:"writeSublayerOverrides",value:function(e,r,t){var i=[];C.default.forEachSublayer(this.sublayers,(function(e){var r=e.write({},t);Object.keys(r).length>1&&i.push(r)})),i.length>0&&(r.sublayers=i)}},{key:"writeUnappliedOverrides",value:function(e,r){r.sublayers=[],e.overrides.forEach((function(e){r.sublayers.push((0,c.clone)(e))}))}},{key:"write",value:function(e,r){return e=a.get(a.getPrototypeOf(i.prototype),"write",this).call(this,e,r),!r||"web-scene"!==r.origin&&"portal-item"!==r.origin||(this.sublayers?this.writeSublayerOverrides(this.sublayers,e,r):this.sublayerOverrides&&this.writeUnappliedOverrides(this.sublayerOverrides,e)),e}},{key:"read",value:function(e,r){if(a.get(a.getPrototypeOf(i.prototype),"read",this).call(this,e,r),r&&("web-scene"===r.origin||"portal-item"===r.origin)&&null!=e&&Array.isArray(e.sublayers)){var t=this.readSublayerOverrides(e.sublayers,r);this.sublayers?this.applySublayerOverrides(this.sublayers,t):this.sublayerOverrides=t}}},{key:"readSummaryStatistics",value:function(e,r){if("string"==typeof r.statisticsHRef){var t=(0,b.join)(this.parsedUrl.path,r.statisticsHRef);return new(0,N.default)({url:t})}return null}},{key:"elevationInfo",set:function(e){this._set("elevationInfo",e),this._validateElevationInfo()}},{key:"load",value:function(e){var r=this,t=(0,v.isSome)(e)?e.signal:null,i=this.loadFromPortal({supportedTypes:["Scene Service"]},e).catch(g.throwIfAbortError).then((function(){return r._fetchService(t)})).then((function(){return r._fetchAssociatedFeatureService(t)}));return this.addResolvingPromise(i),Promise.resolve(this)}},{key:"loadAll",value:function(){var e=this;return(0,d.loadAll)(this,(function(r){C.default.forEachSublayer(e.sublayers,(function(e){"building-group"!==e.type&&r(e)})),e.summaryStatistics&&r(e.summaryStatistics)}))}},{key:"saveAs",value:function(r,t){var i=this;return a.asyncToGenerator(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i._debouncedSaveOperations(F.SaveOperationType.SAVE_AS,a.objectSpread({},t,{getTypeKeywords:function(){return i._getTypeKeywords()},portalItemLayerType:"building-scene"}),r));case 1:case"end":return e.stop()}}),n)})))()}},{key:"save",value:function(){var r=this;return a.asyncToGenerator(e(l).mark((function t(){var i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={getTypeKeywords:function(){return r._getTypeKeywords()},portalItemLayerType:"building-scene"},e.abrupt("return",r._debouncedSaveOperations(F.SaveOperationType.SAVE,i));case 2:case"end":return e.stop()}}),t)})))()}},{key:"validateLayer",value:function(e){if(!e.layerType||"Building"!==e.layerType)throw new(0,y.default)("buildingscenelayer:layer-type-not-supported","BuildingSceneLayer does not support this layer type",{layerType:e.layerType})}},{key:"_getTypeKeywords",value:function(){return["Building"]}},{key:"_validateElevationInfo",value:function(){var e=this.elevationInfo;e&&("absolute-height"!==e.mode&&B.warn(".elevationInfo=","Building scene layers only support absolute-height elevation mode"),e.featureExpressionInfo&&"0"!==e.featureExpressionInfo.expression&&B.warn(".elevationInfo=","Building scene layers do not support featureExpressionInfo"))}},{key:"_fetchAssociatedFeatureService",value:function(r){var t=this;return a.asyncToGenerator(e(l).mark((function i(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new(0,R.FetchAssociatedFeatureLayer)(t.parsedUrl,t.portalItem,t.apiKey,r),e.prev=1,e.next=4,n.fetchPortalItem();case 4:t.associatedFeatureServiceItem=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),B.warn("Associated feature service item could not be loaded",e.t0);case 10:case"end":return e.stop()}}),i,null,[[1,7]])})))()}}]),i}((0,F.SceneService)((0,x.ArcGISService)((0,j.OperationalLayer)((0,T.PortalLayer)((0,A.ScaleRangeLayer)((0,h.MultiOriginJSONMixin)((0,I.APIKeyMixin)(O.default))))))));(0,s._)([(0,S.property)({type:["BuildingSceneLayer"]})],M.prototype,"operationalLayerType",void 0),(0,s._)([(0,S.property)({readOnly:!0})],M.prototype,"allSublayers",void 0),(0,s._)([(0,S.property)(P)],M.prototype,"sublayers",void 0),(0,s._)([(0,m.reader)("service","sublayers")],M.prototype,"readSublayers",null),(0,s._)([(0,S.property)({type:E,nonNullable:!0,json:{write:!0}})],M.prototype,"filters",void 0),(0,s._)([(0,S.property)({type:String,json:{write:!0}})],M.prototype,"activeFilterId",void 0),(0,s._)([(0,S.property)({readOnly:!0,type:N.default})],M.prototype,"summaryStatistics",void 0),(0,s._)([(0,m.reader)("summaryStatistics",["statisticsHRef"])],M.prototype,"readSummaryStatistics",null),(0,s._)([(0,S.property)({type:[String],json:{read:!1}})],M.prototype,"outFields",void 0),(0,s._)([(0,S.property)(J.sceneLayerFullExtent)],M.prototype,"fullExtent",void 0),(0,s._)([(0,S.property)({type:["show","hide","hide-children"]})],M.prototype,"listMode",void 0),(0,s._)([(0,S.property)((0,J.readOnlyService)(_.default))],M.prototype,"spatialReference",void 0),(0,s._)([(0,S.property)(J.elevationInfo)],M.prototype,"elevationInfo",null),(0,s._)([(0,S.property)({json:{read:!1},readOnly:!0})],M.prototype,"type",void 0),(0,s._)([(0,S.property)()],M.prototype,"associatedFeatureServiceItem",void 0);var q=M=(0,s._)([(0,w.subclass)("esri.layers.BuildingSceneLayer")],M)})),t.register("8CxZC",(function(i,n){r(i.exports,"default",(function(){return E}));var o=t("8TSCy"),a=t("2TvXO"),l=t("7eJjO"),s=t("3MVX3");t("35mRC"),t("fqK5H"),t("hHJvn"),t("aOUND"),t("7Kl6r"),t("fPYaT"),t("aRUMT"),t("lubf9");var u=t("9ulmN"),p=t("9pNSx"),y=t("kyj08"),c=t("79ASa"),d=t("bQCqB"),f=t("jHOLN"),v=t("7qybv"),h=t("hmHbS"),g=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var b=t("bSafx"),S=t("eB8sj"),m=t("fcwIv"),w=t("gINRd"),_=t("j40xv"),O=t("g15Jq"),k=t("isoEb"),C=t("lXwvk"),I=t("gRgX5"),x=t("ko0sb"),j=t("4nMX7"),T=t("4VOEu"),A=t("d8x5p"),F=t("cRlei"),L=t("37qRo"),N=t("h5vCg"),J=f.default.getLogger("esri.layers.buildingSublayers.BuildingComponentSublayer"),R=(0,x.defineFieldProperties)(),B=function(r){"use strict";o.inherits(i,r);var t=o.createSuper(i);function i(e){var r;return o.classCallCheck(this,i),(r=t.call(this,e)).type="building-component",r.nodePages=null,r.materialDefinitions=null,r.textureSetDefinitions=null,r.geometryDefinitions=null,r.serviceUpdateTimeStamp=null,r.fields=null,r.associatedLayer=null,r.outFields=null,r.listMode="show",r.renderer=null,r.definitionExpression=null,r.popupEnabled=!0,r.popupTemplate=null,r.layerType="3d-object",o.possibleConstructorReturn(r)}return o.createClass(i,[{key:"parsedUrl",get:function(){return this.layer?{path:"".concat(this.layer.parsedUrl.path,"/sublayers/").concat(this.id),query:this.layer.parsedUrl.query}:null}},{key:"fieldsIndex",get:function(){return new(0,j.default)(this.fields)}},{key:"readAssociatedLayer",value:function(e,r){var t=this.layer.associatedFeatureServiceItem,i=r.associatedLayerID;return(0,v.isSome)(t)&&"number"==typeof i?new(0,O.default)({portalItem:t,layerId:i}):null}},{key:"objectIdField",get:function(){if(null!=this.fields){var e=!0,r=!1,t=void 0;try{for(var i,n=this.fields[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var o=i.value;if("oid"===o.type)return o.name}}catch(e){r=!0,t=e}finally{try{e||null==n.return||n.return()}finally{if(r)throw t}}}return null}},{key:"displayField",get:function(){return(0,v.isSome)(this.associatedLayer)?this.associatedLayer.displayField:null}},{key:"apiKey",get:function(){return this.layer.apiKey}},{key:"fullExtent",get:function(){return this.layer.fullExtent}},{key:"spatialReference",get:function(){return this.layer.spatialReference}},{key:"version",get:function(){return this.layer.version}},{key:"elevationInfo",get:function(){return this.layer.elevationInfo}},{key:"minScale",get:function(){return this.layer.minScale}},{key:"maxScale",get:function(){return this.layer.maxScale}},{key:"effectiveScaleRange",get:function(){return this.layer.effectiveScaleRange}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"load",value:function(e){var r=this,t=(0,v.isSome)(e)?e.signal:null,i=this._fetchService(t).then((function(){r.indexInfo=(0,T.fetchIndexInfo)(r.parsedUrl.path,r.rootNode,r.nodePages,r.apiKey,J,t)}));return this.addResolvingPromise(i),Promise.resolve(this)}},{key:"createPopupTemplate",value:function(e){return(0,L.createPopupTemplate)(this,e)}},{key:"_fetchService",value:function(r){var t=this;return o.asyncToGenerator(e(a).mark((function i(){var n;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.default)(t.parsedUrl.path,{query:{f:"json",token:t.apiKey},responseType:"json",signal:r});case 2:n=e.sent.data,t.read(n,{origin:"service",url:t.parsedUrl});case 4:case"end":return e.stop()}}),i)})))()}},{key:"getField",value:function(e){return this.fieldsIndex.get(e)}},{key:"getFieldDomain",value:function(e,r){var t,i,n,o,a=null==(t=this.getFeatureType(null==r?void 0:r.feature))||null==(i=t.domains)?void 0:i[e];return a&&"inherited"!==a.type?a:null!=(n=null==(o=this.getField(e))?void 0:o.domain)?n:null}},{key:"getFeatureType",value:function(e){return e&&(0,v.isSome)(this.associatedLayer)?this.associatedLayer.getFeatureType(e):null}},{key:"types",get:function(){return(0,v.isSome)(this.associatedLayer)?this.associatedLayer.types:[]}},{key:"typeIdField",get:function(){return(0,v.isSome)(this.associatedLayer)?this.associatedLayer.typeIdField:null}},{key:"geometryType",get:function(){return"3d-object"===this.layerType?"mesh":"point"}},{key:"profile",get:function(){return"3d-object"===this.layerType?"mesh-pyramids":"points"}},{key:"capabilities",get:function(){var e=(0,v.isSome)(this.associatedLayer)&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:C.zeroCapabilities,r=e.query,t=e.data;return{query:r,data:{supportsZ:t.supportsZ,supportsM:t.supportsM,isVersioned:t.isVersioned}}}},{key:"createQuery",value:function(){var e=new(0,F.default);return"mesh"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||"1=1",e.sqlFormat="standard",e}},{key:"queryExtent",value:function(e,r){var t=this;return this._getAssociatedLayerForQuery().then((function(i){return i.queryExtent(e||t.createQuery(),r)}))}},{key:"queryFeatureCount",value:function(e,r){var t=this;return this._getAssociatedLayerForQuery().then((function(i){return i.queryFeatureCount(e||t.createQuery(),r)}))}},{key:"queryFeatures",value:function(e,r){var t=this;return this._getAssociatedLayerForQuery().then((function(i){return i.queryFeatures(e||t.createQuery(),r)})).then((function(e){var r=!0,i=!1,n=void 0;if(null!=e&&e.features)try{for(var o,a=e.features[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value;l.layer=t.layer,l.sourceLayer=t}}catch(e){i=!0,n=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw n}}return e}))}},{key:"queryObjectIds",value:function(e,r){var t=this;return this._getAssociatedLayerForQuery().then((function(i){return i.queryObjectIds(e||t.createQuery(),r)}))}},{key:"getFieldUsageInfo",value:function(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:(0,v.isSome)(this.associatedLayer)}}},{key:"_getAssociatedLayerForQuery",value:function(){var e=this.associatedLayer;return(0,v.isSome)(e)&&e.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}},{key:"_loadAssociatedLayerForQuery",value:function(){var r=this;return o.asyncToGenerator(e(a).mark((function t(){return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.load();case 2:if(e.sent,!(0,v.isNone)(r.associatedLayer)){e.next=4;break}throw new(0,y.default)("buildingscenelayer:query-not-available","BuildingSceneLayer component layer queries are not available without an associated feature layer",{layer:r});case 4:return e.prev=4,e.next=7,r.associatedLayer.load();case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(4),new(0,y.default)("buildingscenelayer:query-not-available","BuildingSceneLayer associated feature layer could not be loaded",{layer:r,error:e.t0});case 12:return e.abrupt("return",r.associatedLayer);case 13:case"end":return e.stop()}}),t,null,[[4,9]])})))()}}]),i}(d.default.LoadableMixin((0,h.EsriPromiseMixin)(k.default)));(0,l._)([(0,g.property)({readOnly:!0})],B.prototype,"parsedUrl",null),(0,l._)([(0,g.property)({type:A.I3SNodePageDefinition,readOnly:!0})],B.prototype,"nodePages",void 0),(0,l._)([(0,g.property)({type:[A.I3SMaterialDefinition],readOnly:!0})],B.prototype,"materialDefinitions",void 0),(0,l._)([(0,g.property)({type:[A.I3STextureSetDefinition],readOnly:!0})],B.prototype,"textureSetDefinitions",void 0),(0,l._)([(0,g.property)({type:[A.I3SGeometryDefinition],readOnly:!0})],B.prototype,"geometryDefinitions",void 0),(0,l._)([(0,g.property)({readOnly:!0})],B.prototype,"serviceUpdateTimeStamp",void 0),(0,l._)([(0,g.property)({readOnly:!0})],B.prototype,"store",void 0),(0,l._)([(0,g.property)({type:String,readOnly:!0,json:{read:{source:"store.rootNode"}}})],B.prototype,"rootNode",void 0),(0,l._)([(0,g.property)({readOnly:!0})],B.prototype,"attributeStorageInfo",void 0),(0,l._)([(0,g.property)(R.fields)],B.prototype,"fields",void 0),(0,l._)([(0,g.property)({readOnly:!0})],B.prototype,"fieldsIndex",null),(0,l._)([(0,g.property)({readOnly:!0,type:O.default})],B.prototype,"associatedLayer",void 0),(0,l._)([(0,S.reader)("service","associatedLayer",["associatedLayerID"])],B.prototype,"readAssociatedLayer",null),(0,l._)([(0,g.property)(R.outFields)],B.prototype,"outFields",void 0),(0,l._)([(0,g.property)({type:String,readOnly:!0})],B.prototype,"objectIdField",null),(0,l._)([(0,g.property)({readOnly:!0,type:String,json:{read:!1}})],B.prototype,"displayField",null),(0,l._)([(0,g.property)({readOnly:!0,type:String})],B.prototype,"apiKey",null),(0,l._)([(0,g.property)({readOnly:!0,type:w.default})],B.prototype,"fullExtent",null),(0,l._)([(0,g.property)({readOnly:!0,type:_.default})],B.prototype,"spatialReference",null),(0,l._)([(0,g.property)({readOnly:!0})],B.prototype,"version",null),(0,l._)([(0,g.property)({readOnly:!0,type:N.default})],B.prototype,"elevationInfo",null),(0,l._)([(0,g.property)({readOnly:!0,type:Number})],B.prototype,"minScale",null),(0,l._)([(0,g.property)({readOnly:!0,type:Number})],B.prototype,"maxScale",null),(0,l._)([(0,g.property)({readOnly:!0,type:Number})],B.prototype,"effectiveScaleRange",null),(0,l._)([(0,g.property)({type:["hide","show"],json:{write:!0}})],B.prototype,"listMode",void 0),(0,l._)([(0,g.property)({types:u.webSceneRendererTypes,json:{origins:{service:{read:{source:"drawingInfo.renderer"}}},name:"layerDefinition.drawingInfo.renderer",write:!0},value:null})],B.prototype,"renderer",void 0),(0,l._)([(0,g.property)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],B.prototype,"definitionExpression",void 0),(0,l._)([(0,g.property)(I.popupEnabled)],B.prototype,"popupEnabled",void 0),(0,l._)([(0,g.property)({type:s.default,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],B.prototype,"popupTemplate",void 0),(0,l._)([(0,g.property)({readOnly:!0,type:String,json:{origins:{service:{read:{source:"store.normalReferenceFrame"}}},read:!1}})],B.prototype,"normalReferenceFrame",void 0),(0,l._)([(0,g.property)({readOnly:!0,json:{read:!1}})],B.prototype,"defaultPopupTemplate",null),(0,l._)([(0,g.property)()],B.prototype,"types",null),(0,l._)([(0,g.property)()],B.prototype,"typeIdField",null),(0,l._)([(0,g.property)({json:{write:!1}}),(0,b.enumeration)(new(0,c.JSONMap)({"3DObject":"3d-object",Point:"point"}))],B.prototype,"layerType",void 0),(0,l._)([(0,g.property)()],B.prototype,"geometryType",null),(0,l._)([(0,g.property)()],B.prototype,"profile",null),(0,l._)([(0,g.property)({readOnly:!0,json:{read:!1}})],B.prototype,"capabilities",null);var E=B=(0,l._)([(0,m.subclass)("esri.layers.buildingSublayers.BuildingComponentSublayer")],B)})),t.register("isoEb",(function(e,i){r(e.exports,"default",(function(){return f}));var n=t("8TSCy"),o=t("7eJjO"),a=t("52Bzb"),l=t("8NioF"),s=t("iho5X");t("lNwWH"),t("2VlWd");var u=t("iJAIC"),p=t("eB8sj"),y=t("fcwIv"),c=t("gRgX5"),d=function(e){"use strict";n.inherits(t,e);var r=n.createSuper(t);function t(e){var i;return n.classCallCheck(this,t),(i=r.call(this,e)).title="",i.id=-1,i.modelName=null,i.isEmpty=null,i.visible=!0,i.opacity=1,n.possibleConstructorReturn(i)}return n.createClass(t,[{key:"readTitle",value:function(e,r){return"string"==typeof r.alias?r.alias:"string"==typeof r.name?r.name:""}},{key:"readIdOnlyOnce",value:function(e){return-1!==this.id?this.id:"number"==typeof e?e:void 0}}]),t}((0,a.IdentifiableMixin)(l.MultiOriginJSONSupport));(0,o._)([(0,s.property)({type:String,json:{origins:{"web-scene":{write:!0},"portal-item":{write:!0}}}})],d.prototype,"title",void 0),(0,o._)([(0,p.reader)("service","title",["alias","name"])],d.prototype,"readTitle",null),(0,o._)([(0,s.property)()],d.prototype,"layer",void 0),(0,o._)([(0,s.property)({type:u.Integer,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],d.prototype,"id",void 0),(0,o._)([(0,p.reader)("service","id")],d.prototype,"readIdOnlyOnce",null),(0,o._)([(0,s.property)((0,c.readOnlyService)(String))],d.prototype,"modelName",void 0),(0,o._)([(0,s.property)((0,c.readOnlyService)(Boolean))],d.prototype,"isEmpty",void 0),(0,o._)([(0,s.property)({type:Boolean,json:{name:"visibility",write:!0}})],d.prototype,"visible",void 0),(0,o._)([(0,s.property)({type:Number,json:{write:!0}})],d.prototype,"opacity",void 0);var f=d=(0,o._)([(0,y.subclass)("esri.layers.buildingSublayers.BuildingSublayer")],d)})),t.register("1uuY7",(function(e,i){r(e.exports,"default",(function(){return b}));var n=t("8TSCy"),o=t("7eJjO"),a=t("d2yMj"),l=t("9MlGz"),s=t("lfedQ"),u=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var p,y=t("fcwIv"),c=t("8CxZC"),d=t("isoEb"),f={type:a.default,readOnly:!0,json:{origins:{service:{read:{source:"sublayers",reader:v}}},read:!1}};function v(e,r,t){if(e&&Array.isArray(e))return new(0,a.default)(e.map((function(e){var r="group"===e.layerType?g:c.default;if(r){var i=new r;return i.read(e,t),i}t&&t.messages&&e&&t.messages.push(new(0,s.default)("building-scene-layer:unsupported-sublayer-type","Building scene sublayer of type '"+(e.type||"unknown")+"' are not supported",{definition:e,context:t}))})))}var h,g=p=function(e){"use strict";n.inherits(t,e);var r=n.createSuper(t);function t(e){var i;return n.classCallCheck(this,t),(i=r.call(this,e)).type="building-group",i.listMode="show",i.sublayers=null,n.possibleConstructorReturn(i)}return n.createClass(t,[{key:"loadAll",value:function(){var e=this;return(0,l.loadAllChildren)(this,(function(r){return p.forEachSublayer(e.sublayers,(function(e){"building-group"!==e.type&&r(e)}))}))}}]),t}(d.default);(0,o._)([(0,u.property)({type:["hide","show","hide-children"],json:{write:!0}})],g.prototype,"listMode",void 0),(0,o._)([(0,u.property)(f)],g.prototype,"sublayers",void 0),g=p=(0,o._)([(0,y.subclass)("esri.layers.buildingSublayers.BuildingGroupSublayer")],g),(h=g||(g={})).sublayersProperty=f,h.readSublayers=v,h.forEachSublayer=function e(r,t){r.forEach((function(r){t(r),"building-group"===r.type&&e(r.sublayers,t)}))};var b=g})),t.register("11R8k",(function(e,i){r(e.exports,"default",(function(){return b}));var n=t("8TSCy"),o=t("7eJjO"),a=t("d2yMj"),l=t("1XAcN"),s=t("flPLJ"),u=t("9Rl0r"),p=t("iho5X");t("iJAIC");var y,c=t("fcwIv"),d=t("gitdg"),f=t("aemGW"),v=t("72IWJ"),h=a.default.ofType(v.default),g=y=function(e){"use strict";n.inherits(t,e);var r=n.createSuper(t);function t(){var e;return n.classCallCheck(this,t),(e=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).description=null,e.filterBlocks=null,e.id=(0,u.generateUUID)(),e.name=null,n.possibleConstructorReturn(e)}return n.createClass(t,[{key:"clone",value:function(){return new y({description:this.description,filterBlocks:(0,s.clone)(this.filterBlocks),id:this.id,name:this.name,filterAuthoringInfo:(0,s.clone)(this.filterAuthoringInfo)})}}]),t}(l.JSONSupport);(0,o._)([(0,p.property)({type:String,json:{write:!0}})],g.prototype,"description",void 0),(0,o._)([(0,p.property)({type:h,json:{write:{enabled:!0,isRequired:!0}}})],g.prototype,"filterBlocks",void 0),(0,o._)([(0,p.property)({types:{key:"type",base:d.default,typeMap:{checkbox:f.default}},json:{read:function(e){return"checkbox"===(e&&e.type)?f.default.fromJSON(e):null},write:!0}})],g.prototype,"filterAuthoringInfo",void 0),(0,o._)([(0,p.property)({type:String,constructOnly:!0,json:{write:{enabled:!0,isRequired:!0}}})],g.prototype,"id",void 0),(0,o._)([(0,p.property)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],g.prototype,"name",void 0);var b=g=y=(0,o._)([(0,c.subclass)("esri.layers.support.BuildingFilter")],g)})),t.register("gitdg",(function(e,i){r(e.exports,"default",(function(){return p}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),l=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var s=t("fcwIv"),u=function(e){"use strict";n.inherits(t,e);var r=n.createSuper(t);function t(){var e;return n.classCallCheck(this,t),(e=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).type=null,n.possibleConstructorReturn(e)}return t}(a.JSONSupport);(0,o._)([(0,l.property)({type:String,readOnly:!0,json:{write:!0}})],u.prototype,"type",void 0);var p=u=(0,o._)([(0,s.subclass)("esri.layers.support.BuildingFilterAuthoringInfo")],u)})),t.register("aemGW",(function(e,i){r(e.exports,"default",(function(){return v}));var n=t("8TSCy"),o=t("7eJjO"),a=t("d2yMj"),l=t("flPLJ"),s=t("iho5X");t("iJAIC");var u,p=t("fcwIv"),y=t("gitdg"),c=t("dKE4i"),d=a.default.ofType(c.default),f=u=function(e){"use strict";n.inherits(t,e);var r=n.createSuper(t);function t(){var e;return n.classCallCheck(this,t),(e=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).type="checkbox",n.possibleConstructorReturn(e)}return n.createClass(t,[{key:"clone",value:function(){return new u({filterBlocks:(0,l.clone)(this.filterBlocks)})}}]),t}(y.default);(0,o._)([(0,s.property)({type:["checkbox"]})],f.prototype,"type",void 0),(0,o._)([(0,s.property)({type:d,json:{write:!0}})],f.prototype,"filterBlocks",void 0);var v=f=u=(0,o._)([(0,p.subclass)("esri.layers.support.BuildingFilterAuthoringInfoCheckbox")],f)})),t.register("dKE4i",(function(e,i){r(e.exports,"default",(function(){return v}));var n=t("8TSCy"),o=t("7eJjO"),a=t("d2yMj"),l=t("1XAcN"),s=t("flPLJ"),u=t("iho5X");t("iJAIC");var p,y=t("fcwIv"),c=t("kTFBV"),d=a.default.ofType(c.default),f=p=function(e){"use strict";n.inherits(t,e);var r=n.createSuper(t);function t(){return n.classCallCheck(this,t),r.apply(this,arguments)}return n.createClass(t,[{key:"clone",value:function(){return new p({filterTypes:(0,s.clone)(this.filterTypes)})}}]),t}(l.JSONSupport);(0,o._)([(0,u.property)({type:d,json:{write:!0}})],f.prototype,"filterTypes",void 0);var v=f=p=(0,o._)([(0,y.subclass)("esri.layers.support.BuildingFilterAuthoringInfoBlock")],f)})),t.register("kTFBV",(function(e,i){r(e.exports,"default",(function(){return c}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),l=t("flPLJ"),s=t("iho5X");t("iJAIC");var u,p=t("fcwIv"),y=u=function(e){"use strict";n.inherits(t,e);var r=n.createSuper(t);function t(){var e;return n.classCallCheck(this,t),(e=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).filterType=null,e.filterValues=null,n.possibleConstructorReturn(e)}return n.createClass(t,[{key:"clone",value:function(){return new u({filterType:this.filterType,filterValues:(0,l.clone)(this.filterValues)})}}]),t}(a.JSONSupport);(0,o._)([(0,s.property)({type:String,json:{write:!0}})],y.prototype,"filterType",void 0),(0,o._)([(0,s.property)({type:[String],json:{write:!0}})],y.prototype,"filterValues",void 0);var c=y=u=(0,o._)([(0,p.subclass)("esri.layers.support.BuildingFilterAuthoringInfoType")],y)})),t.register("72IWJ",(function(e,i){r(e.exports,"default",(function(){return g}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),l=t("flPLJ"),s=t("iho5X");t("iJAIC");var u,p=t("fcwIv"),y=t("3oFw3"),c=t("CIcoM"),d=t("6ljt9"),f=t("kl4OG"),v={nonNullable:!0,types:{key:"type",base:y.default,typeMap:{solid:c.default,"wire-frame":d.default,"x-ray":f.default}},json:{read:function(e){switch(e&&e.type){case"solid":return c.default.fromJSON(e);case"wireFrame":return d.default.fromJSON(e);case"x-ray":return f.default.fromJSON(e);default:return}},write:{enabled:!0,isRequired:!0}}},h=u=function(e){"use strict";n.inherits(t,e);var r=n.createSuper(t);function t(){var e;return n.classCallCheck(this,t),(e=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).filterExpression=null,e.filterMode=new(0,c.default),e.title="",n.possibleConstructorReturn(e)}return n.createClass(t,[{key:"clone",value:function(){return new u({filterExpression:this.filterExpression,filterMode:(0,l.clone)(this.filterMode),title:this.title})}}]),t}(a.JSONSupport);(0,o._)([(0,s.property)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],h.prototype,"filterExpression",void 0),(0,o._)([(0,s.property)(v)],h.prototype,"filterMode",void 0),(0,o._)([(0,s.property)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],h.prototype,"title",void 0);var g=h=u=(0,o._)([(0,p.subclass)("esri.layers.support.BuildingFilterBlock")],h)})),t.register("3oFw3",(function(e,i){r(e.exports,"default",(function(){return p}));var n=t("8TSCy"),o=t("7eJjO"),a=t("1XAcN"),l=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var s=t("fcwIv"),u=function(e){"use strict";n.inherits(t,e);var r=n.createSuper(t);function t(){return n.classCallCheck(this,t),r.apply(this,arguments)}return t}(a.JSONSupport);(0,o._)([(0,l.property)({readOnly:!0,json:{read:!1}})],u.prototype,"type",void 0);var p=u=(0,o._)([(0,s.subclass)("esri.layers.support.BuildingFilterMode")],u)})),t.register("CIcoM",(function(e,i){r(e.exports,"default",(function(){return y}));var n=t("8TSCy"),o=t("7eJjO"),a=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var l,s=t("fcwIv"),u=t("3oFw3"),p=l=function(e){"use strict";n.inherits(t,e);var r=n.createSuper(t);function t(){var e;return n.classCallCheck(this,t),(e=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).type="solid",n.possibleConstructorReturn(e)}return n.createClass(t,[{key:"clone",value:function(){return new l}}]),t}(u.default);(0,o._)([(0,a.property)({type:["solid"],readOnly:!0,json:{write:!0}})],p.prototype,"type",void 0);var y=p=l=(0,o._)([(0,s.subclass)("esri.layers.support.BuildingFilterModeSolid")],p)})),t.register("6ljt9",(function(e,i){r(e.exports,"default",(function(){return f}));var n=t("8TSCy"),o=t("7eJjO"),a=t("flPLJ"),l=t("iho5X");t("iJAIC");var s,u=t("bSafx"),p=t("fcwIv"),y=t("3oFw3"),c=t("lTkua"),d=s=function(e){"use strict";n.inherits(t,e);var r=n.createSuper(t);function t(){var e;return n.classCallCheck(this,t),(e=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).type="wire-frame",e.edges=null,n.possibleConstructorReturn(e)}return n.createClass(t,[{key:"clone",value:function(){return new s({edges:(0,a.clone)(this.edges)})}}]),t}(y.default);(0,o._)([(0,u.enumeration)({wireFrame:"wire-frame"})],d.prototype,"type",void 0),(0,o._)([(0,l.property)(c.symbol3dEdgesProperty)],d.prototype,"edges",void 0);var f=d=s=(0,o._)([(0,p.subclass)("esri.layers.support.BuildingFilterModeWireFrame")],d)})),t.register("kl4OG",(function(e,i){r(e.exports,"default",(function(){return y}));var n=t("8TSCy"),o=t("7eJjO"),a=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var l,s=t("fcwIv"),u=t("3oFw3"),p=l=function(e){"use strict";n.inherits(t,e);var r=n.createSuper(t);function t(){var e;return n.classCallCheck(this,t),(e=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).type="x-ray",n.possibleConstructorReturn(e)}return n.createClass(t,[{key:"clone",value:function(){return new l}}]),t}(u.default);(0,o._)([(0,a.property)({type:["x-ray"],readOnly:!0,json:{write:!0}})],p.prototype,"type",void 0);var y=p=l=(0,o._)([(0,s.subclass)("esri.layers.support.BuildingFilterModeXRay")],p)})),t.register("jU4vh",(function(i,n){r(i.exports,"default",(function(){return S}));var o=t("8TSCy"),a=t("2TvXO"),l=t("7eJjO"),s=t("9pNSx"),u=t("1XAcN"),p=t("bQCqB"),y=t("jHOLN"),c=t("7qybv"),d=t("hmHbS"),f=t("iho5X");t("lNwWH"),t("2VlWd"),t("iJAIC");var v=t("fcwIv"),h=y.default.getLogger("esri.layers.support.BuildingSummaryStatistics"),g=function(e){"use strict";o.inherits(t,e);var r=o.createSuper(t);function t(){var e;return o.classCallCheck(this,t),(e=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).fieldName=null,e.modelName=null,e.label=null,e.min=null,e.max=null,e.mostFrequentValues=null,e.subLayerIds=null,o.possibleConstructorReturn(e)}return t}(u.JSONSupport);(0,l._)([(0,f.property)({type:String})],g.prototype,"fieldName",void 0),(0,l._)([(0,f.property)({type:String})],g.prototype,"modelName",void 0),(0,l._)([(0,f.property)({type:String})],g.prototype,"label",void 0),(0,l._)([(0,f.property)({type:Number})],g.prototype,"min",void 0),(0,l._)([(0,f.property)({type:Number})],g.prototype,"max",void 0),(0,l._)([(0,f.property)({json:{read:function(e){return Array.isArray(e)&&(e.every((function(e){return"string"==typeof e}))||e.every((function(e){return"number"==typeof e})))?e.slice():null}}})],g.prototype,"mostFrequentValues",void 0),(0,l._)([(0,f.property)({type:[Number]})],g.prototype,"subLayerIds",void 0),g=(0,l._)([(0,v.subclass)("esri.layers.support.BuildingFieldStatistics")],g);var b=function(r){"use strict";o.inherits(i,r);var t=o.createSuper(i);function i(){var e;return o.classCallCheck(this,i),(e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments)))).url=null,o.possibleConstructorReturn(e)}return o.createClass(i,[{key:"fields",get:function(){return this.loaded||"loading"===this.loadStatus?this._get("fields"):(h.error("building summary statistics are not loaded"),null)}},{key:"load",value:function(e){var r=(0,c.isSome)(e)?e.signal:null;return this.addResolvingPromise(this._fetchService(r)),Promise.resolve(this)}},{key:"_fetchService",value:function(r){var t=this;return o.asyncToGenerator(e(a).mark((function i(){var n;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.default)(t.url,{query:{f:"json"},responseType:"json",signal:r});case 2:n=e.sent.data,t.read(n,{origin:"service"});case 4:case"end":return e.stop()}}),i)})))()}}]),i}(p.default.LoadableMixin((0,d.EsriPromiseMixin)(u.JSONSupport)));(0,l._)([(0,f.property)({constructOnly:!0,type:String})],b.prototype,"url",void 0),(0,l._)([(0,f.property)({readOnly:!0,type:[g],json:{read:{source:"summary"}}})],b.prototype,"fields",null);var S=b=(0,l._)([(0,v.subclass)("esri.layers.support.BuildingSummaryStatistics")],b)})),t.register("amEsL",(function(e,i){r(e.exports,"updateOrigins",(function(){return o}));var n=t("arTQ0");function o(e){e&&e.writtenProperties&&e.writtenProperties.forEach((function(e){var r=e.target;e.newOrigin&&e.oldOrigin!==e.newOrigin&&(0,n.isMultiOriginJSONMixin)(r)&&r.updateOrigin(e.propName,e.newOrigin)}))}})),t.register("arTQ0",(function(e,t){function i(e){return e&&"getAtOrigin"in e&&"originOf"in e}r(e.exports,"isMultiOriginJSONMixin",(function(){return i}))}))}();
//# sourceMappingURL=BuildingSceneLayer.5aca6864.js.map
