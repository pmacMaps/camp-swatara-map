!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,r,a){Object.defineProperty(e,t,{get:r,set:a,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire594f;r.register("hwHXf",(function(a,n){var u;u=a.exports,Object.defineProperty(u,"__esModule",{value:!0,configurable:!0}),t(a.exports,"default",(function(){return C}));var s=r("8TSCy"),o=r("2TvXO"),i=r("7eJjO");r("2ILM8");var c=r("bsvXr"),l=r("9pNSx"),d=r("9DeZf"),p=r("kyj08"),y=r("2VlWd"),f=r("79ASa"),v=r("bQCqB"),h=r("7qybv"),m=r("8EPEw"),b=r("10vEZ"),g=r("kYueh"),x=r("iho5X");r("lNwWH"),r("iJAIC");var k=r("fcwIv"),R=r("gINRd"),S=r("79LpT"),F=r("dxhdj"),w=r("kXCh8"),I=r("5EgUN"),q=r("ky1Bg"),_=r("j40xv"),O=new(0,f.JSONMap)({originalAndCurrentFeatures:"original-and-current-features",none:"none"});function T(e){return E.apply(this,arguments)}function E(){return(E=s.asyncToGenerator(e(o).mark((function t(r){var a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof r){e.next=3;break}return a=(0,g.dataComponents)(r),e.abrupt("return",a||{data:r});case 3:return e.abrupt("return",new Promise((function(e,t){var a=new FileReader;a.readAsDataURL(r),a.onload=function(){return e((0,g.dataComponents)(a.result))},a.onerror=function(e){return t(e)}})));case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var A=new Set(["Feature Layer","Table"]),j=function(t){"use strict";s.inherits(a,t);var r=s.createSuper(a);function a(){var t;s.classCallCheck(this,a);var n=s.assertThisInitialized(t);return(t=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).type="feature-layer",t.refresh=(0,b.debounce)(s.asyncToGenerator(e(o).mark((function t(){var r,a,u,s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,n.load();case 3:if(null!=(u=null==(r=n.sourceJSON.editingInfo)?void 0:r.lastEditDate)){e.next=6;break}return e.abrupt("return",{dataChanged:!0,updates:{}});case 6:return e.prev=6,e.next=9,n._fetchService(null);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(6),e.abrupt("return",{dataChanged:!0,updates:{}});case 14:return s=u!==(null==(a=n.sourceJSON.editingInfo)?void 0:a.lastEditDate),e.abrupt("return",{dataChanged:s,updates:s?{editingInfo:n.sourceJSON.editingInfo,extent:n.sourceJSON.extent}:null});case 16:case"end":return e.stop()}}),t,null,[[6,11]])})))),s.possibleConstructorReturn(t)}return s.createClass(a,[{key:"load",value:function(e){var t=(0,h.isSome)(e)?e.signal:null;return this.addResolvingPromise(this._fetchService(this.layer.sourceJSON,t)),Promise.resolve(this)}},{key:"queryTask",get:function(){var e=this.layer,t=e.capabilities.query.supportsFormatPBF,r=e.parsedUrl,a=e.dynamicDataSource,n=e.infoFor3D,u=e.gdbVersion,s=e.spatialReference,o=e.fieldsIndex,i=(0,y.default)("featurelayer-pbf")&&t&&(0,h.isNone)(n)?"pbf":"json";return new(0,q.default)({url:r.path,format:i,fieldsIndex:o,infoFor3D:n,dynamicDataSource:a,gdbVersion:u,sourceSpatialReference:s})}},{key:"addAttachment",value:function(t,r){var a=this;return s.asyncToGenerator(e(o).mark((function n(){var u,s,i,c,d;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load();case 2:return u=t.attributes[a.layer.objectIdField],s=a.layer.parsedUrl.path+"/"+u+"/addAttachment",i=a._getLayerRequestOptions(),c=a._getFormDataForAttachment(r,i.query),e.prev=3,e.next=6,(0,l.default)(s,{body:c});case 6:return d=e.sent,e.abrupt("return",a._createFeatureEditResult(d.data.addAttachmentResult));case 10:throw e.prev=10,e.t0=e.catch(3),a._createAttachmentErrorResult(u,e.t0);case 13:case"end":return e.stop()}}),n,null,[[3,10]])})))()}},{key:"updateAttachment",value:function(t,r,a){var n=this;return s.asyncToGenerator(e(o).mark((function u(){var s,i,c,d,p;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.load();case 2:return s=t.attributes[n.layer.objectIdField],i=n.layer.parsedUrl.path+"/"+s+"/updateAttachment",c=n._getLayerRequestOptions({query:{attachmentId:r}}),d=n._getFormDataForAttachment(a,c.query),e.prev=3,e.next=6,(0,l.default)(i,{body:d});case 6:return p=e.sent,e.abrupt("return",n._createFeatureEditResult(p.data.updateAttachmentResult));case 10:throw e.prev=10,e.t0=e.catch(3),n._createAttachmentErrorResult(s,e.t0);case 13:case"end":return e.stop()}}),u,null,[[3,10]])})))()}},{key:"applyEdits",value:function(t,r){var a=this;return s.asyncToGenerator(e(o).mark((function n(){var u,i,c,d,p,y,f,v,h,m,b,g,x,k,R,S,F,I,q,_,T,E,A;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load();case 2:u=t.addFeatures.map(a._serializeFeature,a),i=t.updateFeatures.map(a._serializeFeature,a),c=a._getFeatureIds(t.deleteFeatures,null==r?void 0:r.globalIdUsed),(0,w.unapplyEditsZUnitScaling)(u,i,a.layer.spatialReference),d=[],p=[],y=s.toConsumableArray(t.deleteAttachments),f=!0,v=!1,h=void 0,e.prev=6,m=t.addAttachments[Symbol.iterator]();case 8:if(f=(b=m.next()).done){e.next=18;break}return g=b.value,e.t0=d,e.next=13,a._serializeAttachment(g);case 13:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 15:f=!0,e.next=8;break;case 18:e.next=24;break;case 20:e.prev=20,e.t2=e.catch(6),v=!0,h=e.t2;case 24:e.prev=24,e.prev=25,f||null==m.return||m.return();case 27:if(e.prev=27,!v){e.next=30;break}throw h;case 30:return e.finish(27);case 31:return e.finish(24);case 32:x=!0,k=!1,R=void 0,e.prev=33,S=t.updateAttachments[Symbol.iterator]();case 35:if(x=(F=S.next()).done){e.next=45;break}return I=F.value,e.t3=p,e.next=40,a._serializeAttachment(I);case 40:e.t4=e.sent,e.t3.push.call(e.t3,e.t4);case 42:x=!0,e.next=35;break;case 45:e.next=51;break;case 47:e.prev=47,e.t5=e.catch(33),k=!0,R=e.t5;case 51:e.prev=51,e.prev=52,x||null==S.return||S.return();case 54:if(e.prev=54,!k){e.next=57;break}throw R;case 57:return e.finish(54);case 58:return e.finish(51);case 59:return q=d.length||p.length||y.length?{adds:d,updates:p,deletes:y}:null,_={gdbVersion:(null==r?void 0:r.gdbVersion)||a.layer.gdbVersion,rollbackOnFailure:null==r?void 0:r.rollbackOnFailureEnabled,useGlobalIds:null==r?void 0:r.globalIdUsed,returnEditMoment:null==r?void 0:r.returnEditMoment,usePreviousEditMoment:null==r?void 0:r.usePreviousEditMoment,sessionId:null==r?void 0:r.sessionId},null!=r&&r.returnServiceEditsOption?(_.edits=JSON.stringify([{id:a.layer.layerId,adds:u,updates:i,deletes:c,attachments:q}]),_.returnServiceEditsOption=O.toJSON(null==r?void 0:r.returnServiceEditsOption),_.returnServiceEditsInSourceSR=null==r?void 0:r.returnServiceEditsInSourceSR):(_.adds=u.length?JSON.stringify(u):null,_.updates=i.length?JSON.stringify(i):null,_.deletes=c.length?null!=r&&r.globalIdUsed?JSON.stringify(c):c.join(","):null,_.attachments=q&&JSON.stringify(q)),T=a._getLayerRequestOptions({method:"post",query:_}),E=null!=r&&r.returnServiceEditsOption?a.layer.url:a.layer.parsedUrl.path,e.next=65,(0,l.default)(E+"/applyEdits",T);case 65:return A=e.sent,e.abrupt("return",a._createEditsResult(A));case 67:case"end":return e.stop()}}),n,null,[[6,20,24,32],[25,,27,31],[33,47,51,59],[52,,54,58]])})))()}},{key:"deleteAttachments",value:function(t,r){var a=this;return s.asyncToGenerator(e(o).mark((function n(){var u,s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load();case 2:return u=t.attributes[a.layer.objectIdField],s=a.layer.parsedUrl.path+"/"+u+"/deleteAttachments",e.prev=3,e.next=6,(0,l.default)(s,a._getLayerRequestOptions({query:{attachmentIds:r.join(",")},method:"post"}));case 6:return e.abrupt("return",e.sent.data.deleteAttachmentResults.map(a._createFeatureEditResult));case 9:throw e.prev=9,e.t0=e.catch(3),a._createAttachmentErrorResult(u,e.t0);case 12:case"end":return e.stop()}}),n,null,[[3,9]])})))()}},{key:"fetchRecomputedExtents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.signal,a=this;return this.load({signal:r}).then(s.asyncToGenerator(e(o).mark((function r(){var n,u,i,c,p,y,f,v,h,m,b;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a._getLayerRequestOptions(s.objectSpread({},t,{query:{returnUpdates:!0}})),u=a.layer,i=u.layerId,c=u.url,e.next=6,(0,l.default)("".concat(c,"/").concat(i),n);case 6:return p=e.sent,y=p.data,f=y.id,v=y.extent,h=y.fullExtent,m=y.timeExtent,b=v||h,e.abrupt("return",{id:f,fullExtent:b&&R.default.fromJSON(b),timeExtent:m&&d.default.fromJSON({start:m[0],end:m[1]})});case 14:case"end":return e.stop()}}),r)}))))}},{key:"queryAttachments",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this;return s.asyncToGenerator(e(o).mark((function n(){var u,s,i,c,d,p,y,f,v,h,m,b,g;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=a.layer,s=u.parsedUrl,i=s.path,e.next=3,a.load();case 3:if(c=a._getLayerRequestOptions(r),a.layer.get("capabilities.operations.supportsQueryAttachments")){e.next=24;break}for(d=t.objectIds,p=[],y=!0,f=!1,v=void 0,e.prev=7,h=d[Symbol.iterator]();!(y=(m=h.next()).done);y=!0)b=m.value,g=i+"/"+b+"/attachments",p.push((0,l.default)(g,c));e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),f=!0,v=e.t0;case 15:e.prev=15,e.prev=16,y||null==h.return||h.return();case 18:if(e.prev=18,!f){e.next=21;break}throw v;case 21:return e.finish(18);case 22:return e.finish(15);case 23:return e.abrupt("return",Promise.all(p).then((function(e){return d.map((function(t,r){return{parentObjectId:t,attachmentInfos:e[r].data.attachmentInfos}}))})).then((function(e){return(0,I.processAttachmentQueryResult)(e,i)})));case 24:return e.abrupt("return",a.queryTask.executeAttachmentQuery(t,c));case 25:case"end":return e.stop()}}),n,null,[[7,11,15,23],[16,,18,22]])})))()}},{key:"queryFeatures",value:function(t,r){var a=this;return s.asyncToGenerator(e(o).mark((function n(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load();case 2:return e.abrupt("return",(e.sent,a.queryTask.execute(t,s.objectSpread({},r,{query:a._createRequestQueryOptions(r)}))));case 3:case"end":return e.stop()}}),n)})))()}},{key:"queryFeaturesJSON",value:function(t,r){var a=this;return s.asyncToGenerator(e(o).mark((function n(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load();case 2:return e.abrupt("return",(e.sent,a.queryTask.executeJSON(t,s.objectSpread({},r,{query:a._createRequestQueryOptions(r)}))));case 3:case"end":return e.stop()}}),n)})))()}},{key:"queryObjectIds",value:function(t,r){var a=this;return s.asyncToGenerator(e(o).mark((function n(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load();case 2:return e.abrupt("return",(e.sent,a.queryTask.executeForIds(t,s.objectSpread({},r,{query:a._createRequestQueryOptions(r)}))));case 3:case"end":return e.stop()}}),n)})))()}},{key:"queryFeatureCount",value:function(t,r){var a=this;return s.asyncToGenerator(e(o).mark((function n(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load();case 2:return e.abrupt("return",(e.sent,a.queryTask.executeForCount(t,s.objectSpread({},r,{query:a._createRequestQueryOptions(r)}))));case 3:case"end":return e.stop()}}),n)})))()}},{key:"queryExtent",value:function(t,r){var a=this;return s.asyncToGenerator(e(o).mark((function n(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load();case 2:return e.abrupt("return",(e.sent,a.queryTask.executeForExtent(t,s.objectSpread({},r,{query:a._createRequestQueryOptions(r)}))));case 3:case"end":return e.stop()}}),n)})))()}},{key:"queryRelatedFeatures",value:function(t,r){var a=this;return s.asyncToGenerator(e(o).mark((function n(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load();case 2:return e.abrupt("return",(e.sent,a.queryTask.executeRelationshipQuery(t,s.objectSpread({},r,{query:a._createRequestQueryOptions(r)}))));case 3:case"end":return e.stop()}}),n)})))()}},{key:"queryRelatedFeaturesCount",value:function(t,r){var a=this;return s.asyncToGenerator(e(o).mark((function n(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load();case 2:return e.abrupt("return",(e.sent,a.queryTask.executeRelationshipQueryForCount(t,s.objectSpread({},r,{query:a._createRequestQueryOptions(r)}))));case 3:case"end":return e.stop()}}),n)})))()}},{key:"queryTopFeatures",value:function(t,r){var a=this;return s.asyncToGenerator(e(o).mark((function n(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load();case 2:return e.abrupt("return",(e.sent,a.queryTask.executeTopFeaturesQuery(t,s.objectSpread({},r,{query:a._createRequestQueryOptions(r)}))));case 3:case"end":return e.stop()}}),n)})))()}},{key:"queryTopObjectIds",value:function(t,r){var a=this;return s.asyncToGenerator(e(o).mark((function n(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load();case 2:return e.abrupt("return",(e.sent,a.queryTask.executeForTopIds(t,s.objectSpread({},r,{query:a._createRequestQueryOptions(r)}))));case 3:case"end":return e.stop()}}),n)})))()}},{key:"queryTopExtents",value:function(t,r){var a=this;return s.asyncToGenerator(e(o).mark((function n(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load();case 2:return e.abrupt("return",(e.sent,a.queryTask.executeForTopExtents(t,s.objectSpread({},r,{query:a._createRequestQueryOptions(r)}))));case 3:case"end":return e.stop()}}),n)})))()}},{key:"queryTopCount",value:function(t,r){var a=this;return s.asyncToGenerator(e(o).mark((function n(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.load();case 2:return e.abrupt("return",(e.sent,a.queryTask.executeForTopCount(t,s.objectSpread({},r,{query:a._createRequestQueryOptions(r)}))));case 3:case"end":return e.stop()}}),n)})))()}},{key:"_createRequestQueryOptions",value:function(e){var t=s.objectSpread({},this.layer.customParameters,{token:this.layer.apiKey},null==e?void 0:e.query);return this.layer.datesInUnknownTimezone&&(t.timeReferenceUnknownClient=!0),t}},{key:"_fetchService",value:function(t,r){var a=this;return s.asyncToGenerator(e(o).mark((function n(){var u,s,i;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,(0,l.default)(a.layer.parsedUrl.path,a._getLayerRequestOptions({query:(0,y.default)("featurelayer-advanced-symbols")?{returnAdvancedSymbols:!0}:{},signal:r}));case 3:u=e.sent,s=u.data,t=s;case 6:if(a.sourceJSON=a._patchServiceJSON(t),i=t.type,A.has(i)){e.next=10;break}throw new(0,p.default)("feature-layer-source:unsupported-type",'Source type "'.concat(i,'" is not supported'));case 10:case"end":return e.stop()}}),n)})))()}},{key:"_patchServiceJSON",value:function(e){var t;if("Table"!==e.type&&e.geometryType&&(null==e||null==(t=e.drawingInfo)||!t.renderer)&&!e.defaultSymbol){var r=(0,F.createDrawingInfo)(e.geometryType).renderer;(0,m.setDeepValue)("drawingInfo.renderer",r,e)}return"esriGeometryMultiPatch"===e.geometryType&&e.infoFor3D&&(e.geometryType="mesh"),e}},{key:"_serializeFeature",value:function(e){var t=e.geometry,r=e.attributes;return(0,h.isNone)(t)?{attributes:r}:"mesh"===t.type||"extent"===t.type?null:{geometry:t.toJSON(),attributes:r}}},{key:"_serializeAttachment",value:function(t){var r=this;return s.asyncToGenerator(e(o).mark((function a(){var n,u,s,i,c,l,d,p,y;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.feature,u=t.attachment,s=u.globalId,i=u.name,c=u.contentType,l=u.data,d=u.uploadId,p={globalId:s,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null},n&&(p.parentGlobalId="attributes"in n?n.attributes&&n.attributes[r.layer.globalIdField]:n.globalId),!d){e.next=5;break}p.uploadId=d,e.next=10;break;case 5:if(!l){e.next=10;break}return e.next=8,T(l);case 8:y=e.sent,p.contentType=y.mediaType,p.data=y.data,l instanceof File&&(p.name=l.name);case 10:return e.abrupt("return",(i&&(p.name=i),c&&(p.contentType=c),p));case 11:case"end":return e.stop()}}),a)})))()}},{key:"_getFeatureIds",value:function(e,t){var r=e[0];return r?this._canUseGlobalIds(t,e)?this._getGlobalIdsFromFeatureIdentifier(e):"objectId"in r?this._getObjectIdsFromFeatureIdentifier(e):this._getIdsFromFeatures(e):[]}},{key:"_getIdsFromFeatures",value:function(e){var t=this.layer.objectIdField;return e.map((function(e){return e.attributes&&e.attributes[t]}))}},{key:"_canUseGlobalIds",value:function(e,t){return e&&"globalId"in t[0]}},{key:"_getObjectIdsFromFeatureIdentifier",value:function(e){return e.map((function(e){return e.objectId}))}},{key:"_getGlobalIdsFromFeatureIdentifier",value:function(e){return e.map((function(e){return e.globalId}))}},{key:"_createEditsResult",value:function(e){var t,r=e.data,a=this.layer.layerId,n=[],u=null,s=!0,o=!1,i=void 0;if(Array.isArray(r))try{for(var c,l=r[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var d=c.value;n.push({id:d.id,editedFeatures:d.editedFeatures}),d.id===a&&(u={addResults:d.addResults,updateResults:d.updateResults,deleteResults:d.deleteResults,attachments:d.attachments,editMoment:d.editMoment})}}catch(e){o=!0,i=e}finally{try{s||null==l.return||l.return()}finally{if(o)throw i}}else u=r;var p=null==(t=u)?void 0:t.attachments,y={addFeatureResults:u.addResults?u.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:u.updateResults?u.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:u.deleteResults?u.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:p&&p.addResults?p.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:p&&p.updateResults?p.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:p&&p.deleteResults?p.deleteResults.map(this._createFeatureEditResult,this):[]};if(u.editMoment&&(y.editMoment=u.editMoment),n.length>0){y.editedFeatureResults=[];var f=!0,v=!1,h=void 0;try{for(var m,b=this,g=function(e,t){var r=t.value,a=b,n=r.editedFeatures,u=n.adds,s=n.updates,o=n.deletes,i=n.spatialReference,c=i?new(0,_.default)(i):null;y.editedFeatureResults.push({layerId:r.id,editedFeatures:{adds:(null==u?void 0:u.map((function(e){return a._createEditedFeature(e,c)})))||[],updates:(null==s?void 0:s.map((function(e){return{original:a._createEditedFeature(e[0],c),current:a._createEditedFeature(e[1],c)}})))||[],deletes:(null==o?void 0:o.map((function(e){return a._createEditedFeature(e,c)})))||[],spatialReference:c}})},x=n[Symbol.iterator]();!(f=(m=x.next()).done);f=!0)g(0,m)}catch(e){v=!0,h=e}finally{try{f||null==x.return||x.return()}finally{if(v)throw h}}}return y}},{key:"_createEditedFeature",value:function(e,t){return new(0,c.default)({attributes:e.attributes,geometry:(0,S.fromJSON)(s.objectSpread({},e.geometry,{spatialReference:t}))})}},{key:"_createFeatureEditResult",value:function(e){var t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new(0,p.default)("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}},{key:"_createAttachmentErrorResult",value:function(e,t){var r=t.details.messages&&t.details.messages[0]||t.message,a=t.details.httpStatus||t.details.messageCode;return{objectId:e,globalId:null,error:new(0,p.default)("feature-layer-source:attachment-failure",r,{code:a})}}},{key:"_getFormDataForAttachment",value:function(e,t){var r=e instanceof FormData?e:e&&e.elements?new FormData(e):null;if(r)for(var a in t){var n=t[a];null!=n&&(r.set?r.set(a,n):r.append(a,n))}return r}},{key:"_getLayerRequestOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.layer,r=t.parsedUrl,a=t.gdbVersion,n=t.dynamicDataSource;return s.objectSpread({},e,{query:s.objectSpread({gdbVersion:a,layer:n?JSON.stringify({source:n}):void 0},r.query,{f:"json"},this._createRequestQueryOptions(e)),responseType:"json"})}}]),a}(v.default);(0,i._)([(0,x.property)()],j.prototype,"type",void 0),(0,i._)([(0,x.property)({constructOnly:!0})],j.prototype,"layer",void 0),(0,i._)([(0,x.property)({readOnly:!0})],j.prototype,"queryTask",null);var C=j=(0,i._)([(0,k.subclass)("esri.layers.graphics.sources.FeatureLayerSource")],j)})),r.register("dxhdj",(function(e,a){t(e.exports,"createDrawingInfo",(function(){return c})),t(e.exports,"createDefaultAttributesFunction",(function(){return p})),t(e.exports,"createDefaultTemplate",(function(){return y})),t(e.exports,"createCapabilities",(function(){return f}));var n=r("8TSCy"),u=r("2VlWd"),s=r("flPLJ"),o=r("aNMpQ"),i=r("2iY9n");function c(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?i.defaultPointSymbolJSON:"esriGeometryPolyline"===e?i.defaultPolylineSymbolJSON:i.defaultPolygonSymbolJSON}}}var l=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,d=1;function p(e,t){if((0,u.default)("esri-csp-restrictions"))return function(){return n.objectSpread(n.defineProperty({},t,null),e)};try{var r="this.".concat(t," = null;");for(var a in e)r+="this".concat(l.test(a)?".".concat(a):'["'.concat(a,'"]')," = ").concat(JSON.stringify(e[a]),";");var s=new Function("\n      return class AttributesClass$".concat(d++," {\n        constructor() {\n          ").concat(r,";\n        }\n      }\n    "))();return function(){return new s}}catch(r){return function(){return n.objectSpread(n.defineProperty({},t,null),e)}}}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:(0,s.clone)(e)}}]}function f(e,t){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:o.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}})),r.register("aNMpQ",(function(e,r){t(e.exports,"queryCapabilities",(function(){return a}));var a={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}}))}();
//# sourceMappingURL=FeatureLayerSource.b943ebd1.js.map
